(function(){(function(){try{var d=window.localStorage;window.locStor=d}catch(jj){var d=window.locStor={};
d.setItem=function(W,c){d[W]=c};d.getItem=function(W){return d[W]};d.removeItem=function(W){delete d[W]}}}());
var be=0,dQ={};dQ.ay$=function(d,W){var c=f.YX[f.Fu("%|xK")];if(c==null)return"XYP";var y=d.toString(16).slice(0,4),B=y+W+"aQYRDCB";
return c(B).slice(5,17)+y.split("").reverse().join("")};dQ.nT=function(){var d=f.YX[f.QW("3M"+(f.qg(26)?"]K":"fa"))];
d=d[f.QW("]["+(!f.qg(28)?",":"`"))];return Math.floor(d()/1e3)};dQ.qg=function(d){var W=0;for(var S=0;
S<d;S++)W+=Math.random();return W/d<Math.PI/4};dQ.QW=function(d){var W="";if(!dQ.qg(28))d+="-3";for(var S=0;
S<d.length;S++){var c=d.charCodeAt(S);if(c<32||126<c)throw"e";W+=String.fromCharCode(32+(c-32+17+3*S)%95)}return W};
dQ.Fu=function(d){var W="";if(!dQ.qg(28))d+="-1";for(var S=0;S<d.length;S++){var c=d.charCodeAt(S);c-=32;
c+=95e4;c-=17+3*S;c=c%95;W+=String.fromCharCode(32+c)}return W};dQ.zA=dQ.QW("XP");dQ.nr=dQ.QW("XYP");
dQ.QI=dQ.QW("c[Y");dQ.aAv=dQ.QW("][`");dQ.BC=dQ.QW("SU_");dQ.RW=dQ.QW("b^L");dQ.a2F=dQ.QW("61=");dQ.Ke=dQ.QW("Q[M_");
dQ.n4=dQ.QW("WQJJ");dQ.C0=dQ.QW("W^NL");dQ.$M=dQ.QW("[[JJ");dQ.ace=dQ.QW("[[PU");dQ.Jj=dQ.QW("^\\NT");
dQ.a4v=dQ.QW("bQUL");dQ.og=dQ.QW("bQWJ");dQ.sw=dQ.QW("3M]K");dQ.ahu=dQ.QW("<M]N");dQ.ZX=dQ.QW("][WK");
dQ.rw=dQ.QW("P_bTF");dQ.hr=dQ.QW("RXRIN");dQ.CL=dQ.QW("b`bRH");dQ.K$=dQ.QW("fUMZK");dQ.a76=dQ.QW("Q[]ZRM");
dQ.asF=dQ.QW("WQRMKT");dQ.abm=dQ.QW("WUMJHN");dQ.gE=dQ.QW("XR[GPE");dQ.asE=dQ.QW("aMWJRM");dQ.J3=dQ.QW("bO[OST");
dQ.p1=dQ.QW("cM[MHT");dQ.alx=dQ.QW("^Z5OQE");dQ.I1=dQ.QW("R[WLLRJ");dQ.a4j=dQ.QW("SU\\VOAV");dQ.ak7=dQ.QW("XZMK[/C");
dQ.Mb=dQ.QW("aQYRDCB");dQ.VX=dQ.QW("[[LGWILH");dQ.K8=dQ.QW("S[L[PEKN");dQ.a6=dQ.QW("aQOKURBL");dQ.W3=dQ.QW("aQ\\VRNP?");
dQ.ab0=dQ.QW("XZWKU(1'#");dQ.a0R=dQ.QW("SQLUGE2, ");dQ.aDM=dQ.QW("]M_OJAQII");dQ.B2=dQ.QW("bQ]:LMBILH");
dQ.ahZ=dQ.QW("UU[YW#ECC8");dQ.Du=dQ.QW("cQaZ&OKN<BE");dQ.ab=dQ.QW("P\\YKQD B@@5");dQ.rO=dQ.QW("aQVUYE B@@5");
dQ.L_=dQ.QW("bQ]'WTOC9IE3");dQ.aj$=dQ.QW("XZ\\KUT~?=CC3");dQ.aY=dQ.QW("R^NGWE\"F<A6<?");dQ.aAO=dQ.QW("VQ]+OEJ?EHrGs,");
dQ.qy=dQ.QW("G95.WTM,<EF3><");dQ.ahg=dQ.QW("PZLKVTLL&F:5468");dQ.Kg=dQ.QW("PPM+YEKN#=DB06*4");function bm(d){this.qV={};
this.Qf=0;this.lb();if(d!=!0)window.__kb=this}bm.Ex=null;bm.prototype.lb=function(){var d=navigator.keyboard;
if(d&&window.top==window.self)d.getLayoutMap().then(function(W){bm.Ex=W})};bm.prototype.aeT=function(d){var W={shiftKey:bm.Uo,altKey:bm.Oi,ctrlKey:bm.Z7};
for(var c in W){var y=d[c],B=W[c],r=this.S(B);if(!y&&r){for(var S=0;S<B.CR.length;S++)this.f2(B.CR[S])}}};
bm.prototype.$v=function(d){this.Qf++;this.qV[d]=!0};bm.prototype.f2=function(d){this.Qf--;delete this.qV[d];
if(this.Qf<=0||bm.nl(d,bm.lR))this.reset()};bm.prototype.S=function(d){for(var S=0;S<d.CR.length;S++)if(this.qV[d.CR[S]])return!0;
return!1};bm.prototype.reset=function(){this.qV={};this.Qf=0};bm.prototype.nv=function(d){var W=this,c=W.S(bm.Uo)?10:1,y=0,B=0;
if(W.S(bm.Wj))y=-c;else if(W.S(bm.pe))y=c;else if(W.S(bm.ZN))B=-c;else if(W.S(bm.wL))B=c;var r=new aL(y,B);
if(d!=null){var x=new dT;x.rotate(d);r=x.iC(r);if(Math.abs(r.x)<Math.abs(r.y))r.x=0;else r.y=0;r.x=Math.round(r.x);
r.y=Math.round(r.y)}return r};bm.prototype.zM=function(){var d=this,W=bm.Rq;for(var S=0;S<10;S++)if(d.S(W[S]))return S;
return-1};bm.nl=function(d,W){return W.CR.indexOf(d)!=-1};bm.X2=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
bm.an="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(bm.X2())bm.an.push("ControlLeft","ControlRight");bm.Ui=function(d){var W=d.code;if(W=="")return!1;
var c=bm.nl;if(d.altKey&&!d.shiftKey&&!d.ctrlKey){var y=bm.Rq.concat([bm.CB,bm.d7,bm.FX,bm.DJ]),B=!1;
for(var S=0;S<y.length;S++)if(c(W,y[S]))return!1}return bm.an.indexOf(W)==-1||d.shiftKey&&(W=="F5"||W=="F6")};
bm.aC1=function(d){var W=bm;if(d.ctrlKey&&(W.nl(d.code,W.CB)||W.nl(d.code,W.d7)))d.preventDefault()};
bm.m1=function(d){d.addEventListener("keydown",bm.aC1,!1)};bm.Mv=function(d){if(typeof d=="string")return d;
var W=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(d==null)return"";var c=[];for(var S=0;S<d.length;
S++){var y=d[S].hH?d[S].hH:d[S];if(W&&d[S].sj)y=d[S].sj;c.push(y)}if(W||c.length==1)return c.join(" + ");
else{var B=c.pop();return c.join("+")+" + "+B}};bm.M8=function(d){window.__kb.lb();var W=d.code,c=bm.Ex;
if(c&&c.get(W)){var y={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},B=c.get(W).toLowerCase(),r=B.charCodeAt(0);
if(97<=r&&r<=122){var x="Key"+B.toUpperCase();W=x}else if(y[B])W=y[B];return W}var y={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},B=d.key.toLowerCase(),r=B.charCodeAt(0);
if(B.length==1){if(97<=r&&r<=122){var x="Key"+B.toUpperCase();W=x}else if(y[B])W=y[B]}if(B=="control"&&W!="")W="ControlLeft";
return W};bm.Lv=0;bm.RU=function(d,W){var c=0;if(Date.now()-bm.Lv>1e3){c=W==0?100:W*10}else{if(d%10!=0)d*=10;
c=(d+W)%100}bm.Lv=Date.now();return c};bm.au9={nm:"No Touch",CR:["NoTouch"]};bm.Qy={hH:"Enter",CR:["Enter","NumpadEnter"]};
bm.Uo={hH:"Shift",sj:"\u21E7",CR:["ShiftLeft","ShiftRight"]};bm.lR={hH:"Meta",CR:["MetaLeft","MetaRight","OSLeft","OSRight"]};
bm.Z7={hH:"Ctrl",sj:"\u2318",CR:bm.X2()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
bm.Oi={hH:"Alt",sj:"\u2325",CR:["AltLeft","AltRight"]};bm.a37={hH:"CtrlOrAlt",CR:bm.Z7.CR.concat(bm.Oi.CR)};
bm.Rh={hH:"Escape",CR:["Escape"]};bm.CD={hH:"Space",CR:["Space"]};bm.fW={hH:"Tab",CR:["Tab"]};bm.Dt={hH:"Home",CR:["Home"]};
bm.a1D={hH:"End",CR:["End"]};bm.Wj={hH:"Left",CR:["ArrowLeft"]};bm.ZN={hH:"Up",CR:["ArrowUp"]};bm.pe={hH:"Right",CR:["ArrowRight"]};
bm.wL={hH:"Down",CR:["ArrowDown"]};bm.CB={hH:"+",CR:["NumpadAdd","Equal"]};bm.d7={hH:"-",CR:["NumpadSubtract","Minus"]};
bm.lq={hH:";",CR:["Semicolon"]};bm.akV={hH:"Dead",CR:["Dead"]};bm.a9E={hH:"=",CR:["Equal"]};bm.Vy={hH:"Backspace",CR:["Backspace"]};
bm.y8={hH:"Delete",CR:["Delete"]};bm.abK={hH:"Backslash",CR:["Backslash","IntlBackslash"]};bm.alk={hH:"Slash",CR:["NumpadDivide","Slash"]};
bm.abH={hH:"Backquote",CR:["Backquote"]};bm.FX={hH:"[",CR:["BracketLeft"]};bm.DJ={hH:"]",CR:["BracketRight"]};
bm.bE={hH:".",CR:["Period"]};bm.$O={hH:",",CR:["Comma"]};bm.x3={hH:"'",CR:["Quote"]};bm.H={hH:"A",CR:["KeyA"]};
bm.dG={hH:"B",CR:["KeyB"]};bm.Nc={hH:"C",CR:["KeyC"]};bm.I5={hH:"D",CR:["KeyD"]};bm.E={hH:"E",CR:["KeyE"]};
bm.Zr={hH:"F",CR:["KeyF"]};bm.qk={hH:"G",CR:["KeyG"]};bm.PA={hH:"H",CR:["KeyH"]};bm.kf={hH:"I",CR:["KeyI"]};
bm.Pr={hH:"J",CR:["KeyJ"]};bm.UU={hH:"K",CR:["KeyK"]};bm.ns={hH:"L",CR:["KeyL"]};bm.wH={hH:"M",CR:["KeyM"]};
bm.gP={hH:"N",CR:["KeyN"]};bm.qF={hH:"O",CR:["KeyO"]};bm._r={hH:"P",CR:["KeyP"]};bm.TN={hH:"Q",CR:["KeyQ"]};
bm.HX={hH:"R",CR:["KeyR"]};bm.eE={hH:"S",CR:["KeyS"]};bm.oR={hH:"T",CR:["KeyT"]};bm.hq={hH:"U",CR:["KeyU"]};
bm.lT={hH:"V",CR:["KeyV"]};bm.bp={hH:"W",CR:["KeyW"]};bm.up={hH:"X",CR:["KeyX"]};bm.Ca={hH:"Y",CR:["KeyY"]};
bm.ss={hH:"Z",CR:["KeyZ"]};bm.OL={hH:"0",CR:["Numpad0","Digit0"]};bm.qC={hH:"1",CR:["Numpad1","Digit1"]};
bm.an7={hH:"2",CR:["Numpad2","Digit2"]};bm.aD9={hH:"3",CR:["Numpad3","Digit3"]};bm.aA0={hH:"4",CR:["Numpad4","Digit4"]};
bm.a7j={hH:"5",CR:["Numpad5","Digit5"]};bm.aE3={hH:"6",CR:["Numpad6","Digit6"]};bm.aE1={hH:"7",CR:["Numpad7","Digit7"]};
bm.ad5={hH:"8",CR:["Numpad8","Digit8"]};bm.aaE={hH:"9",CR:["Numpad9","Digit9"]};bm.Rq=[bm.OL,bm.qC,bm.an7,bm.aD9,bm.aA0,bm.a7j,bm.aE3,bm.aE1,bm.ad5,bm.aaE];
bm.atK={hH:"F1",CR:["F1"]};bm.avk={hH:"F2",CR:["F2"]};bm.a8s={hH:"F3",CR:["F3"]};bm.ayC={hH:"FF",CR:["F4"]};
bm.N$={hH:"F5",CR:["F5"]};bm.aBY={hH:"F6",CR:["F6"]};bm.anO={hH:"F7",CR:["F7"]};bm.ael={hH:"F8",CR:["F8"]};
bm.a9p={hH:"F9",CR:["F9"]};bm.avr={hH:"F10",CR:["F10"]};bm.awx={hH:"F11",CR:["F11"]};bm.a5A={hH:"F12",CR:["F12"]};
function eM(d){this.Yi={};this.r9={};this.amV=0;this.aAd={};this.G3=[];this.a1X=0;this.$M=d;eM.Qs=this}eM.aAR=function(d,W){var S=0,c=eM.kV;
while(S<c.length){if((W>>>S&1)==1)break;S++}if(S!=0&&eM.wT(d,[33,126])>.7)S=0;if(W==0||c[S][1]==""){if((W&15)!=0&&eM.wT(d,[33,126])>.7)S=0;
else if(W==0)S=0;else{S=0}}return c[S][1]};eM.KX=120;eM.rg=20;eM.cols=16;eM.s9=function(d){var W=d.name.postScriptName;
if(W==null)return null;return W.replace(/ /g,"-")};eM.sL=function(d){var W=d.name,c=W.typoFamilyName,y=W.typoSubfamilyName,B=c&y,r=B?c:W.fontFamily,x=B?y:W.fontSubfamily;
if(x==null)x="Regular";var Z=eM.aed,i=r.toLowerCase();for(var S=0;S<Z.length;S++){if(Z[S]=="roman")continue;
if(i.endsWith(" "+Z[S])||i.endsWith("-"+Z[S])){var k=r.length-Z[S].length,H=r.slice(k);r=r.slice(0,k-1);
if(H!=""){if(x=="Regular"||x==r+" Regular")x=H;else x=H+" "+x}break}}var V="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var S=0;S<V.length;S++)if(r.startsWith(V[S])){var H=r.slice(V[S].length);r=V[S];if(H.startsWith(" ")||H.startsWith("-"))H=H.slice(1);
if(H!=""){if(x=="Regular")x=H;else x=H+" "+x}break}var g={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},N=g[eM.s9(d)];
if(N)x=N;return[r,x]};eM.prototype.avD=function(d){var W=this.oH();for(var c in W)if(W[c][0]==d)this.FP(c)};
eM.prototype.ahn=function(){return Object.keys(this.r9).length!=0};eM.prototype.FP=function(d,W){if(this.Yi[d])return this.Yi[d];
if(this.r9[d])return null;var c=null,y=this.oH();if(y[d]!=null)c=y[d][5];if(c==null){var B=eM.Mb[d];
if(B==null){var r="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),x=d.toLowerCase(),Z=0;
if(x.indexOf("sans")!=-1)Z=0;else if(x.indexOf("serif")!=-1)Z=4;var i=x.indexOf("bold")!=-1||x.indexOf("-black")!=-1,k=x.indexOf("italic")!=-1||x.indexOf("oblique")!=-1||x.endsWith("-it");
if(i&&k)Z+=3;else if(k)Z+=2;else if(i)Z+=1;B=r[Z]}if(W!=null&&W>128)B=this.Wn(W,B);if(this.aAd[d]==null){this.aAd[d]=1;
var H=Date.now()-this.amV>2e3?2e3:0;this.amV=Date.now();alert(d+" \u27A1 "+B,H)}return this.FP(B,W)}this.r9[d]="a";
if(c=="--loc")eM.Wq.load(d);else this.$M(c)};eM.prototype.Wn=function(d,W,c){var y=this.Yi[W];if(y&&Typr.U.codeToGlyph(y,d)!=0)return W;
var B=this.oH(),r=eM.aoK(d),x=r[0];if(B[W]&&(B[W][3]&x)==0){if(c)for(var S=0;S<c.length;S++){var Z=c[S].Name,i=B[Z];
if(i&&(i[3]&x)!=0)return Z}var Z=eM.kV[r[1]][4];if(B[Z])return Z}return W};eM.aoK=function(d){var W=eM.kV,c=[0];
for(var S=0;S<W.length;S++){var y=W[S][2];for(var B=0;B<y.length;B+=2)if(y[B]<=d&&d<=y[B+1]){c[0]+=1<<S;
c.push(S)}}if(c.length==1)c.push(0);return c};eM.prototype.ahs=function(){var d=this.G3,W=d[0],c=d.length-1;
alert(ay.get([22,6,0])+" "+W+(c==0?"":", ... ("+c+")")+" "+ay.get([23,0])+".",1500);this.G3=[]};eM.prototype.a4e=function(d,W){if(W!=!0){this.G3.push(d.name.fullName);
clearTimeout(this.a1X);this.a1X=setTimeout(this.ahs.bind(this),300)}var c=eM.s9(d),y=this.oH(),B=y[c],r=eM.Sq(d);
if(B==null){r.hR=eM.lt(d,r);this.t_(r)}delete this.r9[c];this.Yi[c]=d};eM.axg=function(){var d=eM.kV,W=[];
for(var S=0;S<d.length;S++)W.push(d[S][0]);return W};eM.lt=function(d,W){var c=document.createElement("canvas"),y=c.getContext("2d"),B=c.width=eM.KX,r=c.height=eM.rg,x=eM.rg*1.2/d.head.unitsPerEm;
y.translate(4,eM.rg*.9);y.scale(x,-x);y.fillStyle="#000000";var Z=Typr.U.shape(d,eM.aAR(d,W[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(d,Z),y);y.fill();var i=y.getImageData(0,0,B,r).data.buffer,k=fd.Ay("PNG").Cy([[i,0]],B,r,[1]);
return"data:image/png;base64,"+fd.Ux(k)};eM.kV=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
eM.Sq=function(d,W,c){var y=d.name,i=0;if(eM.s9(d)==null){console.log(d);throw"No postScriptName!"}var B=eM.kV,r=[];
for(var S=0;S<B.length;S++){var x=B[S][2],Z=B[S][3];r[S]=eM.wT(d,x)>Z?1:0}for(var S=0;S<r.length;S++)i+=r[S]<<S;
var k=eM.sL(d);return[k[0],k[1],eM.s9(d),i,c,W]};eM.wT=function(d,W){var c=0,y=0;for(var B=0;B<W.length;
B+=2){for(var r=W[B];r<=W[B+1];r++){var x=Typr.U.codeToGlyph(d,r);if(x==0)y++;else c++}}return c/(c+y)};
eM.a6f=function(d,W){if(d[2]<W[2])return-1;if(d[2]>W[2])return 1;return 0};eM.aps=function(d,W){if(d[5]=="fs/"+d[2]+".otf")d[5]="";
else if(d[5]=="gf/"+d[2]+".otf")d[5]="a";if(d[2]==(d[0]+"-"+d[1]).replace(/\s/g,"")){d[2]=""}else if(d[2]==d[0].replace(/\s/g,"")){d[2]="a"}if(W){if(d[0]==W[0])d[0]="";
if(d[1]==W[1])d[1]="";if(d[3]==W[3])d[3]="";if(d[4]==W[4])d[4]=""}return d.join(",")};eM.asa=function(d,W){d=d.split(",");
if(d[0]=="")d[0]=W[0];if(d[1]=="")d[1]=W[1];if(d[3]=="")d[3]=W[3];else d[3]=parseInt(d[3]);if(d[4]=="")d[4]=W[4];
else d[4]=parseInt(d[4]);if(d[2]=="")d[2]=(d[0]+"-"+d[1]).replace(/\s/g,"");else if(d[2]=="a")d[2]=d[0].replace(/\s/g,"");
if(d[5]=="")d[5]="fs/"+d[2]+".otf";else if(d[5]=="a")d[5]="gf/"+d[2]+".otf";return d};eM.Mb={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
eM.prototype.oH=function(){if(FNTS.map==null){var d=FNTS.list,W=[];for(var S=0;S<d.length;S++){W[S]=eM.asa(d[S],W[S-1]);
W[S].Wr=S;this.t_(W[S])}}return FNTS.map};eM.prototype.t_=function(d){var W=d[0],c=d[1],y=d[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[d[2]]=d;if(FNTS.mapFS==null)FNTS.mapFS={};var B=FNTS.mapFS[W+"---"+c];FNTS.mapFS[W+"---"+c]=d;
if(FNTS.mapSub==null)FNTS.mapSub={};var r=FNTS.mapSub[W];if(r==null)r=FNTS.mapSub[W]=[];var x=r.indexOf(c);
if(x==-1)r.push(c);else r[x]=c};eM.a02=function(d,W){return eM.A9(d)-eM.A9(W)};eM.A9=function(d){d=d.toLowerCase();
var W=eM.aqJ(d)+(eM.ali(d)<<1);if(d.indexOf("cond")==-1)W+=1<<25;return W};eM.aqJ=function(d){return d.indexOf("italic")!=-1||d.indexOf("oblique")!=-1?1:0};
eM.aed="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
eM.aCk=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
eM.ali=function(d){var W=eM.aCk,c=-1,y=-1;for(var S=0;S<W.length;S++){var B=W[S];if(B instanceof Array)for(var r=0;
r<B.length;r++){var x=B[r];if(d.indexOf(x)!=-1&&(c==-1||y<x.length)){c=S;y=x.length}}else if(d.indexOf(B)!=-1&&(c==-1||y<B.length)){c=S;
y=B.length}}if(c==-1)c=8;return c};eM.Rc=function(d,W){var c=1e9,y=null,B=eM.A9(W);for(var S=0;S<d.length;
S++){var r=Math.abs(eM.A9(d[S])-B);if(r<c){c=r;y=d[S]}}return y};eM.prototype.fP=function(d,W){this.oH();
return FNTS.mapFS[d+"---"+W]};eM.prototype.oQ=function(d){this.oH();return FNTS.mapSub[d]};eM.prototype.eX=function(){this.oH();
return FNTS.mapSub};eM.Wq={x4:null,i7:null};eM.Wq.wa=function(d){eM.Wq.i7=d;var W=window.locStor.localFonts;
if(W){W=fd.bw(W);W=pako.inflate(new Uint8Array(W));W=eM.Wq.x4=JSON.parse(K.uw(W));eM.Wq.LR()}};eM.Wq.load=function(d){var W=window.queryLocalFonts,c=eM.Wq.x4.toPSN,y;
for(var bd in c)if(c[bd].indexOf(d)!=-1)y=bd;W({postscriptNames:[y]}).then(eM.Wq.jX)};eM.Wq.LR=function(){var d=eM.Qs,W=eM.Wq.x4,c=W.imap,y=d.oH();
for(var B in c){if(y[B])continue;var r=c[B].slice(0);r.hR=W.tmap[B];d.t_(r)}};eM.Wq.Lj=function(){var d=eM.Wq.x4,W=pako.deflate(K.$N(JSON.stringify(d))),c=fd.Ux(W.buffer);
console.log(c.length);window.locStor.localFonts=c};eM.Wq.vm=function(){var d=eM.Wq.x4;return d!=null&&d.added};
eM.Wq.OB=function(d,W,c){var y=eM.Wq.x4;if(y){y.added=!y.added;eM.Wq.Lj();eM.Wq.LR();return}var B=window.queryLocalFonts;
if(B==null){alert("This feature is not available in your web browser :(");c();return}B().then(eM.Wq.jX.bind({afh:W,ats:c}))};
eM.Wq.jX=async function(d){if(d.length==0){alert("You didn't allow us to access your fonts.");this.ats();
return}if(d.length==1){var W=await d[0].blob();W=await W.arrayBuffer();fB.Ro({name:"file.otf"},W,eM.Wq.i7);
return}var c=new bR(b.E.V,!0),r=!1;c.data={d:b.H.MJ,Aj:"Loading local fonts ..."};eM.Wq.i7.T(c);var y=Date.now(),B=eM.Wq.x4;
if(B==null)B=eM.Wq.x4={toPSN:{},imap:{},tmap:{},added:!0};var x={};for(var S=0;S<d.length;S++){var Z=d[S],i=Z.postscriptName;
x[i]=!0;if(B.toPSN[i])continue;var W=await Z.blob();W=await W.arrayBuffer();if(fd.$Z(W)!="otf")continue;
var H=Typr.parse(W),V=[];for(var g=0;g<H.length;g++){var N=H[g],C=eM.s9(N);V.push(C);if(B.imap[C])continue;
var w=B.imap[C]=eM.Sq(N,"--loc",0);B.tmap[C]=eM.lt(N,w)}B.toPSN[i]=V;r=!0}for(var i in B.toPSN)if(x[i]==null){var Y=B.toPSN[i];
delete B.toPSN[i];for(var S=0;S<Y.length;S++){delete B.imap[Y[S]];delete B.tmap[Y[S]]}r=!0}if(r){console.log(Date.now()-y);
eM.Wq.Lj();eM.Wq.LR();this.afh()}else console.log("no change");var c=new bR(b.E.V,!0);c.data={d:b.H.Xg,Aj:"Loading local fonts ..."};
eM.Wq.i7.T(c);alert("Local fonts loaded!")};var jj={Io:0,Cp:null,eu:null,Le:null,NJ:null,qL:null,fO:!0,Iu:0,WL:!1};
jj.event=function(d,W){if(W!=null&&W<Math.random())return;var c=new XMLHttpRequest;c.open("GET","/papi/event.php?id="+d+"&rnd="+Math.random());
c.send()};jj.Xf=function(){var d=jj.SA();if(d==null)return null;var W=f.qg(24)?" ":"",c=f.YX[f.Fu("Uu,"+W)];
c=c[f.Fu(W+"$/")];var y=jj.Lq(1,999);if(y&&jj.Fr(y)*50>c()/20)return[0,y];var B=d.inTeams;if(B)for(var S=0;
S<B.length;S++)if(B[S][1]*50>c()/20)return[1,B[S]];return null};jj.zO=function(){return jj.aBu()!=null};
jj.SC=function(){return jj.Fr(jj.Lq(1e3,999999999))};jj.Fr=function(d){return d==null?0:d[0]+d[1]*24*60*60};
jj.Lq=function(d,W){var c=jj.SA(),y=c.pmnts,B=0,r=null;if(y==null||y.length==0)return 0;for(var S=0;
S<y.length;S++){var x=y[S],Z=jj.Fr(x);if(d<=x[2]&&x[2]<=W)if(B<Z){B=Z;r=x}}return r};jj.SA=function(){return jj.qL};
jj.wa=function(d){window.addEventListener("message",jj.ae$,!1);setInterval(jj.Mi,5e3);if(jj.zO()&&navigator.onLine){jj.Cp=d;
jj.h5()}else setTimeout(d,1)};jj.Mi=function(){if(jj.zO()&&jj.WL){jj.sP(jj.nZ());jj.WL=!1}};jj.MP=function(d){jj.Cp=d;
var W="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);jj.Le=window.open(W,"_blank")};
jj.ao4=function(){var d=window.locStor;d.removeItem(jj.Io+"_uid");d.removeItem(jj.Io+"_provider");d.removeItem(jj.Io+"_token");
jj.qL=null};jj.ae$=function(d){if(d.data instanceof ArrayBuffer||d.data instanceof Object)return;if(d.data.charAt(0)!="{")return;
var W=JSON.parse(d.data);if(W.prms==null)return;var c=W.prms.split(",");if(c[0]=="papi_logged_in"){var y=window.locStor;
y[jj.Io+"_uid"]=c[1];jj.FA(c[2]);y[jj.Io+"_provider"]=c[3];jj.Le.close();jj.h5()}if(c[0]=="payment_complete"){jj.NJ.close();
jj.h5()}};jj.aBu=function(){var d=window.locStor[jj.Io+"_token"];if(d!=null&&Date.now()*.001+10<parseInt(d.split("-")[0]))return d;
return null};jj.FA=function(d){var W=window.locStor[jj.Io+"_token"];if(W!=null&&parseInt(d.split("-")[0])<parseInt(W.split("-")[0]))return;
window.locStor[jj.Io+"_token"]=d;clearTimeout(jj.Iu);jj.Iu=setTimeout(jj.ai8,Math.min(1e9,parseInt(d.split("-")[0])*1e3-Date.now()-20*1e3))};
jj.VD=function(d,W,c,y){if(!navigator.onLine)throw"a";var B=new XMLHttpRequest;B.open("POST","https://www.photopea.com/papi/record_new.php",!0);
B.onload=c;var r=jj.wK(0)+"&read=3&tuid="+d+"&tid="+W;if(y)r+="&tpl="+encodeURIComponent(y);B.setRequestHeader("Content-type","application/x-www-form-urlencoded");
B.send(r)};jj.ai8=function(){if(!navigator.onLine)throw"a";var d=new XMLHttpRequest;d.open("POST","https://www.photopea.com/papi/record_new.php",!0);
d.onload=jj.a9H;var W=jj.wK(0)+"&read=2";d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
d.send(W)};jj.h5=function(){if(!navigator.onLine)throw"b";var d=new XMLHttpRequest;d.open("POST","https://www.photopea.com/papi/record_new.php",!0);
d.onload=jj.acI;var W=jj.wK(0)+"&read=1";d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
d.send(W)};jj.sP=function(d){if(!navigator.onLine)throw"c";var W=new XMLHttpRequest;W.open("POST","https://www.photopea.com/papi/record_new.php",!0);
W.onload=jj.abB;var c=jj.wK(0)+"&read=0&score="+(d.tpl?1:0)+"&spublic="+jj.fO+"&record="+encodeURIComponent(JSON.stringify(d));
W.setRequestHeader("Content-type","application/x-www-form-urlencoded");W.send(c)};jj.acI=function(d){var W=JSON.parse(d.target.response);
if(W.error){}else{jj.qL=W.user;var c=jj.nZ(),y=W.record;if(W.record){jj.fO=W.spublic;jj.FD(y)}else if(c)jj.sP(c)}jj.FA(W.token);
if(jj.Cp){jj.Cp();jj.Cp=null}if(jj.eu){jj.eu();jj.eu=null}};jj.a9H=function(d){var W=JSON.parse(d.target.response);
jj.FA(W.token)};jj.abB=function(d){var W=JSON.parse(d.target.response);jj.FA(W.token);if(jj.eu)jj.h5()};
jj.wK=function(d){return"app="+d+"&uid="+window.locStor[jj.Io+"_uid"]+"&token="+window.locStor[jj.Io+"_token"]};
jj.n2=function(){return jj.nZ()};jj.XR=function(d,W){jj.FD(d);jj.WL=!0;if(W){jj.eu=W;jj.Mi()}};jj.nZ=function(){var d=window.locStor[jj.Io+"_stateLocal"],W;
if(d==null)return null;try{W=JSON.parse(d)}catch(jj){return null}return W};jj.FD=function(d){var W=JSON.stringify(d);
window.locStor[jj.Io+"_stateLocal"]=W};jj.order=function(d,W,c){jj.Cp=c;var y="https://www.photopea.com/papi/order.php?ptype="+W+"&param="+d+"&uid="+window.locStor[jj.Io+"_uid"]+"&token="+window.locStor[jj.Io+"_token"];
jj.NJ=window.open(y,"_blank")};jj.afe=function(d,W){jj.Cp=W;var c="https://www.photopea.com/papi/insertKey.php?key="+d+"&uid="+window.locStor[jj.Io+"_uid"]+"&token="+window.locStor[jj.Io+"_token"];
jj.NJ=window.open(c,"_blank")};var ay={};ay.Z4=0;ay.FN={};ay.l0=function(d){var W=LNG.tables,c=W[d];
if(c==null)c=W[0];if(typeof c=="string"){c=W[d]=ay.W$(c)}return c};ay.W$=function(d){var W=[],c=0,y=0,B=[],r=d.length;
while(y!=r){var x=d[y];if(x=="["){W.push(B);B=[];y=c=y+1}else if(x=="]"){B.push(c==y?null:d.substring(c,y));
var Z=B;B=W.pop();B.push(Z);y=c=y+1}else if(x==";"){if(d[y-1]!="]")B.push(c==y?null:d.substring(c,y));
y=c=y+1}else y++}return B};ay.get=function(d){if(typeof d=="string")return d;var W=typeof d[0];if(W=="number"){for(var S=1;
S<d.length;S++)if(typeof d[S]!="number"){console.log(d);throw"e"}return ay.jG(d)}var c=ay.get(d[0]);
for(var S=1;S<d.length;S++){var y=ay.get(d[S]),B=c.indexOf("VAR"+(S-1));c=c.slice(0,B)+y+c.slice(B+4)}return c};
ay.jG=function(d){var W=JSON.stringify(d);if(ay.FN[W]!=null)return ay.FN[W];var c=ay.l0(0),y=ay.l0(ay.Z4),B=ay.Hy(d,y);
if(B==null)B=ay.Hy(d,c);return B};ay.Hy=function(d,W){for(var S=0;S<d.length;S++){W=W[d[S]];if(W==null)return null;
else if(typeof W=="string")break}if(W instanceof Array)W=W[0];return W.split("::")[0]};ay.MI=function(){var d=navigator.languages;
for(var S=0;S<d.length;S++)if(d[S]=="zh-HK"||d[S]=="zh-TW"||d[S]=="zh-MO")d[S]="zh-CHT";return d};ay.ah2=function(){var d=ay.MI(),W=function(y,B){var r=y.code,x=B.code;
if(r=="en")return-1;if(x=="en")return 1;var Z=d.indexOf(r)!=-1,i=d.indexOf(x)!=-1;if(Z&&i)return r>x?1:-1;
if(Z)return-1;if(i)return 1;return r>x?1:-1},c=LNG.langs.slice(0);c.sort(W);return c};ay.AB=function(d,W){ay.Z4=d;
if(LNG.tables[d])W();else{var c=new XMLHttpRequest;c.open("GET","code/lang/"+d+".js");c.onreadystatechange=function(){LNG.tables[d]=c.responseText;
W()};c.send()}};ay.ob=function(d,W){for(var c=0;c<2;c++){var y=!1;for(var S=0;S<LNG.langs.length;S++)if(LNG.langs[S].code==d){ay.AB(S,W);
y=!0}if(y)break;d=d.split("-")[0]}};ay.iR=function(){return LNG.langs[ay.Z4].code};ay.awK=function(d){for(var S=0;
S<d.length;S+=2)if(d[S+1].indexOf(">")==-1)ay.FN[JSON.stringify(d[S])]=d[S+1]};ay.ap6=function(d){var W=-1,c=LNG.langs;
for(var S=0;S<c.length;S++)if(c[S].code==d)W=S;return W};var ah={XW:!1,R9:!1,hO:!1,Ld:null};ah.$f=function(){return f.YX[dQ.QI]!=f.YX[dQ.a4v]};
ah.Cz=function(){var d=f.YX[dQ.K8],W=d[dQ.Ke],c=0,y=dQ.L_,B=f.QW("PP\\KQSB"),r=f.QW("Y_5UDDB>idge"),x=d[dQ.aY](dQ.BC);
x[y](dQ.zA,B);x[y](dQ.CL,f.QW("fUMZKyqifDIhJ0*+&$-OG?<y~>"));W[dQ.ab](x);x=d[dQ.aAO](B);if(x==null){c=2}else{if(!W[f.QW("R[WZDIKM")](x)){c=3}else if(Math.round(x[f.QW("VQ](RUK>@B8p71*03m}x'")]()[dQ.K$]-500)>5){c=4}W[dQ.rO](x)}if(ah.R9)c=5;
if(ah.hO)c=6;return c};ah.ayO=function(d){var W=f.Fu("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),c={method:"HEAD",mode:"no-cors"},y=new Request(W,c);
fetch(y).then(function(B){return B}).then(function(B){var r=f.Fu("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),y=new Request(r);
fetch(y).then(function(B){B.text().then(function(x){d(x.length<2200)})}).catch(function(x){ah.R9=!0;
console.clear();d(!0)})}).catch(function(B){ah.R9=!0;console.clear();d(!0)})};ah.azc=function(){var d=f.QW("UU[YW#ECC8"),W=f.QW("VQ](RUK>@B8p71*03m}x'"),c=f.QW("WQRMKT"),y=this.alO[d][W]();
if(y[c]<4){ah.hO=!0;this.ams(!0)}};ah.awe=function(){var d=f.YX._cwY,W=f.YX[dQ.B2],c="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",y=String.fromCharCode(32);
d(f.QW(c)+y+y+ah.Cz());if(!jj.Xf())W(ah.awe,Math.round(Math.PI*1e4))};ah.G4=function(d){var W=f.YX[dQ.K8],c=W[dQ.aY](d[0]);
for(var y in d[1]){if(y=="txt")c[dQ.Du]=d[1][y];else c[dQ.L_](y,d[1][y])}return c};ah.aDO=function(d,W,c,y){f.qf(c);
var B=f.YX[dQ.K8],r=f.Fu(" u.$%\"86<"),x=f.Fu("!#c$,&"),Z=f.YX[r][x],i=f.YX[f.Fu(" u.$%\"86<")][f.Fu("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!ah.$f()&&!ah.Cz()&&Z&&d*W>300*300&&!i){var k=B[f.QW("VQ]+OEJ?EHDoD{&)l|&z")](dQ.n4)[0],H=JSON.parse(f.Fu("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var S=0;S<H.length;S++){var V=ah.G4(H[H.length-1-S]);k[dQ.aj$](V,k[dQ.ajE])}var g=f.Fu("p}&$2a(:"),N=f.Fu("'#!}i0%+"),C=f.Fu("ps,}$\"40"),w=f.YX.__cbu=ah.G4(JSON.parse(dQ.QW("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
c[dQ.ab](w);f.YX.___ggo=function(){f.YX[C](dQ.Kg,2,function(U,e){if(e&&U[N]==!0){f.YX.__csrf=null;if(!f.YX[g]){f.YX[g]=!0;
var O=ah.aoM.bind({dK:c,head:k,fn:W});O()}}else{f.YX.__csrf=!0}})}}else{var Y=ah.aqC.bind({alO:c,akN:y,fn:W});
Y();setInterval(Y,3e4)}};ah.a7A="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g9450-*'%|oTULpER8J4<9W14(?F9}~u:n{ave][!Z]QhobFOLEEhZW-2M##-x# 8jsn-qah[cz(HWAymghd``M3%(XPJK18+9%,~.xQ|Izuum`EF=a7.7,7O!*$uwon|ttx*cfZqxkPQHlB9B7BZ,5/!#zy(  $f{/hk_v}pzwIRL>@87E==AR+5|'!@}q}(/\"~&xuNyFwrrj]BC:^4+4)4L}'# sn|nqm*cfZqxkPQHlB9B7BZ,51.\"|+| {i~2knby!s}zLUQNB=K=@<X1;#-'F$w$.5(%,~{T L}xxpcHI@d:1:/:R%')'|'| :3locz\"tYZQuKBK@Kc68:8.8.1Ku+>wzn&- *'Y[][Q[QTng@J2<6U3'3=D74;.+c/[-(( rWXOsI@I>Ia<<?+6*\" *B{~r*1$hi`%ZQZOZrMMP<G;31;%:M'*}5</96{xu)ddgS^RJHRj=FARYLIPC@xDpB==5(lmd)^U^S^vRQNJLJ8B@W14(?F9}~u:ofodo(cb_[][ISQ:Ob<?3JQDNK'&#~!~lvt,dnV`ZyWKWah[X_RO(S QLLD7{|s8mdmbm&hZ\\dUTPRP>HF]7:.EL?$%{@uluju.pbdl]\\XZXFPN7L_9<0GNAKH+|~'wvrtr`jh XbJTNmK?KU\\OLSFC{x";
ah.aqC=function(){var d=f.YX[dQ.K8],W=this.alO,c=this.akN,y=ah.Ld,B=this.fn;f.qf(W);var r=f.YX[dQ.Fu(" u.$%\"86<")][dQ.Fu("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,x=y==1?1:ah.ag6(B),Z=JSON.parse(dQ.QW(ah.a7A)),i=d[dQ.aY]("a");
i.textContent=dQ.QW("0PhHOO@E@B8M/-9'\"0}y");i[dQ.L_](dQ.C0,dQ.QW("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
i[dQ.L_](dQ.p1,dQ.Fu("pv${,,"));i[dQ.L_](dQ.CL,dQ.QW("R[UUUyTB@H6h"));if(!r)W[dQ.ab](i);for(var S=0;
S<x;S++){var k=Math.random(),H=0,V=0;while(H+Z[V][0]<k){H+=Z[V][0];V++}if(V==2&&Date.now()>1665160336190)V=0;
if(r)V=1;var g=Z[V],N=d[dQ.aY](dQ.nr);N[dQ.L_](dQ.CL,dQ.QW("Ra[YRRvJF=?B0:_")+dQ.QW(y==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
N[dQ.L_](dQ.RW,g[y]);if(g.length>3){var C=g[3]+g[3+y],i=d[dQ.aY]("a");i[dQ.L_](dQ.C0,C);i[dQ.L_](dQ.p1,dQ.Fu("pv${,,"));
i[dQ.ab](N);W[dQ.ab](i)}else{N[dQ.Kg](dQ.hr,c,!1);W[dQ.ab](N)}}};ah.ag6=function(d){var W=2;if(d>=3*270+30)W=3;
if(d>=4*270+30)W=4;return W};ah.adf=function(d,W){W-=30;var c=[];if(d==0)c.push(9);if(d==1){c.push(1);
W-=600+10;if(W-250>0){c.push(0);W-=250}}if(d==2){if(W-260>0){c.push(2);W-=260}if(W-260>0){c.push(3);
W-=260}if(W-260>0){c.push(4);W-=260}if(W-260>0){c.push(5);W-=260}if(W-260>0){c.push(6);W-=260}if(W-110>0){c.push(7);
W-=110}if(W-60>0){c.push(8);W-=60}}return c};ah.aoM=function(){var d=dQ.ab,W=dQ.L_,c=dQ.Kg,y=dQ.Mb,B=dQ.CL,r=dQ.RW,x=f.QW("P_bTF"),Z=dQ.Du,i=dQ.gE,k=f.YX[dQ.K8],H=dQ.aY,V=dQ.J3,g=this.dK,N=ah.Ld,C=this.head,w=this.fn,Y=f.Fu("~u*\"'/P)9ADBCrlnR]"),U=f.YX.__cbu,l=0;
if(U&&N==0)U[dQ.L_](dQ.CL,"position:absolute; left:124px; bottom:2px");var e=[1/11,10/11],O=Math.random();
while(e[l]<O&&l<e.length-1){O-=e[l];l++}var I=ah.adf(N,w);if(l==0){console.log(0);if(!ah.XW){ah.XW=!0;
for(var S=0;S<2;S++){var s=k[dQ.aY](dQ.J3),z=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][S];
s[dQ.L_](dQ.RW,dQ.Fu(z));s[dQ.L_](dQ.rw,"");C[dQ.ab](s)}var R=JSON.parse(dQ.Fu("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPERK=8BJHLDCDKZ[P')*u53(f81*~' .9R/:=8@<N>Gb#hcX`Ygr,hsvqyu(w!<<?ED/<6nW6;^~filWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmgUiyma@mx{v~z-|&O5=-/5G^bw_dqj\\P Yan_cplS{y( z)k2'-SWlTH<kFRHLYUF_gckgWm|$v(,BF[C7+Z3BBE=OUJ-X^em;css+/D,v\"% ($6&/X3?59FB3HX_URWh $9!$%3H2?q;>KD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$YX`\"``ghl{D?EC'2WA #")),t=R[2]+"\n";
for(var S=0;S<I.length;S++)t+=R[0][I[S]]+"\n";var s=k[dQ.aY](dQ.J3);s[dQ.Du]=t+R[3];C[dQ.ab](s);for(var S=0;
S<I.length;S++){var a=k[dQ.aY](dQ.BC);a[dQ.L_](dQ.zA,R[1][I[S]]);if(I[S]!=0)a[dQ.L_](dQ.CL,R[4][N]);
a[dQ.CL].marginBottom="10px";var s=k[dQ.aY](dQ.J3),t=dQ.Fu("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+R[1][I[S]]+"'); });";
s[dQ.Du]=t;a[dQ.ab](s);g[dQ.ab](a)}}}else{console.log(1);var s=k[H](V);s[W](r,f.Fu("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
s[W](dQ.rw,"");C[d](s);var J=JSON.parse(f.Fu("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<"));
for(var S=0;S<I.length;S++){var a=k[H](f.QW("SU_"));a[W](dQ.zA,J[I[S]]);a[W](B,Y);g[d](a)}}if(U)g[d](U)};
ah.BK=function(d,W,c){clearInterval(ah.nM);ah.os=d;ah.zA=c?c:"default";if(ah.ase==null){ah.ase=!0;var y=f.YX[dQ.K8],B=y[dQ.Ke],r=y[f.QW("VQ]+OEJ?EHDoD{&)l|&z")](dQ.n4)[0],x=[0,1/11,10/11],Z=Math.random(),i=0;
while(x[i]<Z&&i<x.length-1){Z-=x[i];i++}if(ah.Ld!=0)i=2;ah.a0L=i;console.log("===",i);if(i==0){var k=y[dQ.aY](dQ.BC);
k[dQ.L_](dQ.zA,"applixir_vanishing_div");k[dQ.L_](dQ.abm,"");var H=y[dQ.aY](dQ.gE);H[dQ.L_](dQ.zA,"applixir_parent");
k[dQ.ab](H);B[dQ.ab](k);k[dQ.L_](dQ.CL,"z-index:1000");var V=y[dQ.aY](dQ.J3);V[dQ.L_](dQ.RW,"//cdn.applixir.com/applixir.sdk3.0m.js");
B[dQ.ab](V)}else if(i==1||i==2){var V=y[dQ.aY](dQ.J3);V[dQ.L_](dQ.RW,"//www.googletagservices.com/tag/js/gpt.js");
r[dQ.ab](V);var V=y[dQ.aY](dQ.J3);V[dQ.Du]="window.googletag = window.googletag || {cmd: []};";r[dQ.ab](V)}}if(W==null)W="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account to remove ads.";
var g=window.confirm(W);if(!g)return;ah.nM=setInterval(ah.atT,50)};ah.atT=function(){var d=ah.a0L;if(d==0){if(window.invokeApplixirVideoUnit==null)return;
var W={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:ah.a9g,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(W)}else if(d==1||d==2){var c={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg"}[ah.zA];
if(d==1)c="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var y=window.googletag;if(y==null)return;
y.cmd.push(function(){var B=y.defineOutOfPageSlot(c,y.enums.OutOfPageFormat.REWARDED).addService(y.pubads());
y.enableServices();y.pubads().addEventListener("rewardedSlotReady",function(r){r.makeRewardedVisible()});
y.pubads().addEventListener("rewardedSlotGranted",function(){if(ah.os)ah.os();ah.os=null});y.display(B);
y.pubads().refresh([B])})}clearInterval(ah.nM)};ah.a9g=function(d){if(d=="ad-watched")setTimeout(ah.os,100);
console.log(d)};var bJ={tq:-2,zN:{expires_at:0},uV:[]};bJ.Zy=function(d){if(d)bJ.uV.splice(0,0,d);if(bJ.tq==-2){bJ.tq=-1;
var W=document.createElement("script");W.src="//apis.google.com/js/client.js";document.body.appendChild(W);
W.onload=function(c){setTimeout(function(){bJ.tq=0;bJ.Zy()},100)}}if(bJ.tq==-1)return;if(bJ.tq==1)return;
if(bJ.zN.expires_at>Date.now()*.001+30){while(bJ.uV.length>0)bJ.uV.pop()()}else{if(bJ.tq==0)bJ.tq=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:bJ.tq==2?!1:!0},bJ.aep)})}};
bJ.aep=function(d){if(d&&!d.error){bJ.zN=d;bJ.tq=!1;bJ.Zy()}else if(bJ.tq==1){bJ.tq=2;bJ.Zy()}else alert("Error: "+d.error)};
bJ.Pj=function(){return"access_token="+bJ.zN.access_token+"&token_type="+bJ.zN.token_type};bJ.uD=function(){return bJ.zN.token_type+" "+bJ.zN.access_token};
function aL(d,W){if(!d)d=0;if(!W)W=0;this.x=d;this.y=W}aL.prototype.add=function(d){return new aL(this.x+d.x,this.y+d.y)};
aL.prototype.clone=function(){return new aL(this.x,this.y)};aL.prototype.y2=function(d){this.x=d.x;this.y=d.y};
aL.prototype.zI=function(d){return this.x==d.x&&this.y==d.y};aL.prototype.normalize=function(d){var W=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=d/W;this.y*=d/W};aL.prototype.offset=function(d,W){this.x+=d;this.y+=W};aL.prototype.sq=function(d,W){this.x=d;
this.y=W};aL.prototype.Sa=function(d){return new aL(this.x-d.x,this.y-d.y)};aL.Bg=function(d,W){return aL.a6e(d.x,d.y,W.x,W.y)};
aL.A2=function(d,W,c){return new aL(d.x+c*(W.x-d.x),d.y+c*(W.y-d.y))};aL.ah7=function(d,W){return new aL(d*Math.cos(W),d*Math.sin(W))};
aL.a6e=function(d,W,c,y){return Math.sqrt((c-d)*(c-d)+(y-W)*(y-W))};aL.E3={};aL.Qz={};aL.E3.create=function(){var d=new Float32Array(4);
return d};aL.Qz.create=function(d){var W=new Float32Array(16);W[0]=W[5]=W[10]=W[15]=1;if(d)aL.Qz.set(d,W);
return W};aL.E3.add=function(d,W,c){c[0]=d[0]+W[0];c[1]=d[1]+W[1];c[2]=d[2]+W[2];c[3]=d[3]+W[3]};aL.E3.set=function(d,W){W[0]=d[0];
W[1]=d[1];W[2]=d[2];W[3]=d[3]};aL.Qz.set=function(d,W){W[0]=d[0];W[1]=d[1];W[2]=d[2];W[3]=d[3];W[4]=d[4];
W[5]=d[5];W[6]=d[6];W[7]=d[7];W[8]=d[8];W[9]=d[9];W[10]=d[10];W[11]=d[11];W[12]=d[12];W[13]=d[13];W[14]=d[14];
W[15]=d[15]};aL.Qz.multiply=function(d,W,c){var y=d[0],B=d[1],r=d[2],x=d[3],Z=d[4],i=d[5],k=d[6],H=d[7],V=d[8],g=d[9],N=d[10],C=d[11],w=d[12],Y=d[13],U=d[14],e=d[15],O=W[0],l=W[1],I=W[2],s=W[3];
c[0]=O*y+l*Z+I*V+s*w;c[1]=O*B+l*i+I*g+s*Y;c[2]=O*r+l*k+I*N+s*U;c[3]=O*x+l*H+I*C+s*e;O=W[4];l=W[5];I=W[6];
s=W[7];c[4]=O*y+l*Z+I*V+s*w;c[5]=O*B+l*i+I*g+s*Y;c[6]=O*r+l*k+I*N+s*U;c[7]=O*x+l*H+I*C+s*e;O=W[8];l=W[9];
I=W[10];s=W[11];c[8]=O*y+l*Z+I*V+s*w;c[9]=O*B+l*i+I*g+s*Y;c[10]=O*r+l*k+I*N+s*U;c[11]=O*x+l*H+I*C+s*e;
O=W[12];l=W[13];I=W[14];s=W[15];c[12]=O*y+l*Z+I*V+s*w;c[13]=O*B+l*i+I*g+s*Y;c[14]=O*r+l*k+I*N+s*U;c[15]=O*x+l*H+I*C+s*e;
return c};aL.Qz.inverse=function(d,W){var c=d[0],y=d[1],B=d[2],r=d[3],x=d[4],Z=d[5],i=d[6],k=d[7],H=d[8],V=d[9],g=d[10],N=d[11],C=d[12],w=d[13],Y=d[14],U=d[15],e=c*Z-y*x,O=c*i-B*x,l=c*k-r*x,I=y*i-B*Z,s=y*k-r*Z,z=B*k-r*i,R=H*w-V*C,t=H*Y-g*C,a=H*U-N*C,J=V*Y-g*w,F=V*U-N*w,h=g*U-N*Y,m=e*h-O*F+l*J+I*a-s*t+z*R;
if(!m){return null}m=1/m;W[0]=(Z*h-i*F+k*J)*m;W[1]=(B*F-y*h-r*J)*m;W[2]=(w*z-Y*s+U*I)*m;W[3]=(g*s-V*z-N*I)*m;
W[4]=(i*a-x*h-k*t)*m;W[5]=(c*h-B*a+r*t)*m;W[6]=(Y*l-C*z-U*O)*m;W[7]=(H*z-g*l+N*O)*m;W[8]=(x*F-Z*a+k*R)*m;
W[9]=(y*a-c*F-r*R)*m;W[10]=(C*s-w*l+U*e)*m;W[11]=(V*l-H*s-N*e)*m;W[12]=(Z*t-x*J-i*R)*m;W[13]=(c*J-y*t+B*R)*m;
W[14]=(w*O-C*I-Y*e)*m;W[15]=(H*I-V*O+g*e)*m;return W};aL.Qz.ad8=function(d,W,c){var y=W[0],B=W[1];c[0]=y*d[0]+B*d[4]+d[12];
c[1]=y*d[1]+B*d[5]+d[13]};aL.Qz.ad_=function(d,W,c){var y=W[0],B=W[1],r=W[2],x=W[3];c[0]=d[0]*y+d[4]*B+d[8]*r+d[12]*x;
c[1]=d[1]*y+d[5]*B+d[9]*r+d[13]*x;c[2]=d[2]*y+d[6]*B+d[10]*r+d[14]*x;c[3]=d[3]*y+d[7]*B+d[11]*r+d[15]*x};
function a8(d,W,c,y){if(!d)d=0;if(!W)W=0;if(!c)c=0;if(!y)y=0;this.x=d;this.y=W;this.m=c;this.i=y}a8.prototype.P=function(){return this.m*this.i};
a8.prototype.clone=function(){return new a8(this.x,this.y,this.m,this.i)};a8.prototype.contains=function(d,W){return d>=this.x&&d<=this.x+this.m&&(W>=this.y&&W<=this.y+this.i)};
a8.prototype.Ce=function(d){return this.contains(d.x,d.y)};a8.prototype.M_=function(d){return this.x<=d.x&&this.y<=d.y&&d.x+d.m<=this.x+this.m&&d.y+d.i<=this.y+this.i};
a8.prototype.y2=function(d){this.x=d.x;this.y=d.y;this.m=d.m;this.i=d.i};a8.prototype.zI=function(d){return this.x==d.x&&this.y==d.y&&this.m==d.m&&this.i==d.i};
a8.prototype.Lx=function(d,W){this.x-=d;this.y-=W;this.m+=2*d;this.i+=2*W};a8.prototype.aff=function(d){this.Lx(d.x,d.y)};
a8.prototype.nK=function(d){var W=Math.max(this.x,d.x),c=Math.max(this.y,d.y),y=Math.min(this.x+this.m,d.x+d.m),B=Math.min(this.y+this.i,d.y+d.i);
if(y<W||B<c)return new a8;else return new a8(W,c,y-W,B-c)};a8.prototype.rC=function(d){if(d.y+d.i<this.y||d.x>this.x+this.m||d.y>this.y+this.i||d.x+d.m<this.x)return!1;
return!0};a8.prototype.Bb=function(){return this.m<=0||this.i<=0};a8.prototype.offset=function(d,W){this.x+=d;
this.y+=W};a8.prototype.en=function(d){this.offset(d.x,d.y)};a8.prototype.a5x=function(){this.x=this.y=this.m=this.i=0};
a8.prototype.sq=function(d,W,c,y){this.x=d;this.y=W;this.m=c;this.i=y};a8.prototype.hB=function(d){if(this.Bb())return d.clone();
if(d.Bb())return this.clone();var W=this.clone();W.a6c(d);return W};a8.d3=new Float32Array(2);a8.prototype.a6c=function(d){if(d.Bb())return;
if(this.Bb()){this.y2(d);return}this.TW(d.x,d.y);this.TW(d.x+d.m,d.y+d.i)};a8.prototype.TW=function(d,W){var c=Math.min(this.x,d),y=Math.min(this.y,W);
this.m=Math.max(this.x+this.m,d)-c;this.i=Math.max(this.y+this.i,W)-y;this.x=c;this.y=y};a8.prototype.ay6=function(d,W){this.x=d;
this.y=W;this.m=this.i=0};function dT(d,W,c,y,B,r){if(typeof d==="undefined"){d=1;W=0;c=0;y=1;B=0;r=0}this.U=d;
this.J=W;this.gp=c;this.x7=y;this.IS=B;this.rk=r}dT.prototype.dV=function(){return Math.sqrt(Math.abs(this.U*this.x7-this.J*this.gp))};
dT.prototype.aac=function(){var d=this,W=function(c){return Math.abs(c)<1e-9?0:c};d.U=W(d.U);d.J=W(d.J);
d.gp=W(d.gp);d.x7=W(d.x7);d.IS=W(d.IS);d.rk=W(d.rk)};dT.prototype.iC=function(d){return new aL(d.x*this.U+d.y*this.gp+this.IS,d.x*this.J+d.y*this.x7+this.rk)};
dT.prototype.translate=function(d,W){this.IS+=d;this.rk+=W};dT.prototype.rotate=function(d){var W=new dT(Math.cos(d),-Math.sin(d),Math.sin(d),Math.cos(d),0,0);
this.concat(W)};dT.prototype.scale=function(d,W){var c=new dT(d,0,0,W,0,0);this.concat(c)};dT.prototype.concat=function(d){this.y2(new dT(this.U*d.U+this.J*d.gp,this.U*d.J+this.J*d.x7,this.gp*d.U+this.x7*d.gp,this.gp*d.J+this.x7*d.x7,this.IS*d.U+this.rk*d.gp+d.IS,this.IS*d.J+this.rk*d.x7+d.rk))};
dT.prototype.QE=function(){var d=this.U*this.x7-this.J*this.gp;this.y2(new dT(this.x7/d,-this.J/d,-this.gp/d,this.U/d,(this.gp*this.rk-this.x7*this.IS)/d,(this.J*this.IS-this.U*this.rk)/d))};
dT.prototype.clone=function(){return new dT(this.U,this.J,this.gp,this.x7,this.IS,this.rk)};dT.prototype.y2=function(d){this.U=d.U;
this.J=d.J;this.gp=d.gp;this.x7=d.x7;this.IS=d.IS;this.rk=d.rk};function fd(){}fd.Ua={aAX:"PNG JPG SVG GIF MP4 PDF".split(" "),azW:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
fd._f=function(d,W){var c=d.memory.buffer.byteLength;if(c<W)d.memory.grow((W-c>>>16)+1)};fd.bj={so:function(d,W){fetch(d).then(function(c){return c.arrayBuffer()}).then(function(c){var y=new Uint8Array(c),B=0,i="";
if(W){B=y.length;var r={level:9},x=pako.deflateRaw(y,r),Z=UZIP.deflateRaw(y,r);console.log(B,x.length,Z.length);
y=x.length<Z.length?x:Z}for(var S=0;S<y.length;S++)i+=String.fromCharCode(y[S]);var k=btoa(i);console.log(JSON.stringify([B,k]))})},get:function(d,W){var c=BINDB[d],y=Date.now(),B=atob(c[1]),r=B.length,x=new Uint8Array(r);
for(var S=0;S<r;S++)x[S]=B.charCodeAt(S);if(c[0]!=0){var Z=new Uint8Array(c[0]);UZIP.inflateRaw(x,Z);
x=Z}if(W){var i=fd.$Z(x.buffer);x=fd.Ay(i).Pd(x.buffer)}return x}};fd.$Z=function(d){if(!(d instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var W=new Uint8Array(d),c=fd.DI,y,B=0,r=W.length-1;
if(c(W,[239,187,191]))B=3;while(B<W.length&&(W[B]==9||W[B]==10||W[B]==13||W[B]==32))B++;while(r!=0&&(W[r]==9||W[r]==10||W[r]==13||W[r]==32))r--;
if(c(W,[56,66,80,83]))y="psd";if(c(W,[6,6,237,245]))y="indd";if(c(W,[68,73,67,77],128))y="dcm";if(c(W,[102,116,121,112,109,105,102,49],4)||c(W,[102,116,121,112,97,118,105,102],4))y="avif";
if(c(W,[102,116,121,112,105,115,111,109],4))y="mp4";if(c(W,[102,116,121,112,109,112,52,50],4))y="mp4";
if(c(W,[102,116,121,112,113,116,32,32],4))y="mp4";if(c(W,[102,116,121,112,99,114,120,32],4))y="cr3";
if(c(W,[0,255,75,65]))y="afphoto";if(c(W,[67,83,70,67,72,85,78,75]))y="clip";if(c(W,[70,82,65,67]))y="frac";
if(c(W,[120]))y="pxd";if(c(W,[80,68,78,51]))y="pdn";if(c(W,[103,105,109,112,32,120,99,102,32]))y="xcf";
if(c(W,[102,105,103,45,107,105,119,105]))y="fig";if(c(W,[105,99,110,115]))y="icns";if(c(W,[137,80,78,71,13,10,26,10])){y="png";
var x=8;while(x<W.length){var Z=K.q(W,x);x+=4;var i=K.xA(W,x,4);x+=4;if(i=="mkTS")y="fpng";x+=Z+4}}if(c(W,[87,76]))y="cdr";
if(c(W,[82,73,70,70])){var k=jJ.Nr(W),H=k.sy;if(H=="WEBP")y="webp";else if(H.slice(0,3)=="CDR")y="cdr";
else y=H}if(c(W,[70,79,82,77])||c(W,[70,79,82,52])||c(W,[76,73,83,84])||c(W,[67,65,84,32])){var k=dm.Nr(W),H=k.sy;
if(H=="ILBM"||H=="CIMG"||H=="ANIM")y="ilbm";else y=H}if(c(W,[255,216,255]))y="jpg";if(c(W,[0,0,0,12,106,80,32,32]))y="jpg";
if(c(W,[48,0,1,0],4))y="jb2";if(c(W,[71,73,70,56]))y="gif";if(c(W,[0,0,0,2,121,102,113,76]))y="msh";
if(c(W,[0,0,0,3,121,102,113,76]))y="msh";if(c(W,[0,0,0,16]))y="atn";if(c(W,[0,1]))y="aco";if(c(W,[0,2]))y="aco";
if(c(W,[65,83,69,70]))y="aco";if([0,1].indexOf(W[1])!=-1&&[1,2,3,9,10,11].indexOf(W[2])!=-1&&[0,16,24,32].indexOf(W[7])!=-1)y="tga";
if(c(W,[0,2,56,66,83,76]))y="asl";if(c(W,[0,1,0,-1,0,2,0]))y="abr";if(c(W,[0,2,0,-1,0,2,0]))y="abr";
if(c(W,[0,6,0,1]))y="abr";if(c(W,[0,6,0,2]))y="abr";if(c(W,[0,7,0,2]))y="abr";if(c(W,[0,9,0,2]))y="abr";
if(c(W,[0,10,0,2]))y="abr";if(c(W,[56,66,70,83]))y="shc";if(c(W,[56,66,80,84]))y="pat";if(c(W,[56,66,71,82]))y="grd";
if(c(W,[71,73,77,80,32,71,114,97]))y="grd";if(c(W,[56,66,84,80]))y="tpl";if(c(W,[0,4,0,5]))y="acv";if(c(W,[99,117,115,104]))y="csh";
if(c(W,[0,1,0,0,0]))y="otf";if(c(W,[79,84,84,79]))y="otf";if(c(W,[116,116,99,102]))y="otf";if(c(W,[68,68,83,32]))y="dds";
if(c(W,[80,86,82,3]))y="pvr";if(c(W,[86,84,70,0]))y="vtf";if(c(W,[83,73,77,80]))y="fits";if((c(W,[0,0,1,0])||c(W,[0,0,2,0]))&&W[4]!=0)y="ico";
if(c(W,[66,77]))y="bmp";if(c(W,[40,0,0,0]))y="bmp";if(c(W,[80,49]))y="ppm";if(c(W,[80,50]))y="ppm";if(c(W,[80,51]))y="ppm";
if(c(W,[80,52]))y="ppm";if(c(W,[80,53]))y="ppm";if(c(W,[80,54]))y="ppm";if(c(W,[73,73,42,0]))y="tiff";
if(c(W,[77,77,0,42]))y="tiff";if(c(W,[73,73,85,0]))y="tiff";if(c(W,[73,73,82,83]))y="tiff";if(c(W,[73,73,82,79]))y="tiff";
if(c(W,[70,85,74,73,70,73,76,77]))y="raf";if(c(W,[112]))y="lif";if(c(W,[73,73,26,0]))y="ciff";if(c(W,[83,81,76,105]))y="sketch";
if(c(W,[80,75])){var V=UZIP.parse(d,!0);if(V["document.json"])y="sketch";else if(V.manifest)y="xd";else if(V["maindoc.xml"])y="kra";
else if(V["content/root.dat"])y="cdr";else if(V["content/riffData.cdr"])y="cdr";else if(V["canvas.fig"])y="fig";
else if(V["manifest.json"])y="pxz";else y="zip"}if(c(W,[123]))y="json";if(K.q(W,0)==W.length)y="icc";
if(c(W,[35]))y="icc";if(c(W,[84,73,84,76],B))y="icc";if(c(W,[76,85,84,95],B))y="icc";if(c(W,[60,63,120,109],B)){if(K.J7(W,"<look>")!=-1)y="icc";
else y="svg"}if(c(W,[255,254,60,0],B))y="svg";if(c(W,[60,115,118,103],B))y="svg";if(c(W,[60,33,100,111],B)||c(W,[60,33,68,79],B)||c(W,[60,33,45,45],B)){if(K.J7(W,"<svg")!=-1)y="svg";
else y="html"}if(c(W,[37,33])||c(W,[197,208,211,198])){if(K.J7(W,"%AI9_PrivateDataBegin")!=-1||K.J7(W,"%AI5_BeginLayer")!=-1)y="ai";
else y="eps"}if(c(W,[37,80,68,70],B)){var g=K.J7(W,"/AIMetaData ");if(g!=-1){if(K.J7(W,">>/Encrypt ",g)!=-1)y="pdf";
else y="ai"}else y="pdf"}else if(c(W,[10,69,79,70],r-3))y="dxf";if(c(W,[1,0,9,0]))y="wmf";if(c(W,[215,205,198,154]))y="wmf";
if(c(W,[1,0,0,0]))y="emf";if(c(W,[118,47,49,1]))y="exr";if(c(W,[10,10,10,10]))y="jsx";if(c(W,[77,90]))y="exe";
if(y==null&&v.raw.Fl(W.length)!=null)return"tiff";return y};fd.DI=function(d,W,c){if(c==null)c=0;for(var S=0;
S<W.length;S++)if(W[S]!=-1&&d[c+S]!=W[S])return!1;return!0};fd.Ay=function(d){var W={BMP:fd.a3t,CDR:fd.Di,DDS:fd.sz,EMF:fd.Ya,DXF:fd.Nk,EPS:fd.JF,FIG:fd.mr,FPNG:fd.Aq,INDD:fd.go,GIF:fd.v6,ICO:fd.si,ILBM:fd.ak1,FITS:fd.ag8,EXR:fd.aob,JPG:fd.bq,LIF:fd.Rx,DCM:fd.azN,PDF:fd.XE,PDN:fd.ty,PNG:fd.z7,ICNS:fd.aip,PPM:fd.zC,PSD:fd.mN,PXD:fd.nN,PXZ:fd.Ey,RAF:fd.Ns,CR3:fd.s6,RAW:fd.pI,SKETCH:fd.MU,SVG:fd.Tv,TGA:fd.ip,AVIF:fd.ah_,TIFF:fd._H,VTF:fd.tF,WEBP:fd.ZL,WMF:fd._G,XCF:fd.e6,XD:fd.uK,KRA:fd.cS,EXE:fd.azm,AI:fd.MQ,AFPHOTO:fd.vr,CLIP:fd.nR,FRAC:fd.he,MP4:fd.a5G};
return W[d.toUpperCase()]};fd.xs=function(S){var d=fd.Ua.aAX,W=fd.Ua.azW,c,y=[];if(S==null)c=d.concat(W);
else c=S==0?d:W;for(var S=0;S<c.length;S++)if(fd.Ay(c[S]).Cy)y.push(c[S]);return y};fd.a6Y=function(){var d;
function W(y){var B=y.target,r=B.width,x=B.height,Z=document.createElement("canvas");Z.width=r;Z.height=x;
var i=Z.getContext("2d");i.drawImage(B,0,0);d({H2:new a8(0,0,r,x),data:i.getImageData(0,0,r,x).data.buffer})}function c(y,B,r){d=r;
var x=document.createElement("img");x.onload=W;x.src="data:"+B+";base64,"+fd.Ux(y)}return c}();fd.Hz=function(d,W,c,y,B){var r=fd.pc(d,W,c,y,B),x=fd.LC(r);
return x.buffer};fd.LC=function(d){var W=atob(d.split(",").pop()),c=new Uint8Array(W.length);for(var S=0;
S<W.length;S++)c[S]=W.charCodeAt(S);return c};fd.pc=function(d,W,c,y,B,r){if(!(d instanceof ArrayBuffer))throw"e";
if(y==null)y="png";if(y=="png"&&r==!0){var x=fd.Ay("PNG").Cy([[d,0]],W,c);return"data:image/png;base64,"+fd.Ux(x)}var Z=fd.Px;
if(Z==null)Z=fd.Px=document.createElement("canvas");if(Z.width!=W||Z.height!=c){Z.width=W;Z.height=c}var i=Z.getContext("2d"),k=new ImageData(new Uint8ClampedArray(d,0,W*c*4),W,c);
i.putImageData(k,0,0);return Z.toDataURL("image/"+y,B)};fd.a6v=function(d,W,c,y,B){if(B==null)B=0;var r="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",x="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+r+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(d==1)x+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
x+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+B+")\" xlink:href=\""+W+"\" x=\""+80*c+"\" y=\""+80*y+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var Z=new Uint8Array(x.length);K.wP(x,Z,0);var i="data:image/svg+xml;base64,"+fd.Ux(Z.buffer);return{hl:i,qe:new a8(0,0,128,128),Mh:new aL(64,64)}};
fd.Ux=function(d){var W=new Uint8Array(d),c="";for(var S=0;S<W.length;S++)c+=String.fromCharCode(W[S]);
return btoa(c)};fd.bw=function(d){var W=atob(d),c=W.length,y=new Uint8Array(c);for(var S=0;S<c;S++)y[S]=W.charCodeAt(S);
return y.buffer};fd.CQ=function(d){var W=[],c=[];for(var S=0;S<d.B.length;S++){var y=d.B[S];if(y.getName().slice(0,3)=="_a_"){W.push(S);
c.push(y.jF())}}return[W,c]};fd.OR=function(d,W,c,y,B,r){if(c==null)c=d.m;if(y==null)y=d.i;var x=new a8(0,0,d.m,d.i),Z=new dT(c/(d.m+.001),0,0,y/(d.i+.001),0,0),k;
W=W.toUpperCase();var i=fd.Ay(W);if(i.IX){k=i.Cy(d,c,y,B,r)}else if(be==1){var H=d.a7$(c,y,r);k=i.Cy([[H,0,d.tU,d.RO]],c,y,B)}else{if(B)B=B.slice(0);
var V=fd.CQ(d),g=V[0],N=V[1],C=d.iB(),w=C&&B?B.pop():!1,Y=C&&!w?C[0]:null,U=null;if(d.iv.length!=0){U=[];
for(var S=0;S<d.iv.length;S++)U.push(d.iv[S].OU(x))}if(g.length<2){var e=fd.k4(d.Li(),C,w,d),O;if(c==d.m&&y==d.i)O=e.buffer;
else{var l=X.X.Wf([e,x],Z);O=l.buffer.buffer;if(U){var I=v.R(x.P()*4);for(var S=0;S<U.length;S++){v.nP(U[S],I,3);
var l=X.X.Wf([I,x],Z),s=U[S]=v.R(l.rect.P());v.$P(l.buffer,s,3)}}}k=i.Cy([[O,0,d.tU,d.RO,U,Y]],c,y,B)}else{var z=[];
for(var S=0;S<g.length;S++){var R=g[S],O;for(var t=0;t<g.length;t++)d.B[g[t]].vI(g[t]==R);d.zv();d.W();
d.pM();if(c==d.m&&y==d.i)O=d.Li().buffer.slice(0);else{var l=X.X.Wf([d.Li(),x],Z);O=l.buffer.buffer}O=fd.k4(new Uint8Array(O),C,w,d).buffer;
var a=d.B[R].getName().split(",");z.push([O,a[1]?parseInt(a[1]):100,d.tU,d.RO,U,Y])}for(var S=0;S<g.length;
S++)d.B[g[S]].vI(N[S]);d.W();d.pM();if(B){B.push(100);var J=B.length,F=B[J-3],h=B[J-2],m=B[J-5]/100,D=B[J-1]/100;
if(m!=1)for(var S=0;S<z.length;S++)z[S][1]=Math.round((z[S][1]==0?16:z[S][1])/m);if(D<1){var _=0,n=[],L=0,t=0;
for(var S=0;S<z.length;++S){_+=z[S][1];if(S>0){n.push(n[n.length-1]+z[S-1][1])}else{n.push(0)}}var j=D*z.length,T=_/j,p=[];
for(var S=0;S<j;++S){var E=0;while(L>n[t]&&t+1<z.length){E+=z[t][1];++t}if(E!=0){var G=Math.round(Math.min(1,(n[t]-L)/z[t][1])*E);
p[p.length-1][1]+=E-G;if(z[t][1]<z[t-1][1]/2){p.push(z[t-1])}else{p.push(z[t])}p[p.length-1][1]=z[t][1]+G}else if(t<z.length){p.push(z[t])}L+=T;
++t}while(t<z.length){p[p.length-1][1]+=z[t][1];++t}z=p}if(F)z.reverse();if(h){var A=z.slice(1,z.length-1);
A.reverse();z=z.concat(A)}}k=i.Cy(z,c,y,B)}}return k};fd.k4=function(d,W,c,y){var B=y.ds();if(c){d=d.slice(0);
ICC.U.applyLUT(W[3],W[2],d,d)}else if(B&&y.add.fcmy==1){d=d.slice(0);ICC.U.applyLUT(B[y.add.fcmy==1?5:3],B[2],d,d)}return d};
fd.aDD=function(d,W){var c=new Uint8Array(d.data),y=new Uint8Array(W.data),B=0,r=0;for(var x=0;x<c.length;
x+=4){var Z=c[x]-y[x],i=c[x+1]-y[x+1],k=c[x+2]-y[x+2],H=c[x+3]-y[x+3],V=Z*Z+i*i+k*k+H*H>>>2;B+=V;if(V>25)r++}var g=r/d.H2.P()<1e-4;
return g};fd.ge=function(d,W){var c=W[0].l6&&W[0].l6.startsWith("_a_"),y;if(c&&!1){var B=0,r=W.length;
for(var S=0;S<W.length-1;S++){var x=W[S],Z=W[S+1],i=fd.aDD(x,Z);if(i){var k=parseFloat(x.l6.split(",").pop()),H=parseFloat(Z.l6.split(",").pop());
x.l6=x.l6.split(",")[0]+","+Math.round(k+H);W.splice(S+1,1);S--;B++}}if(B!=0){alert("Deleted "+B+" frames out of "+r+".");
for(var S=0;S<W.length;S++){var V=W[S],g=V.l6;V.l6="_a_frm"+S+","+g.split(",")[1]}}}var N=new eb(d+"."+["psd","ai"][be]),C=new a8(0,0,1,1);
if(c){y=N.jb();y.add.lsct=aG.ED;y.AP(d);y.E9="pass";y.xy=24;y.vI(!0);N.B.push(N.b7())}for(var S=0;S<W.length;
S++){var w=W[S];C=C.hB(w.H2);var Y=N.jb();Y.vI(S==0);Y.AP(W.length==1?"Background":"Layer "+S);if(S==0&&w.tU)N.tU=w.tU;
if(S==0&&w.RO)N.RO=w.RO;if(w.l6)Y.AP(w.l6);if(w.Rn)for(var U=0;U<w.Rn.length;U++){var e=w.Rn[U],O=eb.gy(e[0]);
O.add.vmsk.Y=e[1];v.o.hn(e[1],new dT(C.m,0,0,C.i,0,0));N.GB.push(O)}if(w.qx)N.qx=w.qx;Y.rect=w.H2.clone();
Y.buffer=new Uint8Array(w.data);if(S==0&&w.FG)N.uX(w.FG);v.eW(Y);N.B.push(Y)}if(c)N.B.push(y);if(W[0].iv){for(var S=0;
S<W[0].iv.length;S++){var l=new e8.JO;N.iv.push(l);l.rect=W[0].H2.clone();l.channel=W[0].iv[S]}}N.g=[c?N.B.length-1:0];
N.m=C.m;N.i=C.i;if(be==0)N.buffer=v.R(C.P()*4);N.W();return N};fd.No=function(d,W,c){var y=d.length-c,B=new Uint8Array(y);
for(var S=0;S<W;S++)B[S]=d[S];for(var S=W;S<y;S++)B[S]=d[S+c];return B};fd.atB=function(d,W,c){var y=d.length,B=c.length,r=new Uint8Array(y+B);
for(var S=0;S<W;S++)r[S]=d[S];for(var S=W;S<y;S++)r[S+B]=d[S];r.set(c,W);return r};fd.aq6=function(d,W,c,y,B,r,x,Z,i){var k=new bR(b.E.v,!0);
k.f=X._X;k.data={d:"h_stepbck"};var H={};for(var V=1;V<c.length;V++){var g=d.g.slice(0),N=fd.iH(d,i,W,c,y,V),C="img"+V,w=c[0].indexOf(x);
if(x!=""){if(w==-1)alert("Column "+x+" not found.");else C=c[V][w]}H[C+"."+B.toLowerCase()]=new Uint8Array(fd.OR(d,B,null,null,r,Z));
for(var S=0;S<N;S++)i.T(k)}return UZIP.encode(H)};fd.iH=function(d,W,c,y,B,r){var x=new bR(b.E.V,!0),H=0;
x.data={d:b.H.r3};var Z=new bR(b.E.v,!0);Z.f=X.jq;Z.data={d:e8.ra,qt:{buffer:null,rect:null}};var i=Z.data.qt;
for(var V=0;V<c.length;V++){var g=c[V],N=g.trait,C=parseInt(g.docRef.slice(4,-2)),w=-1;for(var S=0;S<d.B.length;
S++)if(d.B[S].add.lyid==C)w=S;if(w==-1)continue;var Y=y[0].indexOf(g.varName);if(Y==-1){alert("Column "+g.varName+" is missing");
return}var U=y[r][Y],e=d.B[w];d.g=[w];if(N=="textcontent"){x.data.za="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(U)+";";
W.T(x);H++}if(N=="visibility"&&e.jF()+""!=U.toLowerCase()){U=U.trim().toLowerCase();if(U!="true"&&U!="false")U=U==""?"false":"true";
x.data.za="app.activeDocument.activeLayer.visible = "+U+";";if(e.jF()+""!=U){W.T(x);H++}}if(N=="fileref"){var O=U.split("/").pop(),l=null;
for(var bd in B)if(bd.split("/").pop()==O)l=B[bd];if(l==null){alert("Image "+O+" is missing.")}else{var I=fd.Ay(fd.$Z(l.buffer)).Pd(l.buffer)[0],s=I.H2,z=e.rect,J=0,F=0;
if(e.add.SoLd){var R=X.X.R6(e.add.SoLd.nonAffineTransform);z=v.A.xG(R)}var t=z.m/z.i,a=s.m/s.i;if(t>a){F=z.i;
J=~~(F*a)}else{J=z.m;F=~~(J/a)}x.data.za="app.activeDocument.activeLayer.visible = false;";W.T(x);H++;
var h=X.X.Wf([new Uint8Array(I.data),s],new dT(J/s.m,0,0,F/s.i,0,0));i.rect=h.rect;i.buffer=h.buffer;
h.rect.x=z.x+(z.m-J>>>1);h.rect.y=z.y+(z.i-F>>>1);W.T(Z);H++;var m=d.B[d.g[0]];m.opacity=e.opacity;m.TA=e.TA;
m.E9=e.E9;m.t=e.t}}}return H};fd.z7={};fd.z7.Cy=function(d,W,c,y){if(y==null)y=[100,!1,0,0,0];var B={sRGB:1,loop:y[3]};
if(d[0][5]!=null){delete B.sRGB;B.iCCP=d[0][5]}if(d[0][2]!=null){var r=Math.round(d[0][2]*(1e4/254));
B.pHYs=[r,r,1]}var x=y[0],Z=x==100?0:Math.max(2,Math.floor(x*5));if(Z==5)Z=4;var i=[],k=[];for(var S=0;
S<d.length;S++){i.push(d[S][0]);k.push(d[S][1])}var H=UPNG.encode(i,W,c,Z,k,B,y[1]);return H};fd.z7.aE5=function(d,W,c){return UPNG.encodeLL([d],W,c,3,1,8)};
fd.z7.Pd=function(d){var W=Date.now(),c=UPNG.decode(d),y=UPNG.toRGBA8(c),B=c.width,r=c.height,x=0,Z=c.tabs.iCCP;
if(c.tabs.pHYs)x=Math.round(c.tabs.pHYs[0]*254/1e4);if(y.length==1)return[{H2:new a8(0,0,B,r),data:y[0],tU:x,FG:Z}];
var i=[];for(var S=0;S<y.length;S++){i.push({l6:"_a_frm"+S+","+c.frames[S].delay,H2:new a8(0,0,B,r),data:y[S],tU:x,FG:Z})}return i};
fd.zC={};fd.zC.Cy=function(d,W,c,y){var B=new Uint8Array(d[0][0]),r=W*c,x=r*3,Z="P6\n"+W+" "+c+"\n255\n",i=Z.length,k=v.R(i+x,!0);
for(var S=0;S<i;S++)k[S]=Z.charCodeAt(S);for(var S=0;S<r;S++){var H=S*4,V=S*3+i;k[V]=B[H];k[V+1]=B[H+1];
k[V+2]=B[H+2]}return k.buffer};fd.zC.Pd=function(d){d=new Uint8Array(d);var W=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],c=0,y=String.fromCharCode(d[0])+String.fromCharCode(d[1]),B=[],r=0,x=y=="P1"||y=="P4"?2:3;
for(c=2;c<d.length;c++){var Z=d[c],i=String.fromCharCode(Z);if(Z=="#".charCodeAt(0)){while(d[c]!="\n".charCodeAt(0))c++;
continue}var k=W.indexOf(Z)!=-1;if(r==0&&!k){B.push(i);r=1;continue}if(r==1&&!k){B[B.length-1]+=i;continue}if(r==1&&k){r=0;
if(B.length==x)break;continue}}var H=parseInt(B[0]),V=parseInt(B[1]),g=H*V*4,N=y=="P1"||y=="P4"?1:255/parseInt(B[2]),C=v.R(g);
if(y=="P1"||y=="P2"||y=="P3"){var w="",Y=0,r=0,U="#".charCodeAt(0);for(var S=c;S<d.length;S++){var Z=d[S],i=String.fromCharCode(Z),k=W.indexOf(Z)!=-1;
if(Z==U){while(d[S]!="\n".charCodeAt(0))S++}else if(r==0&&!k){w=i;r=1}else if(r==1){if(k){r=0;var e=parseInt(w);
w="";if(y=="P1"){C[Y]=C[Y+1]=C[Y+2]=(1-e)*255;C[Y+3]=255;Y+=4}if(y=="P2"){C[Y]=C[Y+1]=C[Y+2]=Math.round(e*N);
C[Y+3]=255;Y+=4}if(y=="P3"){C[Y]=Math.round(e*N);Y++;if((Y&3)==3){C[Y]=255;Y++}}}else w+=i}}}var O=H*V;
if(y=="P4")for(var l=0;l<V;l++){var I=l*8*Math.ceil(H/8);for(var s=0;s<H;s++){var S=I+s,z=d[c+1+(S>>3)];
z=z>>7-(S&7)&1;var R=l*H+s<<2;C[R]=C[R+1]=C[R+2]=(1-z)*255;C[R+3]=255}}if(y=="P5")for(var S=0;S<O;S++){var R=4*S;
C[R]=C[R+1]=C[R+2]=Math.round(d[c+1+S]*N);C[R+3]=255}if(y=="P6")for(var S=0;S<O;S++){var R=4*S,t=c+1+3*S;
C[R]=Math.round(d[t]*N);C[R+1]=Math.round(d[t+1]*N);C[R+2]=Math.round(d[t+2]*N);C[R+3]=255}return[{H2:new a8(0,0,H,V),data:C.buffer}]};
fd.sz={};fd.sz.Cy=function(d,W,c,y){if(y==null)y=[0,!0];if(typeof y[0]=="boolean")y[0]=0;var B=new Uint8Array(d[0][0]);
if(!v._Q(B)&&d[0][4]){B=B.slice(0);v.nP(d[0][4][0],B,3)}var r=W&3,x=c&3;if(r!=0||x!=0){var Z=W+(r==0?0:4-r),i=c+(x==0?0:4-x),k=new Uint8Array(Z*i*4);
v.ft(k,4278190080);v.qR(B,new a8(0,0,W,c),k,new a8(0,0,Z,i));B=k;W=Z;c=i}var V=UTEX.DDS.encode(B.buffer,W,c,y);
if(!1){var g=UTEX.DDS.decode(V)[0],k=new Uint8Array(g.Ma),N=0;for(var S=0;S<B.length;S++){var C=B[S]-k[S];
N+=C*C}console.log(N)}return V};fd.sz.Pd=function(d){var W=UTEX.DDS.decode(d)[0];return[{H2:new a8(0,0,W.width,W.height),data:W.image}]};
fd.tF={};fd.tF.Pd=function(d){var W=UTEX.VTF.decode(d).pop();return[{H2:new a8(0,0,W.width,W.height),data:W.image}]};
fd.bq={};fd.bq.RH=null;fd.bq.avA=function(d,W){var c=fd.bq.RH,y=d.byteLength,B=W.width,r=W.height,x=B*r,Z=5e6+2*y+x*(W.progressive?Math.max(2,W.numComponents)*4+1:8),i=c.instance.exports;
fd._f(i,Z);var k=new Uint8Array(i.memory.buffer),H=i.malloc(y);k.set(new Uint8Array(d),H);var V=i.malloc(4),g=i.malloc(4),bd=i.malloc(4),N=i.stbi_load_from_memory(H,y,V,g,bd,4);
i.free(H);i.free(V,g,bd);i.free(N);var C=k.slice(N,N+x*4);return C};(function(){var d=fd.bj.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(d).then(function(W){fd.bq.RH=W})}());fd.bq.Cy=function(d,W,c,y){if(y==null)y=[85];
var B=d[0],r=new Uint8Array(B[0]);if(v._Q(r)){var x=new Uint8Array(r.length),Z=new a8(0,0,W,c);v.ft(x,4294967295);
v.l.Ip("norm",r,Z,x,Z,Z,1);r=x}var i=new Uint8Array(fd.Hz(r.buffer,W,c,"jpeg",y[0]/100));if(i.length<2e4||B[5]){var k=K.J7(i,[255,226]);
if(k!=-1){var H=K.Ou(i,k+2);i=fd.No(i,k,H+2)}}if(B[5]!=null){var V=4+K.Ou(i,4),g=B[5].length+16,N=new Uint8Array(g+2);
N[0]=255;N[1]=226;K.Dc(N,2,g);K.sv(N,4,"ICC_PROFILE");N[16]=N[17]=1;N.set(B[5],18);i=fd.atB(i,V,N)}if(B[2]!=null){var C=fd.bq.tG(i)[224][0]+2;
C+=9;i[C]=1;K.Dc(i,C+1,B[2]);K.Dc(i,C+3,B[2])}if(B[3]!=null&&y[1]==!0&&Object.keys(B[3]).length!=0){var w=0,Y=0,U=0,e=dP.y1(B[3]),O=new Uint8Array(UTIF.encode([e])),l="http://ns.adobe.com/xap/1.0/",V=20;
w=4+6+O.length;var I=dP.yb(B[3]),s=K.$N(I);Y=4+l.length+1+s.length;var z=dP.auD(B[3]);if(z.length!=0){var R=0,J=0;
for(var S=0;S<z.length;S++)R+=5+z[S][1].length;var t=R+(R&1),a=v.R(14+4+4+4+t);K.sv(a,J,"Photoshop 3.0");
J+=14;K.sv(a,J,"8BIM");J+=4;a[J++]=4;a[J++]=4;J+=2;K.Kz(a,J,R);J+=4;for(var S=0;S<z.length;S++){var F=z[S],h=F[1];
a[J++]=28;a[J++]=2;a[J++]=F[0];K.Dc(a,J,h.length);J+=2;K.sv(a,J,h);J+=h.length}U=4+a.length}var m=w+Y+U,D=new Uint8Array(i.length+m);
for(var S=0;S<20;S++)D[S]=i[S];for(var S=20;S<i.length;S++)D[S+m]=i[S];D[V]=255;D[V+1]=225;K.Dc(D,V+2,w-2);
K.sv(D,V+4,"Exif");for(var S=0;S<O.length;S++)D[V+10+S]=O[S];V+=w;D[V]=255;D[V+1]=225;K.Dc(D,V+2,Y-2);
K.sv(D,V+4,l);for(var S=0;S<s.length;S++)D[V+4+l.length+1+S]=s[S];V+=Y;if(U!=0){D[V]=255;D[V+1]=237;
K.Dc(D,V+2,U-2);for(var S=0;S<a.length;S++)D[V+4+S]=a[S];V+=U}i=D}return i.buffer};fd.bq.tG=function(d){var W=0,c=[],y=d.length;
while(W<y){while(d[W]!=255&&W<y)W++;while(d[W]==255)W++;if(W==y)break;var B=d[W];W++;if(c[B]==null)c[B]=[];
c[B].push(W-2);if(B==216)continue;if(B==217)break;if(224<=B&&B<=239||B==218||B==219||B==192||B==193||B==194||B==196||B==221||B==254){var r=K.Ou(d,W);
W+=r;if(B==218)while(W<y&&(d[W]!=255||(d[W+1]==0||208<=d[W+1]&&d[W+1]<=215)))W++;continue}console.log("unknown marker ",B.toString(16),W);
break}if(c[217]==null){console.log("EOI marker missing");var x=d.length-2;d[x]=255;d[x+1]=217;c[217]=[x]}return c};
fd.bq.a4y=function(d){d=new Uint8Array(d);if(d[0]!=255)return d.buffer;var W=fd.bq.tG(d),c=fd.bq.AK(d,W);
if(c.numComponents!=4)return d.buffer;var y=c.width,B=c.height,r=fd.bq.at2(d,W,!0);return fd.bq.Cy([[r[0].data]],y,B,[85])};
fd.bq.AK=function(d,W){var c=(W[192]?W[192]:W[193]?W[193]:W[194])[0]+4,y={};y.progressive=W[194]!=null;
y.precision=d[c];c++;y.height=K.Ou(d,c);c+=2;y.width=K.Ou(d,c);c+=2;y.numComponents=d[c];c++;if(W[224]){var B=y.jfif={};
c=W[224][0]+2+2+5+2;B.densityUnits=d[c];c++;B.xDensity=K.Ou(d,c);c+=2;B.yDensity=K.Ou(d,c);c+=2}if(W[238]){var B=y.adobe={};
c=W[238][0]+2+2+6;B.version=d[c];c++;B.flags0=K.Ou(d,c);c+=2;B.flags1=K.Ou(d,c);c+=2;B.transform=d[c];
c++}return y};fd.bq.auE=function(d,W,c){var y=W,B=K.Ou(d,y);y+=2;var r=K.xA(d,y,4);if(r=="Exif"){y+=6;
var x=d.slice(y,y+B-8),Z;try{Z=UTIF.decode(x.buffer,{parseMN:!1,debug:!1})}catch(jj){}if(Z&&Z.length!=0)c.exif=Z}else if(r=="http"){var i=0;
while(d[y+i]!=0)i++;var k=K.xA(d,y,i);y+=i+1;if(k=="http://ns.adobe.com/xmp/extension/"){var H=K.xA(d,y,32);
y+=32;y+=8;var V=W+B-y;while(d[y+V-1]==0)V--;if(c.xmp_extn==null)c.xmp_extn="";try{c.xmp_extn+=K.uw(d,y,V)}catch(jj){}}else if(k=="http://ns.adobe.com/xap/1.0/"){var g=K.uw(d.slice(y,y+B-i-3));
if(g[0]=="?")g="<"+g;c.xmp=g}}else console.log(r)};fd.bq.at2=function(d,W,c){var y=fd.bq.AK(d,W),B=y.width,r=y.height,x=B*r,Z,i=-1,l=72,I,z,R=null;
if(y.adobe)i=y.adobe.transform;if(c||B*r>15e7||i==0||i==2||y.progressive){var k=new PDFJS.JpegImage;
k.parse(d);var H=k.getData({width:B,height:r,forceRGB:!0,isSourcePDF:c}),Z=v.R(x*4);for(var S=0;S<x;
S++){var V=S<<2,g=V-S;Z[V]=H[g];Z[V+1]=H[g+1];Z[V+2]=H[g+2];Z[V+3]=255}}else{Z=fd.bq.avA(d.buffer,y)}var N=W[225];
if(N)for(var S=0;S<N.length;S++)fd.bq.auE(d,N[S]+2,y);var C=W[226];if(C){var w=C[0],Y=K.Ou(d,w+2),U=K.xA(d,w+4,11);
if(U=="ICC_PROFILE"){var e=K.q(d,w+18);y.icc=d.slice(w+18,w+18+e)}}var O=W[217][0]+2;if(O!=d.length)y.suffix=d.slice(O);
var s=[B,r,1,0,0,0,1,0];if(y.jfif&&y.jfif.densityUnits!=0){l=Math.round([72,1,2.54][y.jfif.densityUnits]*y.jfif.xDensity)}else if(y.exif&&y.exif[0].t282!=null){var t=y.exif[0].t282[0];
l=t[0]/t[1]}if(y.exif){var a=y.exif;I=dP.R$(a[0]);var J=a[0].t274;if(J)J=J[0];if(J!=null&&J>1&&J<20)s=v.raw.anN(J,B,r)}if(y.xmp){I=dP.ZY(y.xmp,I)}if(y.icc)z=y.icc;
var F=W[237],h=[],m=[];if(F){var D=new Uint8Array(65536),_=0,w=0;for(var S=0;S<F.length;S++){w=F[S]+2;
var n=w+K.Ou(d,w);w+=2;var j=w;while(d[w]!=0)w++;w++;var T=K.xA(d,j,w-j-1),L=n-w;if(L<0)break;while(_+L>D.length){var p=new Uint8Array(D.length*2);
p.set(D);D=p}var E=new Uint8Array(d.buffer,w,L);D.set(E,_);_+=L}w=0;d=D;while(w<_){var G=K.xA(d,w,4);
w+=4;var A=K.Ou(d,w);w+=2;var u=d[w++],q=K.xA(d,w,u);w+=u;if((u&1)==0)w++;var Y=K.q(d,w);w+=4;var O=w+Y+(Y&1);
if(A==1028){while(w+4<O){var o=d[w++],M=d[w++],$=d[w++],Q=K.Ou(d,w);w+=2;if(o==28&&M==2)h.push([$,K.xA(d,w,Q)]);
w+=Q}}else if(A==1032)R=hd.akU(d,w);else if((A&2e3)==2e3){var kF=kt.Mt(d,w,Y);m.push([q,kF])}else{}w=O}if(h.length!=0)I=dP.afg(h,I)}var P=[{H2:new a8(0,0,B,r),data:Z.buffer,tU:l,RO:I,FG:z,Rn:m.length==0?null:m,qx:R}],I=y.xmp_extn;
if(I){var bM=new DOMParser,jW=bM.parseFromString(I,"image/svg+xml"),jW=jW.children[0].children[0].children[0],fX=[jW.getAttribute("GImage:Data"),jW.getAttribute("GDepth:Data")];
for(var S=0;S<fX.length;S++)if(fX[S]){var bX=atob(fX[S]),ao=new Uint8Array(bX.length);K.sv(ao,0,bX);
ao=ao.buffer;var en=fd.$Z(ao),fK=fd.Ay(en).Pd(ao);P.push(fK[0])}}if(y.suffix){var bO=y.suffix,b9=!1,bK=K.xA(bO,4,4),f0=K.J7(bO,[255,216,255]);
if(fd.DI(bO,[0,0,1,10,14,0,0,0])){if(b9)console.log("Samsung");var w=0;while(w!=bO.length){var hn=K.w1(bO,w+2);
w+=4;var hX={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[hn];if(hX!=null){var gR=K.kK(bO,w);w+=4;
var ib=K.xA(bO,w,gR);w+=gR;var gU=K.xA(bO,w,hX);w+=hX;if(hn==2608){var hq=w,ip=K.q(bO,w+24);w+=ip+24;
var aW=K.q(bO,w);w+=aW;var kN=bO.slice(hq,w);fd.bq.a3w(kN)}}else if(hn==18502){while(K.xA(bO,w,4)!="SEFT")w+=4;
w+=4}else{break;console.log(K.jr(bO,w,128));console.log(bO.slice(w));throw hn.toString(16)}}}else if(bK=="ftyp"){if(b9)console.log("MP4 Video");
fd.bq.a3w(bO)}else if(K.xA(bO,0,4)=="fixe"){if(b9)console.log("fixe");alert("Unknown data - "+bO.length+" B - at the end of the file",3e3);
var w=4,Y=K.kK(bO,w);w+=4;var hW=K.kK(bO,w);w+=4;var jH=K.kK(bO,w);w+=4;console.log(Y,hW,jH,bO.slice(w,w+84));
w+=84;var g0=K.xA(bO,w,32);w+=32;w+=8;var g0=K.xA(bO,w,32);w+=32}else if(K.xA(bO,8,13)=="FocusShot_Map"){if(b9)console.log("FocusShot_Map");
var gC=K.q(bO,0),Q=K.kK(bO,4),ao=v.R(x*4),jL=v.R(x*4);for(var jf=0;jf<r;jf++)for(var cm=0;cm<B;cm++){var S=jf*B+cm,V=S<<2,eh=8+13+((jf>>>1)*B+cm>>>1),bu=bO[eh],eJ=bO[eh+(x>>>2)];
ao[V]=ao[V+1]=ao[V+2]=bu;ao[V+3]=255;jL[V]=jL[V+1]=jL[V+2]=eJ;jL[V+3]=255}P.push({H2:new a8(0,0,B,r),data:ao.buffer},{H2:new a8(0,0,B,r),data:jL.buffer})}else if(bK=="edof"){if(b9)console.log("edof");
var J=bO[8+7];console.log(J.toString(16));var w=8+16,eZ=K.w1(bO,w),a0=K.w1(bO,w+2),x=eZ*a0;w+=4;w+=32+16;
var gZ=v.R(x*4);for(var S=0;S<x;S++){var V=S<<2;gZ[V]=gZ[V+1]=gZ[V+2]=bO[w+S];gZ[V+3]=255}if(J==16){}else if(J==19){var bt=gZ.slice(0);
v.D.VT(gZ,bt,eZ,a0);var dp=eZ;eZ=a0;a0=dp;v.D.EV(bt,gZ,eZ,a0)}else throw"Unknown orientation of a depth map";
P.push({H2:new a8(0,0,eZ,a0),data:gZ.buffer})}else if(K.xA(bO,0,64).indexOf("DualShot")!=-1){var gb=K.kK,e_=K.xA,dO=K.w1,w=0;
function dC(){var eI=gb(bO,w);if(gb(bO,w+4)!=0)throw"e";w+=8;return eI}var kc=K.q(bO,w);w+=4;try{if(kc==45066){w=1226;
var B=dC(),r=dC();w=3445}else if(kc==45322){var ia=gb(bO,w);w+=4;var g0=e_(bO,w,ia);w+=ia;if(g0!="DualShot_DepthMap_1")throw g0;
B=1008;r=756}else throw kc;var hO=v.R(B*r*4);hO.fill(255);v.ta(bO.slice(w,w+B*r),hO);P.push({H2:new a8(0,0,B,r),data:hO.buffer})}catch(jj){console.log("error reading a depth map")}try{if(f0!=0)bO=bO.slice(f0);
P=P.concat(fd.Ay("jpg").Pd(bO.buffer))}catch(jj){}}else if(f0!=-1&&!(bO[0]==255&&bO[1]==129)){if(b9)console.log("another JPG at",f0);
try{if(f0!=0)bO=bO.slice(f0);P=P.concat(fd.Ay("jpg").Pd(bO.buffer))}catch(jj){}}else if(K.xA(bO,0,4)=="PMPD"){if(b9)console.log("Xiaomi stuff");
var w=4,cj=K.kK(bO,12),bA=K.kK(bO,16),eZ=K.kK(bO,1060),a0=K.kK(bO,1064),bg=eZ>a0,cX=P[0].H2.m>P[0].H2.i,i4=bO.slice(bO.length-eZ*a0-4),fJ=v.R(eZ*a0);
for(var jf=0;jf<a0;jf++)for(var cm=0;cm<eZ;cm++)fJ[jf*eZ+cm]=i4[(a0-jf-1)*eZ+cm];var hO=v.R(eZ*a0*4);
hO.fill(255);v.ta(fJ,hO);if(bg!=cX){var bt=hO.slice(0);v.D.VT(hO,bt,eZ,a0);var dp=eZ;eZ=a0;a0=dp;v.D.EV(bt,hO,eZ,a0)}P.push({H2:new a8(0,0,eZ,a0),data:hO.buffer})}else console.log(K.xA(bO,0,4),bO)}if(P.length>1){var iu=P[0].H2,f$=!1,kg=!0;
P[0].l6="Main";var hV=[!1];for(var S=1;S<P.length;S++){hV[S]=fd.bq.avd(new Uint8Array(P[S].data));if(hV[S])f$=!0;
if(!P[S].H2.zI(P[0].H2))kg=!1}if(!f$&&!kg)P=P.slice(0,1);else for(var S=1;S<P.length;S++){P[S].l6=hV[S]?"Depth Map":null;
var jy=P[S].H2;if(!jy.zI(iu)){var iM=iu.m/jy.m,hI=iu.i/jy.i,cd=new dT;cd.scale(iM,hI);var jZ=X.X._B([new Uint8Array(P[S].data),jy],1,v.D.MK(cd));
P[S].H2=jZ.rect;P[S].data=jZ.buffer}}}if(fd.bq.Tw==1)if(s[2]!=1||s[6]!=1)for(var S=0;S<P.length;S++){var hz=P[S],jv=new Uint8Array(hz.data),B=hz.H2.m,r=hz.H2.i,eZ=s[0],a0=s[1],Z=v.R(eZ*a0*4);
v.D._P(jv,B,r,Z,s);hz.H2=new a8(0,0,eZ,a0);hz.data=Z.buffer}return P};fd.bq.a3w=function(d){if(window.confirm("Photopea found a "+cA.oZ(d.length)+" MP4 video inside your image. Would you like to save it?",4e3)){bw.save(d.slice(0).buffer,"video.mp4")}};
fd.bq.avd=function(d){var W=!0;for(var S=0;S<d.length;S+=4){W=W&&d[S]==d[S+1]&&d[S+1]==d[S+2]}return W};
fd.bq.Tw=0;fd.bq.Pd=function(d,W,c){d=new Uint8Array(d);if(d[0]==255){var y=fd.bq.tG(d);if(y[195]==null){fd.bq.Tw++;
var B=fd.bq.at2(d,y,!1);fd.bq.Tw--;return B}var r=K.Ou(d,y[195][0]+5),x=K.Ou(d,y[195][0]+7),Z=UTIF.LosslessJpegDecode(d),i=x*r,k=v.R(i*4);
for(var S=0;S<i;S++){var H=S<<2,V=H-S;k[H]=Z[V];k[H+1]=Z[V+1];k[H+2]=Z[V+2];k[H+3]=255}return[{H2:new a8(0,0,x,r),data:k.buffer}]}else if(d[0]==0&&d[4]==48&&d[6]==1){var g=d,N=new PDFJS.Jbig2Image,C=[];
if(W)C.push({data:W,start:0,end:W.length});C.push({data:g,start:0,end:g.length});var Z=N.parseChunks(C);
if(!c)for(var S=0;S<Z.length;S++)Z[S]=~Z[S];var x=K.q(d,11),r=K.q(d,15),w=Math.ceil(x/8),Y=v.R(x*r*4);
for(var U=0;U<r;U++){var e=U*w;for(var O=0;O<x;O++){var H=(U*x+O)*4,l=Z[e+(O>>>3)]>>>7-(O&7)&1,I=l*255;
Y[H]=I;Y[H+1]=I;Y[H+2]=I;Y[H+3]=255}}return[{H2:new a8(0,0,x,r),data:Y.buffer}]}else{var N=new PDFJS.JpxImage;
N.parse(d);var x=N.width,r=N.height,s=N.tiles,z=N.componentsCount,R=new Uint8Array(x*r*4),t=new a8(0,0,x,r);
for(var N=0;N<s.length;N++){var a=s[N],J=a.width,F=a.height,h=J*F,m=a.items,D=new a8(a.left,a.top,J,F),_=new Uint8Array(h*4);
if(z==1)for(var S=0;S<h;S++){var n=m[S],H=S*4;_[H]=n;_[H+1]=n;_[H+2]=n;_[H+3]=255}else if(z==3)for(var S=0;
S<h;S++){var V=S*3,H=S*4;_[H]=m[V];_[H+1]=m[V+1];_[H+2]=m[V+2];_[H+3]=255}else if(z==4)_.set(m);else console.log("Unknown number of components: "+z);
v.qR(_,D,R,t)}return[{H2:t,data:R.buffer}]}};fd.ZL={};fd.ZL.Cy=function(d,W,c,y){if(y==null)y=[70,!1,0,0,0];
var B=y[0]/100,w=0;if(d.length==1){var r=new Uint8Array(fd.Hz(d[0][0],W,c,"webp",B));if(r.length<2e4){var x=jJ.Nr(r.buffer),Z=x.sub;
for(var S=0;S<Z.length;S++)if(Z[S].QY=="ICCP"){var i=Z[S];r=fd.No(r,i.z-8,i.size+8);K.u5(r,4,x.size-(i.size+8));
break}}if(y[1]&&d[0][3]){var x=jJ.Nr(r.buffer),Z=x.sub,k=Z[0].z+Z[0].size,H=d[0][3],V=new Uint8Array(UTIF.encode([dP.y1(H)])),g=new Uint8Array(6+V.length);
K.sv(g,0,"Exif\0\0");g.set(V,6);var N=K.$N(dP.yb(H)),C=new Uint8Array(16+g.length+N.length);K.sv(C,0,"EXIF");
K.u5(C,4,g.length);C.set(g,8);var w=8+g.length;K.sv(C,w,"XMP\0");K.u5(C,w+4,N.length);C.set(N,w+8);var Y=new Uint8Array(r.length+C.length);
Y.set(new Uint8Array(r.buffer,0,k),0);Y.set(C,k);Y.set(new Uint8Array(r.buffer,k),k+C.length);r=Y;K.u5(r,4,K.kK(r,4)+C.length)}return r.buffer}var U=K.MA,e=K.c6,O=new jD;
U(O,w,"RIFF    WEBPVP8X");w+=16;e(O,w,10);w+=4;e(O,w,18);w+=4;e(O,w,W-1);w+=3;e(O,w,c-1);w+=3;U(O,w,"ANIM");
w+=4;e(O,w,6);w+=4;O.N5(w,4);O.data[w+3]=255;K.SB(O,w+4,y[3]);w+=6;var l=[];for(var S=0;S<d.length;S++){l.push(d[S][0])}var I=UPNG.encode.compress(l,W,c,B==1?0:Math.max(2,Math.floor(B*500)),[!1,!0,!0,0,!0]).frames;
function s(x,j,T,L){var h=x.z-8,m=x.size+8;T.N5(L,m);for(var S=0;S<m;S++)T.data[L+S]=j[h+S];return L+m}for(var S=0;
S<d.length;S++){U(O,w,"ANMF");w+=4;var z=w,h=0,m=0;w+=4;var R=I[S],t=R.rect,a=[t.x>>>1,t.y>>>1,t.width-1,t.height-1,d[S][1]];
for(var J=0;J<5;J++)e(O,w+3*J,a[J]);w+=15;O.N5(w,1);O.data[w]=1-R.blend<<1|R.dispose;w++;var F=new Uint8Array(fd.Hz(R.img.buffer,t.width,t.height,"webp",1)),Z=jJ.Nr(F.buffer).sub,D={};
for(var _=0;_<Z.length;_++)D[Z[_].QY]=Z[_];if(D.VP8L)w=s(D.VP8L,F,O,w);else throw"e";var n=w-z-4;e(O,z,n);
if((n&1)==1){O.N5(w,1);w++}}e(O,4,w-8);return O.data.slice(0,w).buffer};(function(){var d=fd.bj.get("wasm/webp").buffer;
WebAssembly.instantiate(d).then(function(W){var c=W.instance.exports;fd.ZL.exp=c})}());fd.ZL.Pd=function(d){var W=new Uint8Array(d),c=fd.ZL.alJ,y=null,B=jJ.Nr(d).sub,r={},x=null;
for(var S=0;S<B.length;S++)r[B[S].QY]=B[S];if(r.EXIF){var Z=r.EXIF,i=new Uint8Array(d,Z.z+6,Z.size-6),Z=UTIF.decode(i)[0];
if(Z)x=dP.R$(Z)}if(r["XMP\0"]){var Z=r["XMP\0"],i=new Uint8Array(d,Z.z,Z.size);if(x==null)x={};x=dP.ZY(K.uw(i),x)}var k=r.ANIM,H=r.VP8L,g=r["VP8 "],N=r.VP8X;
if(k==null){var C,w;if(g){C=K.w1(W,g.z+6);w=K.w1(W,g.z+8)}else if(H){var Y=K.kK(W,H.z+1);C=(Y&(1<<14)-1)+1;
w=(Y>>>14&(1<<14)-1)+1}else throw"e";var U=c(y,d,{z:0,size:W.length},C,w);U.RO=x;return[U]}var e=N.z,C=1+(K.kK(W,e+4)&16777215),w=1+(K.kK(W,e+7)&16777215),O=[],l=new a8(0,0,C,w),I=v.R(C*w*4);
for(var S=0;S<B.length;S++){var s=B[S];if(s.QY!="ANMF")continue;var z=[];for(var R=0;R<5;R++)z.push(K.kK(W,s.z+R*3)&16777215);
var t=new a8(z[0]*2,z[1]*2,z[2]+1,z[3]+1),a=z[4],J=c(y,d,{z:s.z+16,size:s.size-16},C,w),F=new Uint8Array(J.data),h=W[s.z+15];
if(h>>>1==0)v.l.Ip("norm",F,t,I,l,t,1);else v.qR(F,t,I,l);O.push({l6:"_a_"+O.length+","+a,H2:l.clone(),data:I.buffer.slice(0)});
if((h&1)==1){v.ft(F,0);v.qR(F,t,I,l)}}return O};fd.ZL.alJ=function(d,W,c,y,B){var r=fd.ZL.exp,x=r.memory,Z=5e6+2*c.size+y*B*10;
fd._f(r,Z);var i=new Uint8Array(x.buffer),k=r.malloc(c.size);i.set(new Uint8Array(W,c.z,c.size),k);var H=r.malloc(8),V=r.WebPDecodeARGB(k,c.size,H,H+4),g=K.kK(i,H),N=K.kK(i,H+4),C=g*N*4,w=v.R(C);
for(var S=0;S<C;S+=4){w[S]=i[V+S+1];w[S+1]=i[V+S+2];w[S+2]=i[V+S+3];w[S+3]=i[V+S]}r.WebPFree(V);r.free(H);
r.free(k);return{H2:new a8(0,0,g,N),data:w.buffer}};fd.a3t=function(){function d(Z,i,k,H){var V=new Uint8Array(Z[0][0]),g=new Uint32Array(V.buffer),N=[],C={},Y=24,U=0,s=0;
for(var S=0;S<g.length;S++){var w=g[S]&16777215;if(C[w]==null){C[w]=N.length;N.push(w);if(N.length>256){N=null;
break}}}if(H&&H[0])N=null;if(N){Y=1;while(1<<Y<N.length)Y*=2;if(Y==2)Y=4}var e={Kp:i,fn:k,Dh:1,yI:Y,wF:0,a0D:U},O=4*Math.floor((e.yI*e.Kp+31)/32);
e.size=O*e.fn+2;var l=new jD,I=N?(1<<Y)*4:0;K.MA(l,s,"BM");s+=2;K.c6(l,s,O*k+16+40+I);s+=4;K.c6(l,s,0);
s+=4;K.c6(l,s,54+I);s+=4;l.N5(s,40);K.c6(l,s,40);s+=4;x(l.data,s,e,O);s+=36;if(N){l.N5(s,I);var z=l.data;
for(var S=0;S<N.length;S++){var R=s+S*4,t=N[S]>>>16,a=N[S]>>>8&255,J=N[S]&255;z[R]=t;z[R+1]=a;z[R+2]=J}s+=I}l.N5(s,O*k);
if(Y==24)for(var F=0;F<k;F++){var h=s+(k-1-F)*O;for(var m=0;m<i;m++){var D=(F*i+m)*4;l.data[h+m*3+2]=V[D];
l.data[h+m*3+1]=V[D+1];l.data[h+m*3+0]=V[D+2]}}else if(Y==8)for(var F=0;F<k;F++){var h=s+(k-1-F)*O;for(var m=0;
m<i;m++){var D=F*i+m,_=C[g[D]&16777215];l.data[h+m]|=_}}else if(Y==4)for(var F=0;F<k;F++){var h=s+(k-1-F)*O;
for(var m=0;m<i;m++){var D=F*i+m,_=C[g[D]&16777215];l.data[h+(m>>>1)]|=_<<4-(m&1)*4}}else if(Y==1)for(var F=0;
F<k;F++){var h=s+(k-1-F)*O;for(var m=0;m<i;m++){var D=F*i+m,_=C[g[D]&16777215];l.data[h+(m>>>3)]|=_<<7-(m&7)}}s+=O*k+2;
return l.data.slice(0,s).buffer}function W(Z){Z=new Uint8Array(Z);if(K.kK(Z,0)==40)return[c(Z.buffer,0)];
var i=0,k=K.xA(Z,i,2);i+=2;if(k!="BM"){alert("Unsupported BMP format: "+k);return}var H=K.kK(Z,i);i+=4;
i+=4;var V=K.kK(Z,i);i+=4;return[c(Z.buffer,i,V)]}function c(Z,i,k){Z=new Uint8Array(Z);var H=K.kK(Z,i),V=r(Z,i+4);
if(V.Dh!=1)alert("unsupported number of color planes: "+V.Dh);if(V.wF!=0&&V.wF!=1&&V.wF!=2&&V.wF!=3){alert("Unsupported BMP compression: "+V.wF);
return}i+=H;var g=i,N=Z;if(k==null)k=i;if(V.wF==1||V.wF==2){var C=B(Z,k,V);V.yI=8;Z=C;k=0}var w=4*Math.floor((V.yI*V.Kp+31)/32),Y=V.Kp,U=Math.abs(V.fn),e=new Uint8Array(Y*U*4);
e.fill(255);if(V.yI==32)for(var O=0;O<U;O++){var l=k+(U-1-O)*w;for(var I=0;I<Y;I++){var s=(O*Y+I)*4;
e[s]=Z[l+I*4+2];e[s+1]=Z[l+I*4+1];e[s+2]=Z[l+I*4+0];e[s+3]=Z[l+I*4+3]}}else if(V.yI==24)for(var O=0;
O<U;O++){var l=k+(U-1-O)*w;for(var I=0;I<Y;I++){var s=(O*Y+I)*4;e[s]=Z[l+I*3+2];e[s+1]=Z[l+I*3+1];e[s+2]=Z[l+I*3+0]}}else if(V.yI==16)for(var O=0;
O<U;O++){var l=k+(U-1-O)*w;for(var I=0;I<Y;I++){var s=(O*Y+I)*4,z=Z[l+I*2+1]<<8|Z[l+I*2];e[s]=(z>>>11)*(255/31);
e[s+1]=(z>>>5&63)*(255/63);e[s+2]=(z&31)*(255/31)}}else if(V.yI==8)for(var O=0;O<U;O++){var l=k+(U-1-O)*w;
for(var I=0;I<Y;I++){var s=(O*Y+I)*4,R=Z[l+I];e[s]=N[g+4*R+2];e[s+1]=N[g+4*R+1];e[s+2]=N[g+4*R+0]}}else if(V.yI==4)for(var O=0;
O<U;O++){var l=k+(U-1-O)*w;for(var I=0;I<Y;I++){var s=(O*Y+I)*4,R=Z[l+(I>>1)];R=R>>4-4*(I&1);R=R&15;
e[s]=N[g+4*R+2];e[s+1]=N[g+4*R+1];e[s+2]=N[g+4*R+0]}}else if(V.yI==1)for(var O=0;O<U;O++){var l=k+(U-1-O)*w;
for(var I=0;I<Y;I++){var s=(O*Y+I)*4,t=Z[l+(I>>3)];t=t>>7-(I&7);t=t&1;e[s]=N[g+4*t+2];e[s+1]=N[g+4*t+1];
e[s+2]=N[g+4*t+0]}}else throw"Unknown bit depth "+V.yI;if(V.fn<0){var a=new Uint32Array(e.buffer),J=U>>>1;
for(var O=0;O<J;O++){var F=O*Y,h=(U-O-1)*Y;for(var I=0;I<Y;I++){var m=a[F+I];a[F+I]=a[h+I];a[h+I]=m}}}return{H2:new a8(0,0,Y,U),data:e.buffer}}function y(Z,S){return Z>>>4-((S&1)<<2)&15}function B(Z,i,k){var H=k.Kp,V=Math.abs(k.fn),g=new Uint8Array(H*V),N=0,C=0,S=0;
while(C<V){var w=Z[i++],Y=Z[i++],U=C*H+N;if(w>0){if(k.yI==4)for(S=0;S<w;S++){g[U+S]=y(Y,S)}else for(S=0;
S<w;S++){g[U+S]=Y}N+=w}else if(w==0&&Y==0){C++;N=0}else if(w==0&&Y==1){break}else if(w==0&&Y==2){N+=Z[i++];
C+=Z[i++]}else{var e=Y;if(k.yI==4){for(S=0;S<Y;S++){g[U+S]=y(Z[i+(S>>>1)],S)}e=Math.ceil(Y/2)}else{for(S=0;
S<Y;S++){g[U+S]=Z[i+S]}}if((e&1)!=0)e++;i+=e;N+=Y}}return g}function r(Z,i){var k=K.VL,H=K.kK,V=K.w1,g={};
g.Kp=k(Z,i);i+=4;g.fn=k(Z,i);i+=4;g.Dh=V(Z,i);i+=2;g.yI=V(Z,i);i+=2;g.wF=H(Z,i);i+=4;g.size=H(Z,i);i+=4;
var N=k(Z,i);i+=4;var C=k(Z,i);i+=4;g.a0D=H(Z,i);i+=4;i+=4;return g}function x(Z,i,k,H){K.u5(Z,i,k.Kp);
i+=4;K.u5(Z,i,k.fn);i+=4;K.M9(Z,i,k.Dh);i+=2;K.M9(Z,i,k.yI);i+=2;K.u5(Z,i,k.wF);i+=4;K.u5(Z,i,k.size);
i+=4;K.u5(Z,i,2834);i+=4;K.u5(Z,i,2834);i+=4;K.u5(Z,i,k.a0D);i+=4;i+=4}return{Pd:W,Cy:d,ayl:c}}();fd.v6={};
fd.v6.Cy=function(d,W,c,y){if(y==null)y=[100,!1,0,0,0,0];var B=[],r=[],x=W*c*4,w=null;for(var Z=0;Z<d.length;
Z++){var i=new Uint8Array(d[Z][0].slice(0));for(var S=0;S<x;S+=4){var k=i[S+3]=i[S+3]>127?255:0;if(k==0)i[S]=i[S+1]=i[S+2]=0}B.push(i.buffer);
r.push(d[Z][1])}var H=Math.round(2+254*y[0]/100),V=UPNG.encode.compress(B,W,c,H,[!0,!1,!1,8,!1,y[1]]),g=V.plte,N=new Uint8Array(4),C=new Uint32Array(N.buffer);
for(var S=0;S<g.length;S++){C[0]=g[S];var Y=N[0];N[0]=N[2];N[2]=Y;g[S]=C[0];if(C[0]==0)w=S}while(g.length<256)g.push(0);
var U=new Uint8Array(2e4+Math.round(1.5*W*c*d.length)),e=y[3],O={palette:g};if(e!=1)O.loop=e==0?0:e-1;
var l=new GifWriter(U,W,c,O);for(var S=0;S<d.length;S++){var I=V.frames[S],s=I.rect,z=I.blend,R=I.dispose,t=Math.round(r[S]/10);
if(t<2)t=2;l.addFrame(s.x,s.y,s.width,s.height,I.img,{transparent:w,disposal:R+1,delay:t})}return U.slice(0,l.end()).buffer};
fd.v6.Pd=function(d){var W=Date.now(),c=[],y=UGIF.decode(d),B=UGIF.toRGBA8(y),r=new a8(0,0,y.width,y.height);
for(var S=0;S<B.length;S++){var x=y.frames[S];c.push({H2:r.clone(),l6:"_a_frm"+S+","+x.delay*10,data:B[S]})}return c};
fd.si={};fd.si.Cy=function(d,W,c,y){if(W>256||c>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var B=Math.min(W,256),r=Math.min(c,256),x=new a8(0,0,B,r),Z=v.R(x.P()*4),i=new a8(0,0,W,c),k=new Uint8Array(d[0][0]);
v.qR(k,i,Z,x);d[0][0]=Z.buffer;W=B;c=r}var H=new Uint8Array(d[0][0]).slice(0),g=0;H[3]=Math.min(H[3],254);
var V=new jD,N=y&&y[0]==!0;K.SB(V,g,0);g+=2;K.SB(V,g,N?2:1);g+=2;K.SB(V,g,1);g+=2;var C=new Uint8Array(UPNG.encode([H.buffer],W,c,null,null,null,!0));
V.N5(g,16);V.data[g]=W==256?0:W;g++;V.data[g]=c==256?0:c;g++;g+=2;K.SB(V,g,N?Math.round(W/2):1);g+=2;
K.SB(V,g,N?Math.round(c/2):32);g+=2;K.c6(V,g,C.length);g+=4;K.c6(V,g,6+16);g+=4;V.N5(g,C.length);V.data.set(C,g);
g+=C.length;return V.data.slice(0,g).buffer};fd.si.Pd=function(d){d=new Uint8Array(d);var W=4,c=K.w1(d,W);
W+=2;var y=[];for(var S=0;S<c;S++){var B=fd.si.afF(d,W+S*16),r=d.buffer.slice(B.offset,B.offset+B.size),x=fd.$Z(r);
x=x?x:"bmp";if(x=="png"){var Z=fd.Ay(x),i=Z.Pd(r);B.HH=i[0]}else{var k=fd.Ay("BMP").ayl(r,0),r=v.R(B.Kp*B.fn*4);
v.qR(new Uint8Array(k.data),new a8(0,0,k.H2.m,k.H2.i),r,new a8(0,B.fn,B.Kp,B.fn));k.data=r.buffer;k.H2.i=B.fn;
B.HH=k}y.push(B)}y.sort(function(H,V){if(H.Kp!=V.Kp)return H.Kp-V.Kp;return H.aoh-V.aoh});return[y.pop().HH]};
fd.si.afF=function(d,W){var c={};c.Kp=d[W];W++;if(c.Kp==0)c.Kp=256;c.fn=d[W];W++;if(c.fn==0)c.fn=256;
c.auC=d[W];W++;W++;c.aDT=K.w1(d,W);W+=2;c.aoh=K.w1(d,W);W+=2;c.size=K.kK(d,W);W+=4;c.offset=K.kK(d,W);
W+=4;return c};fd._H={};fd._H.Pd=function(d){var W=Date.now(),y;if(v.raw.Fl(d.byteLength))return[v.raw.azo(d)];
var c=UTIF.decode(d);console.log(c);if(c[0].t33421)y=c[0];else if(c[0].subIFD&&c[0].t271&&c[0].t271[0]=="Hasselblad"){y=c[0].subIFD[0];
y.t33421=[2,2]}else if(c[0].subIFD&&c[0].subIFD[0].t33421){y=c[0].subIFD[0];if(y.t50706==null){if(y.t258[0]==8)y.t258[0]=12}}else if(c[0].subIFD&&c[0].subIFD[0]&&c[0].subIFD[0].t262&&c[0].subIFD[0].t262[0]==34892)y=c[0].subIFD[0];
else if(c[0].t50706)y=c[0];else if(c[0].subIFD&&c[0].subIFD[1]&&c[0].subIFD[1].t33421)y=c[0].subIFD[1];
else if(c[0].subIFD&&c[0].subIFD[2]&&c[0].subIFD[2].t33421)y=c[0].subIFD[2];else if(c[3]&&c[3].t50648){var B=c[0].exifIFD,r=B.makerNote;
y=c[3];var x=r.t224[1],Z=r.t224[2];y.t256=[x];y.t257=[Z];y.t258=[16];y.t259=[7];y.t262=[32803];y.t277=[1];
y.t33421=[2,2];var i=y.t50656[0],k=v.raw.P$[i];if(k==null)throw"e";y.t33422=k}else if(c[0].t1&&c[0].t1.length==4){var H=c[0],V={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},g=H.t280==null;
y={};for(var N in V)if(H["t"+N])y["t"+V[N]]=H["t"+N];y.t2=H.t2;y.t3=H.t3;y.t10=H.t10;y.t45=H.t45;y.t258=[16];
y.t33421=[2,2];var C=H.t9[0];if(g)C=2;y.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][C-1];var w=H.t4[0],Y=H.t5[0],U=H.t6[0],e=H.t7[0];
y.t50829=[w,Y,U,e];var O=H.t36[0],l=H.t37[0],I=H.t38[0];y.t50728=[l/O,l/l,l/I]}else if(c[0].t258&&c[0].t258[0]>=12&&c[0].t271&&(c[0].t271[0].startsWith("OLYMPUS")||c[0].t271[0].startsWith("OM Digital Solutions"))){y=c[0];
y.t33421=[2,2]}if(y){UTIF.decodeImage(d,y,c);for(var s in c[0])if((s[0]=="t"||s[0]=="e"||s[0]=="d")&&y[s]==null)y[s]=c[0][s];
y.V8=c[0].t274?c[0].t274[0]:1;return[y]}var z=[];for(var S=0;S<c.length;S++){var R=c[S],t=null,_=72;
UTIF.decodeImage(d,R,c);if(R.t258&&R.t258[0]==16&&R.t277&&R.t277[0]==1){var a=0,J=0,F=0,h=R.data;for(var m=0;
m<h.length;m+=2){var D=h[m+1]<<8|h[m];if(D>a)a=D;J+=D;F++}t=1/256*65535/(.5*a+.5*(2*J/F))}var n=R.t282,j=R.t296;
if(n!=null&&j!=null){_=n[0][0]/n[0][1];if(j[0]==3)_=Math.round(_/2.54)}if(R.width==null)continue;var T=UTIF.toRGBA8(R,t).buffer,L=dP.R$(R);
console.log(R);z.push({H2:new a8(0,0,R.width,R.height),data:T,tU:_,RO:L,FG:R.t34675?R.t34675.slice(0):null})}return z};
fd._H.Cy=function(d,W,c,y){if(y==null)y=[!1];var B={},r=d[0];if(r[3]!=null&&y[0])B=dP.y1(r[3]);if(r[2]!=null){B.t282=B.t283=[[Math.round(r[2]),1]];
B.t296=[2]}return UTIF.encodeImage(r[0],W,c,B)};fd.aip={};fd.aip.Pd=function(d){d=new Uint8Array(d);
var W=8,c,y=0;while(W<d.length){var B=K.xA(d,W,4),r=K.q(d,W+4);if(B.startsWith("ic")){var x=d.slice(W+8,W+r),Z=fd.$Z(x.buffer),i=fd.Ay(Z),k=i.Pd(x.buffer),H=k[0].H2.P();
if(H>y){y=H;c=k}}W+=r}return c};fd.mN={};fd.mN.IX=!0;fd.mN.Pd=function(d,W){hd.Nr(d,W)};fd.mN.afT=function(d,W,c,y){if(y==null)y=[!1,!1,!1,!1,!1];
if(!y[0])d.Li();var B=new jD,r=hd.Fm(d,B,y);return[B.data.buffer,r]};fd.mN.Cy=function(d,W,c,y){var B=fd.mN.afT(d,W,c,y),r=B[0],x=B[1];
return r.byteLength==x?r:r.slice(0,x)};fd.nN={};fd.nN.IX=!0;fd.nN.Pd=function(d,W){var c=pako.inflate(new Uint8Array(d)),y=K.Ou(c,0),B=K.Ou(c,2),r=4;
W.m=K.q(c,r);r+=4;W.i=K.q(c,r);r+=4;W.buffer=v.R(W.m*W.i*4);var x=K.Ou(c,r);r+=2;r+=4;for(var Z=0;Z<x;
Z++){var i=W.jb(),C=0,_=1,n=2,j=3,T=0;W.B.push(i);var k=K.q(c,r);r+=4;var H=r,V=K.Ou(c,H);H+=2;var g=K.uw(c,H,V);
H+=V;i.AP(g);var N=c[H];H++;if(N!=0&&N!=1)throw N;i.rect.x=K.OC(c,H);H+=4;i.rect.y=K.OC(c,H);H+=4;i.rect.m=K.q(c,H);
H+=4;i.rect.i=K.q(c,H);H+=4;if(y>3){C=K.OC(c,H);H+=4}i.opacity=Math.round(255*c[H]/100);H++;var w=c[H];
H++;i.vI(w!=0);i.E9="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[c[H]];
H++;var Y=c[H];H++;if(Y)i.add.lspf=1<<31;if(y>3){var U=K.Ou(c,H);H+=2;if(U!=0){var e=JSON.parse(K.uw(c,H,U));
H+=U;var O=e.text,l=e.textSettings,I=l.font,s=l.size,z=l.padding,R=parseInt(l.color.slice(1),16);i.add.lnsr="rend";
i.add.TySh=it.De(0,0);i.add.TySh.Nz=new a8(0,0,100,100);var t=i.add.TySh.e=new dT,a=i.rect.m/2,J=i.rect.i/2;
t.translate(-a,-J);t.rotate(-C*Math.PI/180);t.translate(a,J);t.translate(i.rect.x+z,i.rect.y+z);var F=i.add.TySh.p$;
it.gF(F,1);it.r_(F,[0,0,i.rect.m-z*2,i.rect.i]);it.kL(F,0,O);var h=it.tO(F,0,1);h.Cr.FontSize=s;h.Cr.FillColor={Type:1,Values:[1,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]};
if(l.bold)I+="-Bold";it.nn(h,I);h.a0.Justification=["left","right","center"].indexOf(l.align);it.ml(F,0,O.length,h)}}var m=K.q(c,H);
H+=4;if(m!=i.rect.P()*4){for(var S=i.rect.m;S>i.rect.m/2;S--){var D=m/(S*4);if(D==Math.round(D)){i.rect.m=S;
i.rect.i=D;break}}}i.buffer=v.R(i.rect.P()*4);if(y>3){_=0;n=1;j=2;T=3}for(var S=0;S<m;S+=4){i.buffer[S]=c[H+S+_];
i.buffer[S+1]=c[H+S+n];i.buffer[S+2]=c[H+S+j];i.buffer[S+3]=c[H+S+T]}H+=m;var L=K.q(c,H);H+=4;if(L==0&&y>3){r+=k;
continue}var p=c[H];H++;var E=K.Ou(c,H);H+=2;if(L!=0){i.t=new e8.JO;i.t.rect=i.rect.clone();i.t.channel=v.R(i.rect.P());
for(var S=0;S<L;S+=4)i.t.channel[S>>>2]=c[H+S+1];H+=L}if(p!=0){var G=JSON.parse(bV.default);i.add.lmfx=G;
for(var S=0;S<bV.order.length;S++)G[bV.Fb[S]]={t:"VlLs",v:[]};var A={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var S=0;S<p;S++){var u=K.Ou(c,H),q=H+u+4,o=c.slice(H,q),M=c[H+2];H+=3;var $=A[M+""],Q=JSON.parse(bV._R[$]);
G[bV.Fb[$]].v.push({t:"Objc",v:Q});if($!=0){Q.Md.v.BlnM=dB.XT("norm");Q.Opct.v.val=c[H];H++;if($==9||$==2){Q.Dstn.v.val=c[H+1];
H+=2}else H+=2;Q.blur.v.val=Math.round(c[H]*1.2);H++;if($==9||$==2){Q.uglg.v=!1;Q.lagl.v.val=180-K.Ou(c,H);
H+=2}Q.Clr.v=v.L.FV({Z:c[H+1],G:c[H+2],J:c[H+3]})}else{Q.hglM.v.BlnM=Q.sdwM.v.BlnM=dB.XT("norm");H+=2;
var kF=c[H++],P=c[H++];Q.blur.v.val=Math.round(Math.sqrt(P*kF)*1.3);Q.srgR.v.val=Math.round(100*kF/P);
Q.uglg.v=!1;Q.lagl.v.val=180-K.Ou(c,H);H+=2;Q.hglO.v.val=c[H++];Q.hglC.v=v.L.FV({Z:c[H+1],G:c[H+2],J:c[H+3]});
H+=4;Q.sdwO.v.val=c[H++];Q.sdwC.v=v.L.FV({Z:c[H+1],G:c[H+2],J:c[H+3]});H+=4}H=q}}if(H-r<k){var bM=K.q(c,H),bX=0;
H+=4;H++;var V=K.Ou(c,H);H+=2;var O=K.uw(c,H,V);H+=V;O=O.replace(/\r/g,"\n");var V=K.Ou(c,H);H+=2;var I=K.uw(c,H,V);
H+=V;var s=K.Ou(c,H);H+=2;var jW=i.rect.x,fX=i.rect.m;if(bM&4)bX=1;if(bM&2)bX=2;var ao=Math.round(s*.4);
if(bX==0||bX==2)fX+=ao;if(bX==1||bX==2){fX+=ao;jW-=ao}i.add.lnsr="rend";i.add.TySh=it.De(0,0);i.add.TySh.Nz=new a8(0,0,100,100);
i.add.TySh.e=new dT(1,0,0,1,jW,i.rect.y+s*.25);var F=i.add.TySh.p$;it.gF(F,1);it.r_(F,[0,0,fX,i.rect.i]);
it.kL(F,0,O);var h=it.tO(F,0,1);h.Cr.FontSize=s;h.Cr.FillColor={Type:1,Values:[1,c[H+1]/255,c[H+2]/255,c[H+3]/255]};
H+=4;if(c[H+5])I+="-Bold";if(c[H+6])I+="-Italic";it.nn(h,I);h.a0.Justification=bX;H+=8;it.ml(F,0,O.length,h)}r+=k}};
fd.Ey={};fd.Ey.IX=!0;fd.Ey.Pd=function(d,W){var c=UZIP.parse(d),y=JSON.parse(K.uw(c["manifest.json"].buffer));
W.m=y.width;W.i=y.height;W.buffer=v.R(W.m*W.i*4);W.name=y.name+".psd";var B=y.stack;for(var r=0;r<B.length;
r++){var x=B[r],Z=x.type,i=x.rect,k=x.format,H=W.jb();H.AP(x.name);H.vI(x.visible);H.opacity=Math.round(255*x.opacity);
var V=H.rect=new a8(i.x,i.y,i.w,i.h),g=i.r;if(g==null)g=0;W.B.push(H);if(Z=="image"&&g!=0||Z=="shape"&&k.variant=="svg"){var N=W.GC(c[x.content],H.getName(),0,0);
N.xy=H.xy;N.opacity=H.opacity;H=N;W.B.pop();W.B.push(H);var C=v.A.z$(V).j;v.A.e(C,fd.Ey.Wy(V,g),C);H.add.SoLd.Trnf=X.X.oY(C);
H.add.SoLd.nonAffineTransform=X.X.oY(C);H.Hg(W,!1)}else if(Z=="image"){var w=c[x.content].buffer,Y=fd.$Z(w),U=fd.Ay(Y),e=U.Pd(w)[0];
V.m=e.H2.m;V.i=e.H2.i;H.buffer=new Uint8Array(e.data)}else if(Z=="shape"){H.xy|=16;var O=H.add.vstk=bV._M.qw(!0),l=H.add.vmsk=new e8.vw,I;
H.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:0,G:0,J:0})}};var s=k.variant,z=k.fill;if(s=="rectangle"||s=="rounded"){I=v.o.GP.Rect(V.x,V.y,V.m,V.i,k.radii)}else if(s=="ellipse"){I=v.o.GP.a8(V.x,V.y,V.m,V.i)}else if(s=="path"){var R=Typr.U.SVGToPath(x.content),t={r:R.cmds,j:R.crds};
I=v.A.fI(t);var a=v.o.wV(I);v.o.hn(I,new dT(V.m/a.m,0,0,V.i/a.i,V.x,V.y))}else console.log(k);H.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:0,G:0,J:0})}};
if(z.type=="color"){H.add.SoCo.Clr.v=v.L.FV(CSS.I8(z.value))}else if(z.type=="gradient"){delete H.add.SoCo;
var J=H.add.GdFl=JSON.parse(bV._R[bV.order.indexOf("GrFl")]),F=J.Grad.v;F.Intr.v=0;var h=[],m=z.value.stops;
for(var S=0;S<m.length;S++){var D=m[S],_=CSS.I8(D.color);h.push([D.position,[_.Z/255,_.G/255,_.J/255]])}v.L.GW(h,F);
J.Angl.v.val=-(z.value.direction+g)+90+180}else console.log(z);var n=fd.Ey.Wy(V,g);v.o.hn(I,n);var j=x.style;
if(j&&j.outline){var T=j.outline;O.strokeEnabled.v=!0;O.strokeStyleLineWidth.v.val=T.size;O.strokeStyleContent.v.Clr.v=v.L.FV(CSS.I8(T.color))}l.Y=I;
H.h0();H.Ys(W)}else if(Z=="text"){H.add.lnsr="rend";H.add.TySh=it.De(0,0);H.add.TySh.Nz=new a8(0,0,100,100);
var L=H.add.TySh.p$;it.gF(L,1);it.r_(L,[0,0,V.m,V.i]);var p=x.content;it.kL(L,0,p);var E=it.tO(L,0,Math.min(p.length,1));
it.nn(E,k.font.name);var G=E.Cr.FontSize=Math.round(k.size);if(k.fill&&k.fill.value){var A=CSS.I8(k.fill.value);
E.Cr.FillColor={Type:1,Values:[1,A.Z/255,A.G/255,A.J/255]}}var u=k.linespace;if(u){E.Cr.AutoLeading=!1;
E.Cr.Leading=Math.round(G*(1.06+parseFloat(u)));console.log(u,E.Cr)}E.Cr.FauxBold=k.bold;E.a0.Justification=["left","right","center","justify"].indexOf(k.align);
it.ml(L,0,p.length,E);H.add.TySh.e=new dT(1,0,0,1,V.x+Math.round(G*.1),V.y+Math.round(G*.1));H.rect=new a8}else console.log(x)}W.O5=!0};
fd.Ey.Wy=function(d,W){var c=d.x+d.m/2,y=d.y+d.i/2,B=new dT;B.translate(-c,-y);B.rotate(-W*Math.PI/180);
B.translate(c,y);return B};fd.cS={};fd.cS.IX=!0;fd.cS.Pd=function(d,W){js.Nr(d,W)};var js=function(){function d(V,g){var N=Date.now(),C=UZIP.parse(V);
console.log(C);console.log(Date.now()-N);N=Date.now();var w=C["maindoc.xml"],Y=new DOMParser,U=Y.parseFromString(K.uw(w),"image/svg+xml").children[0].children[0],e=U.getAttribute("name"),O=g.m=k(U,"width"),l=g.i=k(U,"height");
g.tU=Math.round(k(U,"x-res"));var I=U.children[0].children;W(I,g,{Xn:e,th:C,UI:null});console.log(Date.now()-N);
N=Date.now()}function W(V,g,N){for(var C=0;C<V.length;C++){var w=V[V.length-1-C],Y=w.getAttribute("nodetype");
if(Y=="transparencymask"){N.UI.t=H(w,N);continue}var U=w.getAttribute("compositeop"),e=w.getAttribute("filename"),O=w.getAttribute("channelflags"),l=w.children;
l=l.length==0?null:l[0].children;var I=g.jb();if(Y=="paintlayer"){var s=k(w,"x"),z=k(w,"y"),R=N.th[N.Xn+"/layers/"+e+".defaultpixel"],t=N.th[N.Xn+"/layers/"+e],a=i(t);
I.rect=a[0];I.rect.offset(s,z);I.buffer=a[1];if(I.rect.Bb()&&R.join()!="0,0,0,0"){I.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:R[0],G:R[1],J:R[2]})}};
I.Ys(g)}}else if(Y=="grouplayer"){I.add.lsct=aG.ED;I.E9="pass";I.xy|=24;g.B.push(g.b7());var J=N.UI;
N.UI=I;W(l,g,N);N.UI=J}else if(Y=="shapelayer"){var t=N.th[N.Xn+"/layers/"+e+".shapelayer/content.svg"],F=K.uw(t),h=g.GC(t,I.getName(),0,0);
I=h;var m=new a8(0,0,g.m,g.i),D=v.A.z$(m).j;I.add.SoLd.Trnf=X.X.oY(D);I.add.SoLd.nonAffineTransform=X.X.oY(D);
I.Hg(g,!1)}else if(Y=="clonelayer"){var S=-1;for(var _=0;_<V.length;_++)if(V[_].getAttribute("name")==w.getAttribute("clonefrom"))S=_;
if(S!=-1){W([V[S]],g,N);I=g.B.pop()}}else console.log(Y,w);I.AP(w.getAttribute("name"));if(k(w,"locked")==1)I.add.lspf=1<<31;
I.vI(k(w,"visible")==1);var n={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[U];if(n)I.E9=n;
else console.log(U);I.opacity=k(w,"opacity");if(O=="1110")I.TA=!0;var j=l?l[0]:null;if(j&&j.tagName=="mask")I.t=H(j,N);
g.B.push(I)}}function c(V,g){var N=0,C=0,w=V.length,Y,U,e;while(N<w){Y=V[N++];if(Y>31){U=Y>>>5;if(U==7)U=7+V[N++];
e=(Y&31)<<8|V[N++];var O=C-e-1,l=U>>>1;g[C++]=g[O++];g[C++]=g[O++];for(var S=0;S<l;S++){g[C++]=g[O++];
g[C++]=g[O++]}if((U&1)==1)g[C++]=g[O++]}else{for(var S=0;S<=Y;S++){g[C++]=V[N++]}}}}function y(V,g){var N=0;
while(V[g+N]!=10)N++;return K.xA(V,g,N)}var B=new a8(0,0,64,64),r=new Uint8Array(64*64*4),x=new Uint8Array(64*64*4);
function Z(){for(var S=0;S<4096;S++){var V=S<<2;r[V+0]=x[S+8192];r[V+1]=x[S+4096];r[V+2]=x[S];r[V+3]=x[S+12288]}}function i(V){var g=0,N={};
for(var S=0;S<5;S++){var C=y(V,g);g+=C.length+1;C=C.split(" ");N[C[0]]=parseInt(C[1])}var w=N.PIXELSIZE,Y=[],U=new a8;
while(g<V.length){var C=y(V,g),e=C.split(",");g+=C.length+1;if(e[2]!="LZF")throw e[2];B.x=parseInt(e[0]);
B.y=parseInt(e[1]);U=U.hB(B);var O=parseInt(e[3]);Y.push([B.clone(),new Uint8Array(V.buffer,g+1,O-1)]);
g+=O}var l=v.R(U.P()*w);for(var S=0;S<Y.length;S++){var I=Y[S];c(I[1],x);if(w==4){Z();v.qR(r,I[0],l,U)}else v.ZW(x,I[0],l,U)}return[U,l]}function k(V,g){return parseInt(V.getAttribute(g))}function H(V,g){var N=V.getAttribute("filename"),C=g.th[g.Xn+"/layers/"+N+".pixelselection"],w=i(C),Y=new e8.JO;
Y.Cj=k(V,"visible")==1;Y.rect=w[0];Y.channel=w[1];return Y}return{Nr:d}}();fd.MU={};fd.MU.IX=!0;fd.MU.Pd=function(d,W){e$.Nr(d,W)};
fd.he={};fd.he.Pd=function(d){var W=new Uint8Array(d),c=fd.he.T_(W,0,0),y=c.sub[2],B=fd.he.acZ(W,y),r=c.sub[3],x=fd.he.acZ(W,r);
return[B,x]};fd.he.acZ=function(d,W){var c=W.sub[W.sub.length-1],y=c.sub[0].z,B=c.sub[1].z,r=d.slice(y,y+16),x=d.slice(B,B+c.sub[1].size),Z=K.kK,i=d[y],k=Z(d,y+1),H=Z(d,y+5),V=d[y+13],g=new a8(0,0,k,H),N=v.R(k*H*4);
if(V){new Uint32Array(N.buffer).fill(4278190080)}else{UTEX.readBC1(d,B,N,k,H)}return{H2:g,data:N}};fd.he.T_=function(d,W,c){var y=K.xA,B=K.kK,r=y(d,W,4);
r=r.split("").reverse().join("");var x=B(d,W+4);if(x!=0){console.log(d.slice(W-8));throw x}var Z=B(d,W+8);
while((Z&3)!=0)Z++;var i={QY:r,z:W+12,size:Z};if(r=="CARF"||r=="CTEX"||r=="CREW"||r=="BMAP"){i.sub=[];
W+=12;if(r=="CTEX"||r=="CREW")W+=32;var k=i.z+i.size;while(W<k){var H=fd.he.T_(d,W,c+1);i.sub.push(H);
W+=12+H.size+(H.size&1)}}return i};fd.uK={};fd.uK.IX=!0;fd.uK.Pd=function(d,W){i7.Nr(d,W)};fd.mr={};
fd.mr.IX=!0;fd.mr.Pd=function(d,W){ie.Nr(d,W)};fd.e6={};fd.e6.IX=!0;fd.e6.Pd=function(d,W){aj.Nr(d,W)};
fd.Aq={};fd.Aq.IX=!0;fd.Aq.Pd=function(d,W){jc.Nr(d,W)};fd.vr={};fd.vr.IX=!0;fd.vr.Pd=function(d,W){hk.Nr(d,W)};
fd.Tv={};fd.Tv.IX=!0;fd.Tv.Cy=function(d,W,c,y,B,r){if(y==null)y=[!0,!1,!1,!1,!0];var x=d_.dn(d,{Yz:y[0],hidden:y[1],aDm:y[2],aDh:y[3],D$:y[4],ai$:W,a4q:c},B.Sm,r);
return x};fd.Tv.Pd=function(d,W,c){d_.Nr(d,W,c)};fd.JF={};fd.JF.IX=!0;fd.JF.Pd=function(d,W){var c=150,y=new dT(1,0,0,-1,0,0);
y.scale(c/72,c/72);W.tU=c;var B=new jg(W,y,!0);FromPS.Parse(d,B)};fd.XE={};fd.XE.IX=!0;fd.XE.Cy=function(d,W,c,y,B){if(y==null)y=["",100,!1,!1,!1,0,!1];
y[7]=["jpg"];var r=new ToPDF;aS.dn(d,y,r,B.Sm,W,c);return r.buffer};fd.XE.Pd=function(d,W,c){var y=2;
while(!0){var B=y*72,r=new dT(1,0,0,-1,0,0);r.scale(B/72,B/72);W.tU=B;var x=new jg(W,r,!0);FromPDF.Parse(d,x);
var Z=Math.max(W.m,W.i);if(c&&Z<Math.max(c[0],c[1])){W.B=[];var i=y;while(Z*(y/i)<Math.max(c[0],c[1]))y++}else break}};
fd._G={};fd._G.IX=!0;fd._G.Pd=function(d,W){var c=72,y=new dT(1,0,0,1,0,0);y.scale(c/72,c/72);W.tU=c;
var B=new jg(W,y,!1);FromWMF.Parse(d,B)};fd.Ya={};fd.Ya._U=!0;fd.Ya.IX=!0;fd.Ya.Cy=function(d,W,c,y,B){if(y==null)y=["",100,!1,!1,!1,0,!1];
y[7]=[];var r=new ToEMF;aS.dn(d,y,r,B.Sm);return r.buffer};fd.Ya.Pd=function(d,W){var c=72,y=new dT(1,0,0,1,0,0);
y.scale(c/72,c/72);W.tU=c;var B=new jg(W,y,!1);FromEMF.Parse(d,B)};fd.Di={};fd.Di.IX=!0;fd.Di.Pd=function(d,W){return kD.Nr(d,W)};
fd.ak1={};fd.ak1.Pd=function(){var d,W,c,y,B,r,x=0,Z=0,i=0,k=0,H=0,e="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",O=null;
function V(l){var I=dm.Nr(l),s=I.sy,F=0,h,m;console.log(I);var z=new Uint8Array(l);if(s=="ILBM")return g(I,z);
if(s=="CIMG")return w(I,z);if(s=="ANIM"&&I.sub[0].QY=="ADAT")return U(I,z);if(s!="ANIM")throw s;var R=K.Ou,t=K.q,a=I.sub,J=g(a[0],z);
for(var D=1;D<a.length-2;D++){var _=J[Math.max(0,D-2)].afi.slice(0),n=a[D];for(var j=0;j<n.sub.length;
j++){var T=n.sub[j],L=T.z;if(T.QY=="ANHD"){var p=z[L++];if(p!=5)throw p;var y=z[L++],E=R(z,L),G=R(z,L+2);
if(E!=0&&E!=d)throw E;if(G!=0&&G!=W)throw G;var A=R(z,L+4),u=R(z,L+6);if(A!=0||u!=0)throw A;L+=8;var q=R(z,L);
L+=2;h=R(z,L);L+=2;if(z[L++]!=0)throw"e";if(z[L++]!=0)throw"e";m=R(z,L);L+=2}else if(T.QY=="DLTA"){var o=[],M=L;
for(var S=0;S<16;S++)o.push(t(z,L+S*4));L+=64;var $=r;for(var Q=0;Q<B;Q++){if(o[Q]==0)continue;L=M+o[Q];
for(var kF=0;kF<$;kF++){var P=z[L++],bM=0;if(P==0)continue;for(var S=0;S<P;S++){var jW=z[L++];if(jW==0){var fX=z[L++],bX=z[L++];
for(var ao=0;ao<fX;ao++){_[(bM*B+Q)*$+kF]=bX;bM++}}else if(jW<128){bM+=jW}else{jW-=128;for(var ao=0;
ao<jW;ao++){_[(bM*B+Q)*$+kF]=z[L+ao];bM++}L+=jW}}}}}else console.log(T.QY)}if(D==1&&h>100)h=0;var en=h==0?17:Math.round((h-F)*1e3/60);
J.push({data:C(z,_).buffer,H2:new a8(0,0,d,W),afi:_,l6:"_a_frm"+D+","+en});F=h}if(i!=0&&d>W*2){var fK=new Uint32Array(d*W*2);
fK.fill(4294967295);for(var D=0;D<J.length;D++){var bO=J[D],b9=new Uint32Array(bO.data);for(var bM=0;
bM<W;bM++){var bK=bM*2;for(var kF=0;kF<d;kF++)fK[bK*d+kF]=b9[bM*d+kF];bK++;for(var kF=0;kF<d;kF++)fK[bK*d+kF]=b9[bM*d+kF]}bO.H2.i*=2;
bO.data=fK.slice(0).buffer}}return J}function g(l,I){var s,z,R;x=0;Z=0;k=0;H=0;i=0;for(var t=0;t<l.sub.length;
t++){var a=l.sub[t],J=a.z;if(a.QY=="BMHD"){var F=[];for(var S=0;S<4;S++)F[S]=K.Ou(I,J+2*S);J+=8;var h=F[2],m=F[3];
d=F[0];W=F[1];c=I[J++];y=I[J++];R=I[J++];if(R!=0&&R!=1)throw R;r=d+15>>>4<<1;B=c+y}else if(a.QY=="CMAP")x=J;
else if(a.QY=="CAMG"){var D=K.q(I,J);Z=D&32768,i=D&4,k=D&2048;H=D&128}else if(a.QY=="BODY"){z=v.R(r*W*B);
if(R==0)z=I.slice(J,J+z.length);if(R==1)eu.St(I,J,a.size,z,0,z.length)}else if(a.QY=="PLTP"){console.log(I.slice(J,J+a.size))}}s=C(I,z);
return[{H2:new a8(0,0,d,W),data:s.buffer,afi:z}]}function N(l,bd){return l[bd>>>3]>>>7-(bd&7)&1}function C(l,I){var s=c-2,z=(1<<s)-1,R=Math.round(255/z),t,a,J,F=r*8;
if(x!=0){var h=1<<c,m=!0;for(var S=1;S<h;S++){var D=x+S*3;if(l[D]!=l[D-3]||l[D+1]!=l[D-2]||l[D+2]!=l[D-1]&&l[D+2]!=l[D-1]+1)m=!1}if(m){for(var S=0;
S<h;S++){var D=x+S*3,_=Math.round(S*255/(h-1));l[D]=l[D+1]=l[D+2]=_}}}var n=v.R(d*W*4);for(var j=0;j<W;
j++)for(var T=0;T<d;T++){var L=0;for(var p=0;p<B;p++){var E=(j*B+p)*F+T,G=N(I,E);L|=G<<p}L=L&(1<<c)-1;
var S=j*d+T,A=S<<2;if(x!=0){if(k!=0&&L>>>s!=0){var u=L>>>s,q=(L&z)*R;if(u==1)J=q;else if(u==2)t=q;else if(u==3)a=q}else{var q=x+L*3;
t=l[q+0];a=l[q+1];J=l[q+2]}}else{if(c==24){t=L>>>0&255;a=L>>>8&255;J=L>>>16&255}else if(c==16){var o=0,M=1,Q=4;
for(var p=0;p<16;p++)o+=(L>>>p&1)<<15-p;var $=(1<<M)-1,kF=(1<<Q)-1;t=(o>>>7&$)*(255/$);a=J=t}else throw c}n[A+0]=t;
n[A+1]=a;n[A+2]=J;n[A+3]=255}return n}function w(l,I){var s=1,z=2,R=4,t=K.q,a=K.Ou,d=200,W=200,J,F,h,m;
for(var D=0;D<l.sub.length;D++){var _=l.sub[D],n=_.z;if(_.QY=="TBHD"){d=t(I,n);n+=4;W=t(I,n);n+=4;m=v.R(d*W*4);
h=new a8(0,0,d,W);n+=4;var j=t(I,n);n+=4;var T=a(I,n);n+=2;if(T!=0)throw"e";F=a(I,n);n+=2;var L=t(I,n);
n+=4;if(L!=1)throw L;J=0;if(j&s)J+=3;if(j&z)J+=1}if(_.sy=="TBMP"){var p=_.sub;for(var E=0;E<p.length;
E++){var G=p[E].z,A=p[E].size,u=a(I,G),q=a(I,G+2),o=a(I,G+4)-u+1,M=a(I,G+6)-q+1;G+=8;var $=v.R(o*M*4),Q=v.R(o*M);
$.fill(255);for(var S=0;S<4;S++){G=Y(I,G,A-8,Q,0);v.nP(Q,$,3-S)}if(G!=p[E].z+A)throw"e";v.qR($,new a8(u,q,o,M),m,h)}}}return[{H2:h,data:m.buffer}]}function Y(l,I,s,z,R){var t=I;
while(R<z.length){var a=l[I++],bU=(a&127)+1;if(a&128){a=l[I++];for(var S=0;S<bU;++S)z[R++]=a}else{for(var S=0;
S<bU;++S)z[R++]=l[I++]}}return I}function U(l,I){if(O==null){var s=fd.bw(e);O=new Uint32Array(pako.inflate(new Uint8Array(s)).buffer)}var z=K.q,R=K.Ou,t=l.sub[0],a=l.sub[1],d=R(I,t.z),W=R(I,t.z+2),J=R(I,t.z+4),_,S,n,j,T,L;
if(J!=3)throw J;var F=new a8(0,0,d,W),h=v.R(d*W*4),m=v.R(d*W);h.fill(255);var D=new Uint32Array(h.buffer),p=a.z;
for(j=0;j<2;j++){L=j;T=0;_=Math.floor((d*W+2-j-1)/2);while(_>0){S=I[p++];if(S&128){S=257-S;_-=S;n=I[p++];
T=T&O[n]|O[n+256];do{D[L]=T;L+=2}while(--S)}else{S++;_-=S;do{n=I[p++];D[L]=T=T&O[n]|O[n+256];L+=2}while(--S)}}}for(var S=0;
S<h.length;S+=4){var E=h[S+3],G=h[S+2],A=h[S+1];h[S]=E;h[S+1]=G;h[S+2]=A;h[S+3]=255}for(var u=0;u<W>>>1;
u++){for(var q=0;q<d;q++){var S=u*d+q,n=(W-1-u)*d+q,o=D[S];D[S]=D[n];D[n]=o}}return[{H2:F,data:h.buffer}]}return V}();
fd.ip={};fd.ip.IX=!1;fd.ip.Cy=function(d,W,c,y){var B=d[0][4],r=new Uint8Array(d[0][0]),x=2,Z=B?!0:!1,i=Z?4:3,k=new Uint8Array(W*c*i);
for(var H=0;H<c;H++)for(var V=0;V<W;V++){var g=H*W+V<<2,N=((c-H-1)*W+V)*i;k[N]=r[g+2];k[N+1]=r[g+1];
k[N+2]=r[g+0];if(Z)k[N+3]=B[0][H*W+V]}if(!0){var C=k.length,w=0,Y=new Uint8Array(C*2),U=0,e=0,O=W*i;
while(e<C){var l=e,I=0,s=O*(Math.floor(e/O)+1);while(l<s&&I<128){var z=!0;for(var S=0;S<i;S++)z=z&k[e+S]==k[l+S];
if(!z)break;l+=i;I++}if(I==1){var R=1;while(R<128&&e+(R+1)*i<s){var z=!0,t=e+R*i;for(var S=0;S<i;S++)z=z&k[t+S]==k[t+i+S];
if(z)break;R++}Y[U++]=R-1;for(var a=0;a<R;a++)for(var S=0;S<i;S++)Y[U++]=k[e++]}else{Y[U++]=127+I;for(var S=0;
S<i;S++)Y[U+S]=k[e+S];U+=i;e+=i*I;w+=I}}k=Y.slice(0,U);x+=8}var J=new Uint8Array(18+k.length+26);J[2]=x;
K.M9(J,12,W);K.M9(J,14,c);J[16]=i*8;J[17]=i==4?8:0;J.set(k,18);K.sv(J,18+k.length+8,"TRUEVISION-XFILE.");
return J.buffer};fd.ip.Pd=function(d){var W=new Uint8Array(d),c=0,y=W[0],B=W[1],r=W[2],x=W[4]*256+W[3],Z=W[6]*256+W[5],i=W[7],k=W[9]*256+W[8],H=W[11]*256+W[10],V=W[13]*256+W[12],g=W[15]*256+W[14],N=W[16],C=W[17],w=C>>>4,Y=K.xA(W,18,y),U=v.R(V*g*4),c=18+y+(Z*i>>>3),e=new Uint8Array(W.buffer,c);
if(r>3){var O=0,l=W,I=new Uint8Array(V*g*N>>>3),s=c,z=0,R=W.length,t=N>>>3;while(z<I.length){var bd=l[s];
s++;if(bd<128)for(var S=0;S<bd+1;S++){for(var a=0;a<t;a++){I[z]=l[s];z++;s++}}else{for(var S=0;S<bd-127;
S++){for(var a=0;a<t;a++){I[z]=l[s+a];z++}}s+=t}}r-=8;e=I;c=s}else c+=V*g*N>>>3;var J=new Uint8Array(4),F=fd.ip.anG;
for(var h=0;h<g;h++)for(var m=0;m<V;m++){var D=(w&2)==0?(g-h-1)*V+m:h*V+m,_=h*V+m,n,j,T,L=255,p=D*N>>>3;
if(r==1){var E=0;if(N==8)E=e[p];else throw"e";F(W,18+y+x+(E*i>>>3),i,J);n=J[0];j=J[1];T=J[2];L=J[3]}else if(r==2){F(e,p,N,J);
n=J[0];j=J[1];T=J[2];L=J[3]}else if(r==3){if(N==8)n=j=T=e[p];else throw"e"}var G=_*4;U[G]=n;U[G+1]=j;
U[G+2]=T;U[G+3]=L}var J={H2:new a8(0,0,V,g),data:U.buffer,l6:Y};if(v._Q(U)){var A=v.R(V*g);v.$P(U,A,3);
v.ft(U,4278190080,16777215);J.iv=[A]}return[J]};fd.ip.anG=function(d,W,c,y){var B,r,x,Z=255;if(c==24||c==32){x=d[W];
r=d[W+1];B=d[W+2];if(c==32)Z=d[W+3]}else if(c==16){var i=d[W+1]<<8|d[W+0];B=i>>>10&31;r=i>>>5&31;x=i>>>0&31;
B=Math.round(B*(255/31));r=Math.round(r*(255/31));x=Math.round(x*(255/31))}else throw"e";y[0]=B;y[1]=r;
y[2]=x;y[3]=Z};fd.ah_=function(){var d,W=[],c=!1;function y(x,Z,i,k){d=i;W.push(x,k);B()}function B(){if(c||W.length==0)return;
c=!0;fd.a6Y(W.shift(),"image/avif",r)}function r(x){d(null,[x],W.shift());c=!1;B()}return{IX:!1,ka:!0,Pd:y}}();
fd.a5G=function(){var d,W=[],c=!1,y,B,r,x=10,Z,i,k,H=0,g;function V(O,l,I,s,z){d=I;W.push(O,s);var R=b$.Nr(O),t=b$.a6E(R,"vide"),a=t.tkhd,J=t.mdia.minf.stbl,F=a.duration/R.moov.mvhd.$$,h=J.stsz.length,m=Math.round(h/F);
console.log(R);y=a.Kp;B=a.fn;var D=y+" \xD7 "+B+" px, "+h+" frames, "+cA.oZ(y*B*4*h)+" decoded<br/>";
D+=F.toFixed(2)+" seconds, "+m+" FPS";var _=new bR(b.E.V,!0);_.data={d:b.H.vB,vD:"setFPS",qp:x,Ws:w,a9c:D};
z.T(_)}async function N(){if(c||W.length==0)return;c=!0;var O=W.shift(),l=b$.Nr(O),I=b$.a6E(l,"vide"),s=I.tkhd,z=I.mdia.minf.stbl,R=z.stsd.a2a.avcC,t=s.duration/l.moov.mvhd.$$,a=z.stsz.length,J=Math.round(a/t),F=Math.max(1,Math.round(J/x)),h=z.stsd.Jg,_=0;
console.log(h);if(["hvc1","hev1","apcn"].indexOf(h)!=-1)alert(h.toUpperCase()+" codec not supported");
g=Date.now();y=s.Kp;B=s.fn;r=[];Z=document.createElement("canvas");i=Z.getContext("2d");Z.width=y;Z.height=B;
var m=new Uint8Array(O),D=[];if(z.stsd.Jg=="raw "){for(var n=0;n<a;n++){var j=y*B;if(_%F==0){var T=b$.asn(l,"vide",n),L=new Uint8Array(O,T[0],T[1]),p=v.R(y*B*4);
p.fill(255);for(var S=0;S<j;S++){var E=S*4,G=S*3;p[E]=L[G];p[E+1]=L[G+1];p[E+2]=L[G+2]}var A=r.length;
r[A]={l6:"_a_"+A+","+Math.round(F*1e3/J),H2:new a8(0,0,y,B),data:p}}_++}C();return}var u=new VideoDecoder({output:function(M){if(_%F==0){i.drawImage(M,0,0);
M.close();var p=i.getImageData(0,0,y,B).data.buffer,A=r.length;r[A]={l6:"_a_"+A+","+Math.round(F*1e3/J),H2:new a8(0,0,y,B),data:p}}else M.close();
clearTimeout(H);H=setTimeout(C,100);_++},error:function(M){console.log(M.message)}}),q={codec:"vp09.00.10.08",codedWidth:y,codedHeight:B};
if(R){q.codec="avc1.640034";q.description=m.slice(R.z,R.z+R.WB)}u.configure(q);for(var S=0;S<a;S++){var T=b$.asn(l,"vide",S),L=new Uint8Array(O,T[0],T[1]),o=new EncodedVideoChunk({timestamp:S,duration:1e3,type:S==0?"key":"delta",data:L});
u.decode(o)}await u.flush()}function C(){d(null,r,W.shift());c=!1;console.log(Date.now()-g);N()}function w(O){x=Math.max(1,Math.min(60,O));
if(window.VideoDecoder)N();else Y()}function Y(){if(c||W.length==0)return;c=!0;Z=document.createElement("canvas");
i=Z.getContext("2d");k=document.createElement("video");var O="data:"+"video/mp4"+";base64,"+fd.Ux(W.shift());
k.src=O;k.muted=!0;k.currentTime=0;k.addEventListener("canplay",U,!1);k.addEventListener("timeupdate",e,!1)}function U(O){k.removeEventListener("canplay",U);
y=Z.width=k.videoWidth;B=Z.height=k.videoHeight;r=[];k.play()}function e(O){clearTimeout(H);i.drawImage(k,0,0);
r.push({l6:"_a_"+r.length+","+Math.round(1e3/x),H2:new a8(0,0,y,B),data:i.getImageData(0,0,y,B).data.buffer});
var l=k.currentTime+1/x;if(l<k.duration&&O){k.currentTime=l;H=setTimeout(e,1e3)}else{d(null,r,W.shift());
k.removeEventListener("timeupdate",e);c=!1;Y();r=null}}return{IX:!1,ka:!0,Pd:V}}();fd.a5G.Cy=function(){var d,W,c,y,B,r,x=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],Z=40,i,k,H,V,g,N;
function C(h,m){if(!B&&m){if(m.description){B=m.description}if(m.decoderConfig&&m.decoderConfig.description){B=m.decoderConfig.description}}var D=new ArrayBuffer(h.byteLength);
h.copyTo(D);w(D);c.push({duration:h.duration,timestamp:h.timestamp,type:h.type,byteLength:h.byteLength});
if(h.type=="key"){y.push(c.length)}}function w(h){var m=new Uint8Array(r.byteLength+h.byteLength);m.set(new Uint8Array(r));
m.set(new Uint8Array(h),r.byteLength);r=m.buffer}function Y(h){return new Uint8Array([h.charCodeAt(0),h.charCodeAt(1),h.charCodeAt(2),h.charCodeAt(3)]).buffer}function U(h){var m=new Uint32Array([h]),D=new Uint8Array(m.buffer);
return new Uint8Array([D[3],D[2],D[1],D[0]])}function e(h){g[V]=h;++V}function O(h){g[V]=h>>8&255;g[V+1]=h&255;
V+=2}function l(h){g[V]=h>>16&255;g[V+1]=h>>8&255;g[V+2]=h&255;V+=3}function I(h){g[V]=h>>24&255;g[V+1]=h>>16&255;
g[V+2]=h>>8&255;g[V+3]=h&255;V+=4}function s(h){H.push(V);V+=4;z(h)}function z(h){for(var S=0;S<h.length;
++S){g[V]=h.charCodeAt(S);++V}}function R(h){g.set(new Uint8Array(h),V);V+=h.byteLength}function t(){var h=V;
V=H.pop();I(h-V);V=h}function a(){H=[];var h=[],m={},D=9e4,_=c.length,n=y.length,j=-1;for(var S=0;S<c.length;
++S){i+=c[S].duration/1e3;k+=c[S].byteLength;if(c[S].duration!=j){if(S!=0){h.push(m)}j=c[S].duration;
m={duration:9e4*c[S].duration/1e6,sampleCount:1}}else{m.sampleCount=m.sampleCount+1}}k+=8;h.push(m);
var T=h.length,L=579+B.byteLength+4*_+4*_+4*n+8*T;g=new Uint8Array(L);V=0;s("moov");s("mvhd");I(0);I(0);
I(0);I(1e3);I(i);I(65536);O(256);O(0);I(0);I(0);I(65536);I(0);I(0);I(0);I(65536);I(0);I(0);I(0);I(1073741824);
I(0);I(0);I(0);I(0);I(0);I(0);I(2);t();s("trak");s("tkhd");I(7);I(0);I(0);I(1);I(0);I(i);I(0);I(0);O(0);
O(0);O(256);O(0);I(65536);I(0);I(0);I(0);I(65536);I(0);I(0);I(0);I(1073741824);I(d*65536);I(W*65536);
t();s("mdia");s("mdhd");I(0);I(0);I(0);I(D);I(i/1e3*D);e(85);e(196);O(0);t();s("hdlr");I(0);I(0);z("vide");
I(0);I(0);I(0);z("VideoHandler");e(0);t();s("minf");s("vmhd");I(1);O(0);O(0);O(0);O(0);t();s("dinf");
s("dref");I(0);I(1);s("url ");I(1);t();t();t();s("stbl");s("stsd");I(0);I(1);s("avc1");O(0);O(0);O(0);
O(1);O(0);O(0);I(0);I(0);I(0);O(d);O(W);I(4718592);I(4718592);I(0);O(1);for(var S=0;S<8;++S){I(0)}O(24);
O(-1);s("avcC");R(B);t();t();t();s("stts");I(0);I(T);for(var S=0;S<T;++S){I(h[S].sampleCount);I(h[S].duration)}t();
s("stsc");I(0);I(1);I(1);I(1);I(1);t();s("stsz");I(0);I(0);I(_);for(var S=0;S<_;++S){I(c[S].byteLength)}t();
s("stco");I(0);I(_);var p=Z;for(var S=0;S<_;++S){I(p);p+=c[S].byteLength}t();s("stss");I(0);I(n);for(var S=0;
S<n;++S){I(y[S])}t();t();t();t();t();t();return}function J(h,m,D){var _=new Uint8Array(d*W*4),n=new Uint8Array(h),j=m?d-1:d,T=D?W-1:W;
if(m){for(var S=0;S<T;++S){_.set(n.slice(4*S*j,4*S*j+4*j),4*S*d);_[4*(S+1)*d-4]=n[4*(S+1)*j-4];_[4*(S+1)*d-3]=n[4*(S+1)*j-3];
_[4*(S+1)*d-2]=n[4*(S+1)*j-2];_[4*(S+1)*d-1]=n[4*(S+1)*j-1]}if(D){_.set(_.slice(4*d*T-4*d,4*d*T),4*d*T)}}else if(D){_.set(n);
_.set(n.slice(4*j*T-4*j),4*j*T)}return _.buffer}async function F(h,m,D,_){var n=Date.now(),j=!1,T=!1,o=0;
if(m%2!=0){j=!0;d=m+1}else{d=m}if(D%2!=0){T=!0;W=D+1}else{W=D}B=null;y=[];c=[];i=0;k=0;r=new Uint8Array;
w(new Uint8Array(x));w(U(0).buffer);w(Y("mdat"));var L=new VideoEncoder({output:(chunk,opts)=>C(chunk,opts),error:jj=>{console.log(jj)}}),p=.02*(1+Math.pow(3.2*_[0]/100,2.3)),E=p*d*W,G=E*h.length,A=Math.round(E*24),u={width:d,height:W,codec:"avc1.420034",bitrate:A},q=await VideoEncoder.isConfigSupported(u);
console.log(q);if(q.supported==!1){console.log("Encoding not supported. Config: ",q.config);return new Uint8Array(0).buffer}L.configure(u);
for(var S=0;S<h.length;++S){var M=h[S][1]*1e3,$=h[S][0];if(T||j){$=J(h[S][0],j,T)}var Q=new VideoFrame($,{timestamp:o,duration:M,format:"RGBA",codedWidth:d,codedHeight:W});
L.encode(Q);Q.close();o+=M}await L.flush();a();N=new Uint8Array(r.byteLength+g.byteLength);N.set(new Uint8Array(r),0);
N.set(U(k),Z-8);N.set(g,r.byteLength);var kF=Date.now();console.log(kF-n);return N.buffer}return F}();
fd.Rx={};fd.Rx.Pd=function(d){var W=new Uint8Array(d),c=0,y=112,B=42,r=K.kK,H;c+=8;var x=W[c];c++;if(x!=B)throw"e";
var Z=r(W,c);c+=4;var i=K.ud(W,c,Z);c+=Z*2;var k=[];while(c<W.length){H=r(W,c);c+=4;if(H!=y)throw H;
c+=4;H=W[c];c++;if(H!=B)throw H;var V=r(W,c);c+=4;var g=W[c];c++;if(g!=B){c-=5;V=r(W,c);c+=8;H=W[c];
c++;if(H!=B)throw H}var N=r(W,c)*2;c+=4;if(V>0)k.push(c+N);c+=N+V}var C=new DOMParser,w=C.parseFromString(i,"image/svg+xml").firstChild.firstChild,Y=[];
fd.Rx.abW(w,W,k,Y);return Y};fd.Rx.abW=function(d,W,c,y){var B=d.firstChild.firstChild;if(B.tagName=="Image"){var r=B.getElementsByTagName("ImageDescription")[0],x=r.children[0].children,Z=r.children[1].children,i=c.shift(),k=[];
for(var S=0;S<Z.length;S++)k.push(parseInt(Z[S].getAttribute("NumberOfElements")));while(k.length>3)k[2]*=k.pop();
var H=x.length,V=k[0],g=k[1],N=k[2],C=parseInt(Z[0].getAttribute("BytesInc"));for(var w=0;w<N;w++){var Y=v.R(V*g*4);
v.ft(Y,4278190080);for(var U=0;U<H;U++){var e=v.R(V*g);if(C==1)for(var O=0;O<e.length;O++)e[O]=W[i+O];
else if(C==2)for(var O=0;O<e.length;O++)e[O]=Math.min(255,(W[i+O*2+1]<<8|W[i+O*2])>>>2);else throw C;
if(U!=3)v.nP(e,Y,U);if(H==1){v.nP(e,Y,1);v.nP(e,Y,2)}i+=V*g*C}y.push({H2:new a8(0,0,V,g),data:Y.buffer})}}else{var l=d.children,I=0;
while(I<l.length&&l[I].tagName!="Children")I++;if(I==l.length)throw"e";l=l[I].children;for(var s=0;s<l.length;
s++)fd.Rx.abW(l[s],W,c,y)}};fd.azN=function(){function d(x,Z,i,k,H){var V=new Int8Array(x.buffer),g=new Int8Array(k.buffer),N=Z+i;
while(Z<N){var bd=V[Z];Z++;if(bd>=0&&bd<128)for(var S=0;S<bd+1;S++){g[H]=V[Z];H++;Z++}if(bd>=-127&&bd<0){for(var S=0;
S<-bd+1;S++){g[H]=V[Z];H++}Z++}}return H}function W(x,Z,i,k,H,V){var g=Z*i*k>>>3,N=v.R(g*H),C=y(x,0,0,0)[0];
for(var w=0;w<H;w++){var Y=C[w+1];if(V){var U=fd.Ay("jpg").Pd(Y.buffer),e=v.R(g);v.ou(new Uint8Array(U[0].data),e);
N.set(e,g*w)}else if(Y[0]==255&&Y[1]==216&&Y[2]==255){var O=UTIF.LosslessJpegDecode(Y);N.set(new Uint8Array(O.buffer),g*w)}else d(Y,64,Y.length,N,g*w)}return N}function c(x){var Z=new Uint8Array(x),i=0,k=K.xA(Z,0,128);
i+=128;var H=K.xA(Z,i,4);i+=4;var V=B(Z,i,0)[0],g=V.g28;if(g==null){alert("No image.");return[]}var N=g.cols,C=g.rows,w=N*C,Y=g.photoInterpret,U=g.bitsAlloc,e=g.bitsStored,O=g.lossyCompr;
if(O==null)O=V.g8.lossyCompr;var l=V.g7fe0.pixelData,I=g.numOfFrames;I=I?parseInt(I):1;var s=new Uint8Array(l.buffer),z=w*U>>>3;
if(s.length!=z*I){l=W(l,N,C,U,I,O)}else{}if(U==16)l=new Uint16Array(l.buffer);console.log(g);console.log(V);
var R=[];for(var t=0;t<I;t++){var a=t*z,x=v.R(N*C*4);x.fill(255);if(Y=="MONOCHROME2"){var J=0,F=255,h=g.largestValue,m=g.smallestValue;
if(h!=null){F=h;J=m}else if(e!=8){F=0;J=1e9;for(var S=0;S<w;S++){var D=l[a+S];if(D>1<<e-8){if(D>F)F=D;
if(D<J)J=D}}}var _=255/(F-J);for(var S=0;S<w;S++){var D=Math.max(0,Math.min(255,(l[a+S]-J)*_)),n=S*4;
x[n]=x[n+1]=x[n+2]=D}}else if(Y=="PALETTE COLOR"){var j=g.pltRed,T=g.pltGreen,L=g.pltBlue;for(var S=0;
S<w;S++){var p=l[a+S],n=S*4;x[n]=j[p]>>>8;x[n+1]=T[p]>>>8;x[n+2]=L[p]>>>8}}else throw Y;R.push({H2:new a8(0,0,N,C),data:x.buffer})}return R}function y(x,Z,i,k){if(i==0)i=x.length;
var H=K.w1,V=K.dU,g=K.kK,N=[],C=Z;while(Z<i){var w=H(x,Z);Z+=2;var Y=H(x,Z);Z+=2;var U=g(x,Z);Z+=4;if(w==65534&&Y==57344){if(U==4294967295){var e=B(x,Z,k+1);
N.push(e[0]);Z=e[1]}else{N.push(x.slice(Z,Z+U));Z+=U}}else if(w==65534&&Y==57357){}else if(w==65534&&Y==57565)break;
else throw"e"}return[N,Z]}function B(x,Z,i){var k=K.w1,H=K.dU,V=K.kK,g={},N="\t".repeat(i);while(Z<x.length){var C=k(x,Z),e="",O=0,I=null;
Z+=2;var w=k(x,Z);Z+=2;var Y=C.toString(16),U=w.toString(16);if(C==65532)break;if(C==65534&&w==57357){Z-=4;
break}if(C==65534&&w==57565)throw"e";if(w==0){Z+=8;continue}if(65<=x[Z+1]){e=K.xA(x,Z,2);Z+=2;if(e=="OB"||e=="SQ"||e=="OW"){O=V(x,Z+2);
Z+=6}else{O=k(x,Z);Z+=2}}else{e=r[Y][U].split(",")[1];O=V(x,Z);Z+=4}console.log(Y,U,e,O);var l=r[Y][U];
if(l)l=l.split(",")[0];if(l==null){l="t"+U}if(e=="SQ"){var s=y(x,Z,Z+O,i);I=s[0];Z=s[1];O=0}else if(e=="US")I=k(x,Z);
else if(e=="SS")I=H(x,Z);else if(e=="UL")I=V(x,Z);else if(e=="FL")I=K.GY(x,Z);else if(e=="AT")I=[k(x,Z),k(x,Z+2)];
else if(e=="OB")I=x.slice(Z,Z+O);else if(e=="OW")I=new Uint16Array(x.slice(Z,Z+O).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(e)!=-1){var z=Z+O;
while(x[z-1]==0)z--;I=K.xA(x,Z,z-Z).trim()}else{console.log(N,JSON.stringify(K.xA(x,Z,Math.min(O,32))));
throw e}if(g["g"+Y]==null)g["g"+Y]={};g["g"+Y][l]=I;Z+=O}return[g,Z]}var r={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{Pd:c}}();fd.ag8={};fd.ag8.Pd=function(d){var W=new Uint8Array(d),c=0,y={},H=1e9;for(var S=0;S<306;
S++){var B=K.xA(W,c,8).trim(),r=K.xA(W,c+9,71).split("/")[0].trim();y[B]=r;c+=80;if(B=="END"){c=Math.ceil(c/2880)*2880;
break}}var x=parseInt(y.NAXIS1),Z=parseInt(y.NAXIS2),i=x*Z,k=parseInt(y.BITPIX),V=-1e9,g=new Float32Array(i),N=new Float32Array(d,c,d.byteLength-c>>>2);
for(var S=0;S<i;S++){var C=S<<2,w=S<<1;if(k==-32){var Y=W[c+C+0];W[c+C+0]=W[c+C+3];W[c+C+3]=Y;var Y=W[c+C+1];
W[c+C+1]=W[c+C+2];W[c+C+2]=Y;g[S]=N[S]}else if(k==16){g[S]=K.w1(W,c+w)}else throw k;var U=g[S];if(U<H)H=U;
if(U>V)V=U}var e=v.R(i*4),O=1/V;for(var l=0;l<Z;l++)for(var I=0;I<x;I++){var S=l*x+I,s=(Z-l-1)*x+I,C=s<<2,U=g[S]*O;
e[C]=e[C+1]=e[C+2]=255*U;e[C+3]=255}return[{H2:new a8(0,0,x,Z),data:e,l6:y.OBJECT}]};fd.Ns={};fd.Ns.Pd=function(d){var W=new Uint8Array(d),c=16,y=K.xA(W,c,4),r=32,U=0,e=0,O=!1,j;
c+=4;var B=K.xA(W,c,8);c+=8;while(W[c+r-1]==0)r--;var x=K.xA(W,c,r);c+=32;var Z=K.xA(W,c,4);c+=4;c+=20;
var i=K.q(W,c);c+=4;var k=K.q(W,c);c+=4;var H=K.q(W,c);c+=4;var V=K.q(W,c);c+=4;var g=K.q(W,c);c+=4;
var N=K.q(W,c);c+=4;var C="FujiFilm "+x,w=[0,1,1,2];if(C=="FujiFilm X10"){C="FujiFilm FinePix X10";w=[2,1,1,0]}var Y={t271:["FujiFilm"],t272:[C],t277:[1],t33421:[2,2],t33422:w,V8:1};
c=H;var l=[],I=K.Ou,s=K.q(W,c);c+=4;for(var S=0;S<s;S++){var z=I(W,c);c+=2;var R=I(W,c);c+=2;if(z==256){e=I(W,c);
U=I(W,c+2)}else if(z==272){l=[I(W,c),I(W,c+2)]}else if(z==273){l.push(I(W,c),I(W,c+2))}else if(z==304){O=!(W[c]>>>7)}else if(z==305){var t=Math.round(Math.sqrt(R)),a=[];
for(var J=0;J<R;J++)a.push(W[c+J]);a.reverse();Y.t33421=[t,t];Y.t33422=a}else if(z==12272){var F=I(W,c),h=I(W,c+2),m=I(W,c+6);
Y.t50728=[F/h,1,F/m]}c+=R}var D=U<e,_=W.slice(g,g+N),n=Math.round(N*8/(U*e));if(_[0]==73&&_[1]==73&&_[2]==42){j=UTIF.decode(_.buffer)[0].fujiIFD;
n=j.t61443[0];var T=j.t61454,L=j.t61450;if(L)Y.t50714=L;if(T)Y.t50728=[T[0]/T[1],1,T[0]/T[2]];var p=j.t61447[0];
_=_.slice(p,p+j.t61448[0])}var N=_.length,E=N*8<U*e*n;if(E){console.log("compressed");var G=Y.t33422,A=~~Math.sqrt(G.length),u=[];
for(var S=0;S<A;S++)u[S]=G.slice(S*A,S*A+A);_=new Uint8Array(UTIF._decompressRAF(_,u).buffer);N=_.length}function q(kF,P,bM){bM=bM<<8-(P&7);
var jW=P>>>3;kF[jW]|=bM>>>16;kF[jW+1]|=bM>>>8;kF[jW+2]|=bM}var o=N*8/(U*e);if(o==16)for(var S=0;S<N;
S+=2){var M=_[S];_[S]=_[S+1];_[S+1]=M}else if(o==14){for(var S=0;S<N;S+=4){var M=_[S];_[S]=_[S+3];_[S+3]=M;
M=_[S+1];_[S+1]=_[S+2];_[S+2]=M}}else if(o==12)for(var S=0;S<N;S+=3){var $=_[S+2]<<16|_[S+1]<<8|_[S+0];
$=$>>>12|($&4095)<<12;_[S]=$>>>16&255;_[S+1]=$>>>8&255;_[S+2]=$&255}if(D)_=fd.Ns.a4S(_,U,e);var Q=D?2:1;
U*=Q;Y.t256=[U];Y.t257=[e];Y.t258=[n];Y.t50719=[l[1],l[0]*Q];Y.t50720=[l[3],l[2]*Q];Y.width=U;Y.height=e;
Y.data=new Uint8Array(_.buffer);return[Y]};fd.Ns.a4S=function(d,W,c){d=new Uint16Array(d.buffer);var y=new Uint16Array(W*c*2);
for(var B=0;B<c;B+=2)for(var r=0;r<W;r++){var x=B*W+r,Z=x*2,i=d[x],k=d[x+W];y[Z+1]=y[Z+2*W]=k;if(((B>>>1)+r&1)==0){y[Z]=i;
y[Z+2*W+1]=d[x+1]}else{y[Z]=d[x-1];y[Z+2*W+1]=i}}return y};fd.s6={};fd.s6.a9G=function(d,W,c){c=c<<8-(W&7);
var y=W>>>3;d[y]|=c>>>16;d[y+1]|=c>>>8;d[y+2]|=c};fd.s6.Pd=function(d){var W=new Uint8Array(d),c=0,y=Date.now(),B=b$.Nr(d),r=B.moov.uuid[0],x=new CR3Parser(d),Z=x.getTrack().meta,i=r.CMT1[0],k=i.t256[0]=Z.width,H=i.t257[0]=Z.height,V=k*H,g=i.exifIFD=r.CMT2[0],N=g.makerNote=r.CMT3[0],C=B.moov.trak[3].mdia.minf.stbl,w=C.co64[0],Y=W.slice(w,w+C.stsz[0]),U=0;
while(U<Y.length){var e=K.kK(Y,U);U+=4;var O=K.w1(Y,U);U+=2;var l=Y[U]==1;U+=2;U+=4;if(O==8||O==9){var I=UTIF.decode(Y.slice(U+8,U+e-12).buffer)[0];
for(var s in I)N[s]=I[s]}U+=e-12}i.t277=[1];i.t33421=[2,2];i.t33422=[0,1,1,2];i.V8=1;if(i.t274)i.V8=i.t274[0];
var z=x.extractCFA(),R=Z.bitDepth;if(R!=14)throw"e";i.t258=[R];var t=new Uint8Array(Math.ceil(V*R/8)),a=16-R;
for(var S=0;S<V;S++)fd.s6.a9G(t,S*14,z[S]<<a);i.width=k;i.height=H;i.data=t;return[i]};fd.pI={};fd.pI._U=!0;
fd.pI.Cy=function(d,W,c,y){var B=new Uint8Array(d[0][0]),r=W*c,x=[1,3,4][y[0]],Z=8+8*y[1],i=y[2];if(x==1){var k=new Uint8Array(W*c);
v.$P(B,k,0);B=k}if(x==3){var k=new Uint8Array(W*c*3);for(var S=0;S<r;S++){var H=S*4,V=S*3;k[V]=B[H];
k[V+1]=B[H+1];k[V+2]=B[H+2]}B=k}if(Z==16){var g=B.length,k=new Uint8Array(g*2);for(var S=0;S<g;S++){var N=Math.round(B[S]*(65535/255));
k[S*2+i]=N>>>8;k[S*2+1-i]=N&255}B=k}return B.buffer};fd.aob={};fd.aob.Pd=function(d,W){function c(i){return~~(.5+v.dM(Math.max(0,Math.min(1,i)))*255)}var y=EXRLoader.parse(d),B=y.width,r=y.height,x=v.R(B*r*4);
for(var Z=0;Z<r;Z++)for(var i=0;i<B;i++){var S=(Z*B+i)*4,k=((r-Z-1)*B+i)*4;x[S]=c(y.data[k+0]);x[S+1]=c(y.data[k+1]);
x[S+2]=c(y.data[k+2]);x[S+3]=c(y.data[k+3])}return[{H2:new a8(0,0,B,r),data:x.buffer}]};fd.Nk={};fd.Nk._U=!0;
fd.Nk.IX=!0;fd.Nk.Cy=function(d,W,c,y,B){y=["",100,!1,!1,!1,0,!1];y[7]=["jpg"];var r=new ToDXF;aS.dn(d,y,r,B.Sm);
return r.buffer};fd.Nk.Pd=function(d,W){var c=72,y=new dT(1,0,0,1,0,0);y.scale(c/72,c/72);W.tU=c;var B=new jg(W,y,!1);
FromDXF.Parse(d,B)};fd.azm={};fd.azm.Pd=function(){var d=K.w1,W=K.kK,c=K.xA,y;function B(x,Z,i,k,H){var V=W(x,i),g=W(x,i+4),N=W(x,i+8),C=d(x,i+12),w=d(x,i+14);
i+=16;var Y={};for(var S=0;S<C+w;S++){var U=W(x,i),e=W(x,i+4),O,l;if(U>>>31==1){U=U&16777215}if(S<C)O=K.ud(x,Z+U+2,d(x,Z+U));
else O="id"+U;var I=k.slice(0);I.push(O);if(e>>>31==1){e=e&268435455;l=B(x,Z,Z+e,I,H)}else{var s=W(x,Z+e),z=W(x,Z+e+4),R=W(x,Z+e+8),t=W(x,Z+e+12);
if(t!=0)throw"e";if(s<H[0]||s>H[0]+H[1])throw"e";var a=H[2]+s-H[0];l=x.slice(a,a+z);var J=fd.$Z(l.buffer);
if(J&&["bmp","png","ico"].indexOf(J)!=-1){var F=fd.Ay(J);if(!F.IX){var h=null;try{h=F.Pd(l.buffer)}catch(jj){}if(h){h[0].l6=I[1];
y.push(h[0])}}}else if(J)console.log(J)}Y[O]=l;i+=8}return Y}function r(x){y=[];var Z=new Uint8Array(x),i=0,k=d(Z,i);
i+=2;i+=58;var H=W(Z,i);i+=4;i=H;var V=c(Z,i,4);i+=4;var g=d(Z,i);i+=2;var N=d(Z,i);i+=2;var C=W(Z,i);
i+=4;var w=W(Z,i);i+=4;var Y=W(Z,i);i+=4;var U=d(Z,i);i+=2;var e=d(Z,i);i+=2;i+=U;var O={};for(var S=0;
S<N;S++){var l=i;while(Z[l]!=0)l++;var I=c(Z,i,l-i),s=W(Z,i+8),z=W(Z,i+12),R=W(Z,i+16),t=W(Z,i+20),a=W(Z,i+24),J=W(Z,i+28),F=d(Z,i+32),h=d(Z,i+34),e=W(Z,i+36);
O[I]=[z,s,t,R,e];if(a+J!=0)throw"e";i+=40}for(var m in O){var D=O[m];i=D[2];if(m==".rsrc"){var _=B(Z,i,i,[],D),n="id134"}}return y}return r}();
fd.MQ={};fd.MQ.IX=!0;fd.MQ.Pd=function(d,W,c){bW.Nr(d,W,c)};fd.MQ.Cy=function(d,W,c){return bW.dn(d)};
(function(){var d=fd.bj.get("wasm/zstd").buffer;WebAssembly.instantiate(d).then(function(W){var c=W.instance.exports;
fd.MQ.aqw=c})}());fd.MQ.mA=function(d,W){var c=fd.MQ.aqw,y=d.length,B=c.memory,r=2*y+1e6,i=8;fd._f(c,r);
var x=new Uint8Array(B.buffer),Z=c.malloc(y);x.set(d,Z);while(!0){var k=W==null?y*i:W;fd._f(c,r+k);var H=c.malloc(k),V=c.ZSTD_decompress(H,k,Z,y);
if(V==-70){c.free(H);i+=i>>>1;if(W!=null)throw"error"}else{x=new Uint8Array(B.buffer);d=x.slice(H,H+V);
c.free(H);break}}c.free(Z);return d};fd.ty={};fd.ty.IX=!0;fd.ty.Pd=function(){var d=0,W=1,c=2,y=3,B=4,r=5,x=6,Z=7,i=1,k=2,H=7,V=8,g=9,N,C,w,Y,U;
function e(){var bd=K.VL(N,C);C+=4;return bd}function O(){var j=0,T=0;for(var S=0;S<5;S++){var L=N[C++];
j+=(L&127)<<T;T+=7;if((L&128)==0)break}return j}function l(){var j=O(),T=K.uw(N,C,j);C+=j;return T}function I(){return{typeName:l(),aeH:e()}}function s(){var j=e(),T=l(),L=[],p=e();
for(var S=0;S<p;S++)L.push([l()]);return{id:j,_S:T,avC:L}}function z(j){var T=j.avC,L=[];for(var S=0;
S<T.length;S++)T[S].push(N[C++]);for(var S=0;S<T.length;S++){var p=T[S][1],E;T[S].push(R(p))}}function R(j){var T;
if(j==d)T=N[C++];else if(j==y)T=l();else if(j==B)T=I();else if(j==W||j==c||j==x||j==r){}else throw j;
return T}function t(j,T,L){var p;if(j==d){if(T==i)p=N[C++]==1;else if(T==k){p=N[C++]}else if(T==V)p=e();
else if(T==g){p=e();e()}else throw T}else if(j==y){p=h(L+1)}else if(j==B){p=h(L+1)}else if(j==r){p=h(L+1)}else if(j==W){p=h(L+1)}else if(j==x){p=h(L+1)}else if(j==c){p=h(L+1)}else throw j;
return p}function a(j,T){var L=w["c"+j],p=L.avC,E={_class:L._S};for(var S=0;S<p.length;S++){var G=p[S],A=G[1],u=G[2],q=t(A,u,T),o=G[0];
E[o]=q}return E}function J(j,T,L,p){var E=[];for(var S=0;S<j;S++){var G=t(T,L,p);if(G.VQ&&G.VQ=="null_count"){var A=G.Za;
for(var u=0;u<A;u++)E.push(null);S+=A-1}else E.push(G)}return E}function F(){return[e(),e()]}function h(j){if(j==null)throw"e";
var T=null,L=N[C],p=null;C++;if(L==0){var E=e(),G=e(),A=e(),u=e();T=[E,G,A,u]}else if(L==1){p=e();var q=e();
T=a(q,j)}else if(L==4){var o=s();p=o.id;z(o);w["c"+o.id]=o;T=a(o.id,j)}else if(L==5){var o=s();p=o.id;
z(o);var M=e();w["c"+o.id]=o;T=a(o.id,j)}else if(L==6){p=e();var $=l();T=$}else if(L==7){p=e();var Q=N[C++];
if(Q!=0)throw Q;var kF=e();if(kF!=1)throw kF;var P=e(),bM=N[C++],jW=R(bM);T=J(P,bM,jW,j)}else if(L==9){var fX=e();
T={VQ:"ref",Za:fX};U["o"+fX]=!0}else if(L==10){T={VQ:"null_count",Za:1}}else if(L==11){T={VQ:"end"}}else if(L==12){var M=e(),bX=l()}else if(L==13){var ao=N[C++];
T={VQ:"null_count",Za:ao}}else if(L==16){var en=F();p=en[0];T=J(en[1],B,null,j)}else if(L==17){var en=F();
p=en[0];T=J(en[1],W,null,j)}else throw"e";if(p!=null&&p>0){if(Y["o"+p]!=null)throw"e";Y["o"+p]=T}return T}function m(j,Y){if(j instanceof Array){for(var S=0;
S<j.length;S++)j[S]=D(j[S],Y)}else if(j instanceof Object){for(var T in j)j[T]=D(j[T],Y)}}function D(j,Y){if(j&&j.VQ&&j.VQ=="ref")return Y["o"+j.Za];
else return j}function _(j,T,L){var p=Date.now();N=new Uint8Array(j);C=0;w={};Y={};U={};var E=K.xA(N,0,4);
if(E!="PDN3")throw E;C+=4;var G=K.w1(N,C)+N[C+2]*256*256;C+=3;var A=K.xA(N,C,G);C+=G;C+=2;while(!0){var u=h(0);
if(u&&u.VQ&&u.VQ=="end")break}for(var q in U)if(Y[q]==null)throw q;for(var q in Y)m(Y[q],Y);var o=Y.o1;
console.log(o);T.m=o.width;T.i=o.height;T.buffer=v.R(T.m*T.i*4);var M=o.layers["ArrayList+_items"];for(var S=0;
S<M.length;S++){var $=M[S];if($==null)continue;var Q=$["Layer+width"],kF=$["Layer+height"],P=$["Layer+properties"],bM=$.properties,jW=bM.blendOp._class.split("+").pop();
jW=jW.slice(0,jW.length-7);var fX={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[jW],bX=T.jb();
bX.AP(P.name);bX.opacity=P.opacity;bX.vI(P.visible);bX.E9=fX;if(N[C]!=0)throw"e";C++;var ao=K.q(N,C);
C+=4;var en=Math.ceil(Q*kF*4/ao);bX.rect=new a8(0,0,Q,kF);var fK=bX.buffer=v.R(Q*kF*4);for(var bO=0;
bO<en&&C<N.length;bO++){var b9=n();fK.set(b9[1],b9[0]*ao)}for(var bK=0;bK<fK.length;bK+=4){var f0=fK[bK+0];
fK[bK+0]=fK[bK+2];fK[bK+2]=f0}T.B.push(bX)}}function n(){var j=K.q(N,C);C+=4;var T=K.q(N,C);C+=4;C+=10;
T-=10;var L=pako.inflateRaw(N.slice(C,C+T));C+=T;return[j,L]}return _}();fd.go={};fd.go.IX=!0;fd.go.Pd=function(d,W){cM.Nr(d,W)};
fd.nR={};fd.nR.IX=!0;fd.nR.Pd=function(){var d,W,Y=null,R,t;function c(){var n=d[W];W+=1;return n}function y(){var n=K.Ou(d,W);
W+=2;return n}function B(){var n=K.q(d,W);W+=4;return n}function r(){var n=K.OC(d,W);W+=4;return n}function x(){var n=K.SH(d,W);
W+=8;return n}function Z(){var n=B();if(n>200)throw n;var j=K.qT(d,W,n);W+=n*2;return j}function i(){var n=K.zZ(d,W);
W+=8;return n}function k(){var n=K.cb(d,W);W+=4;return n}function H(){var n=B();if(B()!=4)throw"e";var j=[];
for(var S=0;S<n;S++)j.push(B());return j}function V(n,j,T){for(var S=0;S<n.length;S++)if(n[S][j]==T)return n[S]}function g(n,j){var T=Date.now();
d=new Uint8Array(n);W=K.J7(d,"CH"+"NK"+"SQ"+"Li")+8;var L=x(),p=af.parse(d.buffer.slice(W,W+L)),E=af.ana(p,!0);
console.log(E);var G=E.Canvas[0],A=G.Width,u=G.Height,q=G.Unit,o=j.tU=G.Resolution;if(q==0){}else if(q==1){A=Math.round(A*o/2.54);
u=Math.round(u*o/2.54)}else if(q==2){A=Math.round(A*o/25.4);u=Math.round(u*o/25.4)}else if(q==3){A=Math.round(A*o);
u=Math.round(u*o)}else if(q==5){A=Math.round(A*o/72);u=Math.round(u*o/72)}else{console.log(G);throw q}j.m=A;
j.i=u;j.buffer=v.R(A*u*4);console.log(Date.now()-T);var M=V(E.Layer,"MainId",G.RootFolder);h(E,d,j,M.FirstChildIndex,0);
console.log(Date.now()-T)}function N(){var n=K.w1(d,W);W+=2;return n}function C(){var n=K.kK(d,W);W+=4;
return n}function w(){var n=K.VL(d,W);W+=4;return n}function U(n){var j={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},L=0;
d=n;W=0;var T={};while(W<d.length){var p=C(),E=C(),G=W+E;if(E==0)continue;var A=[];if(p==11){var u=C();
for(var q=0;q<u;q++){var o=[C(),C()];A.push(o);L+=o[1];var M=W+C()-4;o.push(N(),N(),N(),N());o.push(K.yk(d,W));
W+=8;var $=N();o.push(K.ud(d,W,$));W+=$*2;if(W!=M)throw"e"}}else if(p==31){A=K.uw(d,W,E);W+=E}else if(p==34)for(var S=0;
S<3;S++)A.push(C()>>>16);else if(p==42)for(var S=0;S<4;S++)A.push(w());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(p)!=-1){if(E!=4)throw"e";
A=C();if([37,45,46,51,53,55,61,62].indexOf(p)!=-1){if(A!=0&&A!=1&&A!=360)throw p+":"+A;W=G;continue}}else if(p==47){var Q=N();
if(C()!=50)throw"e";if(C()!=0)throw"e";var kF=N();A=K.xA(d,W,kF);W+=kF}else if(p==57){var u=N();for(var S=0;
S<u;S++){var P=N(),bM=K.xA(d,W,P);W+=P;var jW=N(),fX=K.xA(d,W,jW);W+=jW;A.push([bM,fX])}var bX=C();for(var S=0;
S<u;S++)A[S].push(bX)}else if(p==39||p==63)A.push(C(),C());else if(p==64){for(var S=0;S<8;S++)A.push(K.VL(d,W+S*4)/100);
W+=32}else{A=d.slice(W,G);W+=E}var ao=j[p];if(ao==null)ao="t"+p;if(T[ao])throw"e";T[ao]=A;if(W!=G)throw p}if(Y){}Y=T;
return T}function e(n){d=n;W=0;var j=B();if(j!=n.length)throw"e";var T=B(),L=Z(),p=B(),E=i(),G=[B()/4294967295,B()/4294967295,B()/4294967295];
return[p,E,G]}function O(n,j){function T(){var eJ=[];for(var S=0;S<4;S++)eJ.push(K.OC(d,W+S*4));W+=16;
return eJ}function L(bd){var eJ=[];for(var S=0;S<bd;S++)eJ.push(k());return eJ}function p(eJ){var eZ="";
for(var S=W;S<eJ;S+=4)eZ+=d.slice(S,S+4).join(", ")+"\n";return eZ}d=n;W=j+8;var E=x(),G=W+E;W+=56;if(W==G)return;
var A=[],u=[],q=[],o=[],M=[];while(W<G){var $=B(),en=1;if($!=88&&$!=96)throw $;var $=B();if($!=72)throw"e";
var Q=B();if(Q!=88&&Q!=104&&Q!=120)throw Q;var $=B();if($!=88)throw"e";var kF=B(),P=B(),bM=T(),jW=[];
q.push(jW);for(var S=0;S<6;S++){jW.push(I(B()))}var fX=i(),bX=B();if(bX==16||bX==1040||bX==304){B();
bX=B()}var ao=i();o.push(ao);var fK=B(),bO=(P&256)!=0,b9=[],bK=[],f0={88:1,104:2,120:3}[Q];for(var S=0;
S<kF;S++){var hn=S==0?1:f0;for(var hX=0;hX<hn;hX++)b9.push(i(),i());bK.push(hn==1?S==0?"M":"L":hn==2?"Q":"C");
var gR=T(),ib=B();en=k();var gU=L(10),hq=B(),ip=B()}M.push(en);if(Q==104){var aW=i(),kN=i();if(bO){bK.push("Q");
b9.push(aW,kN,b9[0],b9[1])}}if(Q==120){var aW=i(),kN=i(),hW=i(),jH=i();if(bO){bK.push("C");b9.push(aW,kN,hW,jH,b9[0],b9[1])}}if(P&128){var g0=["M"],gC=[b9[0],b9[1]],jL=b9.length>>>1,jf=v.A.af_(b9);
for(var S=0;S<jL;S++){var cm=b9[2*S],eh=b9[2*S+1],bu=.7;for(var hX=0;hX<2;hX++){jf[S*4+hX*2]=bu*jf[S*4+hX*2]+(1-bu)*cm;
jf[S*4+hX*2+1]=bu*jf[S*4+hX*2+1]+(1-bu)*eh}}for(var S=1;S<jL;S++){g0.push("C");gC.push(jf[S*4-2],jf[S*4-1],jf[S*4],jf[S*4+1],b9[S*2],b9[S*2+1])}if(bO){g0.push("C");
gC.push(jf[jL*4-2],jf[jL*4-1],jf[0],jf[1],b9[0],b9[1])}b9=gC;bK=g0}if(bO)bK.push("Z");u=u.concat(b9);
A=A.concat(bK)}if(W!=G)throw"e";return[{j:u,r:A},q,o,M]}function l(n,j){d=n;W=j+8;var T=x(),L=W+T,p=0;
W+=56;var E=[];while(W<L){var G=B(),A=W+G-4;if(A>L)throw"e";if(G==11){W-=4;var u=Z(),q=B();if(q!=12)throw"e";
var o=H(),M=Z(),q=B();if(q!=12)throw"e";var $=H();if(W!=L)throw"e"}else{var Q=Z(),kF=B();if(kF!=p)throw kF;
p++;var P=y();if(P!=0&&P!=1&&P!=2&&P!=5)throw P;var bM=c();if(bM!=0&&bM!=32&&bM!=64)throw bM;if(B()!=1)throw"e";
if(B()!=1)throw"e";if(c()!=0)throw"e";if(B()==1){var jW=B(),fX=K.kK(d,W);if(jW!=fX+4)throw"e";E.push(new Uint8Array(d.buffer,W+4,fX));
W+=jW}else E.push(new Uint8Array(0));var bX=Z();if(W!=A)throw W}}return E}function I(n){return Math.min(255,Math.round(n/16777216))}function s(n){d=n;
W=0;var j=B();if(j!=16)throw j;var T=B();if(T!=102)throw T;var L=B();if(L!=42&&L!=58)throw L;var p=B();
if(n.length-p!=118+L)throw n.length-p;var E=Z();if(E!="Parameter")throw E;var G=B(),A=B(),u=B(),q=B(),o=[];
for(var S=0;S<16;S++)o.push(B());var E=Z();if(E!="InitColor")throw E;if(B()!=20)throw"e";var M=B(),$=B(),Q=B();
if(B()!=4)throw"e";if(L==58){var kF=[];o.push(kF);for(var S=0;S<4;S++)kF.push(I(B()))}var E=Z();if(E!="BlockSize")throw E;
var P=B();if(P!=12)throw P;var bM=H();if(W!=d.length)throw"e";return[G,A,u,q,M*255,o]}function z(n,j){var T=K.xA(j,0,40),L=V(n["ExternalC"+"hunk"],"Exte"+"rnalID",T);
if(L==null){console.log("chnk not found",T)}return L?L.Offset:-1}function a(n,j,T,L){if(R==null){R=v.R(256*256*4);
t=v.R(256*256)}var p=n.Mipmap,E=n.MipmapInfo,G=n.Offscreen,A=V(p,"MainId",T),u=V(E,"MainId",A.BaseMipmapInfo),q=V(G,"MainId",u.Offscreen),o=z(n,q.BlockData),g=null;
if(o==-1)return null;var M=l(j,o),$=s(q.Attribute),Q=$[0],kF=$[1],P=$[2],bM=$[3],jW=$[4],fX=$[5],bX=fX[16],ao=fX[1],en=fX[2],fK=ao+en;
if(en!=fX[5])throw"e";if(ao!=fX[7])throw"e";var bO=v.R(256*(fX[6]+fX[8])),b9=new a8;if(bX)b9=new a8(0,0,Q,kF);
else{for(var bK=0;bK<bM;bK++)for(var f0=0;f0<P;f0++){var hn=M[bK*P+f0];if(hn.length==0)continue;b9=b9.hB(new a8(f0<<8,bK<<8,256,256))}}var hX=b9.nK(new a8(0,0,Q,kF)),gR=v.R(hX.P()*(fK==1?1:4));
if(bX)new Uint32Array(gR.buffer).fill(255<<24|bX[0]<<16|bX[1]<<8|bX[2]);if(fK==1)gR.fill(jW);for(var bK=0;
bK<bM;bK++)for(var f0=0;f0<P;f0++){var hn=M[bK*P+f0];if(hn.length==0)continue;var ib=new Uint8Array(hn.buffer,hn.byteOffset+2,hn.length-6),gU=new a8(f0<<8,bK<<8,256,256);
UZIP.inflateRaw(ib,bO);if(fK==1){if(fX[8]==32){J(bO,0,t);v.ZW(t,gU,gR,hX)}else v.ZW(bO,gU,gR,hX)}else if(fK==2){if(fX[8]==32){new Uint32Array(R.buffer).fill(4278190335);
J(bO,0,t);v.nP(t,R,3);J(bO,256*32,t);v.ta(t,R)}else for(var S=0;S<262144;S+=4){var bX=bO[65536+(S>>>2)];
R[S]=bX;R[S+1]=bX;R[S+2]=bX;R[S+3]=bO[S>>>2]}v.qR(R,gU,gR,hX)}else if(fK==5){for(var S=0;S<262144;S+=4){R[S]=bO[65536+S+2];
R[S+1]=bO[65536+S+1];R[S+2]=bO[65536+S+0];R[S+3]=bO[S>>>2]}v.qR(R,gU,gR,hX)}else throw fK}if(L&&fK==1){var hq=v.R(Q*kF*4);
v.nP(gR,hq,3);gR=hq}return[hX,gR,jW]}function J(n,W,j){for(var S=0;S<j.length;S++){j[S]=(n[W+(S>>>3)]>>>7-(S&7)&1)*255}}var F=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function h(n,j,T,L,p){var E=n.Layer,G=n.Canvas[0];while(L!=0){var A=V(E,"MainId",L),u=A.Type,P=!1;console.log(A);
var q=T.jb();q.AP(A.Name);q.opacity=Math.min(255,A.Opacity);q.vI((A.Visibility&1)!=0);q.E9=F[A.Composite];
if(q.E9==null){alert("Unknown blend mode "+A.Composite);q.E9="norm"}q.TA=A.Clip==1;T.B.push(q);var o=A.LayerMaskMipmap;
if(o!=0){var M=a(n,j,o,!1);if(M){q.t=new e8.JO;q.t.rect=M[0];q.t.channel=M[1];q.t.color=M[2];m(q.t.rect,A,"Mask","Mask");
q.t.oj()}}var $=[];for(var S=0;S<3;S++)$.push(I(A["DrawColorMain"+["Red","Green","Blue"][S]]));var Q={t:"Objc",v:v.L.FV({Z:$[0],G:$[1],J:$[2]})},kF=JSON.parse(bV.default);
for(var S=0;S<bV.order.length;S++)kF[bV.Fb[S]]={t:"VlLs",v:[]};if(A.DrawColorEnable==1&&u!=1584){P=!0;
var bM=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);bM.Clr=Q;kF.solidFillMulti.v.push({t:"Objc",v:bM})}if(A.EffectInfo){var jW=e(A.EffectInfo),$=jW[2];
if(jW[0]==1){P=!0;var bM=JSON.parse(bV._R[bV.order.indexOf("FrFX")]);bM.Clr.v=v.L.FV({Z:$[0]*255,G:$[1]*255,J:$[2]*255});
bM.Sz.v.val=Math.round(jW[1]);kF.frameFXMulti.v.push({t:"Objc",v:bM})}}if(A.FilterLayerInfo){d=A.FilterLayerInfo;
W=0;var fX=B(),bX=B();if(bX!=d.length-W)throw"e";var ao={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[fX];
if(ao!=null){var en=eR.qw(ao);q.add[ao]=en?en:{};if(ao=="brit")eR.uA["g"+ao](en,[r(),r(),!0]);if(ao=="hue2")fA.wz(en,0,[r(),r(),r()]);
if(ao=="curv"){var fK=[],bO=W;for(var S=0;S<32;S++){W=bO+S*130;var b9=y(),bK=[];fK.push(bK);for(var f0=0;
f0<b9;f0++)bK.push(y()/65535,y()/65535)}for(var S=0;S<4;S++){var bK=fK[S],hn=d8.ar(en,S),hX=hn[0];for(var f0=0;
f0<bK.length;f0+=2){var gR=hn[f0>>>1]=JSON.parse(JSON.stringify(hX));gR.v.Hrzn.v=Math.round(bK[f0]*255);
gR.v.Vrtc.v=Math.round(bK[f0+1]*255)}d8.wz(en,S,hn)}}if(ao=="grdm"){var ib=en.Grad.v,gU=[],hq=B();if(hq!=bX-4)throw hq;
var ip=B();if(ip!=16)throw ip;var aW=B();if(aW!=28)throw aW;var kN=B();for(var S=0;S<kN;S++){var hW=0,jH=[];
for(var f0=0;f0<7;f0++)jH.push(B());gU.push([jH[6]/32768,[jH[1]/4294967295,jH[2]/4294967295,jH[3]/4294967295],jH[4]/4294967295])}v.L.GW(gU,ib)}if(ao=="blnc"){en.PrsL.v=B()==1;
for(var S=0;S<3;S++){var gC=en[["ShdL","MdtL","HghL"][S]].v;for(var f0=0;f0<3;f0++)gC[f0].v=r()}}}else console.log("Unknown adjustment",fX,bX,q.getName())}if(u==1584){q.xy|=16;
q.add.SoCo={classID:"null",Clr:Q};q.Ys(T)}else if(u==800){T.B.pop()}else if(A.Folder!=0){q.add.lsct=(A.Folder&16)!=0?aG.tV:aG.ED;
q.E9="pass";T.B.pop();T.B.push(T.b7());h(n,j,T,A.FirstChildIndex,p+1);T.B.push(q)}else if(u==0||u==1||u==2||u==3){var M=a(n,j,A.RenderMipmap,!0);
if(M){q.rect=M[0];q.buffer=M[1];m(q.rect,A,"Render","");q.oj()}if(A.TextLayerType!=null){var jf="TextLayerString",eh="TextLayerAttributes",bu=[A[jf]],eJ=[A[eh]];
if(A[jf+"Array"]){d=A[jf+"Array"];W=0;while(W<d.length){var bX=C();bu.push(d.slice(W,W+bX));W+=bX}d=A[eh+"Array"];
W=0;while(W<d.length){var bX=C();eJ.push(d.slice(W,W+bX));W+=bX}}var eZ=q;T.B.pop();for(var a0=0;a0<bu.length;
a0++){var q=eZ.clone();T.B.push(q);var gZ=U(eJ[a0]),bt=gZ.runs,dp=gZ.fnts,gb=gZ.bplg,e_=gZ.bbox,dO=e_[2]-e_[0],dC=e_[3]-e_[1],kc=gb[2]-gb[0],ia=gb[3]-gb[1],hO=new dT;
hO.translate(-dO/2,-dC/2);hO.rotate(Math.atan2(-ia,kc));hO.translate(dO/2,dC/2);var cj=e_[0]+A.OffsetX,bA=e_[1]+A.OffsetY;
hO.translate(cj,bA);q.add.lnsr="rend";q.add.TySh=it.De(0,0);q.add.TySh.Nz=new a8(0,0,500,500);q.add.TySh.e=hO;
var bg=q.add.TySh.p$,cX=K.uw(bu[a0]);q.AP(cX);it.kL(bg,0,cX);it.gF(bg,1);it.r_(bg,[0,0,dO,dC]);for(var S=0;
S<bt.length;S++){var i4=bt[S],fJ=i4[0],iu=fJ+i4[1],hV=i4[2],f$=it.tO(bg,fJ,iu),kg=T.tU/72*gZ.size/100;
if((hV&512)!=0)kg*=i4[6]/100;f$.Cr.FontSize=Math.round(kg);var Q=(hV&256)!=0?i4.slice(3):gZ.colr;f$.Cr.FillColor={Type:1,Values:[1,Q[0]/65535,Q[1]/65535,Q[2]/65535]};
var jy=i4[7]==""?gZ.font:i4[7];if(dp){if(dp[S])jy=dp[S][1];else for(var f0=0;f0<dp.length;f0++)if(dp[f0][0]==jy)jy=dp[f0][1]}it.nn(f$,jy);
it.ml(bg,fJ,iu,f$)}if(q.rect.P()==0)T.O5=!0;else{q.rect=new a8(cj,bA,dO,dC);q.buffer=v.R(q.rect.P()*4);
v.qR(eZ.buffer,eZ.rect,q.buffer,q.rect)}}}}var iM=n.VectorObjectList;if(A.VectorNormalType!=null&&iM&&V(iM,"LayerId",L)){var hI=V(iM,"LayerId",L).VectorData,cd=z(n,hI),jZ=O(j,cd);
if(jZ){var hz=null;if(q.add.TySh){var hz=q.clone();T.B.push(hz);delete q.add.TySh}D(q,A,jZ[0]);if(q.vS()){q.xy|=24;
var jv=T.jb();jv.AP(q.getName());jv.opacity=q.opacity;T.B.push(jv);D(jv,A,jZ[0]);_(jv,jZ);jv.Ys(T)}else{_(q,jZ,hz!=null)}q.Ys(T);
if(hz){hz.add.TySh.e.concat(new dT(1,0,0,1,q.rect.x+q.rect.m/2,q.rect.y+q.rect.i/2))}}}if(P)q.add.lmfx=kF;
if(L==G.CurrentLayer)T.g=[T.B.indexOf(q)];L=A.NextIndex}}function m(n,j,T,L){n.x+=j[T+"OffscrOffsetX"]+j[L+"OffsetX"];
n.y+=j[T+"OffscrOffsetY"]+j[L+"OffsetY"]}function D(n,j,T){n.add.vmsk=new e8.vw;v.A.e(T.j,new dT(1,0,0,1,j.OffsetX,j.OffsetY),T.j);
n.add.vmsk.Y=v.A.fI(T);n.h0()}function _(n,j,T){var L=j[1][0],p=j[2][0];n.xy|=16;var E=n.add.vstk=bV._M.qw(!0,!0);
E.fillEnabled.v=T==!0;n.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:255,G:255,J:255})}};E.strokeStyleContent.v.Clr.v=v.L.FV({Z:L[0],G:L[1],J:L[2]});
E.strokeStyleLineWidth.v.val=p*2;E.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return g}();
var d1={};d1.ZV=!1;d1.aC6=!1;d1.ON=!1;d1.YW=document.createElement("canvas");d1.bN=null;d1._k=null;d1.U7=0;
(function(){var d={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},W;if(!W)W=d1.YW.getContext("webgl",d);
if(!W)W=d1.YW.getContext("experimental-webgl",d);if(W){d1.ZV=!0;d1.aC6=!0;d1.bN=W;d1._k=W.createFramebuffer();
W.bindFramebuffer(W.FRAMEBUFFER,d1._k);W.disable(W.BLEND);W.disable(W.DEPTH_TEST);var c=W.createBuffer();
W.bindBuffer(W.ARRAY_BUFFER,c);W.bufferData(W.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),W.STATIC_DRAW);
W.enableVertexAttribArray(0);W.vertexAttribPointer(0,2,W.FLOAT,!1,0,0)}}());d1.aAu=function(d){d=d.replace(/\s\s+/g," ");
d=d.replace(/; /g,";");d=d.replace(/} /g,"}");d=d.replace(/ }/g,"}");d=d.replace(/{ /g,"{");d=d.replace(/ {/g,"{");
d=d.replace(/= /g,"=");d=d.replace(/ =/g,"=");d=d.replace(/\| /g,"|");d=d.replace(/ \|/g,"|");return d};
d1.RY=function(d){var W=d1.bN;if(d>W.getParameter(W.MAX_TEXTURE_SIZE)){d1.ZV=!1;alert("Disabling WebGL")}};
d1.gk=function(d,W){return new Float32Array([(d.x-W.x)/W.m,(d.y-W.y)/W.i,d.m/W.m,d.i/W.i])};d1.td=function(){return this.YW};
d1.QO=function(d,W){var c=d1.bN;c.bindFramebuffer(c.FRAMEBUFFER,d1._k);c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,d.yd,0);
c.viewport(0,0,d.m,d.i);if(W){c.enable(c.SCISSOR_TEST);c.scissor(W.x,W.y,W.m,W.i)}else c.disable(c.SCISSOR_TEST)};
d1.asV=function(d,W,c){if(c)throw"error";var y=d1.bN;y.disable(y.SCISSOR_TEST);y.bindFramebuffer(y.FRAMEBUFFER,null);
y.viewport(0,0,d,W);if(c){y.enable(y.SCISSOR_TEST);y.scissor(c.x,c.y,Math.round(c.m),Math.round(c.i))}else y.disable(y.SCISSOR_TEST)};
d1.clear=function(){var d=d1.bN;d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT)};d1.S9=function(d,W){if(W==null)W=0;
var c=(W>>>0&255)==0,y=(W>>>8&255)==0,B=(W>>>16&255)==0,r=(W>>>24&255)==0,x=(d>>>0&255)*(1/255),Z=(d>>>8&255)*(1/255),i=(d>>>16&255)*(1/255),k=(d>>>24&255)*(1/255),H=d1.bN;
H.colorMask(c,y,B,r);H.clearColor(x,Z,i,k);H.clear(H.COLOR_BUFFER_BIT);H.colorMask(!0,!0,!0,!0)};d1.w3=function(d,W,c,y,B){var r=W.nK(y);
if(B)r=r.nK(B);if(r.Bb())return;var x=d1.bN;d1.QO(d);x.bindTexture(x.TEXTURE_2D,c.yd);x.copyTexSubImage2D(x.TEXTURE_2D,0,r.x-y.x,r.y-y.y,r.x-W.x,r.y-W.y,r.m,r.i)};
d1._V=function(S,d,W){var c=d1.aqK[S];if(c==null||c.m!=d||c.i!=W){if(c)c.delete();c=new d1.ii(d,W)}d1.aqK[S]=c;
return c};d1.aqK=[];d1.zW=function(){this.Al=null;this.hq=null};d1.zW.Bz=null;d1.zW.prototype.uW=function(d){if(this.hq)return;
this.hq={};var W=d1.bN,c=this.Al,y=this.hq;for(var S=0;S<d.length;S++){var B=d[S];y[B]=W.getUniformLocation(c,B)}};
d1.zW.prototype.LQ=function(){};d1.zW.prototype.Eo=function(d){var W=d1.bN;for(var S=0;S<d.length;S+=2){W.uniform1i(d[S],S>>>1);
W.activeTexture(W["TEXTURE"+(S>>>1)]);W.bindTexture(W.TEXTURE_2D,d[S+1])}W.activeTexture(W.TEXTURE0)};
d1.zW.prototype.wa=function(d,W){var c=d1.bN,y=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(y,d);
c.compileShader(y);if(!c.getShaderParameter(y,c.COMPILE_STATUS))console.log(c.getShaderInfoLog(y));var B=c.createShader(c.VERTEX_SHADER);
c.shaderSource(B,W);c.compileShader(B);if(!c.getShaderParameter(B,c.COMPILE_STATUS))console.log(c.getShaderInfoLog(B));
var r=c.createProgram();c.attachShader(r,B);c.attachShader(r,y);c.linkProgram(r);if(!c.getProgramParameter(r,c.LINK_STATUS))console.log("Could not initialise shaders");
this.Al=r};d1.zW.prototype.e3=function(){if(d1.zW.Bz!=this){d1.bN.useProgram(this.Al);d1.zW.Bz=this}};
d1.S2=function(d,W){d1.OT++;d1.U7+=d*W;if(d1.ON)console.log("GL.Channels instances: "+d1.OT+", memory: "+d1.U7);
var c=d1.bN;this.m=d;this.i=W;this.yd=c.createTexture();this._Y=null;this.Si(this.yd,d,W)};d1.S2.prototype.Si=function(d,W,c){var y=d1.bN;
y.bindTexture(y.TEXTURE_2D,d);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);
y.texImage2D(y.TEXTURE_2D,0,y.ALPHA,W,c,0,y.ALPHA,y.UNSIGNED_BYTE,null)};d1.S2.prototype.set=function(d,W){var c=d1.bN;
c.bindTexture(c.TEXTURE_2D,this.yd);c.pixelStorei(c.UNPACK_ALIGNMENT,1);var y=this.m*this.i;if(W==null||W.P()*10>y)c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.m,this.i,0,c.ALPHA,c.UNSIGNED_BYTE,d);
else{var B=new a8(0,0,this.m,this.i),r=v.R(W.P());v.ZW(d,B,r,W);c.texSubImage2D(c.TEXTURE_2D,0,W.x,W.y,W.m,W.i,c.ALPHA,c.UNSIGNED_BYTE,r)}c.pixelStorei(c.UNPACK_ALIGNMENT,4)};
d1.S2.prototype.delete=function(){var d=d1.bN;if(this.yd){d.deleteTexture(this.yd);d1.OT--;d1.U7-=this.m*this.i}if(d1.ON)if(d1.ON)console.log("GL.Channels instances: "+d1.OT+", memory: "+d1.U7*4)};
d1.OT=0;d1.ii=function(d,W,c){if(c==null)c=!1;d1.OT++;d1.U7+=d*W*4;if(d1.ON)console.log("GL.Channels instances: "+d1.OT+", memory: "+d1.U7);
var y=d1.bN;this.a7F=c;this.m=d;this.i=W;this.yd=y.createTexture();this._Y=null;this.Si(this.yd,d,W)};
d1.ii.prototype.set=function(d,W){var c=d1.bN;c.disable(c.SCISSOR_TEST);c.bindTexture(c.TEXTURE_2D,this.yd);
if(d==null||d instanceof Uint8Array){var y=this.m*this.i;if((W==null||W.P()*10>y)&&(d==null||d.length>=y*4))c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.m,this.i,0,c.RGBA,c.UNSIGNED_BYTE,d);
else{var B=d;if(d.length==y*4){var B=v.R(W.P()*4);v.qR(d,new a8(0,0,this.m,this.i),B,W)}c.texSubImage2D(c.TEXTURE_2D,0,W.x,W.y,W.m,W.i,c.RGBA,c.UNSIGNED_BYTE,B)}}else c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d)};
d1.ii.prototype.get=function(d){var W=d1.bN;d1.QO(this);W.readPixels(0,0,this.m,this.i,W.RGBA,W.UNSIGNED_BYTE,d)};
d1.ii.prototype.Yf=function(d){if(d.Bb())return;var W=d1.bN;if(this._Y==null){this._Y=W.createTexture();
this.Si(this._Y,this.m,this.i);d1.OT++;d1.U7+=this.m*this.i*4}W.bindFramebuffer(W.FRAMEBUFFER,d1._k);
W.bindTexture(W.TEXTURE_2D,this._Y);if(d){var c=Math.max(d.x,0),y=Math.max(d.y,0);W.copyTexSubImage2D(W.TEXTURE_2D,0,c,y,c,y,d.m,d.i)}else W.copyTexImage2D(W.TEXTURE_2D,0,W.RGBA,0,0,this.m,this.i,0)};
d1.ii.prototype.Si=function(d,W,c){var y=d1.bN;y.bindTexture(y.TEXTURE_2D,d);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.a7F?y.LINEAR:y.NEAREST);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);
y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);y.texImage2D(y.TEXTURE_2D,0,y.RGBA,W,c,0,y.RGBA,y.UNSIGNED_BYTE,null)};
d1.ii.prototype.delete=function(){var d=d1.bN;if(this.yd){d.deleteTexture(this.yd);d1.OT--;d1.U7-=this.m*this.i*4}if(this._Y){d.deleteTexture(this._Y);
d1.OT--;d1.U7-=this.m*this.i*4}if(d1.ON)if(d1.ON)console.log("GL.Channels instances: "+d1.OT+", memory: "+d1.U7)};
d1.ii.prototype.clone=function(){var d=d1.bN,W=new d1.ii(this.m,this.i);d1.QO(this);d.bindTexture(d.TEXTURE_2D,W.yd);
d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,0,0,this.m,this.i,0);return W};d1.$s={a7f:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",ami:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",p4:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Fe:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",aCZ:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",FF:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",K1:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",I5:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",art:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",hE:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aiG:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",rK:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",aCX:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",p8:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Ml:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",M2:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",CG:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",JB:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Xx:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",agD:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",ajp:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",P2:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",aCO:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
d1.l={};d1.l.Rf={};d1.l.zz=null;d1.l.Ur=null;d1.l._K=null;d1.l.a0J=function(d,W,c,y,B,r,x,Z){if(Z==null)Z=eV.aP();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(d)==-1){x=x*Z.fill;Z.fill=1;Z.style=!1}var i=d+(Z.Db?"1":"");
if(d1.l.Rf[i]==null)d1.l.Rf[i]=new d1.l.qd(d,Z.Db!=null);var k=d1.l.Rf[i],H=c.nK(B).nK(r);H.offset(-B.x,-B.y);
if(H.Bb())return;var V=d1.bN;d1.QO(y,H);y.Yf(H);k.e3();k.LQ(W.yd,y._Y,d1.gk(c,B),x,Z.fill,Z.style?1:0,Z.EX?1:0,Z.Db?new Float32Array(Z.Db):null);
V.drawArrays(V.TRIANGLES,0,6)};d1.l.Sy=function(d,W,c,y,B,r,x,Z,i,k,H){if(d1.l.zz==null)d1.l.zz=new d1.l.Kn(!0,!0);
if(d1.l.Ur==null)d1.l.Ur=new d1.l.Kn(!0,!1);if(d1.l._K==null)d1.l._K=new d1.l.Kn(!1,!0);var V=k?1:0,g=d?B?d1.l.zz:d1.l.Ur:d1.l._K,N=new Float32Array(H?[H[0],H[1],H[2],1]:[1,1,1,1]),C=W?W.nK(y).nK(Z):y.nK(Z);
if(C.Bb())return;C.offset(-y.x,-y.y);var w=d1.bN;d1.QO(c,C);c.Yf(C);g.e3();if(d==null)g.LQ(null,c._Y,B.yd,d1.gk(y,y),d1.gk(r,y),x/255,i,V,N);
else if(B)g.LQ(d.yd,c._Y,B.yd,d1.gk(W,y),d1.gk(r,y),x/255,i,V,N);else g.LQ(d.yd,c._Y,null,d1.gk(W,y),null,x/255,i,V,N);
w.drawArrays(w.TRIANGLES,0,6)};d1.l.aww=function(d,W,c){if(d1.l.an_==null)d1.l.an_=new d1.l.iN;var y=d1.l.an_,B=new a8(0,0,d.m,d.i),r=d1.bN;
d1.QO(W);W.Yf(B);y.e3();y.LQ(B,d.yd,W._Y,c.yd);r.drawArrays(r.TRIANGLES,0,6)};d1.l.Zr={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
d1.l.qd=function(d,W){d1.zW.call(this);var c="\t\t\tprecision highp float;\t\t\t"+d1.$s.p4+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(W?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+d1.$s.FF+"\t\t\t"+d1.$s.K1+"\t\t\t"+d1.$s.I5+"\t\t\t"+d1.$s.a7f+"\t\t\t"+d1.$s.ami+"\t\t\t"+d1.$s.art+"\t\t\t"+d1.$s.hE+"\t\t\t"+d1.$s.aiG+"\t\t\t"+d1.$s.rK+"\t\t\t"+d1.$s.hash+"\t\t\t"+(W?d1.$s.P2:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+d1.l.Zr[d]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",y="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(d=="diss")c+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else c+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(W?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.wa(c,y)};d1.l.qd.prototype=new d1.zW;d1.l.qd.prototype.LQ=function(d,W,c,y,B,r,x,Z){this.uW("srct alpha source target fill style keepBGA blIf".split(" "));
var i=d1.bN,k=this.hq;i.uniform4fv(k.srct,c);i.uniform1f(k.alpha,y);i.uniform1f(k.fill,B);i.uniform1f(k.style,r);
i.uniform1f(k.keepBGA,x);if(Z)i.uniform4fv(k.blIf,Z);this.Eo([k.source,d,k.target,W])};d1.l.Kn=function(d,W){d1.zW.call(this);
this.a1f=d;this.NA=W;var c="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+d1.$s.aCX+"\t\t\t"+d1.$s.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(d?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(W?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(d?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(W?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",y="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.wa(c,y)};d1.l.Kn.prototype=new d1.zW;d1.l.Kn.prototype.LQ=function(d,W,c,y,B,r,x,Z,i){if(this.NA)this.uW("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.uW("srct awg dissv source target cswitch".split(" "));var k=d1.bN,H=this.hq;k.uniform4fv(H.srct,y);
if(this.NA){k.uniform4fv(H.wrct,B);k.uniform1f(H.wcolor,r)}else{k.uniform4fv(H.cswitch,i)}k.uniform1f(H.awg,x);
k.uniform1f(H.dissv,Z);var V=[H.source,d,H.target,W];if(this.NA)V.push(H.weight,c);this.Eo(V)};d1.l.iN=function(){d1.zW.call(this);
var d="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",W="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.wa(d,W)};d1.l.iN.prototype=new d1.zW;d1.l.iN.prototype.LQ=function(d,W,c,y){this.uW(["rct","prev","next","alpha"]);
var B=d1.bN,r=this.hq;B.uniform4fv(r.rct,[0,0,1,1]);this.Eo([r.prev,W,r.next,c,r.alpha,y])};d1.dH={CS:{},Cd:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
d1.dH.SF=function(d,W){var c=bN.WG,y=[c.Bh,c.lx,c.sC,c.DF,c.Ob,c.W0,c.gi,c.Ko].indexOf(d.type),B=d1.dH.CS[d.type];
if(B==null)B=d1.dH.CS[d.type]=new d1.CS[y];B.e3();B.LQ(W,d);d1.bN.drawArrays(d1.bN.TRIANGLES,0,6)};d1.CS=[];
d1.CS[0]=function(){d1.zW.call(this);this.UY={};var d="\t\t\tprecision mediump float;\t\t\t"+d1.$s.K1+"\t\t\t"+d1.$s.p4+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.wa(d,d1.dH.Cd)};d1.CS[0].prototype=new d1.zW;d1.CS[0].prototype.LQ=function(d,W){var c={Z:W.Rp,G:W.qP,J:W.wN,U:v.R(W.Rp.length)},y=c.Z.length;
if(this.UY["m"+y]==null){this.UY["m"+y]={awF:new d1.ii(y,1),Gq:v.R(y*4)}}var B=this.UY["m"+y];v.KU(c,B.Gq,0);
var r=B.awF;r.set(B.Gq);this.uW(["source","map","toGray","presLum"]);var x=d1.bN,Z=this.hq;x.uniform1f(Z.toGray,W._y?1:0);
x.uniform1f(Z.presLum,W.QL?1:0);this.Eo([Z.source,d,Z.map,r.yd])};d1.CS[1]=function(){d1.zW.call(this);
this.aie=new d1.ii(256,1);this.at8=v.R(256*4);var d="\t\t\t\tprecision mediump float;\t\t\t\t"+d1.$s.M2+"\t\t\t\t"+d1.$s.p8+"\t\t\t\t"+d1.$s.Ml+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.wa(d,d1.dH.Cd)};d1.CS[1].prototype=new d1.zW;d1.CS[1].prototype.LQ=function(d,W){v.KU({Z:W.a5k,G:W.gD,J:W.a32,U:v.R(256)},this.at8);
this.aie.set(this.at8);this.uW(["source","map","cfa","cfb","colorize"]);var c=d1.bN,y=this.hq;c.uniform1f(y.cfa,W.ah6);
c.uniform1f(y.cfb,W.bm);c.uniform1i(y.colorize,W.aBg);this.Eo([y.source,d,y.map,this.aie.yd])};d1.CS[2]=function(){d1.zW.call(this);
var d="\t\t\tprecision mediump float;\t\t\t"+d1.$s.M2+"\t\t\t"+d1.$s.CG+"\t\t\t"+d1.$s.JB+"\t\t\t"+d1.$s.p8+"\t\t\t"+d1.$s.Ml+"\t\t\t"+d1.$s.agD+"\t\t\t"+d1.$s.ajp+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.wa(d,d1.dH.Cd)};d1.CS[2].prototype=new d1.zW;d1.CS[2].prototype.LQ=function(d,W){this.uW(["source","vib","sat","yF"]);
var c=d1.bN,y=this.hq;c.uniform1f(y.vib,W.au[0]);c.uniform1f(y.sat,W.au[1]);c.uniform3fv(y.yF,new Float32Array([W.au[2],W.au[3],W.au[3]]));
this.Eo([y.source,d])};d1.CS[3]=function(){d1.zW.call(this);var d="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.wa(d,d1.dH.Cd)};d1.CS[3].prototype=new d1.zW;d1.CS[3].prototype.LQ=function(d,W){this.uW(["source","trf"]);
var c=d1.bN,y=this.hq;c.uniformMatrix4fv(y.trf,!1,new Float32Array(v.hu.VT(W.Fp)));this.Eo([y.source,d])};
d1.CS[4]=function(){d1.zW.call(this);var d="\t\t\tprecision mediump float; \t\t\t"+d1.$s.Xx+"\t\t\t"+d1.$s.M2+"\t\t\t"+d1.$s.Ml+"\t\t\t"+d1.$s.p8+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.wa(d,d1.dH.Cd)};d1.CS[4].prototype=new d1.zW;d1.CS[4].prototype.LQ=function(d,W){this.uW(["source","mnm","mxm","shift","lim"]);
var c=d1.bN,y=this.hq;c.uniform3fv(y.mnm,new Float32Array(W.C5));c.uniform3fv(y.mxm,new Float32Array(W.hb));
c.uniform3fv(y.shift,new Float32Array(W.shift));c.uniform1f(y.lim,W.Qw);this.Eo([y.source,d])};d1.CS[5]=function(){d1.zW.call(this);
var d="\t\t\tprecision mediump float;\t\t\t"+d1.$s.p4+"\t\t\t"+d1.$s.Fe+"\t\t\t"+d1.$s.aCZ+"\t\t\t"+d1.$s.p8+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.wa(d,d1.dH.Cd)};d1.CS[5].prototype=new d1.zW;d1.CS[5].prototype.LQ=function(d,W){this.uW(["source","cfs"]);
var c=d1.bN,y=this.hq;c.uniform3fv(y.cfs,W.ane);this.Eo([y.source,d])};d1.CS[6]=function(){d1.zW.call(this);
var d="\t\t\tprecision mediump float;\t\t\t"+d1.$s.M2+"\t\t\t"+d1.$s.Fe+"\t\t\t"+d1.$s.aCZ+"\t\t\t"+d1.$s.p8+"\t\t\t"+d1.$s.Ml+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.wa(d,d1.dH.Cd)};d1.CS[6].prototype=new d1.zW;d1.CS[6].prototype.LQ=function(d,W){this.uW(["source","wght","prms"]);
var c=d1.bN,y=this.hq,B=[W.f_,W.ayN,W.K1,W.adk,W.hP,W.a35];c.uniform1fv(y.wght,new Float32Array(W.aDd));
c.uniform1fv(y.prms,new Float32Array(B));this.Eo([y.source,d])};d1.CS[7]=function(){d1.zW.call(this);
this.pJ={};var d="\t\t\tprecision mediump float;\t\t\t"+d1.$s.aCO+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.wa(d,d1.dH.Cd)};d1.CS[7].prototype=new d1.zW;d1.CS[7].prototype.LQ=function(d,W){this.uW(["source","lut","N"]);
var c=d1.bN,y=this.hq,B=W.gP,r=W.iJ;if(this.pJ["m"+B]==null)this.pJ["m"+B]=new d1.ii(B,B*B);var x=this.pJ["m"+B];
x.set(r);c.uniform1f(y.N,B);this.Eo([y.source,d,y.lut,x.yd]);c.activeTexture(c.TEXTURE1);var Z=c.LINEAR;
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,Z);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,Z);
c.activeTexture(c.TEXTURE0)};d1.filter={kR:{},Cd:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",agE:0,aeL:1,Jl:2,anX:3,ahF:4,ais:5,j0:6,avW:7};
d1.filter.SF=function(d,W){var c=d1.filter,y,B=d.type+":"+(d.er?d.er.join(","):""),y=d1.filter.kR[B];
if(y==null)y=d1.filter.kR[B]=new d1.kR[d.type](d.er);y.e3();y.LQ(W,d);d1.bN.drawArrays(d1.bN.TRIANGLES,0,6)};
d1.kR=[0,0,0,0,0,0,0,0,0,0,0,0];d1.kR[7]=function(){d1.zW.call(this);var d="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.wa(dQ.Fu(d),dQ.Fu(d1.filter.Cd))};d1.kR[7].prototype=new d1.zW;d1.kR[7].prototype.LQ=function(d,W){this.uW(["source","iwh","kern"]);
var c=d1.bN,y=this.hq;c.uniform2fv(y.iwh,W.ci);c.uniform1fv(y.kern,W.atU);this.Eo([y.source,d])};d1.kR[6]=function(d){d1.zW.call(this);
var W=d[0],c=d[1],y=d[2],B="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",r=dQ.Fu(B);
r=r.replaceAll("PRC",y+".0");r=r.replaceAll("DIR",["x,0","0,x"][c]);this.wa(r,d1.dH.Cd)};d1.kR[6].prototype=new d1.zW;
d1.kR[6].prototype.LQ=function(d,W){this.uW(["source","iwh","rad"]);var c=d1.bN,y=this.hq;c.uniform2fv(y.iwh,W.ci);
c.uniform1f(y.rad,W.k1);this.Eo([y.source,d])};d1.kR[4]=function(d){d1.zW.call(this);var W=d[0],c=d[1],y="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+d[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][c]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][W]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][c]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(c==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.wa(y,d1.dH.Cd)};d1.kR[4].prototype=new d1.zW;d1.kR[4].prototype.LQ=function(d,W){this.uW(["source","iwh","rrad","tr"]);
var c=d1.bN,y=this.hq;c.uniform2fv(y.iwh,W.ci);c.uniform1f(y.rrad,W.EL);c.uniform1f(y.tr,W.aDP);this.Eo([y.source,d]);
var B=c.LINEAR;B=c.NEAREST;c.activeTexture(c.TEXTURE0);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,B);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,B);c.activeTexture(c.TEXTURE0)};d1.kR[5]=function(){d1.zW.call(this);
var d="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.wa(dQ.Fu(d),dQ.Fu(d1.filter.Cd))};d1.kR[5].prototype=new d1.zW;d1.kR[5].prototype.LQ=function(d,W){this.uW(["source","ssum","iwh","amnt","edgf"]);
var c=d1.bN,y=this.hq;c.uniform2fv(y.iwh,W.ci);c.uniform1f(y.amnt,W.ahC);c.uniform1f(y.edgf,W.aje);this.Eo([y.source,d,y.ssum,W.aa_])};
d1.kR[3]=function(){d1.zW.call(this);var d="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.wa(dQ.Fu(d),dQ.Fu(d1.filter.Cd))};d1.kR[3].prototype=new d1.zW;d1.kR[3].prototype.LQ=function(d,W){this.uW("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var c=d1.bN,y=this.hq;c.uniform2fv(y.iwh,W.ci);c.uniform1f(y.tdep,W.awj);c.uniform1f(y.rrad,W.EL);c.uniform2fv(y.spec,W.ahE);
c.uniform3fv(y.nois,W.a7z);c.uniformMatrix4fv(y.poly0,!1,W.awu);c.uniformMatrix4fv(y.poly1,!1,W.ay0);
this.Eo([y.source,d]);var B=c.LINEAR;c.activeTexture(c.TEXTURE0);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,B);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,B);c.activeTexture(c.TEXTURE0)};d1.kR[0]=function(){d1.zW.call(this);
var d="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.wa(dQ.Fu(d),dQ.Fu(d1.filter.Cd))};d1.kR[0].prototype=new d1.zW;d1.kR[0].prototype.LQ=function(d,W){this.uW(["source","iwh","ld","shine"]);
var c=d1.bN,y=this.hq;c.uniform2fv(y.iwh,W.ci);c.uniform3fv(y.ld,W.akk);c.uniform1f(y.shine,W.aB7);this.Eo([y.source,d,y.tang,W.eK])};
d1.kR[1]=function(){d1.zW.call(this);var d="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.wa(dQ.Fu(d),dQ.Fu(d1.filter.Cd))};d1.kR[1].prototype=new d1.zW;d1.kR[1].prototype.LQ=function(d,W){this.uW(["source","iwh","isc","bristle"]);
var c=d1.bN,y=this.hq;c.uniform2fv(y.iwh,W.ci);c.uniform1f(y.isc,W.adu);c.uniform1f(y.bristle,W.aoq);
this.Eo([y.source,d])};d1.kR[2]=function(){d1.zW.call(this);var d="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.wa(dQ.Fu(d),dQ.Fu(d1.filter.Cd))};d1.kR[2].prototype=new d1.zW;d1.kR[2].prototype.LQ=function(d,W){this.uW(["source","tang","iwh","sigma","expo"]);
var c=d1.bN,y=this.hq;c.uniform2fv(y.iwh,W.ci);c.uniform1f(y.sigma,W.a3d);c.uniform1f(y.expo,W.al0);
this.Eo([y.source,d,y.tang,W.eK]);var B=c.LINEAR;c.activeTexture(c.TEXTURE0);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,B);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,B);c.activeTexture(c.TEXTURE0)};function v(){}v.$={};
v.aAW={};v.ale=function(){var d=[64,64,128,256,512,1024,2048],W=[];for(var S=0;S<d.length;S++){var c=d[S],y=document.createElement("canvas");
y.width=c;y.height=c;W.push(y.getContext("2d",{willReadFrequently:!0}))}return W}();v.td=function(d,W){var c,y=v.ale,S=1,B=Math.max(d,W);
while(S<y.length&&B>y[S].canvas.width)S++;if(S==y.length){c=y[0];var r=c.canvas;r.width=d;r.height=W}else{c=y[S];
c.clearRect(0,0,d,W)}return c};v.fD=function(d,W,c){var y=new Uint32Array(W*c);y[0]=d[0];for(var B=1;
B<W;B++)y[B]=y[B-1]+d[B];for(var r=1;r<c;r++){var S=r*W;y[S]=y[S-W]+d[S];for(var B=1;B<W;B++)y[S+B]=d[S+B]+y[S+B-1]+y[S+B-W]-y[S+B-W-1]}return y};
v.EJ=function(d,W,c,y,B,r){var x=(B-1)*W,Z=r*W;return d[Z+y]-d[Z+c-1]-d[x+y]+d[x+c-1]};v.u2=function(d,W,c){var y={},B=0,r=0,x=new Uint32Array(d.buffer),Z=x.length,i=Date.now();
for(var k=1;k<c-1;k++)for(var H=1;H<W-1;H++){var V=k*W+H,g=x[V];if(g>>>24<230)r++;if(y[g]==null){y[g]=!0;
B++}}if(r!=0||B<20)return!1;return!0};v.we=function(d,W,c,y,B,r){if(B==null)B=r=0;y=Math.log(y)/Math.log(2);
y=Math.round(y);var x=new Uint32Array(d.buffer);for(var S=0;S<c;S++)for(var Z=0;Z<W;Z++){x[S*W+Z]=v.aj4(S+r,Z+B,y)}};
v.a6y=function(S,d,W){return 255-((S>>>W)+(d>>>W)&1)*51};v.aj4=function(S,d,W){return 4294967295-((S>>>W)+(d>>>W)&1)*3355443};
v.S4=function(d,W){var c=W==null?1:W/255;return{Z:(d>>>16&255)*c,G:(d>>>8&255)*c,J:(d&255)*c}};v.p6=function(d,W){var c=W==null?1:255/W;
return Math.round(d.Z*c)<<16|Math.round(d.G*c)<<8|Math.round(d.J*c)};v.Wb=function(d){var W=d.toString(16);
while(W.length<6)W="0"+W;return W};v.aq9=function(d){return parseInt(d,16)};v.K1=function(d){return.3*d.Z+.59*d.G+.11*d.J};
v.FF=function(d){return Math.max(d.Z,d.G,d.J)-Math.min(d.Z,d.G,d.J)};v.DB=function(d,W,c){return.3*d+.59*W+.11*c};
v.agv=function(d,W,c){return Math.max(d,W,c)-Math.min(d,W,c)};v.Fe=function(d,W){var c=W-d,y=Math.abs(c),B=c-1,r=c+1;
if(Math.abs(B)<y)c=B;else if(Math.abs(r)<y)c=r;return c};v.dM=function(d){return d<.0031308?12.92*d:1.055*Math.pow(d,1/2.4)-.055};
v.c1=function(d){return d<.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)};v.any=function(d,W){var c=Math.min(d.length,W.length);
for(var S=0;S<c;S+=4){var y=d[S],B=d[S+1],r=d[S+2];W[S]=16+Math.floor(65.481/255*y+128.553/255*B+24.966/255*r+.5);
W[S+1]=128-Math.floor(37.797/255*y-74.203/255*B+112/255*r+.5);W[S+2]=128+Math.floor(112/255*y-93.786/255*B-18.214/255*r+.5);
W[S+3]=d[S+3]}};v.a6B=function(d,W,c){var y,B,r,x=Math.max(d,W,c),Z=Math.min(d,W,c);r=x;if(x!=0)B=(x-Z)/x;
else B=0;if(B==0)y=0;else{var i=x-Z,k=(x-d)/i,H=(x-W)/i,V=(x-c)/i;if(d==x)y=V-H;else if(W==x)y=2+k-V;
else y=4+H-k;y*=1/6;if(y<0)y=y+1}return{fn:y,Td:B,J:r}};v.aDE=function(d,W,c){var y=0,B=0,r=0;if(W==0)y=B=r=c;
else{var x=(d-Math.floor(d))*6,Z=Math.floor(x),i=x-Math.floor(x),k=c*(1-W),H=c*(1-W*i),V=c*(1-W*(1-i));
switch(Z){case 0:y=c;B=V;r=k;break;case 1:y=H;B=c;r=k;break;case 2:y=k;B=c;r=V;break;case 3:y=k;B=H;
r=c;break;case 4:y=V;B=k;r=c;break;case 5:y=c;B=k;r=H;break}}return{Z:y,G:B,J:r}};v.p8=function(d,W,c){var y=Math.max(d,W,c),B=Math.min(d,W,c),r=0,x=0,Z=(y+B)*.5;
if(y!=B){var i=y-B;x=Z>.5?i/(2-(y+B)):i/(y+B);switch(y){case d:r=(W-c)/i+(W<c?6:0);break;case W:r=(c-d)/i+2;
break;case c:r=(d-W)/i+4;break}r*=1/6}return{fn:r,Td:x,vh:Z}};v.Ml=function(d,W,c){var y,B,r;if(W==0)y=B=r=c;
else{var x=c<.5?c*(1+W):c+W-c*W,Z=2*c-x;y=v.M2(Z,x,d+1/3);B=v.M2(Z,x,d);r=v.M2(Z,x,d-1/3)}return{Z:y,G:B,J:r}};
v.M2=function(d,W,c){if(c<0)c+=1;if(c>1)c-=1;if(c<1/6)return d+(W-d)*6*c;if(c<1/2)return W;if(c<2/3)return d+(W-d)*(2/3-c)*6;
return d};v.CG=function(d,W,c){var y=Math.max(d,W,c),B=Math.min(d,W,c),r,x,Z=y,i=y-B;x=y==0?0:i/y;if(y==B)r=0;
else{switch(y){case d:r=(W-c)/i+(W<c?6:0);break;case W:r=(c-d)/i+2;break;case c:r=(d-W)/i+4;break}r*=1/6}return{fn:r,Td:x,Za:Z}};
v.JB=function(d,W,c){var y,B,r,S,x,Z,i,k;S=Math.floor(d*6);x=d*6-S;Z=c*(1-W);i=c*(1-x*W);k=c*(1-(1-x)*W);
switch(S%6){case 0:y=c,B=k,r=Z;break;case 1:y=i,B=c,r=Z;break;case 2:y=Z,B=c,r=k;break;case 3:y=Z,B=i,r=c;
break;case 4:y=k,B=Z,r=c;break;case 5:y=c,B=Z,r=i;break}return{Z:y,G:B,J:r}};v.Ri=function(){var d=[],W=[];
for(var S=0;S<8e3;S++){var c=S*(1/4e3);d[S]=v.c1(c);W[S]=c>.008856?Math.pow(c,1/3):(903.3*c+16)*(1/116)}return[d,W]}();
v.Xx=function(d,W,c,y){if(y==null)y=[.9642,1,.8249];var B=v.Ri[0],r=v.Ri[1];d=B[~~(.5+d*(4e3/255))];
W=B[~~(.5+W*(4e3/255))];c=B[~~(.5+c*(4e3/255))];var x=v.hu.a6Z,Z=x[0]*d+x[1]*W+x[2]*c,i=x[4]*d+x[5]*W+x[6]*c,k=x[8]*d+x[9]*W+x[10]*c;
Z=Z*(1/y[0]);i=i*(1/y[1]);k=k*(1/y[2]);return v.amg(Z,i,k)};v.amg=function(d,W,c){var y=v.Ri[1],B=y[~~(.5+d*4e3)],r=y[~~(.5+W*4e3)],x=y[~~(.5+c*4e3)];
return{ns:116*r-16,U:500*(B-r),J:200*(r-x)}};v.m2=function(d,W,c){var y=903.3,B=.008856,r=(d+16)/116,x=r*r*r,Z=r-c/200,i=Z*Z*Z,k=W/500+r,H=k*k*k,V=i>B?i:(116*Z-16)/y,g=x>B?x:(116*r-16)/y,N=H>B?H:(116*k-16)/y,C=N*96.42,w=g*100,Y=V*82.49,U=v.hu.ul(v.hu.cu,[C/100,w/100,Y/100,0]);
for(var S=0;S<4;S++)U[S]=Math.max(0,Math.min(255,v.dM(U[S])*255));return{Z:U[0],G:U[1],J:U[2]}};v.a8h=function(d,W,c,y,B){var r=d.ns,x=d.U,Z=d.J,i=(r<W.ns?W.ns-r:c.ns<r?c.ns-r:0)*(1/100),k=(x<W.U?W.U-x:c.U<x?c.U-x:0)*(1/116),H=(Z<W.J?W.J-Z:c.J<Z?c.J-Z:0)*(1/116),V=Math.sqrt(i*i+k*k+H*H)*1.35;
return V<=y?Math.min(1,1.17*(1-V*B)):0};v.$J=function(d){var W=v.k5("cmykToRgb"),c=W[2],y=W[3],B=[0,0,0,0];
ICC.U.applyLUT4Float(y,c,d,B);return B};v.aam=function(){var d=function(bd){return Math.round(bd*255)},W="",c=3;
for(var S=0;S<tab.length;S++){var y=d(tab[S]);if(c<=S)y=y-d(tab[S-c])+256&255;W+=y.toString(16).padStart(2,"0")}return W};
v.k5=function(d){var W=LUTS["_"+d];if(W==null){var c=LUTS[d],y=c[0],bd=c[1],B=c[2],r=c[3],x=[];for(var S=0;
S<r.length;S+=2)x.push(parseInt(r.slice(S,S+2),16));for(var S=bd;S<x.length;S++)x[S]=x[S]+x[S-bd]&255;
for(var S=0;S<x.length;S++)x[S]*=1/255;W=LUTS["_"+d]=[y,bd,B,x]}return W};v.YP=function(d){var W=v.k5("rgbToCmyk"),c=W[2],y=W[3],B=[0,0,0,0];
ICC.U.applyLUT3to4Float(y,c,d,B);return B};v.a52=function(d){for(var S=0;S<d.length;S+=4){var W=[d[S+0]*(1/255),d[S+1]*(1/255),d[S+2]*(1/255)],c=v.YP(W);
d[S+0]=255-Math.floor(.5+c[0]*255);d[S+1]=255-Math.floor(.5+c[1]*255);d[S+2]=255-Math.floor(.5+c[2]*255);
d[S+3]=255-Math.floor(.5+c[3]*255)}};v.ou=function(d,W,c){var y=d.length,B=.3,r=.59,x=.11;if(c){B=c[0];
r=c[1];x=c[2]}for(var S=0;S<y;S+=4)W[S>>2]=~~(d[S+0]*B+d[S+1]*r+d[S+2]*x+.5)};v.ta=function(d,W){var c=W.length;
for(var S=0;S<c;S+=4){var y=d[S>>>2];W[S]=y;W[S+1]=y;W[S+2]=y}};v.KU=function(d,W){var c=d.U,y=d.Z,B=d.G,r=d.J,x=Math.min(d.U.length,W.buffer.byteLength>>>2),Z=4*Math.floor(x/4),i=new Uint32Array(W.buffer),k=new Uint32Array(c.buffer),H=new Uint32Array(y.buffer),V=new Uint32Array(B.buffer),g=new Uint32Array(r.buffer);
for(var S=0;S<Z;S+=4){var N=k[S>>2],C=g[S>>2],w=V[S>>2],Y=H[S>>2];i[S]=N<<24|(C&255)<<16|(w&255)<<8|Y&255;
i[S+1]=(N&65280)<<16|(C&65280)<<8|w&65280|(Y&65280)>>>8;i[S+2]=(N&16711680)<<8|C&16711680|(w&16711680)>>>8|(Y&16711680)>>>16;
i[S+3]=N&4278190080|(C&4278190080)>>>8|(w&4278190080)>>>16|(Y&4278190080)>>>24}for(var S=Z;S<x;S++)i[S]=c[S]<<24|r[S]<<16|B[S]<<8|y[S]};
v.AH=function(d,W){var c=W.U,y=W.Z,B=W.G,r=W.J,x=Math.min(W.U.length,d.buffer.byteLength>>>2),Z=4*Math.floor(x/4),i=new Uint32Array(d.buffer),k=new Uint32Array(c.buffer),H=new Uint32Array(y.buffer),V=new Uint32Array(B.buffer),g=new Uint32Array(r.buffer);
for(var S=0;S<Z;S+=4){var N=i[S],C=i[S+1],w=i[S+2],Y=i[S+3];H[S>>2]=N&255|(C&255)<<8|(w&255)<<16|Y<<24;
V[S>>2]=(N&65280)>>8|C&65280|(w&65280)<<8|(Y&65280)<<16;g[S>>2]=(N&16711680)>>16|(C&16711680)>>8|w&16711680|(Y&16711680)<<8;
k[S>>2]=N>>>24|C>>>24<<8|w>>>24<<16|Y&4278190080}for(var S=Z;S<x;S++){var U=i[S];y[S]=U>>0&255;B[S]=U>>8&255;
r[S]=U>>16&255;c[S]=U>>24&255}};v.$P=function(d,W,c){var y=new Uint8Array(d.buffer),B=Math.min(y.length/4,W.length);
for(var S=0;S<B;S++){W[S]=y[(S<<2)+c]}};v.nP=function(d,W,c){var y=new Uint8Array(W.buffer),B=new Uint32Array(d.buffer),r=Math.min(y.length/4,d.length),S=0;
while(S+4<r){var x=B[S>>>2];y[(S<<2)+c]=x&255;y[(S<<2)+c+4]=x>>>8&255;y[(S<<2)+c+8]=x>>>16&255;y[(S<<2)+c+12]=x>>>24;
S+=4}while(S<r){y[(S<<2)+c]=d[S];S++}};v.ft=function(d,W,c){if(c==null)c=0;var y=new Uint32Array(d.buffer),B=y.length;
for(var S=0;S<B;S++)y[S]=y[S]&c|W};v.air=function(d,W,c,y,B){if(B==null)B=0;var r=new Uint32Array(d.buffer);
c=c.nK(W);var x=c.x-W.x,Z=c.y-W.y,i=c.m,k=c.i,H=W.m;for(var V=0;V<k;V++){var S=(Z+V)*H+x;for(var g=0;
g<i;g++){r[S]=r[S]&B|y;S++}}};v.PY=function(d,W){var c=Math.min(d.buffer.byteLength,W.buffer.byteLength),y=c>>>2,d=new Uint32Array(d.buffer,0,y),W=new Uint32Array(W.buffer,0,y);
W.set(d)};v.zI=function(d,W){var c=d.buffer.byteLength,y=W.buffer.byteLength,B=new Uint32Array(d.buffer,0,c>>2),r=new Uint32Array(W.buffer,0,y>>2);
if(c!=y)return!1;var x=B.length;for(var S=0;S<x;S++)if(r[S]!=B[S])return!1;return!0};v.QE=function(d){var W=new Uint32Array(d.buffer),c=W.length;
for(var S=0;S<c;S++)W[S]=~W[S]};v.ab7=function(d){var W=d.length;for(var S=0;S<W;S+=4){d[S]=~d[S];d[S+1]=~d[S+1];
d[S+2]=~d[S+2]}};v.a7K=function(d){var W=d.length;for(var S=3;S<W;S+=4)d[S]=~d[S]};v.aut=function(d){return d+(d%4==0?0:4-d%4)};
v.R=function(d,W){if(W==null)W=!1;if(!W)d=v.aut(d);try{var c=new Uint8Array(d)}catch(jj){alert("Not enough RAM! (need "+Math.round(d/(1<<20))+" MB)",7e3);
throw"low_ram"}return c};v.aB2=function(d,W,c,y){if(y==null)y=0;var B=0;while(B+3<d.length&&d[B+3].P()>=y&&W.dV()*(1<<(B>>>1))<c)B+=2;
var r=d[1],x=d[B+1],Z=new dT;Z.translate(-r.x,-r.y);Z.scale(r.m/x.m,r.i/x.i);Z.translate(r.x,r.y);Z.concat(W);
return[B,Z]};v.rG=function(d){var W=d.length,c=d[W-2],y=d[W-1];while(y.m>=2&&y.i>=2){var B=v.hG(c,y);
d.push(B.Gq,B.rect);c=B.Gq;y=B.rect}};v.UC=function(d){var W=d.length,c=d[W-2],y=d[W-1];while(y.m>=2&&y.i>=2){var B=v.YZ(c,y);
d.push(B.Gq,B.rect);c=B.Gq;y=B.rect}};v.hG=function(d,W,c){var y=W.m,B=W.i,r=y>>1,x=B>>1,Z=new a8(W.x,W.y,r,x),i=c&&c.length==r*x*4?c:v.R(r*x*4),k=new Uint32Array(d.buffer),H=new Uint32Array(i.buffer);
for(var V=0;V<x;V++)for(var g=0;g<r;g++){var N=V*r+g,C=(V<<1)*y+(g<<1),w=k[C],Y=k[C+1],U=k[C+y],e=k[C+y+1],O=w>>>24,l=Y>>>24,I=U>>>24,s=e>>>24,z=O+l+I+s;
if(z==1020){var R=(w>>>0&255)+(Y>>>0&255)+(U>>>0&255)+(e>>>0&255)+2>>>2,t=(w>>>8&255)+(Y>>>8&255)+(U>>>8&255)+(e>>>8&255)+2>>>2,a=(w>>>16&255)+(Y>>>16&255)+(U>>>16&255)+(e>>>16&255)+2>>>2;
H[N]=255<<24|a<<16|t<<8|R}else if(z==0)H[N]=0;else{var R=(w>>>0&255)*O+(Y>>>0&255)*l+(U>>>0&255)*I+(e>>>0&255)*s,t=(w>>>8&255)*O+(Y>>>8&255)*l+(U>>>8&255)*I+(e>>>8&255)*s,a=(w>>>16&255)*O+(Y>>>16&255)*l+(U>>>16&255)*I+(e>>>16&255)*s,J=1/z;
R=~~(R*J+.5);t=~~(t*J+.5);a=~~(a*J+.5);H[N]=z+2>>>2<<24|a<<16|t<<8|R}}return{rect:Z,Gq:i}};v.alZ=function(d,W,c){var y=W.m,B=W.i,r=y>>1,x=B>>1,Z=new a8(W.x,W.y,r,x),i=c&&c.length==r*x*4?c:v.R(r*x*4),k=new Uint32Array(d.buffer),H=new Uint32Array(i.buffer);
for(var V=0;V<x;V++)for(var g=0;g<r;g++){var N=V*r+g,C=(V<<1)*y+(g<<1),w=k[C],Y=k[C+1],U=k[C+y],e=k[C+y+1],O=2+(w>>>0&255)+(Y>>>0&255)+(U>>>0&255)+(e>>>0&255)>>>2,l=2+(w>>>8&255)+(Y>>>8&255)+(U>>>8&255)+(e>>>8&255)>>>2,I=2+(w>>>16&255)+(Y>>>16&255)+(U>>>16&255)+(e>>>16&255)>>>2,s=2+(w>>>24&255)+(Y>>>24&255)+(U>>>24&255)+(e>>>24&255)>>>2;
H[N]=s<<24|I<<16|l<<8|O}return{rect:Z,Gq:i}};v.a7E=function(d,W,c){var y=W.m,B=W.i,r=2*Math.floor(y/3),x=2*Math.floor(B/3),Z=new a8(W.x,W.y,r,x),i=c&&c.length==r*x*4?c:v.R(r*x*4),k=new Uint32Array(d.buffer),H=new Uint32Array(i.buffer);
for(var V=0;V<x;V+=2)for(var g=0;g<r;g+=2){var N=V*r+g,C=(V*3>>>1)*y+(g*3>>>1),w=k[C],Y=k[C+1],U=k[C+2],e=k[C+y],O=k[C+1+y],l=k[C+2+y],I=k[C+y+y],s=k[C+1+y+y],z=k[C+2+y+y],R=w>>>24<<2,t=(w>>>16&255)*R,a=(w>>>8&255)*R,J=(w&255)*R,F=Y>>>24<<1,h=(Y>>>16&255)*F,m=(Y>>>8&255)*F,D=(Y&255)*F,_=U>>>24<<2,n=(U>>>16&255)*_,j=(U>>>8&255)*_,T=(U&255)*_,L=e>>>24<<1,p=(e>>>16&255)*L,E=(e>>>8&255)*L,G=(e&255)*L,A=O>>>24,u=(O>>>16&255)*A,q=(O>>>8&255)*A,o=(O&255)*A,M=l>>>24<<1,$=(l>>>16&255)*M,Q=(l>>>8&255)*M,kF=(l&255)*M,P=I>>>24<<2,bM=(I>>>16&255)*P,jW=(I>>>8&255)*P,fX=(I&255)*P,bX=s>>>24<<1,ao=(s>>>16&255)*bX,en=(s>>>8&255)*bX,fK=(s&255)*bX,bO=z>>>24<<2,b9=(z>>>16&255)*bO,bK=(z>>>8&255)*bO,f0=(z&255)*bO,hn=R+F+L+A,hX=_+F+M+A,gR=P+bX+L+A,ib=bO+bX+M+A,gU=hn==0?0:1/hn,hq=hX==0?0:1/hX,ip=gR==0?0:1/gR,aW=ib==0?0:1/ib,kN=0,hW=0,jH=0,g0=0;
kN=~~(.5+(J+D+G+o)*gU);hW=~~(.5+(a+m+E+q)*gU);jH=~~(.5+(t+h+p+u)*gU);g0=~~(.5+hn*(1/9));H[N]=g0<<24|jH<<16|hW<<8|kN;
kN=~~(.5+(T+D+kF+o)*hq);hW=~~(.5+(j+m+Q+q)*hq);jH=~~(.5+(n+h+$+u)*hq);g0=~~(.5+hX*(1/9));H[N+1]=g0<<24|jH<<16|hW<<8|kN;
kN=~~(.5+(fX+fK+G+o)*ip);hW=~~(.5+(jW+en+E+q)*ip);jH=~~(.5+(bM+ao+p+u)*ip);g0=~~(.5+gR*(1/9));H[N+r]=g0<<24|jH<<16|hW<<8|kN;
kN=~~(.5+(f0+fK+kF+o)*aW);hW=~~(.5+(bK+en+Q+q)*aW);jH=~~(.5+(b9+ao+$+u)*aW);g0=~~(.5+ib*(1/9));H[N+r+1]=g0<<24|jH<<16|hW<<8|kN}return{rect:Z,Gq:i}};
v.axx=function(d,W,c){var y=W.m,B=W.i,r=2*Math.floor(y/3),x=2*Math.floor(B/3),Z=new a8(W.x,W.y,r,x),i=c&&c.length==r*x*4?c:v.R(r*x*4),k=new Uint32Array(d.buffer),H=new Uint32Array(i.buffer);
for(var V=0;V<x;V+=2)for(var g=0;g<r;g+=2){var N=V*r+g,C=(V*3>>>1)*y+(g*3>>>1),w=k[C],Y=k[C+1],U=k[C+2],e=k[C+y],O=k[C+1+y],l=k[C+2+y],I=k[C+y+y],s=k[C+1+y+y],z=k[C+2+y+y],R=(w>>>16&255)<<2,t=(w>>>8&255)<<2,a=(w&255)<<2,J=(Y>>>16&255)<<1,F=(Y>>>8&255)<<1,h=(Y&255)<<1,m=(U>>>16&255)<<2,D=(U>>>8&255)<<2,_=(U&255)<<2,n=(e>>>16&255)<<1,j=(e>>>8&255)<<1,T=(e&255)<<1,L=O>>>16&255,p=O>>>8&255,E=O&255,G=(l>>>16&255)<<1,A=(l>>>8&255)<<1,u=(l&255)<<1,q=(I>>>16&255)<<2,o=(I>>>8&255)<<2,M=(I&255)<<2,$=(s>>>16&255)<<1,Q=(s>>>8&255)<<1,kF=(s&255)<<1,P=(z>>>16&255)<<2,bM=(z>>>8&255)<<2,jW=(z&255)<<2,fX=0,bX=0,ao=0;
fX=~~(.5+(a+h+T+E)*(1/9));bX=~~(.5+(t+F+j+p)*(1/9));ao=~~(.5+(R+J+n+L)*(1/9));H[N]=255<<24|ao<<16|bX<<8|fX;
fX=~~(.5+(_+h+u+E)*(1/9));bX=~~(.5+(D+F+A+p)*(1/9));ao=~~(.5+(m+J+G+L)*(1/9));H[N+1]=255<<24|ao<<16|bX<<8|fX;
fX=~~(.5+(M+kF+T+E)*(1/9));bX=~~(.5+(o+Q+j+p)*(1/9));ao=~~(.5+(q+$+n+L)*(1/9));H[N+r]=255<<24|ao<<16|bX<<8|fX;
fX=~~(.5+(jW+kF+u+E)*(1/9));bX=~~(.5+(bM+Q+A+p)*(1/9));ao=~~(.5+(P+$+G+L)*(1/9));H[N+r+1]=255<<24|ao<<16|bX<<8|fX}return{rect:Z,Gq:i}};
v._Q=function(d){var W=255,c=d.length;c-=c&31;for(var S=3;S<c;S+=32)W=W&d[S]&d[S+4]&d[S+8]&d[S+12]&d[S+16]&d[S+20]&d[S+24]&d[S+28];
return W!=255};v.NB=function(d,W,c,y){var B=v.hG,r=v.a7E;if(!v._Q(d)){B=v.alZ;r=v.axx}var x={Gq:d,rect:W},Z=v.dT(c);
for(var S=0;S<Z.length;S++){if(Z[S]==2)x=B(x.Gq,x.rect,y);else x=r(x.Gq,x.rect,y)}return x};v.a2c=function(d,W,c,y){var B=v.YZ,r=v.aiF,x={Gq:d,rect:W},Z=v.dT(c);
for(var S=0;S<Z.length;S++){if(Z[S]==2)x=B(x.Gq,x.rect,y);else x=r(x.Gq,x.rect,y)}return x};v.dT=function(d){var W=[],c=d;
while(c<.499){W.push(2);c*=2}W.push(c<.5001?2:3);return W};v.YZ=function(d,W,c){var y=W.m,B=W.i,r=y>>1,x=B>>1,Z=new a8(W.x,W.y,r,x);
if(d==null)return{rect:Z};var i=c&&c.length>=r*x?c:v.R(r*x);for(var k=0;k<x;k++){var H=k*r;for(var V=0;
V<r;V++){var g=(k<<1)*y+(V<<1);i[H+V]=2+d[g]+d[g+1]+d[g+y]+d[g+y+1]>>>2}}return{rect:Z,Gq:i}};v.aiF=function(d,W,c){var y=W.m,B=W.i,r=2*Math.floor(y/3),x=2*Math.floor(B/3),Z=new a8(W.x,W.y,r,x);
if(d==null)return{rect:Z};var i=c&&c.length>=r*x?c:v.R(r*x);for(var k=0;k<x;k+=2)for(var H=0;H<r;H+=2){var V=k*r+H,g=(k*3>>>1)*y+(H*3>>>1),N=d[g]<<2,C=d[g+1]<<1,w=d[g+2]<<2,Y=d[g+y]<<1,U=d[g+1+y],e=d[g+2+y]<<1,O=d[g+y+y]<<2,l=d[g+1+y+y]<<1,I=d[g+2+y+y]<<2;
i[V]=~~(.5+(N+C+Y+U)*(1/9));i[V+1]=~~(.5+(w+C+e+U)*(1/9));i[V+r]=~~(.5+(O+l+Y+U)*(1/9));i[V+r+1]=~~(.5+(I+l+e+U)*(1/9))}return{rect:Z,Gq:i}};
v.akJ=function(d,W,c,y,B){var r=W.nK(y);if(B)r=r.nK(B);var x=Math.max(0,r.x-W.x),Z=Math.max(0,r.x-y.x),i=Math.max(0,r.y-W.y),k=Math.max(0,r.y-y.y),H=r.m,V=r.i;
for(var S=0;S<V;S++){var g=(i+S)*W.m+x,N=(k+S)*y.m+Z;for(var C=0;C<H;C++){c[N+C]=Math.max(c[N+C],d[g+C])}}};
v.ZW=function(d,W,c,y,B){var r=W.nK(y);if(B)r=r.nK(B);var x=Math.max(0,r.x-W.x),Z=Math.max(0,r.x-y.x),i=Math.max(0,r.y-W.y),k=Math.max(0,r.y-y.y),H=r.m,V=r.i;
for(var S=0;S<V;S++){var g=(i+S)*W.m+x,N=(k+S)*y.m+Z;c.set(new Uint8Array(d.buffer,g,H),N)}};v.av8=function(d,W,c,y){if(W.zI(y)){v.nP(d,c,3);
return}var B=W.nK(y),r=Math.max(0,B.x-W.x),x=Math.max(0,B.x-y.x),Z=Math.max(0,B.y-W.y),i=Math.max(0,B.y-y.y),k=B.m,H=B.i;
for(var S=0;S<H;S++){var V=(Z+S)*W.m+r,g=(i+S)*y.m+x;for(var N=0;N<k;N++)c[(g+N<<2)+3]=d[V+N]}};v.mE=function(d,W,c,y){var B=W.nK(y),r=Math.max(0,B.x-W.x),x=Math.max(0,B.x-y.x),Z=Math.max(0,B.y-W.y),i=Math.max(0,B.y-y.y),k=B.m,H=B.i;
for(var S=0;S<H;S++){var V=(Z+S)*W.m+r,g=(i+S)*y.m+x;for(var N=0;N<k;N++)c[g+N]=d[(V+N<<2)+3]}};v.qR=function(d,W,c,y,B){if(W.zI(y)&&(B==null||B.zI(y))){v.PY(d,c);
return}d=new Uint32Array(d.buffer),c=new Uint32Array(c.buffer);var r=W.nK(y);if(B)r=r.nK(B);var x=Math.max(0,r.x-W.x),Z=Math.max(0,r.x-y.x),i=Math.max(0,r.y-W.y),k=Math.max(0,r.y-y.y),H=r.m,V=r.i,g=H&3,N=g==0?H:H-g;
for(var S=0;S<V;S++){var C=(i+S)*W.m+x,w=(k+S)*y.m+Z;c.set(new Uint32Array(d.buffer,C*4,H),w)}};v.w3=function(d,W,c,y){var B=W.nK(y),r=Math.max(0,B.x-W.x),x=Math.max(0,B.x-y.x),Z=Math.max(0,B.y-W.y),i=Math.max(0,B.y-y.y),k=B.m,H=B.i,V=d.U,g=d.Z,N=d.G,C=d.J,w=c.U,Y=c.Z,U=c.G,e=c.J;
for(var S=0;S<H;S++){var O=(Z+S)*W.m+r,l=(i+S)*y.m+x;for(var I=0;I<k;I++){w[l+I]=V[O+I];Y[l+I]=g[O+I];
U[l+I]=N[O+I];e[l+I]=C[O+I]}}};v.Ew=function(d){var W=d.length;for(var S=0;S<W;S+=4){var c=d[S+3];if(c==255)continue;
d[S]=~~(d[S]*c*(1/255)+.5);d[S+1]=~~(d[S+1]*c*(1/255)+.5);d[S+2]=~~(d[S+2]*c*(1/255)+.5)}};v.nF=function(d){var W=d.length;
for(var S=0;S<W;S+=4){var c=d[S+3];if(c==0||c==255)continue;var y=255/c;d[S]=~~(d[S]*y+.5);d[S+1]=~~(d[S+1]*y+.5);
d[S+2]=~~(d[S+2]*y+.5)}};v.uy=function(d,W){for(var S=0;S<d.length;S++)if(d[S]!=W)return!1;return!0};
v.iO=function(d){return d+1+(d>>>8)>>>8};v.round=function(d,W){if(W==null)W=128;var c=d.length;for(var S=0;
S<c;S++)d[S]=d[S]<W?0:255};v.bB=function(d,W){var c=d.length;for(var S=0;S<c;S++)d[S]=Math.round(d[S]*W)};
v.iY=function(d,W){var c=new Uint32Array(d.buffer),y=new Uint32Array(W.buffer),B=c.length;for(var S=0;
S<B;S++){var r=c[S],x=y[S];y[S]=v.iO((r>>>24)*(x>>>24))<<24|v.iO((r>>>16&255)*(x>>>16&255))<<16|v.iO((r>>>8&255)*(x>>>8&255))<<8|v.iO((r&255)*(x&255))}};
v.sl=function(d,W){var c=d.length;for(var S=0;S<c;S++)W[(S<<2)+3]=v.iO(W[(S<<2)+3]*d[S])};v.anj=function(d,W,c,y){var B=Math.max(0,y.x-W.x),r=Math.max(0,W.x-y.x),x=Math.max(0,y.y-W.y),Z=Math.max(0,W.y-y.y),i=Math.min(W.x+W.m,y.x+y.m)-Math.max(W.x,y.x),k=Math.min(W.y+W.i,y.y+y.i)-Math.max(W.y,y.y);
for(var S=0;S<k;S++){var H=(x+S)*W.m+B,V=(Z+S)*y.m+r;for(var g=0;g<i;g++){c[V]=v.iO(c[V]*d[H]);H++;V++}}};
v.WW=function(d,W,c,y){var B=Math.max(0,y.x-W.x),r=Math.max(0,W.x-y.x),x=Math.max(0,y.y-W.y),Z=Math.max(0,W.y-y.y),i=Math.min(W.x+W.m,y.x+y.m)-Math.max(W.x,y.x),k=Math.min(W.y+W.i,y.y+y.i)-Math.max(W.y,y.y);
for(var S=0;S<k;S++){var H=(x+S)*W.m+B,V=((Z+S)*y.m+r<<2)+3;for(var g=0;g<i;g++){c[V]=v.iO(c[V]*d[H]);
H++;V+=4}}};v.KZ=function(d,W,c,y){var B=Math.max(0,y.x-W.x),r=Math.max(0,W.x-y.x),x=Math.max(0,y.y-W.y),Z=Math.max(0,W.y-y.y),i=Math.min(W.x+W.m,y.x+y.m)-Math.max(W.x,y.x),k=Math.min(W.y+W.i,y.y+y.i)-Math.max(W.y,y.y);
for(var S=0;S<k;S++){var H=((x+S)*W.m+B<<2)+3,V=((Z+S)*y.m+r<<2)+3;for(var g=0;g<i;g++){c[V]=v.iO(c[V]*d[H]);
H+=4;V+=4}}};v.kb=function(d,W){if(W==null)W=1;var c=4*W,y=d.length>>>2,B=new Float64Array(256),r=new Float64Array(256),x=new Float64Array(256),Z=new Float64Array(256),i=4*Math.floor(y/W)*W,k=0;
for(var S=0;S<i;S+=c){var H=d[S+0],V=d[S+1],g=d[S+2],N=d[S+3]*W,C=N*(1/255);r[H]+=C;x[V]+=C;Z[g]+=C;
k+=N}for(var S=0;S<256;S++)B[S]=r[S]+x[S]+Z[S];return[B,r,x,Z,y,k/255]};v.aA8=function(d,W){function c(s,z){var R=-1,t=0;
while(t<=z){R++;t+=s[R]}return R}function y(s,z){var R=256,t=0;while(t<=z){R--;t+=s[R]}return R}function B(s){var z=0,R=0;
for(var S=0;S<256;S++){R+=s[S];z+=s[S]*S*(1/255)}return z/R}var r=d[0],x=d[1]/100,Z=d[2]/100,i=[],k=[];
for(var S=0;S<4;S++){var H=S==0?3:1;i[S]=c(W[S],H*x*W[5]);k[S]=y(W[S],H*Z*W[5])}var V=[B(W[1]),B(W[2]),B(W[3])],g=V.slice(0);
g.sort(function(s,z){return s-z});var N=V.indexOf(g[1]),C=(V[0]+V[1]+V[2])/3,w=[];for(var S=0;S<4;S++){var Y=0,U=255,e=i[S],O=k[S];
if(r==0&&S==0){Y=e;U=O}if(r==1&&S!=0){Y=e;U=O}if(r==2&&S!=0){var H=V[S-1]/C;U=Math.max(0,Math.min(255,k[N]*H))}var l=[Y,U];
w.push(l);if(r==3&&S==0){var I=255*(1-C);l.push(I)}}return w};v.aAj=function(d,W){var c=new Uint32Array(d.buffer),y=c.length;
for(var S=0;S<y;S++){var B=c[S],r=B&255,x=B>>8&255,Z=B>>16&255,i=B>>24&255;c[S]=W[r]|W[x]<<8|W[Z]<<16|W[i]<<24}};
v.a2S=function(d,W,c,y,B,r,x){var Z=new Uint32Array(d.buffer),i=new Uint32Array(W.buffer),k=Z.length,H=0;
while(256<<H<c.length)H++;if(!x&&!r){for(var S=0;S!=k;S++){var V=Z[S],g=(V&255)<<H,N=(V>>>8&255)<<H,C=(V>>>16&255)<<H,w=c[g],Y=y[N],U=B[C];
i[S]=w|Y<<8|U<<16|V&4278190080}return}for(var S=0;S<k;S++){var V=Z[S],g=(V&255)<<H,N=(V>>>8&255)<<H,C=(V>>>16&255)<<H;
if(r)g=N=C=Math.round(g*.3+N*.59+C*.11);var w=c[g],Y=y[N],U=B[C];if(x){var e=v.DB(g,N,C),O=v.DB(w,Y,U);
if(e>O){var l=(e-O)/(255-O);w+=l*(255-w);Y+=l*(255-Y);U+=l*(255-U)}else if(O==0)w=Y=U=0;else{var l=e/O;
w=l*w;Y=l*Y;U=l*U}}i[S]=w|Y<<8|U<<16|V&4278190080}};v.wf=function(d,W){var c=W.m,y=W.i,top=0,B=0,r=0,x=0,Z=0;
Z=0;for(var i=0;i<y;i++){var k=i*c;for(var S=0;S<c;S++)Z|=d[k+S];if(Z!=0)break;top++}if(top==y)return new a8(0,0,0,0);
Z=0;for(var i=y-1;i>=0;i--){var k=i*c;for(var S=0;S<c;S++)Z|=d[k+S];if(Z!=0)break;r++}var H=y-r;Z=0;
for(var S=0;S<c;S++){for(var i=top;i<H;i++)Z|=d[i*c+S];if(Z!=0)break;B++}Z=0;for(var S=c-1;S>=0;S--){for(var i=top;
i<H;i++)Z|=d[i*c+S];if(Z!=0)break;x++}var V=new a8(W.x+B,W.y+top,c-B-x,y-top-r);return V};v.Cl=function(d,W,c,y,B){if(y==null)y=[!0,!0,!0,!0];
if(c==null)c=0;if(B==null)B=4294967295;var r=new Uint32Array(d.buffer),x=W.m,Z=W.i,top=0,i=0,k=0,H=0,V=!1,g=[r[0],r[r.length-1],0][c];
V=!1;if(y[0])for(var N=0;N<Z;N++){var C=N*x;for(var S=0;S<x;S++)if(r[C+S]&B^g)V=!0;if(V)break;top++}V=!1;
if(y[2])for(var N=Z-1;N>=0;N--){var C=N*x;for(var S=0;S<x;S++)if(r[C+S]&B^g)V=!0;if(V)break;k++}V=!1;
if(y[1])for(var S=0;S<x;S++){for(var N=0;N<Z;N++)if(r[N*x+S]&B^g)V=!0;if(V)break;i++}V=!1;if(y[3])for(var S=x-1;
S>=0;S--){for(var N=0;N<Z;N++)if(r[N*x+S]&B^g)V=!0;if(V)break;H++}var w=new a8(W.x+i,W.y+top,x-i-H,Z-top-k);
return w.Bb()?new a8(0,0,0,0):w};v.oj=function(d){var W=v.wf(d.channel,d.rect);if(W.zI(d.rect))return;
var c=v.R(W.P());v.ZW(d.channel,d.rect,c,W);d.channel=c;d.rect=W};v.eW=function(d){var W=v.Cl(d.buffer,d.rect,2,null,4278190080);
if(W.zI(d.rect))return;var c=new v.R(W.P()*4);v.qR(d.buffer,d.rect,c,W);d.buffer=c;d.rect=W};v.extend=function(d,W,c){if(d.rect.M_(W))return;
var y=d.rect.hB(W),B=v.R(y.P());if(c!=null)B.fill(c);v.ZW(d.channel,d.rect,B,y);d.rect=y;d.channel=B};
v.axv=function(d,W){if(W.Bb()||d.rect.M_(W))return;var c=d.rect.hB(W),y=v.R(c.P()*4);v.qR(d.buffer,d.rect,y,c);
d.rect=c;d.buffer=y};v.cf=function(d,W,c){if(!c.Ce(d))return!1;var y=Math.floor(d.x)-c.x,B=Math.floor(d.y)-c.y,S=B*c.m+y;
return W[S]>128};v.agC=function(d,W,c){if(!c.Ce(d))return!1;var y=Math.floor(d.x)-c.x,B=Math.floor(d.y)-c.y,S=B*c.m+y;
return W[4*S+3]>128};v.fJ=function(d){if(v.sQ.length<d){v.sQ=v.R(d);v.sQ.fill(255)}return v.sQ};v.sQ=v.R(0);
v.bL=function(d){if(v.du.length<d)v.du=v.R(d);return v.du};v.du=v.R(0);v.ii=function(d){this.U=v.R(d);
this.Z=v.R(d);this.G=v.R(d);this.J=v.R(d)};v.ii.prototype.clone=function(){var d=this.U.length,W=new v.ii(1);
W.U=this.U.slice(0);W.Z=this.Z.slice(0);W.G=this.G.slice(0);W.J=this.J.slice(0);return W};v.$.awA=function(d,W,c,y,B){var r=B[0]+1,x=B[1],Z=Math.abs(x-25)/4,i=B[2],k=i%2+i*i>>1,H=v.$.s;
H.wa(W,c);var V=H.gY(1),g=H.gY(1),N=H.gY(1);H.Tb(d,y,i,i,k);H.qN(y);H.Un(y,V);H.zX(V,g,r,r,1);H.zX(V,N,r,r,r*r);
H.sub(N,g);H.iY(g,Z);(x<25?H.sub:H.add)(V,g);H.eo(g,y);H.kJ(y)};v.$.apA=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);var x=B[0]*2.55,Z=B[1],i=Z>>1,k=B[2]*.25,H=r.gY(4),V=r.gY(1),g=r.gY(1);r.n0(d,H,Z,1,!0,i);
r.n0(d,y,Z,1,!1,i);r.Au(d,V);r.Vv(V,x);r.O1(V,g,3);r.g3(y,g,H);r.WS(H,y,k)};v.$.ait=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);r.yC(B[3]);var x=B[0]*-3+80,Z=B[1]*-3+80,i=B[2]/2+.5,k=B[4],H=B[5],V=r.gY(1),g=r.gY(1),N=r.gY(1),C=r.gY(1),w=r.gY(4),Y=r.gY(4);
r.Au(d,V);r.PY(V,g);r.YY(V,Z,5);r.apv(V,.4,0);r.O1(V,N,3);r.Gb(N,V,9,3,!0,27);r.PY(g,N);r.QE(N);var U=r.yu(x,5,N);
for(var S=0;S<r.Ef;S++){g[S]=U[255-g[S]]}r.apv(g,.4,0);r.PY(g,N);r.O1(N,C,2);r.Gb(C,N,5,3,!1,15);r.iY(V,i);
r.iY(N,i);r.aF(y,2155905279);r.aF(Y,k);r.aF(w,H);r.g3(Y,V,y);r.g3(w,N,y)};v.$.ave=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);var x=new Uint8Array(256),Z=5+10*B[1];Z+=B[1]>3?(B[1]-3)*10:0;var i=~~(B[2]*.73)+50,k=Math.min(i+Z,128),H=k-i,V=-255*i;
for(var S=0;S<256;S++){var g=S*65;x[S]=r.iz(V/H);V+=255}var N=r.gY(1),C=r.gY(1),w=r.gY(1);r.Au(d,N);
r.PY(N,w);r.O1(N,C,2*B[0]+1);r.sub(C,N);r.iY(N,65);r.Gb(N,C,9,3,!0,20);for(var S=0;S<r.Ef;S++){var Y=w[S],U=C[S];
N[S]=U>0?~~((U*Y+(255-U)*128)/255):128}r.O1(N,C,3);r.Gb(C,N,15,2,!0,16);r.Gb(C,w,15,2,!1,15);r.m0(N,w);
r.k2(w,C,2);r.N8(C,x);r.O1(C,N,2);r.UW(N,y)};v.$.ate=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);var x=2*B[0]+1,Z=r.agc[B[1]],i=B[2]*5.1,k=B[3],H=r.gY(1),V=r.gY(1),g=r.gY(4),N=r.gY(4);
r.aF(g,k);r.qN(g,y);r.a68(H,i);r.eo(H,y);r.kJ(y,g);r.Au(d,V);r.O1(V,H,x);r.sub(H,V);r.iY(V,Z);r.Gb(V,H,9,3,!0,20);
r.g3(d,H,g);r.sH(g,y,3);r.n0(y,g,15,2,!0,16);r.n0(y,N,15,2,!1,16);r.m0(g,N);r.WS(N,y,2)};v.$.att=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);var x=(15-B[0])/4+1,Z=(15-B[1])/4+1,i=B[2],k=B[3],H=r.v3(B[4]),V=B[5]+1,g=B[6],N=B[7],C=B[8],w=r.gY(1),Y=r.gY(1),U=r.gY(1),e=r.gY(1),O=r.gY(4),l=r.gY(4);
r.m4(U,i,k,g);r.Au(d,Y);r.O1(Y,w,5);r.v8(U,w,e,V,H);r.iY(e,x);r.Zk(e,2);r.QE(w);r.v8(U,w,Y,V,H);r.iY(Y,Z);
r.Zk(Y,2);r.aF(O,2155905279);r.aF(l,N);r.aF(y,C);r.g3(O,Y,l);r.g3(l,e,y)};v.$.aD4=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);r.yC(B[3]);var x=B[0],Z=B[1]/10,i=B[2]/10,k=r.gY(1),H=r.gY(1),V=r.gY(1),g=r.Wm(),N=r.Wm(),C=r.Wm();
r.ax(k);r.O1(k,H,11);r.O1(H,k,11);r.zJ(k,g);r.HY(d,k);r.PY(k,V);r.O1(k,H,9);r.O1(H,k,9);r.zJ(k,N);r.Vg(N,C,5);
r.Vg(C,N,5);r.aay(g,.8);r.a0M(g,N,.8,.9);r.ajR(N,k,x);r.zX(k,H,2,2,1);r.zX(H,k,2,2,3);r.zX(k,H,2,2,3);
r.zX(V,k,5,5,13);r.b0(H,k,H,Z);r.yq(k,H,H,i);r.v8(H,H,k,5,1);r.qN(d,y);r.eo(k,y);r.kJ(y)};v.$.aC2=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);var x=B[0],Z=B[1]/2,i=B[2],k=x/2,H=r.gY(4),V=r.gY(4);r.PY(d,y);for(var g=0;g<i;g++){r.n0(y,H,x,1,!0,k);
r.n0(y,V,x,1,!1,k);r.m0(V,H);r.sH(H,V,2);r.WS(V,y,Z)}};v.$.axL=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);
var x=B[0]*10,Z=B[1]*4.9,i=B[2]*4.9,k=r.gY(1),H=r.gY(1),V=r.gY(4),g=r.gY(4);r.Au(d,k);r.Vv(k,r.a7B(k,x));
r.O1(k,H,3);r.n0(d,V,5,1,!1,1);r.n0(d,y,15,2,!0,16);r.g3(y,H,V);r.qN(V,y);r.Un(y,k);r.YY(k,Z,i);r.eo(k,y);
r.kJ(y)};v.$.asY=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);r.yC(B[4]);var x=B[0]/20,Z=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][B[1]],i=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][B[2]],k=B[3],H=new Int16Array(256);
for(var S=0;S<256;S++){H[S]=~~((S-128)*x)}var V=r.gY(1),g=r.gY(1),N=r.gY(4);r.Au(d,V);r.O1(V,g,25);r.iY(g,Z);
r.Zk(g,i);r.O1(g,V,25);r.ax(g);r.ae0(V,g,H);r.PY(d,y);r.aF(N,k);r.g3(N,V,y)};v.$.agT=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);var x=B[0]+5,Z=15-B[1],i=x*x/2,k=1-(3-B[2])/10,H=~~(Z*Z*k-1),V=~~(Z*Z*(1-k));if(V==0)V=1;var g=r.gY(1),N=r.gY(1),C=r.gY(1),w=r.gY(4);
r.Au(d,C);r.zX(C,g,x,x,i);r.O1(C,N,x);r.sub(g,N);r.Vv(N,1);r.Tb(d,w,Z,Z,H);r.Tb(d,y,Z,Z,V);r.g3(w,N,y)};
v.$.azg=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);r.yC(B[3]);var x=(20-B[0])*.05,Z=B[1]*-2.75+60,i=65-Z,k=B[2]/10,H=r.gY(1),V=r.gY(1);
r.HY(d,V);var g=r.yu(Z,i,V);r.qN(d,y);r.Un(y,V);r.ax(H);r.vo(V,H,x);r.N8(V,g);r.iY(V,B[2]/10);r.add(H,V);
r.eo(V,y);r.kJ(y)};v.$.aAN=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);var x=5+B[0],Z=15-B[1],i=B[2],k=x*x/2+x*x%2*1,H=1-(3-B[2])/10,V=~~(Z*Z*H-1),g=~~(Z*Z*(1-H));
if(g==0)g=1;var N=r.gY(1),C=r.gY(1),w=r.gY(1),Y=r.gY(1),U=r.gY(1);r.HY(d,C);r.k2(C,N,3);r.zX(N,C,2,2,1);
var e=r.yu(20,20,C);r.N8(C,e);r.O1(C,U,5);r.zX(U,N,x,x,k);r.zX(U,C,Z,Z,V);r.zX(U,w,Z,Z,g);r.O1(U,Y,x);
r.sub(N,Y);r.Vv(Y,1);r.asR(C,Y,w);r.qN(d,y);r.eo(w,y);r.kJ(y)};v.$.aqP=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);r.yC(B[5]);var x=r.Ef,Z=r.AM,i=B[0],k=B[1],H=B[2],V=B[3],g=B[4],N=.05*i+1,C=i/100,w=i>>1,Y=2*i-100,U=+(k==9),e=+(k==7),O=[4,1][U],l=[3,2][U],I=[1,2][e],s=[2,1][e],z=[50,75][U],R=k<4?H:(H>>1)+50,t=r.azw(z,R),a=r.hX(V),J=r.hX(g),F=r.gY(4),h=r.gY(4),m=r.gY(1),D=r.gY(1);
function _(y,t){if(R!=50){r.at$(y,t)}}function n(d,$){for(var S=0;S<x;S++){d[S]=r.iz(d[S]+($[S]-128)*C)}}function j(d,$){for(var S=0,Q=0;
S<x;S++){d[Q]=r.iz(d[Q]+($[Q]-128)*C);d[Q+1]=r.iz(d[Q+1]+($[Q+1]-128)*C);d[Q+2]=r.iz(d[Q+2]+($[Q+2]-128)*C);
Q+=4}}function T(d,y){r.ax(h);r.PY(d,y);j(y,h);_(y,t)}function L($){var Q=0;for(var kF=0;kF<12;kF++)Q+=r.random();
return r.iz(w*(Q-6)+$)}function p(d,y){r.PY(d,y);for(var S=0;S<Z;S+=4){y[S]=L(y[S]);y[S+1]=L(y[S+1]);
y[S+2]=L(y[S+2])}_(y,t)}function E(d,y){r.PY(d,y);for(var S=0;S<Z;S+=4){if(r.random()<C){y[S]=a[0];y[S+1]=a[1];
y[S+2]=a[2]}}_(y,t)}function G(d,y){r.ax(F);r.Tb(F,h,l,l,O);r.PY(d,F);j(F,h);r.Tb(F,y,5,5,13);_(y,t)}function A(d,y){r.ax(h);
r.PY(d,F);j(F,h);_(y,t);r.Tb(F,y,l,l,O)}function u(d,y){r.PY(d,F);_(y,t);r.Au(F,m);for(var S=0,$=0;S<x;
S++){var Q=((Y-m[S]+255)*128.5+.5)/32767;if(r.random()<=Q){y[$++]=J[0];y[$++]=J[1];y[$++]=J[2]}else{y[$++]=a[0];
y[$++]=a[1];y[$++]=a[2]}y[$]=d[$];$++}}function q(d,y){r.qN(d,y);r.Un(y,m);r.k2(m,D,N);r.zX(D,m,l,l,O);
r.N8(m,t);r.eo(m,y);r.kJ(y)}function o(d){var $=0;if(k==8){for(var Q=0;Q<W;Q++){d[$++]=~~(r.random()*255)}for(var S=1;
S<c;S++){for(var Q=0;Q<W;Q++){d[$++]=d[Q]}}}else{for(var S=0;S<c;S++){var kF=~~(r.random()*255);for(var Q=0;
Q<W;Q++){d[$++]=kF}}}}function M(d,y){r.Au(d,m);r.ax(D);n(m,D);o(D);n(m,D);r.sH(d,F,9);r.sH(F,h,9);r.O1(m,D,2);
r.N8(D,t);r.O1(D,m,2);r.qN(h,y);r.eo(m,y);r.kJ(y)}[T,p,E,G,G,A,u,M,M,q][k](d,y)};v.$.anc=function(d,W,c,y,B){var r=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],x=v.$.s,w=0,Y,S,I,s,z,R=0,t=1,a=255;
x.wa(W,c);x.yC(B[3]);var Z=x.gY(1),i=x.gY(1);x.Au(d,Z);var k=B[0],H=B[1],V=H<=50?r[H]/255:1+(255-r[101-H])/255,g=B[2],N=Z.length,C=new Float32Array(N),U=1+1/10*k,e=(1-1/U)/2,O=16/256,l=W-1;
for(S=0;S<x.Ef;S++){C[S]=Z[S]/255;i[S]=k==1?x.random()<1/255?a:t:t}function J(F,h){var m=F*W+h;if(i[m]!=t||F>=c||h>=W){return}var s=C[m],D=V-s,_=x.random(),n=_/U+e;
if(w==0||Math.abs(z-s)>O){Y=n<=D?R:a;w=~~(x.random()*k)}else if(.1<_){w--}else{w=0}i[m]=Y;z=s}if(g==0){for(S=0;
S<W;S++){for(I=0;I<W;I++){s=S+I;if(s>=W)break;J(I,l-s)}w=0}for(S=1;S<c;S++){for(I=0;I<c;I++){s=S+I;if(s>=c||I>=W)break;
J(s,l-I)}w=0}}else if(g==1){for(S=0;S<c;S++){for(I=0;I<W;I++){J(S,I)}w=0}}else if(g==2){for(S=0;S<W;
S++){for(I=0;I<W;I++){s=S+I;if(s>=W)break;J(I,s)}w=0}for(S=1;S<c;S++){for(I=0;I<c;I++){s=S+I;if(s>=c||I>=W)break;
J(s,I)}w=0}}else{for(S=0;S<W;S++){for(I=0;I<c;I++){J(I,S)}w=0}}x.UW(i,y)};v.$.aBO=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);var x=B[0],Z=B[1],i=B[2],k=r.gY(1),H=r.gY(1),V=r.gY(1),g=r.gY(1),N=r.gY(4),C=r.gY(4);r.Un(d,g,3,4);
r.Au(d,k);r.zX(k,H,3,3,1);r.zX(k,V,3,3,9);r.sub(V,H);r.O1(H,k,3);r.YY(k,40,10,g);r.n0(d,y,x,2,!1,x);
r.n0(d,N,x,2,!0,x);r.aF(C,255);r.g3(y,k,C);r.g3(C,k,N);r.WS(N,y,1);r.qN(y);r.Un(y,k);r.YY(k,Z,i,g);r.eo(k,y);
r.kJ(y)};v.$.ad$=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);r.yC(B[3]);var x=B[0],Z=B[1],i=B[2]/10;x=x+Z;
var k=r.gY(1),H=r.gY(1),V=r.Wm(),g=r.Wm();r.ax(k);r.O1(k,H,11);r.O1(H,k,11);r.zJ(k,V);r.Vg(V,g,5);r.Vg(g,V,5);
r.aay(g,.97);r.ajR(g,k,x);r.zX(k,H,Z,Z,1);r.HY(d,k);r.b0(H,k,H,.6);r.yq(k,H,H,i);r.v8(H,H,k,5,1);r.qN(d,y);
r.eo(k,y);r.kJ(y)};v.$.a4Y=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);var x=Math.abs(B[0]),Z=x+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][x],i=2*x+1,k=B[1]/10,H=k*13/15,V=r.gY(1),g=r.gY(1),N=r.gY(1),C=r.gY(1),w=r.gY(4),Y=r.gY(4),U=r.gY(4),e=r.gY(4),O=r.gY(4);
r.Au(d,V);if(B[0]>=0){r.QE(V)}r.PY(V,N);r.O1(V,C,Z);r.O1(C,V,Z);r.iY(V,k);r.PY(V,g);r.O1(V,C,i);r.O1(C,V,i);
r.iY(V,H);r.aF(U,B[2]);r.aF(e,B[3]);r.aF(O,B[4]);r.g3(U,V,e,w);r.g3(O,g,w,Y);r.g3(e,N,Y,y);r.Un(d,N,3);
r.eo(N,y,3)};v.$.aiB=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);r.yC(B[5]);var x=B[0]*5.1,Z=B[1]/100,i=r.aCG[B[2]],k=r.gY(1),H=r.gY(1),V=r.gY(1);
r.Au(d,k);r.a68(H,255);r.ax(V);r.Vv(k,x);r.vo(H,k,.7);r.vo(V,k,Z);r.v8(k,k,H,5,i);r.PY(d,y);r.aBd(y,x,B[4],B[3]);
r.qN(y);r.eo(H,y);r.kJ(y)};v.$.a2n=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);var x=B[0],Z=4-B[1],i=11-B[2],k=r.gY(1),H=r.gY(1),V=r.gY(4);
r.HY(d,H);for(var S=0;S<Z;S++){r.PY(H,k);r.akn(k,H,x,x)}r.sH(d,V,x);r.qN(V,V);r.eo(H,V);r.kJ(V,V);(i<11?r.awy:r.PY)(V,y,i)};
v.$.aAe=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);r.yC(B[2]);var x=B[0]+5,Z=~~(x/5+1),i=~~(x/2)+1,k=i*i,H=~~(x/3),V=r.aCG[B[1]],g=new Array(256);
for(var S=0;S<256;S++){g[S]=~~(.2*(S-128))}var N=r.gY(1),C=r.gY(1);r.abj(d,y,x);r.qN(y);r.Un(y,N);r.ax(C);
r.ae0(N,C,g);r.as_(C,x,x,Z,Z);r.b0(N,C,N,1);r.O1(N,C,H);r.O1(C,N,H);r.zX(N,C,i,i,k);r.v8(C,C,N,5,V);
r.eo(N,y);r.kJ(y)};v.$.a6o=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);var x=r.gY(1),Z=r.gY(1),i=r.gY(1),k=r.Wm(),H=r.Wm();
r.Au(d,x);r.O1(x,Z,B[2]);r.Vv(Z,B[0]*5.1);r.zX(Z,x,2,2,4);r.O1(x,Z,3);r.O1(Z,x,3);r.PY(x,i);r.O1(x,Z,5);
r.O1(Z,x,5);r.zJ(x,k);r.Vg(k,H,5);r.Vg(H,k,5);r.a2W(k,Z,B[1]);r.QE(Z);r.b0(i,Z,i,1);r.UW(i,y)};v.$.a5W=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);var x=1<<7-B[2],Z=r.gY(1),i=r.gY(1),k=r.gY(1);r.HY(d,i);r.O1(i,Z,3);r.PY(Z,i);r.O1(Z,k,B[0]+5);
r.sub(k,i);r.YY(i,1,B[1]);r.iY(Z,1/x);r.iY(Z,x);r.sub(Z,i);r.qN(d,y);r.eo(i,y);r.kJ(y)};v.$.a8A=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);r.yC(B[3]);var x=r.gY(1),Z=r.gY(1),i=r.gY(1);r.Au(d,x);r.ak8(Z,B[0]/50);r.O1(Z,i,3);r.zX(x,Z,9,9,41);
r.YY(Z,B[1],B[2]);r.b0(Z,i,i,.75);r.yq(Z,i,Z,.5);r.PY(Z,x);r.zX(x,i,3,3,8);r.b0(i,Z,i,.75);r.iY(i,1.2);
r.k2(i,x,1);r.O1(x,i,2);r.k2(i,x,2);r.iY(x,1.2);r.O1(x,i,2);r.UW(i,y)};v.$.aDf=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);var x=B[0]+9,Z=B[1]/2,i=B[2],k=B[3],H=r.v3(B[4]),V=B[5]+1,g=B[6],N=r.gY(1),C=r.gY(1),w=r.gY(4),Y=r.gY(4);
r.m4(C,i,k,g);r.ahU(d,y,x,1,1);r.ahU(y,w,x,1,1);r.asv(w,w,Y,7,Z);r.iY(Y,1.2);r.Zk(Y,1.2);r.v8(C,N,N,V,H);
r.iY(N,3);r.PY(d,y);r.g3(Y,N,y)};v.$.acb=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);r.yC(B[3]);var x=B[0]+4,Z=x*2/5+(x%5|0);
x--;var i=B[1]*-2.75+60,k=65-i,H=B[2]/10,V=r.gY(1),g=r.gY(1);r.ax(V);r.HY(d,g);var N=r.yu(i,k,g);r.qN(d,y);
r.Un(y,g);r.vo(g,V,.8);r.N8(g,N);r.iY(g,H);r.add(V,g);r.Gb(g,V,x,3,!1,Z);r.eo(V,y);r.kJ(y)};v.$.aqS=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);r.yC(B[3]);var x=B[0]+5,Z=(x*x>>1)+x%2,i=B[1]/10,k=B[2],H=(k*k>>1)+k%2,V=r.gY(1),g=r.gY(1),N=r.gY(1),C=r.gY(4),w=r.gY(4),Y=r.gY(4);
r.ax(N);r.qN(d,Y);r.Un(Y,V);r.vo(V,N,.8);r.O1(N,V,3);r.k2(V,N,i);r.eo(N,Y);r.kJ(Y,Y);r.Au(Y,N);r.zX(N,V,x,x,Z);
r.O1(N,g,x);r.sub(V,g);r.Vv(g,1);r.Tb(Y,C,7,7,40);r.Tb(Y,w,7,7,10);r.g3(C,g,w);r.Tb(w,y,k,k,H)};v.$.aaP=function(d,W,c,y,B){var r=v.$.s,Z=255,S,k;
r.wa(W,c);var x=B[0];if(x<2)Z=x;else if(x<12)Z=5*x-5;else if(x<47)Z=2*x+28;else if(x<50){S=x-47;Z=125+12.5*S+12.5*S*S}var i=new Uint8Array(256);
for(S=75,k=15;S<256;S++,k+=24)i[S]=Math.min(255,k);var H=r.gY(1),V=r.gY(1),g=r.gY(1);r.Au(d,H);r.O1(H,V,11);
r.O1(V,g,11);r.sub(g,H);r.iY(H,8);r.sub(g,H);r.Vv(H,Z);r.QE(H);r.O1(H,V,5);r.Vv(V,51);r.O1(V,H,B[1]);
r.O1(H,V,B[1]);r.QE(V);r.N8(V,i);r.UW(V,y)};v.$.amA=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);var x=r.agc[B[1]],Z=B[2],i=Z*1.5,k=r.gY(1),H=r.gY(1),V=r.gY(1);
r.HY(d,k);r.Gb(k,H,15,2,!0,15);r.PY(H,V);r.YY(V,Z,i);r.O1(V,k,3);r.O1(H,V,B[0]);r.sub(V,H);r.iY(H,x);
r.sub(k,H);r.O1(H,k,3);r.Gb(k,H,3,1,!1,1);r.sH(d,y,15);r.qN(y);r.eo(H,y);r.kJ(y)};v.$.a7h=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);r.yC(B[3]);var x=B[0]*5.1,Z=16-B[1],i=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][B[2]],k=r.gY(1),H=r.gY(1),V=r.gY(1);
r.Au(d,k);r.Vv(k,x);r.O1(k,H,Z);r.O1(H,k,Z);r.ax(V);r.yq(k,V,V,1);r.b0(k,V,k,.75);r.iY(k,i);r.Zk(k,i);
r.zX(k,H,2,2,2);r.UW(H,y)};v.$.aD$=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);var x=B[0]+9,Z=B[1]+9,i=B[2],k=B[3],H=r.v3(B[4]),V=B[5]+1,g=B[6],N=r.gY(1),C=r.gY(1),w=r.gY(1),Y=r.gY(1),U=r.gY(1),e=r.gY(4);
r.HY(d,N);r.akn(N,w,x,x);r.O1(w,N,Z);r.PY(w,U);r.PY(N,Y);r.sub(U,Y);r.sub(N,U);r.add(U,Y);r.iY(Y,10);
r.m4(C,i,k,g);r.v8(C,N,U,V,H);r.asR(U,Y,w,.8);r.sH(d,e,9);r.sH(e,y,9);r.qN(y);r.eo(w,y);r.kJ(y)};v.$.aBv=function(d,W,c,y,B){var r=v.$.s;
r.wa(W,c);var x=16-B[0],Z=B[1]*8,i=1-(3-B[2])/10,k=~~(x*x*i-1),H=~~(x*x*(1-i));if(H==0)H=1;var V=r.gY(1),g=r.gY(1),N=r.gY(1),C=r.gY(4);
r.Au(d,N);r.zX(N,V,7,7,25);r.O1(N,g,7);r.sub(V,g);r.Vv(g,1);r.Tb(d,C,x,x,k);r.Tb(d,y,x,x,H);r.g3(C,g,y);
r.qN(y);r.Un(y,V);r.zX(V,N,3,3,1);r.zX(V,g,3,3,9);r.sub(g,N);r.PY(N,g);r.sub(V,N);r.sub(N,g);r.zX(g,V,3,3,8);
r.YY(V,Z,1);r.eo(V,y);r.kJ(y)};v.$.ayL=function(d,W,c,y,B){var r=v.$.s;r.wa(W,c);r.yC(B[3]);var x=B[0],Z=B[1],i=B[2],k=x>>1,H=Math.max(~~(x/5),1),V=Math.max(~~(x*2/3),1),g=r.azw(Z,i),N=r.gY(1),C=r.gY(1),w=r.gY(1),Y=r.gY(1),U=r.gY(4);
r.HY(d,N);r.a47(2147483647,4,2,2,0,255,C);r.a47(4,2147483647,2,2,0,255,Y);r.ax(w);r.yq(C,w,C,1);r.yq(Y,w,Y,1);
r.yq(C,N,C,1);r.yq(Y,N,Y,1);r.sH(d,U,k);r.sH(U,y,k);r.zX(C,N,1,x,H);r.zX(N,C,3,x,V);r.zX(Y,N,x,1,H);
r.zX(N,Y,x,3,V);r.m0(C,Y);r.qN(y);r.eo(Y,y);r.kJ(y);r.at$(y,g)};v.$.Kl=function(d,W,c){var y=c.a4G,B=c.Ef,r=c.gY(1),top=c.gY(1),x=c.gY(1),Z=c.gY(1),i=c.gY(1),k=c.gY(1),H=c.gY(1),V=c.gY(1),g=c.gY(1),N=c.Kp,C=c.fn,w=v.H$.$d,Y=v.H$.Vp;
w(d,r,N,C,Y([8,5,2,5,2,-1,2,-1,-4]));w(d,top,N,C,Y([5,5,5,2,2,2,-1,-1,-1]));w(d,x,N,C,Y([2,5,8,-1,2,5,-4,-1,2]));
w(d,Z,N,C,Y([5,2,-1,5,2,-1,5,2,-1]));w(d,i,N,C,Y([2,2,2,2,2,2,2,2,2]));w(d,k,N,C,Y([-1,2,5,-1,2,5,-1,2,5]));
w(d,H,N,C,Y([2,-1,-4,5,2,-1,8,5,2]));w(d,V,N,C,Y([-1,-1,-1,2,2,2,5,5,5]));w(d,g,N,C,Y([-4,-1,2,-1,2,5,2,5,8]));
var U=[r,top,x,Z,i,k,H,V,g];for(var e=0;e<C;e++){for(var O=0;O<N;O++){var l=e*N+O,I=d[l],s=null,z=0;
for(var R=-1;R<2;R++){for(var t=-1;t<2;t++){var a=U[(R+1)*3+t+1],J=Math.max(0,Math.min(e+R,C-1)),F=Math.max(0,Math.min(O+t,N-1)),h=a[J*N+F],m=Math.abs(h-I);
if(s==null||m<s){s=m;z=h}}}W[l]=z}}};v.$.am9=function(d,W,c,y,B){var self=v.$.s;self.wa(W,c);var r=self.gY(1),x=self.gY(1);
for(var S=0;S<4;S++){self.Un(d,r,S);if(S<3){v.$.Kl(r,x,self);v.$.Kl(x,r,self);v.$.Kl(r,x,self);v.$.Kl(x,r,self);
v.$.Kl(r,x,self);v.$.Kl(x,r,self);v.$.Kl(r,x,self);v.$.Kl(x,r,self);v.$.Kl(r,x,self)}else x=r;self.eo(x,y,S)}};
v.$.s={};v.$.s.Kp=0;v.$.s.fn=0;v.$.s.Ef=0;v.$.s.QJ=0;v.$.s.AM=0;v.$.s.wa=function(d,W){var c=d*W,self=v.$.s;
self.Kp=d;self.fn=W;self.Ef=c;self.QJ=c<<1;self.AM=c<<2};v.$.s.yC=function(d){v.$.s.random=function(){var W=d+=1831565813;
W=Math.imul(W^W>>>15,W|1);W^=W+Math.imul(W^W>>>7,W|61);return((W^W>>>14)>>>0)/4294967296}};v.$.s.gY=function(d){var W=v.$.s;
return new Uint8Array([-1,W.Ef,W.QJ,-1,W.AM][d])};v.$.s.Wm=function(){return new Int32Array(v.$.s.QJ)};
v.$.s.O1=function(d,W,c,y){if(y==null)y=c;var self=v.$.s,B=self.Kp,r=self.fn,x=y,Z=y>>1,i=c,k=c>>1,H=c*y,V=0;
for(var S=0;S<r;S++){var g=0;for(var N=0;N<x;N++){for(var C=0;C<i;C++){var w=0-k+C,Y=S-Z+N;if(w<0)w=0;
else if(w>=B)w=B-1;if(Y<0)Y=0;else if(Y>=r)Y=r-1;g+=d[Y*B+w]}}W[V++]=~~(g/H);for(var U=1;U<B;U++){for(var N=0;
N<x;N++){var e=U-k-1,O=e+i,Y=S-Z+N;if(e<0)e=0;if(O>=B)O=B-1;if(Y<0)Y=0;else if(Y>=r)Y=r-1;g+=d[Y*B+O]-d[Y*B+e]}W[V++]=~~(g/H)}}};
v.$.s.Vg=function(d,W,c,y){var self=v.$.s,B=new Int32Array(self.Ef),r=new Int32Array(self.Ef);for(var S=0;
S<2;S++){self.Un(d,B,S,2);self.O1(B,r,c,y);self.eo(r,W,S,2)}};v.$.s.sH=function(d,W,c,y){var self=v.$.s,B=self.gY(1),r=self.gY(1);
for(var S=0;S<4;S++){self.Un(d,B,S);if(S<3)self.O1(B,r,c,y);else r=B;self.eo(r,W,S)}};v.$.s.ahU=function(d,W,c,y,B){var self=v.$.s,r=self.Kp,x=self.fn,Z=c+y-1,i=c>>1,k=Z>>1,H=0,V=c*y,g=new Int32Array(c);
for(var S=0;S<x;S++){var N=0,C=0,w=0;for(var Y=0;Y<c;Y++){var U=B?Z-Y-y:Y;for(var e=U,O=y+U;e<O;e++){var l=0-k+e,I=S-i+Y;
if(e==U){g[Y]=l}if(l<0)l=0;else if(l>=r)l=r-1;if(I<0)I=0;else if(I>=x)I=x-1;var s=r*I+l<<2;N+=d[s];C+=d[s+1];
w+=d[s+2]}}W[H++]=~~(N/V);W[H++]=~~(C/V);W[H++]=~~(w/V);W[H]=d[H];H++;for(var z=1;z<r;z++){for(var Y=0;
Y<c;Y++){var I=S-i+Y,U=g[Y]+1;g[Y]=U;var R=U-1,t=U+y-1;if(I<0)I=0;else if(I>=x)I=x-1;if(R<0)R=0;else if(R>=r)R=r-1;
if(t<0)t=0;else if(t>=r)t=r-1;var a=I*r+R<<2,J=I*r+t<<2;N=N+d[J]-d[a];C=C+d[J+1]-d[a+1];w=w+d[J+2]-d[a+2]}W[H++]=~~(N/V);
W[H++]=~~(C/V);W[H++]=~~(w/V);W[H]=d[H];H++}}};v.$.s.Gb=function(d,W,c,y,B,r){var self=v.$.s,x=self.Kp,Z=self.fn,i=c+y-1,k=c>>1,H=i>>1,V=0,g=new Int32Array(c),N=new Int32Array(256),C=new Int32Array(16);
for(var S=0;S<Z;S++){for(var w=0;w<256;w++){N[w]=0}for(var w=0;w<16;w++){C[w]=0}for(var Y=0;Y<c;Y++){var U=B?i-Y-y:Y;
for(var e=U,O=y+U;e<O;e++){var l=0-H+e,I=S-k+Y;if(e==U){g[Y]=l}if(l<0)l=0;else if(l>=x)l=x-1;if(I<0)I=0;
else if(I>=Z)I=Z-1;N[d[I*x+l]]++;C[d[I*x+l]>>>4]++}}var s=0,z=0;while(s+C[z>>>4]<r){s+=C[z>>>4];z+=16}for(;
z<256;z++){s+=N[z];if(s>=r)break}W[V++]=z;for(var w=1;w<x;w++){for(var Y=0;Y<c;Y++){var I=S-k+Y,U=g[Y]+1;
g[Y]=U;var R=U-1,t=U+y-1;if(I<0)I=0;else if(I>=Z)I=Z-1;if(R<0)R=0;else if(R>=x)R=x-1;if(t<0)t=0;else if(t>=x)t=x-1;
N[d[I*x+R]]--;N[d[I*x+t]]++;C[d[I*x+R]>>>4]--;C[d[I*x+t]>>>4]++}s=0;z=0;while(s+C[z>>>4]<r){s+=C[z>>>4];
z+=16}for(;z<256;z++){s+=N[z];if(s>=r)break}W[V++]=z}}};v.$.s.n0=function(d,W,c,y,B,r){var self=v.$.s,x=self.gY(1),Z=self.gY(1);
for(var S=0;S<4;S++){self.Un(d,x,S);if(S<3)self.Gb(x,Z,c,y,B,r);else Z=x;self.eo(Z,W,S)}};v.$.s.zX=function(d,W,c,y,B){B=Math.min(y*c,B);
var self=v.$.s,r=self.Kp,x=self.fn,Z=y>>1,i=c>>1,k=0,H=new Int32Array(y),V=new Int32Array(256),g=new Int32Array(16);
for(var S=0;S<x;S++){for(var N=0;N<256;N++){V[N]=0}for(var N=0;N<16;N++){g[N]=0}for(var C=0;C<y;C++){for(var w=0,Y=c;
w<Y;w++){var U=0-i+w,e=S-Z+C;if(w==0){H[C]=U}if(U<0)U=0;else if(U>=r)U=r-1;if(e<0)e=0;else if(e>=x)e=x-1;
V[d[e*r+U]]++;g[d[e*r+U]>>>4]++}}var O=0,l=0;while(O+g[l>>>4]<B){O+=g[l>>>4];l+=16}for(;l<256;l++){O+=V[l];
if(O>=B)break}W[k++]=l;for(var N=1;N<r;N++){for(var C=0;C<y;C++){var e=S-Z+C,I=H[C]+1;H[C]=I;var s=I-1,z=I+c-1;
if(e<0)e=0;else if(e>=x)e=x-1;if(s<0)s=0;else if(s>=r)s=r-1;if(z<0)z=0;else if(z>=r)z=r-1;V[d[e*r+s]]--;
V[d[e*r+z]]++;g[d[e*r+s]>>>4]--;g[d[e*r+z]>>>4]++}O=0;for(l=0;l<256;l++){O+=V[l];if(O>=B)break}W[k++]=l}}};
v.$.s.Tb=function(d,W,c,y,B){var self=v.$.s,r=self.gY(1),x=self.gY(1);for(var S=0;S<4;S++){self.Un(d,r,S);
if(S<3)self.zX(r,x,c,y,B);else x=r;self.eo(x,W,S)}};v.$.s.k2=function(d,W,c){var self=v.$.s,y=self.Kp,B=self.fn,r=0;
for(var S=0;S<B;S++){var x=S*y,Z=(S-1)*y,i=(S+1)*y;if(Z<0)Z=x;if(i>=B)i=x;for(var k=0;k<y;k++){var H=k-1,V=k+1;
if(H<0)H=k;if(V>=y)V=k;var g=x+H,N=x+V,C=Z+k,w=i+k,Y=x+k,U=d[g],e=d[N],O=d[C],l=d[w],I=d[Y],s=I+(I*4*c+.5);
s=s-((U+e+l+O)*c+.5);W[r++]=self.iz(s)}}};v.$.s.WS=function(d,W,c){var self=v.$.s,y=self.gY(1),B=self.gY(1);
for(var S=0;S<4;S++){self.Un(d,y,S);if(S<3)self.k2(y,B,c);else B=y;self.eo(B,W,S)}};v.$.s.awy=function(d,W,c){var self=v.$.s,y=self.Kp,B=self.fn,r=0,x=c+4;
for(var S=0;S<B;S++){var Z=S*y,i=(S-1)*y,k=(S+1)*y;if(i<0)i=Z;if(k>=B)k=Z;for(var H=0;H<y;H++){var V=H-1,g=H+1;
if(V<0)V=H;if(g>=y)g=H;var N=Z+V<<2,C=Z+g<<2,w=i+H<<2,Y=k+H<<2,U=Z+H<<2;for(var e=0;e<3;e++){var O=d[N+e],l=d[C+e],I=d[w+e],s=d[Y+e],z=d[U+e];
W[r++]=(z*c+O+l+s+I)/x}W[r]=d[r];r++}}};v.$.s.akn=function(d,W,c,y){var self=v.$.s,B=self.Kp,r=self.fn,x=c>>1,Z=y>>1,i=0,k=new Int32Array(c),H=new Int32Array(256);
for(var S=0;S<r;S++){for(var V=0;V<256;V++){H[V]=0}for(var g=0;g<c;g++){for(var N=0,C=y;N<C;N++){var w=0-Z+N,Y=S-x+g;
if(N==0){k[g]=w}if(w<0)w=0;else if(w>=B)w=B-1;if(Y<0)Y=0;else if(Y>=r)Y=r-1;H[d[Y*B+w]]++}}var U=0,e=0;
for(var O=0;O<256;O++){if(U<H[O]){e=O;U=H[O]}}W[i++]=e;for(var V=1;V<B;V++){for(var g=0;g<c;g++){var Y=S-x+g,l=k[g]+1;
k[g]=l;var I=l-1,s=l+y-1;if(Y<0)Y=0;else if(Y>=r)Y=r-1;if(I<0)I=0;else if(I>=B)I=B-1;if(s<0)s=0;else if(s>=B)s=B-1;
H[d[Y*B+I]]--;H[d[Y*B+s]]++}U=0;e=0;for(var O=0;O<256;O++){if(U<H[O]){e=O;U=H[O]}}W[i++]=e}}};v.$.s.ao6=[function(d,W,c,y,B,r,x,Z,i,k){return B+(d+W+c)*k-(i+Z+x)*k},function(d,W,c,y,B,r,x,Z,i,k){return B+(W+c+r)*k-(Z+x+y)*k},function(d,W,c,y,B,r,x,Z,i,k){return B+(c+r+i)*k-(x+y+d)*k},function(d,W,c,y,B,r,x,Z,i,k){return B+(r+i+Z)*k-(y+d+W)*k},function(d,W,c,y,B,r,x,Z,i,k){return B+(i+Z+x)*k-(d+W+c)*k},function(d,W,c,y,B,r,x,Z,i,k){return B+(Z+x+y)*k-(W+c+r)*k},function(d,W,c,y,B,r,x,Z,i,k){return B+(x+y+d)*k-(c+r+i)*k},function(d,W,c,y,B,r,x,Z,i,k){return B+(y+d+W)*k-(r+i+Z)*k}];
v.$.s.v8=function(d,W,c,y,B){var self=v.$.s,r=self.Kp,x=self.fn,Z=r,i=self.ao6[y-1];for(var S=0;S<x;
S++){var k=(S>0?S-1:0)*Z,H=S*Z,V=(S<x?S+1:S)*Z;for(var g=0;g<r;g++){var N=g>0?g-1:0,C=g<r?g+1:g,w=H+g,Y=d[k+N],U=d[k+g],e=d[k+C],O=d[H+N],l=W[w],I=d[H+C],s=d[V+N],z=d[V+g],R=d[V+C];
c[w]=self.iz(i(Y,U,e,O,l,I,s,z,R,B))}}};v.$.s.asv=function(d,W,c,y,B){var self=v.$.s,r=self.gY(1),x=self.gY(1),Z=self.gY(1);
for(var S=0;S<3;S++){self.Un(d,r,S);self.Un(W,x,S);self.v8(r,x,Z,y,B);self.eo(Z,c,S)}self.Un(W,r,3);
self.eo(r,c,3)};v.$.s.Au=function(d,W){var c=d.length,y=0;for(var S=0;S<c;S++){W[y++]=~~((d[S++]+d[S++]+d[S++]+2)/3)}};
v.$.s.UW=function(d,W){var c=W.length,y=0;for(var S=0;S<c;S++){var B=d[S];W[y++]=B;W[y++]=B;W[y++]=B;
W[y++]=255}if(W[0]==255)W[0]--;else W[0]++};v.$.s.HY=function(d,W){var c=W.length,y=0;for(var S=0;S<c;
S++){var B=d[y++],r=d[y++],x=d[y++];y++;if(r>B)B=r;if(x>B)B=x;W[S]=B}};v.$.s.qN=function(d,W){if(W==null)W=d;
var c=d.length;for(var y=0;y<c;y+=4){var B=d[y],r=d[y+1],x=d[y+2],Z=B,i=0,k=B,V;if(r<=B){B=r}else{i=1;
k=r}if(x<=k){if(B>x){B=x}}else{i=2;k=x}var H=k-B;if(H!=0){if(i==0){V=~~(43*(r-x)/H)}else if(i==1){V=~~(43*(x+2*H-Z)/H)}else{V=43*(Z+4*H-r)/H}if(V<0){V=255&V-1}W[y]=V;
W[y+1]=~~(255*H/k)}else{W[y]=H;W[y+1]=H}W[y+2]=k;W[y+3]=d[y+3]}};v.$.s.kJ=function(d,W){if(W==null)W=d;
var c=d.length;for(var y=0;y<c;y+=4){var B=d[y],r=d[y+1],x=d[y+2];if(r){if(B==255)B=0;var Z=~~(6*B/255),i=~~(-255*Z+6*B);
if(Z==0){W[y]=x;W[y+1]=~~(x*(255-r*(255-i)/255)/255);W[y+2]=~~(x*(255-r)/255)}else if(Z==1){W[y]=~~(x*(255-r*i/255)/255);
W[y+1]=x;W[y+2]=~~(x*(255-r)/255)}else if(Z==2){W[y]=~~(x*(255-r)/255);W[y+1]=x;W[y+2]=~~(x*(255-r*(255-i)/255)/255)}else if(Z==3){W[y]=~~(x*(255-r)/255);
W[y+1]=~~(x*(255-r*i/255)/255);W[y+2]=x}else if(Z==4){W[y]=~~(x*(255-r*(255-i)/255)/255);W[y+1]=~~(x*(255-r)/255);
W[y+2]=x}else{W[y]=x;W[y+1]=~~(x*(255-r)/255);W[y+2]=~~(x*(255-r*i/255)/255)}}else{W[y]=x;W[y+1]=x;W[y+2]=x}W[y+3]=d[y+3]}};
v.$.s.eo=function(d,W,c,y){if(c==null)c=2;if(y==null)y=4;var B=d.length;for(var S=0;S<B;S++){W[c]=d[S];
c+=y}};v.$.s.Un=function(d,W,c,y){if(c==null)c=2;if(y==null)y=4;var B=W.length;for(var S=0;S<B;S++){W[S]=d[c];
c+=y}};v.$.s.asR=function(d,W,c,y){if(y==null)y=1;var B=W.length,r=0,x;for(var r=0;r<B;r++){x=W[r];if(x){x*=y;
c[r]=~~((x*d[r]+(255-x)*c[r])/255)}}};v.$.s.g3=function(d,W,c,y){if(y==null)y=c;var B=W.length,r=0,x,Z;
for(var S=0;S<B;S++){x=W[S];if(x){Z=255-x;y[r]=~~((x*d[r]+Z*c[r])/255);y[r+1]=~~((x*d[r+1]+Z*c[r+1])/255);
y[r+2]=~~((x*d[r+2]+Z*c[r+2])/255)}y[r+3]=d[r+3];r+=4}};v.$.s.b0=function(d,W,c,y){var B=~~(y*255),r=c.length;
for(var S=0;S<r;S++){c[S]=((255-B*(255-d[S])/255)*W[S]+d[S]*(B*(255-d[S])/255))/255}};v.$.s.yq=function(d,W,c,y){var B=~~(y*255),r=c.length;
for(var S=0;S<r;S++){c[S]=((255-B*d[S]/255)*W[S]+d[S]*(B*d[S]/255))/255}};v.$.s.vo=function(d,W,c){var y=W.length;
for(var S=0;S<y;S++){W[S]=~~(d[S]*c+.5)+(W[S]-~~(W[S]*c+.5))}};v.$.s.sub=function(d,W){var c=d.length;
for(var S=0;S<c;S++){W[S]=Math.max(d[S]-W[S],0)}};v.$.s.add=function(d,W){var c=d.length;for(var S=0;
S<c;S++){W[S]=Math.min(d[S]+W[S],255)}};v.$.s.a4G=function(d,W){var c=d.length;for(var S=0;S<c;S++){W[S]=d[S]+W[S]}};
v.$.s.m0=function(d,W){var c=d.length;for(var S=0;S<c;S++){W[S]=d[S]+W[S]>>1}};v.$.s.PY=function(d,W){var c=d.length;
for(var S=0;S<c;S++){W[S]=d[S]}};v.$.s.N8=function(d,W){var c=d.length;for(var S=0;S<c;S++){d[S]=W[d[S]]}};
v.$.s.at$=function(d,W){var c=v.$.s.AM;for(var S=0;S<c;S+=4){var y=d[S],B=d[S+1],r=d[S+2],x=y;if(B>y)x=B;
if(r>y)x=r;var Z=W[x];if(Z){d[S]=~~(Z*y/x);d[S+1]=~~(Z*B/x);d[S+2]=~~(Z*r/x)}else{d[S]=Z;d[S+1]=Z;d[S+2]=Z}}};
v.$.s.iY=function(d,W){for(var S=0,c=d.length;S<c;S++){d[S]=Math.min(255,~~(.5+d[S]*W))}};v.$.s.Zk=function(d,W){for(var S=0,c=d.length;
S<c;S++){d[S]=255-Math.min(255,~~(.5+(255-d[S])*W))}};v.$.s.QE=function(d){var W=d.length;for(var S=0;
S<W;S++){d[S]=255-d[S]}};v.$.s.Vv=function(d,W,c,y){if(c==null)c=0;if(y==null)y=255;for(var S=0,B=d.length;
S<B;S++){d[S]=d[S]>=W?y:c}};v.$.s.hX=function(d){return[d>>24&255,d>>16&255,d>>8&255,d&255]};v.$.s.aBd=function(d,W,c,y){if(c==null)c=255;
if(y==null)y=4278190335;var B=v.$.s,r=B.AM,x=B.hX(c),Z=B.hX(y);for(var S=0;S<r;S+=4){var i=~~((d[S]+d[S+1]+d[S+2]+2)/3);
if(i>=W){d[S]=x[0];d[S+1]=x[1];d[S+2]=x[2]}else{d[S]=Z[0];d[S+1]=Z[1];d[S+2]=Z[2]}}};v.$.s.aF=function(d,W){var c=v.$.s,y=c.AM,B=c.hX(W);
for(var S=0;S<y;){d[S++]=B[0];d[S++]=B[1];d[S++]=B[2];d[S++]=B[3]}};v.$.s.a68=function(d,W){var c=d.length;
for(var S=0;S<c;){d[S++]=W}};v.$.s.azw=function(d,W){d=d>5?(100-Math.max(4,d))/100:.95;W=W!=100?Math.max(4,W)/100:.9995;
var c=new Uint8Array(256),y=W>.5?.5/(1-W):W*2,B=~~(y*256),r=~~((.5-d*y)*256)<<8;for(var S=0;S<256;S++){c[S]=v.$.s.iz(r>>8);
r+=B}return c};v.$.s.ax=function(d){for(var S=0,W=v.$.s,c=d.length;S<c;S++){d[S]=~~(W.random()*256)}};
v.$.s.ak8=function(d,W){for(var S=0,c=v.$.s,y=d.length;S<y;S++){d[S]=c.random()<W?255:0}};v.$.s.apv=function(d,W,c){for(var S=0,y=v.$.s,B=d.length;
S<B;S++){if(y.random()<W)d[S]=c}};v.$.s.ae0=function(d,W,c){var y=d.length;for(var S=0;S<y;S++){d[S]=v.$.s.iz(d[S]+c[W[S]])}};
v.$.s.HA=function(d){var W=new Uint32Array(256);for(var S=0,c=d.length;S<c;S++)W[d[S]]++;return W};v.$.s.awC=function(d,W){var c=0,y=0,B=new Uint32Array(256),r=new Float32Array(256);
for(var S=0,x=d.length;S<x;S++){var Z=d[S],i=W[S];if(i==255){B[Z]++;c++}else if(i>0){i/=255;y+=i;r[Z]+=i;
if(y>=1){y--;c++}if(r[Z]>=1){r[Z]--;B[Z]++}}}return[c,B]};v.$.s.yu=function(d,W,c,y){var self=v.$.s,B,r,H=0,g=256;
if(y){var x=self.awC(c,y);B=x[1];r=x[0]/100}else{B=self.HA(c);r=self.Ef/100}var Z=new Uint8Array(256),i=r*d,k=r*W,V=-1;
do{H+=B[++V]}while(H<=i);H=0;do{H+=B[--g]}while(H<=k);if(g-V<=0)g=V+1;if(g>255){g=255;V=254}var N=255/(g-V),C=-V;
for(var S=0;S<256;S++){Z[S]=self.iz(N*C+.5);C++}return Z};v.$.s.YY=function(d,W,c,y){var B=v.$.s;B.N8(d,B.yu(W,c,d,y))};
v.$.s.a7B=function(d,W){var self=v.$.s,c=self.HA(d),y=self.Ef*W/100,B=0,r=-1;do{B+=c[++r]}while(B<=y);
return r};v.$.s.zJ=function(d,W){var c=0,self=v.$.s,y=self.Kp,B=self.fn,r=1/Math.PI,x=r*255;for(var S=0;
S<B;S++){var Z=S+1;if(Z==B)Z--;var i=S*y,k=~~((1-(S+1)/B)*255);for(var H=0;H<y;H++){var V=H+1;if(V==y)V--;
var g=d[i+H],N=d[i+V],C=d[Z*y+H];if(g-C==0){W[c++]=k}else{var w=g-C+255;if(w==255){w=0}else{w=~~(Math.atan2(1/(255-w),1)*x+.5);
if(w<0)w+=255}W[c++]=w}if(g-N==0){W[c++]=~~((1-(H+1)/y)*255)}else{var w=g-N+255;if(w==255){w=0}else{w=~~(Math.atan2(1/(255-w),1)*x+.5);
if(w<0)w+=255}W[c++]=w}}}};v.$.s.aay=function(d,W){var self=v.$.s,c=self.Kp,y=self.fn,B=0;for(var S=0;
S<y;S++){for(var r=0;r<c;r++){d[B]=~~(S*W+.5)+~~(d[B]*(1-W)+.5);B++;d[B]=~~(r*W+.5)+~~(d[B]*(1-W)+.5);
B++}}};v.$.s.a0M=function(d,W,c,y){var self=v.$.s,B=self.Kp,r=self.fn,x=0;for(var S=0;S<r;S++){for(var Z=0;
Z<B;Z++){W[x]=~~(W[x]*(1-c)+.5)+~~(d[x]*y+.5);x++;W[x]=~~(W[x]*(1-c)+.5)+~~(d[x]*y+.5);x++}}};v.$.s.ajR=function(d,W,c){var self=v.$.s,y=self.Kp,B=self.fn,r=0,x=0;
for(var S=0;S<B;S++){for(var Z=0;Z<y;Z++){var i=d[r++],k=d[r++];W[x++]=k%c>=2&&i%c>=2?255:0}}};v.$.s.a47=function(d,W,c,y,B,r,x){var self=v.$.s,Z=self.Kp,i=self.fn,k=0,H=0,V=0;
for(var S=0;S<i;S++){var g=S%d<c||i-c<=S;for(var N=0;N<Z;N++){x[k++]=g||N%W<y||Z-y<=N?B:r}}};v.$.s.m4=function(d,W,c,y){var self=v.$.s,B=self.Kp,r=self.fn,x=ar.m4(W),Z=x[1],i=x[0].m,k=x[0].i,H=100/c;
for(var V=0;V<r;V++)for(var g=0;g<B;g++){var N=v.D.Yx(g*H,V*H,Z,i,k);d[V*B+g]=y?255-N:N}};v.$.s.iz=function(d){return~~Math.min(255,Math.max(0,d))};
v.$.s.agc=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];v.$.s.aCG=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
v.$.s.v3=function(d){return d>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][d-41]:d/40};v.$.s.abj=function(d,W,c){var self=v.$.s,y=self.Kp,B=self.fn,r=c,x=c>>1,Z=x-1,i=r*r,k=0;
for(var S=0;S<B;S++){var H=0,V=0,g=0,N=~~(S/c)*c,C=0;for(var w=0;w<r;w++){for(var Y=0;Y<r;Y++){var U=C+Y,e=N+w;
if(U>=y)U=y-1;if(e>=B)e=B-1;H+=d[e*y+U<<2];V+=d[(e*y+U<<2)+1];g+=d[(e*y+U<<2)+2]}}var O=~~(H/i),l=~~(V/i),I=~~(g/i);
W[k]=O;W[k+1]=l;W[k+2]=I;W[k+3]=d[k+3];k+=4;for(var s=1;s<y;s++){for(var w=0;w<r;w++){var z=s-1,R=z+r,e=N+w;
if(R>=y)R=y-1;if(e>=B)e=B-1;var t=e*y,a=t+R<<2,J=t+z<<2;H+=d[a]-d[J];V+=d[a+1]-d[J+1];g+=d[a+2]-d[J+2]}if(s%c==0){O=~~(H/i);
l=~~(V/i);I=~~(g/i)}W[k]=O;W[k+1]=l;W[k+2]=I;W[k+3]=d[k+3];k+=4}}};v.$.s.as_=function(d,W,c,y,B){var self=v.$.s,r=self.Kp,x=self.fn,Z=0,i=0,k=0,H=0;
for(var S=H;S<x+H;S++){var V=S%W>=y||S<y||x+H-y<=S;for(var g=0;g<r;g++){d[Z++]=V&&(g%c>=B||g<B||r-B<=g)?255:0}}};
v.$.s.a2W=function(d,W,c){var y=function(k,H){return H<=k?k/H&1?H-k%H:k%H:k},B=[function(Z,i){return y(Z,255)/255},function(Z,i){return(255+y(Z,255)-y(i,255))/510},function(Z,i){return(255-y(i,255))/255},function(Z,i){return(510-y(Z,255)-y(i,255))/510},function(Z,i){return(255-y(Z,255))/255},function(Z,i){return(255-y(Z,255)+y(i,255))/510},function(Z,i){return y(i,255)/255},function(Z,i){return(y(Z,255)+y(i,255))/510}][c],r=0,x=0;
for(var S=0;S<v.$.s.Ef;S++){var Z=d[r++],i=d[r++];W[x++]=~~(255*B(Z,i))}};v.$.a9_=function(){var d=[],W=new Uint8Array(512),c=new Float32Array(512),y=new Float32Array(512),B=[1,-1,1,-1,1,-1,0,0],r=[1,1,-1,-1,0,0,1,-1],x=0,Z,C=0;
for(;x<256;x++)d[x]=x;while(x!=0){x--;Z=Math.floor(Math.random()*x);d[Z]^=d[x]^(d[x]=d[Z])}function i(i){i=Math.floor(i*65536);
if(i<256){i|=i<<8}for(var S=0;S<256;S++){var U=S+256,e=d[S]^(S&1?i:i>>8)&255;W[S]=W[U]=e;e=e%8;c[S]=c[U]=B[e];
y[S]=y[U]=r[e]}}function k(U){return U*U*U*(U*(U*6-15)+10)}function H(U,e,O){return(1-O)*U+O*e}function V(U,e){return U&e}function g(U,e){return U%e}function N(U,e,O,l,I){var s=Math.floor(U),z=Math.floor(e),x,R,t,a,J,F;
U=U-s;e=e-z;s=s&255;z=z&255;x=s+W[z];a=c[x]*U+y[x]*e;x=s+W[I(z+1,l)];t=c[x]*U+y[x]*(e-1);x=I(s+1,O)+W[z];
J=c[x]*(U-1)+y[x]*e;x=I(s+1,O)+W[I(z+1,l)];F=c[x]*(U-1)+y[x]*(e-1);R=k(U);return H(H(a,J,R),H(t,F,R),k(e))}function w(U,x,e){U[x]=e}function Y(U,e,O,l,I){var s=Math.min(Math.min(e,256),Math.min(256,O)),z=s==256||s<8,R=8,t=new Uint32Array(R),a=new Uint32Array(R),J=new Float32Array(R),F=new Float32Array(R),h=1,m=1,D=z?V:g,_=w,n;
for(var S=0;S<R;S++){n=m*1/s;if(z){a[S]=(1<<Math.ceil(Math.log2(O*n)))-1;t[S]=(1<<Math.ceil(Math.log2(e*n)))-1}else{a[S]=n*O;
t[S]=n*e}J[S]=h;F[S]=n;h*=.5;m=m<<1}i(Math.random());for(var j=0,x=0;j<O;j++){for(var T=0;T<e;T++){var L=0;
for(var p=0;p<R;p++){n=F[p];L+=N(T*n,j*n,t[p],a[p],D)*J[p]}_(l,x++,Math.round(Math.max(0,255*Math.min(1,.5+L*.5))))}}}return Y}();
v.$.aA1=function(){function d(W,c,y,B){var r=new Uint8Array(W.length>>>2),x=new Uint8Array(W.length>>>2),Z=new Uint8Array(W.length);
for(var S=0;S<W.length;S+=4){var i=W[S+0]*.3+W[S+1]*.59+W[S+2]*.11;x[S>>>2]=i;Z[S]=W[S];Z[S+1]=W[S+1];
Z[S+2]=W[S+2]}v.H$.a4W(x,r,c,y);v.H$.sS(W,B,c,y,v.H$.t0[1],0,!0);for(var S=0;S<W.length;S+=4){Z[S+3]=255-r[S>>>2]}for(var S=0,k=W.length;
S<k;S+=4){var H=Z[S+3]/255;B[S]=Z[S]*H+B[S]*(1-H);B[S+1]=Z[S+1]*H+B[S+1]*(1-H);B[S+2]=Z[S+2]*H+B[S+2]*(1-H)}}return d}();
v.$.aeX=function(){function d(r,x,Z,i,k){var H=new Uint32Array(r.buffer),V=0;for(var S=0;S<Z;S++){for(var g=0;
g<x;g++,V+=4){var N=H[S*x+g],C=N&255,w=N>>>8&255,Y=N>>>16&255,U=N>>>24&255,e=~~(Math.random()*8),O=e%3,l=0,I=0;
if(e<3){I--}else if(e>4){I++}if(O==0){l--}else if(O==2){l++}var s=g+l,z=S+I;if(s<0)s=0;else if(s>x-1)s=x-1;
if(z<0)z=0;else if(z>Z-1)z=Z-1;var N=H[z*x+s],R=N&255,t=N>>>8&255,a=N>>>16&255,J=N>>>24&255;i[V]=k(C,R);
i[V+1]=k(w,t);i[V+2]=k(Y,a);i[V+3]=k(U,J)}}}function W(r,x){return x}function c(r,x){return r>x?x:r}function y(r,x){return r<x?x:r}function B(r,x,Z,i,k){var H=k[0];
if(H==0)d(r,x,Z,i,W);else if(H==1)d(r,x,Z,i,c);else if(H==2)d(r,x,Z,i,y);else if(H==3){console.error("Not implemented")}else console.error("Mew mew")}return B}();
v.$.acn=function(){function d(W,c,y,B,r){var x=r&&r[0]?r[0]:4,Z,i,k,H,V,g,N;for(var S=0;S<y;S++){var C=Math.max(S-x,0),w=Math.min(S+x,y-1);
for(var Y=0;Y<c;Y++){var U=Math.max(Y-x,0),e=Math.min(Y+x,c-1);Z=C*c+U<<2;H=W[Z];V=W[Z+1];g=W[Z+2];N=W[Z+3];
Z=C*c+e<<2;H+=W[Z];V+=W[Z+1];g+=W[Z+2];N+=W[Z+3];Z=w*c+U<<2;H+=W[Z];V+=W[Z+1];g+=W[Z+2];N+=W[Z+3];Z=w*c+e<<2;
H+=W[Z];V+=W[Z+1];g+=W[Z+2];N+=W[Z+3];Z=S*c+Y<<2;B[Z]=H+2>>>2;B[Z+1]=V+2>>>2;B[Z+2]=g+2>>>2;B[Z+3]=N+2>>>2}}}return d}();
v.$.ahH=function(){function d(W,c,y,B){var r=new Uint8Array(W.length),x=new Uint8Array(W.length>>>2),Z=new Uint8Array(W.length>>>2);
v.H$.sS(W,r,c,y,v.H$.t0[2],0,!0);for(var S=0;S<W.length;S+=4){var i=r[S+0]*.3+r[S+1]*.59+r[S+2]*.11;
x[S>>>2]=i;B[S+0]=W[S+0];B[S+1]=W[S+1];B[S+2]=W[S+2];B[S+3]=W[S+3]}v.H$.a4W(x,Z,c,y);for(var S=0;S<W.length;
S+=4){r[S+3]=~~(Math.max(0,255-Z[S>>>2]-50)*(255/205))}for(var S=0,k=W.length;S<k;S+=4){var H=r[S+3]/255;
B[S]=r[S]*H+B[S]*(1-H);B[S+1]=r[S+1]*H+B[S+1]*(1-H);B[S+2]=r[S+2]*H+B[S+2]*(1-H)}}return d}();v.$.vD=function(){function d(e,O){return e[O]+e[O+1]+e[O+2]+e[O+3]}function W(e,O){return e[O]+e[O+1]+e[O+2]+2*e[O+3]}function c(e,O,l,I){e[O]=l[I];
e[O+1]=l[I+1];e[O+2]=l[I+2];e[O+3]=l[I+3]}function y(e,O,l){e[O]=e[l];e[O+1]=e[l+1];e[O+2]=e[l+2];e[O+3]=e[l+3]}function B(e,O,l){e[l]=O[l];
e[l+1]=O[l+1];e[l+2]=O[l+2];e[l+3]=255-O[l+3]}function r(e){for(var S=0,O=e.length;S<O;S+=4){e[S+3]=255-e[S+3]}}function x(){var e=Math.random();
if(e>.5)return 0;if(e>.25)return 1;if(e>.1)return 2;if(e>.02143)return 3;if(e>.00445)return 4;if(e>65e-5)return 5;
if(e>415e-6)return 6;if(e>55e-6)return 7;return 8}function Z(e,O,l,I,s,z){e[O]=l[I]+(s[z]-l[I]>>1);e[O+1]=l[I+1]+(s[z+1]-l[I+1]>>1);
e[O+2]=l[I+2]+(s[z+2]-l[I+2]>>1);e[O+3]=l[I+3]+(s[z+3]-l[I+3]>>1)}function i(e,O,l,I,s,z){e[O]=s[z]+l[I]>>1;
e[O+1]=s[z+1]+l[I+1]>>1;e[O+2]=s[z+2]+l[I+2]>>1;e[O+3]=s[z+3]+l[I+3]>>1}function k(e,O,l,I,s,z,R,t,a){var J=0,F=0,h=0,S,m=s[z],D;
Z(t,0,e,O,e,l);for(S=0;S<m;S++){Z(t,(S+1)*4,t,S*4,e,l)}F=(m+1)*4;h+=m;z--;c(e,O,t,F-4);I[z]=d(e,O);O-=a;
while(z>0&&I[z-1]<I[z]){D=t;t=R;R=D;J=F;i(t,0,e,O-a,R,0);for(S=4;S<J;S+=4){i(t,S,t,S-4,R,S)}m=s[z];for(S=h;
S<m;S++){Z(t,F,t,F-4,R,J-4);F+=4;h++}z--;c(e,O,t,F-4);I[z]=d(e,O);O-=a}}function H(e,O,l,I,s){var z=O*4,R=0,t,a,J=new Uint8Array(O+1),F=new Uint8Array(10*4),h=new Uint8Array(10*4);
for(var S=0;S<l;S++){B(I,e,R);s[0]=d(I,R);J[0]=x();t=R;R+=4;for(var m=1;m<O;m++){B(I,e,R);s[m]=d(I,R);
a=x();J[m]=a;if(s[m-1]<s[m]&&a>0){k(I,R-4,R,s,J,m,F,h,4)}R+=4}s[O]=s[0];J[O]=J[0];if(s[O-1]<s[O]&&a>0){k(I,R,t,s,J,O,F,h,4)}}r(I)}function V(){var e=Math.random();
if(e>.659755)return 0;if(e>.1625)return 10;if(e>.06)return 20;if(e>.01)return 30;if(e>.0035)return 40;
if(e>65e-5)return 50;if(e>415e-6)return 60;if(e>55e-6)return 70;return 80}function g(e,O,l,I,s,z){var R=V()+1,t=I[s];
for(var S=1;S<R;S++){if(0>s)break;if(I[s-S]<t){y(e,O,l)}else{break}O+=z}}function N(e,O,l,I,s){var z=O*4,R=0;
for(var S=0;S<l;S++){B(I,e,R);s[0]=d(I,R);R+=4;for(var t=1;t<O;t++){B(I,e,R);s[t]=d(e,R);if(s[t-1]<s[t]){g(I,R-4,R,s,t,-4)}R+=4}s[O]=s[0];
if(s[t-1]<s[t]){g(I,R-4,R-z,s,t,-4)}}r(I)}function C(e,O,l,I,s,z){var R=1,t,a,J=new Uint8Array(4),F,h=O;
while(Math.random()<1/R){h=O;if(I<=1)break;t=l[I];a=l[I-1];if(t<=a)break;c(J,0,e,h-z);F=!0;for(var S=I;
S<s;S++){if(a>l[S]){c(e,h-z,J,0);l[S-1]=a;F=!1;break}c(e,h-z,e,h);l[S-1]=l[S];h+=z}if(F){c(e,h-z,J,0);
l[s-1]=a}R++;I--;O-=z}}function w(e,O,l,I,s){var z=0,R=0,t=O*4;for(var S=0;S<l;S++){R=z;for(var a=0;
a<O;a++){B(I,e,z);s[a]=W(I,z);z+=4}z=R;for(var a=1;a<O;a++){if(s[a-1]<s[a]&&Math.random()<.66){C(I,z+4,s,a,O,4)}z+=4}z+=4}r(I)}function Y(e,O,l,I,s){var z=s[0],R=s[1],t=new Uint16Array(O+1),a=e,J=I,F;
if(R){F=I.slice(0);U(e,I,O,l);a=I;J=F}if(z==0)H(a,O,l,J,t);else if(z==1)N(a,O,l,J,t);else if(z==2)w(a,O,l,J,t);
if(R){U(F,I,O,l)}}function U(e,O,l,I){for(var s=0;s<I;s++)for(var z=0;z<l;z++){var R=s*l+z<<2,t=s*l+(l-1-z)<<2;
O[t]=e[R];O[t+1]=e[R+1];O[t+2]=e[R+2];O[t+3]=e[R+3]}}return Y}();v.$.at5=function(d,W,c,y,B){var r=v.$.s,x=1,Y=0,O=0;
r.wa(W,c);r.yC(B[2]);var Z=3<<13,i=Math.PI/2.43,k=i/256,H=Math.PI*2/256;function V(){var z=r.random()*256,R=r.random()*256;
return x*~~(Math.tan(i-z*k)*325*Math.cos(R*H)*256)+Z>>16}x=B[0];var g=B[1],N=(g+2)/2,C=r.random()*255,w=r.gY(1);
for(var S=0;S<c;S++){var U=r.iz(V()+C);for(var e=0;e<W;e++){U=r.iz(V()+U);w[Y++]=U}}Y=W;for(var S=1;
S<c;S++){var l=r.iz(V()+w[O++]);w[Y++]=l;for(var e=1;e<W;e++){var I=O+1;if(e+1==W){I--}var s=(N+l+w[I]+w[O]*g)/(g+2);
l=r.iz(V()+s);w[Y++]=l;O++}}r.UW(w,y)};var gS=function(){function d(A){A=A^61^A>>>16;A=A+(A<<3);A=A^A>>>4;
A=A*668265261;A=A^A>>>15;return A}var W=function(){var W=function(A){if(A){this.U=A}this.U=d(this.U);
return(this.U&16777215)*(1/16777215)};return W};function c(A,u){if(u==null){u=[0,0]}return Math.sqrt((u[0]-A[0])*(u[0]-A[0])+(u[1]-A[1])*(u[1]-A[1]))}function y(A,u){if(u==null){u=[0,0]}return[-(u[1]-A[1])/c(A,u),(u[0]-A[0])/c(A,u)]}function B(A){return[Math.cos(A),Math.sin(A)]}function r(A){var u=c(A,[0,0]),q=[A[0]/u,A[1]/u],o=Math.atan(q[1]/q[0]);
if(q[0]>0&&q[1]<0){o+=2*Math.PI}else if(q[0]<0&&q[1]<0){o+=Math.PI}else if(q[0]<0&&q[1]>0){o+=Math.PI}return o}function x(A){var x=0;
for(var S=1;S<A.length/2;++S){x+=c([A[2*S],A[2*S+1]],[A[2*(S-1)],A[2*(S-1)+1]])}return x}function Z(A,u,q){var o=new Float32Array(A.length),M=1/(A.length/2),$=I(q);
for(var S=0;S<A.length/2;++S){var Q=S*M,kF=Q/2+.5,P=1,bM=0;if(q.shape==2){P=1/(2*kF)}if(q.shape==3){kF=(1-Q)/2+.5;
P=1/(2*kF)+.5}if(q.shape==4){kF=Q;P=Math.sin(3/2*Math.PI*kF)/4+1}if(q.shape==5){kF=(Q-.5)*6;P=(-Math.atan(kF)/1.25+1)/5+.6-.2*Q}var jW=[null,null];
if(S==0){jW=y([A[2*S],A[2*S+1]],[A[2*(S+1)],A[2*(S+1)+1]])}else if(S==A.length/2-1){jW=y([A[2*(S-1)],A[2*(S-1)+1]],[A[2*S],A[2*S+1]])}else{jW=y([A[2*(S-1)],A[2*(S-1)+1]],[A[2*(S+1)],A[2*(S+1)+1]])}o[2*S]=A[2*S]+(P*u+bM)*jW[0];
o[2*S+1]=A[2*S+1]+(P*u+bM)*jW[1];if(q.style==2){o[2*S]+=s(2*S/o.length,$,q)}}return o}function i(A,u,q){var o=new Float32Array(A.length),M=1/(A.length/2);
for(var S=0;S<A.length/2;++S){var $=S*M,Q=[null,null],kF=.6*q.lp*t($,u.aD2)*q.nI/100,P=.6*q.lp*t($,u.ajx)*q.nI/100,bM=u.ao$*kF+(1-u.ao$)*P;
if(S==0){Q=y([A[2*S],A[2*S+1]],[A[2*(S+1)],A[2*(S+1)+1]])}else if(S==A.length/2-1){Q=y([A[2*(S-1)],A[2*(S-1)+1]],[A[2*S],A[2*S+1]])}else{Q=y([A[2*(S-1)],A[2*(S-1)+1]],[A[2*(S+1)],A[2*(S+1)+1]])}o[2*S]=A[2*S]+bM*Q[0];
o[2*S+1]=A[2*S+1]+bM*Q[1]}return o}function k(A){if(A.t7==1){return[.150684932,.205479452,.465753425,.178082192]}else if(A.t7==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var u=[],q=1/(h(A)-1);
for(var S=0;S<h(A)-1;++S){u.push(q)}return u}}function H(A,u,q){var o=[],M=u-A,$=A;for(var S=0;S<q.length-1;
++S){o.push($+q[S]*M);$=o[S]}return o}function V(A,u,q,o){var M=new Float32Array(q.length),$=0,Q={shape:Math.floor(o.random()*2.99),awU:o.random()*.1+.15};
for(var S=0;S<q.length-1;++S){var kF=$+q[S];M[S]=((1-kF)*A+kF*u)*U(o,kF,Q);$=kF}return M}function g(A,u,q,o){var M=J(o),$=o.random(),Q=$*20+(1-$)*26,kF=new Float32Array(q.length),P=0;
for(var S=0;S<q.length-1;++S){var bM=P+q[S];kF[S]=(1-bM)*A+bM*u+M/Q*(2/3*Math.sin(Math.PI*bM)+1/3*Math.sqrt(Math.sin(Math.PI*bM)));
P=bM}return kF}function N(A,u,q){var o=[];for(var S=0;S<u.length-1;++S){o.push(u[S].slice());var M=S*(h(q)-1),$=(S+1)*(h(q)-1),Q=A[$]-A[M];
for(var kF=M+1;kF<$;++kF){var P=I(q),bM=new Float32Array(u[0].length),jW=(A[kF]-A[M])/Q;for(var fX=0;
fX<u[0].length/2;++fX){bM[2*fX]=(1-jW)*u[S][2*fX]+jW*u[S+1][2*fX];bM[2*fX+1]=(1-jW)*u[S][2*fX+1]+jW*u[S+1][2*fX+1];
if(q.style==2){bM[2*fX]+=s(2*fX/u[0].length,P,q)}}o.push(bM)}}o.push(u[u.length-1]);return o}function C(A,u,q){var o=new Array(u.length),M=L(A),Q=null;
for(var S=0;S<u.length;++S){o[S]=Z(M,(u[S]-.5)*q.nI,q)}var $=1+.05*q.as4*J(q)/J({t7:1});for(var S=0;
S<u.length;++S){if(u[S]==0){Q=S}}for(var S=0;S<u.length;++S){var kF=(q.random()-.5)*2,P=Math.round(q.random()*9+1),bM=new Float32Array(P*2+2);
for(var jW=0;jW<=P;++jW){bM[2*jW]=o[S][0]-(o[S][2*jW]-o[S][0]);bM[2*jW+1]=o[S][1]-(o[S][2*jW+1]-o[S][1])}if(S==Q){kF*=.1}for(var jW=(o[S].length-1)/2;
jW>P;--jW){o[S][2*jW]=(1-kF)*o[S][2*jW]+kF*(o[S][2*(jW-P)]+$*(o[S][2*jW]-o[S][2*(jW-P)]));o[S][2*jW+1]=(1-kF)*o[S][2*jW+1]+kF*(o[S][2*(jW-P)+1]+$*(o[S][2*jW+1]-o[S][2*(jW-P)+1]))}for(var jW=P-1;
jW>=0;--jW){o[S][2*jW]=(1-kF)*o[S][2*jW]+kF*(bM[2*(P-jW)]+$*(o[S][2*jW]-bM[2*(P-jW)]));o[S][2*jW+1]=(1-kF)*o[S][2*jW+1]+kF*(bM[2*(P-jW)+1]+$*(o[S][2*jW+1]-bM[2*(P-jW)+1]))}}var fX=R(u,q);
if(q.lp>0){var bX=0;for(var S=0;S<u.length;++S){if(S==0){bX+=u[S]}else{bX+=Math.abs(u[S]-u[S-1])}var ao=bX-Math.floor(bX),en=1;
if(ao==0){en=0}o[S]=i(o[S],{aD2:fX[Math.floor(bX)],ajx:fX[Math.floor(bX)+en],ao$:ao},q)}}return o}function w(A,u){var q=_(u,A),o=n(u,A),M=[],$=[],Q=[],kF=k(A);
for(var S=0;S<u.length-1;++S){M.push(u[S]);$.push(q[S]);Q.push(o[S]);var P=H(u[S],u[S+1],kF),bM=V(q[S],q[S+1],kF,A),jW=g(o[S],o[S+1],kF,A);
for(var fX=0;fX<P.length;++fX){M.push(P[fX]);$.push(bM[fX]);Q.push(jW[fX])}}M.push(u[u.length-1]);$.push(q[q.length-1]);
Q.push(o[o.length-1]);return{aDs:M,a2w:$,m6:Q}}function Y(A,u,q,o){var M=new Float32Array(2*o),$=A.length/2,Q=$-u,kF=q*Q,P=kF/o;
for(var S=0;S<o;++S){var bM=Math.floor(u+S*P),jW=Math.ceil(u+S*P),q=u+S*P,fX=jW-bM,bX=1,ao=0;if(fX!=0){bX=(jW-q)/fX;
ao=(q-bM)/fX}M[2*S]=bX*A[2*bM]+ao*A[2*jW];M[2*S+1]=bX*A[2*bM+1]+ao*A[2*jW+1]}return M}function U(A,u,q){var o=q.awU,M=u*2*Math.PI,$=M,Q=0;
if(q.shape==0){Q=(Math.sin(2*$+Math.PI/2)+1)/2}else if(q.shape==1){Q=(Math.sin($+Math.PI/2)+1)/2}else{Q=(4*Math.sin(3/4*$+Math.PI)+Math.sin(Math.PI/2+2*$)-2*$/Math.PI+6)/7}return Math.min(1,1-o+o*Q)}function e(A,u,q,o){var M=[];
for(var S=0;S<A.length;++S){M.push(Y(A[S],u[S],q[S],o))}return M}function O(A,u,q){var o=[];for(var S=0;
S<A.length;++S){var M=B(2*Math.PI*q.random()),$=B(2*Math.PI*q.random()),Q=q.zf*.5*m({t7:1})/m(q),kF=Q*q.nI/200,P=Q*u/500,bM=new Float32Array(A[0].length);
for(var jW=0;jW<A[0].length/2;++jW){var fX=B(2*Math.PI*q.random()),bX=2*jW/A[0].length;bM[2*jW]=A[S][2*jW]+kF*(fX[0]+((1-bX)*M[0]+bX*$[0]));
bM[2*jW+1]=A[S][2*jW+1]+P*(fX[1]+((1-bX)*M[1]+bX*$[1]))}o.push(bM)}return o}function l(A,u,q){var o=q.CF,M=2/o,$=[1/10,1/30,1/40,1/45,1/100],Q=$[q.t7-1],kF=4*(q.opacity/25*M*Q)*(1-q.zf/150),fX=0,ao=0;
if(q.style==3){return kF*.09}var P=2.2*(A-.5),bM=P*P*P*P+.27+Math.max(0,(q.opacity-50)/15),jW=2*(Math.sin(3*Math.PI*u)/(Math.PI*u+2)+1.1)-u/2;
u=2*u;if(u<.41){var bX=2*Math.PI*u/.41;fX=(Math.sin(bX-Math.PI/2)+1)/4+.5}else if(u<.77){var bX=2*Math.PI*(u-.41)/.36;
fX=(Math.sin(bX-Math.PI/2)+1)/4+.5-bX/2/Math.PI*.5}else{var bX=2*Math.PI*(u-.77)/.23;fX=(Math.sin(bX-Math.PI/2)+1)/2*.12}fX*=3;
fX+=Math.max(0,(q.opacity-50)/15);if(q.type==6){ao=jW}else{ao=fX}return kF*bM*ao}function I(A){return{H:A.random()*7/2+.5,dG:A.random()*2*Math.PI}}function s(A,u,q){return q.nI/300*h({t7:1})/h(q)*10*(Math.sin(u.H*2*Math.PI*A+u.dG)+10*(q.random()-.5))}function z(A){var u=Math.exp(-A.lp/25);
return{H:A.random()*3/2+.5,dG:A.random()*2*Math.PI,Nc:(A.random()-.5)*10*u}}function R(A,u){var q=Math.ceil(j(A)),o=[];
for(var S=0;S<=q;++S){o.push(z(u))}return o}function t(A,u){var q=u.H*4*Math.PI*A+u.dG;return Math.exp(-1/2*Math.PI*A)*Math.cos(q)*Math.cos(q)*Math.cos(q)*Math.cos(q)*Math.cos(q)+A*u.Nc-u.Nc/4}function a(A,u,q,o,M){var $=0,Q=m(u)-1;
for(var S=0;S<Q;++S){for(var kF=0;kF<A.length-1;kF+=h(u)-1){for(var P=S;P<A[0].length/2-Q;P+=Q){for(var bM=kF;
bM<kF+(h(u)-1);++bM){q[M+$]=l(bM*(u.CF-1)/(A.length-1)%1,P/A[0].length,u);var jW=0,fX=0;if(u.type==6&&bM!=0&&bM!=A.length-1){fX=(A[bM][2*(P+1)+1]-A[bM][2*P+1])/2;
jW=(A[bM][2*(P+1)]-A[bM][2*P])/2}o[8*M+8*$]=A[bM][2*P]+jW;o[8*M+8*$+1]=A[bM][2*P+1]+fX;o[8*M+8*$+2]=A[bM][2*(P+Q)]+jW;
o[8*M+8*$+3]=A[bM][2*(P+Q)+1]+fX;o[8*M+8*$+4]=A[bM+1][2*(P+Q)];o[8*M+8*$+5]=A[bM+1][2*(P+Q)+1];o[8*M+8*$+6]=A[bM+1][2*P];
o[8*M+8*$+7]=A[bM+1][2*P+1];++$}}}}}function J(A){var u=[100,300,500,700,1e3];return u[A.t7-1]}function F(A){var u=[30,70,100,140,300];
return u[A.t7-1]}function h(A){var u=[5,7,26,40,100];return u[A.t7-1]}function m(A){if(A.t7==1){return 4}else if(A.t7==2){return 8}else{return Math.floor(F(A)/9)}}function D(A){var u=A.CF,q=new Float32Array(u),o=null;
for(var S=0;S<u;++S){q[S]=A.random()}if(A.CF<=3){q[0]=0;q[A.CF-1]=1}else{for(var S=0;S<2;++S){var M=Math.floor(A.random()*u);
if(o==null||o!=M){q[M]=S;o=M}else{q[M+1]=S}}}return q}function _(A,u){var q=[],o=.2,$=0;for(var S=0;
S<A.length;++S){var M=u.random()*(1-o)+o;q.push(M)}var Q=Math.min(3,u.CF);for(var S=0;S<A.length;++S){if(q[S]>.9){++$}}while($<Q){var kF=Math.floor(u.random()*A.length);
if(q[kF]<=.9){q[kF]=.9+.1*u.random();++$}}return q}function n(A,u){var q=J(u),o=J({t7:1}),M=[];for(var S=0;
S<A.length;++S){M.push(Math.max(1,(u.random()*10+2)*q/o))}return M}function j(A){var u=0;for(var S=0;
S<A.length;++S){if(S==0){u+=A[S]}else{u+=Math.abs(A[S]-A[S-1])}}return u}function T(A,u){if(A.length/2-1==J(u)){return A}var q=new Float32Array(2*(J(u)+1)),o=(A.length-2)/(q.length-2);
for(var S=0;S<q.length/2;++S){var M=S*o,$=Math.floor(M),Q=Math.ceil(M),kF=Q-$,P=1,bM=0;if(kF!=0){P=(Q-M)/kF;
bM=(M-$)/kF}q[2*S]=P*A[2*$]+bM*A[2*Q];q[2*S+1]=P*A[2*$+1]+bM*A[2*Q+1]}return q}function L(A,u){var q=A.length/2,o=x(A),M=o/q,$=!1,P=0,bM=0,jW=1;
if(u){var Q=Math.floor(o/u.atg),kF=u.atg;if(u.awi&&A[0]==A[A.length-2]&&A[1]==A[A.length-1]){$=!0;kF=o/(Q+1)}if(u.type==2&&!$&&kF*Q+u.length>o){q=Q+1}else{q=Q+2}M=kF}var fX=new Float32Array(q*2);
fX[0]=A[0];fX[1]=A[1];for(var S=1;S<q;++S){while(P<=S*M){bM=P;P+=c([A[2*jW],A[2*jW+1]],[A[2*(jW-1)],A[2*(jW-1)+1]]);
++jW}var bX=1-(S*M-bM)/(P-bM);fX[2*S]=(1-bX)*A[2*jW]+bX*A[2*(jW-1)];fX[2*S+1]=(1-bX)*A[2*jW+1]+bX*A[2*(jW-1)+1]}fX[fX.length-2]=A[A.length-2];
fX[fX.length-1]=A[A.length-1];return fX}function p(A,u){var q=L(A,u),o=[];for(var S=0;S<(q.length-2)/2;
++S){var M=[];M.push(q[2*S]);M.push(q[2*S+1]);var $=c([q[2*(S+1)],q[2*(S+1)+1]],[q[2*S],q[2*S+1]]),Q=[(q[2*(S+1)]-q[2*S])/$,(q[2*(S+1)+1]-q[2*S+1])/$],kF=B((u.azG-90)/360*2*Math.PI),P=Q;
if(u.type==3){P=kF}else if(u.type==4){P=B(r(Q)+r(kF))}else if(u.type==5){P=B(((u.random()-.5)*u.azG-90)/360*2*Math.PI)}var bM=u.length;
if(u.a6N){bM=2*u.random()*u.length}M.push(q[2*S]+P[0]*bM);M.push(q[2*S+1]+P[1]*bM);o.push(M)}return o}function E(A){if(A.au4){A.$m=100*Math.random()}else{A.$m=A.aan}A.random=new W;
A.random(A.$m);if(A.type==6){A.CF=2;A.shape=5;A.as4=0}}function G(A,u){A=T(A,u);var q=[A],bM=0;if(u.type>=2&&u.type<6){q=p(A,u)}var o=m(u)-1,M=F(u)-o,$=(u.CF-1)*(h(u)-1),Q=q.length*M*$,kF=new Float32Array(Q),P=new Float32Array(8*Q);
for(var S=0;S<q.length;++S){for(var jW=0;jW<1e4;++jW){u.$m=d(u.$m)}u.random(u.$m);var A=T(q[S],u),fX=D(u),bX=j(fX),ao=C(A,fX,u),en=w(u,fX),fK=N(en.aDs,ao,u);
fK=e(fK,en.m6,en.a2w,F(u));if(u.zf>0){fK=O(fK,x(q[S]),u)}a(fK,u,kF,P,bM);bM+=M*$}return[kF,P]}var gS=function(A){var u=performance.now(),q=A[0],o=A[1];
E(o);var M=[new Float32Array(0),new Float32Array(0)];for(var S=0;S<q.length;++S){o.$m=d(o.$m);var $=G(q[S],o),Q=new Float32Array(M[0].length+$[0].length),kF=new Float32Array(M[1].length+$[1].length);
Q.set(M[0]);Q.set($[0],M[0].length);M[0]=Q;kF.set(M[1]);kF.set($[1],M[1].length);M[1]=kF}var P=performance.now();
if(o.abU){console.hU("Geometry: "+String(P-u)+"ms")}return M};return gS}(),jI=function(){function d(B,r){var x=[],Z=0,i=r.length,k=0,H=0,V=new a8,g=0,N=1e9;
for(H=0;H<i;H++){var C=H*8,w=r[H];if(w<N)N=w;var Y=B[C+0],U=B[C+1],e=B[C+2],O=B[C+3],l=B[C+4],I=B[C+5],s=B[C+6],z=B[C+7],R=Math.min(Y,e,l,s),t=Math.max(Y,e,l,s),a=Math.min(U,O,I,z),J=Math.max(U,O,I,z),F=new a8(R,a,t-R,J-a),h=F.hB(V),m=g+w;
if(H-k<10&&(H==k||h.P()*.8<F.P()+V.P())){V=h;g=m}else{x.push(H-k);k=H;V=F;g=w;N=w}}if(H!=k)x.push(H-k);
return x}function W(B,r,x,Z,i,k){var H=document.createElement("canvas"),U=0,Q=.8;H.width=r;H.height=x;
var V=H.getContext("2d"),g=i[0],N=i[1],C=new Float64Array(r*x),w=Date.now(),Y=d(N,g);for(var e=0;e<Y.length;
e++){var O=U,l=U+Y[e],z=1e9,t=1e9,_=0;U=l;var I=O*8,s=l*8,R=-z,a=-t;for(var J=I;J<s;J+=2){var F=N[J],h=N[J+1];
if(F<z)z=F;if(F>R)R=F;if(h<t)t=h;if(h>a)a=h}z=Math.floor(z);R=Math.ceil(R);t=Math.floor(t);a=Math.ceil(a);
var m=R-z,D=a-t;for(var n=O;n<l;n++)_+=g[n];for(var J=I;J<s;J+=8){var j=g[J>>>3],T=N[J+0],L=N[J+1],p=N[J+2],E=N[J+3],G=N[J+4],A=N[J+5],u=N[J+6],q=N[J+7];
V.fillStyle="rgba(0,0,0,"+j/_+")";V.beginPath();V.moveTo(T,L);V.lineTo(p,E);V.lineTo(G,A);V.lineTo(u,q);
V.closePath();V.fill()}var o=V.getImageData(z,t,m,D).data;for(var h=0;h<D;h++)for(var F=0;F<m;F++){var S=h*m+F,M=o[S*4+3],$=(t+h)*r+z+F;
if(M!=0)C[$]+=M*_}V.clearRect(z,t,m,D)}var kF=k[1].color,P=Math.pow(kF.Z/255,Q),bM=Math.pow(kF.G/255,Q),jW=Math.pow(kF.J/255,Q),fX=new a8(0,0,r,x),bX=v.R(r*x*4);
for(var h=0;h<x;h++)for(var F=0;F<r;F++){var S=h*r+F,n=S*4,g=C[S]*(1/255);bX[n]=y(P,g);bX[n+1]=y(bM,g);
bX[n+2]=y(jW,g);bX[n+3]=Math.min(255,g*255)}v.l.Ip("norm",bX,fX,Z,fX,fX,1)}var c=new Uint8Array(2e3);
for(var S=0;S<2e3;S++)c[S]=255*Math.min(1,Math.log(S/700+1));function y(B,r){return c[Math.min(1500,~~(B*r*1e3))]}return W}(),hy=function(){var d=new Float32Array(3e3),W=new Float32Array(3e3),c=new Float32Array(256),y=new Float32Array(3e3);
function B(){var N=d.length;d[0]=Math.log10(157647e-9);for(var S=1;S<N;++S)d[S]=Math.log10(S/N)}function r(){var N=W.length;
for(var S=0;S<N;++S)W[S]=Math.pow(10,20*(S-N/2)/N)}function x(){var N=c.length;for(var S=0;S<N;++S)c[S]=v.c1(S/255)}function Z(){var N=y.length;
for(var S=0;S<N;++S)y[S]=255*v.dM(S/(N-1))}function i(N,C){var w=N.length>>>2;for(var S=0;S<w;++S){var Y=c[N[4*S]],U=c[N[4*S+1]],e=c[N[4*S+2]],O=.3811*Y+.5783*U+.0402*e,l=.1967*Y+.7244*U+.0782*e,I=.0241*Y+.1288*U+.8444*e;
O=d[~~(O*d.length)];l=d[~~(l*d.length)];I=d[~~(I*d.length)];C[3*S]=(O+l+I)*.5773502692;C[3*S+1]=(O+l-2*I)*.4082482905;
C[3*S+2]=(O-l)*.7071067812}}function k(N,C){var w=C.length>>>2,Y=y.length-1;for(var S=0;S<w;++S){var U=.5773502692*N[3*S],e=.4082482905*N[3*S+1],O=.7071067812*N[3*S+2],l=W[~~((U+e+O+10)*(3e3/20))],I=W[~~((U+e-O+10)*(3e3/20))],s=W[~~((U-2*e+10)*(3e3/20))],z=4.4679*l-3.5873*I+.1193*s,R=-1.2186*l+2.3809*I-.1624*s,t=.0497*l-.2439*I+1.2045*s;
C[4*S]=y[~~(Y*Math.max(0,Math.min(1,z)))];C[4*S+1]=y[~~(Y*Math.max(0,Math.min(1,R)))];C[4*S+2]=y[~~(Y*Math.max(0,Math.min(1,t)))]}}function H(N){var C=0,w=0,Y=0;
for(var S=0;S<N.length;S+=3){C+=N[S];w+=N[S+1];Y+=N[S+2]}return[C/(N.length/3),w/(N.length/3),Y/(N.length/3)]}function V(N,H){var C=0,w=0,Y=0;
for(var S=0;S<N.length;S+=3){var U=N[S]-H[0],e=N[S+1]-H[1],O=N[S+2]-H[2];C+=U*U;w+=e*e;Y+=O*O}return[Math.sqrt(C/(N.length/3)),Math.sqrt(w/(N.length/3)),Math.sqrt(Y/(N.length/3))]}function g(N,C,w,Y,U,e){B();
r();x();Z();var O=0,L,p;if(e[0]>100)O=-(e[0]-100)/100*.13;else if(e[0]>=75)O=(100-e[0])/25*.04;else if(e[0]>=50)O=.04+(75-e[0])/25*.04;
else if(e[0]>=25)O=.08+(50-e[0])/25*.08;else O=.16+(25-e[0])/25*.24;var l=(e[1]-100+100)/100,I=e[2]/100,s=e[3],z=new Float32Array(N.length*3/4),R=new Float32Array(Y.length*3/4),t=Date.now();
i(N,z);i(Y,R);var a=Date.now(),J=H(z),F=H(R),h=Date.now(),m=V(z,J),D=V(R,F),_=Date.now();F[0]*=Math.pow(10,O);
var n=[D[0]/m[0],D[1]/m[1],D[2]/m[2]],j=z.length,T=1/-1.1546978950500488;for(var S=0;S<j;S+=3){if(s){var E=Math.max(0,Math.min(1,z[S]*T));
E=1-Math.sqrt(E);L=E*F[1];p=E*F[2]}else{L=F[1];p=F[2]}z[S]=(z[S]-J[0])*n[0]+F[0];z[S+1]=(z[S+1]-J[1])*n[1]*l+L;
z[S+2]=(z[S+2]-J[2])*n[2]*l+p}var G=Date.now();k(z,U);var A=U.length>>>2;for(var S=0;S<A;++S){U[4*S]=(1-I)*U[4*S]+I*N[4*S];
U[4*S+1]=(1-I)*U[4*S+1]+I*N[4*S+1];U[4*S+2]=(1-I)*U[4*S+2]+I*N[4*S+2];U[4*S+3]=255}}return g}(),e3=function(){function d(W,c,y,B,r){var x=[-1,-1,-1,-1],Z=255,i=160,k,H=!1,V=new Array(4);
V[0]=new Array(c);V[1]=new Array(y);V[2]=new Array(c);V[3]=new Array(y);var g=new Array(2);g[0]=new Array(y);
g[1]=new Array(y);function N(D,_,n,j,T){this.start=j;this.axis=T;this.dir=D;this.end=-1;this.source=_;
this.P=n}function C(D,_,n,j,T){if(n%2==0){if(!V[n][D])V[n][D]=new Array;V[n][D].push(new N(n,j,T,_,D))}else{if(!V[n][_])V[n][_]=new Array;
V[n][_].push(new N(n,j,T,D,_))}var L=Date.now()}function w(S){var D=!1,_=0;if(W[4*S+3]<Z)return D;var n=S%c,j=Math.floor(S/c);
Y(n,j);if(S+c<c*y&&W[4*(S+c)+3]<Z&&W[4*(S-c)+3]>=Z&&W[4*(S-2*c)+3]>=Z){var T=2;if(W[4*(S+c)+3]<=i)_=-1;
if(W[4*(S+2*c-1)+3]<Z&&W[4*(S+2*c+1)+3]<Z)D=!0;else if(W[4*(S+2*c-1)+3]>=Z&&W[4*(S+1)+3]>=Z)D=!0;else if(W[4*(S+2*c+1)+3]>=Z&&W[4*(S-1)+3]>=Z)D=!0;
C(n,j,T,_,D)}else if(S-c>=0&&W[4*(S-c)+3]<Z&&W[4*(S+c)+3]>=Z&&W[4*(S+2*c)+3]>=Z){var T=0;if(W[4*(S-c)+3]<=i)_=-1;
if(W[4*(S-2*c-1)+3]<Z&&W[4*(S-2*c+1)+3]<Z)D=!0;else if(W[4*(S-2*c-1)+3]>=Z&&W[4*(S+1)+3]>=Z)D=!0;else if(W[4*(S-2*c+1)+3]>=Z&&W[4*(S-1)+3]>=Z)D=!0;
C(n,j,T,_,D)}_=0;if(S+1<c*y&&W[4*(S+1)+3]<Z&&W[4*(S-1)+3]>=Z&&W[4*(S-2)+3]>=Z){var T=3;if(W[4*(S+1)+3]<=i)_=-1;
if(!D&&W[4*(S+c+2)+3]<Z&&W[4*(S-c+2)+3]<Z){D=!0;C(n,j,T,_,!0)}else C(n,j,T,_,!1)}else if(S>=1&&W[4*(S-1)+3]<Z&&W[4*(S+1)+3]>=Z&&W[4*(S+2)+3]>=Z){var T=1;
if(W[4*(S-1)+3]<=i)_=-1;if(!D&&W[4*(S+c-2)+3]<Z&&W[4*(S-c-2)+3]<Z){D=!0;C(n,j,T,_,!0)}else C(n,j,T,_,!1)}return D}function Y(S,D){if(x[0]==-1){x[0]=S;
x[1]=D;x[2]=1;x[3]=1}if(S<x[0]){x[2]+=x[0]-S;x[0]=S}if(S>x[0]+x[2])x[2]=S-x[0];if(D<x[1]){x[3]+=x[1]-D;
x[1]=D}if(D>x[1]+x[3])x[3]=D-x[1]}function U(D,S,_,n){if(!_.P)return;var j=(D+2)%4,T=_.start,L=x[1];
if(D==2)L+=x[3];else if(D==1)L=x[0];else if(D==3)L=x[0]+x[2];var p=_.source;if(V[j][S])for(var E=0;E<V[j][S].length;
++E){if(D>1){var G=T+Math.floor((V[j][S][E].start-T)/2);if(V[j][S][E].start>T&&G<L)L=G}else{var G=T-Math.floor((T-V[j][S][E].start)/2);
if(V[j][S][E].start<T&&G>L)L=G}}for(var A=1;A<Math.abs(L-T);++A){var E=T+A;if(D==1||D==0)E=T-A;for(var u=0;
u<2;++u){var q=2*u,o=!1;if(D%2==0)q+=1;if(V[q][E]){for(var M=0;M<V[q][E].length;++M){if(V[q][E][M].P){var $=V[q][E][M].start,Q=S-$,kF=E-T;
if(q==0||q==1)Q=-Q;if(Q<=0)continue;if(D==0||D==1)kF=-kF;if(kF>Q){L=E;o=!0;break}}}if(o)break}}}_.end=L;
l(D,S,T,L,p)}function e(D){for(var S=0;S<V[D].length;++S){if(V[D][S])for(var _=0;_<V[D][S].length;++_){U(D,S,V[D][S][_])}}}function O(){var D=[2,0,3,1];
for(var S=0;S<D.length;++S)e(D[S])}function l(D,S,_,n,j){if(D==2)for(var T=_;T<=n;++T){if(!I(T*c+S,(_+j)*c+S))return!1}else if(D==0)for(var T=_;
T>=n;--T){if(!I(T*c+S,(_-j)*c+S))return!1}else if(D==1)for(var T=_;T>=n;--T){if(!I(S*c+T,S*c+_-j))return!1}else if(D==3)for(var T=_;
T<=n;++T){if(!I(S*c+T,S*c+_+j))return!1}}function I(D,_){if(!k[D]){B[4*D]=B[4*_];B[4*D+1]=B[4*_+1];B[4*D+2]=B[4*_+2];
if(H)B[4*D+3]=255;k[D]=!0;return!0}return!1}function s(){for(var S=0;S<4;S+=1){for(var D=0;D<V[S].length;
++D){if(V[S][D])for(var _=0;_<V[S][D].length;++_){var n=V[S][D][_];for(var j=1;j<3;j+=2){var T=(S+j)%4;
if(V[T][n.start])for(var L=0;L<V[T][n.start].length;++L){if(V[T][n.start][L].start==n.axis){var bd=c*n.start+n.axis;
if(S%2==1){bd=n.start+c*n.axis;z(V[T][n.start][L])}else z(n)}}}}}}}function z(D){if(D.dir%2==0){var bd=c*D.start+D.axis,_=D.start,n=1;
if(!k[bd+1])n=3;else if(k[bd-1])return;var j=B[4*bd],T=B[4*bd+1],L=B[4*bd+2];while(B[4*bd]==j&&B[4*bd+1]==T&&B[4*bd+2]==L){if(n==1){if(!g[0][_])g[0][_]=new Array;
g[0][_].push(new N(n,0,!1,D.axis,_))}else{if(!g[1][_])g[1][_]=new Array;g[1][_].push(new N(n,0,!1,D.axis,_))}if(D.dir==2){bd+=c;
_++}else{bd-=c;_--}}}}function R(){for(var D=0;D<2;++D){var _=(D+1)%2;for(var S=0;S<g[D].length;++S){if(g[D][S])for(var n=0;
n<g[D][S].length;++n){var j=x[0];if(D==1)j+=x[2];var T=g[D][S][n].start;if(g[_][S])for(var L=0;L<g[_][S].length;
++L){var p=g[_][S][L].Td;if(D==0){if(p>j&&p<T){j=T-Math.floor((T-p)/2)}}else{if(p<j&&p>T){j=T+Math.ceil((p-T)/2)}}}if(D==0)l(g[D][S][n].dir,S,T-1,j,-1);
else l(g[D][S][n].dir,S,T+1,j,-1)}}}for(var S=0;S<k.length;++S){if(!k[S]&&S%c>=x[0]&&S%c<=x[0]+x[2]&&Math.floor(S/c)>=x[1]&&Math.floor(S/c)<=x[1]+x[3]){var T=c;
if(S<T||!k[S-T])T=1;B[4*S]=B[4*(S-T)];B[4*S+1]=B[4*(S-T)+1];B[4*S+2]=B[4*(S-T)+2];k[S]=!0;if(H)B[4*S+3]=255}}}function t(){k=new Array(W.length/4);
for(var S=0;S<B.length/4;++S){k[S]=!1;B[4*S]=W[4*S];B[4*S+1]=W[4*S+1];B[4*S+2]=W[4*S+2];B[4*S+3]=W[4*S+3];
if(B[4*S+3]==255)k[S]=!0;if(w(S))k[S]=!1}if(x[0]>0){x[0]--;x[2]++}if(x[1]>0){x[1]--;x[3]++}if(x[0]+x[2]<c){x[2]++}if(x[1]+x[3]<y){x[3]++}}var a=Date.now();
t();var J=Date.now();O();var F=Date.now();s();var h=Date.now();R();var m=Date.now();console.log("Init: "+String(J-a));
console.log("Filling: "+String(F-J));console.log("Check areas: "+String(h-F));console.log("Fill areas: "+String(m-h))}return d}();
function hH(){}hH.aCF=function(d){var W=[v.c1(d[0]),v.c1(d[1]),v.c1(d[2]),0];return v.hu.ul(v.hu.a6Z,W)};
hH.ah0=function(d){var W=v.hu.ul(v.hu.cu,d);return[v.dM(W[0]),v.dM(W[1]),v.dM(W[2])]};hH.bO=function(d,W){var c={},y=5003,B=1667,r=25e3,x=57.4,Z=16.1,i=1.8,k=0,H=1.54,V=.75,C=0;
if(W>0){d-=W/100*4}if(d<0){Z=22.54;x=80.36;H=.756}if(W>0){i=1.3;V=.2}var g=Math.min(y+x*d,r),N=Math.max(y-Z*d,B);
if(d<0){g=Math.max(y+Z*d,B);N=Math.min(y-x*d,r)}if(d>0){if(d<=14){C=(d-1)/13*.075+.025}else if(d<=29){C=.1}else if(d<=60){C=.1-.1*(d-29)/(60-29)}else{var w=d-60;
k=-20*(w/40);C=-.3*(w/40)}}else{if(d<-60){var w=d+60;k=-20*(w/40)}}var Y=Math.abs(d)/100*H+Math.abs(W)/100*V+C,U=-(W*i+k),e=e9.y$(g,-U),O=e9.hp(e),l=e9.y$(N,0),I=e9.hp(l),s=e9.azt(O,I);
c.avI=Y;c.a9L=s;if(d==0&&W==0)c.aeE=!0;else c.aeE=!1;return c};hH.a01=function(d,W,c,y){if(y.aeE){return[d,W,c]}var B=this.aCF([d,W,c]),r=B[0],x=B[1],Z=B[2],i=x+1e-12,k=[r/i,x/i,Z/i,0],H=v.hu.ul(y.a9L,k),V=0,g=.4;
H[0]*=i;H[1]*=i;H[2]*=i;if(i>g)V=1/(1-g)*(i-g);B[0]=(1-V)*H[0]+V*r;B[1]=(1-V)*H[1]+V*x;B[2]=(1-V)*H[2]+V*Z;
return this.ah0(B)};v.axl={LA:function(d,W){var S=d.length;d.push(W);var c=S>>>1;while(c!=0&&d[S][0]<d[c][0]){var y=d[S];
d[S]=d[c];d[c]=y;S=c;c=S>>>1}},R2:function(d){if(d.length==2)return d.pop();var top=d[1],S=1;d[1]=d.pop();
var W=d.length;while(!0){var c=S<<1,y=c+1,B=S;if(c<W&&d[c][0]<d[B][0])B=c;if(y<W&&d[y][0]<d[B][0])B=y;
if(B==S)break;var r=d[S];d[S]=d[B];d[B]=r;S=B}return top},arb:function(d){for(var S=1;S<d.length;S++){var W=S,c=1e9;
while(W!=0){var y=d[W][0];if(y>c){console.log(S);throw"e"}c=y;W=W>>>1}}}};v.l={};v.l.HZ=new Float64Array(256);
v.l.RT=new Uint8Array(256*256);v.l.e$=new Uint8Array(256*256);(function(){for(var S=0;S<256;S++)v.l.HZ[S]=255/S;
for(var S=0;S<256;S++)for(var d=0;d<256;d++)v.l.RT[S*256+d]=S==0?0:Math.round(d*255/S);for(var S=0;S<256;
S++)for(var d=0;d<256;d++)v.l.e$[S*256+d]=Math.round(S*(255-d)/255)}());v.l.Ip=function(d,W,c,y,B,r,x,Z){if(Z==null)Z=eV.aP();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(d)==-1){x=x*Z.fill;Z.fill=1;Z.style=!1}var i="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),k="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),H=v.l[d+"F"];
if(Z.Db==null&&d=="norm")v.l.awa(W,c,y,B,r,x,H,Z.EX?1:0);else if(d=="diss")v.l.aei(W,c,y,B,r,x,H,Z.EX?1:0);
else if(i.indexOf(d)!=-1)v.l.a79(W,c,y,B,r,x,H,Z);else if(k.indexOf(d)!=-1)v.l.ahB(W,c,y,B,r,x,H,Z)};
v.l.apM=function(d,W,c){var y=d*c+1-c;return y<.001?0:1-Math.min(1,(1-W)/y)};v.l.a2T=function(d,W,c){return d*c==1?1:Math.min(1,W/(1-d*c))};
v.l.I5=function(d){return d<=.25?((16*d-12)*d+4)*d:Math.sqrt(d)};v.l.normF=function(d,W,c){return d};
v.l.darkF=function(d,W,c){return Math.min(d,W)};v.l["mul F"]=function(d,W,c){return d*W};v.l.idivF=function(d,W,c){var y=d*c+1-c;
return W==1?1:1-W>=y?0:1-(1-W)/y};v.l.lbrnF=function(d,W,c){return Math.max(0,d*c+W-c)};v.l.dkClF=function(d,W,c){var y=v.K1(d)<v.K1(W)?d:W;
c.Z=y.Z;c.G=y.G;c.J=y.J;return c};v.l.liteF=function(d,W,c){return Math.max(d,W)};v.l.scrnF=function(d,W,c){return W+d-W*d};
v.l["div F"]=function(d,W,c){d*=c;return W==0?0:W>=1-d?1:W/(1-d)};v.l.lddgF=function(d,W,c){d*=c;return Math.min(1,d+W)};
v.l.lgClF=function(d,W,c){var y=v.K1(d)>v.K1(W)?d:W;c.Z=y.Z;c.G=y.G;c.J=y.J;return c};v.l.overF=function(d,W,c){return v.l.hLitF(W,d,c)};
v.l.sLitF=function(d,W,c){return d<=.5?W-(1-2*d)*W*(1-W):W+(2*d-1)*(v.l.I5(W)-W)};v.l.hLitF=function(d,W,c){return d<=.5?v.l["mul F"](2*d,W,c):v.l.scrnF(2*d-1,W,c)};
v.l.vLitF=function(d,W,c){return d<=.5?v.l.apM(2*d,W,c):v.l.a2T(2*d-1,W,c)};v.l.lLitF=function(d,W,c){return d<=.5?v.l.lbrnF(2*d,W,c):v.l.lddgF(2*d-1,W,c)};
v.l.pLitF=function(d,W,c){return d<=.5?v.l.darkF(2*d,W,c):v.l.liteF(2*d-1,W,c)};v.l.hMixF=function(d,W,c){if(c>.99)return d+W<1?0:1;
return Math.min(1,Math.max(0,(W+d*c-c)/(1-c+1e-6)))};v.l.diffF=function(d,W,c){d*=c;return Math.abs(d-W)};
v.l.smudF=function(d,W,c){return d+W-2*d*W};v.l.fsubF=function(d,W,c){return Math.max(W-d,0)};v.l.fdivF=function(d,W,c){return Math.min(W/d,1)};
v.l["hue F"]=function(d,W,c){v.l.hE(d,v.FF(W),c);v.l.rK(c,v.K1(W),c)};v.l["sat F"]=function(d,W,c){v.l.hE(W,v.FF(d),c);
v.l.rK(c,v.K1(W),c)};v.l.colrF=function(d,W,c){v.l.rK(d,v.K1(W),c)};v.l["lum F"]=function(d,W,c){v.l.rK(W,v.K1(d),c)};
v.l.rK=function(d,W,c){var y=W-v.K1(d);c.Z=d.Z+y;c.G=d.G+y;c.J=d.J+y;v.l.aja(c)};v.l.aja=function(d){var W=d.Z,c=d.G,y=d.J,B=v.DB(W,c,y),bd=Math.min(W,c,y),r=Math.max(W,c,y);
if(bd<0){var x=B/(B-bd);W=B+(W-B)*x;c=B+(c-B)*x;y=B+(y-B)*x}if(r>1){var x=(1-B)/(r-B);W=B+(W-B)*x;c=B+(c-B)*x;
y=B+(y-B)*x}d.Z=W;d.G=c;d.J=y};v.l.hE=function(d,W,c){var y=v.l.aeG,B=d.Z,r=d.G,x=d.J;if(B==r&&r==x){c.Z=c.G=c.J=0}else if(B>r){if(B>x){if(r>x){c.Z=W;
c.G=y(B,r,x,W);c.J=0}else{c.Z=W;c.J=y(B,x,r,W);c.G=0}}else{c.J=W;c.Z=y(x,B,r,W);c.G=0}}else{if(B<x){if(r>x){c.G=W;
c.J=y(r,x,B,W);c.Z=0}else{c.J=W;c.G=y(x,r,B,W);c.Z=0}}else{c.G=W;c.Z=y(r,B,x,W);c.J=0}}};v.l.aeG=function(d,W,c,y){return(W-c)*y/(d-c)};
v.l.awa=function(d,W,c,y,B,r,x,Z){var i=W.nK(y).nK(B),k=Math.max(0,i.x-W.x),H=Math.max(0,i.x-y.x),V=Math.max(0,i.y-W.y),g=Math.max(0,i.y-y.y),N=i.m,C=i.i,w=W.m,Y=y.m,U=v.l.RT,e=v.l.e$,O=new Uint32Array(d.buffer),l=new Uint32Array(c.buffer);
for(var S=0;S<C;S++){var I=(V+S)*w+k,s=(g+S)*Y+H;for(var z=0;z<N;z++){var R=O[I+z],n=1;if(R>>>24==0)continue;
if(R>>>24==255&&r==1&&Z==0){l[s+z]=O[I+z];continue}var t=l[s+z],a=R&255,J=R>>>8&255,F=R>>>16&255,h=t&255,m=t>>>8&255,D=t>>>16&255,_=r,j=(t>>>24)*(1/255);
if(Z==0){_=(R>>>24)*r*(1/255);n=j}var T=n*(1-_),L=_+T,p=1/L;l[s+z]=~~(.5+(Z*j+(1-Z)*L)*255)<<24|~~(.5+(F*_+D*T)*p)<<16|~~(.5+(J*_+m*T)*p)<<8|~~(.5+(a*_+h*T)*p)}}};
v.l.aB5=function(d,W,c,y,B,r){var x=W.nK(y).nK(B),Z=Math.max(0,x.x-W.x),i=Math.max(0,x.x-y.x),k=Math.max(0,x.y-W.y),H=Math.max(0,x.y-y.y),V=x.m,g=x.i,N=W.m,C=y.m,w=v.l.RT,Y=v.l.e$,U=new Uint32Array(d.buffer),e=new Uint32Array(c.buffer),O=Math.floor(Math.random()*16777215),l=0;
for(var S=0;S<g;S++){var I=(k+S)*N+Z,s=(H+S)*C+i;for(var z=0;z<V;z++){var R=U[I+z];if(R>>>24==0)continue;
if(R>>24==255&&r==1){e[s+z]=R;continue}var t=e[s+z],a=(R>>>24)*r*(1/255),J=(t>>>24)*(1/255),F=J*(1-a),h=a+F,m=R&255,D=R>>>8&255,_=R>>>16&255,n=t&255,j=t>>>8&255,T=t>>>16&255;
l>>>=8;if((z&3)==0)l=v.l.mH(s+z+O);var L=h==0?0:1/h,p=Math.floor(h*(256*255))+(l&255)>>>8,E=Math.floor((_*a+T*F)*L+.5),G=Math.floor((D*a+j*F)*L+.5),A=Math.floor((m*a+n*F)*L+.5);
e[s+z]=p<<24|E<<16|G<<8|A}}};v.l.P2=function(d,W,c,y,B,r,x,Z){var i=v.DB(d,W,c),k=v.DB(y,B,r),H=Math.min,V=v.l.a1l,g=V(i,Z,0);
g=H(g,V(d,Z,8));g=H(g,V(W,Z,16));g=H(g,V(c,Z,24));var N=V(k,Z,4);N=H(N,V(y,Z,12));N=H(N,V(B,Z,20));N=H(N,V(r,Z,28));
N=Math.max(N,1-x);var C=Math.min(g,N);return C<0?0:C>1?1:C};v.l.a1l=function(d,W,S){return Math.min((d-W[S])*W[S+1],(d-W[S+3])*W[S+2])};
v.l.a79=function(d,W,c,y,B,r,x,Z){var i=1/255,k=i*r,H=Z.EX?1:0,V=Z.fill,g=Z.style,N=W.nK(y).nK(B),C=Math.max(0,N.x-W.x),w=Math.max(0,N.x-y.x),Y=Math.max(0,N.y-W.y),U=Math.max(0,N.y-y.y),e=N.m,O=N.i,l=W.m,I=y.m,s=new Uint32Array(d.buffer),z=new Uint32Array(c.buffer);
for(var S=0;S<O;S++){var R=(Y+S)*l+C,t=(U+S)*I+w;for(var a=0;a<e;a++,R++,t++){var J=s[R],L=1;if(J>>>24==0)continue;
var F=z[t],h=(J&255)*i,m=(J>>>8&255)*i,D=(J>>>16&255)*i,_=(F&255)*i,n=(F>>>8&255)*i,j=(F>>>16&255)*i,T=r;
if(H==0){T=(J>>>24)*k;L=(F>>>24)*i}if(Z.Db)T*=v.l.P2(h,m,D,_,n,j,L,Z.Db);var p=L*(1-T),E=T+p,G=E==0?0:255/E,A=g?1:T,u=((1-L)*T*h+(1-A)*L*_+A*L*x(h,_,(1+T-A)*V))*G,q=((1-L)*T*m+(1-A)*L*n+A*L*x(m,n,(1+T-A)*V))*G,o=((1-L)*T*D+(1-A)*L*j+A*L*x(D,j,(1+T-A)*V))*G;
E=T*V+L*(1-T*V);var M=~~(E*255+.5);z[t]=H*(F>>>24)+(1-H)*M<<24|o<<16|q<<8|u}}};v.l.ahB=function(d,W,c,y,B,r,x,Z){var i=1/255,k=i*r,H=Z.EX?1:0,V=W.nK(y).nK(B),g=Math.max(0,V.x-W.x),N=Math.max(0,V.x-y.x),C=Math.max(0,V.y-W.y),w=Math.max(0,V.y-y.y),Y=V.m,U=V.i,e=new Uint32Array(d.buffer),O=new Uint32Array(c.buffer),l={Z:0,G:0,J:0},I={Z:0,G:0,J:0},s={Z:0,G:0,J:0};
for(var S=0;S<U;S++){var z=(C+S)*W.m+g,R=(w+S)*y.m+N;for(var t=0;t<Y;t++,z++,R++){var a=e[z],J=O[R],F=(a&255)*i,h=(a>>>8&255)*i,m=(a>>>16&255)*i,D=(J&255)*i,_=(J>>>8&255)*i,n=(J>>>16&255)*i,j=r,T=1;
if(H==0){j=(a>>>24)*k;T=(J>>>24)*i}if(Z.Db)j*=v.l.P2(F,h,m,D,_,n,T,Z.Db);var L=T*(1-j),p=j+L,E=255/p;
l.Z=F;l.G=h;l.J=m;I.Z=D;I.G=_;I.J=n;x(l,I,s);var G=(((1-T)*F+T*s.Z)*j+D*L)*E,A=(((1-T)*h+T*s.G)*j+_*L)*E,u=(((1-T)*m+T*s.J)*j+n*L)*E,q=H*(J>>>24)+(1-H)*Math.round(p*255);
O[R]=q<<24|u<<16|A<<8|G}}};v.l.VC=function(d){d=d^61^d>>>16;d=d+(d<<3);d=d^d>>>4;d=d*668265261;d=d^d>>15;
return(d&16777215)*(1/16777215)};v.l.mH=function(d){d=d^61^d>>>16;d=d+(d<<3);d=d^d>>>4;d=d*668265261;
d=d^d>>>15;return d};v.l.kl=function(d){this.yC=d};v.l.kl.prototype.get=function(){var d=this.yC=v.l.mH(this.yC);
return(d&16777215)*(1/16777215)};v.l.aei=function(d,W,c,y,B,r,x,Z){var i=1/255,k=i*r,H=Math.round(r*(256*256*256/255)),V=W.nK(y).nK(B),g=Math.max(0,V.x-W.x),N=Math.max(0,V.x-y.x),C=Math.max(0,V.y-W.y),w=Math.max(0,V.y-y.y),Y=V.m,U=V.i,e=new Uint32Array(d.buffer),O=new Uint32Array(c.buffer);
for(var S=0;S<U;S++){var l=(C+S)*W.m+g,I=(w+S)*y.m+N;for(var s=0;s<Y;s++,l++,I++){var z=e[l],R=O[I],t=Z*255+(1-Z)*(z>>>24);
if((v.l.mH(l)&16777215)>=t*H)continue;O[I]=z&16777215|Z*(R>>>24)+(1-Z)*255<<24}}};v.l.aCR=function(d,W,c){for(var S=0;
S<d.length;S+=4){var y=c[S>>>2];if(y==0)continue;var B=y*(1/255),r=1/B,x=W[S],Z=W[S+1],i=W[S+2],k=d[S],H=d[S+1],V=d[S+2];
W[S]=Math.min(255,Math.max(0,Math.round((x-(1-B)*k)*r)));W[S+1]=Math.min(255,Math.max(0,Math.round((Z-(1-B)*H)*r)));
W[S+2]=Math.min(255,Math.max(0,Math.round((i-(1-B)*V)*r)));W[S+3]=255}};v.l.lf=function(d,W,c,y,B,r,x,Z,i,k,H){if(k==null)k=!1;
if(H==null)H=[1,1,1];var V=255<<24|H[2]*16711680|H[1]*65280|H[0]*255,g=~V;if(B&&!W.zI(r)){var N=v.R(W.P()*4);
N.fill(x);v.ZW(B,r,N,W);B=N;r=W}if(k){if(B==null)v.l.agF(d,W,c,y,B,Z,i,V,g);else v.l.a62(d,W,c,y,B,Z,i)}else{if(B==null)v.l.a0o(d,W,c,y,B,Z,i,V,g);
else v.l.azr(d,W,c,y,B,Z,i)}};v.l.a0o=function(d,W,c,y,B,r,x,Z,i){var k=1/255,H=W.nK(y).nK(r),V=Math.max(0,H.x-W.x),g=Math.max(0,H.x-y.x),N=Math.max(0,H.y-W.y),C=Math.max(0,H.y-y.y),w=H.m,Y=H.i,U=new Uint32Array(d.buffer),e=new Uint32Array(c.buffer),O=v.l.RT,l=x*255&255;
for(var S=0;S<Y;S++){var I=(N+S)*W.m+V,s=(C+S)*y.m+g;for(var z=0;z<w;z++,I++,s++){var R=U[I],t=e[s],a=R>>>24,J=t>>>24,F=v.iO(l*a+(255-l)*J),h=v.iO(a*l),m=v.iO(J*(255-l)),D=R&255,_=R>>>8&255,n=R>>>16&255,j=t&255,T=t>>>8&255,L=t>>>16&255,p=h*D+j*m,E=h*_+T*m,G=h*n+L*m;
p=O[F<<8|v.iO(p)];E=O[F<<8|v.iO(E)];G=O[F<<8|v.iO(G)];var A=F<<24|G<<16|E<<8|p;e[s]=i&t|Z&A}}};v.l.agF=function(d,W,c,y,B,r,x,Z,i){var k=1/255,H=W.nK(y).nK(r),V=Math.max(0,H.x-W.x),g=Math.max(0,H.x-y.x),N=Math.max(0,H.y-W.y),C=Math.max(0,H.y-y.y),w=H.m,Y=H.i,U=new Uint32Array(d.buffer),e=new Uint32Array(c.buffer),O=v.l.RT,l=x*16777215&16777215;
for(var S=0;S<Y;S++){var I=(N+S)*W.m+V,s=(C+S)*y.m+g;for(var z=0;z<w;z++,I++,s++){if((v.l.mH(I)&16777215)<l){e[s]=i&e[s]|Z&U[I]}}}};
v.l.azr=function(d,W,c,y,B,r,x){var Z=1/255,i=W.nK(y).nK(r),k=Math.max(0,i.x-W.x),H=Math.max(0,i.x-y.x),V=Math.max(0,i.y-W.y),g=Math.max(0,i.y-y.y),N=i.m,C=i.i,w=new Uint32Array(d.buffer),Y=new Uint32Array(c.buffer),U=v.l.RT;
for(var S=0;S<C;S++){var e=(V+S)*W.m+k,O=(g+S)*y.m+H;for(var l=0;l<N;l++,e++,O++){var I=B[e]*x&255;if(I==0)continue;
if(I==255){Y[O]=w[e];continue}var s=w[e],z=Y[O],R=s>>>24,t=z>>>24,a=v.iO(I*R+(255-I)*t),J=v.iO(R*I),F=v.iO(t*(255-I)),h=s&255,m=s>>>8&255,D=s>>>16&255,_=z&255,n=z>>>8&255,j=z>>>16&255,T=U[a<<8|v.iO(J*h+_*F)],L=U[a<<8|v.iO(J*m+n*F)],p=U[a<<8|v.iO(J*D+j*F)];
Y[O]=a<<24|p<<16|L<<8|T}}};v.l.a62=function(d,W,c,y,B,r,x){var Z=1/255,i=W.nK(y).nK(r),k=Math.max(0,i.x-W.x),H=Math.max(0,i.x-y.x),V=Math.max(0,i.y-W.y),g=Math.max(0,i.y-y.y),N=i.m,C=i.i,w=new Uint32Array(d.buffer),Y=new Uint32Array(c.buffer),U=v.l.RT,e=Math.round(x*257);
for(var S=0;S<C;S++){var O=(V+S)*W.m+k,l=(g+S)*y.m+H;for(var I=0;I<N;I++,O++,l++){var s=B[O]*e;if((v.l.mH(O)&65535)<s)Y[l]=w[O]}}};
v.l.a2h=function(d,W,c,y,B,r,x){var Z=1/255,i=W.nK(y).nK(r),k=Math.max(0,i.x-W.x),H=Math.max(0,i.x-y.x),V=Math.max(0,i.y-W.y),g=Math.max(0,i.y-y.y),N=i.m,C=i.i,w=new Uint32Array(d.buffer),Y=new Uint32Array(c.buffer),U=Math.floor(Math.random()*y.P()),e=v.l.atm;
for(var S=0;S<C;S++){var O=(V+S)*W.m+k,l=(g+S)*y.m+H;for(var I=0;I<N;I++){var s=B[O+I]*x;if(s==0)continue;
if(s==255){Y[l+I]=w[O+I];continue}var z=w[O+I],R=Y[l+I],t=z>>>24,a=R>>>24,J=t*s*(1/255),F=a*(255-s)*(1/255),h=z&255,m=z>>>8&255,D=z>>>16&255,_=R&255,n=R>>>8&255,j=R>>>16&255,T=v.l.mH(l+I+U),L=Math.floor((J+F)*256+.5)+(T>>>0&255)>>>8,p=L==0?0:256/(J+F),E=h*J+_*F,G=m*J+n*F,A=D*J+j*F,u=Math.floor(E*p+.5)+(T>>>8&255)>>>8,q=Math.floor(G*p+.5)+(T>>>16&255)>>>8,o=Math.floor(A*p+.5)+(T>>>24&255)>>>8;
Y[l+I]=L<<24|o<<16|q<<8|u}}};v.l.atm=function(d){return Math.floor(d+Math.random())};v.l.D7=function(d,W,c,y,B,r,x){var Z=1/255,i=W.nK(y).nK(r),k=Math.max(0,i.x-W.x),H=Math.max(0,i.x-y.x),V=Math.max(0,i.y-W.y),g=Math.max(0,i.y-y.y),N=i.m,C=i.i;
for(var S=0;S<C;S++){var w=(V+S)*W.m+k,Y=(g+S)*y.m+H;for(var U=0;U<N;U++,w++,Y++){var e=x*B[w]*Z;if(e==0)continue;
if(e==1){c[Y]=d[w];continue}c[Y]=d[w]*e+c[Y]*(1-e)}}};v.anM=function(){function d(r){var x=r*.85;return Math.exp(-(x*x)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function W(r,x){var Z=r<x?1:d((r-x)/Math.pow(1.001-x,.86));
return Z}var c=[];function y(r){if(c[r])return c[r];var x=Math.pow(r,.55),Z=new Float64Array(8e3),i=0,k=8e3;
for(var S=0;S<8e3;S++){var H=W(S*(1.55/4e3),x);if(H>=1)i=S;else if(H<=0&&k==8e3)k=S;Z[S]=H}var V=[Z,i,k];
c[r]=V;return V}function B(r,x,Z){if(r<4)x=1;var i=1+.55*(1-x),k=Math.round(Z*r*i)+2,H=new a8(0,0,k,k),V=v.R(k*k),g=[V,H],N=k/2,C=i/(N-1);
if(r==2)C*=2;if(r==3)C*=1.6;var w=Date.now(),Y=y(x),U=Math.round(8e3/N),e=Y[0],O=Y[1]-U,l=Y[2]+U,I=Math.min(k,k+1>>>1),s=C*.4*(4e3/1.55),z=v.R(8e3);
for(var S=0;S<8e3;S++){var R=S,t=S,a=~~Math.max(0,R-s-s),J=~~Math.max(0,R-s),F=~~Math.min(7999,R+s),h=~~Math.min(7999,R+s+s),m=~~(.5+255*(1/5)*(e[t]+e[a]+e[J]+e[F]+e[h]));
z[S]=m;if(m==0)break}for(var S=0;S<I;S++){var D=C*(S-N+.5),_=D*D,n=S*k,j=(k-1-S)*k;for(var T=0;T<I;T++){var L=C*(T-N+.5),t=~~(Math.sqrt(L*L+_)*(4e3/1.55));
if(l<t)continue;else if(t<O){var m=255;while(T<I){var p=k-1-T;V[n+T]=m;V[n+p]=m;V[j+T]=m;V[j+p]=m;T++}break}else{var m=z[t],p=k-1-T;
V[n+T]=m;V[n+p]=m;V[j+T]=m;V[j+p]=m}}}return g}return{abA:B}}();v.__={};v.__.aiA=function(d,W,c,y,B,r){v.__.ff(d,W,c,y,B,r,null,0)};
v.__.awJ=function(d,W,c,y,B){v.__.ff(d,W,c,y,B,null,null,0)};v.__.aAD=function(d,W,c,y,B,r,x){v.__.ff(d,W,c,y,B,null,r,x*.5)};
v.__.ff=function(d,W,c,y,B,r,x,Z){var i=0,F=0,h=1e9,m=0,D=1e9,_=0,n=1e9,j=0,T=0,L=0,p=0;if(r){i=B*.5;
B=3+Math.round((B-3)*.75)}if(x){B=Math.round(B*2.2)}var k=1/B,H=Math.floor(W*k)+1,V=Math.floor(c*k)+1,g=[],N=new Uint8Array(H*V*4),C=x?.5:1,w=r?64:0;
for(var Y=0;Y<V;Y++){var U=x?.5*(Y&1):0;for(var e=0;e<H;e++){var O=(e+Math.random()*C+U)*B,l=(Y+Math.random()*C)*B;
g.push(O,l);var I=Math.min(W-1,Math.floor(O)),s=Math.min(c-1,Math.floor(l)),z=(s*W+I)*4,R=(Y*H+e)*4;
for(var S=0;S<4;S++)N[R+S]=Math.max(0,Math.min(255,Math.floor(d[z+S]+(Math.random()-.5)*w)))}}var t=r?r:x?x:[0,0,0],a=H*V*2,J=[-H-1,-H,-H+1,-1,0,1,H-1,H,H+1];
for(var Y=0;Y<c;Y++){L=0;for(var e=0;e<W;e++){var E=e+.5,G=Y+.5,A=Math.floor(G*k),u=Math.floor(E*k),q=A*H+u,$=0,Q=0;
if(L>1+Z){h=v.__.aqq(g,F,E,G);j=Math.sqrt(h);L--;p++}else{h=D=n=1e9;for(var S=0;S<J.length;S++){var o=(q+J[S])*2;
if(o<0||o>=a)continue;var M=v.__.aqq(g,o,E,G);if(M<n){if(M<D){if(M<h){_=m;n=D;m=F;D=h;F=o;h=M}else{_=m;
n=D;m=o;D=M}}else{_=o;n=M}}}j=Math.sqrt(h);T=Math.sqrt(D);L=T-(j+T)*.5}if(x==null){var kF=(j+T)*.5,P=r?Math.max(0,kF-i):0;
$=Math.max(0,Math.min(1,.5+kF-j-P));Q=Math.max(0,Math.min(1,1-(.5+kF-j)-P))}else{var bM=Math.min(v.__.alY(g,F,m,E,G),v.__.alY(g,F,_,E,G));
$=Math.max(0,Math.min(1,bM-Z*.5));if(E<Z||W-Z<E||G<Z||c-Z<G)$=0;Q=0}var jW=1-Q-$,R=Y*W+e<<2,fX=F<<1,bX=m<<1;
y[R+0]=Math.floor(.5+$*N[fX+0]+Q*N[bX+0]+jW*t[0]);y[R+1]=Math.floor(.5+$*N[fX+1]+Q*N[bX+1]+jW*t[1]);
y[R+2]=Math.floor(.5+$*N[fX+2]+Q*N[bX+2]+jW*t[2]);y[R+3]=d[R+3]}}};v.__.aqq=function(d,W,c,y){var B=c-d[W],r=y-d[W+1];
return B*B+r*r};v.__.alY=function(d,W,c,y,B){var r=d[W],x=d[W+1],Z=d[c],i=d[c+1],k=(r+Z)*.5,H=(x+i)*.5,V=k+(i-x),g=H-(Z-r),N=g-H,C=V-k;
return Math.abs(N*y-C*B+V*H-g*k)/Math.sqrt(C*C+N*N)};v.yG={};v.yG.Uj=function(d){if(v.yG.d3.length<d)v.yG.d3=v.R(d);
return v.yG.d3};v.yG.d3=v.R(0);v.yG.aaV=function(d){if(v.yG.jg.length<d)v.yG.jg=new Float32Array(d);
return v.yG.jg};v.yG.jg=new Float32Array(0);v.yG.GH=function(d,W,c,y){var B=c.m,r=c.i;v.yG.aoS(d,W,B,r,y)};
v.yG.aM=function(d,W,c,y){var B=c.m,r=c.i;v.yG.akK(d,W,B,r,y)};v.yG.aDn=function(d,W,c){var y=W.m,B=W.i;
v.yG.apG(d,y,B,c)};v.yG.Fg=function(d,W,c,y){var B=W.m,r=W.i;v.yG.ahL(d,B,r,c,y)};v.yG.are=function(d,W,c,y){var B=c.m,r=c.i;
y=Math.round(y);var x=v.yG.Uj(B*r);v.PY(d,W);v.yG.X1(W,x,B,r,y)};v.yG.GF=function(d,W,c){var y=W.m,B=W.i;
c=Math.round(c);var r=v.yG.Uj(y*B*4);v.yG.zx(d,r,y,B,c)};v.yG.aAt=function(d,W,c){var y=W.m,B=W.i;c=Math.round(c);
v.yG.a7X(d,v.yG.aaV(y*B),y,B,c)};v.yG.an5=function(d,W,c){var y=W.m,B=W.i;c=Math.round(c);var r=v.yG.Uj(y*B*4);
v.yG.aAG(d,r,y,B,c);v.PY(r,d)};v.yG.mu=function(d,bd){var W=Math.sqrt(12*d*d/bd+1),c=Math.floor(W);if(c%2==0)c--;
var y=c+2,B=(12*d*d-bd*c*c-4*bd*c-3*bd)/(-4*c-4),r=Math.round(B),x=[];for(var S=0;S<bd;S++)x.push(S<r?c:y);
return x};v.yG.aoS=function(d,W,c,y,B){var r=v.yG.mu(B,3),x=v.yG.Uj(c*y);v.PY(d,W);v.yG.X1(W,x,c,y,r[0]-1>>1);
v.yG.X1(W,x,c,y,r[1]-1>>1);v.yG.X1(W,x,c,y,r[2]-1>>1)};v.yG.akK=function(d,W,c,y,B){var r=v.yG.mu(B,2),x=v.yG.Uj(c*y);
v.PY(d,W);v.yG.X1(W,x,c,y,r[0]-1>>1);v.yG.X1(W,x,c,y,r[1]-1>>1)};v.yG.apG=function(d,W,c,y){var B=v.yG.mu(y,3),r=v.yG.Uj(W*c*4);
v.yG.zx(d,r,W,c,B[0]-1>>1);v.yG.zx(d,r,W,c,B[1]-1>>1);v.yG.zx(d,r,W,c,B[2]-1>>1)};v.yG.ahL=function(d,W,c,y,B){if(B==null)B=3;
var r=v.yG.mu(y,B),x=v.yG.aaV(W*c);for(var S=0;S<B;S++)v.yG.a7X(d,x,W,c,(r[S]-1)/2)};v.yG.X1=function(d,W,c,y,B){v.yG.ajm(d,W,c,y,B);
v.yG.awg(W,d,c,y,B)};v.yG.zx=function(d,W,c,y,B){v.yG.aAG(d,W,c,y,B);v.yG.awq(W,d,c,y,B)};v.yG.a7X=function(d,W,c,y,B){v.yG.awW(d,W,c,y,B);
v.yG.acF(W,d,c,y,B)};v.yG.tL=[];v.yG.jM=function(d){if(v.yG.tL[d])return v.yG.tL[d];var W=1/(d+d+1),c=(d+d+1)*256,y=v.R(c);
for(var S=0;S<c;S++)y[S]=Math.round(S*W);v.yG.tL[d]=y;return y};v.yG.ajm=function(d,W,c,y,B){var r=1/(B+B+1),x=c-B-B-1,Z=v.yG.jM(B);
for(var S=0;S<y;S++){var i=S*c,k=i,H=i+B,V=d[i],g=d[i+c-1],N=(B+1)*V;for(var C=0;C<B;C++)N+=d[i+C];for(var C=0;
C<=B;C++){N+=d[H+C]-V;W[i+C]=Z[N]}H+=B+1;i+=B+1;for(var C=0;C<x;C++){N+=d[H+C]-d[k+C];W[i+C]=Z[N]}H+=x;
k+=x;i+=x;for(var C=c-B;C<c;C++){N+=g-d[k++];W[i++]=Z[N]}}};v.yG.aAG=function(d,W,c,y,B){var r=c<<2,x=B<<2,Z=1/(B+B+1),i=c-B-B-1,k=i<<2,H=v.yG.jM(B);
for(var S=0;S<y;S++){var V=S*r,g=V,N=V+x,C=V+r,w=d[V],Y=d[V+1],U=d[V+2],e=d[V+3],O=(B+1)*w,l=(B+1)*Y,I=(B+1)*U,s=(B+1)*e;
for(var z=0;z<x;z+=4){O+=d[V+z];l+=d[V+z+1];I+=d[V+z+2];s+=d[V+z+3]}for(var z=0;z<=x;z+=4){O+=d[N]-w;
W[V]=H[O];l+=d[N+1]-Y;W[V+1]=H[l];I+=d[N+2]-U;W[V+2]=H[I];s+=d[N+3]-e;W[V+3]=H[s];N+=4;V+=4}for(var z=0;
z<k;z+=4){O+=d[N+z]-d[g+z];W[V+z]=H[O];l+=d[N+z+1]-d[g+z+1];W[V+z+1]=H[l];I+=d[N+z+2]-d[g+z+2];W[V+z+2]=H[I];
s+=d[N+z+3]-d[g+z+3];W[V+z+3]=H[s]}N+=k;g+=k;V+=k;w=d[C-4];Y=d[C-3];U=d[C-2];e=d[C-1];for(var z=c-B;
z<c;z++){O+=w-d[g];W[V]=H[O];l+=Y-d[g+1];W[V+1]=H[l];I+=U-d[g+2];W[V+2]=H[I];s+=e-d[g+3];W[V+3]=H[s];
g+=4;V+=4}}};v.yG.awW=function(d,W,c,y,B){var r=1/(B+B+1),x=c-B-B-1;for(var S=0;S<y;S++){var Z=S*c,i=Z,k=Z+B,H=d[Z],V=d[Z+c-1],g=(B+1)*H;
for(var N=0;N<B;N++)g+=d[Z+N];for(var N=0;N<=B;N++){g+=d[k+N]-H;W[Z+N]=g*r}k+=B+1;Z+=B+1;for(var N=0;
N<x;N++){g+=d[k+N]-d[i+N];W[Z+N]=g*r}k+=x;i+=x;Z+=x;for(var N=c-B;N<c;N++){g+=V-d[i++];W[Z++]=g*r}}};
v.yG.awg=function(d,W,c,y,B){var r=1/(B+B+1),x=y-B-B-1,Z=v.yG.jM(B);for(var S=0;S<c;S++){var i=S,k=i,H=i+B*c,V=d[i],g=d[i+c*(y-1)],N=(B+1)*V;
for(var C=0;C<B;C++)N+=d[i+C*c];for(var C=0;C<=B;C++){N+=d[H]-V;W[i]=Z[N];H+=c;i+=c}for(var C=0;C<x;
C++){var w=C*c;N+=d[H+w]-d[k+w];W[i+w]=Z[N]}k+=x*c;H+=x*c;i+=x*c;for(var C=y-B;C<y;C++){N+=g-d[k];W[i]=Z[N];
k+=c;i+=c}}};v.yG.awq=function(d,W,c,y,B){var r=c<<2,x=B<<2,Z=1/(B+B+1),i=y-B-B-1,k=i<<2,H=v.yG.jM(B);
for(var S=0;S<c;S++){var V=S<<2,g=V,N=V+B*r,C=V+r*(y-1),w=d[V],Y=d[V+1],U=d[V+2],e=d[V+3],O=(B+1)*w,l=(B+1)*Y,I=(B+1)*U,s=(B+1)*e;
for(var z=0;z<B;z++){var R=V+z*r;O+=d[R];l+=d[R+1];I+=d[R+2];s+=d[R+3]}for(var z=0;z<=B;z++){O+=d[N]-w;
W[V]=H[O];l+=d[N+1]-Y;W[V+1]=H[l];I+=d[N+2]-U;W[V+2]=H[I];s+=d[N+3]-e;W[V+3]=H[s];N+=r;V+=r}for(var z=0;
z<i;z++){var t=z*r;O+=d[N+t]-d[g+t];W[V+t]=H[O];l+=d[N+t+1]-d[g+t+1];W[V+t+1]=H[l];I+=d[N+t+2]-d[g+t+2];
W[V+t+2]=H[I];s+=d[N+t+3]-d[g+t+3];W[V+t+3]=H[s]}g+=i*r;N+=i*r;V+=i*r;w=d[C];Y=d[C+1];U=d[C+2];e=d[C+3];
for(var z=y-B;z<y;z++){O+=w-d[g];W[V]=H[O];l+=Y-d[g+1];W[V+1]=H[l];I+=U-d[g+2];W[V+2]=H[I];s+=e-d[g+3];
W[V+3]=H[s];g+=r;V+=r}}};v.yG.acF=function(d,W,c,y,B){var r=1/(B+B+1),x=y-B-B-1;for(var S=0;S<c;S++){var Z=S,i=Z,k=Z+B*c,H=d[Z],V=d[Z+c*(y-1)],g=(B+1)*H;
for(var N=0;N<B;N++)g+=d[Z+N*c];for(var N=0;N<=B;N++){g+=d[k]-H;W[Z]=g*r;k+=c;Z+=c}for(var N=0;N<x;N++){var C=N*c;
g+=d[k+C]-d[i+C];W[Z+C]=g*r}i+=x*c;k+=x*c;Z+=x*c;for(var N=y-B;N<y;N++){g+=V-d[i];W[Z]=g*r;i+=c;Z+=c}}};
v.pK={};v.pK.R=function(d,W,c,y){var B=[];for(var r=0;r<4;r++)for(var x=0;x<4;x++)B.push(d+c*x/3,W+y*r/3);
return B};v.pK.ay_=function(d,W){var c=d.slice(0);for(var S=0;S<4;S++)for(var y=0;y<4;y++){var B=2*(S*4+y),r=2*(y*4+(3-S));
if(W){var x=B;B=r;r=x}c[r]=d[B];c[r+1]=d[B+1]}return c};v.pK.zy=v.R(0);v.pK.drawImage=function(d,W,c,y,B,r,x){var Z=!1,i=Date.now(),k=2,H=c+2*k,V=y+2*k,g=new a8(k,k,c,y),N=g.clone();
N.Lx(k,k);var C=v.pK.zy;if(C.length!=N.P()*4)C=v.pK.zy=v.R(N.P()*4);else C.fill(0);v.qR(W,g,C,N);if(Z)console.log(Date.now()-i,"copy rect");
i=Date.now();v.Ew(C);if(Z)console.log(Date.now()-i,"multiply alpha");i=Date.now();var w=Math.max(c,y),Y=Math.round(50*c/w),U=Math.round(Math.sqrt(3)*.5*50*y/w),e=Y-.5,O=[],l=[],I=[];
for(var s=0;s<U+1;s++){var z=(s&1)==0;for(var R=0;R<Y+1;R++){var t=(R-(z?.5:0))/e,a=s/U;if(R==0)t=0;
if(R==Y)t=1;O.push(H*t,V*a);if(R<Y&&s<U){var J=s*(Y+1)+R,F=J+1,h=J+Y+1,m=h+1;if(z)l.push(J,F,h,h,F,m);
else l.push(J,F,m,J,m,h)}var D=v.pK.a7R(d,t,a);I.push(-D)}}var _=O.slice(0);v.pK.e(d,_,g);v.A.e(_,new dT(1,0,0,1,-r.x,-r.y),_);
if(Z)console.log(Date.now()-i,"mesh built");i=Date.now();var n=r.m,j=r.i;v.HF.J5(C,H,V,B,n,j,O,_,I,l,x);
if(Z)console.log(Date.now()-i,"rendered");i=Date.now();v.nF(B);if(Z)console.log(Date.now()-i,"divided");
i=Date.now()};v.pK.q8=new Array(10);v.pK.LX=function(d,W){var c=200,y=0,B=0,r=1e9,x=v.pK.q8;for(var Z=0;
Z<c+1;Z++)for(var i=0;i<c+1;i++){var k=i/c,H=Z/c;v.pK.ab_(d,k,H,x);var V=x[8]-W.x,g=x[9]-W.y,N=V*V+g*g;
if(N<r){r=N;y=k;B=H}}return[y,B]};v.pK.e=function(d,W,c){var y=c.x,B=c.y,r=1/c.m,x=1/c.i,Z=v.pK.q8;for(var i=0;
i<W.length;i+=2){var k=(W[i]-y)*r,H=(W[i+1]-B)*x;v.pK.ab_(d,k,H,Z);W[i]=Z[8];W[i+1]=Z[9]}};v.pK.a7R=function(d,W,c){var y,B,r,x,Z=v.pK.q8;
v.pK.aqj(d,W,c,Z);y=Z[8];B=Z[9];v.pK.aDz(d,W,c,Z);r=Z[8];x=Z[9];return y*x-B*r};v.pK.lN=function(d,W,c){var y=0,B=0,r=d[2][0],x=d[2][1];
while(y+2<r.length&&r[y+1]<W)y++;W=(W-r[y])/(r[y+1]-r[y]);while(B+2<x.length&&x[B+1]<c)B++;c=(c-x[B])/(x[B+1]-x[B]);
return[y*3,B*3,W,c]};v.pK.ab_=function(d,W,c,y){var B=v.pK.lN(d,W,c);v.pK.nb(y,0,B[3]);v.pK.nb(y,4,B[2]);
v.pK.zG(d[3],B[0],B[1],d[0],y)};v.pK.aqj=function(d,W,c,y){var B=v.pK.lN(d,W,c);v.pK.nb(y,0,B[3]);v.pK.ajF(y,4,B[2]);
v.pK.zG(d[3],B[0],B[1],d[0],y)};v.pK.aDz=function(d,W,c,y){var B=v.pK.lN(d,W,c);v.pK.ajF(y,0,B[3]);v.pK.nb(y,4,B[2]);
v.pK.zG(d[3],B[0],B[1],d[0],y)};v.pK.ajF=function(d,S,W){var c=1-W;d[S]=-3*(c*c);d[S+1]=3*(c*c)-6*(W*c);
d[S+2]=6*(W*c)-3*(W*W);d[S+3]=3*(W*W)};v.pK.nb=function(d,S,W){var c=1-W;d[S]=c*(c*c);d[S+1]=3*W*(c*c);
d[S+2]=3*(W*W)*c;d[S+3]=W*W*W};v.pK.ava=function(d,W,c,y,B){var r=v.pK.lN(d,W,c),x=r[0],Z=r[1],i=r[2],k=r[3],H=d[0],V=Math.floor(i*3),g=Math.floor(k*3),N=v.pK.q8,C=16,z=0;
v.pK.nb(N,0,k);v.pK.nb(N,4,i);var w=[],Y=[],U=[];for(var e=0;e<4;e++){for(var O=0;O<4;O++){var S=e*4+O,l=N[e]*N[4+O];
w.push(l);Y.push((Z+e)*H+x+O);if((e==g||e==g+1)&&(O==V||O==V+1)){var I=i*3-V;if(O==V)I=1-I;var s=k*3-g;
if(e==g)s=1-s;U[S]=I*s/l}else U[S]=0}}for(var S=0;S<C;S++)z+=w[S]*U[S];for(var S=0;S<C;S++)U[S]/=z;for(var S=0;
S<C;S++){var l=w[S],R=Y[S];d[3][R*2]+=U[S]*y;d[3][R*2+1]+=U[S]*B}};v.pK.VT=function(d){var W=d[0],c=d[1],y=d[2],B=d[3],r=B.slice(0);
for(var x=0;x<c;x++)for(var Z=0;Z<W;Z++){B[(Z*c+x)*2]=r[(x*W+Z)*2];B[(Z*c+x)*2+1]=r[(x*W+Z)*2+1]}d[0]=c;
d[1]=W;d[2]=[y[1],y[0]]};v.pK.split=function(d,W,c){if(W==1)v.pK.VT(d);var y=d[0],B=d[1],r=d[2][0],x=d[3],Z=0;
while(r[Z+1]&&r[Z+1]<c)Z++;var i=(c-r[Z])/(r[Z+1]-r[Z]),k=1-i;for(var H=0;H<B;H++){var S=(H*(y+3)+Z*3)*2,V=k*x[S]+i*x[S+2],g=k*x[S+1]+i*x[S+3],N=k*x[S+2]+i*x[S+4],C=k*x[S+3]+i*x[S+5],w=k*x[S+4]+i*x[S+6],Y=k*x[S+5]+i*x[S+7],U=k*V+i*N,e=k*g+i*C,O=k*N+i*w,l=k*C+i*Y,I=k*U+i*O,s=k*e+i*l;
x.splice(S+2,4,V,g,U,e,I,s,O,l,w,Y)}r.push(c);r.sort();d[0]+=3;if(W==1)v.pK.VT(d)};v.pK.zG=function(d,W,c,y,B){var r=0,x=0,Z=0,i=B[0],k=B[1],H=B[2],V=B[3],g=B[4],N=B[5],C=B[6],w=B[7],S=(c*y+W)*2;
Z=i*g;r+=d[S+0]*Z;x+=d[S+1]*Z;Z=i*N;r+=d[S+2]*Z;x+=d[S+3]*Z;Z=i*C;r+=d[S+4]*Z;x+=d[S+5]*Z;Z=i*w;r+=d[S+6]*Z;
x+=d[S+7]*Z;S+=y+y;Z=k*g;r+=d[S+0]*Z;x+=d[S+1]*Z;Z=k*N;r+=d[S+2]*Z;x+=d[S+3]*Z;Z=k*C;r+=d[S+4]*Z;x+=d[S+5]*Z;
Z=k*w;r+=d[S+6]*Z;x+=d[S+7]*Z;S+=y+y;Z=H*g;r+=d[S+0]*Z;x+=d[S+1]*Z;Z=H*N;r+=d[S+2]*Z;x+=d[S+3]*Z;Z=H*C;
r+=d[S+4]*Z;x+=d[S+5]*Z;Z=H*w;r+=d[S+6]*Z;x+=d[S+7]*Z;S+=y+y;Z=V*g;r+=d[S+0]*Z;x+=d[S+1]*Z;Z=V*N;r+=d[S+2]*Z;
x+=d[S+3]*Z;Z=V*C;r+=d[S+4]*Z;x+=d[S+5]*Z;Z=V*w;r+=d[S+6]*Z;x+=d[S+7]*Z;S+=y+y;B[8]=r;B[9]=x};v.KF={};
v.KF.amr=function(d,W,c){var y=Date.now(),B=new ArrayBuffer(W*c*16),r=v.KF.awo(d,W,c,B),x=v.KF.a33(W,c,B);
return{gP:x,vh:r}};v.KF.alQ=function(d,W,c){var y=Math.round(d.length/8),B=new Uint32Array(y),r=new Uint8Array(y),x=new Uint32Array(y);
v.ft(B,4294967295,0);B[c]=0;var Z=new fj(y);Z.push(c,B[c]);var i={gP:d,vh:W,At:B,cl:r,Cw:x,ns:Z,ab$:c};
return i};v.KF.$r=function(d,W){var c=d.gP,y=d.vh,B=d.At,r=d.cl,x=d.Cw,Z=d.ns;while(!Z.Bb()&&(W==null||r[W]==0)){var i=Z.pop();
r[i]=1;for(var S=0;S<8;S++){var k=c[8*i+S],H=i+k;if(k==0||r[H])continue;var V=B[i]+y[8*i+S];if(Z.contains(H)&&V<B[H])Z.remove(H,B[H]);
if(!Z.contains(H)){B[H]=V;x[H]=i;Z.push(H,B[H])}}}};function fj(d){this.vp=new Uint32Array(d);this.list=[];
this.gM=0;this.fb=4294967295}fj.prototype.Bb=function(){return this.gM==0};fj.prototype.push=function(d,W){var c=this.list;
if(c[W]==null)c[W]=[];c[W].push(d);this.gM++;this.vp[d]=c[W].length-1+1;this.fb=Math.min(this.fb,W)};
fj.prototype.pop=function(){this.gM--;var d=this.list,W=this.fb,c=d[W].pop();if(d[W].length==0)d[W]=null;
this.arf();this.vp[c]=0;return c};fj.prototype.contains=function(d){return this.vp[d]!=0};fj.prototype.remove=function(d,W){this.gM--;
var c=this.list,S=this.vp[d]-1;if(S==c[W].length-1)c[W].pop();else{var y=c[W].pop();c[W][S]=y;this.vp[y]=S+1}if(c[W].length==0)c[W]=null;
this.vp[d]=0;this.arf()};fj.prototype.arf=function(){if(this.gM==0){this.fb=4294967295;return}var d=this.fb,W=this.list;
while(W[d]==null)d++;this.fb=d};v.KF.azC=function(d,W,c,y){var B=new Int16Array(y);for(var r=0;r<c;r++)for(var x=0;
x<W;x++){var S=r*W+x,Z=0;if(1<x&&x<W-2&&1<r&&r<c-2){Z+=d[S-W-W];Z+=d[S-W-1]+2*d[S-W]+d[S-W+1];Z+=d[S-2]+2*d[S-1]-16*d[S]+2*d[S+1]+d[S+2];
Z+=d[S+W-1]+2*d[S+W]+d[S+W+1];Z+=d[S+W+W]}else Z=-16*d[S];B[S]=Z}return B};v.KF.afr=function(d,W,c,y){if(y==null)y=128;
var B=new Uint8Array(W*c);for(var r=1;r<c-1;r++)for(var x=1;x<W-1;x++){var S=r*W+x;B[S]=v.KF.apd(d[S],d[S-1],d[S+1],d[S-W],d[S+W],y)}return B};
v.KF.apd=function(d,W,c,y,B,r){var x=Math.abs(d);return d*W<0&&x<Math.abs(W)&&Math.abs(W-d)>r||d*c<0&&x<Math.abs(c)&&Math.abs(c-d)>r||d*y<0&&x<Math.abs(y)&&Math.abs(y-d)>r||d*B<0&&x<Math.abs(B)&&Math.abs(B-d)>r?1:0};
v.KF.a0h=function(d,W,c,y){var B=new Float32Array(y),r=0;new Uint32Array(y).fill(0);for(var x=0;x<c;
x++)for(var Z=0;Z<W;Z++){var i=0,k=0,S=x*W+Z,H=S*3;if(0<Z&&Z<W-1)i=d[S+1]-d[S-1];if(0<x&&x<c-1)k=d[S+W]-d[S-W];
var V=B[H+2]=Math.sqrt(i*i+k*k);if(V!=0){var g=1/V;B[H]=i*g;B[H+1]=k*g}if(V>r)r=V}var N=W*c,C=r==0?0:1/r;
for(var S=0;S<N;S++)B[S*3+2]=1-B[S*3+2]*C;return B};v.KF.aeR=function(d,W,c){return c[~~((.5+.5*d)*255)]+c[~~((.5+.5*W)*255)]};
v.KF.awo=function(d,W,c,y){var B=Date.now(),r=v.KF.azC(d,W,c,y),x=v.KF.afr(r,W,c),Z=v.KF.a0h(d,W,c,y),i=new Float32Array(256);
for(var S=0;S<256;S++)i[S]=Math.acos(-1+2*S/255)*(.95/Math.PI);var k=[-1,0,1,1,1,0,-1,-1],H=[-1,-1,-1,0,1,1,1,0];
for(var S=0;S<8;S++){var V=1/Math.sqrt(k[S]*k[S]+H[S]*H[S]);k[S]*=V;H[S]*=V}var g=[k[0],H[0],k[1],H[1],k[2],H[2],k[3],H[3]],N=[-W-1,-W,-W+1,1],C=new Uint8Array(W*c*8);
new Uint32Array(C.buffer).fill(4294967295);var w=W*c;for(var Y=1;Y<c-1;Y++)for(var U=1;U<W-1;U++){var e=Y*W+U,O=1-x[e],l=Z[e*3+2],I=Z[3*e+1],s=-Z[3*e];
for(var z=0;z<4;z++){var R=e+N[z];v.KF.a3l(e,R,z,C,x,Z,O,l,I,s,g,i)}}return C};v.KF.a3l=function(d,W,c,y,B,r,x,Z,i,k,H,V){var g=1-B[W],N=(c&1)==0?1:Math.SQRT1_2,C=r[W*3+2]*N,w=r[3*W+1],Y=-r[3*W],U=Z*N,e=H[c+c],O=H[c+c+1],l=i*e+k*O,I=w*e+Y*O;
if(l+I<0){l=-l;I=-I}var s=v.KF.aeR(l,I,V);y[(d<<3)+c]=v.KF.aeP(g,s,C);y[(W<<3)+c+4]=v.KF.aeP(x,s,U)};
v.KF.aeP=function(d,W,c){return 1+~~(.5+20*(.43*d+.43*W+.14*c))};v.KF.a33=function(d,W,c){var y=new Int16Array(c),B=y,S=0,r=0;
new Uint32Array(c).fill(0);for(var x=0;x<W;x++)for(var Z=0;Z<d;Z++){if(x>0&&Z>0)B[r+0]=-d-1;if(x>0)B[r+1]=-d;
if(x>0&&Z<d-1)B[r+2]=-d+1;if(Z<d-1)B[r+3]=1;if(x<W-1&&Z<d-1)B[r+4]=d+1;if(x<W-1)B[r+5]=d;if(x<W-1&&Z>0)B[r+6]=d-1;
if(Z>0)B[r+7]=-1;S++;r+=8}return y};v.H$={};v.H$.Vp=function(d){var W=d.slice(0),c=0;for(var S=0;S<d.length;
S++)c+=d[S];for(var S=0;S<d.length;S++)W[S]/=c;return W};v.H$.t0=[v.H$.Vp([1,2,1,2,16,2,1,2,1]),v.H$.Vp([1,2,1,2,4,2,1,2,1]),v.H$.Vp([0,-1,0,-1,8,-1,0,-1,0]),v.H$.Vp([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
v.H$.sS=function(d,W,c,y,B,r,x,Z){if(x==null)x=!1;if(Z==null)Z=!1;var i=Math.floor(Math.sqrt(B.length)),k=i-1>>>1,H=new Uint32Array(d.buffer),W=new Uint8ClampedArray(W.buffer);
for(var S=0;S<y;S++)for(var V=0;V<c;V++){var g=0,N=0,C=0,w=0;for(var Y=0;Y<i;Y++)for(var U=0;U<i;U++){var e=B[Y*i+U];
if(e==0)continue;var O=V-k+U,l=S-k+Y;if(O<0)O=0;else if(O>c-1)O=c-1;if(l<0)l=0;else if(l>y-1)l=y-1;if(Z&&H[l*c+O]>>>24==0){l=S;
O=V}var I=H[l*c+O];g+=(I&255)*e;N+=(I>>>8&255)*e;C+=(I>>>16&255)*e;w+=(I>>>24&255)*e}if(x){if(g<0)g=-g;
if(N<0)N=-N;if(C<0)C=-C;if(w<0)w=-w}if(Z){g=Math.max(0,Math.min(255,g));N=Math.max(0,Math.min(255,N));
C=Math.max(0,Math.min(255,C));w=Math.max(0,Math.min(255,w))}var s=S*c+V<<2;W[s]=~~(.5+g);W[s+1]=~~(.5+N);
W[s+2]=~~(.5+C);W[s+3]=255-r&W[s+3]|r&~~(.5+w)}};v.H$.a8p=function(d,W,c,y){var B=d.length,r=new Uint8Array(B);
v.H$.sS(d,W,c,y,v.H$.t0[4],0,!0);v.H$.sS(d,r,c,y,v.H$.t0[5],0,!0);for(var S=0;S<B;S+=4){var x=W[S],Z=W[S+1],i=W[S+2],k=W[S+3],H=r[S],V=r[S+1],g=r[S+2],N=r[S+3];
W[S]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+H*H)));W[S+1]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+V*V)));
W[S+2]=255-Math.max(0,Math.min(255,Math.sqrt(i*i+g*g)))}};v.H$.a4W=function(d,W,c,y){var B=d.length,r=new Uint8Array(B);
v.H$.$d(d,W,c,y,v.H$.t0[4],!0);v.H$.$d(d,r,c,y,v.H$.t0[5],!0);for(var S=0;S<B;S++){var x=W[S],Z=r[S];
W[S]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+Z*Z)))}};v.H$.$d=function(d,W,c,y,B,r){W=new Uint8ClampedArray(W.buffer);
var x=[-c-1,-c,-c+1,-1,0,1,c-1,c,c+1],Z=y-1,i=c-1;for(var S=1;S<Z;S++)for(var k=1;k<i;k++){var H=S*c+k,V=v.H$.rZ(d,H,c,B);
if(r){if(V<0)V=-V}W[H]=~~(V+.5)}};v.H$.rZ=function(d,W,c,y){return d[W-c-1]*y[0]+d[W-c]*y[1]+d[W-c+1]*y[2]+d[W-1]*y[3]+d[W]*y[4]+d[W+1]*y[5]+d[W+c-1]*y[6]+d[W+c]*y[7]+d[W+c+1]*y[8]};
v.H$.ake=function(d,W,c,y,B){var r=[-c-1,-c,-c+1,-1,0,1,c-1,c,c+1],x=y-1,Z=c-1;for(var S=1;S<x;S++)for(var i=1;
i<Z;i++){var k=S*c+i;W[k]=v.H$.a5z(d,k,c,B)}};v.H$.a5z=function(d,W,c,y){return d[W-c-1]*y[0]+d[W-c]*y[1]+d[W-c+1]*y[2]+d[W-1]*y[3]+d[W]*y[4]+d[W+1]*y[5]+d[W+c-1]*y[6]+d[W+c]*y[7]+d[W+c+1]*y[8]};
v.MV={};v.MV.JY=function(){function d(x,Z,i,k,H,V){if(H==0){Z.set(x);return}var g=v.R(i*k),N=v.R(i*k);
if(v._Q(x)){W(x,Z,i,k,H,V);v.$P(x,g,3);v.MV.aBh(g,N,i,k,H,V);v.nP(N,Z,3)}else{for(var S=0;S<3;S++){v.$P(x,g,S);
v.MV.aBh(g,N,i,k,H,V);v.nP(N,Z,S)}}}function W(x,Z,i,k,H,V){var g=0,N=new ArrayBuffer(512*4*3),C=[new Int32Array(N,0),new Int32Array(N,2048),new Int32Array(N,2*2048)],w=1+2*Math.round(Math.sqrt(H)),Y=w>>>1,U=new Array(w),e=new Array(w);
for(var S=0;S<w;S++){var N=new ArrayBuffer(512*4*3);U[S]=[new Int32Array(N,0),new Int32Array(N,2048),new Int32Array(N,2*2048)];
e[S]=U[S][0]}var O=[v.MV.Rv,v.MV.$i][V],l=O[0],I=O[1],s=C[0];for(var z=0;z<i;z++)if(z<H||z>i-H-w-1){s.fill(0);
var R=Math.max(z-H,0),t=Math.min(i,z+H+1),a=t-R;for(var J=0;J<H;J++)y(s,x,J*i+R,J*i+t,1);for(var J=0;
J<k;J++){var F=J-H-1,h=J+H;if(h<k)y(s,x,h*i+R,h*i+t,1);if(F>=0)y(s,x,F*i+R,F*i+t,-1);var m=J*i+z<<2;
g=s[300];if(g!=0)for(var S=0;S<3;S++)Z[m+S]=l(C[S],x[m+S],g)}}else{for(var S=0;S<w;S++)e[S].fill(0);
var R=z-H+Y,t=z+H+1+Y;for(var J=0;J<H;J++)c(e,x,J*i+R,J*i+t,1,Y);for(var J=0;J<k;J++){var F=J-H-1,h=J+H;
if(F>=0)c(e,x,F*i+R,F*i+t,-1,Y);if(h<k)c(e,x,h*i+R,h*i+t,1,Y);var D=U[Y];g=D[0][300];for(var S=0;S<Y;
S++){var _=Y-1-S,n=Y+1+S,j=U[_],T=U[n],L=g+j[0][300],p=g+T[0][300],E=J*i+z+_<<2,G=J*i+z+n<<2;if(L!=0)for(var A=0;
A<3;A++)Z[E+A]=I(D[A],j[A],x[E+A],L);if(p!=0)for(var A=0;A<3;A++)Z[G+A]=I(D[A],T[A],x[G+A],p)}var m=J*i+z+Y<<2;
if(g!=0)for(var A=0;A<3;A++)Z[m+A]=l(D[A],x[m+A],g)}z+=w-1}}function c(x,Z,i,k,H,V){var g=B,N=i<<2,C=k<<2;
g(x[V-1],Z,i-1<<2,H);g(x[V-1],Z,k-1<<2,-H);g(x[V+1],Z,k<<2,H);g(x[V+1],Z,i<<2,-H);for(var S=1;S<V;S++){var w=x[V-S-1],Y=x[V+S+1];
for(var U=0;U<=S;U++){var e=U<<2;g(w,Z,i-1-U<<2,H);g(w,Z,k-1-U<<2,-H);g(Y,Z,k+U<<2,H);g(Y,Z,i+U<<2,-H)}}y(x[V],Z,i,k,H)}function y(x,Z,S,i,k){var H=S<<2,V=i<<2;
while(H<V){B(x,Z,H,k);H+=4}}function B(x,Z,i,k){var H=k*Z[i+3];x[300]+=H;r(x,Z[i],0,H);r(x,Z[i+1],512,H);
r(x,Z[i+2],1024,H)}function r(x,Z,i,k){x[i|Z]+=k;x[i|256|Z>>>4]+=k}return d}();v.MV.aBh=function(){function d(V,g,N,C,w,Y){if(w==0){g.set(V);
return}if(w<=200)W(V,g,N,C,w,Y);else r(V,g,N,C,w,Y)}function W(V,g,N,C,w,Y){var U=0,e=new Int32Array(512),O=1+2*Math.round(Math.sqrt(w)),l=O>>>1,I=new Array(O);
for(var S=0;S<O;S++)I[S]=new Int32Array(512);var s=[v.MV.Rv,v.MV.$i][Y],z=s[0],R=s[1];for(var t=0;t<N;
t++)if(t<w||t>N-w-O-1){e.fill(0);U=0;var a=Math.max(t-w,0),J=Math.min(N,t+w+1),F=J-a;for(var h=0;h<w;
h++){U+=F;y(e,V,h*N+a,h*N+J,1)}for(var h=0;h<C;h++){var m=h-w-1,D=h+w;if(m>=0){U-=F;y(e,V,m*N+a,m*N+J,-1)}if(D<C){U+=F;
y(e,V,D*N+a,D*N+J,1)}var _=z(e,V[h*N+t],U);g[h*N+t]=_}}else{for(var S=0;S<O;S++)I[S].fill(0);U=0;var a=t-w+l,J=t+w+1+l,F=J-a;
for(var h=0;h<w;h++){U+=F;c(I,V,h*N+a,h*N+J,1,l)}for(var h=0;h<C;h++){var m=h-w-1,D=h+w;if(m>=0){U-=F;
c(I,V,m*N+a,m*N+J,-1,l)}if(D<C){U+=F;c(I,V,D*N+a,D*N+J,1,l)}for(var S=0;S<l;S++){var n=l-1-S,j=l+1+S;
g[h*N+t+n]=R(I[l],I[n],V[h*N+t+n],U);g[h*N+t+j]=R(I[l],I[j],V[h*N+t+j],U)}g[h*N+t+l]=z(I[l],V[h*N+t+l],U)}t+=O-1}}function c(V,g,N,C,w,Y){var U=B;
U(V[Y-1],g[N-1],0,w);U(V[Y-1],g[C-1],0,-w);U(V[Y+1],g[C],0,w);U(V[Y+1],g[N],0,-w);for(var S=1;S<Y;S++){var e=V[Y-S-1],O=V[Y+S+1];
for(var l=0;l<=S;l++){U(e,g[N-1-l],0,w);U(e,g[C-1-l],0,-w);U(O,g[C+l],0,w);U(O,g[N+l],0,-w)}}y(V[Y],g,N,C,w)}function y(V,g,S,N,C){while(S<N)B(V,g[S++],0,C)}function B(V,g,N,C){V[N|g]+=C;
V[N|256|g>>>4]+=C}function r(V,g,N,C,w,Y){var U=0,e=new Int32Array(512),O=new Int32Array(1*N),l=new Int32Array(512*N),I=Math.min(w,N),s=Math.min(w,C),z=[v.MV.Rv,v.MV.$i][Y],R=z[0];
for(var t=0;t<s;t++)x(l,O,V,N,t,1);for(var t=0;t<C;t++){if(t+w<C)x(l,O,V,N,t+w,1);if(t-w-1>=0)x(l,O,V,N,t-w-1,-1);
e.fill(0);U=0;for(var a=0;a<I;a++){U+=O[a];Z(e,l,a)}for(var a=0;a<N;a++){var J=a-w-1,F=a+w;if(J>=0&&O[J]!=0){U-=O[J];
i(e,l,J)}if(F<N&&O[F]!=0){U+=O[F];Z(e,l,F)}var h=U==0?0:R(e,V[t*N+a],U);g[t*N+a]=h}}}function x(V,g,N,C,w,Y){var S=w*C;
for(var U=0;U<C;U++){B(V,N[S+U],U<<9,Y);g[U]+=Y}}function Z(V,g,N){for(var S=0;S<16;S++){var C=g[N<<9|256|S];
if(C==0)continue;V[256|S]+=C;var w=S<<4,Y=N<<9|w;k(V,g,w,Y);k(V,g,w+4,Y+4);k(V,g,w+8,Y+8);k(V,g,w+12,Y+12)}}function i(V,g,N){for(var S=0;
S<16;S++){var C=g[N<<9|256|S];if(C==0)continue;V[256|S]-=C;var w=S<<4,Y=N<<9|w;H(V,g,w,Y);H(V,g,w+4,Y+4);
H(V,g,w+8,Y+8);H(V,g,w+12,Y+12)}}function k(V,g,N,C){V[N]+=g[C];V[N+1]+=g[C+1];V[N+2]+=g[C+2];V[N+3]+=g[C+3]}function H(V,g,N,C){V[N]-=g[C];
V[N+1]-=g[C+1];V[N+2]-=g[C+2];V[N+3]-=g[C+3]}return d}();v.MV.vv=.5;v.MV.Rv=[function(d,W,c){var y=~~(.5+v.MV.vv*c),B=0,S=256;
while(B+d[S]<y)B+=d[S++];S=S-256<<4;while(B<y)B+=d[S++];return S-1},function(d,W,c,y){var B=~~(.5+v.MV.vv*y),r=0,S=256;
while(r+d[S]+W[S]<B){r+=d[S]+W[S];S++}S=S-256<<4;while(r<B){r+=d[S]+W[S];S++}return S-1}];v.MV.Fn=100;
v.MV.$i=[function(d,W,c){var y=v.MV.Fn,B=0,r=0,S=Math.max(0,W-y),x=Math.min(256,W+y+1);while(S<x){var Z=d[S];
B+=S*Z;r+=Z;S++}return r==0?0:B/r},function(d,W,c,y){var B=v.MV.Fn,r=0,x=0,S=Math.max(0,c-B),Z=Math.min(256,c+B+1);
while(S<Z){var i=d[S]+W[S];r+=S*i;x+=i;S++}return x==0?0:r/x}];v.D={};v.D.s2=function(d){var W=X.X.R6(d.Trnf),c=d.Sz.v,y=v.D.bO(W,new a8(0,0,c.Wdth.v,c.Hght.v));
return v.D.hM(y)};v.D.bO=function(d,W){var c=d[0],y=d[1],B=d[2],r=d[3],x=d[6],Z=d[7],i=d[4],k=d[5],H=0,V=0,g=1,N=0,C=0,w=1,Y=1,U=1;
if(W){H=W.x;V=W.y;g=W.x+W.m;N=W.y;C=W.x;w=W.y+W.i;Y=W.x+W.m;U=W.y+W.i}return v.D.ag0(d,[H,V,g,N,Y,U,C,w])};
v.D.afj=function(d){function W(r,x){for(var S=0;S<x.length;S+=2)if(!c(r,x[S],x[S+1]))return!1;return!0}function c(r,x,Z){return r[2*x]==r[2*Z]&&r[2*x+1]==r[2*Z+1]}var y=0;
if(W(d,[0,1,2,3]))y+=1;if(W(d,[0,3,1,2]))y+=2;return y};v.D.ag0=function(d,W){function c(_,S,n){var h=_[S*2]-_[n*2],m=_[S*2+1]-_[n*2+1];
return Math.sqrt(h*h+m*m)}var y=d[0],B=d[1],r=d[2],x=d[3],Z=d[6],i=d[7],k=d[4],H=d[5],V=W[0],g=W[1],N=W[2],C=W[3],w=W[6],Y=W[7],U=W[4],e=W[5],O=[[V,g,1,0,0,0,-V*y,-g*y,y],[0,0,0,V,g,1,-V*B,-g*B,B],[N,C,1,0,0,0,-N*r,-C*r,r],[0,0,0,N,C,1,-N*x,-C*x,x],[w,Y,1,0,0,0,-w*Z,-Y*Z,Z],[0,0,0,w,Y,1,-w*i,-Y*i,i],[U,e,1,0,0,0,-U*k,-e*k,k],[0,0,0,U,e,1,-U*H,-e*H,H]],l=[0,0,0,0,0,0,0,0],I=v.Fp.Sc(O,l);
if(I!=0){l=[0,0,0,0,0,0,0,0];var s=v.D.afj(d),z=v.D.afj(W);if(s==z&&s!=0){var R=s==1,t=R?3:1,a=c(d,0,t),J=c(W,0,t),F=J/a,h=d[2*t]-d[0],m=d[2*t+1]-d[1],D=new dT;
D.translate(-y,-B);D.rotate(Math.atan2(m,h)-(R?Math.PI/2:0));if(R)D.scale(1,F);else D.scale(F,1);D.translate(V,g);
D.QE();l=v.D.MK(D)}}return l};v.D.R=function(d,W){if(d==null)d=W=0;return[1,0,d,0,1,W,0,0]};v.D.eR=function(d){return Math.abs(d[6])<1e-10&&Math.abs(d[7])<1e-10};
v.D.hM=function(d){return new dT(d[0],d[3],d[1],d[4],d[2],d[5])};v.D.MK=function(d){return[d.U,d.gp,d.IS,d.J,d.x7,d.rk,0,0]};
v.D.e=function(d,W){var c=new Float64Array(2);for(var y=0;y<W.length;y+=2){var B=W[y],r=W[y+1];v.D.Pp(B,r,d,c);
W[y]=c[0];W[y+1]=c[1]}};v.D.Pp=function(d,W,c,y){var B=1/(c[6]*d+c[7]*W+1);y[0]=(c[0]*d+c[1]*W+c[2])*B;
y[1]=(c[3]*d+c[4]*W+c[5])*B};v.D.ay2=function(d,W){var c=new Float64Array(2);v.D.Pp(W.x,W.y,d,c);return new aL(c[0],c[1])};
v.D.VT=function(d,W,c,y){d=new Uint32Array(d.buffer);W=new Uint32Array(W.buffer);for(var B=0;B<y;B++){for(var r=0;
r<c;r++){W[r*y+B]=d[B*c+r]}}};v.D.EV=function(d,W,c,y){d=new Uint32Array(d.buffer);W=new Uint32Array(W.buffer);
for(var B=0;B<y;B++){for(var r=0;r<c;r++){W[B*c+r]=d[B*c+c-1-r]}}};v.D.anI=function(d,W,c,y){d=new Uint32Array(d.buffer);
W=new Uint32Array(W.buffer);for(var B=0;B<y;B++){for(var r=0;r<c;r++){W[B*c+r]=d[(y-1-B)*c+r]}}};v.D.a1Z=function(d){return Math.abs(d[6])<1e-9&&Math.abs(d[7])<1e-9};
v.D.aiZ=function(d){return Math.abs(d[0])<1e-9&&Math.abs(d[4])<1e-9||Math.abs(d[1])<1e-9&&Math.abs(d[3])<1e-9};
v.D.drawImage=function(d,W,c,y,B,r,x,Z,i){if(x==null)x=!1;if(Z==null)Z=!1;var k=v.D.QE(d),H=!0,V=0;for(var S=0;
S<8;S++){var g=Math.round(d[S]);if(S!=2&&S!=5)V+=Math.abs(g);if(Math.abs(g-d[S])>1e-9)H=!1}var N=v.D.a1Z(d),C=v.D.aiZ(d)&&N,w=C?1:0;
if(x||H&&V==c+y&&N){v.D.amw(k,W,c,y,B,r,Z,N,i);return}var Y=r.m,U=r.i,e=new Float64Array(2);B=new Uint32Array(B.buffer);
W=new Uint32Array(W.buffer);for(var O=0;O<U;O++)for(var l=0;l<Y;l++){var I=O*Y+l,s,z,R,t,L=0,p=0,E=0,G=0;
B[I]=0;var a=l+r.x+.5,J=O+r.y+.5;s=a;z=J;R=k;var F=R[0]*s+R[1]*z+R[2],h=R[3]*s+R[4]*z+R[5];if(!N){t=1/(R[6]*s+R[7]*z+1);
F*=t;h*=t}var m=F*c,D=h*y,_=m<-1||m>c+1||D<-1||D>y+1;if(Z){m=Math.max(.001,Math.min(c-1,m));D=Math.max(.001,Math.min(y-1,D))}else if(_)continue;
var n=v.D.ai9(d,c,y,a,J,F,h),j=Math.round(n*2.3);if(n<1.1){v.D.fa(m,D,W,c,y,B,I,w);continue}if(!Z&&(m<.6||m>c-.6||D<.6||D>y-.6)){j=Math.max(j,5)}if(Z&&_)j=1;
var T=1/j,A=r.x+l,u=r.y+O;R=k;for(var S=0;S<j;S++)for(var q=0;q<j;q++){s=A+(S+.5)*T;z=u+(q+.5)*T;var m=R[0]*s+R[1]*z+R[2],D=R[3]*s+R[4]*z+R[5];
if(!N){t=1/(R[6]*s+R[7]*z+1);m*=t;D*=t}if(Z){m=Math.max(.001,Math.min(.999,m));D=Math.max(.001,Math.min(.999,D))}else if(m<0||m>=1||D<0||D>=1)continue;
m=Math.floor(m*c);D=Math.floor(D*y);var o=D*c+m,M=W[o],$=M>>>24;L+=(M&255)*$;p+=(M>>>8&255)*$;E+=(M>>>16&255)*$;
G+=$}if(G!=0){var Q=1/G;L=~~(L*Q+.5);p=~~(p*Q+.5);E=~~(E*Q+.5);G=~~(G*T*T+.5);B[I]=G<<24|E<<16|p<<8|L}}};
v.D.ai9=function(d,W,c,y,B,r,x){var Z=v.D.alc(d,y,B,r+1/W,x),i=v.D.alc(d,y,B,r,x+1/c);return 1/Math.sqrt(Math.max(Z,i))};
v.D.alc=function(d,W,c,y,B){var r=1/(d[6]*y+d[7]*B+1),x=(d[0]*y+d[1]*B+d[2])*r-W,Z=(d[3]*y+d[4]*B+d[5])*r-c;
return x*x+Z*Z};v.D.amw=function(d,W,c,y,B,r,x,Z,i){if(Z&&!x&&r.P()>4e6&&i){v.D.awX(d,W,c,y,B,r,x,Z,i);
return}var k=r.x+r.m,H=r.y+r.i,V=0,g=new Uint32Array(B.buffer),N=new Uint32Array(W.buffer),C=d[0]*c,w=d[1]*c,Y=d[2]*c,U=d[3]*y,e=d[4]*y,O=d[5]*y,l=d[6],I=d[7];
if(Z&&!x)for(var s=r.y+.5;s<H;s++)for(var z=r.x+.5;z<k;z++){var R=C*z+w*s+Y,t=U*z+e*s+O;if(0<R&&R<c&&0<t&&t<y){var a=~~t*c+~~R;
g[V]=N[a]}else g[V]=0;V++}else for(var s=r.y+.5;s<H;s++)for(var z=r.x+.5;z<k;z++){var J=1/(l*z+I*s+1),R=(C*z+w*s+Y)*J,t=(U*z+e*s+O)*J;
if(x){R=Math.max(.001,Math.min(c-1,R));t=Math.max(.001,Math.min(y-1,t))}if(0<R&&R<c&&0<t&&t<y){var a=Math.floor(t)*c+Math.floor(R);
g[V]=N[a]}else g[V]=0;V++}};v.D.awX=function(d,W,c,y,B,r,x,Z,i){var k=new Uint32Array(B.buffer),H=new Uint32Array(W.buffer),I=0;
if(i&&(r.m&3)!=0)throw"e";var V=d[0]*c,g=d[1]*c,N=d[2]*c,C=d[3]*y,w=d[4]*y,Y=d[5]*y,U=d[6],e=d[7],O=r.m,l=r.i,s=r.x+.5,z=r.y+.5,R=(O>>>2<<2)-1e-9,t=-.1+(l>>>1<<1)-1e-9,a=~~c,J=V==0?0:1/V,F=C==0?0:1/C;
for(var h=0;h<l;h++){var m=s*V+g*(h+z)+N,D=s*C+w*(h+z)+Y,_=0,n=O;if(V==0){}else if(J>0){_=Math.max(_,-m*J);
n=Math.min(n,(c-m)*J)}else{n=Math.min(n,-m*J);_=Math.max(_,(c-m)*J)}if(C==0){}else if(F>0){_=Math.max(_,-D*F);
n=Math.min(n,(y-D)*F)}else{n=Math.min(n,-D*F);_=Math.max(_,(y-D)*F)}if(n<0)n=0;if(_>n)_=n;_=~~Math.ceil(_);
n=~~n;I=~~(h*O);k.fill(0,I,I+_);I+=_;for(var j=_;j<n;j+=4){var T=V*j+m,L=C*j+D,p=~~L*a+~~T,E=H[p];k[I]=E;
k[I+1]=E;k[I+2]=E;k[I+3]=E;I+=4}k.fill(0,I,I+O-n)}};v.D.QE=function(d){var W=d[4]-d[5]*d[7],c=d[2]*d[7]-d[1],y=d[1]*d[5]-d[2]*d[4],B=d[5]*d[6]-d[3],r=d[0]-d[2]*d[6],x=d[3]*d[2]-d[0]*d[5],Z=d[3]*d[7]-d[4]*d[6],i=d[1]*d[6]-d[0]*d[7],k=1/(d[0]*d[4]-d[1]*d[3]);
return[W*k,c*k,y*k,B*k,r*k,x*k,Z*k,i*k]};v.D.lU=function(d,W){var c=d[0],y=d[1],B=d[2],r=d[3],x=d[4],Z=d[5],i=d[6],k=d[7],H=W[0],V=W[1],g=W[2],N=W[3],C=W[4],w=W[5],Y=W[6],U=W[7],e=[c*H+y*N+B*Y,c*V+y*C+B*U,c*g+y*w+B,r*H+x*N+Z*Y,r*V+x*C+Z*U,r*g+x*w+Z,i*H+k*N+Y,i*V+k*C+U],O=1/(i*g+k*w+1);
for(var S=0;S<8;S++)e[S]*=O;return e};v.D.fa=function(d,W,c,y,B,r,x,Z){var i=d,k=W,g=0,N=0,C=0,w=0;d-=.499999;
W-=.499999;var H=Math.floor(d),V=Math.floor(W);if(Z==0){var S=V*y+H,Y=H>=0&&H<y,U=H+1>=0&&H+1<y,e=V>=0&&V<B,O=V+1>=0&&V+1<B;
if(Y&&e)g=c[S];if(U&&e)N=c[S+1];if(Y&&O)C=c[S+y];if(U&&O)w=c[S+y+1]}else if(Z==1){var l=H<0?0:H>y-1?y-1:H,I=H<-1?0:H>y-2?y-1:H+1,s=V<0?0:V>B-1?B-1:V,z=V<-1?0:V>B-2?B-1:V+1;
g=c[s*y+l];N=c[s*y+I];C=c[z*y+l];w=c[z*y+I]}else{var l=(H+50*y)%y,I=(H+50*y+1)%y,s=(V+50*B)%B,z=(V+50*B+1)%B;
g=c[s*y+l];N=c[s*y+I];C=c[z*y+l];w=c[z*y+I]}var R=d-H,t=W-V,a=(1-t)*(1-R)*(g>>>24),J=(1-t)*R*(N>>>24),F=t*(1-R)*(C>>>24),h=t*R*(w>>>24),m=a+J+F+h,D=a*(g&255)+J*(N&255)+F*(C&255)+h*(w&255),_=a*(g>>>8&255)+J*(N>>>8&255)+F*(C>>>8&255)+h*(w>>>8&255),n=a*(g>>>16&255)+J*(N>>>16&255)+F*(C>>>16&255)+h*(w>>>16&255);
if(m==0)r[x]=0;else{var j=1/m;D=~~(D*j+.5);_=~~(_*j+.5);n=~~(n*j+.5);m=~~(m+.5);r[x]=m<<24|n<<16|_<<8|D}};
v.D.a7q=function(d,W,c,y,B,r){var x=d-.499999,Z=W-.499999,i=~~x,k=~~Z,H=x-i,V=Z-k,g=(1-V)*(1-H),N=(1-V)*H,C=V*(1-H),w=V*H,Y=k*y+i<<2,U=(k+1)*y+i<<2,e=g*c[Y]+N*c[Y+4]+C*c[U]+w*c[U+4],O=g*c[Y+1]+N*c[Y+5]+C*c[U+1]+w*c[U+5],l=g*c[Y+2]+N*c[Y+6]+C*c[U+2]+w*c[U+6],I=g*c[Y+3]+N*c[Y+7]+C*c[U+3]+w*c[U+7];
r[0]=e;r[1]=O;r[2]=l;r[3]=I};v.D.Yx=function(d,W,c,y,B){d-=.499999;W-=.499999;var r=Math.floor(d),x=Math.floor(W),Z=d-r,i=W-x,k=(1-i)*(1-Z),H=(1-i)*Z,V=i*(1-Z),g=i*Z,N=(r+50*y)%y,C=(r+1+50*y)%y,w=(x+50*B)%B,Y=(x+1+50*B)%B,U=c[w*y+N],e=c[w*y+C],O=c[Y*y+N],l=c[Y*y+C];
if(U==null||l==null)throw"e";return k*U+H*e+V*O+g*l};v.D.aCA=function(d,W,c,y,B){d-=.499999;W-=.499999;
var r=Math.floor(d),x=Math.floor(W),Z=d-r,i=W-x,k=(1-i)*(1-Z),H=(1-i)*Z,V=i*(1-Z),g=i*Z,N=0,C=x*y+r,w=C+y;
if(0<=x&&x<B&&0<=r&&r<y)N+=k*c[C];if(0<=x&&x<B&&0<=r+1&&r+1<y)N+=H*c[C+1];if(0<=x+1&&x+1<B&&0<=r&&r<y)N+=V*c[w];
if(0<=x+1&&x+1<B&&0<=r+1&&r+1<y)N+=g*c[w+1];return N};v.D.a7r=function(d,W,c,y,B,r,x,Z,i,k,H,V){var g=new Uint32Array(d.buffer),N=new Uint32Array(y.buffer),C=(1+2*k)/B,w=[],Y=[];
for(var U=0;U<B;U++){var e=-.25+k-U*C;w.push(Math.cos(2*Math.PI*e)*V/H);w.push(Math.sin(2*Math.PI*e)/H)}x*=W;
Z*=c;for(var O=0;O<r;O++){var l=Math.pow(O/r,i)*r;for(var U=0;U<B;U++){var I=x+w[U<<1]*l,s=Z+w[(U<<1)+1]*l,z=~~(.5+(I<0?0:I>W-1?W-1:I)),R=~~(.5+(s<0?0:s>c-1?c-1:s));
N[O*B+U]=g[R*W+z]}}};v.D.avf=function(d,W,c,y,B,r,x,Z,i,k,H,V){var g=new Uint32Array(d.buffer),N=new Uint32Array(y.buffer),C=1/V,w=[],Y=c*4,U=1/Y;
for(var e=0;e<Y+10;e++)w.push(Math.pow(e*U,1/i)*c*H);x*=B;Z*=r;for(var e=0;e<r;e++)for(var O=0;O<B;O++){var l=C*(O-x),I=e-Z,s=1.75-Math.atan2(I,l)*(1/(2*Math.PI));
s=s-~~s;s=(s+k)*(1/(1+2*k));var z=Math.sqrt(l*l+I*I);z=w[~~(z*4)];v.D.fa(s*W+.5,z+.5,g,W,c,N,e*B+O,1)}};
v.D._P=function(d,W,c,y,B){var r=B[0],x=B[1];for(var Z=0;Z<x;Z++)for(var i=0;i<r;i++){var k=B[2]*i+B[3]*Z+B[4],H=B[5]*i+B[6]*Z+B[7],V=Z*r+i<<2,g=H*W+k<<2;
y[V]=d[g+0];y[V+1]=d[g+1];y[V+2]=d[g+2];y[V+3]=d[g+3]}};v.L={Ie:function(d,W){var c=~~(.499+d*W);return c<0?0:c>W?W:c},ahi:function(d,W,c,y,B,r,x,Z){var i=c[0],k=c[1],H=c[2],V=c[3],g=y.m,N=y.i,C=new Float64Array(g*4+8),w=new Float64Array(g*4+8);
for(var Y=0,S=0;Y<N;Y++){var U=C;C=w;w=U;w.fill(0);for(var e=0;e<g;e++,S++){var O=e+B,l=Y+r,I=i*O+k*l,s=H*O+V*l,z=0,a=0;
if(Z==0)z=I+.5;else if(Z==1)z=2*Math.sqrt(I*I+s*s);else if(Z==2)z=(Math.PI+Math.atan2(-s,-I))/(2*Math.PI);
else if(Z==3)z=Math.abs(I*2);else if(Z==4)z=2*(Math.abs(I)+Math.abs(s));var R=v.L.Ie(z,x)*4,t=e*4;for(var J=0;
J<4;J++){var F=Math.max(0,Math.min(254.999,W[R+J]+C[t+4+J])),h=Math.floor(F);if(Math.random()<F-h)h++;
var m=F-h;C[t+8+J]=m*(7/16);w[t+0+J]=m*(3/16);w[t+4+J]=m*(5/16);w[t+8+J]=m*(1/16);a|=h<<J*8}d[S]=a}}},oR:[function(d,W,c,y,B,r,x){var Z=c[0],i=c[1],k=c[2],H=c[3],V=y.m,g=y.i;
for(var N=0,S=0;N<g;N++)for(var C=0;C<V;C++,S++){var w=C+B,Y=N+r,U=Z*w+i*Y,e=k*w+H*Y,O=U+.5;d[S]=W[v.L.Ie(O,x)]}},function(d,W,c,y,B,r,x){var Z=c[0],i=c[1],k=c[2],H=c[3],V=y.m,g=y.i;
for(var N=0,S=0;N<g;N++)for(var C=0;C<V;C++,S++){var w=C+B,Y=N+r,U=Z*w+i*Y,e=k*w+H*Y,O=2*Math.sqrt(U*U+e*e);
d[S]=W[v.L.Ie(O,x)]}},function(d,W,c,y,B,r,x){var Z=c[0],i=c[1],k=c[2],H=c[3],V=y.m,g=y.i;for(var N=0,S=0;
N<g;N++)for(var C=0;C<V;C++,S++){var w=C+B,Y=N+r,U=Z*w+i*Y,e=k*w+H*Y,O=(Math.PI+Math.atan2(-e,-U))/(2*Math.PI);
d[S]=W[v.L.Ie(O,x)]}},function(d,W,c,y,B,r,x){var Z=c[0],i=c[1],k=c[2],H=c[3],V=y.m,g=y.i;for(var N=0,S=0;
N<g;N++)for(var C=0;C<V;C++,S++){var w=C+B,Y=N+r,U=Z*w+i*Y,e=k*w+H*Y,O=Math.abs(U*2);d[S]=W[v.L.Ie(O,x)]}},function(d,W,c,y,B,r,x){var Z=c[0],i=c[1],k=c[2],H=c[3],V=y.m,g=y.i;
for(var N=0,S=0;N<g;N++)for(var C=0;C<V;C++,S++){var w=C+B,Y=N+r,U=Z*w+i*Y,e=k*w+H*Y,O=2*(Math.abs(U)+Math.abs(e));
d[S]=W[v.L.Ie(O,x)]}}]};v.L.a20=function(d,W){return d+.5};v.L.afc=function(d,W){return 2*Math.sqrt(d*d+W*W)};
v.L.a5r=function(d,W){return(Math.PI+Math.atan2(-W,-d))/(2*Math.PI)};v.L.a4r=function(d,W){return Math.abs(d*2)};
v.L.avQ=function(d,W){return 2*(Math.abs(d)+Math.abs(W))};v.L.cR=function(d,W,c,y,B,r,x,Z,i,k,H,V){var g=d.Clrs,N=new Uint32Array(W.buffer),C=1023,w=g?v.L.rW(d,i,k):null;
if(V&&g){var Y=v.L.avb(d,w,C+1,x);v.L.ahi(N,Y,y,c,c.x-B,c.y-r,C,Z)}else{var U=g?v.L.alo(d,w,C+1,x):v.L.a7U(d,C+1,x);
if(Z<5){v.L.oR[Z](N,U,y,c,c.x-B,c.y-r,C)}else{var e=new Uint8Array(U.buffer),O=c.m,l=c.i,I=H.Ki-H.h4,s=1/I,z=H.xn.m-c.m>>1,R=H.xn.i-c.i>>1,t=H.xn.m,a=-.6*s,J=(-.6+.4)*s,F=(-.6+2*.4)*s,h=(-.6+3*.4)*s;
for(var m=0,S=0;m<l;m++)for(var D=0;D<O;D++,S+=4){var _=0,n=0,j=0,T=0,L=(m+R)*t+D+z,p=(H.ZU[L]-H.h4)*s,E=0;
if(p<=0||p>=1){E=(p<=0?0:C)<<2;W[S]=e[E];W[S+1]=e[E+1];W[S+2]=e[E+2];W[S+3]=e[E+3];continue}E=Math.max(0,Math.min(C-1,Math.round((p+a)*C)))<<2;
n+=e[E];j+=e[E+1];T+=e[E+2];_+=e[E+3];E=Math.max(0,Math.min(C-1,Math.round((p+J)*C)))<<2;n+=e[E];j+=e[E+1];
T+=e[E+2];_+=e[E+3];E=Math.max(0,Math.min(C-1,Math.round((p+F)*C)))<<2;n+=e[E];j+=e[E+1];T+=e[E+2];_+=e[E+3];
E=Math.max(0,Math.min(C-1,Math.round((p+h)*C)))<<2;n+=e[E];j+=e[E+1];T+=e[E+2];_+=e[E+3];W[S]=n>>>2;
W[S+1]=j>>>2;W[S+2]=T>>>2;W[S+3]=_>>>2}}}};v.L.rW=function(d,W,c){var y=[d.Clrs.v,d.Trns.v],B=[[],[]],r=255;
for(var x=0;x<2;x++)for(var S=0;S<y[x].length;S++){var Z,i=y[x][S].v;if(x==0){var k=i.Type.v.Clry;if(k=="FrgC")Z={Z:W>>16&255,G:W>>8&255,J:W&255};
else if(k=="BckC")Z={Z:c>>16&255,G:c>>8&255,J:c&255};else Z=v.L.E5(i.Clr.v)}else{Z=i.Opct.v.val*(255/100);
if(Z<r)r=Z}B[x].push([Z,i.Lctn.v/4096,i.Mdpn.v/100])}B.push(r>254);return B};v.L.E5=function(d){var W,c=d.classID;
if(c=="RGBC"){if(d.Rd)W={Z:d.Rd.v,G:d.Grn.v,J:d.Bl.v};else W={Z:d.redFloat.v*255,G:d.greenFloat.v*255,J:d.blueFloat.v*255}}else if(c=="HSBC"){W=v.JB(d.H.v.val/360,d.Strt.v/100,d.Brgh.v/100);
W.Z*=255;W.G*=255;W.J*=255}else if(c=="CMYC"){var y=100-d.Cyn.v,B=100-d.Mgnt.v,r=100-d.Ylw.v,x=100-d.Blck.v,Z=255*y*x*1e-4,i=255*(.2*y+.8*B)*x*1e-4,k=255*(.2*B+.8*r)*x*1e-4;
W={Z:Z,G:i,J:k}}else if(c=="Grsc")W={Z:255-d.Gry.v,G:255-d.Gry.v,J:255-d.Gry.v};else if(c=="LbCl"){W=v.m2(d.Lmnc.v,d.A.v,d.B.v)}else if(c=="BkCl")W={Z:0,G:0,J:0};
else console.log(d);if(isNaN(W.Z))W.Z=W.G=W.J=0;return W};v.L.a7U=function(d,W,c){var y=new Uint32Array(W),B=new Uint8Array(y.buffer);
y.fill(4278190080);var r=[],x=[],Z=d.RndS.v,i=d.Smth.v/4096;for(var S=0;S<4;S++){r[S]=~~(d.Mnm.v[S].v*255/100);
x[S]=~~(d.Mxm.v[S].v*255/100)}var k=v.R(W*4),H=v.R(W);for(var V=0;V<3;V++){v.$.at5(null,W,1,k,[1+Math.round(i*i*i*60),22,Z*(2+V)]);
v.$P(k,H,0);v.nP(H,B,V);var g=r[V],N=x[V];for(var S=0;S<W;S++)B[4*S+V]=Math.max(g,Math.min(N,B[4*S+V]))}if(c)for(var S=0;
S<W/2;S++){var C=y[S];y[S]=y[W-1-S];y[W-1-S]=C}return y};v.L.FV=function(d){return{classID:"RGBC",Rd:{t:"doub",v:d.Z},Grn:{t:"doub",v:d.G},Bl:{t:"doub",v:d.J}}};
v.L.avb=function(d,W,c,y){var B=[],r=1/(c-0);for(var S=0;S<c;S++){var x=S*4,Z=v.L.ze(d,W,(y?c-1-S:S)*r);
B[x]=Z[0];B[x+1]=Z[1];B[x+2]=Z[2];B[x+3]=Z[3]}return B};v.L.alo=function(d,W,c,y){var B=new Uint32Array(c),r=1/(c-0);
for(var S=0;S<c;S++)B[S]=v.L.hf(d,W,(y?c-1-S:S)*r);return B};v.L.ze=function(d,W,c){var y=d.Intr.v*(1/4096),B=W[0],r=W[1],x=B.length-1,Z=r.length-1,S=-1,i=0,k=0,H=0,V=0;
if(W[2])i=255;else{while(S<Z&&r[S+1][1]<=c)S++;if(S==-1){i=r[0][0]}else if(S==Z){i=r[S][0]}else{var g=v.L.ark(r,S,c,y);
i=g*r[S][0]+(1-g)*r[S+1][0]}}S=-1;while(S<x&&B[S+1][1]<=c)S++;if(S==-1){var N=B[0][0];k=N.Z;H=N.G;V=N.J}else if(S==x){var N=B[S][0];
k=N.Z;H=N.G;V=N.J}else{var C=B[S][0],w=B[S+1][0],Y=v.L.ark(B,S,c,y);k=Y*C.Z+(1-Y)*w.Z;H=Y*C.G+(1-Y)*w.G;
V=Y*C.J+(1-Y)*w.J}return[k,H,V,i]};v.L.hf=function(d,W,c){var y=v.L.ze(d,W,c),B=~~(.5+y[0]),r=~~(.5+y[1]),x=~~(.5+y[2]),Z=~~(.5+y[3]);
return Z<<24|x<<16|r<<8|B};v.L.ark=function(d,S,W,c){if(d.length==2)c*=.5;var y=d[S][1],B=d[S+1][1],r=y+d[S+1][2]*(B-y),x;
if(W<r)x=.5*(W-y)/(r-y);else x=.5+.5*(W-r)/(B-r);x=.5+.5*(c*Math.cos(Math.PI*x)+(1-c)*(1-2*x));return x};
v.L.abT=function(d,W,c){var y=.5*c.i,B=y*(d/W),r=Math.sqrt(y*y+B*B),x=.5*c.m,Z=x*(W/d),i=Math.sqrt(x*x+Z*Z);
return Math.min(r,i)};v.L.bM=function(d,W){var c=Math.PI*d.Angl.v.val/180,y=d.Scl.v.val/100,B=d.Ofst.v,r=B.Hrzn.v.val/100,x=B.Vrtc.v.val/100,Z=Math.cos(c),i=-Math.sin(c),k=v.L.abT(Z,i,W),H=k*y,V=W.x+W.m/2+r*W.m,g=W.y+W.i/2+x*W.i;
return[new aL(V,g),new aL(V+Z*H,g+i*H)]};v.L.qb=function(d,W,c,y){var B=W.x-d.x,r=-(W.y-d.y),x=Math.sqrt(B*B+r*r),Z=Math.atan2(r,B),i=Math.cos(Z),k=-Math.sin(Z),H=v.L.abT(i,k,c),V=x/H,g=(d.x-c.x-c.m/2)/c.m,N=(d.y-c.y-c.i/2)/c.i;
y.Angl.v.val=180*Z/Math.PI;y.Scl.v.val=V*100;var C=y.Ofst.v;C.Hrzn.v.val=g*100;C.Vrtc.v.val=N*100};v.L.GW=function(d,W){for(var S=0;
S<d.length;S++){var c=d[S],y=Math.round(c[0]*4096),B=c[1],r=c[2],x=c[3];if(r==null)r=1;if(x==null)x=.5;
var Z=v.L.FV({Z:B[0]*255,G:B[1]*255,J:B[2]*255});W.Clrs.v[S]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:y},Mdpn:{t:"long",v:Math.round(x*100)},Clr:{t:"Objc",v:Z},Type:{t:"enum",v:{Clry:"UsrS"}}}};
W.Trns.v[S]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:y},Mdpn:{t:"long",v:Math.round(x*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(r*100)}}}}}};
v.L.qK=function(d,W,c){if(W){d=JSON.parse(JSON.stringify(d));for(var S=0;S<2;S++){var y=d[S==0?"Clrs":"Trns"].v;
for(var B=0;B<y.length;B++)y[B].v.Lctn.v=4096-y[B].v.Lctn.v;y.reverse()}}var r=[],x=1/255,Z=d.Clrs.v,i=d.Trns.v,y=Z;
if(be==0||Z.length!=i.length){if(be!=0)console.log("strange gradient");if(c!=!0)y=Z.concat(i);var k=v.L.rW(d,0,0);
for(var S=0;S<y.length;S++){var H=y[S].v,V=H.Lctn.v/4096,g=v.L.ze(d,k,V);r.push([V,[g[0]*x,g[1]*x,g[2]*x],g[3]*x])}r.sort(function(C,w){return C[0]-w[0]});
for(var S=1;S<r.length;S++)if(r[S][0]-r[S-1][0]<.001){r.splice(S,1);S--}}else{for(var S=0;S<y.length;
S++){var H=Z[S].v,N=H.Clr.v,V=H.Lctn.v/4096;r.push([V,[N.Rd.v*x,N.Grn.v*x,N.Bl.v*x],i[S].v.Opct.v.val*.01])}}return r};
v.ask={};v.ask.BX=function(d,W,c,y,B,r,x,Z,i,k,H,V){var g,N,C,w=Date.now(),Y=!1,U=x,e=k,O,l,I,s,z=r*255,R=255-i*255,t=1+B*6,a=1+Z*6,J=1+V*4,F=(J-1)/7,h=0,m=255-0,D,_,n,j,T,L,p,E,G,A,u,q,o,M=0,$=1,Q,kF,P,bM,jW,fX,bX,ao,en,fK,bO=1+H,b9,bK=v.R(c*y),f0=v.R(c*y),hn=v.R(c*y),hX=v.R(c*y),gR=255/z,ib=255/(255-R);
for(N=0;N<y;N++){for(g=0;g<c;g++){var S=N*c+g,gU=S<<2;Q=v.DB(d[gU],d[gU+1],d[gU+2]);hX[S]=Q;if(Q<z)bK[S]=255-Q*gR;
if(Q>R)f0[S]=255-(255-Q)*ib}}if(Y)console.log("init",Date.now()-w);w=Date.now();if(B*U>0){hn.set(bK);
v.yG.aM(hn,bK,new a8(0,0,c,y),U)}if(Z*e>0){hn.set(f0);v.yG.aM(hn,f0,new a8(0,0,c,y),e)}if(Y)console.log("blur",Date.now()-w);
w=Date.now();var hq=v.R(256),ip=v.R(256);for(var S=0;S<256;S++){var aW=S*(1/255),kN=0;kN=(1-Math.pow(1-aW,t))*255;
hq[S]=Math.max(0,Math.min(255,~~(kN+.5)));kN=Math.pow(aW,a)*255;ip[S]=Math.max(0,Math.min(255,~~(kN+.5)))}var hW=new Uint8ClampedArray(W.buffer),jH=new Float32Array(32768);
for(var S=0;S<32768;S++){b9=Math.sqrt(S)*(1/128);if(bO>1)b9=(1-b9)*(bO-1)+1;else b9=b9*(bO-1)+1;jH[S]=b9}for(N=0;
N<y;N++){for(g=0;g<c;g++){var S=N*c+g,gU=S<<2,kN=hX[S],g0=bK[S]*(1/255),gC=f0[S]*(1/255);kN=(1-g0)*kN+g0*hq[~~kN];
kN=(1-gC)*kN+gC*ip[~~kN];Q=kN;var jL=d[gU],jf=d[gU+1],cm=d[gU+2];kF=-jL*.168736-jf*.331264+cm*.5;P=jL*.5-jf*.418688-cm*.081312;
b9=jH[~~(.5+kF*kF+P*P)];bM=kF*b9;fX=P*b9;$=1-Math.min(2-(g0+gC),1);kF=$*kF+(1-$)*bM;P=$*P+(1-$)*fX;ao=Q+1.402*P;
en=Q-.34414*kF-.71414*P;fK=Q+1.772*kF;hW[gU]=~~(.5+ao);hW[gU+1]=~~(.5+en);hW[gU+2]=~~(.5+fK)}}if(Y)console.log("apply masks",Date.now()-w);
w=Date.now()};v.ng={};v.ng.eZ=function(d,W,c,y,B){var r=Date.now(),x=!1,w=1,m=0,G=0;if(!W.M_(B)){var Z=W.hB(B),i=v.R(Z.P()*4);
v.qR(d,W,i,Z);d=i;W=Z}var k=v.R(W.P());v.ZW(c,B,k,W);v.round(k);B=B.nK(W);var H=B.m,V=B.i,g=H*3<V?2:1,N=V*3<H?2:1;
if(B.P()*(g*2+1)*(N*2+1)<W.P()){var Z=new a8(B.x-H*g,B.y-V*g,H*(g*2+1),V*(N*2+1)).nK(W),i=v.R(Z.P()*4);
v.qR(d,W,i,Z);var C=v.R(Z.P());v.ZW(k,W,C,Z);W=Z;d=i;k=C}while((W.m+W.i)/2/w>400)w++;var Y=d,U=W,e=k,O=Math.floor(U.m/w),l=Math.floor(U.i/w);
d=v.R(O*l*4);v.scale.hK(Y,U.m,U.i,d,O,l,1/w);k=v.R(O*l);v.scale._P(e,U.m,U.i,k,O,l,1/w);v.round(k,1);
if(x)console.log("scale down:",w,O,l);var I=v.wf(k,new a8(0,0,O,l));if(I.Bb())return 1;var s=Math.round((I.m+I.i)/2/15);
if(x)console.log(Date.now()-r,"preprocess");r=Date.now();var z=v.R(O*l*4);v.any(d,z);var R=Int16Array,t=new R(O*l*24),a=new R(64),J=new R(64),F=new R(64),h=new R(64);
for(var D=3;D<l-4;D++)for(var _=3;_<O-4;_++){var n=D*O+_;if(k[n]==255)continue;if(v.ng.aiK(z,k,_,D,O,l,a,J,F)!=0)continue;
v.ng.xY(a,h);var j=m*24;t[j]=_;t[j+1]=D;v.ng.PY(a,t,j+4,12);v.ng.xY(J,h);v.ng.PY(J,t,j+16,4);v.ng.xY(F,h);
v.ng.PY(F,t,j+20,4);var T=t[j+5],L=t[j+6];t[j+5]=t[j+16];t[j+6]=t[j+20];t[j+16]=T;t[j+20]=L;m++}if(m==0)return 2;
if(x)console.log(Date.now()-r,"FWHT computed");r=Date.now();var p=[];v.ng.PE(0,m-1,p,t,new R(2*24));
if(x)console.log(Date.now()-r,"KD tree computed");r=Date.now();var E=new Uint32Array(O*l*4);for(var S=0;
S<m;S++){var A=S,u=v.ng.asI(A,t,p,s);if(u==-1)continue;var q=A*24,o=u*24,M=t[q],$=t[q+1],Q=t[o],kF=t[o+1];
G+=v.ng.getError(o,q,t,1e99);var P=Q-M,bM=kF-$;E[(l+bM)*2*O+(O+P)]+=1}if(x)console.log(Date.now()-r,"NN found");
r=Date.now();var jW=[],fX=1/(2*O);for(var S=0;S<E.length;S++){if(E[S]>0){var D=Math.floor(S*fX),_=S-D*2*O;
jW.push({x:_-O,y:D-l,b:E[S],Z9:-1})}}jW.sort(function(hW,jH){return jH.b-hW.b});var bX=new Int32Array(O*l),ao=[];
for(var S=0;S<O*l;S++){if(k[S]==255){bX[S]=ao.length>>>1;ao.push(S%O,Math.floor(S/O))}else if(d[(S<<2)+3]<200){bX[S]=-2}else{bX[S]=-1}}var en=v.ng.awB(O,l,jW,bX,ao);
if(en==null){if(x)console.log("no appropriate labeling");return 3}var fK=en.VS,top=en.top;fK=v.ng.am$(fK,d,O,l,top,bX,ao);
if(x)console.log(Date.now()-r,"optimal labeling found");r=Date.now();var Z=B.clone();Z.Lx(1,1);Z=Z.nK(U);
var bO=v.R(Z.P()*4),b9=v.R(Z.P());v.qR(Y,U,bO,Z);var bK=U.m,f0=U.i;for(var D=0;D<f0;D++)for(var _=0;
_<bK;_++){if(e[D*bK+_]==0)continue;var hn=Math.min(Math.floor(_/w),O-1),hX=Math.min(Math.floor(D/w),l-1),gR=bX[hX*O+hn];
if(gR==-1)continue;var ib=fK[gR],gU=top[ib],hq=_+gU.x*w,ip=D+gU.y*w,aW=ip*bK+hq<<2,kN=(D-Z.y+U.y)*Z.m+(_-Z.x+U.x)<<2;
bO[kN]=Y[aW];bO[kN+1]=Y[aW+1];bO[kN+2]=Y[aW+2];bO[kN+3]=Y[aW+3];bO[kN+3]=Y[aW+3];b9[kN>>2]=ib+1}if(x)console.log(Date.now()-r,"copied back");
r=Date.now();v.Vl.eZ(bO,b9,Z,null,1e3);if(x)console.log(Date.now()-r,"poisson smooth");r=Date.now();
v.qR(bO,Z,y,B);return 0};v.ng.ags=function(d,W,c,y,B,r){return v.ng.Cb(d+B.x,W+B.y,c,y,r)?0:1e9};v.ng.am$=function(d,W,c,y,top,B,r){var x=Date.now(),Z=r.length>>>1,i=[-1,0,0,-1,1,0,0,1],k=1e99,H=[],V=[],g=2*(Z*2*3+Z*2),N=null,C=0,w=0,Y=0,U=1e99;
while(!0&&Date.now()<x+12e3){Y++;var e=null,O=k;for(var l=0;l<top.length;l++){var I=top[l],s=0,z=Z+2,R=0;
for(var S=0;S<Z;S++){var t=r[S*2],a=r[S*2+1],J=top[d[S]],F=v.ng.ags(t,a,c,y,I,B),h=d[S]==l?1e9:v.ng.ags(t,a,c,y,J,B);
for(var bd=0;bd<4;bd++){if(bd==0&&t==0||bd==1&&a==0||bd==2&&t==c-1||bd==3&&a==y-1)continue;var m=i[2*bd],D=i[2*bd+1],_=t+m,n=a+D,j=B[n*c+_];
if(j==-2){}else if(j==-1){F+=3*v.ng.bR(_+I.x,n+I.y,_,n,c,y,W,B);F+=2*v.ng.bR(_+I.x+m,n+I.y+D,_+m,n+D,c,y,W,B);
h+=3*v.ng.bR(_+J.x,n+J.y,_,n,c,y,W,B);h+=2*v.ng.bR(_+J.x+m,n+J.y+D,_+m,n+D,c,y,W,B)}else if(bd>1){if(d[S]==d[j]){var T=0;
T+=v.ng.bR(t+J.x,a+J.y,t+I.x,a+I.y,c,y,W,B);T+=v.ng.bR(_+J.x,n+J.y,_+I.x,n+I.y,c,y,W,B);H[s]=S;H[s+1]=j;
V[s]=T;V[s+1]=T;s+=2}else{var L=top[d[j]],p=z,E=0,G=0,A=0;z++;E+=v.ng.bR(t+J.x,a+J.y,t+I.x,a+I.y,c,y,W,B);
E+=v.ng.bR(_+J.x,n+J.y,_+I.x,n+I.y,c,y,W,B);G+=v.ng.bR(t+L.x,a+L.y,t+I.x,a+I.y,c,y,W,B);G+=v.ng.bR(_+L.x,n+L.y,_+I.x,n+I.y,c,y,W,B);
A+=v.ng.bR(t+L.x,a+L.y,t+J.x,a+J.y,c,y,W,B);A+=v.ng.bR(_+L.x,n+L.y,_+J.x,n+J.y,c,y,W,B);H[s]=S;H[s+1]=p;
V[s]=E;V[s+1]=E;s+=2;H[s]=j;H[s+1]=p;V[s]=G;V[s+1]=G;s+=2;H[s]=p;H[s+1]=Z+1;V[s]=A;V[s+1]=0;s+=2}}}H[s]=Z;
H[s+1]=S;V[s]=F;V[s+1]=0;s+=2;H[s]=S;H[s+1]=Z+1;V[s]=h;V[s+1]=0;s+=2;R+=Math.min(F,h)}if(R>O)continue;
var u=v.G6.Sc(z,s,Z,Z+1,H,V,O);if(u.At<O){O=u.At;var q=d.slice(0);v.ng.a0c(q,s,H,u.pz,l,Z);e=q}}if(O*1>=k){break}k=O;
d=e;if((Y&3)==0){if(O*1.03>=U)break;U=O}if((Y&3)==0){var o=0*top.length;for(var S=0;S<top.length&&top.length>o;
S++){if(d.indexOf(S)!=-1)continue;top.splice(S,1);for(var j=0;j<d.length;j++)if(d[j]>S)d[j]--;S--}}}return d};
v.ng.a0c=function(d,W,c,y,B,r){for(var S=0;S<y.length;S++){var x=y[S]<<1,Z=0,i=0;if(x<W){Z=c[x];i=c[x+1]}else{i=c[x];
Z=c[x+1]}if(Z==r&&d[i]!=B)d[i]=B}};v.ng.a2x=function(top,d,W,c,y,B,r,x,Z){for(var S=0;S<W.length;S++){var i=W[S],k=!0;
if(x!=null&&!v.ng.Cb(x+i.x,Z+i.y,B,r,c))continue;if(i.Z9==-1)i.Z9=v.ng.aoa(i,c,y,B,r);if(i.Z9<=0)continue;
for(var H=0;H<top.length;H++){var V=top[H],g=i.x-V.x,N=i.y-V.y;if(g*g+N*N<d){k=!1;break}}if(k)return i}return null};
v.ng.aoa=function(d,W,c,y,B){var r=0;for(var S=0;S<c.length;S+=2){var x=c[S]+d.x,Z=c[S+1]+d.y;if(v.ng.Cb(x,Z,y,B,W))r++}return r/(c.length>>1)};
v.ng.awB=function(d,W,c,y,B){var r=B.length>>>1,top=[];for(var S=0;S<60;S++){var x=v.ng.a2x(top,25,c,y,B,d,W);
if(x==null)break;else top.push(x)}if(top.length==0)return null;var Z=[];for(var S=0;S<r;S++){var i=B[S*2],k=B[S*2+1],H=-1,V=0;
while(!0){V++;var g=Math.random();H=Math.floor(g*.99999*top.length);var N=top[H],C=i+N.x,w=k+N.y;if(v.ng.Cb(C,w,d,W,y))break;
if(V>1e3){var x;x=v.ng.a2x(top,0,c,y,B,d,W,i,k);if(x==null)for(var Y=0;Y<4;Y++){var U,e,O=0;while(!0){U=~~(Math.random()*d);
e=~~(Math.random()*W);if(v.ng.Cb(U,e,d,W,y))break;O++;if(O>500)throw"e"}x={x:U-i,y:e-k,b:1,Z9:-1};c.push(x);
top.push(x)}else top.push(x);V=0}}Z.push(H)}return{top:top,VS:Z}};v.ng.bR=function(d,W,c,y,B,r,x,Z){if(d==c&&W==y)return 0;
if(d<0||W<0||d>=B||W>=r||c<0||y<0||c>=B||y>=r||Z[W*B+d]!=-1||Z[y*B+c]!=-1)return 1e7;var i=W*B+d<<2,k=y*B+c<<2,H=x[i]-x[k],V=x[i+1]-x[k+1],g=x[i+2]-x[k+2];
return 1+(H*H+V*V+g*g)};v.ng.Cb=function(d,W,c,y,B){return d>=0&&d<c&&W>=0&&W<y&&B[W*c+d]==-1};v.ng.asI=function(d,W,c,y){var B=24*d,r=W[B],x=W[B+1],Z=y*y,i=0,g=1e9;
while(c[i]!=99)if(W[B+c[i]]<c[i+1])i=c[i+2];else i=c[i+3];var k=c[i+1],H=c[i+2],V=-1;for(var S=k;S<=H;
S++){var i=S,N=i*24,C=W[N],w=W[N+1];if((C-r)*(C-r)+(w-x)*(w-x)<Z)continue;var Y=v.ng.getError(N,B,W,g);
if(Y<g){g=Y;V=i}}return V};v.ng.getError=function(d,W,c,y){var B=0;for(var r=4;r<24;r+=4){var x=c[W+r]-c[d+r],Z=c[W+r+1]-c[d+r+1],i=c[W+r+2]-c[d+r+2],k=c[W+r+3]-c[d+r+3];
B+=x*x+Z*Z+i*i+k*k;if(B>=y)return B+1}return B};v.ng.PE=function(d,W,c,y,B){var r=16,g=0;if(W-d<=r){c.push(99,d,W);
return}v.ng.c7(d,W,y,B);var x=-1,Z=-1;for(var S=4;S<24;S++){var i=B[2*S+1]-B[2*S];if(i>Z){Z=i;x=S}}var k=d+W>>1,H=v.ng.aeZ(k,d,W,y,x),V=-1;
for(var S=d;S<=W;S++)if(y[24*S+x]==H){if(V==-1)V=S;g=S}if(d+8<V&&V-d>W-g)k=V;else if(g+1<W-8)k=g+1;else if(W-d<64){c.push(99,d,W);
return}else k=k;var N=c.length;c.push(x,H,0,0);c[N+2]=N+4;v.ng.PE(d,k-1,c,y,B);c[N+3]=c.length;v.ng.PE(k,W,c,y,B)};
v.ng.c7=function(d,W,c,y){for(var S=0;S<48;S+=4){y[S]=3e4;y[S+1]=-3e4;y[S+2]=3e4;y[S+3]=-3e4}for(var S=d;
S<=W;S++){var B=S*24;for(var r=0;r<24;r++){var x=c[B+r],Z=y[r<<1],i=y[(r<<1)+1];if(x<Z)y[r<<1]=x;if(x>i)y[(r<<1)+1]=x}}};
v.ng.NN=function(d,W,c){var y=0,S=0;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;
S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;
S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;
S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;
S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;
S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;
S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;
S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;
S++;y=c[d+S];c[d+S]=c[W+S];c[W+S]=y;S++};v.ng.TY=function(d,W,c,y){var B=c+y>>>1,r=d[24*B+W];while(c<=y){while(d[24*c+W]<r)c++;
while(d[24*y+W]>r)y--;if(c<=y){if(d[24*c+W]!=d[24*y+W])v.ng.NN(c*24,y*24,d);c++;y--}}return c};v.ng.aeZ=function(d,W,c,y,B){var r=0;
while(W!=c){r=v.ng.TY(y,B,W,c);if(d<r)c=r-1;else W=r}return y[d*24+B]};v.ng.PY=function(d,W,c,y){for(var S=0;
S<y;S++)W[c+S]=d[S]};v.ng.aiK=function(d,W,c,y,B,r,x,Z,i){var k=(y-3)*B+(c-3),H=k<<2;for(var V=0;V<8;
V++){if(W[k]+W[k+1]+W[k+2]+W[k+3]+W[k+4]+W[k+5]+W[k+6]+W[k+7]!=0||d[H+3]<200||d[H+7]<200||d[H+11]<200||d[H+15]<200||d[H+19]<200||d[H+23]<200||d[H+27]<200||d[H+31]<200)return 1;
var S=V<<3;x[S+0]=d[H+0];Z[S+0]=d[H+1];i[S+0]=d[H+2];x[S+1]=d[H+4];Z[S+1]=d[H+5];i[S+1]=d[H+6];x[S+2]=d[H+8];
Z[S+2]=d[H+9];i[S+2]=d[H+10];x[S+3]=d[H+12];Z[S+3]=d[H+13];i[S+3]=d[H+14];x[S+4]=d[H+16];Z[S+4]=d[H+17];
i[S+4]=d[H+18];x[S+5]=d[H+20];Z[S+5]=d[H+21];i[S+5]=d[H+22];x[S+6]=d[H+24];Z[S+6]=d[H+25];i[S+6]=d[H+26];
x[S+7]=d[H+28];Z[S+7]=d[H+29];i[S+7]=d[H+30];H+=B<<2;k+=B}return 0};v.ng.xY=function(d,W){W[0]=d[32]+d[0];
W[1]=d[33]+d[1];W[2]=d[34]+d[2];W[3]=d[35]+d[3];W[4]=d[36]+d[4];W[5]=d[37]+d[5];W[6]=d[38]+d[6];W[7]=d[39]+d[7];
W[8]=d[40]+d[8];W[9]=d[41]+d[9];W[10]=d[42]+d[10];W[11]=d[43]+d[11];W[12]=d[44]+d[12];W[13]=d[45]+d[13];
W[14]=d[46]+d[14];W[15]=d[47]+d[15];W[16]=d[48]+d[16];W[17]=d[49]+d[17];W[18]=d[50]+d[18];W[19]=d[51]+d[19];
W[20]=d[52]+d[20];W[21]=d[53]+d[21];W[22]=d[54]+d[22];W[23]=d[55]+d[23];W[24]=d[56]+d[24];W[25]=d[57]+d[25];
W[26]=d[58]+d[26];W[27]=d[59]+d[27];W[28]=d[60]+d[28];W[29]=d[61]+d[29];W[30]=d[62]+d[30];W[31]=d[63]+d[31];
W[32]=d[0]-d[32];W[33]=d[1]-d[33];W[34]=d[2]-d[34];W[35]=d[3]-d[35];W[36]=d[4]-d[36];W[37]=d[5]-d[37];
W[38]=d[6]-d[38];W[39]=d[7]-d[39];W[40]=d[8]-d[40];W[41]=d[9]-d[41];W[42]=d[10]-d[42];W[43]=d[11]-d[43];
W[44]=d[12]-d[44];W[45]=d[13]-d[45];W[46]=d[14]-d[46];W[47]=d[15]-d[47];W[48]=d[16]-d[48];W[49]=d[17]-d[49];
W[50]=d[18]-d[50];W[51]=d[19]-d[51];W[52]=d[20]-d[52];W[53]=d[21]-d[53];W[54]=d[22]-d[54];W[55]=d[23]-d[55];
W[56]=d[24]-d[56];W[57]=d[25]-d[57];W[58]=d[26]-d[58];W[59]=d[27]-d[59];W[60]=d[28]-d[60];W[61]=d[29]-d[61];
W[62]=d[30]-d[62];W[63]=d[31]-d[63];d[0]=W[16]+W[0];d[1]=W[17]+W[1];d[2]=W[18]+W[2];d[3]=W[19]+W[3];
d[4]=W[20]+W[4];d[5]=W[21]+W[5];d[6]=W[22]+W[6];d[7]=W[23]+W[7];d[8]=W[24]+W[8];d[9]=W[25]+W[9];d[10]=W[26]+W[10];
d[11]=W[27]+W[11];d[12]=W[28]+W[12];d[13]=W[29]+W[13];d[14]=W[30]+W[14];d[15]=W[31]+W[15];d[16]=W[0]-W[16];
d[17]=W[1]-W[17];d[18]=W[2]-W[18];d[19]=W[3]-W[19];d[20]=W[4]-W[20];d[21]=W[5]-W[21];d[22]=W[6]-W[22];
d[23]=W[7]-W[23];d[24]=W[8]-W[24];d[25]=W[9]-W[25];d[26]=W[10]-W[26];d[27]=W[11]-W[27];d[28]=W[12]-W[28];
d[29]=W[13]-W[29];d[30]=W[14]-W[30];d[31]=W[15]-W[31];W[0]=d[8]+d[0];W[1]=d[9]+d[1];W[2]=d[10]+d[2];
W[3]=d[11]+d[3];W[4]=d[12]+d[4];W[5]=d[13]+d[5];W[6]=d[14]+d[6];W[7]=d[15]+d[7];W[8]=d[0]-d[8];W[9]=d[1]-d[9];
W[10]=d[2]-d[10];W[11]=d[3]-d[11];W[12]=d[4]-d[12];W[13]=d[5]-d[13];W[14]=d[6]-d[14];W[15]=d[7]-d[15];
d[0]=W[4]+W[0];d[1]=W[5]+W[1];d[2]=W[6]+W[2];d[3]=W[7]+W[3];d[4]=W[0]-W[4];d[5]=W[1]-W[5];d[6]=W[2]-W[6];
d[7]=W[3]-W[7];d[8]=W[12]+W[8];d[9]=W[13]+W[9];d[10]=W[14]+W[10];d[11]=W[15]+W[11];d[12]=W[8]-W[12];
d[13]=W[9]-W[13];d[14]=W[10]-W[14];d[15]=W[11]-W[15];W[0]=d[2]+d[0];W[1]=d[3]+d[1];W[2]=d[0]-d[2];W[3]=d[1]-d[3];
W[4]=d[6]+d[4];W[5]=d[7]+d[5];W[6]=d[4]-d[6];W[7]=d[5]-d[7];W[8]=d[10]+d[8];W[9]=d[11]+d[9];W[10]=d[8]-d[10];
W[11]=d[9]-d[11];W[12]=d[14]+d[12];W[13]=d[15]+d[13];W[14]=d[12]-d[14];W[15]=d[13]-d[15];d[0]=W[1]+W[0];
d[1]=W[0]-W[1];d[2]=W[3]+W[2];d[3]=W[2]-W[3];d[4]=W[5]+W[4];d[5]=W[4]-W[5];d[6]=W[7]+W[6];d[7]=W[6]-W[7];
d[8]=W[9]+W[8];d[9]=W[8]-W[9];d[10]=W[11]+W[10];d[11]=W[10]-W[11];d[12]=W[13]+W[12];d[13]=W[12]-W[13];
d[14]=W[15]+W[14];d[15]=W[14]-W[15]};v.ng.ar3=function(){var d="",bd=64,W="v",c="t",y="a",B=5,S,r,x;
for(S=bd>>1;S>0;S>>=1,B--){for(r=0;r<bd;r++){x=(r>>B&1)!=0;if(x){d+=c+"["+r+"] = "+W+"["+(-S+r)+"] - "+W+"["+r+"];  "}else{d+=c+"["+r+"] = "+W+"["+(S+r)+"] + "+W+"["+r+"];  "}}y=W;
W=c;c=y;d+="\n"}console.log(d)};v.ng.a1o=function(bd,d,W){var c=d,y=W,B=c,r=0,S,Z,i;while(bd>>r!=2)r++;
var x=r;for(S=bd>>1;S>0;S>>=1,r--){for(Z=0;Z<bd;Z++){i=(Z>>r&1)!=0;if(i)y[Z]=c[-S+Z]-c[Z];else y[Z]=c[S+Z]+c[Z]}B=c;
c=y;y=B}if((x&1)==1)for(S=0;S<bd;S++)W[S]=c[S]};v.Iv={};v.Iv.qG=function(d,W,c,y,B,r,x,Z,i){var k=Date.now(),H=new Uint32Array(d.buffer),V=new Uint32Array(W.buffer),g=x/c,N=Z/y,C=1/g,w=1/N,Y=new Float64Array(2),U=3,e=1/U,O=1/(U*U),l=0,I=0,s=c,z=y;
if(B){l=B.x;I=B.y;s=B.m;z=B.i}for(var R=0;R<z;R++)for(var t=0;t<s;t++){var a=l+t,J=I+R,S=J*c+a,F=S<<1,h=S<<2;
v.Iv.a7k(r,x,Z,(a+.5)*g,(J+.5)*N,Y);var m=Y[0]*C,D=Y[1]*w;if(m==0&&D==0)V[S]=H[S];else{v.D.fa(a+m+.5,J+D+.5,H,c,y,V,S,i)}}};
v.Iv.a7k=function(d,W,c,y,B,r){y-=.499999;B-=.499999;var x=~~y,Z=~~B,i=y-x,k=B-Z,H=(1-k)*(1-i),V=(1-k)*i,g=k*(1-i),N=k*i,C=x<W-1?x+1:x,w=Z<c-1?Z+1:Z,Y=Z*W+x<<1,U=Z*W+C<<1,e=w*W+x<<1,O=w*W+C<<1;
r[0]=H*d[Y]+V*d[U]+g*d[e]+N*d[O];r[1]=H*d[Y+1]+V*d[U+1]+g*d[e+1]+N*d[O+1]};v.Iv.av0=function(d,W,c,y,B){var r=1/d,x=[-1,1,-d,d],Z=y.length;
for(var i=0;i<Z;i++){var S=y[i],k=S<<1,H=i<<1,V=~~(S*r),g=S-d*V,N=c[k],C=c[k+1],w=0,Y=0;if(g!=0&&g!=d-1){var U=S-1<<1,e=S+1<<1,O=c[U],l=c[e],I=c[U+1],s=c[e+1],z=N-(O+l)*.5,R=C-(I+s)*.5;
w-=z*B;Y-=R*B}if(V!=0&&V!=W-1){var U=S-d<<1,e=S+d<<1,O=c[U],l=c[e],I=c[U+1],s=c[e+1],z=N-(O+l)*.5,R=C-(I+s)*.5;
w-=z*B;Y-=R*B}c[k]=N+w;c[k+1]=C+Y}};v.Iv.avq=function(d,W){var c=d+","+W;if(v.Iv.a3x==c)return v.Iv.ai7;
var y=v.Iv.ai7=[];v.Iv.a3x=c;for(var S=0;S<=1e3;S++){var B=S*.001,r=Math.sqrt(B),x=Math.exp(-4*r),Z=.96*(1-r*r),i=W*((1-d)*x+d*Z);
y[S]=i}return y};v.Iv.a3x="";v.Iv.ai7=[];v.Iv.ar0=function(d,W,c,y,B,r,x,Z,i,k,H,V,g){var N=Math.max(0,Math.floor(B-x-1)),C=Math.min(W,Math.ceil(B+x+1)),w=Math.max(0,Math.floor(r-x-1)),Y=Math.min(c,Math.ceil(r+x+1)),U=2*W,e=x*x,O=1/x,l=0;
if(g&&(y==3||y==6))i=-i;var I=v.Iv.avq(Z,i);for(var s=w;s<Y;s++)for(var z=N;z<C;z++){var S=s*W+z,R=S<<1,t=(B-z)*O,a=(r-s)*O,J=t*t+a*a;
if(J<1){V[l]=S;var F=I[~~(J*1e3)];if(y==1){d[R]=d[R]*(1-F*.05);d[R+1]=d[R+1]*(1-F*.05)}else{var h=0,m=0,n,j,T,L;
if(y==0){h=k*F;m=H*F}else if(y==2){}else if(y==3){h=F*a;m=-F*t}else if(y==4){h=F*t;m=F*a}else if(y==5){h=-F*t;
m=-F*a}else if(y==6){h=H*F;m=-k*F}var D=d[R],_=d[R+1];if(z==0||z!=W-1&&h<0){n=1+d[R+2]-D;T=d[R+3]-_}else{n=D-d[R-2]+1;
T=_-d[R-1]}if(s==0||s!=c-1&&m<0){j=d[R+U]-D;L=1+d[R+U+1]-_}else{j=D-d[R-U];L=_-d[R-U+1]+1}d[R]=-(n*h+j*m-D);
d[R+1]=-(T*h+L*m-_)}l++}}};v.Iv.a5g=function(d){var W=d[0],c=d[0],y=d[1],B=d[1];for(var S=0;S<d.length;
S+=2){var r=d[S],x=d[S+1];if(r<W)W=r;else if(r>c)c=r;if(x<y)y=x;else if(x>B)B=x}return[W,y,c,B]};v.axR=function(d,W,c,y,B){function r(Q,kF,P,bM){return Math.sqrt((Q-P)*(Q-P)+(kF-bM)*(kF-bM))}function x(Q,kF){return Q>=0&&Q<W&&kF>=0&&kF<c}function Z(Q){if(Q<0)return 0;
if(Q>=W)return W-1;return Q}function i(Q){if(Q<0)return 0;if(Q>=c)return c-1;return Q}function k(S,Q){var kF=Q[3]*(1/255),P=y[S]+Q[0]*kF;
if(P>255)P=255;y[S]=P;P=y[S+1]+Q[1]*kF;if(P>255)P=255;y[S+1]=P;P=y[S+2]+Q[2]*kF;if(P>255)P=255;y[S+2]=P}function H(Q,kF,P){if(!p(Q,kF))return;
if(P[3]<0)P[3]=0;k((kF*W+Q)*4,P)}function V(Q){var kF=Q.slice(0,3);kF[3]=0;return kF}var g=W/800;function N(Q){return Math.round(Q*g)}function C(){for(var S=0;
S<=300;S++){G[S]=w(S)}}function w(c){var Q=.8,kF=.2,P=Q*kF,bM=c/60%2-1,jW=P*(1-bM*bM),fX=kF-P,bX;if(c<60){bX=[P+fX,jW,0]}else if(c<120){bX=[jW,P,0]}else if(c<180){bX=[0,P,jW]}else if(c<240){bX=[0,jW,P]}else if(c<300){bX=[jW,0,P]}else{bX=[P,0,jW]}return[(bX[0]+fX)*255,(bX[1]+fX)*255,(bX[2]+fX)*255]}function Y(c){return G[~~c]}function U(Q){return 1-e(Q)}function e(Q){return Q-~~Q}function O(Q,kF,P,bM){T(Q,kF,P,0,kF+1,1,bM)}function l(Q,kF,P,bM,jW,fX){T(Q,kF,P,0,bM,1,jW,fX)}function I(Q){for(var S=0;
S<y.length;S+=4){k(S,Q)}}function s(Q,kF,P,bM,jW,fX,bX,ao){z(Q,kF,P,bM,jW,1,fX,bX,ao)}function z(Q,kF,P,bM,jW,fX,bX,ao,en){if(fX==null)fX=.5;
if(bX==null)bX=0;if(ao==null)ao=0;if(en==null)en=!1;var fK=Q.x,bO=Q.y,b9=P.slice(0),bK=~~(P[3]*u);bM=bM*u;
if(!en){kF=L(kF);jW=L(jW);bX=L(bX);ao=L(ao)}var f0=Z(fK-kF),hn=Z(fK+kF);for(var hX=f0;hX<=hn;hX++){var gR=hX-fK,ib=Math.floor(Math.sqrt(kF*kF-gR*gR)),gU=i(bO-ib),hq=i(bO);
for(var ip=gU;ip<=hq;ip++){var aW=r(hX,ip,fK,bO);if(aW>kF||aW<=kF-jW)break;var kN=(aW-kF+jW)/jW;b9[3]=bK-bM*(fX==1?kN:Math.pow(kN,fX));
k((ip*W+hX)*4,b9)}gU=i(bO+ib);for(var ip=gU;ip>hq;ip--){var aW=r(hX,ip,fK,bO);if(aW>kF||aW<=kF-jW)break;
var kN=(aW-kF+jW)/jW;b9[3]=bK-bM*(fX==1?kN:Math.pow(kN,fX));k((ip*W+hX)*4,b9)}}if(bX>0){T(Q,kF+bX,b9,b9[3],bX,1,0,0,!0)}if(ao>0){T(Q,kF-jW,E(P),-P[3],ao,1,0,0,!0)}}function R(Q,kF,P,bM,jW,fX){T(Q,kF,P,P[3],kF+1,1,bM,jW,fX)}function t(Q,kF,P,bM,jW){if(jW==null)jW=!1;
var fX=Q.x,bX=Q.y;bM*=u;if(!jW){kF=L(kF);P=L(P)}var ao=Z(fX-kF),en=Z(fX+kF);for(var fK=ao;fK<en;fK++){var bO=fK-fX,b9=~~Math.sqrt(kF*kF-bO*bO),bK=i(bX-b9),f0=i(bX);
for(var hn=bK;hn<=f0;hn++){var hX=r(fK,hn,fX,bX);if(hX>kF||hX<=kF-P)break;var gR=(kF-hX)/P,ib=Y(300*gR);
ib[3]=bM;k((hn*W+fK)*4,ib)}bK=i(bX+b9);for(var hn=bK;hn>f0;hn--){var hX=r(fK,hn,fX,bX);if(hX>kF||hX<=kF-P)break;
var gR=(kF-hX)/P,ib=Y(300*gR);ib[3]=bM;k((hn*W+fK)*4,ib)}}}function a(A,Q){var kF=A.sr,P=A.fU,bM=Q.slice(0),jW=Q[3]*u,fX=Math.abs(P.y-kF.y)>Math.abs(P.x-kF.x);
if(fX){var bX=kF.x;kF.x=kF.y;kF.y=bX;bX=P.x;P.x=P.y;P.y=bX}if(kF.x>P.x){var bX=kF;kF=P;P=bX}var ao=P.x-kF.x,en=P.y-kF.y,fK=ao==0?1:en/ao,bO=Math.round(kF.x),b9=kF.y+fK*(bO-kF.x),bK=U(kF.x+.5),f0=bO,hn=~~b9;
if(fX){bM[3]=jW*U(b9)*bK;H(hn,f0,bM);bM[3]=jW*e(b9)*bK;H(hn+1,f0,bM)}else{bM[3]=jW*U(b9)*bK;H(f0,hn,bM);
bM[3]=jW*e(b9)*bK;H(f0,hn+1,bM)}var hX=b9-fK;bO=Math.round(P.x);b9=P.y+fK*(bO-P.x);bK=e(P.x+.5);var gR=bO,ib=~~b9;
if(fX){bM[3]=jW*U(b9)*bK;H(ib,gR,bM);bM[3]=jW*e(b9)*bK;H(ib+1,gR,bM)}else{bM[3]=jW*U(b9)*bK;H(gR,ib,bM);
bM[3]=jW*e(b9)*bK;H(gR,ib+1,bM)}if(fX){for(var gU=f0+1;gU<=gR-1;gU++){bM[3]=jW*U(hX);H(~~hX,gU,bM);bM[3]=jW*e(hX);
H(~~hX+1,gU,bM);hX+=fK}}else{for(var gU=f0+1;gU<=gR-1;gU++){bM[3]=jW*U(hX);H(gU,~~hX,bM);bM[3]=jW*e(hX);
H(gU,~~hX+1,bM);hX+=fK}}}function J(Q,kF,P,bM){for(var S=0;S<4;S++){var jW=Q.OA(kF+1.3*S,P);a(jW,bM,1)}}function aL(Q,kF){this.x=Math.round(Q);
this.y=Math.round(kF)}var F=Math.PI/180;aL.prototype.OA=function(Q,kF){Q=Q*F;var P=this.x+kF*Math.cos(Q),bM=this.y+kF*Math.sin(Q);
return new h(this.x,this.y,P,bM)};aL.prototype.ah7=function(Q,kF){Q=Q*F;var P=this.up+kF*Math.cos(Q),bM=this.Ca+kF*Math.sin(Q);
return new aL(P,bM)};function h(Q,kF,P,bM){this.sr=new aL(Q,kF);this.fU=new aL(P,bM)}h.prototype.hj=function(Q){var kF=Q*this.sr.x+(1-Q)*this.fU.x,P=Q*this.sr.y+(1-Q)*this.fU.y;
return new aL(kF,P)};var m=s,D=R,_=O,n=l,j=t,T=z,L=N,p=x,E=V,G=[];C();for(var S=0;S<d.length;S++){y[S]=d[S]}var A=new h(W*B[2],c*B[3],W/2,c/2),u=B[1],q=[];
q[0]=function o(){var Q=[80,40,15,60],P=0,bM=0;_(A.hj(1.4),260,Q,10);_(A.hj(1),100,[240,50,50,30],30);
D(A.hj(1),60,[255,40,0,40]);var kF=[255,255,255,255];T(A.hj(1),70,kF,kF[3],58,.5);_(A.hj(1),12,kF);kF[3]=40;
m(A.hj(1),150,kF,kF[3],150);for(var S=0;S<40;S++){P+=Math.random()*25;bM=Math.random()*L(300)+L(100);
var jW=A.hj(1).OA(P,bM);a(A.hj(1).OA(P,bM),[110,110,110,30])}D(A.hj(1),130,[255,255,255,8]);var fX=[170,30,23,70];
n(A.hj(1),70,fX,1,3,3);var bX=[60,60,130,40];_(A.hj(.47),44,bX,5);_(A.hj(.43),22,bX,3);bX[3]=16;_(A.hj(.53),15,bX,2);
var ao=[138,94,42,100];_(A.hj(.2),16,ao,2);var en=[130,255,170,180];D(A.hj(0),4,en);D(A.hj(-.25),5,en);
ao=[150,90,0,50];m(A.hj(-.45),55,E(ao),-ao[3],40,2);_(A.hj(-.42),35,ao,2);_(A.hj(-.5),15,ao,2);j(A.hj(-1.28),145,11,70);
var fK=Y(0);fK[3]=50;m(A.hj(-1.28),149,fK,fK[3],4);fK=Y(300);fK[3]=50;m(A.hj(-1.28),155-1,E(fK),-fK[3],3);
var bO=[130,130,10,50];n(A.hj(-1),73,bO,3,2);var b9=[40,130,70,40];m(A.hj(-1),70,E(b9),-b9[3],35);b9=[40,170,60,50];
_(A.hj(-.7),25,b9,4);var b9=[70,110,50,60];m(A.hj(1.3),30,E(b9),-b9[3],11,3);bX=[0,50,210,80];D(A.hj(-.72),20,bX)};
q[1]=function M(){D(A.hj(1),150,[240,70,70,60]);_(A.hj(1),100,[200,60,60,40],30);var Q=[255,255,255,255],kF=0,P=0;
T(A.hj(1),75,Q,Q[3],63);_(A.hj(1),12,Q);D(A.hj(1),270,[200,200,200,20],10);for(var S=0;S<10;S++){kF+=10+Math.random()*40;
P=Math.random()*L(250)+L(80);var bM=A.hj(1).OA(kF,P);a(bM,[110,110,110,35])}kF=5;P=100;for(var S=0;S<12;
S++){kF+=30;J(A.hj(1),kF,P,[90,90,90,40])}var jW=[150,40,23,100];n(A.hj(1),70,jW,1,3,3);var fX=[30,100,60,40];
D(A.hj(-.9),180,[255,255,255,20]);_(A.hj(-.9),140,fX,15);var bX=[170,80,25,15];n(A.hj(-.9),120,bX,1,4,4);
var ao=[110,240,190,200];D(A.hj(-.6),3,ao);ao[3]=100;D(A.hj(-.6),7,ao);var en=[230,120,40,85];D(A.hj(-.73),9,en);
var fK=[60,60,190,50];_(A.hj(.3),28,fK,6);fK[3]=25;_(A.hj(.34),20,fK,3)};q[2]=function $(){var Q=[255,255,255,255],P=0,bM=0;
_(A.hj(1),13,Q);T(A.hj(1),150,Q,Q[3],137);var kF=[120,80,35,20];_(A.hj(1.4),260,kF,10);for(var S=0;S<40;
S++){P+=5+Math.random()*30;bM=Math.random()*L(300);a(A.hj(1).OA(P,bM),[110,110,110,20])}var jW=[10,30,255,30];
_(A.hj(1),70,jW,50);var fX=[15,90,170,15];_(A.hj(1.5),60,fX);var bX=[220,220,20,50];_(A.hj(-1.15),8,bX,2);
var Q=[255,255,255,40];D(A.hj(-1.18),6,Q);D(A.hj(-1.18),4,Q);bX=[110,110,10,8];m(A.hj(-1.2),32,E(bX),-bX[3],20,3);
var ao=[5,0,16,255];for(var S=0;S<4;S++){_(A.hj(-1.36),10,ao,3)}var en=[90,200,150,20],fK=en.slice(0);
fK[3]*=2;_(A.hj(-1.32),7,fK,3);_(A.hj(-1.36),7,fK,3);_(A.hj(-1.4),7,fK,3);var Q=[230,230,230,100];D(A.hj(-1.36),2,Q);
Q[3]=3;_(A.hj(-.55),10,Q);bX=[120,100,10,18];_(A.hj(-.55),160,bX,8);_(A.hj(-.55),80,bX,4);en[3]=3;fK[3]=6;
m(A.hj(-.49),13,E(fK),-fK[3],13,2);m(A.hj(-.55),13,E(fK),-fK[3],13,2);en[3]=20;_(A.hj(.15),25,en,3);
bX[3]=100;D(A.hj(-.52),3,bX);bX=[200,200,50,40];_(A.hj(.27),1,bX,4);var bO=[150,40,23,30];m(A.hj(1),80,E(bO),-bO[3],2,1)};
return q[B[0]]()};v.Fp={};v.Fp.VT=function(d){var W=d.length,bd=d[0].length,c=new Array(bd);for(var S=0;
S<bd;S++)c[S]=new Array(W);for(var S=0;S<bd;S++)for(var y=0;y<W;y++)c[S][y]=d[y][S];return c};v.Fp.Sa=function(d,W){var c=d.length,bd=d[0].length,y=new Array(c);
for(var S=0;S<c;S++)y[S]=new Array(bd);for(var S=0;S<c;S++)for(var B=0;B<bd;B++)y[S][B]=d[S][B]-W[S][B];
return y};v.Fp.add=function(d,W){var c=d.length,bd=d[0].length,y=new Array(c);for(var S=0;S<c;S++)y[S]=new Array(bd);
for(var S=0;S<c;S++)for(var B=0;B<bd;B++)y[S][B]=d[S][B]+W[S][B];return y};v.Fp.multiply=function(d,W){var c=d.length,y=d[0].length,bd=W[0].length;
if(y!=W.length)throw"e";var B=new Array(c);for(var S=0;S<c;S++)B[S]=new Array(bd);if((y&1)!=0)for(var S=0;
S<c;S++){var r=d[S],x=B[S];for(var Z=0;Z<bd;Z++){var i=0;for(var k=0;k<y;k++)i+=r[k]*W[k][Z];x[Z]=i}}else for(var S=0;
S<c;S++){var r=d[S],x=B[S];for(var Z=0;Z<bd;Z++){var i=0;for(var k=0;k<y;k+=2)i+=r[k]*W[k][Z]+r[k+1]*W[k+1][Z];
x[Z]=i}}return B};v.Fp.RX=function(d,W){var c=d.length,bd=d[0].length,y=new Array(c);for(var S=0;S<c;
S++){var B=0;for(var r=0;r<bd;r++)B+=d[S][r]*W[r];y[S]=B}return y};v.Fp.m6=function(d,W){var c=[];for(var S=0;
S<d;S++){c.push([]);for(var y=0;y<W;y++)c[S].push(0)}return c};v.Fp.auJ=function(d){for(var S=0;S<d.length;
S++)console.log(JSON.stringify(d[S]))};v.Fp.a8n=function(d){var W=[];for(var S=0;S<d.length;S++)W.push(d[S].join(","));
return"["+W.join(";")+"]"};v.Fp.Sc=function(d,W){var c=d.length;for(var y=0;y<c;y++){var B=0,r=Number.NEGATIVE_INFINITY;
for(var S=y;S<c;S++)if(Math.abs(d[S][y])>r){B=S;r=Math.abs(d[S][y])}v.Fp.ajl(d,y,B);for(var S=y+1;S<c;
S++){if(d[y][y]==0)return 1;var x=d[S][y]/d[y][y];for(var Z=y;Z<c+1;Z++)d[S][Z]-=d[y][Z]*x}}for(var S=c-1;
S>=0;S--){if(d[S][S]==0)return 1;var i=d[S][c]/d[S][S];W[S]=i;for(var Z=S-1;Z>=0;Z--){d[Z][c]-=d[Z][S]*i;
d[Z][S]=0}}return 0};v.Fp.ajl=function(d,W,c){var y=d[W];d[W]=d[c];d[c]=y};v.Fp.ape=function(d){var W=d.length,c=v.Fp.m6(W,W);
for(var S=0;S<W;S++)c[S][S]=d[S];return c};v.Fp.ae_=function(d){var W=d.length,c=d[0].length,y=new Array(W);
for(var S=0;S<W;S++){y[S]=0;for(var B=0;B<c;B++)y[S]+=d[S][B];y[S]/=c}return y};v.Fp.cp=function(d){var W=0;
for(var S=0;S<d.length;S++)W+=d[S]*d[S];return Math.sqrt(W)};v.hu={};v.hu.IY=function(d){var W=~~(d+.5);
return W<0?0:W>255?255:W};v.hu.transform=function(d,W,c){var y=v.hu.IY,B=d.Z.length;for(var S=0;S<B;
S++){var r=d.Z[S],x=d.G[S],Z=d.J[S];W.Z[S]=y(c[0]*r+c[1]*x+c[2]*Z+c[3]*255);W.G[S]=y(c[4]*r+c[5]*x+c[6]*Z+c[7]*255);
W.J[S]=y(c[8]*r+c[9]*x+c[10]*Z+c[11]*255)}};v.hu.aC_=function(d,W,c){var y=v.hu.IY,B=d.length;for(var S=0;
S<B;S+=4){var r=d[S],x=d[S+1],Z=d[S+2];W[S]=y(c[0]*r+c[1]*x+c[2]*Z+c[3]*255);W[S+1]=y(c[4]*r+c[5]*x+c[6]*Z+c[7]*255);
W[S+2]=y(c[8]*r+c[9]*x+c[10]*Z+c[11]*255)}};v.hu.a3G=function(d){var W=d[0]+d[1]+d[2],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(W==1){var y=d.indexOf(1);c[y]=c[y+4]=c[y+8]=1}else{c[0]=d[0];c[5]=d[1];c[10]=d[2]}return c};v.hu.nO=function(d,W,c){return[1,0,0,d,0,1,0,W,0,0,1,c,0,0,0,1]};
v.hu.at=function(d,W,c){return[d,0,0,0,0,W,0,0,0,0,c,0,0,0,0,1]};v.hu.a6g=function(d){return[d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]]};
v.hu.qs=function(d){return[d[0],d[1],d[2],0,d[3],d[4],d[5],0,d[6],d[7],d[8],0,0,0,0,1]};v.hu.ul=function(d,W){return[d[0]*W[0]+d[1]*W[1]+d[2]*W[2]+d[3]*W[3],d[4]*W[0]+d[5]*W[1]+d[6]*W[2]+d[7]*W[3],d[8]*W[0]+d[9]*W[1]+d[10]*W[2]+d[11]*W[3],d[12]*W[0]+d[13]*W[1]+d[14]*W[2]+d[15]*W[3]]};
v.hu.VT=function(d){var W=[];W[0]=d[0];W[1]=d[4];W[2]=d[8];W[3]=d[12];W[4]=d[1];W[5]=d[5];W[6]=d[9];
W[7]=d[13];W[8]=d[2];W[9]=d[6];W[10]=d[10];W[11]=d[14];W[12]=d[3];W[13]=d[7];W[14]=d[11];W[15]=d[15];
return W};v.hu.add=function(d,W){var c=d.slice(0);for(var S=0;S<16;S++)c[S]+=W[S];return c};v.hu.multiply=function(d,W){var c=[];
c[0]=d[0]*W[0]+d[1]*W[4]+d[2]*W[8]+d[3]*W[12];c[1]=d[0]*W[1]+d[1]*W[5]+d[2]*W[9]+d[3]*W[13];c[2]=d[0]*W[2]+d[1]*W[6]+d[2]*W[10]+d[3]*W[14];
c[3]=d[0]*W[3]+d[1]*W[7]+d[2]*W[11]+d[3]*W[15];c[4]=d[4]*W[0]+d[5]*W[4]+d[6]*W[8]+d[7]*W[12];c[5]=d[4]*W[1]+d[5]*W[5]+d[6]*W[9]+d[7]*W[13];
c[6]=d[4]*W[2]+d[5]*W[6]+d[6]*W[10]+d[7]*W[14];c[7]=d[4]*W[3]+d[5]*W[7]+d[6]*W[11]+d[7]*W[15];c[8]=d[8]*W[0]+d[9]*W[4]+d[10]*W[8]+d[11]*W[12];
c[9]=d[8]*W[1]+d[9]*W[5]+d[10]*W[9]+d[11]*W[13];c[10]=d[8]*W[2]+d[9]*W[6]+d[10]*W[10]+d[11]*W[14];c[11]=d[8]*W[3]+d[9]*W[7]+d[10]*W[11]+d[11]*W[15];
c[12]=d[12]*W[0]+d[13]*W[4]+d[14]*W[8]+d[15]*W[12];c[13]=d[12]*W[1]+d[13]*W[5]+d[14]*W[9]+d[15]*W[13];
c[14]=d[12]*W[2]+d[13]*W[6]+d[14]*W[10]+d[15]*W[14];c[15]=d[12]*W[3]+d[13]*W[7]+d[14]*W[11]+d[15]*W[15];
return c};v.hu.QE=function(d){var W=[];W[0]=d[5]*d[10]*d[15]-d[5]*d[14]*d[11]-d[6]*d[9]*d[15]+d[6]*d[13]*d[11]+d[7]*d[9]*d[14]-d[7]*d[13]*d[10];
W[1]=-d[1]*d[10]*d[15]+d[1]*d[14]*d[11]+d[2]*d[9]*d[15]-d[2]*d[13]*d[11]-d[3]*d[9]*d[14]+d[3]*d[13]*d[10];
W[2]=d[1]*d[6]*d[15]-d[1]*d[14]*d[7]-d[2]*d[5]*d[15]+d[2]*d[13]*d[7]+d[3]*d[5]*d[14]-d[3]*d[13]*d[6];
W[3]=-d[1]*d[6]*d[11]+d[1]*d[10]*d[7]+d[2]*d[5]*d[11]-d[2]*d[9]*d[7]-d[3]*d[5]*d[10]+d[3]*d[9]*d[6];
W[4]=-d[4]*d[10]*d[15]+d[4]*d[14]*d[11]+d[6]*d[8]*d[15]-d[6]*d[12]*d[11]-d[7]*d[8]*d[14]+d[7]*d[12]*d[10];
W[5]=d[0]*d[10]*d[15]-d[0]*d[14]*d[11]-d[2]*d[8]*d[15]+d[2]*d[12]*d[11]+d[3]*d[8]*d[14]-d[3]*d[12]*d[10];
W[6]=-d[0]*d[6]*d[15]+d[0]*d[14]*d[7]+d[2]*d[4]*d[15]-d[2]*d[12]*d[7]-d[3]*d[4]*d[14]+d[3]*d[12]*d[6];
W[7]=d[0]*d[6]*d[11]-d[0]*d[10]*d[7]-d[2]*d[4]*d[11]+d[2]*d[8]*d[7]+d[3]*d[4]*d[10]-d[3]*d[8]*d[6];W[8]=d[4]*d[9]*d[15]-d[4]*d[13]*d[11]-d[5]*d[8]*d[15]+d[5]*d[12]*d[11]+d[7]*d[8]*d[13]-d[7]*d[12]*d[9];
W[9]=-d[0]*d[9]*d[15]+d[0]*d[13]*d[11]+d[1]*d[8]*d[15]-d[1]*d[12]*d[11]-d[3]*d[8]*d[13]+d[3]*d[12]*d[9];
W[10]=d[0]*d[5]*d[15]-d[0]*d[13]*d[7]-d[1]*d[4]*d[15]+d[1]*d[12]*d[7]+d[3]*d[4]*d[13]-d[3]*d[12]*d[5];
W[11]=-d[0]*d[5]*d[11]+d[0]*d[9]*d[7]+d[1]*d[4]*d[11]-d[1]*d[8]*d[7]-d[3]*d[4]*d[9]+d[3]*d[8]*d[5];W[12]=-d[4]*d[9]*d[14]+d[4]*d[13]*d[10]+d[5]*d[8]*d[14]-d[5]*d[12]*d[10]-d[6]*d[8]*d[13]+d[6]*d[12]*d[9];
W[13]=d[0]*d[9]*d[14]-d[0]*d[13]*d[10]-d[1]*d[8]*d[14]+d[1]*d[12]*d[10]+d[2]*d[8]*d[13]-d[2]*d[12]*d[9];
W[14]=-d[0]*d[5]*d[14]+d[0]*d[13]*d[6]+d[1]*d[4]*d[14]-d[1]*d[12]*d[6]-d[2]*d[4]*d[13]+d[2]*d[12]*d[5];
W[15]=d[0]*d[5]*d[10]-d[0]*d[9]*d[6]-d[1]*d[4]*d[10]+d[1]*d[8]*d[6]+d[2]*d[4]*d[9]-d[2]*d[8]*d[5];var c=d[0]*W[0]+d[1]*W[4]+d[2]*W[8]+d[3]*W[12];
for(var S=0;S<16;S++)W[S]/=c;return W};v.hu.adr=function(d){var W=[],c=d[5]*d[10]*d[15]-d[5]*d[14]*d[11]-d[6]*d[9]*d[15]+d[6]*d[13]*d[11]+d[7]*d[9]*d[14]-d[7]*d[13]*d[10],y=-d[4]*d[10]*d[15]+d[4]*d[14]*d[11]+d[6]*d[8]*d[15]-d[6]*d[12]*d[11]-d[7]*d[8]*d[14]+d[7]*d[12]*d[10],B=d[4]*d[9]*d[15]-d[4]*d[13]*d[11]-d[5]*d[8]*d[15]+d[5]*d[12]*d[11]+d[7]*d[8]*d[13]-d[7]*d[12]*d[9],r=-d[4]*d[9]*d[14]+d[4]*d[13]*d[10]+d[5]*d[8]*d[14]-d[5]*d[12]*d[10]-d[6]*d[8]*d[13]+d[6]*d[12]*d[9];
return d[0]*c+d[1]*y+d[2]*B+d[3]*r};v.hu.Wy=function(d,W,c,y){var B=Math.sin(y),r=Math.cos(y),x=1/Math.sqrt(d*d+W*W+c*c);
d*=x;W*=x;c*=x;return v.hu.qs([d*d*(1-r)+r,d*W*(1-r)-c*B,d*c*(1-r)+W*B,d*W*(1-r)+c*B,W*W*(1-r)+r,W*c*(1-r)-d*B,d*c*(1-r)-W*B,W*c*(1-r)+d*B,c*c*(1-r)+r])};
v.hu.cu=v.hu.qs([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
v.hu.a8H=v.hu.qs([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
v.hu.a6Z=v.hu.QE(v.hu.cu);v.G6={};v.G6.Z5=new Uint32Array(1);v.G6.azR=function(d,W,c,y,B,r){var x=new Uint32Array(d),Z=0,i=v.G6.Z5;
if(i.length<W*4)v.G6.Z5=i=new Uint32Array(W*4);var k=new Float64Array(i.buffer);for(var S=0;S<W;S+=2){var H=B[S],V=B[S+1],g=r[S],N=r[S+1];
i[Z]=V;k[Z+2>>1]=g;i[Z+1]=x[H];x[H]=Z+1;Z+=4;i[Z]=H;k[Z+2>>1]=N;i[Z+1]=x[V];x[V]=Z+1;Z+=4}return{cl:i,a3v:k,ai2:x}};
v.G6.Sc=function(d,W,c,y,B,r,x){var Z=1,i=v.G6.azR(d,W,c,y,B,r),k=i.cl,H=i.a3v,V=i.ai2,g=new Uint32Array(d),N=new v.G6.AU(d),w=1,l=0;
N.push(c);N.push(y);var C=new v.G6.AU(d),Y=new Uint8Array(d),U=new Uint32Array(d);Y[c]=1;Y[y]=2;var e=new Uint32Array(d),O=new Uint32Array(d);
O[c]=O[y]=0;e[c]=e[y]=1;while(!0){var I=-1,F=0,_=1e30;while(!N.Eg()&&I==-1){var s=N.top(),z=Y[s],R=V[s]-1;
while(R!=-1){var t=k[R],a=Y[t],J=R^z-1<<2;if(H[J+2>>1]!=0){if(a==0){v.G6.Xy(s,R,t,Y,U,O,e);N.push(t)}else if(a==z&&e[t]<=e[s]&&O[t]>O[s])v.G6.Xy(s,R,t,Y,U,O,e);
else if(a!=z){I=J}}R=k[R+1]-1}if(I!=-1)break;N.pop()}if(I==-1){break}w++;var h=I;while(h!=-1){g[F]=h;
F++;h=U[k[h^4]]-1}var m=F>>1;for(var S=0;S<m;S++){var D=g[S];g[S]=g[F-S-1];g[F-S-1]=D}h=U[k[I]]-1;while(h!=-1){g[F]=h^4;
F++;h=U[k[h^4]]-1}for(var S=0;S<F;S++)_=Math.min(_,H[g[S]+2>>1]);l+=_;if(l>=x)return{pz:null,At:l};for(var S=0;
S<F;S++){var n=g[S],j=n^4,s=k[j],t=k[n];H[n+2>>1]-=_;H[j+2>>1]+=_;if(H[n+2>>1]==0&&Y[s]==Y[t]){if(Y[s]==1){U[t]=0;
C.push(t)}if(Y[s]==2){U[s]=0;C.push(s)}}}while(!C.Eg()){var s=C.pop(),z=Y[s],R=V[s]-1,T=z==1?4:0,L=0,p=0,E=1e9;
while(R!=-1){var t=k[R],G=R^4,J=R^T;if(Y[t]==z&&H[J+2>>1]>0&&v.G6.alX(t,c,y,U,k,w,e,O)+1<E){L=t;p=G;
E=O[t]+1}R=k[R+1]-1}if(p!=0){v.G6.Xy(L,p,s,Y,U,O,e);continue}R=V[s]-1;while(R!=-1){var t=k[R],J=R^T;
if(Y[t]==z){if(H[J+2>>1]>0){N.push(t)}if(U[t]==R+1){U[t]=0;C.push(t)}}R=k[R+1]-1}Y[s]=0;N.remove(s)}}var A=[];
for(var S=0;S<W;S+=2){var s=B[S],t=B[S+1];if(Y[s]==1&&Y[t]!=1){A.push(S>>1)}if(Y[t]==1&&Y[s]!=1){A.push(W+S>>1)}}return{pz:A,At:l}};
v.G6.Xy=function(d,W,c,y,B,r,x){y[c]=y[d];B[c]=W+1;r[c]=r[d]+1;x[c]=x[d]};v.G6.alX=function(d,W,c,y,B,r,x,Z){var i=d,k=y[d]-1,H=0;
while(k!=-1&&x[d]!=r){d=B[k^4];k=y[d]-1;H++}if(k==-1&&d!=W&&d!=c)return 1e9;var V=Z[d]+H;H=0;k=y[i]-1;
while(i!=d){Z[i]=V-H;H++;x[i]=r;i=B[k^4];k=y[i]-1}return V};v.G6.apc=function(d,W,c,y,B,r){var x=v.G6.azR(d,W,c,y,B,r),Z=x.cl,i=x.a3v,k=x.ai2,H=0,V=0,g=new Uint32Array(d*2),N=new v.G6.aDN(d),C=0;
while(!0){N.reset();N.push(c);for(var S=0;S<d;S++)g[S<<1]=0;while(!N.Eg()){var w=N.pop(),Y=k[w]-1;while(Y!=-1){C=Z[Y];
if(g[C<<1]==0&&i[Y+2>>1]>0&&C!=c){g[C<<1]=w+1;g[(C<<1)+1]=Y;N.push(C)}Y=Z[Y+1]-1}if(g[y<<1]!=0){break}}if(g[y<<1]==0){break}var U=1e30;
C=y;while(!0){var e=g[C<<1]-1;if(e==-1)break;var O=g[(C<<1)+1];U=Math.min(U,i[O+2>>1]);C=e}C=y;while(!0){var e=g[C<<1]-1;
if(e==-1)break;var O=g[(C<<1)+1],l=O^4;i[O+2>>1]-=U;i[l+2>>1]+=U;C=e}H+=U}var I=[];for(var S=0;S<W;S+=2){var e=B[S],C=B[S+1];
if((g[e<<1]!=0||e==c)&&g[C<<1]==0&&C!=c){I.push(S>>1)}if((g[C<<1]!=0||C==c)&&g[e<<1]==0&&e!=c){I.push(W+S>>1)}}return{pz:I,At:H}};
v.G6.aDN=function(d){d|=d>>1;d|=d>>2;d|=d>>4;d|=d>>8;d|=d>>16;this.rc=new Uint32Array(d+1);this.uN=d;
this.mV=0;this.O2=0};v.G6.aDN.prototype={push:function(d){var W=this.O2;this.rc[W]=d;this.O2=W+1&this.uN},pop:function(){var d=this.mV,W=this.rc[d];
this.mV=d+1&this.uN;return W},Eg:function(){return this.mV==this.O2},reset:function(){this.mV=0;this.O2=0}};
v.G6.AU=function(d){d|=d>>1;d|=d>>2;d|=d>>4;d|=d>>8;d|=d>>16;this.rc=new Uint32Array(d+1);this.li=new Uint32Array(d+1);
this.uN=d;this.mV=0;this.O2=0};v.G6.AU.prototype={top:function(){return this.rc[this.mV]},apw:function(){return this.rc[this.O2]},push:function(d){if(this.li[d]!=0)return;
this.li[d]=this.O2+1;var W=this.O2;this.rc[W]=d;this.O2=W+1&this.uN},pop:function(){var d=this.mV,W=this.rc[d];
this.li[W]=0;this.mV=d+1&this.uN;return W},Eg:function(){return this.mV==this.O2},remove:function(d){var W=this.li[d]-1;
if(W==-1)return;this.li[d]=0;if(W==this.mV){this.pop();return}var c=this.pop();this.rc[W]=c;this.li[c]=W+1},Q2:function(S){return S+this.uN+1&this.uN}};
v.G6.a9P=function(d,W,c){var y=v.G6.TY(d,W,c);if(W<y-1)v.G6.a9P(d,W,y-1);if(y<c)v.G6.a9P(d,y,c)};v.G6.TY=function(d,W,c){var y=d[W+c>>>1];
while(W<=c){while(d[W]<y)W++;while(d[c]>y)c--;if(W<=c){v.G6.NN(d,W,c);W++;c--}}return W};v.G6.NN=function(d,W,c){var y=d[W];
d[W]=d[c];d[c]=y};v.SV=function(){var d,W;function c(x,Z,bd){var i=bd-1,k=Z+bd;d[bd-2]=x[k-2];W[0]=x[k-1];
var H=Math.max;for(var S=1;S<i;S++){d[bd-2-S]=H(d[bd-1-S],x[k-2-S]);W[S]=H(W[S-1],x[k-1+S])}for(var S=0;
S<i;S++)x[Z+S]=H(d[S],W[S])}function y(x,Z,bd){var i=bd-1,k=Math.ceil(Z/i)*i;for(var H=0;H<k;H+=i)c(x,H,bd)}function B(x,Z,i,k,bd,H){Z.set(x);
if(bd==1)return;d=v.R(bd-1);W=v.R(bd-1);var V=bd>>>1,g=v.R(Math.ceil(Math.max(i,k)/(bd-1))*(bd-1)+(bd-2)),N=new Uint8Array(g.buffer,0,i);
if(!H)v.QE(Z);for(var C=0;C<k;C++){g.fill(0);g.set(new Uint8Array(Z.buffer,C*i,i),V);y(g,i,bd);Z.set(N,C*i)}for(var w=0;
w<i;w++){g.fill(0);for(var C=0;C<k;C++)g[C+V]=Z[C*i+w];y(g,k,bd);for(var C=0;C<k;C++)Z[C*i+w]=g[C]}if(!H)v.QE(Z)}function r(x,Z,i,k,bd,H){var V=v.R(i*k);
for(var g=0;g<4;g++){v.$P(x,V,g);if(g==3)v.QE(V);B(V,V,i,k,bd,H);if(g==3)v.QE(V);v.nP(V,Z,g)}}return{BX:B,a0r:r}}();
v.dr={};v.dr.aC9=function(d){for(var S=0;S<d.length;S++)v.dr.CY(d,S)};v.dr.CY=function(d,S){d[S].v.keyShapeInvalidated={t:"bool",v:!0}};
v.dr.aiS=function(d){for(var S=0;S<d.length;S++)d[S].v.keyOriginIndex.v=S};v.dr.bL=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
v.dr.hi=function(d){d=d.v;var W={Rctn:2,Ln:4,Elps:5},c=W[d.classID],y=d.topLeft?v.dr.a8W(d):null,B=null,r=0,x=[!1,!1,0,0,0];
if(c==4){var Z=d.Strt.v,i=d.End.v;B=[Z.Hrzn.v.val,Z.Vrtc.v.val,i.Hrzn.v.val,i.Vrtc.v.val];r=d.Wdth.v.val;
for(var S=0;S<2;S++){var k=d[S==0?"StrA":"EndA"];if(k==null)continue;k=k.v;x[S]=k.On.v;x[2]=k.Wdth.v;
x[3]=k.Lngt.v;x[4]=k.Cncv.v.val}}if(c==null)return null;return v.dr.Y0(c,c==4?null:v.dr.vJ(d),y,B,r,x)};
v.dr.wC=function(d,W,c,y,B,r,x){var Z={classID:d,unitValueQuadVersion:{t:"long",v:1}};if(W)v.dr.w8(Z,["Left","Top","Rght","Btom"],W);
if(c)v.dr.w8(Z,["topLeft","topRight","bottomRight","bottomLeft"],c);if(d=="Ln"){Z.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:y[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:y[1]}}}},Z.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:y[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:y[3]}}}},Z.Wdth={t:"UntF",v:{type:"#Pxl",val:B}};
for(var S=0;S<2;S++){var i=S==0?"StrA":"EndA";Z[i]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:x[S]},Wdth:{t:"doub",v:x[2]},Lngt:{t:"doub",v:x[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:x[4]}}}}}}if(r)Z.Nm={t:"TEXT",v:r};
return{t:"Objc",v:Z}};v.dr.auW=function(d,W){var c=v.dr.BT(d),y=d[2]-d[0],B=d[3]-d[1],r=Math.sqrt(y*y+B*B),x=[0,0,r,0,r,W,0,W],Z=new dT;
Z.rotate(-c);Z.translate(d[0],d[1]);v.A.e(x,Z,x);return x};v.dr.Y0=function(d,W,c,y,B,r){var x=v.dr.bL(),Z=x.v,i;
delete Z.keyShapeInvalidated;Z.keyOriginType={t:"long",v:d};Z.keyOriginResolution={t:"doub",v:75};if(d==4){Z.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:y[0]},Vrtc:{t:"doub",v:y[1]}}};
Z.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:y[2]},Vrtc:{t:"doub",v:y[3]}}};i=v.dr.auW(y,B);
var k=v.A.c7(i);W=[k.x,k.y,k.x+k.m,k.y+k.i];Z.keyOriginLineWeight={t:"doub",v:B};if(r)v.dr.aCa(Z,r)}else i=[W[0],W[1],W[2],W[1],W[2],W[3],W[0],W[3]];
Z.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};v.dr.Tg(Z,"keyOriginBoxCorners",i);var H={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
Z.keyOriginShapeBBox={t:"Objc",v:H};v.dr.aey(Z,W);if(c!=null){var V={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
Z.keyOriginRRectRadii={t:"Objc",v:V};v.dr.FY(Z,c)}return x};v.dr.e=function(d,W,c,y){var B=v.D.aiZ(W),r=v.D.a1Z(W),x=v.D.hM(W),Z=x.U*x.x7-x.J*x.gp;
for(var S=0;S<d.length;S++){var i=d[S].v;if(!v.dr.wI(i))continue;if(c.length!=0&&c.indexOf(S)==-1)continue;
var k=i.keyOriginType.v,H=W;if(Z<0&&k==2){var V=v.dr.D6(i),g=0;g=V[0];V[0]=V[1];V[1]=g;g=V[2];V[2]=V[3];
V[3]=g;v.dr.FY(i,V);var N=v.dr.Hf(i,"keyOriginBoxCorners"),C=v.A.c7(N),w=C.x+C.m/2,Y=new dT;Y.translate(-w,0);
Y.scale(-1,1);Y.translate(w,0);H=v.D.lU(H,v.D.MK(Y))}var U=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var e=0;e<U.length;e++){var N=v.dr.Hf(i,U[e]);if(N==null)continue;v.D.e(H,N);v.dr.Tg(i,U[e],N);var C=v.A.c7(N);
v.dr.aey(i,[C.x,C.y,C.x+C.m,C.y+C.i]);var O=new dT;O.rotate(-v.dr.BT(N));var l={classID:"Trnf"};i.Trnf={t:"Objc",v:l};
var I="xx xy yx yy tx ty".split(" "),s=[O.U,O.J,O.gp,O.x7,O.IS,O.rk];for(var z=0;z<6;z++)l[I[z]]={t:"doub",v:s[z]}}if(k==2&&y){var V=v.dr.D6(i);
for(var e=0;e<4;e++)V[e]=Math.round(V[e]*W[0]);v.dr.FY(i,V)}var N=v.dr.Hf(i,"keyOriginBoxCorners"),R=N[2]-N[0],t=N[3]-N[1],a=Math.sqrt(R*R+t*t);
R/=a;t/=a;var J=N[6]-N[0],F=N[7]-N[1],h=Math.sqrt(J*J+F*F);J/=h;F/=h;if(k==4){i.keyOriginLineWeight.v=h;
var m=v.dr.LL(i);v.D.e(W,m);v.dr.abR(i,m)}var D=R*J+t*F;if(Math.abs(D)>.001){v.dr.CY(d,S)}}};v.dr.wI=function(d){var W=d.keyShapeInvalidated,c=d.keyOriginType;
return(W==null||!W.v)&&c!=null&&c.v!=9};v.dr.aBy=function(d){var W=d.keyOriginType.v,c=v.dr.qS(d),y=c[0],B=c[1],r=c[2],x=c[3],Z=new dT,i=d.keyOriginPolyCornerRadius,N;
i=i?i.v:0;var k=v.dr.Hf(d,W==7||W==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),H=v.dr.agu(k),V=H[2],g=H[3];
y=-V/2;r=V/2;B=-g/2;x=g/2;Z.rotate(-v.dr.BT(k));Z.IS=H[0];Z.rk=H[1];if(W==1||W==2){var C=W==1?0:v.dr.D6(d);
N=v.o.GP.Rect(y,B,r-y,x-B,C)}else if(W==4){var w=v.dr.LL(d),Y=v.dr.aAr(d);Z=new dT;if(Y==null)N=v.o.GP.gB(w[0],w[1],w[2],w[3],d.keyOriginLineWeight.v);
else N=v.o.GP.X_(w[0],w[1],w[2],w[3],d.keyOriginLineWeight.v,Y)}else if(W==5){N=v.o.GP.a8(y,B,r-y,x-B)}else if(W==7||W==8){var U=W==7?3:d.keyOriginPolySides.v;
N=v.o.GP.g9(0,0,100,Math.PI/U-Math.PI/2,U,i,r,x)}v.o.hn(N,Z);return N};v.dr.u_=function(d,W){var c=W.Y;
for(var S=0;S<d.length;S++){var y=d[S].v;if(!v.dr.wI(y))continue;var B=v.dr.aBy(y),r=v.o.ke(c,S),x=v.o.PG(c,S);
B[2].p5=c[r].p5;var Z=c;c=c.slice(0,r);for(var i=2;i<B.length;i++)c.push(B[i]);for(var i=r+x;i<Z.length;
i++)c.push(Z[i])}W.Y=c;W.Zv=!0};v.dr.bO=function(d){var W=1e9,c=-W,y=1e9,B=-y,r=[],x=d.Tz(),Z=x[0],i=x[1];
for(var k=0;k<i.length;k++){var H=Z[i[k]],V=H.add.vogk;if(V==null)continue;var g=H.add.vmsk.g;for(var N=0;
N<V.length;N++){var C=V[N].v,U=0;if(!v.dr.wI(C))continue;if(i.length==1&&g.length!=0&&g.indexOf(N)==-1)continue;
var w=C.keyOriginType.v;if(w==9)continue;var Y=v.dr.qS(C);W=Math.min(W,Y[0]);y=Math.min(y,Y[1]);c=Math.max(c,Y[2]);
B=Math.max(B,Y[3]);var e=v.dr.Hf(C,"keyOriginBoxCorners");if(e){var O=v.dr.agu(e),l=O[2],I=O[3];Y[2]=Y[0]+l;
Y[3]=Y[1]+I;U=v.dr.BT(e)}var s=[w,Y,U];r.push(s);var z=C.keyOriginPolyCornerRadius;if(w==2)s.push(v.dr.D6(C));
if(w==7||w==8)s.push(z?z.v:0);if(w==8)s.push(C.keyOriginPolySides.v)}}return r.length==1?r[0]:[0,W<c?[W,y,c,B]:null,0]};
v.dr.BT=function(d){var W=d[2]-d[0],c=d[3]-d[1];return-Math.atan2(-c,W)};v.dr.a9a=function(d){var W=v.dr.qS(d);
return v.dr.BT(W)};v.dr.aba=function(d,W,c){var y=v.dr.bO(d),B=-1;for(var S=0;S<W.length;S++)if(JSON.stringify(W[S])!=JSON.stringify(y[S]))B=S;
if(B==1||B==2){}var r=d.Tz(),x=r[0],Z=r[1];for(var i=0;i<Z.length;i++){var k=x[Z[i]],H=k.add.vogk;if(H==null)continue;
var V=k.add.vmsk.g;for(var g=0;g<H.length;g++){var N=H[g].v;if(!v.dr.wI(N))continue;if(Z.length==1&&V.length!=0&&V.indexOf(g)==-1)continue;
var C=N.keyOriginType.v;if(B==1||B==2){v.dr.e(H,v.dr.a41(B,N,y,W),V,!1);break}if(B==3)if(C==2)v.dr.FY(N,W[3]);
else N.keyOriginPolyCornerRadius={t:"doub",v:W[3]};if(B==4)N.keyOriginPolySides.v=W[4];if(c)v.dr.CY(H,g)}}};
v.dr.a41=function(d,W,c,y){var B=y[1],r=c[1],x=(B[2]-B[0])/(r[2]-r[0]),Z=(B[3]-B[1])/(r[3]-r[1]),i=new dT;
if(d==1){if(Math.max(Math.abs(x-1),Math.abs(Z-1))>1e-8){var k=B[0],H=B[1];if(y[0]!=0){var V=v.dr.Hf(W,"keyOriginBoxCorners");
k=V[0];H=V[1]}i.translate(-k,-H);i.rotate(y[2]);i.scale(x,Z);i.rotate(-y[2]);i.translate(k,H)}else{i.translate(-r[0],-r[1]);
i.translate(B[0],B[1])}}else{if(y[0]!=0)B=v.dr.qS(W);var k=(B[0]+B[2])/2,H=(B[1]+B[3])/2;i.translate(-k,-H);
if(c[0]!=0)i.rotate(c[2]);i.rotate(-y[2]);i.translate(k,H)}return v.D.MK(i)};v.dr.agu=function(d){var W=d[0],c=d[1],y=d[2],B=d[3],r=d[4],x=d[5],Z=d[6],i=d[7],k=y-W,H=B-c,V=Math.sqrt(k*k+H*H),k=r-y,H=x-B,g=Math.sqrt(k*k+H*H);
return[(W+r)/2,(c+x)/2,V,g]};v.dr.Hf=function(d,W){var c=d[W];if(c==null)return null;var y=[];c=c.v;
for(var B=0;B<4;B++){var r=c["rectangleCorner"+["A","B","C","D"][B]].v;y.push(r.Hrzn.v,r.Vrtc.v)}return y};
v.dr.Tg=function(d,W,c){var y=d[W];if(y==null)return null;y=y.v;for(var B=0;B<4;B++){var r="rectangleCorner"+["A","B","C","D"][B];
y[r]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[2*B]},Vrtc:{t:"doub",v:c[2*B+1]}}}}};v.dr.qS=function(d){return v.dr.vJ(d.keyOriginShapeBBox.v)};
v.dr.vJ=function(d){var W=d.classID,c=d.Left.v,y=d.Rght.v,B=d.Top.v,r=d.Btom.v;if(c.val!=null){c=c.val;
y=y.val;B=B.val;r=r.val}return[c,B,y,r]};v.dr.aey=function(d,W){v.dr.w8(d.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],W)};
v.dr.D6=function(d){var W=d.keyOriginRRectRadii;if(W==null)return[0,0,0,0];return v.dr.a8W(W.v)};v.dr.a8W=function(d){var W=[],c=["topLeft","topRight","bottomRight","bottomLeft"];
for(var y=0;y<4;y++)W.push(d[c[y]].v.val);return W};v.dr.FY=function(d,W){v.dr.w8(d.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],W)};
v.dr.w8=function(d,W,c){var y=d.classID;if(y=="unitRect"||y=="radii"||y=="Rctn"){for(var S=0;S<4;S++)if(c[S]!=null)d[W[S]]={t:"UntF",v:{type:"#Pxl",val:c[S]}}}else{for(var S=0;
S<4;S++)if(c[S]!=null)d[W[S]]={t:"doub",v:c[S]}}};v.dr.LL=function(d){var W=d.keyOriginLineStart.v,c=d.keyOriginLineEnd.v;
return[W.Hrzn.v,W.Vrtc.v,c.Hrzn.v,c.Vrtc.v]};v.dr.abR=function(d,W){var c=d.keyOriginLineStart.v,y=d.keyOriginLineEnd.v;
c.Hrzn.v=W[0];c.Vrtc.v=W[1];y.Hrzn.v=W[2];y.Vrtc.v=W[3]};v.dr.aAr=function(d){var W=[],c=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var S=0;S<5;S++){var y=d["keyOriginLineArr"+c[S]];if(y==null)return null;W[S]=y.v}return W};v.dr.aCa=function(d,W){d.keyOriginLineArrowSt={t:"bool",v:W[0]};
d.keyOriginLineArrowEnd={t:"bool",v:W[1]};d.keyOriginLineArrWdth={t:"doub",v:W[2]};d.keyOriginLineArrLngth={t:"doub",v:W[3]};
d.keyOriginLineArrConc={t:"long",v:W[4]}};v.dr.apq=function(d){function W(s,z){return Math.abs(s-z)<.5}function c(s,z){return W(s.x,z.x)&&W(s.y,z.y)}function r(s,z,R,t,a,J,F){for(var S=0;
S<F;S++){var h=s[z+(R+S)%F],m=t[a+(J+S)%F];if(!(c(h.I,m.I)&&c(h.sV,m.sV)&&c(h.XM,m.XM)))return!1}return!0}var x=[];
for(var Z=0;Z<d.length;Z++){var i=d[Z],H=null;if(i.type!=0&&i.type!=3||i.p5==-1)continue;var k=Z;if(i.length==4||i.length==8){var V=v.o.aqD(d.slice(0,2).concat(d.slice(k,k+i.length+1)));
k=2;if(i.length==4){var g=v.o.bf(V,k+1,4),N=g.x,C=g.y,w=N+g.m,Y=C+g.i;if(g.P()>4){if(v.o.G0(V.slice(k-2,k+5)))H=v.dr.Y0(2,[N,C,w,Y],[0,0,0,0]);
else{var U=-1;for(var S=0;S<4;S++)if(W(V[k+1+S].I.y,Y))U=S;if(U!=-1){var e=v.o.GP.a8(N,C,w-N,Y-C),O=r(V,k+1,U,e,3,0,4);
if(O)H=v.dr.Y0(5,[N,C,w,Y])}}}}if(i.length==8){var g=v.o.bf(V,k+1,8),N=g.x,C=g.y,w=N+g.m,Y=C+g.i;if(g.P()>4){var U=-1;
for(var S=0;S<8;S++)if(W(V[k+1+(S+1&7)].I.y,C)&&W(V[k+1+(S+2&7)].I.y,C))U=S;if(U!=-1){var l=Math.abs(V[k+1+U].I.y-C),I=[l,l,l,l];
if(l>.5){var e=v.o.GP.Rect(N,C,w-N,Y-C,I),O=r(V,k+1,U,e,3,0,8);if(O)H=v.dr.Y0(2,[N,C,w,Y],I)}}}}}x.push(H?H:v.dr.bL())}return x};
v.A={};v.A.clone=function(d){return{r:d.r.slice(0),j:d.j.slice(0)}};v.A.a89=function(d){if(d.length<6)return!0;
var W=d.length-4;for(var S=0;S<W;S+=2)if(!v.A.ik(d[S],d[S+1],d[S+2],d[S+3],d[S+4],d[S+5]))return!1;if(!v.A.ik(d[W],d[W+1],d[W+2],d[W+3],d[0],d[1]))return!1;
if(!v.A.ik(d[W+2],d[W+3],d[0],d[1],d[2],d[3]))return!1;return!0};v.A.ik=function(d,W,c,y,B,r){return(W-y)*(B-c)+(c-d)*(r-y)>=0};
v.A.Kr=function(d){var W={},c=null,y=0,B={M:2,L:2,Q:4,C:6},r="",x="";for(var S=0;S<d.r.length;S++){var Z=d.r[S];
if(Z[0]=="#")r=Z;else if(Z[0]=="X")r="";else if(Z[0]=="O"&&Z[1]=="-")x=Z;else if(Z=="OX")x="";else{var i=r+x;
c=W[i];if(c==null)c=W[i]={j:[],r:[]};c.r.push(Z);var k=B[Z];if(k==null)k=0;for(var H=0;H<k;H++)c.j.push(d.j[y+H]);
y+=k}}return W};v.A.a2A=function(d,W,c){var y=d[W]-d[c-2],B=d[W+1]-d[c-1];return y*y+B*B<1e-4};v.A.fI=function(d,W,c){d=v.A.Oc(d);
var y=d.j,B=d.r,r=0,x="",Z=0,i=0,r=0,V=null;for(var S=0;S<B.length;S++){var k=B[S];if(k=="M"){Z=y[r];
i=y[r+1];r+=2;x=k}if(k=="C"){if(x=="Z"){B.splice(S,0,"M");y.splice(r,0,Z,i);S--;continue}r+=6;x=k}if(k=="Z"){x=k}}var H=[];
r=0;for(var S=0;S<B.length;S++){var k=B[S];if(k=="M"){V={E$:r,Ef:0,p3:!1};H.push(V);r+=2}if(k=="C"){V.Ef++;
r+=6}if(k=="Z"&&V!=null){V.p3=!0}}var g=[];for(var S=0;S<H.length;S++)if(H[S].Ef!=0)g.push(H[S]);H=g;
for(var S=0;S<H.length;S++){var N=H[S],C=N.E$,w=C+2+N.Ef*6,U=0;N.ur=v.A.c7(y,C,w);var Y=v.A.a2A(y,C,w);
for(var e=0;e<N.Ef;e++){var O=C+e*6,l=O+6;U+=(y[l]-y[O])*(y[l+1]+y[O+1])}if(N.Ef==2){var I=function(M,$,Q){var kF=1-Q;
return kF*kF*kF*M[$]+3*kF*kF*Q*M[$+2]+3*kF*Q*Q*M[$+4]+Q*Q*Q*M[$+6]},s=y[C],z=y[C+1],R=y[C+6],t=y[C+7],a=y[C+6],J=y[C+7],F=I(y,C,.5),h=I(y,C+1,.5),m=I(y,C+6,.5),D=I(y,C+7,.5);
U=(F-s)*(h-z)+(R-F)*(t-h)+(m-R)*(D-t)+(a-m)*(J-D)}if(!Y)U+=(y[C]-y[w-2])*(y[C+1]+y[w-1]);N.NM=U<=0}for(var S=0;
S<H.length-1;S++)for(var O=S+1;O<H.length;O++){var _=H[S],n=H[O];if(n.ur.M_(_.ur)){H[S]=n;H[O]=_}}var j=H.length==0?!0:H[0].NM,T=[{type:6},{type:8,all:0}];
for(var S=0;S<H.length;S++){var N=H[S],C=N.E$,w=C+2+N.Ef*6,Y=v.A.a2A(y,C,w);if(N.Ef==1)Y=!1;var L=N.p3||Y?0:3,p=N.NM==j&&!W?1:0;
if(!W&&S!=0){if(H[S-1].ur.M_(N.ur)&&H[S-1].NM!=N.NM)p=0;for(var O=0;O<H.length;O++)if(O!=S&&H[O].ur.M_(N.ur))p=0}T.push({type:L,length:N.Ef+(Y?0:1),p5:c?0:p,H4:2});
for(var O=0;O<N.Ef;O++){var r=C+O*6,E=new aL(y[r],y[r+1]),G=new aL(y[r+2],y[r+3]),A;if(O==0){if(Y){A=new aL(y[w-4],y[w-3]);
if(aL.Bg(A,E)<1e-5)A=E.clone()}else A=E.clone()}else A=new aL(y[r-2],y[r-1]);T.push({type:L+2,sV:A,I:E,XM:G})}if(!Y){var u=new aL(y[w-2],y[w-1]);
T.push({type:L+2,sV:new aL(y[w-4],y[w-3]),I:u,XM:u.clone()})}}for(var O=0;O<T.length;O++){var q=T[O];
if(q.type>5||q.type==0||q.type==3)continue;var o=q.sV.zI(q.I)||q.XM.zI(q.XM);if(!o){var _=q.sV.x*(q.I.y-q.XM.y)+q.I.x*(q.XM.y-q.sV.y)+q.XM.x*(q.sV.y-q.I.y);
if(Math.abs(_)<1e-6)o=!0}if(o)q.type--}return T};v.A.Gs=function(d,W){var c=v.o.mQ(d),y=[];for(var S=2;
S<d.length;S++){var B=d[S].p5;if(B!=null){if(B==2||B==0||B==3||B==-1)y.push(B)}}var r=y.length!=0;if((r||W)&&d.length<2e3&&1<c&&c<200)d=v.o.ye(d);
var x=v.A.ly(d);return{gr:x,$g:r?1:0}};v.A.ly=function(){function d(y,B,r,x){if(x!=2&&y.XM.zI(y.I)&&B.sV.zI(B.I)){r.j.push(B.I.x,B.I.y);
r.r.push("L")}else{var Z=y.I,i=y.XM,k=B.sV,H=B.I,V=3/2*i.x-1/2*Z.x,g=3/2*i.y-1/2*Z.y,N=3/2*k.x-1/2*H.x,C=3/2*k.y-1/2*H.y,w=N-V,Y=C-g;
if(x==0&&w*w+Y*Y<.001){r.j.push((V+N)*.5,(g+C)*.5,H.x,H.y);r.r.push("Q")}else{r.j.push(i.x,i.y,k.x,k.y,H.x,H.y);
r.r.push("C")}}}function W(y,B,S,r,x,Z){var i=B[S];y.j.push(i.I.x,i.I.y);y.r.push("M");for(var k=S;k<S+r-1;
k++)d(B[k],B[k+1],y,Z);if(!x)d(B[k],B[S],y,Z)}function c(y,B){if(B==null)B=0;var r={j:[],r:[]};for(var S=0;
S<y.length;S++){if(y[S].type>5)continue;var x=y[S].length;if(x==0)continue;if(S==y.length-1)break;var Z=y[S].type==3;
W(r,y,S+1,x,Z,B);if(!Z)r.r.push("Z");S+=x}return r}return c}();v.A.asP=function(d){var W=d.j,c=[],y,B=0;
for(var S=0;S<d.r.length;S++){var r=d.r[S];if(r=="C"){y.push(W[B++],W[B++],W[B++],W[B++],W[B++],W[B++])}else if(r=="Z"){}else{y=[];
if(r!="M"){y.push(r);S++}y.push(W[B++],W[B++]);c.push(y)}}return c};v.A.Gx=function(d,W,c,y){if(y==null)y=1e9;
var B=1e9,r=0;for(var S=0;S<d.length;S+=2){var x=W-d[S],Z=c-d[S+1],i=x*x+Z*Z;if(i<B){B=i;r=S>>>1}}return B<y*y?r:-1};
v.A.A2=function(d,W,c,y){for(var S=0;S<d.length;S+=2){var B=d[S],r=d[S+1],x=W[S],Z=W[S+1];c[S]=B+(x-B)*y;
c[S+1]=r+(Z-r)*y}};v.A.e=function(d,W,c){for(var S=0;S<d.length;S+=2){var y=d[S],B=d[S+1];c[S]=y*W.U+B*W.gp+W.IS;
c[S+1]=y*W.J+B*W.x7+W.rk}};v.A.c7=function(d,W,c){if(W==null)W=0;if(c==null)c=d.length;var y=99999999999,B=-y,r=99999999999,x=-r;
for(var S=W;S<c;S+=2){var Z=d[S],i=d[S+1];y=Math.min(y,Z);r=Math.min(r,i);B=Math.max(B,Z);x=Math.max(x,i)}return new a8(y,r,B-y,x-r)};
v.A.abz=function(d,W){var c=Math.max(W.x,Math.min(W.x+W.m,d.x)),y=Math.max(W.y,Math.min(W.y+W.i,d.y)),B=d.x-c,r=d.y-y;
return Math.sqrt(B*B+r*r)};v.A.zk=function(d,W){var c=Math.floor,y=Math.ceil;if(W){c=Math.ceil;y=Math.floor}var B=c(d.x),r=y(d.x+d.m),x=c(d.y),Z=y(d.y+d.i);
return new a8(B,x,r-B,Z-x)};v.A.xG=function(d,W){return v.A.zk(v.A.c7(d),W)};v.A.z$=function(d,W){var c=d.x,y=d.y,B=d.x+d.m,r=d.y+d.i,x=[c,y,B,y,B,r,c,r];
if(W){var Z=W.clone();Z.QE();v.A.e(x,Z,x)}return{r:["M","L","L","L","Z"],j:x}};v.A.concat=function(d,W,c){if(c==null)c=new dT;
for(var S=0;S<W.j.length;S+=2){var y=W.j[S],B=W.j[S+1];d.j.push(y*c.U+B*c.gp+c.IS);d.j.push(y*c.J+B*c.x7+c.rk)}for(var S=0;
S<W.r.length;S++)d.r.push(W.r[S])};v.A.aa6=function(d,W,c,y,B){function r(g,N,C){return new aL(g.x*(1-C)+N.x*C,g.y*(1-C)+N.y*C)}var x=r(d,W,B),Z=r(c,y,B),i=r(W,c,B),k=r(x,i,B),H=r(i,Z,B),V=r(k,H,B);
return[x,k,V,H,Z]};v.A.Oc=function(d){var W=d.j,c=[],y=[],B=0,r=0,x=0,Z=0,i=0,k=0,H=0,V=0,g=0,N=0,C=0;
for(var S=0;S<d.r.length;S++){var w=d.r[S];if(w=="M"){r=W[B];x=W[B+1];B+=2;y.push(w);c.push(r,x);N=r;
C=x}else if(w=="C"){Z=W[B];i=W[B+1];k=W[B+2];H=W[B+3];V=W[B+4];g=W[B+5];B+=6;y.push(w);c.push(Z,i,k,H,V,g);
r=V;x=g}else if(w=="Q"){Z=W[B];i=W[B+1];k=W[B+2];H=W[B+3];B+=4;var Y=Z-r,U=i-x,e=k-Z,O=H-i;y.push("C");
c.push(r+2/3*Y,x+2/3*U,Z+1/3*e,i+1/3*O,k,H);r=k;x=H}else if(w=="L"){Z=W[B];i=W[B+1];B+=2;if(Z!=r||i!=x){y.push("C");
c.push(r,x,Z,i,Z,i);r=Z;x=i}}else{if(w=="Z"){r=N;x=C}y.push(w)}}return{r:y,j:c}};v.A.a7e=function(d){var W=d.j,c=[],y=[],B=0;
for(var S=0;S<d.r.length;S++){var r=d.r[S];if(r=="Q"){var x=W[B-2],Z=W[B-1],i=W[B],k=W[B+1],H=W[B+2],V=W[B+3];
B+=4;var g=i-x,N=k-Z,C=H-i,w=V-k;y.push("C");c.push(x+2/3*g,Z+2/3*N,i+1/3*C,k+1/3*w,H,V)}else{var Y=0;
if(r=="M"||r=="L")Y=2;else if(r=="C")Y=6;for(var U=0;U<Y;U++)c.push(W[B+U]);B+=Y;y.push(r)}}return{r:y,j:c}};
v.A._s=function(d,W){var c=d.j,y=[],B=[],r=0,x=0,Z=0,i=0,k=0,H=0,V=0,g=0,N=0;for(var S=0;S<d.r.length;
S++){var C=d.r[S];if(C=="M"){x=c[r];Z=c[r+1];r+=2;B.push(C);y.push(x,Z)}else if(C=="C"){i=c[r];k=c[r+1];
H=c[r+2];V=c[r+3];g=c[r+4];N=c[r+5];r+=6;v.A.mt(x,Z,i,k,H,V,g,N,W,B,y,0);x=g;Z=N}else B.push(C)}return{r:B,j:y}};
v.A.mt=function(d,W,c,y,B,r,x,Z,i,k,H,V){var g=Math.sqrt((x-d)*(x-d)+(Z-W)*(Z-W)),N=Math.sqrt((x-B)*(x-B)+(Z-r)*(Z-r))+Math.sqrt((B-c)*(B-c)+(r-y)*(r-y))+Math.sqrt((c-d)*(c-d)+(y-W)*(y-W)),C=(g+N)/2;
if(C<=i){k.push("C");H.push(c,y,B,r,x,Z)}else{var w=0,Y=0,U=0,e=0,O=0,l=0,I=0,s=0,z=0,R=0,t=0,a=0,J=0;
Y=(d+c)/2;U=(W+y)/2;e=(c+B)/2;O=(y+r)/2;l=(B+x)/2;I=(r+Z)/2;s=(Y+e)/2;z=(U+O)/2;R=(e+l)/2;t=(O+I)/2;
a=(s+R)/2;J=(z+t)/2;v.A.mt(d,W,Y,U,s,z,a,J,i,k,H,V+1);v.A.mt(a,J,R,t,l,I,x,Z,i,k,H,V+1)}};v.A.aok=function(d,W,c,y,B){var r=Date.now(),x=v.A.aeM(d,W,c);
if(B){console.log("trace polygons",Date.now()-r);r=Date.now()}var Z=[];for(var S=0;S<x.length;S++){var i=x[S],k=i[0],H=["M"],V=d[k[1]*W+k[0]];
if(k.length>8)k=v.A.a6_(k,y,i[1]);if(k.length<=4)continue;for(var g=2;g<k.length;g+=2)H.push("L");H.push("Z");
Z.push({path:{j:k,r:H},color:V,parent:-1,ur:v.A.c7(k)})}if(B){console.log("simplify polygons",Date.now()-r);
r=Date.now()}for(var S=1;S<Z.length;S++){var N=Z[S],C=N.path.j,w=C[0],Y=C[1],U=C[2],e=C[3],O=U-w,l=e-Y,I=w+.5*O-.001*l,s=Y+.5*l+.001*O;
for(var g=S-1;g>=0;g--){var z=Z[g];if(!z.ur.M_(N.ur))continue;if(!c_.Hq(z.path.j,I,s))continue;N.parent=g;
break}}if(B){console.log("checking parents",Date.now()-r);r=Date.now()}return Z};v.A.aeM=function(d,W,c){var y=W*c,B=new Uint16Array(W*c),x=0;
for(var S=0;S<y;S++)B[S]=d[S];var r=new Uint8Array(W*c);r[1*W+1]=r[(c-1)*W+1]=r[1*W+W-1]=r[(c-1)*W+W-1]=1;
for(var Z=1;Z<c;Z++)for(var i=1;i<W;i++){var S=Z*W+i,k=B[S-W-1],H=B[S-W],V=B[S-1],g=B[S],N=k==g&&H==V&&k!=H,C=0;
if(g<V){x=g;g=V;V=x}if(V<H){x=V;V=H;H=x}if(H<k){x=H;H=k;k=x}if(g<V){x=g;g=V;V=x}if(V<H){x=V;V=H;H=x}if(g<V){x=g;
g=V;V=x}if(k!=H)C++;if(H!=V)C++;if(V!=g)C++;if(g!=k)C++;if(C>=3||N)r[S]=1}var w=[];for(var Z=1;Z<c;Z++)for(var i=1;
i<W;i++){var S=Z*W+i;if(B[S]!=B[S-1]){var Y=v.A.a1b(B,W,c,i,Z),U=[];for(var e=0;e<Y.length;e+=2)if(r[Y[e+1]*W+Y[e]]==1)U.push(e>>>1);
w.push([Y,U]);v.A.uF(B,W,c,i,Z)}}return w};v.A.uF=function(d,W,c,y,B){var r=[B*W+y],x=d[B*W+y];d[B*W+y]=65535;
while(r.length!=0){var S=r.pop();d[S]=0;if(d[S+W]==x){r.push(S+W);d[S+W]=65535}if(d[S-W]==x){r.push(S-W);
d[S-W]=65535}if(d[S-1]==x){r.push(S-1);d[S-1]=65535}if(d[S+1]==x){r.push(S+1);d[S+1]=65535}}};v.A.a1b=function(d,W,c,y,B){var r=[0,-1,1,0,0,1,-1,0],H=1;
function x(g,N,H){var S=k*W+i,C=0;if(H==0)C=S-W;else if(H==1)C=S;else if(H==2)C=S-1;else if(H==3)C=S-W-1;
return d[C]}var Z=[],i=y,k=B,V=x(i,k,H);do{Z.push(i,k);i+=r[H*2];k+=r[H*2+1];if(x(i,k,H)!=V)H=H+1&3;
else if(x(i,k,H+3&3)!=V)H=H;else if(x(i,k,H+2&3)!=V)H=H+3&3}while(i!=y||k!=B);return Z};v.A.a6_=function(d,W,c){var y=d.length-2;
if(c&&c.length!=0){var B=c[0]*2,r=c[c.length-1]*2,x=B==0?y:B-2,Z=d.slice(r);for(var S=0;S<B;S++)Z.push(d[S]);
if(B==r)Z.push(.9*d[B]+.1*d[x],.9*d[B+1]+.1*d[x+1]);else Z.push(d[B],d[B+1]);Z=v.A.Ka(Z,W);Z.pop();Z.pop();
for(var S=0;S<c.length-1;S++){var i=d.slice(c[S]*2,c[S+1]*2+2);i=v.A.Ka(i,W);for(var k=0;k<i.length-2;
k++)Z.push(i[k])}return Z}var H=d.slice(0);H.push(.9*d[0]+.1*d[y],.9*d[1]+.1*d[y+1]);H=v.A.Ka(H,W);H.pop();
H.pop();return H};v.A.Ka=function(d,W){var c=d.length-2,y=d[0],B=d[1],r=d[c],x=d[c+1],Z=r-y,i=x-B,k=1/Math.sqrt(Z*Z+i*i),H=r*B-x*y,V=-1,g=-1,N=0;
for(var S=2;S<c;S+=2){var C=d[S],w=d[S+1],Y=w*w*1e6+C*C,U=Math.abs(i*C-Z*w+H)*k;if(U>g||U==g&&Y>N){g=U;
V=S;N=Y}}if(g<W)return[y,B,r,x];var e=v.A.Ka(d.slice(0,V+2),W),O=v.A.Ka(d.slice(V),W);for(var S=2;S<O.length;
S++)e.push(O[S]);return e};v.A.arZ=function(){var d=function(y,B,r,x,Z,i){return(B-x)*(Z-r)+(r-y)*(i-x)>=0},W=function(y,B,r,x,Z,i,k,H){var V=k-r,g=H-x,N=Z-r,C=i-x,w=y-r,Y=B-x,U=V*V+g*g,e=V*N+g*C,O=V*w+g*Y,l=N*N+C*C,I=N*w+C*Y,s=1/(U*l-e*e),z=(l*O-e*I)*s,R=(U*I-e*O)*s;
return z>=0&&R>=0&&z+R<1},c=function(y){var bd=y.length>>>1,S=0;if(bd<3)return[];var B=[],r=[];for(var S=0;
S<bd;S++)r.push(S);var x=bd;while(x>3){var Z=r[(S+0)%x],i=r[(S+1)%x],k=r[(S+2)%x],H=y[2*Z],V=y[2*Z+1],g=y[2*i],N=y[2*i+1],C=y[2*k],w=y[2*k+1],Y=!1;
if(d(H,V,g,N,C,w)){Y=!0;for(var U=0;U<x;U++){var e=r[U];if(e==Z||e==i||e==k)continue;if(W(y[2*e],y[2*e+1],H,V,g,N,C,w)){Y=!1;
break}}}if(Y){B.push(Z,i,k);r.splice((S+1)%x,1);x--;S=0}else if(S++>3*x)break}B.push(r[0],r[1],r[2]);
return B};return c}();v.A.axs=function(d,W){var c={},y={r:[],j:[]};for(var S=0;S<W.length;S+=3){var B=W[S]*2,r=W[S+1]*2,x=W[S+2]*2;
v.A._t(d,B,r,y,c);v.A._t(d,B,x,y,c);v.A._t(d,r,x,y,c)}return y};v.A._t=function(d,W,c,y,B){if(W>c){var r=c;
c=W;W=r}if(B[W+","+c])return;B[W+","+c]=!0;y.r.push("M","L");y.j.push(d[W],d[W+1],d[c],d[c+1])};v.A.af2=function(d,W){var c=[],y=d.length;
for(var S=0;S<y;S+=2){var B=d[S],r=d[S+1],x=d[(S+2)%y],Z=d[(S+3)%y];if(Z<r){var i=r;r=Z;Z=i}if(r<W&&W<Z){var k=(W-r)/(Z-r);
c.push(B+k*(x-B))}}c.sort(function(H,V){return H-V});return c};v.A.ayx=function(d,W,c,y,B,r,x){var Z=d-c,i=W-y,k=B-c,H=r-y,V=1/Math.sqrt(Z*Z+i*i),g=1/Math.sqrt(k*k+H*H),N=Z*V,C=i*V,w=k*g,Y=H*g,U=C*x,e=-N*x,O=-Y*x,l=w*x,I=v.A.aD(U,e,N,C,O,l,w,Y),s=U+N*I,z=e+C*I,I=v.A.aD(0,0,N,C,s,z,-C,N),R=N*I,t=C*I;
return[Math.sqrt(R*R+t*t),N,C,w,Y]};v.A.adA=function(d,W,c,y,B,r,x){var Z=v.A.ayx(d,W,c,y,B,r,x),i=Z[0],k=Z[1],H=Z[2],V=Z[3],g=Z[4],N=Math.atan2(k*g-H*V,k*V+H*g);
if(N<0){N=N*-1}var C=Math.PI-N,w=4/3*Math.tan(C/4),Y=c+i*k,U=y+i*H,e=c+i*V,O=y+i*g,l=Y+w*x*-k,I=U+w*x*-H,s=e+w*x*-V,z=O+w*x*-g;
return[0,0,Y,U,l,I,s,z,e,O]};v.A.aD=function(d,W,c,y,B,r,x,Z){var i=x*(W-r)-Z*(d-B),k=Z*c-x*y;if(k==0)return 0;
return i/k};v.A.BV=function(d,W,c,y,B,r){return d*(y-r)+c*(r-W)+B*(W-y)};v.A.af_=function(d){function W(m,D,_,n,j,T,L,p,E){var G=v.A.aD(m,D,_,n,j,T,L,p);
E.push(m+_*G,D+n*G)}var c=[],y=d.length,B=[];for(var S=0;S<y;S+=2){var r=S==0?y-2:S-2,x=S==y-2?0:S+2,Z=d[S],i=d[S+1],k=Z-d[r],H=i-d[r+1],V=d[x]-Z,g=d[x+1]-i,N=Math.sqrt(k*k+H*H),C=Math.sqrt(V*V+g*g);
B.push(C);var w=N/(N+C),Y=Z-k*.5,U=i-H*.5,e=Z+V*.5,O=i+g*.5,l=(d[x]+d[r])*.5,I=(d[x+1]+d[r+1])*.5,s=Y+w*(e-Y),z=U+w*(O-U),R=Z-s,t=i-z,a=(V*-k+g*-H)/(N*C),J=(w-.5)*7,F=1+J*w,h=1-J*(1-w);
c.push(Y+R*F,U+t*F,e+R*h,O+t*h)}return c};v.Vl=function(){};v.Vl.eZ=function(d,W,c,y,B){var r=c.m,x=c.i,Z=r*x,i=new Int32Array(Z),bd=0;
for(var S=0;S<Z;S++)if(W[S]!=0){i[S]=bd;bd++}else if(d[(S<<2)+3]<200){i[S]=-2}else i[S]=-1;if(bd==0)return;
var k=new v.r8(bd,bd),H=new Array(3*bd),V=new Array(3*bd);for(var S=0;S<V.length;S++)V[S]=H[S]=0;var g=1/255,N=[-r,-1,1,r],C=[],w=[];
for(var Y=0;Y<x;Y++)for(var U=0;U<r;U++){var e=Y*r+U,O=e<<2,S=i[e],l=S*3,I=0,s=0,z=0;if(S==-1||S==-2)continue;
for(var R=0;R<4;R++){if(R==2){s=z;C[z]=0;w[z]=S;z++}var t=e+N[R],a=t<<2,J=i[t];if(R==0&&Y==0||R==1&&U==0||R==2&&U==r-1||R==3&&Y==x-1||J==-2)continue;
I++;if(J==-1){H[l+0]+=d[a+0];H[l+1]+=d[a+1];H[l+2]+=d[a+2]}else{C[z]=-1;w[z]=J;z++;if(W[e]==W[t]){H[l+0]+=d[O+0]-d[a+0];
H[l+1]+=d[O+1]-d[a+1];H[l+2]+=d[O+2]-d[a+2]}}}C[s]=I;k.CC(C,w,z)}for(var S=0;S<Z;S++)if(i[S]!=-1){var F=S<<2,h=i[S],m=h*3;
V[m]=d[F+0];V[m+1]=d[F+1];V[m+2]=d[F+2]}var D=Date.now();k.awG(V,H,y,B);console.log(Date.now()-D);for(var S=0;
S<Z;S++){var h=i[S],_=h*3,F=S<<2;if(h==-1||d[F+3]!=255)continue;d[F+0]=~~(.5+Math.max(0,Math.min(255,V[_+0])));
d[F+1]=~~(.5+Math.max(0,Math.min(255,V[_+1])));d[F+2]=~~(.5+Math.max(0,Math.min(255,V[_+2])))}};v.rect={};
v.rect.akL=function(d,W){var c=[d],y=[];for(var S=0;S<W.length;S++){var B=W[S],r=!1;for(var x=S+1;x<W.length;
x++){var Z=W[x];if(Z[0]<=B[0]&&Z[1]<=B[1]&&B[2]<=Z[2]&&B[3]<=Z[3]){r=!0;break}}if(!r)y.push(B)}W=y;for(var S=0;
S<W.length;S++){var B=W[S];for(var x=0;x<c.length;x++){var Z=c[x],i=Math.max(B[0],Z[0]),k=Math.min(B[2],Z[2]),H=Math.max(B[1],Z[1]),V=Math.min(B[3],Z[3]);
if(i<k&&H<V){var g=[];if(Z[1]<B[1]){var N=Z.slice(0);N[3]=B[1];g.push(N)}if(Z[0]<B[0]){var C=Z.slice(0);
C[1]=H;C[2]=B[0];g.push(C)}if(B[2]<Z[2]){var w=Z.slice(0);w[1]=H;w[0]=B[2];g.push(w)}if(B[3]<Z[3]){var Y=[i,V,k,Z[3]];
g.push(Y)}if(g.length!=0){c[x]=g[0];for(var U=1;U<g.length;U++)c.push(g[U])}}}c.push(B);c=v.rect.aB$(c)}c.sort(function(B,Z){return B[1]!=Z[1]?B[1]-Z[1]:B[0]-Z[0]});
for(var S=1;S<c.length;S++){var B=c[S-1],Z=c[S];if(B[0]==Z[0]&&B[1]==Z[1]&&B[2]==Z[2]&&B[3]==Z[3]){c.splice(B[4]==null?S-1:S,1);
S--}}return c};v.rect.aB$=function(d){d=d.slice(0);for(var S=0;S<d.length;S++){var W=d[S],c=null;if(W[4]!=null)continue;
for(var y=0;y<d.length;y++){var B=d[y];if(S==y||B[4]!=null)continue;var r=W[0]==B[0],x=W[1]==B[1],Z=W[2]==B[2],i=W[3]==B[3];
if(x&&i&&(W[2]==B[0]||W[0]==B[2])){c=[Math.min(W[0],B[0]),W[1],Math.max(W[2],B[2]),W[3]]}if(r&&Z&&(W[3]==B[1]||W[1]==B[3])){c=[W[0],Math.min(W[1],B[1]),W[2],Math.max(W[3],B[3])]}if(c){d[S]=c;
d.splice(y,1);break}}if(c){S--}}return d};v.rect.HU=function(d){var W=new a8;for(var S=0;S<d.length;
S++)W=W.hB(d[S]);return W};v.rect.aCu=function(d,W){var c=v.rect.HU,y=new UnionFind(d.length),s=1e3,z=1e3;
for(var S=0;S<d.length;S++)for(var B=S+1;B<d.length;B++){if(!W)continue;var r=d[S],x=d[B],V=1e9,g=1e9;
if(r.rC(x)){y.link(S,B);continue}var Z=r.x+r.m,i=r.y+r.i,k=x.x+x.m,H=x.y+x.i;if((Z<x.x||k<r.x)&&(i<x.y||H<r.y))continue;
if(!(i<x.y||H<r.y))V=Math.min(Math.abs(Z-x.x),Math.abs(r.x-k));if(!(Z<x.x||k<r.x))g=Math.min(Math.abs(i-x.y),Math.abs(r.y-H));
var N=Math.min(V,g),C=Math.min(r.m,r.i,x.m,x.i);if(N<.3*C)y.link(S,B)}var w=[],Y={};for(var S=0;S<d.length;
S++){var U=y.find(S),e=d[S];if(Y[U]==null){Y[U]=w.length;w.push([])}w[Y[U]].push(e)}var O=[],l=[];for(var S=0;
S<w.length;S++){O.push(c(w[S]));var I=c(w[S]);I.Q2=S;l.push(I)}l.sort(function(n,j){return Math.max(j.i,j.m)-Math.max(n.i,n.m)});
var R=new NETXUS.RectanglePacker(s,z);while(!0){var t=!1;R.reset(s,z);for(var S=0;S<l.length;S++){var a=R.findCoords(l[S].m,l[S].i);
if(a){l[S].x=a.x;l[S].y=a.y}else{s=Math.floor(s*1.1);z=Math.floor(z*1.1);t=!0;break}}if(t)continue;break}for(var S=0;
S<w.length;S++){var J=l[S],F=J.Q2,h=O[F],m=w[F],D=J.x-h.x,_=J.y-h.y;for(var B=0;B<m.length;B++)m[B].offset(D,_)}};
v.T6=function(){};v.T6.WV=Math.floor(16*window.devicePixelRatio);v.T6.Hx={};v.T6.sO=0;v.T6.rS=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
v.T6.aE6=["px","in","cm","mm","%"];v.T6.Ho=function(d,W,c,y){var B=[1,W,W/2.54,W/25.4,c/100][y];return d*B};
v.T6.auO=function(d,W,c,y){var B=[1,W,W/2.54,W/25.4,c/100][y];return d/B};v.T6.By=function(d,W,c,y,B){var r=c.UA.Wx,x=[1,W,W/2.54,W/25.4,y/100][r],Z=[2,3,2,1,2][r];
d=d/x;var i=Math.round(d),k=r==0&&Math.abs(d-i)<1e-6?i+"":d.toFixed(Z);if(B)k+=" "+v.T6.aE6[r];return k};
v.T6.aDu=function(d,W,c,y){var B=c.UA.Wx,r=[1,W,W/2.54,W/25.4,y/100][B];d=parseFloat(d)*r;return d};
v.T6.ax7=function(d,W){var c=d+","+W;if(v.T6.Hx.clr==c)return;var y=Math.round(v.T6.WV*.5);v.T6.sO=y;
var B=v.td(y,y);B.save();B.font=y*1.5+"px monospace";var r="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var S=0;
S<r.length;S++){B.fillStyle="#"+v.Wb(W);B.fillRect(0,0,y,y);B.fillStyle="#"+v.Wb(d);B.fillText(r[S],0,y);
v.T6.Hx[r[S]]=new Uint8Array(B.getImageData(0,0,y,y).data.buffer)}v.T6.Hx.clr=c;B.restore()};v.T6.as9=function(d,W,c){var y=0,B=0,r=4*v.T6.WV;
for(var S=9;S>=0;S--){var x=Math.pow(10,S);if(5*x*d<=r){y=5*x;B=10;break}if(2*x*d<=r){y=2*x;B=4;break}if(1*x*d<=r){y=1*x;
B=10;break}}if(y==0){y=1;B=10}var Z=Math.ceil(y*d),i=v.R(Z*v.T6.WV*4);v.ft(i,4278190080|c);for(var S=0;
S<v.T6.WV;S++)v.T6.wt(i,4*S*Z,W);for(var S=0;S<Z;S++)v.T6.wt(i,4*((v.T6.WV-1)*Z+S),W);if(y==2)B=2;if(y==5)B=5;
if(y>1||y==1&&Z>20)for(var S=1;S<B;S++)v.T6.aBX(i,S*(Z/B),Z,(S&1)==1?.8:.7,W);return{hl:i,step:y}};v.T6.aBX=function(d,W,c,y,B){var W=Math.round(W);
for(var r=Math.round(v.T6.WV*y);r<v.T6.WV-1;r++)v.T6.wt(d,4*(r*c+W),B)};v.T6.wt=function(d,W,c){d[W+0]=c>>16&255;
d[W+1]=c>>8&255;d[W+2]=c&255};v.T6.auH=function(d,W,c,y,B,r,x){var Z=d.nW.m,i=d.nW.i,k=v.T6.WV,H=W&255,V=W>>8&255,g=W>>16&255;
W=Math.round(H*.6)<<16|Math.round(V*.6)<<8|Math.round(g*.6);v.T6.ax7(Math.round(H*.8)<<16|Math.round(V*.8)<<8|Math.round(g*.8),c);
var N=d.O,C=d.z,w=d.Pk;for(var Y=0;Y<2;Y++){var U=Y==0?r:x;d.O=U[0];d.z=U[1];d.Pk=0;var e=this.as9(d.O,W,c),O=d.q9(0,0),l=d.q9(Z,i),I=Math.floor(O.x/e.step)*e.step,s=Math.ceil(l.x/e.step)*e.step,z=Math.floor(O.y/e.step)*e.step,R=Math.ceil(l.y/e.step)*e.step,t=d.Yd(I,z),a=d.Yd(s,z),J=e.step*d.O,F=Math.ceil(J);
if(Y==1){var h=e.hl;e.hl=v.R(h.length*4);v.D.VT(h,e.hl,F,k)}var m=Y==0?d.N9.data:d.UG.data,D=new a8(0,0,[Z,k][Y],[k,i][Y]),_=new a8(0,0,[F,k][Y],[k,F][Y]),n=new a8([0,Math.round(k*.2)][Y],[Math.round(k*.08),0][Y],v.T6.sO,v.T6.sO),j=(Y==0?s-I:R-z)/e.step;
for(var S=0;S<j;S++){if(Y==0)_.x=Math.round(t.x+S*J);else _.y=Math.round(t.y+S*J);v.qR(e.hl,_,m,D,_);
var T=(Y==0?I+S*e.step:Math.abs(z+S*e.step)).toString(10);for(var L=0;L<T.length;L++){if(Y==0)n.x=_.x+3+L*Math.round(v.T6.sO*.8);
else n.y=_.y+3+L*Math.round(v.T6.sO*1.15);var p=v.T6.Hx[T[L]];v.qR(p,n,m,D,n)}}}d.O=N;d.z=C;d.Pk=w;var E=Math.floor(k*.6),G=new Uint32Array(d.N9.data.buffer),A=new Uint32Array(d.UG.data.buffer),u=H<128?4278190080:4294967295;
if(0<y&&y<Z)for(var S=0;S<E;S++)G[S*Z+y]=u;if(0<B&&B<i)for(var S=0;S<E;S++)A[B*k+S]=u};v.scale={};v.scale.YW=document.createElement("canvas");
v.scale.bN=v.scale.YW.getContext("2d");v.scale.jZ=function(d,W,c){var y=v.scale.YW,B=v.scale.bN;y.width=W;
y.height=c;var r=new ImageData(new Uint8ClampedArray(d.buffer),W,c);B.putImageData(r,0,0);return B.createPattern(B.canvas,"repeat")};
v.scale.aA7=function(d,W,c,y,B,r,x,Z,i){var k=v.scale.asO(d,c,y,B,r,x,Z,i);if(W)W.set(k);return new Uint8Array(k.buffer)};
v.scale.asO=function(d,W,c,y,B,r,x,Z){var i=v.td(W,c);i.save();i.rect(0,0,W,c);i.translate(r,x);i.scale(y,B);
if(Z!=null)i.rotate(-Z);i.fillStyle=d;i.fill();i.restore();return new Uint8Array(i.getImageData(0,0,W,c).data.buffer)};
v.scale.e=function(d,W,c,y,B){var r=c.J==0&&c.gp==0,x=B.m,Z=B.i,i=v.A.z$(W,c).j,k=v.A.xG(i,r).nK(B),H=k.x,V=k.y,g=H+k.m,N=V+k.i,C=~~W.x,w=~~W.y,Y=~~W.m,U=~~W.i;
if(r)for(var e=V;e<N;e++){var O=c.x7*(e+.5)+c.rk-w,l=~~O*Y;for(var I=H;I<g;I++){var s=c.U*(I+.5)+c.IS-C;
y[e*x+I]=d[l+~~s]}}else for(var e=V;e<N;e++)for(var I=H;I<g;I++){var z=I+.5,R=e+.5,s=c.U*z+c.gp*R+c.IS-C,O=c.J*z+c.x7*R+c.rk-w;
if(0<=s&&0<=O&&s<Y&&O<U)y[e*x+I]=d[~~O*Y+~~s]}};v.scale.aqa=function(d,W,c,y,B,r){var x=new Uint32Array(d.buffer),Z=new Uint32Array(y.buffer),i=B.m,k=B.i,H=v.A.z$(W,c).j,V=r?B:v.A.xG(H).nK(B),g=V.x,N=V.y,C=g+V.m,w=N+V.i,Y=~~W.x,U=~~W.y,e=~~W.m,O=~~W.i;
for(var l=N;l<w;l++)for(var I=g;I<C;I++){var s=I+.5,z=l+.5,R=c.U*s+c.gp*z+c.IS-Y,t=c.J*s+c.x7*z+c.rk-U;
if(r){R=((e<<10)+R)%e;t=((O<<10)+t)%O}if(0<=R&&0<=t&&R<e&&t<O)Z[l*i+I]=x[~~t*e+~~R]}};v.scale._P=function(d,W,c,y,B,r,x){if(x<1)v.scale.aiV(d,W,c,y,B,r,Math.round(1/x));
else v.scale.ajB(d,W,c,y,B,r,x)};v.scale.hK=function(d,W,c,y,B,r,x,Z){if(Z)Z=Z.nK(new a8(0,0,W,c));d=new Uint32Array(d.buffer);
y=new Uint32Array(y.buffer);if(x<1)v.scale.a1a(d,W,c,y,B,r,Math.round(1/x),Z);else v.scale.afA(d,W,c,y,B,r,x)};
v.scale.ajB=function(d,W,c,y,B,r,x){for(var Z=0;Z<c;Z++)for(var i=0;i<W;i++){var k=d[Z*W+i],H=Math.min(x,B-i*x),V=Math.min(x,r-Z*x);
for(var S=0;S<V;S++)for(var g=0;g<H;g++)y[(x*Z+S)*B+x*i+g]=k}};v.scale.aiV=function(d,W,c,y,B,r,x){for(var Z=0;
Z<r;Z++)for(var i=0;i<B;i++){var k=0,H=Math.min(x,W-i*x),V=Math.min(x,c-Z*x);for(var S=0;S<V;S++)for(var g=0;
g<H;g++)k+=d[(x*Z+S)*W+(x*i+g)];y[Z*B+i]=Math.round(k/(H*V))}};v.scale.afA=function(d,W,c,y,B,r,x){for(var Z=0;
Z<c;Z++)for(var i=0;i<W;i++){var k=d[Z*W+i],H=Math.min(x,B-i*x),V=Math.min(x,r-Z*x);for(var S=0;S<V;
S++)for(var g=0;g<H;g++)y[(x*Z+S)*B+x*i+g]=k}};v.scale.a45=function(d,W,c){return(d>>>c&255)+(W>>>c&255)>>>1};
v.scale.Rr=function(d,W){var c=v.scale.a45;return c(d,W,24)<<24|c(d,W,16)<<16|c(d,W,8)<<8|c(d,W,0)};
v.scale.aDA=function(d,W,c,y,B,r){var x=new Uint32Array(d.buffer),Z=new Uint32Array(y.buffer);for(var i=0;
i<c;i++){for(var k=0;k<W;k++){var H=i*W+k,V=x[H],g=V,N=V,C=V;if(k<W-1)g=v.scale.Rr(V,x[H+1]);if(i<c-1)N=v.scale.Rr(V,x[H+W]);
if(k<W-1&&i<c-1)C=v.scale.Rr(V,x[H+W+1]);var w=(i*B+k)*2;Z[w]=V;Z[w+1]=g;Z[w+B]=N;Z[w+B+1]=C}}if((B&1)==1)for(var i=0;
i<r;i++)Z[i*B+B-1]=Z[i*B+B-2];var Y=B*(r-1);if((r&1)==1)for(var k=0;k<B;k++)Z[Y+k]=Z[Y-B+k]};v.scale.a1a=function(d,W,c,y,B,r,x,Z){var i=0,k=B,H=0,V=r;
if(Z){i=Math.floor(Z.x/x);k=Math.ceil((Z.x+Z.m)/x);H=Math.floor(Z.y/x);V=Math.ceil((Z.y+Z.i)/x)}for(var g=H;
g<V;g++)for(var N=i;N<k;N++){var C=0,w=0,Y=0,U=0,e=Math.min(x,W-N*x),O=Math.min(x,c-g*x);for(var S=0;
S<O;S++)for(var l=0;l<e;l++){var I=d[(x*g+S)*W+x*N+l],s=I>>>24;C+=s;w+=s*(I>>>16&255);Y+=s*(I>>>8&255);
U+=s*(I&255)}if(C!=0){var z=1/C;y[g*B+N]=C/(e*O)<<24|w*z<<16|Y*z<<8|U*z}else y[g*B+N]=0}};v.u=function(){function d(Z,i,S){return(128&Z[S-i-1]&Z[S-i]&Z[S-2]&Z[S-1]&Z[S+1]&Z[S+i-1]&Z[S+i])==0}function W(Z,i,S){return(128&Z[S-i-i]&Z[S-i+1]&Z[S+2]&Z[S+i+1]&Z[S+i+i])==0}function c(Z,i,S){return(Z[S-i]&Z[S-1]&Z[S+1]&Z[S+i]&128)==0}function y(Z,S){return(Z[S]&128)!=0}function B(Z,i,k,H){var S=0,V=k.m,g=k.i;
if(H)for(var N=0;N<g;N++)for(var C=0;C<V;C++){if(y(Z,S)&&(C<2||N<2||C>V-3||N>g-3||((Z[S-1]&128)==0||i[S-1]!=0)&&d(Z,V,S)||W(Z,V,S)))i[S]=255;
S++}else for(var N=0;N<g;N++)for(var C=0;C<V;C++){if(y(Z,S)&&(C==0||N==0||C==V-1||N==g-1||c(Z,V,S)))i[S]=255;
S++}}function r(Z,i,k,H,V){var g=k.m,N=k.i,C=new Uint8Array(i.buffer),w=new Uint32Array(i.buffer);if(V)for(var Y=2;
Y<N-2;Y++)for(var U=2;U<g-2;U++){var S=Y*g+U;if(y(Z,S)&&(((Z[S-1]&128)==0||w[S-1]!=0)&&d(Z,g,S)||W(Z,g,S)))w[S]=H[(U+Y&4)>>>2]}else for(var Y=1;
Y<N-1;Y++)for(var U=1;U<g-1;U++){var S=Y*g+U;if(y(Z,S)&&c(Z,g,S)){w[S]=H[(U+Y&4)>>>2]}}}function x(Z,i,k,H,V){var g=k.m,N=k.i,C=new Uint8Array(i.buffer),w=new Uint32Array(i.buffer),S=0;
if(H==1)for(var Y=0;Y<N;Y++)for(var U=0;U<g;U++,S++){var e=Z[S];w[S]=255-e>>>1<<24|255}else for(var Y=0;
Y<N;Y++)for(var U=0;U<g;U++,S++){var e=Z[S];w[S]=255<<24|(e<<16|e<<8|e)}}return{a82:B,ae4:r,aiy:x}}();
v.Jd={};v.Jd.Mq=function(d,W,c){var y,B;if(c==0){y=d.rect.clone();B=v.Jd.aln}if(c==1){y=d.rect.hB(W.rect);
B=v.Jd.hB}if(c==2){y=W.rect.clone();B=v.Jd.a7C}if(c==3){y=d.rect.nK(W.rect);B=v.Jd.nK}if(c==4){y=d.rect.hB(W.rect);
B=v.Jd.acJ}if(y.Bb())return null;var r=v.R(y.P());v.ZW(W.channel,W.rect,r,y);var x=v.R(y.P());v.ZW(d.channel,d.rect,x,y);
B(x,r,r);var Z=v.wf(r,y);if(Z.Bb())return null;if(!Z.zI(y)){var i=v.R(Z.P());v.ZW(r,y,i,Z);r=i;y=Z}return{channel:r,rect:y}};
v.Jd.aln=function(d,W,c){for(var S=0;S<d.length;S++)c[S]=d[S]};v.Jd.hB=function(d,W,c){for(var S=0;S<d.length;
S++)c[S]=Math.min(d[S]+W[S],255)};v.Jd.a7C=function(d,W,c){for(var S=0;S<d.length;S++)c[S]=Math.max(W[S]-d[S],0)};
v.Jd.nK=function(d,W,c){var y=1/255;for(var S=0;S<d.length;S++)c[S]=d[S]*W[S]*y};v.Jd.acJ=function(d,W,c){var y=1/255;
for(var S=0;S<d.length;S++)c[S]=Math.min(d[S]+W[S],255)-d[S]*W[S]*y};v.r8=function(d,W){this.H=[];this.$j=[0];
this.g$=[];this.ym=[];this.fe=[0];this.QF=[];this.zt=[];this.rows=d;this.cols=W};v.r8.prototype.clone=function(){var d=this,W=d.rows,c=d.cols,y=new v.r8(W,c);
y.H=d.H.slice(0);y.$j=d.$j.slice(0);y.g$=d.g$.slice(0);y.ym=d.ym.slice(0);y.fe=d.fe.slice(0);y.QF=d.QF.slice(0);
y.zt=d.zt.slice(0);return y};v.r8.prototype.CC=function(d,W,c){var y=this.$j.length-1;for(var S=0;S<c;
S++){var B=d[S],r=W[S];this.H.push(B);this.g$.push(r);if(r==y){this.zt.push(B==0?0:1/B)}else{this.ym.push(B);
this.QF.push(r)}}this.$j.push(this.H.length);this.fe.push(this.ym.length)};v.r8.prototype.RX=function(d,W){var c=this,y=c.rows,B=c.H,r=c.g$;
if(W==null)W=new Array(y);for(var S=0;S<y;S++){var x=c.$j[S],Z=c.$j[S+1],i=0;while((Z-x&3)!=0){i+=B[x]*d[r[x]];
x++}for(var k=x;k<Z;k+=4)i+=B[k]*d[r[k]]+B[k+1]*d[r[k+1]]+B[k+2]*d[r[k+2]]+B[k+3]*d[r[k+3]];W[S]=i}return W};
v.r8.prototype.multiply=function(d){return this.u9(d.VT())};v.r8.prototype.u9=function(d){var W=this,c=W.rows,y=W.cols,B=d.rows,r=new v.r8(c,B),x=W.g$,Z=d.g$;
for(var S=0;S<c;S++){var i=[],k=[],H=W.$j[S],V=W.$j[S+1];for(var g=0;g<B;g++){var N=d.$j[g],C=d.$j[g+1],w=0,Y=H,U=N;
while(Y<V&&U<C){var e=Math.max(x[Y],Z[U]);while(Y<V&&x[Y]<e)Y++;while(U<C&&Z[U]<e)U++;if(Y<V&&U<C&&x[Y]==Z[U])w+=W.H[Y++]*d.H[U++]}if(w!=0){i.push(w);
k.push(g)}}r.CC(i,k,i.length)}return r};v.r8.prototype.VT=function(){var d=this.rows,W=this.cols,c=[];
for(var S=0;S<W;S++)c.push([[],[]]);var y=this.H,B=this.$j,r=this.g$;for(var S=0;S<d;S++){var x=B[S],Z=B[S+1];
for(var i=x;i<Z;i++){var k=c[r[i]];k[0].push(y[i]);k[1].push(S)}}var H=new v.r8(W,d);for(var S=0;S<W;
S++)H.CC(c[S][0],c[S][1],c[S][1].length);return H};v.r8.prototype.fJ=function(){var d=this.rows,W=this.cols,c=new Array(d),y=this.H,B=this.$j,r=this.g$;
for(var S=0;S<d;S++){var x=c[S]=new Array(W);for(var Z=0;Z<W;Z++)x[Z]=0;var i=B[S],k=B[S+1];for(var H=i;
H<k;H++)x[r[H]]=y[H]}return c};v.r8.prototype.yy=function(d,W,c,y,B){function r(z,W,R,t){var a=z.length;
for(var S=0;S<a;S++)t[S]=z[S]-W[S]*R}function x(z,W,R,t){var a=z.length,J=0;while((a-J&3)!=0){t[J]=z[J]+W[J]*R;
J++}for(var S=J;S<a;S+=4){t[S]=z[S]+W[S]*R;t[S+1]=z[S+1]+W[S+1]*R;t[S+2]=z[S+2]+W[S+2]*R;t[S+3]=z[S+3]+W[S+3]*R}}function Z(z,W,R){var t=z.length;
for(var S=0;S<t;S++)R[S]=z[S]*W[S]}function i(z,W){var R=z.length,t=0,a=0;while((R-t&3)!=0){a+=z[t]*W[t];
t++}for(var S=t;S<R;S+=4)a+=z[S]*W[S]+z[S+1]*W[S+1]+z[S+2]*W[S+2]+z[S+3]*W[S+3];return a}var k=y!=null?2:1,H=Date.now(),V=0,g=this,N=d.slice(0),C=d.slice(0);
g.RX(d,C);r(W,C,1,N);var w=this.zt;if(k==0){w=N.slice(0);w.fill(1)}var Y=N.slice(0);Z(w,N,Y);var U=Y.slice(0),e=i(N,Y);
while(!0){g.RX(U,C);var O=e/i(U,C);x(d,U,O,d);r(N,C,O,N);if((V&7)==0&&Math.sqrt(i(N,N))<c)break;if(k<=1)Z(w,N,Y);
else{var l=N.slice(0);y.as1(l,N);B.agg(Y,l)}var I=i(N,Y),s=I/e;x(Y,U,s,U);e=I;V++}};v.r8.prototype.aal=function(d,W,c,y){var B=Date.now(),r=1.96,Z=0;
if(c==null)c=5e-6;if(y==null)y=1e9;var x=1-r,bd=this.rows,i=this.ym,k=this.fe,H=this.QF,V=this.zt;while(!0){var g=0;
for(var S=0;S<bd;S++){var N=W[S],C=k[S],w=k[S+1];if(w-C==4)N-=i[C]*d[H[C]]+i[C+1]*d[H[C+1]]+i[C+2]*d[H[C+2]]+i[C+3]*d[H[C+3]];
else for(var Y=C;Y<w;Y++)N-=i[Y]*d[H[Y]];var U=d[S]*x+V[S]*N*r,e=U-d[S];g+=e*e;d[S]=U}if(g/bd<c||Date.now()>B+y)break}};
v.r8.prototype.awG=function(d,W,c,y){var B=Date.now(),r=1.96,Z=0;if(c==null)c=5e-5;if(y==null)y=1e9;
var x=1-r,bd=this.rows,i=this.ym,k=this.fe,H=this.QF,V=this.zt;while(!0){var g=0;for(var S=0;S<bd;S++){var N=S*3,C=W[N],w=W[N+1],Y=W[N+2],U=k[S],e=k[S+1];
for(var O=U;O<e;O++){var l=i[O],I=H[O]*3;C-=l*d[I+0];w-=l*d[I+1];Y-=l*d[I+2]}var s=V[S]*r,z=d[N+0]*x+C*s,R=d[N+1]*x+w*s,t=d[N+2]*x+Y*s,a=z-d[N+0],J=R-d[N+1],F=t-d[N+2];
g+=.4*a*a+.5*J*J+.1*F*F;d[N+0]=z;d[N+1]=R;d[N+2]=t}if(g/bd<c||Date.now()>B+y)break}};v.YF={};v.YF.la=function(d,W,c){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:d},Vrtc:{t:"doub",v:W},Cnty:{t:"bool",v:c}}}};
v.YF.e=function(d,W){for(var S=0;S<d.length;S++){var c=d[S].v,y=W.iC(new aL(c.Hrzn.v,c.Vrtc.v));c.Hrzn.v=Math.round(y.x);
c.Vrtc.v=Math.round(y.y)}};v.YF.aix=function(d,W,c){var bd=d.length-1,y=v.Fp.m6(bd+1,bd+2);for(var S=1;
S<bd;S++){y[S][S-1]=1/(d[S]-d[S-1]);y[S][S]=2*(1/(d[S]-d[S-1])+1/(d[S+1]-d[S]));y[S][S+1]=1/(d[S+1]-d[S]);
y[S][bd+1]=3*((W[S]-W[S-1])/((d[S]-d[S-1])*(d[S]-d[S-1]))+(W[S+1]-W[S])/((d[S+1]-d[S])*(d[S+1]-d[S])))}y[0][0]=2/(d[1]-d[0]);
y[0][1]=1/(d[1]-d[0]);y[0][bd+1]=3*(W[1]-W[0])/((d[1]-d[0])*(d[1]-d[0]));y[bd][bd-1]=1/(d[bd]-d[bd-1]);
y[bd][bd]=2/(d[bd]-d[bd-1]);y[bd][bd+1]=3*(W[bd]-W[bd-1])/((d[bd]-d[bd-1])*(d[bd]-d[bd-1]));v.Fp.Sc(y,c)};
v.YF.ae3=function(d,W,c,y){if(d<=W[0])return c[0];if(d>=W[W.length-1])return c[W.length-1];var S=1;while(W[S]<d)S++;
var B=W[S],r=W[S-1],x=c[S],Z=c[S-1],i=(d-r)/(B-r),k=y[S-1]*(B-r)-(x-Z),H=-y[S]*(B-r)+(x-Z),V=(1-i)*Z+i*x+i*(1-i)*(k*(1-i)+H*i);
return V};v.YF.aaG=function(d,W,c,y){var B={dN:[d[0]],lr:[W[0]],o9:[]};y[0]=B;for(var S=1;S<d.length-1;
S++){B.dN.push(d[S]);B.lr.push(W[S]);if(c[S]==!1){v.YF.aix(B.dN,B.lr,B.o9);B={dN:[d[S]],lr:[W[S]],o9:[]}}y[S]=B}B.dN.push(d[S]);
B.lr.push(W[S]);v.YF.aix(B.dN,B.lr,B.o9);y[S]=B};v.YF.aa4=function(d,W,c,y){if(d<=W[0])return c[0];if(d>=W[W.length-1])return c[W.length-1];
var S=1;while(W[S]<d)S++;var B=y[S-1];return v.YF.ae3(d,B.dN,B.lr,B.o9)};v.YF.ayI=function(d){var W={dN:[],lr:[],gD:[]};
for(var S=0;S<d.length;S++){W.dN[S]=d[S].v.Hrzn.v;W.lr[S]=d[S].v.Vrtc.v;W.gD[S]=d[S].v.Cnty?d[S].v.Cnty.v:!0}return W};
v.YF.Gy=function(d,bd,W){var c=0,y=255;if(W){c=-1e9;y=1e9}var B=v.YF.ayI(d),r=[];v.YF.aaG(B.dN,B.lr,B.gD,r);
var x=[];for(var S=0;S<bd;S++)x[S]=1/255*Math.max(c,Math.min(y,v.YF.aa4(S*(255/(bd-1)),B.dN,B.lr,r)));
return x};v.YF.axM=function(d,bd,W){var c=Math.round(d.length/20),y=bd-d.length,B=W?(d[c]-d[0])/c:0,r=W?d[0]-y*B:d[d.length-1],x=[];
for(var S=0;S<y;S++)x.push(r+S*B);return W?x.concat(d):d.concat(x)};v.YF.fc=function(d,bd,W){var c=v.YF.ayI(d),y=[];
v.YF.aaG(c.dN,c.lr,c.gD,y);var B=new Uint8Array(bd),r=bd/256;for(var S=0;S<bd;S++)B[S]=Math.max(0,Math.min(bd-1,v.YF.aa4(S*r,c.dN,c.lr,y)));
if(W){B[0]=0;if(B[1]>100)B[1]=.4*B[1];if(B[2]>150)B[1]=.7*B[2]}return B};v.YF.auS=function(d,W){var c=new Uint8Array(d.length);
for(var S=0;S<d.length;S++)c[S]=W[d[S]];return c};v.YF.pL=function(d,W,c){var y=document.createElement("canvas");
y.width=W;y.height=c;var B=y.getContext("2d"),r=v.YF.fc(d,256);B.scale(W/255,c/255);B.fillStyle="#fff";
B.fillRect(0,0,255,255);B.fillStyle="#333";B.beginPath();B.moveTo(0,255);for(var S=0;S<r.length;S++)B.lineTo(S,255-r[S]);
B.lineTo(255,255);B.closePath();B.fill();return y.toDataURL()};v.style={};v.style.stroke=function(d,W,c,y){var B=c.m,r=c.i,x=v.style.xa(d,B,r);
v.style.Ll(W,c,x,c,y)};v.style.Ll=function(d,W,c,y,B){var r=W.nK(y),x=r.m,Z=r.i;B+=.5;var i=r.x-W.x,k=r.y-W.y,H=W.m,V=r.x-y.x,g=r.y-y.y,N=y.m;
for(var C=0;C<Z;C++){var w=(C+g)*N+V,Y=(C+k)*H+i;for(var U=0;U<x;U++){var e=Math.max(0,Math.min(1,B-c[w+U]));
d[Y+U]=Math.round(e*255)}}};v.style.auw=function(d,W,c,y){for(var B=0;B<c;B++)for(var r=0;r<W;r++){var x=B*W+r,Z=0,i=0,k=d[x];
if(r==0||B==0){Z=d[x+1]-k;i=d[x+W]-k}else if(r==c-1||B==W-1){Z=k-d[x-1];i=k-d[x-W]}else{Z=d[x+1]-d[x-1];
i=d[x+W]-d[x-W]}if(Z!=0||i!=0){var H=1/Math.sqrt(Z*Z+i*i);Z*=H;i*=H}y[x+x]=Z;y[x+x+1]=i}};v.style.xa=function(d,W,c){var y=W*c,B=new ArrayBuffer((y+W*4)*4),r=new Float32Array(B,0,y),x=new Uint16Array(B,0,y<<1),Z=new Int32Array(B,y*4,W),i=new Int32Array(B,(y+W)*4,W),k=new Int32Array(B,(y+W*2)*4,W),H=new Int32Array(B,(y+W*3)*4,W),V=1/255;
for(let S=0;S<W;++S){let g=-c-W,N=0,C=S,w=0;for(;w<c;++w,C+=W){if(d[C]>128)g=w,N=d[C];x[C<<1]=w-g;x[(C<<1)+1]=N}g=x[C+=C-W-W],N=x[C+1];
for(;w>1;--w){if(x[C-=W+W]>g)x[C]=++g,x[C+1]=N;else g=x[C],N=x[C+1]}}for(let Y=0;Y<y;Y+=W){var U=Y+W,e=x[Y<<1]*x[Y<<1],O=0;
let l=Z[0]=Y,I=i[0]=Y,s=e,z=s;for(let C=Y+1;C<U;++C){var R=x[C<<1]*x[C<<1];while(O&&z>(I-C)*(I-C)+R){I=i[--O],l=Z[O],s=x[l<<1]*x[l<<1],z=(I-l)*(I-l)+s}if(O||z<=(I-C)*(I-C)+R){var t=C-l,a=Y+Math.floor((t*(C+l-Y-Y)+R-s)/(t<<1))+1;
if(a<U){I=i[++O]=a,l=Z[O]=C,s=R,z=(I-l)*(I-l)+s}}else I=Y,l=Z[0]=C,s=R,z=(I-l)*(I-l)+s}for(let S=0;S<O;
++S){var J=Z[S]<<1;k[S]=x[J]*x[J];H[S]=x[J+1]}let F=.5-x[(Z[O]<<1)+1]*V;for(let C=U-1;C>=Y;--C){r[C]=Math.max(0,Math.sqrt((C-l)*(C-l)+s)+F);
if(O&&C==I){I=i[--O],l=Z[O],s=k[O],F=.5-H[O]*V}}}return r};v.style.asl=function(d,W,c){var y=new Float64Array(W*c),B=0,r=W*c;
for(var S=0;S<r;S++)B|=d[S];if(B==0){y.fill(1e9);return}var x=v.style.Ng(d,W,c);for(var Z=0;Z<c;Z++)for(var i=0;
i<W;i++){var S=Z*W+i,k=x[S*2],H=x[S*2+1];if(k==0&&H==0){y[S]=0;continue}var V=Math.sqrt(k*k+H*H),g=d[(Z+H)*W+i+k]*(1/255);
y[S]=V+.5-g}return y};v.style.ae2=function(d,W,c){return(.5-c)*d};v.style.Ng=function(d,W,c,y){var B=new Int16Array(W*c*2);
v.style.alq(d,B,W,c,128);return B};v.style.alq=function(d,W,c,y,B){var r=new Int32Array(c*y);v.style.alV(d,r,c,y,B);
v.style.akQ(r,W,c,y)};v.style.alV=function(d,W,c,y,B){var r=new Int32Array(y);for(var x=0;x<c;x++){var Z=c+y;
for(var i=y-1;i>=0;i--){if(d[i*c+x]>B)Z=0;else Z++;r[i]=Z}Z=c+y;for(var i=0;i<y;i++){if(d[i*c+x]>B)Z=0;
else Z++;W[i*c+x]=Z<r[i]?-Z:r[i]}}};v.style.akQ=function(d,W,c,y){var B=(c+y)*(c+y),r=new Float64Array(c),x=new Uint16Array(c);
for(var Z=0;Z<y;Z++){var i=Z*c,k=0;x[0]=0;r[0]=-B;r[1]=+B;for(var H=1;H<c;H++){var V=d[H+i]*d[H+i]+H*H,g=(V-(d[x[k]+i]*d[x[k]+i]+x[k]*x[k]))/(2*H-2*x[k]);
while(g<=r[k]){k--;g=(V-(d[x[k]+i]*d[x[k]+i]+x[k]*x[k]))/(2*H-2*x[k])}k++;x[k]=H;r[k]=g;r[k+1]=B}k=0;
for(var H=0;H<c;H++){while(r[k+1]<H)k++;var N=x[k]-H,C=d[x[k]+i],S=Z*c+H<<1;W[S]=N;W[S+1]=C}}};v.style.z3=function(d,W,c){if(c)for(var S=0;
S<d.length;S++){var y=d[S];if(y>0)d[S]=Math.max(0,Math.min(255,y+W*2*(v.style.VC(S)-128)))}else for(var S=0;
S<d.length;S++){var y=d[S];if(y>0)d[S]=Math.max(0,Math.min(255,y+Math.min(y*3,W*2*(v.style.VC(S)-128))))}};
v.style.VC=function(d){d=d^61^d>>16;d=d+(d<<3);d=d^d>>4;d=d*668265261;d=d^d>>15;return d&255};v.Ox={};
v.Ox.wq=function(d,W,c){var y=d.canvas;if(y.width!=W||y.height!=c){y.width=W;y.height=c}};v.Ox.RN=function(d,W,c,y,B,r){v.Ox.wq(d,W,c);
if(r==null)r=!1;var x=B.channel,Z=B.rect,i=!B.isEnabled;if(W*c==0)return;var k=d.createImageData(W,c),H=k.data,V=1/W,g=1/c;
for(var S=0;S<c;S++)for(var N=0;N<W;N++){var C=S*W+N,w=C*4,Y=Math.round(y.x+N*V*y.m),U=Math.round(y.y+S*g*y.i),e=0;
if(Y<Z.x||Y>=Z.x+Z.m||U<Z.y||U>=Z.y+Z.i)e=B.color;else e=x[(U-Z.y)*Z.m+(Y-Z.x)];e=255*(255-B.it)+e*B.it>>>8;
if(r)e=170+Math.round(.4*(e-170));H[w]=e;H[w+1]=e;H[w+2]=e;H[w+3]=255}d.putImageData(k,0,0);if(i)v.Ox.aaX(d,W,c)};
v.Ox.a8I=[];v.Ox.ako=function(d,W,c,y){var B,r,x;B=Math.ceil(Math.max(W,c)*.35);r=W-B;x=c-B;var Z=v.Ox.a8I[B];
if(Z==null){var i=v.td(B,B);i.fillStyle="#eeeeee";i.fillRect(0,0,B,B);var k=Math.round(B*.27),H=i.lineWidth=Math.max(1,Math.round(B*.12)),V=H/2;
i.strokeRect(1+V,1+V,B-H-2,B-H-2);i.strokeRect(k+V,k+V,B-k-k-H,B-k-k-H);Z=v.Ox.a8I[B]=i.getImageData(0,0,B,B)}d.putImageData(Z,r,x)};
v.Ox.aAE=[];v.Ox.adh=function(d,W,c){var y,B,r;y=Math.ceil(Math.max(W,c)*.35);B=W-y;r=c-y;var x=v.Ox.aAE[y];
if(x==null){var Z=v.td(y,y);Z.fillStyle="#eeeeee";Z.fillRect(0,0,y,y);Z.lineWidth=1;Z.strokeRect(2.5,2.5,y-5,y-5);
var i=Z.createImageData(3,3);v.ft(i.data,4278190080);i.data[4*4]=i.data[4*4+1]=i.data[4*4+2]=238;Z.putImageData(i,1,1);
Z.putImageData(i,y-4,1);Z.putImageData(i,1,y-4);Z.putImageData(i,y-4,y-4);x=v.Ox.aAE[y]=Z.getImageData(0,0,y,y)}d.putImageData(x,B,r)};
v.Ox.a60=function(d,W,c,y,B){v.Ox.wq(d,W,c);var r=W/y.m;if(W*c==0)return;d.fillStyle="#999999";d.setTransform(1,0,0,1,0,0);
d.clearRect(0,0,W,c);var x=v.Ox.C8;if(x==null)x=v.Ox.C8=bV._M.qw(!0,!0);x.strokeStyleLineWidth.v.val=1/r;
d.fillStyle="#ffffff";d.scale(r,r);v.o.w7(B.Y,d,0,0);v.o.w7(B.Y,d,0,0,x)};v.Ox.a72=null;v.Ox.Ug=function(d,W,c,y,B,r,x,Z,i){v.Ox.wq(d,W,c);
if(W*c==0)return;var k=Math.max(W,c),H=v.Ox.a72;if(H==null||H.width<k||H.height<k){v.Ox.a72=H=d.createImageData(k,k)}k=H.width;
var V=H.data,g=y.m/W,N=y.i/c,C=r.x,w=r.x+r.m,Y=r.y,U=r.y+r.i;for(var S=0;S<c;S++)for(var e=0;e<W;e++){var O=S*k+e,l=O*4,I=~~(y.x+e*g),s=~~(y.y+S*N),z=v.a6y(S,e,2);
if(I<C||I>=w||s<Y||s>=U||i){V[l]=z;V[l+1]=z;V[l+2]=z;V[l+3]=255}else{var R=(s-r.y)*r.m+(I-r.x)<<2,t=B[R+3]*(1/255);
V[l]=B[R+0]*t+z*(1-t);V[l+1]=B[R+1]*t+z*(1-t);V[l+2]=B[R+2]*t+z*(1-t);V[l+3]=255}}if(Z!=null)for(var S=0;
S<V.length;S+=4)V[S]=V[S+1]=V[S+2]=V[S+Z];d.putImageData(H,0,0);if(x)v.Ox.aaX(d,W,c)};v.Ox.atH=function(d,W,c,y){v.Ox.wq(d,W,c);
d.fillStyle=v.Ox.E5(y.Clr.v);d.fillRect(0,0,W,c);v.Ox.q6(d,W,c)};v.Ox.afQ=null;v.Ox.ayd=function(d,W,c,y){v.Ox.wq(d,W,c);
var B=d.canvas.width,r=d.canvas.height,x=v.Ox.afQ;if(x==null||x.width!=B||x.height!=r){d.fillStyle="#ffffff";
d.fillRect(0,0,W,c);d.fillStyle="#000000";d.font=""+c*.7+"px serif";d.fillText("T",(W-c*.43)/2,c*.75);
d.fillText("T",(W-c*.43)/2,c*.75);v.Ox.afQ=d.getImageData(0,0,B,r)}else d.putImageData(x,0,0)};v.Ox.agI=function(d,W,c){v.Ox.wq(d,W,c);
d.clearRect(0,0,W,c);d.font=c*.7+"px serif";d.fillText(":(",(W-c*.43)/2,c*.7)};v.Ox.aDI=function(d,W,c,y){v.Ox.wq(d,W,c);
var B=bN.get(y),r=d.canvas.width,x=v.Ox.a5p[r+B];if(x==null){var Z=PIMG["adj/"+B],i=fd.LC(Z),k=UPNG.decode(i.buffer),H=new Uint8Array(UPNG.toRGBA8(k)[0]),V=new a8(0,0,160,160),g=0,N=r-g*2,C=X.X.Wf([H,V],new dT(N/160,0,0,N/160,0,0)),w=new a8(0,0,r,r),Y=v.R(w.P()*4);
v.l.Ip("norm",C.buffer,C.rect,Y,w,C.rect,1);x=v.Ox.a5p[r+B]=new ImageData(new Uint8ClampedArray(Y.buffer),r,r)}d.putImageData(x,0,0)};
v.Ox.a5p={};v.Ox.a9m=function(d,W,c,y){v.Ox.wq(d,W,c);var B=d.canvas.width,r=d.canvas.height,x=d.getImageData(0,0,B,r);
v.L.cR(y.Grad.v,new Uint8Array(x.data.buffer),new a8(0,0,B,r),[1/B,0,0,1/r],B/2,r/2,!1,0,16711680,65280);
d.putImageData(x,0,0);v.Ox.q6(d,W,c)};v.Ox.aBt=function(d,W,c,y,B){v.Ox.wq(d,W,c);var r=d,x=eV.Nf(y.Ptrn.v,B.add.Patt);
if(x==null)return;var Z=x.Q$[1];v.Ox.Ug(d,W,c,Z,x.Q$[0],Z,!1);v.Ox.q6(r,W,c)};v.Ox.aaX=function(d,W,c){d.strokeStyle="#bb0000";
d.lineWidth=3;d.beginPath();d.moveTo(W*.15,c*.15);d.lineTo(W*.85,c*.85);d.moveTo(W*.85,c*.15);d.lineTo(W*.15,c*.85);
d.closePath();d.stroke()};v.Ox.q6=function(d,W,c){d.fillStyle="#eeeeee";d.fillRect(0,c*.75,W,c*.25);
d.beginPath();d.moveTo(0,c*.75);d.lineTo(W,c*.75);d.moveTo(W*.1,c*.875);d.lineTo(W*.9,c*.875);d.moveTo(W*.65,c*.825);
d.lineTo(W*.65,c*.95);d.closePath();d.stroke()};v.Ox.E5=function(d){var W=v.L.E5(d),c=Math.round(W.Z)<<16|Math.round(W.G)<<8|Math.round(W.J);
return"#"+v.Wb(c)};v.o={};v.o.Ls=function(d,W,c){var y=[],B=-1;for(var S=0;S<d.length;S++){var r=d[S];
if((r.type==0||r.type==3)&&r.p5!=-1)B++;if(r.type>5||r.type==0||r.type==3)continue;if(W!=null&&W.indexOf(B)==-1)continue;
if(c!=null&&c.indexOf(S)==-1)continue;y.push(r.sV.x);y.push(r.sV.y);y.push(r.I.x);y.push(r.I.y);y.push(r.XM.x);
y.push(r.XM.y)}return y};v.o.pd=function(d,W,c,y){var B=0,r=-1;for(var S=0;S<W.length;S++){var x=W[S];
if((x.type==0||x.type==3)&&x.p5!=-1)r++;if(x.type>5||x.type==0||x.type==3)continue;if(c!=null&&c.indexOf(r)==-1)continue;
if(y!=null&&y.indexOf(S)==-1)continue;x.sV.sq(d[B],d[B+1]);x.I.sq(d[B+2],d[B+3]);x.XM.sq(d[B+4],d[B+5]);
B+=6}};v.o.hn=function(d,W,c,y){var B=v.o.Ls(d,c,y);v.A.e(B,W,B);v.o.pd(B,d,c,y)};v.o.aAn=function(d,W,c,y){var B=v.o.Ls(d,c,y);
v.D.e(W,B);v.o.pd(B,d,c,y)};v.o.afv=function(d,W,c,y){if(y==null){var B=v.o.adS(d,40,c);for(var S=0;
S<B.length;S++)d[S]=B[S]}var r=v.o.Ls(d,c,y);v.pK.e(W,r,v.A.c7(r));v.o.pd(r,d,c,y)};v.o.adS=function(d,W,c){var y=[],B=-1;
for(var S=0;S<d.length;S++){var r=d[S],x=r.length;if(r.type>5){y.push(JSON.parse(JSON.stringify(r)));
continue}r=JSON.parse(JSON.stringify(r));y.push(r);if(r.p5!=-1)B++;if(c&&c.indexOf(B)==-1){y=y.concat(d.slice(S+1,S+1+x))}else{var Z=v.o.a1O(d,S+1,x);
Z=v.A._s(Z,W);var i=v.o.akP(Z);r.length=i.length;for(var k=0;k<i.length;k++)y.push(i[k])}S+=x}return y};
v.o.a1O=function(d,W,c){var y={r:["M"],j:[]},B=d[W],r=d[W+c-1];y.j.push(B.I.x,B.I.y);for(var S=1;S<c;
S++){var x=d[W+S-1],Z=d[W+S];y.r.push("C");y.j.push(x.XM.x,x.XM.y,Z.sV.x,Z.sV.y,Z.I.x,Z.I.y)}y.r.push("C");
y.j.push(r.XM.x,r.XM.y,B.sV.x,B.sV.y,B.I.x,B.I.y);return y};v.o.akP=function(d){var W=[],c=d.r,y=d.j,B=0,bd=y.length;
W.push({type:2,sV:new aL(y[bd-4],y[bd-3]),I:new aL(y[0],y[1]),XM:new aL(y[2],y[3])});for(var S=0;S<c.length-2;
S++){var r=S*6+4;W.push({type:2,sV:new aL(y[r],y[r+1]),I:new aL(y[r+2],y[r+3]),XM:new aL(y[r+4],y[r+5])})}return W};
v.o.am5=function(d){for(var S=0;S<d.length;S++){if(d[S].type>5)continue;var W=d[S].length;if(!(W==4||W==6||W==8)){S+=W;
continue}for(var c=0;c<W;c++){var y=d[S+1+c],B=d[S+1+(c+1)%W],r=Math.min(y.I.x,B.I.x),x=Math.min(y.I.y,B.I.y),Z=0,i=0;
if(y.I.x<B.I.x){Z=y.I.y-x;i=Z-(B.I.x-r)}else{Z=B.I.y-x;i=Z-(y.I.x-r)}if(Math.abs(i)<.2*Z)return Z}}return-1};
v.o.wV=function(d,W,c){function y(g,N){var C=Math.min(g.x,N.x),w=Math.min(g.y,N.y),Y=Math.max(g.x+g.m,N.x+N.m),U=Math.max(g.y+g.i,N.y+N.i);
return new a8(C,w,Y-C,U-w)}var B=null,r=-1,x=!v.o.QK(d);for(var S=0;S<d.length;S++){var Z=d[S];if(Z.type>5)continue;
if((Z.type==0||Z.type==3)&&Z.p5!=-1)r++;if(W!=null&&W.indexOf(r)==-1)continue;if(S==d.length-1)break;
var i=Z.type==3,k=Z.length,H=Z.p5,V=v.o.bf(d,S+1,k,i);if(B==null)B=V;else if(c)B=y(B,V);else if(x){if(W!=null||H==0||H==-1||H==2)B=y(B,V);
else if(H==1)B=B;else if(H==3){B=V;x=!1}}else{if(W!=null||H==0||H==-1||H==1)B=y(B,V);else if(H==2)B=B;
else if(H==3)B=B.nK(V)}S+=k}if(B==null||B.m<0||B.i<0)B=new a8(0,0,0,0);return B};v.o.a4U=new Float64Array(4);
v.o.bf=function(d,S,W,c){var y=v.o.a4U;y[0]=1e30;y[1]=1e30;y[2]=-1e30;y[3]=-1e30;var B=d[S+W-1];if(!c)v.o.a2k(B.I.x,B.I.y,B.XM.x,B.XM.y,d[S].sV.x,d[S].sV.y,d[S].I.x,d[S].I.y,y);
for(var r=S;r<S+W-1;r++){var x=d[r],Z=d[r+1];v.o.a2k(x.I.x,x.I.y,x.XM.x,x.XM.y,Z.sV.x,Z.sV.y,Z.I.x,Z.I.y,y)}return new a8(y[0],y[1],y[2]-y[0],y[3]-y[1])};
v.o.a2k=function(d,W,c,y,B,r,x,Z,i){if(d==c&&W==y&&B==x&&r==Z){i[0]=Math.min(i[0],Math.min(d,x));i[1]=Math.min(i[1],Math.min(W,Z));
i[2]=Math.max(i[2],Math.max(d,x));i[3]=Math.max(i[3],Math.max(W,Z));return}var k=d,H=W,V=d,g=W,N=40,C=1/(N-1);
for(var w=0;w<N;w++){var Y=w*C,U=1-Y,e=U*U*U,O=3*U*U*Y,l=3*U*Y*Y,I=Y*Y*Y,s=e*d+O*c+l*B+I*x,z=e*W+O*y+l*r+I*Z;
if(s<k)k=s;else if(s>V)V=s;if(z<H)H=z;else if(z>g)g=z}if(k<i[0])i[0]=k;if(H<i[1])i[1]=H;if(V>i[2])i[2]=V;
if(g>i[3])i[3]=g};v.o.apt=function(d,W){var c=d.length-3,y=W%c,B=Math.floor(y);if(W<0||B>=c)return null;
var r=d[3+B],x=d[3+(B+1)%c],Z=r.I,i=r.XM,k=x.sV,H=x.I,V=y-B,g=1-V,N=g*g*g*Z.x+3*g*g*V*i.x+3*g*V*V*k.x+V*V*V*H.x,C=g*g*g*Z.y+3*g*g*V*i.y+3*g*V*V*k.y+V*V*V*H.y;
return new aL(N,C)};v.o.Gp=function(d,W){var c=v.A.Gs(d),y=c.gr;c.gr=Typr.U.pathToSVG({crds:y.j,cmds:y.r},W==null?2:W);
return c};v.o.ye=function(d){v.o.Dl();var W,c=v.o.Em(d),y=[];for(var S=0;S<c.length;S++){var B=c[S][0],r=c[S][1];
if(Math.abs(B.area)<1e-5)y.push(B);else if(W==null)W=B;else{if(!B.closed)B.closed=!0;W=W[r](B);W.remove()}}if(W==null)W=new paper.CompoundPath(y);
else{if(W.segments)W=new paper.CompoundPath(W);for(var S=0;S<y.length;S++){W.addChild(y[S])}}var x=d.slice(0,2);
x=x.concat(v.o.s7(W));v.o.Ej(c);v.o.Ej([[W]]);if(x[2])x[2].p5=1;for(var S=3;S<x.length;S++)if(x[S].p5!=null)x[S].p5=-1;
return x};v.o.Dl=function(){if(v.o.ab2==null){var d=document.createElement("canvas");paper.setup(d);
v.o.ab2=!0}};v.o.acO=function(d,W){v.o.Dl();var c=[],y=v.o.Em(d),B=new paper.Path.Rectangle(new paper.Rectangle(W.x,W.y,W.m,W.i));
B.remove();B.fillColor=new paper.Color(1,0,0);for(var S=0;S<y.length;S++){if(B.intersects(y[S][0])||B.contains(y[S][0].children[0].segments[0].point))c.push(S)}v.o.Ej(y);
return c};v.o.cf=function(d,W,c,y){v.o.Dl();var B=c?{curves:!0,tolerance:y}:null,r=new paper.Point(W.x,W.y),x=v.o.Em(d);
v.o.Ej(x);for(var S=x.length-1;S>=0;S--){var Z=x[S][0],i=Z.hitTest(r,B);if(i!=null)return{Wr:S,Wq:c?i.location.index:null,pq:c?i.location.time:0}}return{Wr:-1}};
v.o.rX=function(d,W,c,y){var B=[[],[],[]];for(var S=0;S<d.length;S++){var r=d[S];if(r.type>5||r.type==0||r.type==3)continue;
var x=W.Ce(r.I),Z=W.Ce(r.sV),i=W.Ce(r.XM);if(c&&c.indexOf(S)==-1){if(y){if(c.indexOf(S-1)==-1)Z=!1;if(c.indexOf(S+1)==-1)i=!1}else Z=i=!1}if(x)B[0].push(S);
if(Z)B[1].push(S);if(i)B[2].push(S)}B[3]=B[0].length+B[1].length+B[2].length;return B};v.o.ab3=function(d,W,c){var y=d[W];
for(var B=W+1;B<c;B++)d[B-1]=d[B];d[c-1]=y};v.o.a3m=function(d,W,c,y){var S,B,r,x=0;d=d.slice(0);W.sort(function(C,w){return C-w});
r=-1;for(S=2;S<d.length;){var Z=d[S],i=Z.length;if(Z.p5!=-1)r++;var k=x;while(k<W.length&&W[k]<S+1+i)k++;
if(x!=k){var H=W.slice(x,k);x=k;for(B=0;B<i;B++)if(H.indexOf(S+1+B)!=-1)d[S+1+B]=null;if(Z.type==0){var V=H[0]-(S+1);
while(V!=0){v.o.ab3(d,S+1,S+1+i);V--}}var g=Z;g.length=0;B=0;while(B<i&&d[S+1+B]==null)B++;while(B<i){var N=d[S+1+B];
if(N!=null)g.length++;else if(B<i+1&&d[S+1+B+1]&&y){g=d[S+1+B]={type:0,p5:-1,length:0,Be:0,dO:0,H4:1}}B++}if(y)for(B=-1;
B<i;B++)if(d[S+1+B]&&d[S+1+B].type<3)d[S+1+B].type+=3;v.dr.CY(c,r)}S+=1+i}for(S=0;S<d.length;S++)if(d[S]==null){d.splice(S,1);
S--}r=0;for(S=2;S<d.length;S++){var Z=d[S];if(Z.length==0){if(d[S+1]&&d[S+1].p5==-1)d[S+1].p5=Z.p5;else if(Z.p5!=-1)c.splice(r,1);
d.splice(S,1);S--}else if(Z.length!=null&&Z.p5!=-1)r++}return d};v.o.apf=function(d,W){var c=d.slice(0,2),y=-1;
for(var S=2;S<d.length;S++){if((d[S].type==0||d[S].type==3)&&d[S].p5!=-1)y++;if(W.indexOf(y)==-1)c.push(d[S])}return c};
v.o.a9k=function(d,W){var c=d.slice(0,2),y=-1;for(var S=2;S<d.length;S++){if((d[S].type==0||d[S].type==3)&&d[S].p5!=-1)y++;
if(W.indexOf(y)!=-1)c.push(d[S])}return c};v.o.arT=function(d){var W=0;for(var S=0;S<d.length;S++)if(d[S].type==0||d[S].type==3)W=S;
return d[W]};v.o.mQ=function(d){var W=-1;for(var S=0;S<d.length;S++)if((d[S].type==0||d[S].type==3)&&d[S].p5!=-1)W++;
return W+1};v.o.ke=function(d,W,c){var y=-1;for(var S=0;S<d.length;S++)if((d[S].type==0||d[S].type==3)&&(c||d[S].p5!=-1)){y++;
if(y==W)return S}return-1};v.o.pR=function(d,W,c){var y=-1;for(var S=0;S<d.length;S++)if((d[S].type==0||d[S].type==3)&&(c||d[S].p5!=-1)){if(S>=W)return y;
y++}return y};v.o.PG=function(d,W){var c=-1,y=0;for(var S=0;S<d.length;S++){if((d[S].type==0||d[S].type==3)&&d[S].p5!=-1)c++;
if(c==W)y++}return y};v.o.aBm=function(d){var W=180;for(var S=0;S<d.length;S++){if(d[S].type!=0&&d[S].type!=3)continue;
var c=d[S].length;if(c<3)continue;for(var y=0;y<c;y++){var B=d[S+1+(y-1+c)%c],r=d[S+1+y],x=d[S+1+(y+1)%c],Z=r.I,i=r.sV.zI(Z)?B.XM:r.sV,k=r.XM.zI(Z)?x.sV:r.XM;
if(Z.zI(i)||Z.zI(k))continue;var H=i.x-Z.x,V=i.y-Z.y,g=k.x-Z.x,N=k.y-Z.y,i=Math.atan2(i.y-Z.y,i.x-Z.x)*180/Math.PI,k=Math.atan2(k.y-Z.y,k.x-Z.x)*180/Math.PI,C=Math.abs(k-i)%360,w=C>180?360-C:C;
if(w<W)W=w}}return W*Math.PI/180};v.o.s7=function(d){var W=d.segments?[d]:d.children,c=[];for(var S=0;
S<W.length;S++){var y=W[S],B=y.segments,r=y.closed?0:3,x=c.length,Z=null;if(B.length<=1)continue;c.push({type:r,length:B.length,p5:0,H4:2});
for(var i=0;i<B.length;i++){var k=B[i],H=new aL(k.handleIn.x,k.handleIn.y),V=new aL(k.handleOut.x,k.handleOut.y),g=new aL(k.point.x,k.point.y),N={type:r+1,sV:g.add(H),I:g,XM:g.add(V)};
if(Z==null)Z=N;c.push(N);if(i+1==B.length&&aL.Bg(Z.I,N.I)<1e-5){c.pop();c[x].length--;Z.sV=N.sV;if(r==3)for(var C=x;
C<c.length;C++)c[C].type-=3}}}return c};v.o.Em=function(d){v.o.Dl();var W=[],c,y=new paper.Color(1,0,0);
function B(N,Z){N.remove();N.closed=!Z;N.fillRule="evenodd"}for(var S=0;S<d.length;S++){if(d[S].type>5)continue;
var r=d[S].length,x;if(S==d.length-1)break;var Z=d[S].type==3;if(S==2){if(!v.o.SR(d))x="subtract";else x="unite"}else{if(d[S].p5==0)x="exclude";
if(d[S].p5==1)x="unite";if(d[S].p5==2)x="subtract";if(d[S].p5==3)x="intersect"}if(d[S].p5!=-1){c=new paper.CompoundPath;
W.push([c,x]);c.fillRule="evenodd";c.fillColor=y}var i=[];for(var k=0;k<r;k++){var H=d[S+1+k],V=H.sV.Sa(H.I),g=H.XM.Sa(H.I);
i.push([[H.I.x,H.I.y],[V.x,V.y],[g.x,g.y]])}var N=new paper.Path(i);B(N,Z);c.addChild(N);S+=r}return W};
v.o.Ej=function(d){for(var S=0;S<d.length;S++)d[S][0].remove()};v.o.Kb=function(d){for(var S=0;S<d.length;
S++){var W=d[S];if(W.I==null)continue;if(!W.I.zI(W.sV)||!W.I.zI(W.XM))return!1}return!0};v.o.a4Z=function(d){if(d.length<=5)return 0;
var W=0,c=d.length-3-1;for(var S=0;S<c;S++){var y=d[3+S],B=d[3+S+1];if(y.type==0||B.type==0)return 0;
W+=(B.I.x-y.I.x)*(y.I.y+B.I.y)}W+=(d[3].I.x-d[3+c].I.x)*(d[3+c].I.y+d[3+1].I.y);return-W*.5};v.o.QK=function(d){var W=d[2],c=!1;
if(d.length==2)c=d[1].all==0;else if(d[1].all==1){if(W.p5==1||W.p5==3)c=!0;else c=!1}else{if(W.p5==1||W.p5==3||W.p5==0)c=!0;
else c=!1}return c};v.o.SR=function(d){var W=v.o.QK(d);for(var S=3;S<d.length;S++)if(d[S].p5==3)W=!0;
return W};v.o.az$=0;v.o.a8m=0;v.o.azH=0;v.o.aBP=function(d,W,c,y){if(c.Bb())return;var B=c.P(),U=16384;
v.o.az$+=B;if(B>v.o.a8m){v.o.a8m=B}var r=c.m,x=c.i;if(y==null&&v.o.Kb(d)&&d[2]&&d[2].p5!=2){var Z=!0;
for(var S=2;S<d.length;)if(d[S].length==2)S+=3;else{Z=!1;break}if(Z){return}if(v.o.G0(d)){W.fill(255);
var i=v.o.wV(d);if(i.P()!=B){var k=1-(i.x-c.x),H=1-(i.y-c.y),V=1-(c.x+c.m-(i.x+i.m)),g=1-(c.y+c.i-(i.y+i.i)),N=~~(k*255),C=~~(V*255),w=~~(H*255),Y=~~(g*255);
W.fill(w,0,r);W[0]=~~(k*H*255);W[r-1]=~~(V*H*255);for(var S=r;S<B;S+=r){W[S]=N;W[S+r-1]=C}W.fill(Y,(x-1)*r,x*r);
W[B-r]=~~(k*g*255);W[B-1]=~~(V*g*255)}return}}var e=Math.ceil(r/U),O=Math.ceil(x/U),l=Math.ceil(r/e),I=Math.ceil(x/O),s=Date.now();
for(var z=0;z<O;z++)for(var R=0;R<e;R++){var t=R*l,a=z*I,J=l,F=I,h=v.td(J,F);if(!v.o.QK(d))h.fillRect(0,0,J,F);
v.o.w7(d,h,-c.x-t,-c.y-a,y);var m=new Uint8Array(h.getImageData(0,0,J,F).data.buffer);if(J==r&&F==x)v.$P(m,W,3);
else v.mE(m,new a8(t,a,J,F),W,new a8(0,0,r,x))}};v.o.aDo=function(d){var W=!1,c=!1,y=0,B=!1;for(var S=0;
S<d.length;S++){var r=d[S].p5;if(r!=null){y++;if(r==-1)W=!0;if(r==1||r==2||r==3)c=!0;if(d[S].type==0)B=!0}}if(!W&&y<20&&B&&c)d=v.o.ye(d);
return d};v.o.w7=function(d,W,c,y,B,r){if(B!=null){d=v.o.aDo(d)}for(var S=0;S<d.length;S++){if(d[S].type>5)continue;
var x=d[S].length;if(x==0)continue;if(S==d.length-1)break;var Z=d[S].type==3,i=d[S].p5;if(i!=-1&&B==null){var k=["xor","source-over","destination-out","source-in"][i];
W.globalCompositeOperation=k}if(d[S].p5!=-1){W.beginPath();if(B)v.o.J4(bV._M.jS(B),W)}v.o.atQ(W,d,S+1,x,c,y,Z);
if(Z){}else W.closePath();if(d[S+1+x]==null||d[S+1+x].p5!=-1){if(B){if(r)W.clip();W.stroke()}else W.fill(i==-1?"nonzero":"evenodd")}S+=x}W.globalCompositeOperation="source-over";
W.setLineDash([])};v.o.J4=function(d,W){var c=d.jW;W.setLineDash(d.Pn);W.lineCap=["butt","round","square"][d.jf];
W.lineJoin=["miter","round","bevel"][d.T1];W.lineWidth=d.b3==1?c:c*2;W.miterLimit=d.dL};v.o.atQ=function(d,W,S,c,y,B,r){var x=W[S],Z=null;
d.moveTo(x.I.x+y,x.I.y+B);for(var i=S;i<S+c-1;i++){x=W[i];Z=W[i+1];d.bezierCurveTo(x.XM.x+y,x.XM.y+B,Z.sV.x+y,Z.sV.y+B,Z.I.x+y,Z.I.y+B)}if(!r){x=W[i];
Z=W[S];d.bezierCurveTo(x.XM.x+y,x.XM.y+B,Z.sV.x+y,Z.sV.y+B,Z.I.x+y,Z.I.y+B)}};v.o.ao8=function(d,W){var c=[],y=W?4:1;
for(var S=0;S<d.length;S+=2){var B=new aL(d[S],d[S+1]);c.push({type:y,sV:B.clone(),I:B.clone(),XM:B.clone()})}return c};
v.o.a8y=function(d,W,c){var y=(1-(c!=null?c:25)*.01)*10;if(y>0){for(var S=0;S<W.length;S++){var B=W[S],r=v.o.ke(d,B),x=v.o.PG(d,B),Z=d.slice(r,r+x);
v.o.Dl();var i=new paper.Path;i.remove();i.closed=!0;for(var k=1;k<Z.length;k++)i.add(new paper.Point(Z[k].I.x,Z[k].I.y));
var H=i.simplify(y);if(H)d.splice(r,x,...v.o.s7(i))}}return d};v.o.ad=function(d,W,c){var y=v.A.c7(d),B=Math.sqrt(Math.sqrt(y.P()))*.2,r=.2;
d=d.slice(0);var x=d.length,Z=W?0:2;for(var i=0;i<5;i++)for(var S=Z;S<d.length-Z;S+=2){var k=(S-2+x)%x,H=(S+2)%x,V=d[S],g=d[S+1],N=(d[k]+d[H])*.5,C=(d[k+1]+d[H+1])*.5;
d[S]=V+(N-V)*r;d[S+1]=g+(C-g)*r}if(c)return v.o.GP.Lb(d,null,!W);v.o.Dl();var w=new paper.Path;w.remove();
w.closed=W;for(var S=0;S<d.length;S+=2)w.add(new paper.Point(d[S],d[S+1]));w.simplify(B);var Y=[{type:6},{type:8,all:0}];
Y=Y.concat(v.o.s7(w));return Y};v.o.fw=function(d,W,c){var y=d[W].length,B=d[W].type,r=0,x=d.slice(W+1,W+1+y);
for(var S=0;S<y;S++){var Z=c[(S-1+y)%y],i=c[(S+1+y)%y],k=c[S];if(k!=0){var H=x[(S-1+y)%y].I,V=x[(S+0+y)%y].I,g=x[(S+1+y)%y].I,N=aL.Bg(V,H),C=aL.Bg(V,g),w=v.A.ayx(H.x,H.y,V.x,V.y,g.x,g.y,k)[0],Y=Math.min(w,Z==0?N:N/2,i==0?C:C/2);
k*=Y/w;var U=v.A.adA(H.x,H.y,V.x,V.y,g.x,g.y,k),e={type:B+1,sV:new aL(U[2],U[3]),I:new aL(U[2],U[3]),XM:new aL(U[4],U[5])},O={type:B+1,sV:new aL(U[6],U[7]),I:new aL(U[8],U[9]),XM:new aL(U[8],U[9])};
d.splice(W+r+1,1,e,O);r++;d[W].length++}r++}};v.o.Kb=function(d){for(var S=0;S<d.length;S++){var W=d[S],c=W.type;
if(c==1||c==2||c==4||c==5)if(!W.I.zI(W.sV)||!W.I.zI(W.XM))return!1}return!0};v.o.G0=function(d){if(d.length!=7||d[2].length!=4||!v.o.Kb(d))return!1;
for(var S=0;S<4;S++){var W=!0;for(var c=0;c<4;c++){var y=d[3+(S+c&3)],B=d[3+(S+c+1&3)];if(y.I.x!=B.I.x&&y.I.y!=B.I.y)W=!1}if(W)return!0}return!1};
v.o.aAa=function(d){if(d.length<6)return 0;var W=d.length-2,c=0;for(var S=0;S<W;S+=2)c+=(d[S+2]-d[S])*(d[S+1]+d[S+3]);
c+=(d[0]-d[W])*(d[W+1]+d[1]);return-c*.5};v.o.aqD=function(d){d=e8.vw.Rl(d);var W=v.o.mQ(d);for(var c=0;
c<W;c++){var y=v.o.ke(d,c)+1,B=d[y-1].length,r=[];for(var S=0;S<B;S++){var x=d[y+S].I;r.push(x.x,x.y)}var Z=v.o.aAa(r);
if(Z<0)v.o.a5C(d,y-1)}return d};v.o.a5C=function(d,W){var c=W+1,y=d[W].length,B=[];for(var S=0;S<y;S++){var r=d[c+S],x=r.sV;
r.sV=r.XM;r.XM=x;B.push(r)}for(var S=0;S<y;S++)d[c+S]=B[y-1-S]};v.o.GP={};v.o.GP.Lb=function(d,W,c){var y=[{type:6},{type:8,all:0}],B=null;
y.push({type:c?3:0,p5:1,length:0,Be:0,dO:0,H4:1});if(W==0||W==null)B=null;else if(W instanceof Array)B=W;
else{B=[];for(var S=0;S<d.length;S+=2)B.push(W)}y=y.concat(v.o.ao8(d,c));y[2].length=y.length-3;if(B)v.o.fw(y,2,B);
return y};v.o.GP.a4f=function(d,W,c,y,B){var r=[],x=[],Z=.553,i=1,k=-1;r.push({type:1,sV:new aL(0,Z),I:new aL(0,0),XM:new aL(0,-Z)});
B+=2;for(var S=0;S<B;S++){var H={type:1};if(S==0){H.I=new aL(1,-1);H.sV=new aL(1-Z,-1);H.XM=new aL(1+Z,-1)}else{var V=-(S+2)*Math.PI/2,g=1+((S&1)==1?S-1:S),N=Math.sin(V),C=Math.cos(V);
i+=g*(N-C);k+=g*(C+N);H.I=new aL(i,k);H.sV=new aL(i+g*C*Z,k-g*N*Z);if((S&1)==1)g+=2;H.XM=new aL(i-g*C*Z,k+g*N*Z)}var w={type:1,sV:new aL(-H.XM.x,-H.XM.y),I:new aL(-H.I.x,-H.I.y),XM:new aL(-H.sV.x,-H.sV.y)};
r.push(H);if(S<B-2)x.push(w)}x.reverse();r=r.concat(x);var Y=[{type:6},{type:8,all:0}];Y.push({type:0,p5:1,length:r.length,Be:0,dO:0,H4:1});
Y=Y.concat(r);var U=new dT(c/B,0,0,c/B,0,0);U.rotate(y);U.translate(d,W);v.o.hn(Y,U);return Y};v.o.GP.Rect=function(d,W,c,y,B){var r=[d,W,d+c,W,d+c,W+y,d,W+y];
return v.o.GP.Lb(r,B)};v.o.GP.g9=function(d,W,c,y,B,r,x,Z){var i=[],k=2*Math.PI/B;for(var S=0;S<B;S++)i.push(Math.cos(S*k-y),Math.sin(S*k-y));
if(x!=null){var H=v.A.c7(i),V=H.m,g=H.i,N=x/(V/2),C=Z/(g/2);for(var S=0;S<i.length;S+=2){i[S]=(i[S]-(H.x+V/2))*N;
i[S+1]=(i[S+1]-(H.y+g/2))*C}c=1}var w=new dT(c,0,0,c,0,0);w.translate(d,W);v.A.e(i,w,i);return v.o.GP.Lb(i,r)};
v.o.GP.a8w=function(d,W,c,y,B,r,x){var Z=[],i=Math.PI/B;for(var S=0;S<B*2;S++){var k=(S&1)==0?1:x;Z.push(k*Math.cos(S*i),k*Math.sin(S*i))}var H=new dT(c,0,0,c,0,0);
H.rotate(y);H.translate(d,W);v.A.e(Z,H,Z);return v.o.GP.Lb(Z,r)};v.o.GP.gB=function(d,W,c,y,B){return v.o.GP.Lh(0,d,W,c,y,B)};
v.o.GP.a8i=function(d,W,c,y,B,r){return v.o.GP.Lh(1,d,W,c,y,B,r)};v.o.GP.X_=function(d,W,c,y,B,r){return v.o.GP.Lh(2,d,W,c,y,B,r)};
v.o.GP.Lh=function(d,W,c,y,B,r,x){var Z=Math.sqrt((y-W)*(y-W)+(B-c)*(B-c)),i;r/=2;if(d==0)i=[-r,0,r,0,r,Z,-r,Z];
if(d==1){var k=r*2*x*1.3/1.5,H=r*x;i=[-r,0,r,0,r,Z-k,H,Z-k,0,Z,-H,Z-k,-r,Z-k]}if(d==2){var k=x[3],H=x[2]/2,V=k*(2/3)*x[4]/100,g=k-V,N=k;
i=[];if(x[0])i.push(-r,g,-H,N,0,0,H,N,r,g);else if(r==0)i.push(0,0);else i.push(-r,0,r,0);if(x[1])i.push(r,Z-g,H,Z-N,0,Z,-H,Z-N,-r,Z-g);
else if(r==0)i.push(0,Z);else i.push(r,Z,-r,Z)}var C=new dT(1,0,0,1,0,0);C.rotate(Math.atan2(-B+c,y-W)+Math.PI/2);
C.translate(W,c);v.A.e(i,C,i);return v.o.GP.Lb(i,0)};v.o.GP.a8=function(d,W,c,y){var B=[{type:6},{type:8,all:0}],V=.553;
B.push({type:0,p5:1,length:4,Be:0,dO:0,H4:1});var r=d,x=W,Z=d+c,i=W+y,d=(r+Z)/2,W=(x+i)/2,k=(r-Z)/2,H=(x-i)/2;
B.push({type:1,sV:new aL(d-V*k,W-H),I:new aL(d,W-H),XM:new aL(d+V*k,W-H)});B.push({type:1,sV:new aL(d+k,W-V*H),I:new aL(d+k,W),XM:new aL(d+k,W+V*H)});
B.push({type:1,sV:new aL(d+V*k,W+H),I:new aL(d,W+H),XM:new aL(d-V*k,W+H)});B.push({type:1,sV:new aL(d-k,W+V*H),I:new aL(d-k,W),XM:new aL(d-k,W-V*H)});
return B};v.o.GP.aoz=function(d,W,c,y,B){var r=[{type:6},{type:8,all:0}];r.push({type:3,p5:1,length:5,Be:0,dO:0,H4:1});
var x=(B-y)/4;for(var S=0;S<5;S++){var Z=S*x,i=Math.cos(Z),k=Math.sin(Z),H=.553*(x/(Math.PI/2)),V=k*H,g=-i*H,N=new aL(i,k);
r.push({type:4,sV:S==0?N.clone():new aL(i+V,k+g),I:N,XM:S==4?N.clone():new aL(i-V,k-g)})}var C=new dT;
C.rotate(-y);C.scale(c,c);C.translate(d,W);v.o.hn(r,C);return r};v.lk={};v.lk.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
v.lk.akH={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
v.lk.uP=function(d){var W=d.warpStyle.v.warpStyle;if(W=="warpNone")return!0;else if(W=="warpCylinder")return!1;
else if(W=="warpCustom"){var c=!1,y=v.lk.a9v(d);for(var S=0;S<4;S++)for(var B=0;B<4;B++){var r=y[S*2]-y[(B*4+S)*2],x=y[S*4*2+1]-y[(S*4+B)*2+1];
if(r*r>1||x*x>1)c=!0}return!c}else return d.warpValue.v==0&&d.warpPerspective.v==0&&d.warpPerspectiveOther.v==0};
v.lk.aec=function(d){var W=JSON.parse(JSON.stringify(d));W.v.classID="quiltWarp";W.v.deformNumRows={t:"long",v:4};
W.v.deformNumCols={t:"long",v:4};if(W.v.customEnvelopeWarp)v.lk.a99(W.v,[[0,1],[0,1]]);return W};v.lk.alh=function(d){var W;
if(v.lk.$z(d.v)==16)W=JSON.parse(JSON.stringify(d));else W={t:"Objc",v:v.lk.R(v.lk.yo(d.v))};W.v.classID="warp";
delete W.v.deformNumRows;delete W.v.deformNumCols;var c=W.v.customEnvelopeWarp;if(c){delete c.v.quiltSliceX;
delete c.v.quiltSliceY}return W};v.lk.$z=function(d){return d.deformNumRows.v*d.deformNumCols.v};v.lk.R=function(d){var W={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(d){W.classID="quiltWarp";W.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:d.y}},Left:{t:"UntF",v:{type:"#Pxl",val:d.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:d.y+d.i}},Rght:{t:"UntF",v:{type:"#Pxl",val:d.x+d.m}}}};
W.uOrder={t:"long",v:4};W.vOrder={t:"long",v:4};W.deformNumRows={t:"long",v:4};W.deformNumCols={t:"long",v:4}}return W};
v.lk.aqu=function(d,W,c){for(var S=0;S<d.length;S+=2){var y=d[S],B=d[S+1],r=(1-W)/2,x=1-r,Z=r+y*(x-r);
B=.5+(B-.5)*Z*2;var i=(1-c)/2,k=1-i,H=i+B*(k-i);y=.5+(y-.5)*H*2;d[S]=y;d[S+1]=B}};v.lk.Pg=function(d,W){return{id:d,type:"UnFl",uID:"#Pxl",arr:W}};
v.lk.a99=function(d,W){var c=v.lk.yo(d);function y(r,x){r=r.slice(0);var Z=r.length,S;for(S=0;S<Z;S++)r[S]*=x;
r[0]-=.6;r[Z-1]+=.6;return r}var B=d.customEnvelopeWarp.v;B.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[v.lk.Pg("quiltSliceX",y(W[0],c.m))]}};
B.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[v.lk.Pg("quiltSliceY",y(W[1],c.i))]}}};v.lk.alW=function(d){var W=v.lk.yo(d);
function c(x,Z){x=x.slice(0);var r=x.length,S,i=1e9,k=-i;for(S=0;S<r;S++){if(x[S]<i)i=x[S];if(x[S]>k)k=x[S]}for(S=0;
S<r;S++)x[S]=(x[S]-i)/(k-i);x[0]=0;x[r-1]=1;return x}var y=d.customEnvelopeWarp.v,B=[],r=["X","Y"];for(var S=0;
S<2;S++)B.push(c(y["quiltSlice"+(S==0?"X":"Y")].v.arr[0].arr.slice(0),S==0?W.m:W.i));return B};v.lk.a4w=function(d,W){var c=[],y=[];
for(var S=0;S<W.length;S+=2){c.push(W[S]);y.push(W[S+1])}d.customEnvelopeWarp.v.meshPoints.v.arr=[v.lk.Pg("Hrzn",c),v.lk.Pg("Vrtc",y)]};
v.lk.a9v=function(d){var W=[],c=d.customEnvelopeWarp.v.meshPoints.v.arr,y=c[0].arr,B=c[1].arr;for(var S=0;
S<y.length;S++)W.push(y[S],B[S]);return W};v.lk.yU=function(d,W){var c,y=d.warpStyle.v.warpStyle;if(y=="warpCustom")c=[d.deformNumCols.v,d.deformNumRows.v,v.lk.alW(d),v.lk.a9v(d)];
else{if(W==null)W=v.lk.yo(d);if(W.Bb())W.m=W.i=1;if(y=="warpCylinder"){var B=X.X.R6(d.warpValues);c=v.lk.lk(y,B)}else{var r="warpPerspective";
c=v.lk.lk(y,d.warpValue.v/100,d.warpRotate.v.Ornt=="Hrzn",d[r].v/100,d[r+"Other"].v/100,W.m/W.i)}v.lk.ai6(c[3],W)}return c};
v.lk.ai6=function(d,W){for(var S=0;S<d.length;S+=2){d[S]=W.x+d[S]*W.m;d[S+1]=W.y+d[S+1]*W.i}};v.lk.ato=function(d){var W=Math.sin(d*Math.PI/2),c=Math.pow(d,1/3.5),y=(1-d)*W+d*c;
y=Math.pow(y,1.045);var B=.1725+.0573*y,r=1-(.96*W+.04*c);r=Math.pow(r,1.27);var x=1/129+(.167684-1/129)*r;
return[B,x]};v.lk.dz=function(d,W){d.warpStyle.v.warpStyle="warpCustom";d.deformNumCols.v=W[0];d.deformNumRows.v=W[1];
var c="customEnvelopeWarp";if(d[c]==null)d[c]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
v.lk.a99(d,W[2]);v.lk.a4w(d,W[3])};v.lk.yo=function(d){var W=d.bounds.v,c=W.Left.v.val,y=W.Rght.v.val,B=W.Top.v.val,r=W.Btom.v.val;
if(c==null){c=W.Left.v,y=W.Rght.v;B=W.Top.v,r=W.Btom.v}return new a8(c,B,y-c,r-B)};v.lk.lk=function(d,W,c,y,B,r){if(d=="warpCylinder"){var x=W,Z=x[0],i=x[1],k=x[2],H=x[3],V=x[4],g=x[5],N=x[6],C=[];
for(var w=0;w<4;w++)for(var Y=0;Y<13;Y++)C.push(Y/12,w/3);var U=k-Z,e=i-H,O=V*.5*(U/e),l=g*.5*(U/e),I=v.lk.ato(N),s=[0,0,0,0,0,I[0],.5],z=[0,0,0,0,O*.42,O,O],R=[0,0,0,0,l*.42,l,l];
for(var w=0;w<4;w++)for(var Y=0;Y<7;Y++){var S=w*13+Y;C[S*2]=s[Y];var t=z[Y],a=1+R[Y],J=w/3;C[S*2+1]=t*(1-J)+a*J}for(var w=0;
w<4;w++)for(var Y=0;Y<6;Y++){var S=w*13+Y,F=w*13+12-Y;C[F*2]=1-C[S*2];C[F*2+1]=C[S*2+1]}var J=I[1];return[13,4,[[0,J,.5,1-J,1],[0,1]],C]}var h=v.pK.R(0,0,1,1);
if(d!="warpNone"){if(!c)r=1/r;v.lk.awf(h,d,W,y,B,r);var m=h.slice(0);if(!c)for(var w=0;w<4;w++)for(var Y=0;
Y<4;Y++){h[(w*4+Y)*2]=m[(Y*4+w)*2+1];h[(w*4+Y)*2+1]=m[(Y*4+w)*2]}if(W==0)v.lk.aqu(h,y,B);else{var D=new dT;
D.translate(-.5,-.5);v.A.e(h,D,h);v.lk.ao5(h,B,y);D.QE();v.A.e(h,D,h)}}return[4,4,[[0,1],[0,1]],h]};
v.lk.awf=function(d,W,c,y,B,r){var x=new a8(0,0,r,1);for(var S=0;S<d.length;S+=2)d[S]*=r;for(var S=0;
S<4;S++){for(var Z=0;Z<4;Z++){var i=2*(4*S+Z),k=d[i]-x.x,H=d[i+1]-x.y,V=k,g=H;if(c!=0){var N=x.m/2,C=x.i/2;
V-=N;g-=C;var w=V,Y=V,U=-C,e=C,O=Math.abs(c),l=Math.tan((1-O)*Math.PI/2),I=Math.sqrt(l*l+1),s=Math.atan2(1,l),z=V/N*s,R=N*I,t=N*I+x.i,a=Math.cos(s),J=Math.sin(s),F=v.lk.ab4(a,J),h=v.lk.ayc(a,J),m=-l*N+F*R;
if(W=="warpArc"){w=Math.sin(z)*t;U=l*N-Math.cos(s)*t+C;Y=Math.sin(z)*R;e=l*N-Math.cos(s)*R+C;if(Z==1||Z==2){w=Z==1?-h*t:h*t;
Y=Z==1?-h*R:h*R;U=l*N+C-F*t;e=l*N+C-F*R}if(c<0){var D=w;w=Y;Y=D;D=U;U=-e;e=-D}}if(W=="warpArcLower"){if(Z==1||Z==2){Y=Z==1?-h*R:h*R;
e=c<0?C-m:C+m}}if(W=="warpArcUpper"||W=="warpArch"||W=="warpBulge"){if(Z==1||Z==2){w=Z==1?-h*R:h*R;U=c<0?-C+m:-C-m}if(W=="warpArch"){Y=w;
e=U+2*C}if(W=="warpBulge"){Y=w;e=-U}}if(W=="warpFish"||W=="warpFlag"||W=="warpWave"){var _=Z;if(W=="warpFlag")_=3-Z;
if(_==1){U-=c*4*C;e+=c*4*C}if(_==2){U+=c*4*C;e-=c*4*C}if(W=="warpFlag"||W=="warpWave")U=e-2*C}if(W=="warpRise"){if(Z<2)U=-C+c*C*4;
e=U+2*C}var n=(g+C)/x.i;V=w+n*(Y-w);g=U+n*(e-U);if(W=="warpWave"){if(S==0)g=-C;if(S==3)g=C;if(S==1||S==2)g=2*C*(S/3-.5)*(1/3)+g*(2/3)}if(W=="warpFisheye"){if((S==1||S==2)&&(Z==1||Z==2)){V=V+4*V*c;
g=g+4*g*c}}if(W=="warpInflate"){var j=2/3;if((S==1||S==2)&&(Z==1||Z==2)){V=V+.5*V*c;g=g+.5*g*c}else if(S==1||S==2)V=V+j*V*c;
else if(Z==1||Z==2)g=g+j*g*c}if(W=="warpSqueeze"){var j=2/3;if((S==1||S==2)&&(Z==1||Z==2)){if(c>0)V=V-j*V*c;
else g=g+j*g*c}else if(S==1||S==2)V=V-j*V*c;else if(Z==1||Z==2)g=g+j*g*c}if(W=="warpTwist"){if((S==1||S==2)&&(Z==1||Z==2)){var T=c*Math.PI/2,I=1+Math.abs(c)*2,L=V*Math.cos(T)-g*Math.sin(T),p=V*Math.sin(T)+g*Math.cos(T);
V=L*I;g=p*I}}if(W=="warpShellLower"||W=="warpShellUpper"){if(W=="warpShellUpper"){S=3-S;g=-g}if(S>2||S==2&&(Z==0||Z==3)){if(c>0){var E=R+S/3*2*C;
V=Math.sin(z)*E;g=-l*N-C+Math.cos(z)*E;if(Z==1||Z==2){V=Z==1?-h*E:h*E;g=-l*N-C+F*E}}else{if((Z==1||Z==2)&&S==3){V=Z==1?-h*R:h*R;
g=l*N-F*R+C}else if(S==2){g=C-C*(2/3)*Math.cos(z);V=V+C*(2/3)*Math.sin(z)}}}if(W=="warpShellUpper"){S=3-S;
g=-g}}V+=N;g+=C}k=V,H=g;d[i]=k+x.x;d[i+1]=H+x.y}}for(var S=0;S<d.length;S+=2)d[S]/=r};v.lk.ao5=function(d,W,c){var y=[];
for(var B=0;B<4;B++)y.push(1-c+B/3*2*c);var r=[];for(var B=0;B<4;B++)r.push(1-W+B/3*2*W);var x=[0,0,0,0],Z=[0,0,0,0];
for(var S=0;S<4;S++)for(var B=0;B<4;B++){var i=2*(4*S+B),k=d[i],H=d[i+1];x[B]+=k/4;Z[B]+=H/4}for(var S=0;
S<4;S++)for(var B=0;B<4;B++){var V=y[B],i=2*(4*S+B),k=d[i],H=d[i+1],g=x[B],N=Z[B];d[i]=g+V*(k-g);d[i+1]=N+V*(H-N)}var C=d.slice(0);
for(var S=0;S<4;S++)for(var B=1;B<3;B++){var i=2*(4*S+B),k=d[i],H=d[i+1],w=i+(B==1?-2:2),Y=d[w],U=d[w+1];
d[i]=k-Y;d[i+1]=H-U}var e=d[0],O=d[1],l=d[8],I=d[9],s=d[16],z=d[17],R=d[24],t=d[25],a=d[6],J=d[7],F=d[14],h=d[15],m=d[22],D=d[23],_=d[30],n=d[31],j=a-e,T=J-O,L=F-l,p=h-I,E=m-s,G=D-z,A=_-R,u=n-t;
for(var S=0;S<4;S++){var q=2*S*4,o=0,M=0,$=S==1?.33:.66,Q=1-$;if(S==0){o=j;M=T}if(S==1){o=Q*j+$*-A;M=Q*T+$*-u}if(S==2){o=Q*j+$*-A;
M=Q*T+$*-u}if(S==3){o=-A;M=-u}d[q]=d[q]+o/2;d[q+1]=d[q+1]+M/2;d[q+6]=d[q+6]-o/2;d[q+7]=d[q+7]-M/2}for(var S=0;
S<4;S++)for(var B=1;B<3;B++){var i=2*(4*S+B),k=d[i],H=d[i+1],w=i+(B==1?-2:2),Y=d[w],U=d[w+1],V=2*S/3;
d[i]=Y+V*k;d[i+1]=U+V*H}for(var S=1;S<3;S++)for(var B=1;B<3;B++){var i=2*(4*S+B),k=d[i],H=d[i+1],kF=S==1?-8:-16,P=S==1?16:8,bM=d[i+kF],jW=d[i+kF+1],fX=d[i+P],bX=d[i+P+1],V=S/3;
k=(1-V)*bM+V*fX;H=(1-V)*jW+V*bX;d[i]=k;d[i+1]=H}v.A.A2(C,d,d,W)};v.lk.ab4=function(d,W){return(4-d)*(1/3)};
v.lk.ayc=function(d,W){return(1-d)*(3-d)/(3*W)};v.qY={};v.qY.ai3=function(d,W,c,y,B,r,x,Z,i,k){for(var H=0;
H<Z;H++)for(var V=0;V<x;V++){var g=3*(H*x+V),N=H+r,C=V+B,w=d[N*W+C];y[g]=w;y[g+1]=w;y[g+2]=w}};v.qY._P=function(d,W,c,y,B,r,x,Z,i,k){var H=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],V=1/i,g=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],N=new Uint32Array(6);
for(var C=0;C<Z;C++){for(var w=0;w<x;w++){var Y=3*(C*x+w),U=C+r,e=w+B;N[0]=0;N[1]=0;N[2]=0;N[3]=0;N[4]=0;
N[5]=0;for(var S=0;S<16;S+=2){var O=e+g[S],l=U+g[S+1],I=O-i*~~(O*V),s=l-i*~~(l*V),z=k[s*i+I];N[z]+=d[l*W+O];
N[z+3]++}var O=e,l=U,I=O-i*~~(O*V),s=l-i*~~(l*V),z=k[s*i+I];N[z]=d[U*W+e];N[z+3]=1;y[Y]=N[0]*H[N[3]];
y[Y+1]=N[1]*H[N[4]];y[Y+2]=N[2]*H[N[5]]}}};v.qY.a5e=function(d,W,c){for(var S=0;S<c;S+=2)d[W+S]=d[W+S+1];
W=W+c;for(var S=0;S<c;S+=2)d[W+S+1]=d[W+S]};v.qY.a1i=function(d,W,c,y){for(var S=0;S<y;S+=2){var B=W+S*c;
d[B]=d[B+c];d[B+c+1]=d[B+1]}};v.qY.a4h=function(d,W,c,y,B,r){var x=y[B],Z=y[B+1],i=y[r],k=y[r+1],H=Z+i>>>1;
d[W]=d[W+3]=d[c]=d[c+3]=x;d[W+1]=H;d[W+4]=Z;d[c+1]=i;d[c+4]=H;d[W+2]=d[W+5]=d[c+2]=d[c+5]=k};v.qY.agw=function(d,W,c,y,B,r){var x=r*3;
for(var S=0;S<r;S+=2){var Z=W+S,i=B+S*3;v.qY.a4h(y,i,i+x,d,Z,Z+c)}};v.qY.ab1=function(d,W,c,y,B,r,x){var Z=r*3;
for(var S=0;S<x;S+=2){var i=W+S*c,k=B+S*r*3;v.qY.a4h(y,k,k+Z,d,i,i+c)}};v.qY.ahK=function(d,S,W){var c=d[S-W-W],y=d[S-W],B=d[S-2],r=d[S-1],x=d[S],Z=d[S+1],i=d[S+2],k=d[S+W],H=d[S+W+W],V=Math.abs(y-k),g=Math.abs(r-Z),N=Math.abs(x-c)*2+V,C=Math.abs(x-i)*2+g,w=Math.abs(x-B)*2+g,Y=Math.abs(x-H)*2+V,U=Math.min(N,Math.min(C,Math.min(w,Y)));
if(U==N)return y*3+k+x-c>>2;if(U==C)return Z*3+r+x-i>>2;if(U==w)return r*3+Z+x-B>>2;return k*3+y+x-H>>2};
v.qY.FB=function(d,W,c,y,B){if(d<W&&W<c||d>W&&W>c)return~~(.5+y+(B-y)*(W-d)/(c-d));else return(y+B>>1)+(W+W-d-c>>2)};
v.qY.avE=function(d,W,S,c){var y=W[S-c-1],B=W[S-c+1],r=W[S],x=W[S+c-1],Z=W[S+c+1],i=d[S-c-1],k=d[S-c+1],H=d[S],V=d[S+c-1],g=d[S+c+1],N=Math.abs(k-V)+Math.abs(d[S-c-c+2]-H)+Math.abs(H-d[S+c+c-2])+Math.abs(B-r)+Math.abs(r-x),C=Math.abs(i-g)+Math.abs(d[S-c-c-2]-H)+Math.abs(H-d[S+c+c+2])+Math.abs(y-r)+Math.abs(r-Z);
if(N<C)return v.qY.FB(B,r,x,k,V);else return v.qY.FB(y,r,Z,i,g)};v.qY.AC=function(d,W,c,y,B,r){d[W+0]=c[B];
d[W+1]=y[B];d[W+2]=v.qY.avE(c,y,B,r)};v.qY.ZR=function(d,W,c,y,B,r){var x=y[B];d[W+0]=v.qY.FB(y[B-1],x,y[B+1],c[B-1],c[B+1]);
d[W+1]=x;d[W+2]=v.qY.FB(y[B-r],x,y[B+r],c[B-r],c[B+r])};v.qY.Yq=function(d,W,c,y,B,r){var x=y[B];d[W+0]=v.qY.FB(y[B-r],x,y[B+r],c[B-r],c[B+r]);
d[W+1]=x;d[W+2]=v.qY.FB(y[B-1],x,y[B+1],c[B-1],c[B+1])};v.qY.cB=function(d,W,c,y,B,r){d[W+0]=v.qY.avE(c,y,B,r);
d[W+1]=y[B];d[W+2]=c[B]};v.qY.aiI=function(d,W,c,y,B,r,x,Z,i){var k=Date.now(),H=2,V=W-2,g=2;if((B&1)==1){H++;
V--}var N=c-2;if((r&1)==1){g++;N--}if(i==1||i==3){H++;V--}var C=d.slice(0);v.qY.a5e(C,0,W);v.qY.a1i(C,0,W,c);
v.qY.a1i(C,W-2,W,c);v.qY.a5e(C,(c-2)*W,W);for(var w=g;w<N;w+=2)for(var Y=H;Y<V;Y+=2){var S=w*W+Y,U=v.qY.ahK(C,S,W),e=v.qY.ahK(C,S+W+1,W);
C[S]=Math.max(0,U);C[S+W+1]=Math.max(0,e)}var O=x,l=Z;if(r+Z==c){l-=2;v.qY.agw(d,(c-2)*W+B,W,y,(Z-2)*x*3,x)}if(B+x==W){O-=2;
v.qY.ab1(d,r*W+B+x-2,W,y,(x-2)*3,x,Z)}if(i==0)for(var w=0;w<l;w+=2)for(var Y=0;Y<O;Y+=2){var I=(w+r)*W+Y+B,s=(w*x+Y)*3;
v.qY.AC(y,s,d,C,I,W);v.qY.ZR(y,s+3,d,C,I+1,W);I+=W;s+=3*x;v.qY.Yq(y,s,d,C,I,W);v.qY.cB(y,s+3,d,C,I+1,W)}else if(i==1)for(var w=0;
w<l;w+=2)for(var Y=0;Y<O;Y+=2){var I=(w+r)*W+Y+B,s=(w*x+Y)*3;v.qY.ZR(y,s,d,C,I,W);v.qY.AC(y,s+3,d,C,I+1,W);
I+=W;s+=3*x;v.qY.cB(y,s,d,C,I,W);v.qY.Yq(y,s+3,d,C,I+1,W)}else if(i==2)for(var w=0;w<l;w+=2)for(var Y=0;
Y<O;Y+=2){var I=(w+r)*W+Y+B,s=(w*x+Y)*3;v.qY.cB(y,s,d,C,I,W);v.qY.Yq(y,s+3,d,C,I+1,W);I+=W;s+=3*x;v.qY.ZR(y,s,d,C,I,W);
v.qY.AC(y,s+3,d,C,I+1,W)}else if(i==3)for(var w=0;w<l;w+=2)for(var Y=0;Y<O;Y+=2){var I=(w+r)*W+Y+B,s=(w*x+Y)*3;
v.qY.Yq(y,s,d,C,I,W);v.qY.cB(y,s+3,d,C,I+1,W);I+=W;s+=3*x;v.qY.AC(y,s,d,C,I,W);v.qY.ZR(y,s+3,d,C,I+1,W)}};
v.raw={};v.raw.aDr=function(d){var W=Date.now(),c=d.width,y=d.height,B=0,r=0,x=c,Z=y;if(d.t50829){var i=d.t50829;
B=i[1];r=i[0];x=i[3];Z=i[2]}if(d.t50720&&d.t50720[0]*1.2>c){if(d.t50719){var k=d.t50719;B+=k[0]>>1<<1;
r+=k[1]>>1<<1}if(d.t50720){var H=d.t50720;x=B+H[0];Z=r+H[1]}}var V=x-B,g=Z-r,N=v.raw.a2X(d),C=d.t33422,w=d.t33421;
if(w){var H=w[0],Y=C.slice(0);for(var U=0;U<H;U++)for(var e=0;e<H;e++){var O=(e+(B&1))%H,l=(U+(r&1))%H;
Y[U*H+e]=C[l*H+O]}C=Y}if(d.t277[0]==1&&C)v.raw.ax4(N,c,y,d,C);v.raw.xE(2,d,N,c,y);var I=new Float32Array(V*g*3);
if(d.t277[0]==1){if(w==null){v.qY.ai3(N,c,y,I,B,r,V,g)}else if(w.length!=2||w[0]!=2||w[1]!=2){console.log("Unknown CFA pattern size",w);
v.qY._P(N,c,y,I,B,r,V,g,w[0],C)}else{var s=d.t33422.join(","),z=0;if(s=="0,1,1,2")z=0;else if(s=="1,0,2,1")z=1;
else if(s=="2,1,1,0")z=2;else if(s=="1,2,0,1")z=3;else throw"Unknown CFA pattern "+s;if((V&1)!=0||(g&1)!=0)throw"e";
v.qY.aiI(N,c,y,I,B,r,V,g,z)}}else{for(var U=0;U<g;U++)for(var e=0;e<V;e++){var R=((U+r)*c+e+B)*3,t=(U*V+e)*3;
I[t+0]=N[R+0];I[t+1]=N[R+1];I[t+2]=N[R+2]}}var a=I,J=I.length,F=v.raw.pS(d),h=1/F;for(var S=0;S<J;S+=3){I[S]=a[S]*h;
I[S+1]=a[S+1]*h;I[S+2]=a[S+2]*h}v.raw.xE(3,d,I,V,g);var m=d.V8,D=V,_=g;if(m==1||m==9){}else{var n=v.raw.anN(m,V,g),t=0;
D=n[0];_=n[1];var j=I.slice(0);for(var U=0;U<_;U++)for(var e=0;e<D;e++){var T=n[2]*e+n[3]*U+n[4],L=n[5]*e+n[6]*U+n[7],R=(L*V+T)*3;
I[t]=j[R];I[t+1]=j[R+1];I[t+2]=j[R+2];t+=3}}return{Gq:I,gN:D,Ru:_}};v.raw.anN=function(d,W,c){var y=W,B=c;
if(!1){}else if(d==2)return[W,c,-1,0,W-1,0,1,0];else if(d==3)return[W,c,-1,0,W-1,0,-1,c-1];else if(d==4)return[W,c,1,0,0,0,-1,c-1];
else if(d==5)return[c,W,0,1,0,1,0,0];else if(d==6)return[c,W,0,1,0,-1,0,c-1];else if(d==7)return[c,W,0,-1,W-1,-1,0,c-1];
else if(d==8)return[c,W,0,-1,W-1,1,0,0];else throw"unknown orientation "+d};v.raw.ax4=function(d,W,c,y,B){var r=Date.now(),h=0,_=0;
if(v.raw.pS(y)>4e4){for(var S=0;S<d.length;S++)d[S]>>=1;var x=["t50714","t50715","t50712","t50717"];
for(var S=0;S<x.length;S++){var Z=y[x[S]];if(Z)for(var i=0;i<Z.length;i++)Z[i]>>>=1}console.log("remapping to lower bit depth")}var k=~~Math.sqrt(B.length),H=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],V=[];
for(var g=0;g<k;g++)for(var N=0;N<k;N++){var S=g*k+N,C=B[S],w=4,Y=4,U=8,e=0,O=0;for(var i=0;i<18;i+=2){var l=(k+N+H[i])%k,I=(k+g+H[i+1])%k,s=B[I*k+l];
if(s==C){}else if(w==4){w=s;e=i}else if(Y==4&&s!=w){Y=s;O=i;break}}if(Y<w){var z=Y;Y=w;w=z;z=O;O=e;e=z}if(w<C){var z=w;
w=C;C=z;z=e;e=U;U=z}if(Y<w){var z=Y;Y=w;w=z;z=O;O=e;e=z}V[S*3]=H[U+1]*W+H[U];V[S*3+1]=H[e+1]*W+H[e];
V[S*3+2]=H[O+1]*W+H[O]}var R=~~(.996*v.raw.pS(y)),t=~~(.992*v.raw.pS(y)),a=y.t50728;if(a==null||a[0]==0)a=[1,1,1];
var J=[],F=[0,0,0];for(var g=1;g<c-1;g++)for(var N=1;N<W-1;N++){var S=g*W+N,m=g%k*k+N%k,C=d[S+V[m*3+0]],w=d[S+V[m*3+1]],Y=d[S+V[m*3+2]],D=Math.max(C,w,Y);
if(D>R)J.push(S);else if(D>t){F[0]+=C;F[1]+=w;F[2]+=Y;h++}}if(J.length==0)return;if(h/(W*c)<1e-5){console.log("not enough semi-saturated pixels",h);
F=a}if(F[1]<F[_])_=1;if(F[2]<F[_])_=2;var n=[F[0]/F[_],F[1]/F[_],F[2]/F[_]],j=d.slice(0);for(var T=0;
T<J.length;T++){var S=J[T],g=~~(S/W),N=S-g*W,m=g%k*k+N%k,L=Math.min(65535,~~(d[S+V[m*3+_]]*n[B[m]]));
if(L>j[S])j[S]=L}d.set(j)};v.raw.TI=function(d,W,c,y){var B=Math.round(d.length/3),r=e9.y$(y[0],y[1]),x=v.raw.am1(c,r),Z=v.hu.multiply(v.hu.cu,x),i=Math.pow(2,c.t50730?c.t50730[0]:0);
Z=v.hu.multiply(Z,v.hu.at(i,i,i));var k=v.raw.TI.a19;if(k==null){k=v.raw.TI.a19=new Float64Array(8e3);
for(var S=0;S<8e3;S++)k[S]=v.dM(S*(1/1e3))}for(var S=0;S<B;S++){var H=S<<2,V=H-S,g=d[V],N=d[V+1],C=d[V+2],w=Z[0]*g+Z[1]*N+Z[2]*C,Y=Z[4]*g+Z[5]*N+Z[6]*C,U=Z[8]*g+Z[9]*N+Z[10]*C;
if(w<0)w=0;if(Y<0)Y=0;if(U<0)U=0;W[V]=k[~~(w*1e3)];W[V+1]=k[~~(Y*1e3)];W[V+2]=k[~~(U*1e3)]}};v.raw.a2X=function(d){var W=d.width,c=d.height,y=W*c*d.t277,B=new Uint16Array(y),r=null,x=0;
v.raw.abF(d,B);v.raw.xE(1,d,B,W,c);if(d.t50712){r=d.t50712;x=r.length-1;if(r[x]>65535)throw"too big values"}var Z=v.raw.aCj(d),i=v.raw.ac3(d);
if(r==null)for(var S=0;S<y;S++)B[S]=Math.max(0,B[S]-Z);else for(var S=0;S<y;S++){var k=B[S];if(k>x)k=x;
k=r[k];B[S]=Math.max(0,k-Z)}return B};v.raw.aCj=function(d){var W=d.t50714,c=W?W[0]:0,y=d.t50715,B=d.t50716;
if(y)c+=y[0][0]/y[0][1];if(B)c+=B[0][0]/B[0][1];return Math.round(c)};v.raw.ac3=function(d){var W=null,c=0;
if(d.t50712){W=d.t50712;c=W.length-1}var y=d.t50717?d.t50717[0]:(1<<d.t258[0])-1;if(W)y=Math.min(y,W[c]);
return y};v.raw.pS=function(d){var W=v.raw.aCj(d),c=v.raw.ac3(d);return c-W};v.raw.abF=function(d,W){var c=W.length,y=d.data,B=d.t258[0];
if(B!=16&&B!=14&&B!=12&&B!=10&&B!=8)throw"Unsupported Bits Per Sample:"+B;B=Math.round(y.length*8/c);
if(B==16&&d.isLE){v.PY(y,W);return}for(var S=0;S<c;S+=2){var r=0,x=0,Z=0;if(B==16){r=S<<1;x=y[r]<<8|y[r+1];
Z=y[r+2]<<8|y[r+3]}else if(B==14){var i=S*14,k=i>>>3,H=y[k]<<24|y[k+1]<<16|y[k+2]<<8|y[k+3];if((i&7)==0){x=H>>>18;
Z=H>>>4&16383}else{x=H>>>14&16383;Z=H&16383}}else if(B==12){r=S+(S>>>1);x=y[r]<<4|y[r+1]>>4;Z=(y[r+1]&15)<<8|y[r+2]}else if(B==10){var i=S*10,k=i>>>3;
if((i&7)==0){x=(y[k]<<2|y[k+1]>>6)&1023;Z=(y[k+1]<<4|y[k+2]>>4)&1023}else{x=(y[k]<<6|y[k+1]>>2)&1023;
Z=(y[k+1]<<8|y[k+2]>>0)&1023}}else if(B==8){r=S;x=y[r];Z=y[r+1]}W[S]=x;W[S+1]=Z}};v.raw.a2P=function(d,W,c,y,B,r,x){var Z=d-.499999,i=W-.499999,k=~~Z,H=~~i,V=Z-k,g=i-H,N=(1-g)*(1-V),C=(1-g)*V,w=g*(1-V),Y=g*V,U=(H*y+k)*3,e=((H+1)*y+k)*3,O=N*c[U]+C*c[U+3]+w*c[e]+Y*c[e+3],l=N*c[U+1]+C*c[U+4]+w*c[e+1]+Y*c[e+4],I=N*c[U+2]+C*c[U+5]+w*c[e+2]+Y*c[e+5];
r[x]=O;r[x+1]=l;r[x+2]=I};v.raw.xE=function(d,W,c,y,B){var r=W["t"+[51008,51009,51022][d-1]],H=0;if(r==null)return;
var x=y*B,Z=K.q,i=K.zZ,k=new Uint8Array(r),i$=K.q(k,H);H+=4;for(var V=0;V<i$;V++){var g=Z(k,H);H+=4;
var N=Z(k,H);H+=4;var C=Z(k,H);H+=4;var w=Z(k,H);H+=4;if(!1){}else if(g==1&&d==3){var Y=H,U=Z(k,Y);Y+=4;
var e=i(k,Y);Y+=8;var O=i(k,Y);Y+=8;var l=i(k,Y);Y+=8;var I=i(k,Y);Y+=8;var s=i(k,Y);Y+=8;var z=i(k,Y);
Y+=8;Y+=(U-1)*8*6;var R=i(k,Y);Y+=8;var t=i(k,Y);Y+=8;var a=R*y,J=t*B,F=Math.max(a,y-a),h=Math.max(J,B-J),m=Math.sqrt(F*F+h*h),D=1/m,_=c.slice(0);
for(var n=0;n<B;n++)for(var j=0;j<y;j++){var T=(j+.5-a)*D,L=(n+.5-J)*D,p=T*T+L*L,E=e+O*p+l*(p*p)+I*(p*p)*p,G=s*(2*T*L)+z*(p+2*T*T),A=z*(2*T*L)+s*(p+2*L*L),u=Math.min(a+m*(E*T+G),y-1),q=Math.min(J+m*(E*L+A),B-1),o=(n*y+j)*3;
v.raw.a2P(u,q,_,y,B,c,o)}}else if(g==3&&d==3){var Y=H,M=i(k,Y);Y+=8;var $=i(k,Y);Y+=8;var Q=i(k,Y);Y+=8;
var kF=i(k,Y);Y+=8;var P=i(k,Y);Y+=8;var R=i(k,Y);Y+=8;var t=i(k,Y);Y+=8;var a=R*y,J=t*B,F=Math.max(a,y-a),h=Math.max(J,B-J),m=Math.sqrt(F*F+h*h),D=1/m;
for(var n=0;n<B;n++)for(var j=0;j<y;j++){var T=(j+.5-a)*D,L=(n+.5-J)*D,p=T*T+L*L,bM=1+(M+($+(Q+(kF+P*p)*p)*p)*p)*p,o=(n*y+j)*3;
c[o]=bM*c[o];c[o+1]=bM*c[o+1];c[o+2]=bM*c[o+2]}}else if(g==4&&d==1){var Y=H,jW=Z(k,Y);Y+=4;var fX=Z(k,Y);
Y+=4;for(var S=0;S<x;S++)if(c[S]==jW)c[S]=c[S-2]+c[S+2]>>1}else if(g==5&&d==1){var Y=H,bX=Z(k,Y);Y+=4;
var ao=Z(k,Y);Y+=4;var en=Z(k,Y);Y+=4;for(var S=0;S<ao;S++){var fK=Z(k,Y);Y+=4;var bO=Z(k,Y);Y+=4;var S=fK*y+bO;
c[S]=c[S-2]+c[S+2]>>1}}else if(g==7&&d==1){var Y=H,b9=K.lX(k,Y);Y+=16;var bK=Z(k,Y);Y+=4;var f0=Z(k,Y);
Y+=4;var hn=Z(k,Y),hX=Z(k,Y+4);Y+=8;var gR=Z(k,Y);Y+=4;var ib=new Uint16Array(gR);for(var S=0;S<gR;S++)ib[S]=K.Ou(k,Y+2*S);
var gU=b9.m,hq=b9.i;for(var n=0;n<hq;n+=hn)for(var j=0;j<gU;j+=hX){var S=(b9.y+n)*y+(b9.x+j);c[S]=ib[c[S]]}}else if(g==8&&d==2){var Y=H,b9=K.lX(k,Y);
Y+=16;var bK=Z(k,Y);Y+=4;var f0=Z(k,Y);Y+=4;var hn=Z(k,Y),hX=Z(k,Y+4);Y+=8;var ip=Z(k,Y);Y+=4;var aW=[];
for(var S=0;S<=ip;S++)aW[S]=K.zZ(k,Y+S*8);var kN=b9.x,hW=b9.x+b9.m,jH=b9.y,g0=b9.y+b9.i,gC=W.t50717[0],jL=1/gC;
for(var jf=0;jf<f0;jf++)for(var n=jH;n<g0;n+=hn){var o=3*n*y+bK+jf;for(var j=kN;j<hW;j+=hX){var S=o+3*j,cm=c[S]*jL,eh=aW[ip];
for(var bu=ip;bu>0;bu--)eh=eh*cm+aW[bu-1];c[S]=Math.max(0,Math.min(65535,~~(eh*gC)))}}}else if(g==9&&d==2){var Y=H,b9=K.lX(k,Y),dC=!0;
Y+=16;var bK=Z(k,Y);Y+=4;var f0=Z(k,Y);Y+=4;var hn=Z(k,Y),hX=Z(k,Y+4);Y+=8;var eJ=Z(k,Y),eZ=Z(k,Y+4);
Y+=8;var a0=i(k,Y),gZ=i(k,Y+8);Y+=16;var bt=i(k,Y),dp=i(k,Y+8);Y+=16;var gb=Z(k,Y);Y+=4;if(gb!=1)throw"more than one map plane";
var e_=eJ*eZ,dO=new Float32Array(e_);for(var bu=0;bu<e_;bu++)dO[bu]=K.cb(k,Y+bu*4);for(var bu=0;bu<e_;
bu++)if(dO[bu]!=1)dC=!1;if(!dC){var gU=b9.m,hq=b9.i,kc=.9999*(eZ-1)/gU,ia=.9999*(eJ-1)/hq;for(var n=0;
n<hq;n+=hn)for(var j=0;j<gU;j+=hX){var S=(b9.y+n)*y+(b9.x+j),hO=j*kc,cj=n*ia,bA=Math.floor(hO),bg=Math.floor(cj),cX=hO-bA,i4=cj-bg,o=bg*eZ+bA,fJ=dO[o]*(1-cX)+dO[o+1]*cX,iu=dO[o+eZ]*(1-cX)+dO[o+1+eZ]*cX,hV=fJ*(1-i4)+iu*i4;
c[S]=Math.max(0,Math.min(65535,~~(c[S]*hV+.5)))}}}else console.log("Unknown opcode "+g+" in OpcodeList"+d+". Length: "+w);
H+=w}};v.raw.am1=function(d,W){var c=e9.hp(W),y=v.raw.asW(d,W),B=v.hu.QE(y),r=e9.azt(c,e9.hp(e9.alu)),x=v.hu.multiply(r,B);
return x};v.raw.axN=function(d){var W=d.t50728,B=1;if(W==null||W[0]==0)W=[1,1,1];var c=W.slice(0);c.push(0);
var y={x:.34567,y:.3585};do{var r=v.hu.QE(v.raw.asW(d,y)),x=v.hu.ul(r,c),Z=e9.aDg(x);B=Math.abs(y.x-Z.x)+Math.abs(y.y-Z.y);
y=Z}while(B>1e-7);return y};v.raw.asW=function(d,W){var c=e9.aem(W),y=v.raw.ajv,B=d.t50778?d.t50778[0]:0,r=d.t50779?d.t50779[0]:0,x=d.t50723,Z=d.t50724;
if(x&&x.length==3)x=null;if(Z&&Z.length==3)Z=null;var i=y(d.t50721,d.t50722,B,r,c.WE),k=y(x,Z,B,r,c.WE);
i=i||[1,0,0,0,1,0,0,0,1];k=k||[1,0,0,0,1,0,0,0,1];var H=d.t50727?[d.t50727[0],0,0,0,d.t50727[1],0,0,0,d.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return v.hu.multiply(v.hu.qs(H),v.hu.multiply(v.hu.qs(k),v.hu.qs(i)))};v.raw.ajv=function(d,W,c,y,B){if(!d&&!W){return null}else if(d&&!W){return d}else if(B<c){return d}else if(B>y){return W}else{var r=(1/B-1/y)/(1/c-1/y),x=1-r,Z=[];
for(var S=0;S<9;S++)Z[S]=d[S]*r+W[S]*x;return Z}};var e9={};e9.alu={x:.34567,y:.3585};e9.aih=[{Z:0,bK:.18006,Za:.26352,VQ:-.24341},{Z:10,bK:.18066,Za:.26589,VQ:-.25479},{Z:20,bK:.18133,Za:.26846,VQ:-.26876},{Z:30,bK:.18208,Za:.27119,VQ:-.28539},{Z:40,bK:.18293,Za:.27407,VQ:-.3047},{Z:50,bK:.18388,Za:.27709,VQ:-.32675},{Z:60,bK:.18494,Za:.28021,VQ:-.35156},{Z:70,bK:.18611,Za:.28342,VQ:-.37915},{Z:80,bK:.1874,Za:.28668,VQ:-.40955},{Z:90,bK:.1888,Za:.28997,VQ:-.44278},{Z:100,bK:.19032,Za:.29326,VQ:-.47888},{Z:125,bK:.19462,Za:.30141,VQ:-.58204},{Z:150,bK:.19962,Za:.30921,VQ:-.70471},{Z:175,bK:.20525,Za:.31647,VQ:-.84901},{Z:200,bK:.21142,Za:.32312,VQ:-1.0182},{Z:225,bK:.21807,Za:.32909,VQ:-1.2168},{Z:250,bK:.22511,Za:.33439,VQ:-1.4512},{Z:275,bK:.23247,Za:.33904,VQ:-1.7298},{Z:300,bK:.2401,Za:.34308,VQ:-2.0637},{Z:325,bK:.24792,Za:.34655,VQ:-2.4681},{Z:350,bK:.25591,Za:.34951,VQ:-2.9641},{Z:375,bK:.264,Za:.352,VQ:-3.5814},{Z:400,bK:.27218,Za:.35407,VQ:-4.3633},{Z:425,bK:.28039,Za:.35577,VQ:-5.3762},{Z:450,bK:.28863,Za:.35714,VQ:-6.7262},{Z:475,bK:.29685,Za:.35823,VQ:-8.5955},{Z:500,bK:.30505,Za:.35907,VQ:-11.324},{Z:525,bK:.3132,Za:.35968,VQ:-15.628},{Z:550,bK:.32129,Za:.36011,VQ:-23.325},{Z:575,bK:.32931,Za:.36038,VQ:-40.77},{Z:600,bK:.33724,Za:.36051,VQ:-116.45}];
e9.aem=function(d){var W=e9.aih,c=2*d.x/(1.5-d.x+6*d.y),y=3*d.y/(1.5-d.x+6*d.y),B=0,r=0,x=0;for(;x<31;
x++){B=y-W[x].Za-W[x].VQ*(c-W[x].bK);if(x>0&&B<0){break}r=B}while(x>=W.length)x--;B/=Math.sqrt(1+W[x].VQ*W[x].VQ);
r/=Math.sqrt(1+W[x-1].VQ*W[x-1].VQ);var Z=r/(r-B),i=1e6/((W[x].Z-W[x-1].Z)*Z+W[x-1].Z),k=c-((W[x].bK-W[x-1].bK)*Z+W[x-1].bK),H=y-((W[x].Za-W[x-1].Za)*Z+W[x-1].Za),V=Math.sqrt(1+W[x].VQ*W[x].VQ),g=1/V,N=W[x].VQ/V,C=Math.sqrt(1+W[x-1].VQ*W[x-1].VQ),w=1/C,Y=W[x-1].VQ/C,U=(g-w)*Z+w,e=(N-Y)*Z+Y,O=Math.sqrt(U*U+e*e);
U/=O;e/=O;var l=(k*U+H*e)*-3e3;return{WE:i,f_:l}};e9.y$=function(d,W){var c=e9.aih,y=1e6/d,B=1;for(;
B<31;B++){if(y<c[B].Z){break}}var r=(c[B].Z-y)/(c[B].Z-c[B-1].Z),x=(c[B-1].bK-c[B].bK)*r+c[B].bK,Z=(c[B-1].Za-c[B].Za)*r+c[B].Za,i=Math.sqrt(1+c[B].VQ*c[B].VQ),k=1/i,H=c[B].VQ/i,V=Math.sqrt(1+c[B-1].VQ*c[B-1].VQ),g=1/V,N=c[B-1].VQ/V,C=(g-k)*r+k,w=(N-H)*r+H,Y=Math.sqrt(C*C+w*w);
C/=Y;w/=Y;x+=C*W/-3e3;Z+=w*W/-3e3;return{x:1.5*x/(x-4*Z+2),y:Z/(x-4*Z+2)}};e9.aDg=function(d){var W=d[0]+d[1]+d[2];
return{x:d[0]/W,y:d[1]/W}};e9.hp=function(d){return{x:d.x/d.y,y:1,SZ:(1-d.x-d.y)/d.y}};e9.azt=function(d,W){var c=v.hu.qs([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),y=[d.x,d.y,d.SZ,0],B=[W.x,W.y,W.SZ,0];
y=v.hu.ul(c,y);B=v.hu.ul(c,B);var r=B[0]/y[0],x=B[1]/y[1],Z=B[2]/y[2],i=v.hu.qs([r,0,0,0,x,0,0,0,Z]),k=v.hu.QE(c);
return v.hu.multiply(v.hu.multiply(k,i),c)};v.raw.cp={};v.raw.Fl=function(d){d*=8;var W=[8,10,12,14,16];
for(var c in CAMS){var y=CAMS[c];if(y.length==4)continue;var B=y[4],r=y[5];for(var S=0;S<W.length;S++)if(B*r*W[S]==d)return[c,W[S]]}var x=[[4e3,3e3]];
for(var S=0;S<x.length;S++){var y=x[S],B=y[0],r=y[1];for(var S=0;S<W.length;S++)if(B*r*W[S]==d)return[y,W[S]]}return null};
v.raw.azo=function(d){var d=new Uint8Array(d);for(var S=0;S<d.length;S+=2){var W=d[S];d[S]=d[S+1];d[S+1]=W}var c=v.raw.Fl(d.length),y=CAMS[c[0]];
if(y==null)y=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,c[0][0],c[0][1]];var B=y[4],r=y[5],x=Math.max(y[2],116),Z={data:d,V8:1,width:B,height:r,t256:[B],t257:[r],t258:[c[1]],t277:[1],t33421:[2,2],t33422:v.raw.P$[y[1]],t50706:[1,2,0,0],t50714:[x,x,x,x],t50717:[y[3]],t50721:y[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var S=0;S<9;S++)Z.t50721[S]/=1e4;return Z};v.raw.al9=function(d){if(d==null||d.length==0||typeof d[0]=="number")return d;
var W=[];for(var S=0;S<d.length;S++)W[S]=d[S][1]==0?0:d[S][0]/d[S][1];return W};v.raw.P$=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
v.raw.normalize=function(d,W){if(d.t50706!=null||d.t271[0].startsWith("Hasselblad")){var c=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var S=0;S<c.length;S++)if(d["t"+c[S]]!=null)d["t"+c[S]]=v.raw.al9(d["t"+c[S]]);if(d.t271&&d.t271[0].startsWith("Hasselblad")){d.t50706=[1,2,0,0];
d.t33422=v.raw.P$[1];d.t50723=[1,0,0,0,1,0,0,0,1];d.t50778=[17];if(!d.isLE)for(var S=0;S<d.data.length;
S+=2){var y=d.data[S];d.data[S]=d.data[S+1];d.data[S+1]=y}}if(d.t272&&d.t272[0]=="HERO10 Black"){d.t50728=[.469725,1,.739884];
if(!d.t305[0].startsWith("Adobe")){var B=new Uint16Array(d.data.buffer);for(var S=0;S<B.length;S++)B[S]>>>=2}}return}var r=d.t258[0],x=d.exifIFD,W=new Uint8Array(W);
d.t50706=[1,2,0,0];var Z=d.t271[0].trim(),i=d.t272[0].trim();if(d.t50708==null)d.t50708=[Z+" "+i];var k=(Z+":"+i).toLowerCase(),H=CAMS[k];
if(k=="panasonic:dmc-lx2")H[3]=1<<16;if(H==null){alert("Unknown camera:"+k);if(k.startsWith("canon"))H=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(H!=null){var V=H[2];
d.t50714=[V,V,V,V];if(d.t272=="Canon EOS REBEL T3")H[3]=13584;d.t50717=[H[3]];d.t50721=H[0].slice(0);
for(var S=0;S<9;S++)d.t50721[S]=d.t50721[S]*(1/1e4)}d.t50723=[1,0,0,0,1,0,0,0,1];if(d.t50728==null)d.t50728=[.35,1,.6];
d.t50778=[17];if(Z.startsWith("OLYMPUS")||Z.startsWith("OM Digital Solutions")){d.t33422=[2,1,1,0];var g=x.t41730,Y;
if(g)d.t33422=[g[4],g[5],g[6],g[7]];var N=d.t50341;if(N==null)N=x.t36864;var C=v.raw.acd(N.buffer,d);
d.data=new Uint8Array(C.buffer);if((d.height&1)==1)d.t50829=[0,0,d.height-1,d.width];var w=x.makerNote,U=w.t8256;
if(U)Y=U.t256;else Y=w.t12288.t256;d.t50728=[256/Y[0],1,256/Y[1]]}else if(d.t271[0].startsWith("SONY")){var e=UTIF["_bin"+(d.isLE?"LE":"BE")],O=d.t28688,a;
if(JSON.stringify(O)!="[8000,10400,12900,14100]")console.log(O);if(O){var l=[0,0,0,0,0,4095],I=new Uint16Array(16385);
for(var S=0;S<4;S++){var s=O[S]>>>2;l[S+1]=s;if(s>4095)throw"e"}for(var S=0;S<16385;S++)I[S]=S;for(var S=0;
S<5;S++)for(var z=l[S]+1;z<=l[S+1];z++)I[z]=I[z-1]+(1<<S);var R=W.length*8<d.width*d.height*r;if(R)d.t50712=I}else console.log("no curve");
var t=d.dngPrvt;if(t){var J=t.t29184[0],F=t.t29185[0],h=(d.isLE?K.kK:K.q)(t.t29217,0),m=new Uint32Array(W.slice(J,J+(F&4294967292)).buffer),D=new Uint32Array(F>>>2);
v.raw.aCw(m,D,F>>>2,h);var _=new Uint8Array(J+F);_.set(new Uint8Array(D.buffer),J);var n=[];UTIF._readIFD(e,_,J,n,0,!1);
var j=n.pop(),T=j.t29458;d.t50728=[T[1]/T[0],1,T[1]/T[3]];d.t50730=[.5];var L=j.t29891;d.t50829=[L[1],L[0],L[3],L[2]]}else if(x.makerNote&&x.makerNote.t8208){var a=x.makerNote,p=a.t8208,E=p.length,G=0,A=new Uint8Array(256);
for(var S=249;S<256;S++)A[S]=S;for(var S=0;S<249;S++)A[S*S*S%249]=S;for(var S=0;S<E;S++)p[S]=A[p[S]];
if(E==6604)G=612;else throw"e";var T=[];for(var S=0;S<3;S++)T.push(K.dU(p,G+S*2));console.log(T);d.t50728=[T[1]/T[0],1,T[1]/T[2]]}else console.log("no white balance");
if(d.width*d.height*1.5==d.t279[0]){V=V>>>2;d.t50714=[V,V,V,V];d.t50717=[H[3]>>>2]}}else if(d.t271[0].startsWith("Canon")){var W=d.data,u=W.slice(0),q=d.t50752,o=[],$=0;
if(q==null||q[0]==0&&q[1]==0)o.push(d.width);else{for(var S=0;S<q[0];S++)o.push(q[1]);o.push(q[2])}var M=d.width*2,Q=d.t50885&&d.t50885[0]==4;
if(!Q)for(var kF=0;kF<o.length;kF++){var P=o[kF],bM=2*$,jW=2*P;for(var fX=0;fX<d.height;fX+=2){var bX=fX*M+bM,ao=d.height*bM+fX*jW;
for(var S=0;S<jW;S++){W[bX+S]=u[ao+S];W[bX+S+M]=u[ao+S+jW]}}$+=P}else{var en=new Uint16Array(u.buffer),fK=new Uint16Array(W.buffer);
function bO(bK,f0){fK[f0*3+0]=en[bK*3+0];fK[f0*3+1]=en[bK*3+1];fK[f0*3+2]=en[bK*3+2]}var b9=(q[0]*q[1]+q[2])/d.width;
for(var kF=0;kF<o.length;kF++){var P=Math.round(o[kF]/b9);for(var fX=0;fX<d.height;fX++){var bK=d.height*$+(b9==3?(fX>>>3)*8+[0,4,1,5,2,6,3,7][fX&7]:fX)*P,f0=fX*d.width+$;
for(var hn=0;hn<P;hn++)bO(bK+hn,f0+hn)}$+=P}var hX=new Uint16Array(W.buffer),gR=new Uint16Array(1),ib=new Int16Array(gR.buffer);
for(var S=0;S<hX.length;S+=3){var gU=hX[S],hq=hX[S+1],ip=hX[S+2];gR[0]=hq<<2;hq=ib[0]>>2;gR[0]=ip<<2;
ip=ib[0]>>2;hX[S+0]=Math.max(0,ip+gU);hX[S+1]=Math.max(0,(gU<<12)-hq*778-(ip<<11)>>12);hX[S+2]=Math.max(0,hq+gU)}}var a=x.makerNote,bK=a.t224;
if(bK){var J=d.t50719=[bK[5],bK[6]],aW=d.t50720=[bK[7]+1-bK[5],bK[8]+1-bK[6]],kN=a.t154;if(kN){J[0]+=kN[3];
J[1]+=kN[4];aW[0]=kN[1];aW[1]=kN[2]}}if(a.t16385){var hW=a.t16385,jH=hW.length,g0=0;console.log(hW);
if(hW instanceof Array)hW=new Uint16Array(hW);if(jH==582)g0=1;else if(jH==653)g0=2;else if(jH==796)g0=3;
else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(jH)!=-1)g0=4;else if([1816,1820,1824,5120].indexOf(jH)!=-1){g0=5;
hW=new Int16Array(hW.slice(0).buffer)}else if(jH==1273||jH==1275)g0=6;else if([1312,1313,1316,1506].indexOf(jH)!=-1)g0=7;
else if([1560,1592,1353,1602].indexOf(jH)!=-1)g0=8;else if(jH==3656)g0=9;else if(jH==3778||jH==3973)g0=10;
else throw"e"+jH;var gC=hW[0],jL=[null,[25,166],[34,286],[63,196],[63],[71,gC==-4?333:gC==16||gC==17||gC==18||gC==19?329:264],[63,251],[63,gC==10?504:728],[63,326],[85,343],[105,363]],G=jL[g0][0],jf=jL[g0][1];
if(g0==4){if(hW[0]==2)jf=231;else if(hW[0]==3)jf=231;else if(hW[0]==4)jf=231;else if(hW[0]==5)jf=231;
else if(hW[0]==6)jf=231;else if(hW[0]==7)jf=231;else if(hW[0]==9)jf=231;else throw"e"}d.t50728=[hW[G+1]/hW[G],1,hW[G+1]/hW[G+3]];
var V=jf==null?1024:hW[jf];if(g0!=4)d.t50714=[V,V,V,V]}else{d.t50728=[.4,1,.6]}if(Q){d.t277=[3];d.t50728=[1,1,1];
d.t50714=[0,0,0,0]}}else if(d.t271[0].startsWith("NIKON")){var a=x.makerNote,cm=d.isLE?K.dU:K.JS,gZ=0,bt=0,dC,cX=0;
if(a.t61){var eh=a.t61,bu=[];for(var S=0;S<4;S++)bu[S]=eh[S]/Math.pow(2,14-r);d.t50714=bu}if(a.t3585){var eJ=a.t3585,S=0,J=22;
while(J<eJ.length&&S!=-4){var eZ=K.kK(eJ,J);J+=4;J+=14;S=K.kK(eJ,J)-4;J+=4;if(eZ==1990472198){if(eJ[J]!=0)throw"Flip"}if(eZ==1990472199){var a0=K.dU(eJ,J);
if(a0==0)d.V8=1;else if(a0==270)d.V8=8;else throw"e "+a0}J+=S}}if(a.t183){var dp=a.t183,aW=[];for(var S=0;
S<6;S++)aW.push(cm(dp,16+S*2));gZ=aW[0];bt=aW[1]}if(a.t3614){var gb=a.t3614;gZ=K.kK(gb,8);bt=K.kK(gb,12)}if(gZ!=0&&Math.max(gZ,bt)<Math.max(d.width,d.height)){if(gZ<bt){var y=gZ;
gZ=bt;bt=y}var hn=d.width-gZ>>>1,fX=d.height-bt>>>1;d.t50829=[fX,hn,fX+bt,hn+gZ]}else d.t50829=[8,8,d.height-8,d.width-56];
var e_=a.t69;if(e_){var dO=e_[1];if((dO&1)==1)dO++;d.t50829=[dO,e_[0],dO+e_[3],e_[0]+e_[2]]}if(a.t12){var kc=v.raw.al9(a.t12);
dC=[1/kc[0],1,1/kc[1]]}else if(a.t151){var ia=v.raw.ai0(a,151),hO=ia[0],bU=ia[1],cj=ia[2];if(hO=="0100"&&bU>=80)throw"e";
else if(hO=="0102"){var bA=[];for(var S=0;S<4;S++)bA.push(cm(cj,6+S*2));dC=[bA[1]/bA[0],1,bA[1]/bA[3]]}else if(hO=="0103"&&bU>=26){var bA=[];
for(var S=0;S<4;S++)bA.push(cm(cj,16+S*2));dC=[bA[1]/bA[0],1,bA[3]/bA[2]]}else if(hO=="0204"&&bU>=564||hO=="0205"&&bU>=284){var J=hO=="0204"?6:14,bA=[];
for(var S=0;S<4;S++)bA.push(cm(cj,J+S*2));dC=[bA[1]/bA[0],1,bA[1]/bA[3]]}else throw"e"}else console.log("no white balance info");
if(i=="NIKON D1")dC=[1,1,1];if(dC)d.t50728=dC;var bg=a.t150?a.t150:a.t140;if(bg){var i4=bg[cX++],fJ=bg[cX++],f$;
if(i4==73||fJ==88)cX+=2110;cX+=8;var iu=1<<r&32767,hV=cm(bg,cX);cX+=2;var I=[];if(hV>1)f$=Math.floor(iu/(hV-1));
if(i4==68&&fJ==32&&f$>0){for(S=0;S<hV;S++){I[S*f$]=cm(bg,cX);cX+=2}for(S=0;S<iu;S++)I[S]=Math.floor((I[S-S%f$]*(f$-S%f$)+I[S-S%f$+f$]*(S%f$))/f$)}else if(i4!=70&&hV<=16385){iu=hV;
for(var S=0;S<hV;S++)I[S]=cm(bg,cX+2*S);cX+=2*hV}var i=d.t272[0];if(I.length!=0)d.t50712=new Uint16Array(I);
if(d.t258[0]==14&&d.t50717&&d.t50717[0]<1e4){console.log("fixing white");d.t50717[0]*=4}}}else if(Z.startsWith("FujiFilm")){}else if(Z.startsWith("Panasonic")){if(d.t277==null)d.t277=[1]}else alert("Unknown camera "+Z)};
v.raw.aCw=function(d,W,c,y){if(0==c)return;var B=new Uint32Array(128),r=new Uint8Array(B.buffer),x=127,Z=0,i=0;
for(var x=0;x<4;x++)B[x]=y=(y*15625>>>0)*3125+1>>>0;B[3]=B[3]<<1|(B[0]^B[2])>>>31;for(var x=4;x<127;
x++)B[x]=(B[x-4]^B[x-2])<<1|(B[x-3]^B[x-1])>>>31;for(var x=0;x<127;x++)B[x]=K.q(r,x*4);for(;c>0;c--){B[x&127]=B[x+1&127]^B[x+1+64&127];
var k=B[x&127],H=d[Z];H^=k;W[i]=H;Z++;i++;x++}};v.raw.a34=function(d,W){var c=K.xA(W,0,4),y=v.raw.aBJ;
for(var S=0;S<y.length;S++)if(y[S][0]==d&&c.startsWith(y[S][1])&&(y[S][2]==0||y[S][2]==W.length))return y[S];
throw"e"};v.raw.aC8=function(d){if(d.t29==null)return[];var W=v.raw.arP,c=v.raw.a2N,y=d.t29[0],B=0,x=0;
for(var S=0;S<y.length;S++){var r=y.charCodeAt(S);B=B*10+(48<=r&&r<=57?r-48:r%10)}var bU=d.t167[0];for(var S=0;
S<4;S++)x^=bU>>>(S<<3)&255;var Z=W[B&255],i=c[x&255];return[Z,i,96]};v.raw.ai0=function(d,W){var c=d["t"+W],bU=c.length,y=v.raw.a34(W,c),B=K.xA(c,0,4),r,x=y[4];
if(x==null)r=c.slice(4);else{r=new Uint8Array(bU-x);var Z=v.raw.aC8(d),i=Z[0],k=Z[1],H=Z[2];for(var S=0;
S<r.length;S++){k=k+i*H++&255;r[S]=c[x++]^k}}return[B,bU,r]};v.raw.acd=function(d,W){var c=W.t271[0],y=W.t272[0],B=W.t256[0],r=W.t257[0],x=W.t258[0],Z=W.t273[0],i=Z,k=new Uint8Array(d),H,V=B-4,g=r,N=k.length-Z,Y=0,U=0;
function C(){var s=new Uint16Array(4096),bd=0;s[bd]=3084;for(var S=12;S--;)for(var z=0;z<2048>>S;z++)s[++bd]=S+1<<8|S;
return s}function w(){return k[i++]}function e(s,z){var R;if(s>25)return 0;if(s==0||U<0)return 0;if(s<0){Y=0;
U=0;return 0}while(U<s){R=w();if(R==null)break;Y=(Y<<8)+(255&R);U+=8}R=U==0?0:Y<<32-U>>>32-s;if(z){U-=z[R]>>8;
R=255&z[R]}else U-=s;return R}function O(){var s=C();i+=7;e(-1);for(var z=0;z<g;z++){var R=[new Int32Array(3),new Int32Array(3)];
for(var t=0;t<B;t++){var a=R[t&1],S=2*(a[2]<3),J;for(J=2+S;(65535&a[0])>>J+S;J++);var F=e(3),h=F&3;F=F<<29>>31;
var m=e(12,s);if(m==12)m=e(16-J)>>>1;var D=e(J);a[0]=m<<J|D;var _=(a[0]^F)+a[1];a[1]=_*3+a[1]>>5;a[2]=a[0]>16?0:a[2]+1;
if(t>=V)continue;var n=H[z*B+t-2],bd=H[(z-2)*B+t],j=H[(z-2)*B+t-2];H[z*B+t]=(z<2&&t<2?0:z<2?n:t<2?bd:n<j&&j<bd||bd<j&&j<n?Math.abs(n-j)>32||Math.abs(bd-j)>32?n+bd-j:n+bd>>1:Math.abs(n-j)>Math.abs(bd-j)?n:bd)+(_<<2|h)}}}function l(){var s=B*x/8,z=r+1>>1,t=0,a=0;
s+=s&6>>7;var R=s*8-B*x;for(var J=0;J<r;J++){var F=J%z*2+~~(J/z);if(F==1){t=0;i=Z-(-z*s&-2048)}for(var h=0;
h<B;h++){for(t-=x;t<0;t+=8){a<<=8;for(var S=0;S<8;S+=8)a|=w()<<S}var m=a<<64-x-t>>>64-x;H[F*B+h]=m}t-=R}}function I(){var s=!c.startsWith("OLYMPUS")||!c.startsWith("OM Digi")||!c.toLowerCase().startsWith("clauss")&&!y.toLowerCase().startsWith("pix 5oo");
return s&&N<B*r}if(I()){H=new Uint16Array(V*g);O()}else{H=new Uint16Array(B*r);l()}return H};v.raw.aBJ=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
v.raw.arP=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
v.raw.a2N=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
v.GJ={};v.GJ.GJ=function(d,W,c,y,B){if(y==null)y=3;if(B==null)B=!0;var r=d.m,x=d.i,Z=1/r,i=r*x,k=Date.now(),H=!1,V=v.GJ.au8(c,r,x,255,128),g=v.GJ.au8(c,r,x,0,128),$=0;
if(H)console.log("extract contours",Date.now()-k);k=Date.now();var N=function(eJ,eZ){var a0=eJ<<2,gZ=eZ<<2;
return W[a0]+W[a0+1]+W[a0+2]-(W[gZ]+W[gZ+1]+W[gZ+2])};V.sort(N);g.sort(N);var C=v.R(i),w=v.R(i),Y=[],U=new Uint32Array(r*x);
U.fill(4294967295);for(var S=0;S<i;S++)if(c[S]==0)w[S]=255;else if(c[S]==255)C[S]=255;else{U[S]=Y.length;
Y.push(S)}var e=V.length,O=g.length,l=Y.length;function I(eJ,eZ,a0,gZ){var bt=eJ.length,dp=new Array(bt*2);
for(var S=0;S<bt;S++){var n=eJ[S],j=~~(n*gZ),T=n-j*a0,jL=n<<2;dp[S*2]=T<<16|j;dp[S*2+1]=eZ[jL]<<16|eZ[jL+1]<<8|eZ[jL+2]}return dp}var s=I(V,W,r,Z),z=I(g,W,r,Z),R=I(Y,W,r,Z);
if(H)console.log("Itemize",Date.now()-k,"Unknown:",l,e,O);k=Date.now();var t=v.style.Ng(C,r,x,!0),a=v.style.Ng(w,r,x,!0),J=new Array(l),F=new Array(l),h=new Array(l),m=new Array(l),D=new Array(l);
if(H)console.log("Dist transform",Date.now()-k);k=Date.now();var _=v.GJ.At;for(var S=0;S<l;S++){var n=Y[S],j=~~(n*Z),T=n-j*r,L=t[n<<1],p=t[(n<<1)+1],E=Math.sqrt(L*L+p*p),G=a[n<<1],A=a[(n<<1)+1],u=Math.sqrt(G*G+A*A);
J[S]=1/E;F[S]=1/u;var q=Math.floor(v.l.VC(n*17)*e),o=Math.floor(v.l.VC(n*19)*O);h[S]=q;m[S]=o;D[S]=_(R[S*2],R[S*2+1],s[q*2],s[q*2+1],z[o*2],z[o*2+1],J[S],F[S],1e9)}var M=[-r-1,-r,-r+1,-1,1,r-1,r,r+1];
while(Math.floor(Math.max(e,O)*Math.pow(.5,$))>1)$++;for(var Q=0;Q<y;Q++){var kF=0;for(var S=0;S<l;S++){var n=Y[S],j=~~(n*Z),T=n-j*r,P=J[S],bM=F[S],jW=R[S*2],fX=R[S*2+1],bX=D[S],q=h[S],o=m[S],bK=1;
if(j!=0&&T!=0&&T!=r-1&&j!=x-1)for(var ao=0;ao<8;ao++){var en=U[n+M[ao]];if(en==4294967295)continue;var fK=h[en],bO=m[en];
if(fK==q&&bO==o)continue;var b9=_(jW,fX,s[fK*2],s[fK*2+1],z[bO*2],z[bO*2+1],P,bM,bX);if(b9<bX){bX=b9;
q=fK;o=bO}}for(var f0=0;f0<$;f0++){var hX=~~(e*bK),gR=~~(O*bK);bK*=.5;var ib=v.l.VC(n+Q*17+f0*31),gU=v.l.VC(n+Q*29+f0*63),hq=Math.max(0,q-hX),ip=Math.min(q+hX,e-1),aW=Math.max(0,o-gR),kN=Math.min(o+gR,O-1),fK=hq+~~(ib*(ip-hq)),bO=aW+~~(gU*(kN-aW)),b9=_(jW,fX,s[fK*2],s[fK*2+1],z[bO*2],z[bO*2+1],P,bM,bX);
if(b9<bX){bX=b9;q=fK;o=bO}}D[S]=bX;h[S]=q;m[S]=o;kF+=bX}}if(H)console.log(kF);if(H)console.log("iterations",Date.now()-k);
k=Date.now();var hW=c.slice(0);for(var S=0;S<l;S++){var jH=v.GJ.alpha(R[S*2+1],s[h[S]*2+1],z[m[S]*2+1]);
hW[Y[S]]=~~(.5+255*jH)}hW=v.Dg.aqT(hW,W,new a8(0,0,r,x),16,.01*.01);if(H)console.log("guided filter",Date.now()-k);
k=Date.now();if(B)for(var S=0;S<i;S++)if(c[S]==255||c[S]==0)hW[S]=c[S];var g0=W.slice(0);for(var S=0;
S<l;S++){var gC=Y[S],q=V[h[S]],bX=D[S],jL=gC<<2,jf=hW[gC],bu=(jf>=250?gC:q)<<2;g0[jL]=W[bu];g0[jL+1]=W[bu+1];
g0[jL+2]=W[bu+2]}v.nP(hW,g0,3);if(H)console.log(Date.now()-k);k=Date.now();return g0};v.GJ.At=function(d,W,c,y,B,r,x,Z,i){var k=d>>>16,H=d&65535,V=k-(c>>>16),g=H-(c&65535),N=k-(B>>>16),C=H-(B&65535),w=Math.sqrt(V*V+g*g)*x,Y=Math.sqrt(N*N+C*C)*Z;
if(w+Y>=i)return 1e9;var U=v.GJ.an4(W,y,r);return U+w+Y};v.GJ.an4=function(d,W,c){var y=d>>>16,B=d>>>8&255,r=d&255,x=W>>>16,Z=W>>>8&255,i=W&255,k=c>>>16,H=c>>>8&255,V=c&255,g=v.GJ.alpha(d,W,c),N=y-(g*x+(1-g)*k),C=B-(g*Z+(1-g)*H),w=r-(g*i+(1-g)*V);
return Math.sqrt(N*N+C*C+w*w)};v.GJ.alpha=function(d,W,c){var y=d>>>16,B=d>>>8&255,r=d&255,x=W>>>16,Z=W>>>8&255,i=W&255,k=c>>>16,H=c>>>8&255,V=c&255,g=x-k,N=Z-H,C=i-V,w=y-k,Y=B-H,U=r-V,e=g*g+N*N+C*C,O=e==0?.5:(w*g+Y*N+U*C)/e;
return Math.max(0,Math.min(1,O))};v.GJ.akE=function(d){};v.GJ.au8=function(d,W,c,y,B){var r=[],x=W-1,Z=c-1;
for(var i=1;i<Z;i++)for(var k=1;k<x;k++){var S=i*W+k;if(d[S]==y&&(d[S-W-1]==B||d[S-W]==B||d[S-W+1]==B||(d[S-1]==B||d[S+1]==B)||(d[S+W-1]==B||d[S+W]==B||d[S+W+1]==B)))r.push(S)}return r};
v.Dg={};v.Dg.avL=function(d,W,c,y,B){var r=c.m,x=c.i,Z=r*x,i=v.Dg.ary,k=v.R(Z*4),H;v.ft(k,4294967295);
var V=c,g=d,N=W,C=y;v.nP(d,k,0);H=v.hG(k,c);H=v.hG(H.Gq,H.rect);V=H.rect;C=y>>>2;console.log(V,C);g=v.R(V.P());
v.$P(H.Gq,g,0);v.nP(W,k,0);H=v.hG(k,c);H=v.hG(H.Gq,H.rect);N=v.R(V.P());v.$P(H.Gq,N,0);var w=v.Dg.ado(g,N,V,C,B),Y=w[0],U=w[1],e=new a8(0,0,V.m*2,V.i*2);
Y=i(Y,V,e,!0);Y=i(Y,e,c,!0);U=i(U,V,e,!0);U=i(U,e,c,!0);var O=v.R(Z);for(var S=0;S<Z;S++)O[S]=Math.max(0,Math.min(255,Math.floor(.5+(Y[S]*W[S]+255*U[S]))));
return O};v.Dg.yG=function(d,W,c,y){W.set(d);v.yG.aAt(W,c,y)};v.Dg.ary=function(d,W,c,y){var B=c.m,r=c.i,x=W.m,Z=W.i,i=v.Dg.fa,k=new Float32Array(B*r);
for(var H=0;H<Z;H++){var V=(H+H)*B;for(var g=0;g<x;g++){if(!0||g==0||H==0||g==x-1||H==Z-1)k[V]=k[V+1]=k[V+B]=k[V+B+1]=d[H*x+g];
else{k[V]=i(g+.25,H+.25,d,x,Z);k[V+1]=i(g+.75,H+.25,d,x,Z);k[V+B]=i(g+.25,H+.75,d,x,Z);k[V+B+1]=i(g+.75,H+.75,d,x,Z)}V+=2}}return k};
v.Dg.fa=function(d,W,c,y,B){d-=.499999;W-=.499999;var r=Math.floor(d),x=Math.floor(W),Z=x*y+r,i=d-r,k=W-x,H=(1-k)*(1-i),V=(1-k)*i,g=k*(1-i),N=k*i;
if(c[Z]==null||c[Z+y+1]==null){console.log(d,W,y,B);throw"e"}return H*c[Z+0]+V*c[Z+1]+g*c[Z+y+0]+N*c[Z+y+1]};
v.Dg.ado=function(d,W,c,y,B){var r=c.m,x=c.i,Z=r*x,i=v.Dg.acx,k=v.Dg.R,H=v.Dg.yG,V=v.Dg.NG,W=i(W,Z),d=i(d,Z),g=k(Z);
H(W,g,c,y);var N=k(Z);H(d,N,c,y);var C=k(Z);V(W,W,C);H(C,C,c,y);var w=k(Z);V(W,d,w);H(w,w,c,y);var Y=k(Z),U=k(Z);
for(var S=0;S<Z;S++){var e=g[S],O=N[S],l=C[S]-e*e,I=w[S]-e*O,s=I/(l+B),z=O-s*e;Y[S]=s;U[S]=z}var R=k(Z);
H(Y,R,c,y);var t=k(Z);H(U,t,c,y);return[R,t]};v.Dg.aqT=function(d,W,c,y,B){var r=c.m,x=c.i,Z=r*x,i=v.Dg.ary,k=Date.now(),H=!1,V=c,g=d,N=W,C=y;
V=new a8(0,0,r>>>2,x>>>2);C=y>>>2;g=v.Dg.axU(d,r,x);N=v.Dg.af3(W,r,x);if(H)console.log(Date.now()-k);
k=Date.now();var w=v.Dg.au$(g,N,V,C,B),Y=w[0],U=w[1],e=w[2],O=w[3];if(H)console.log(Date.now()-k);k=Date.now();
var l=v.R(Z);for(var I=0;I<x;I++)for(var s=0;s<r;s++){var S=I*r+s,z=(I>>>2)*(r>>>2)+(s>>>2),R=S<<2,t=Y[z]*W[R]+U[z]*W[R+1]+e[z]*W[R+2]+O[z]*255;
l[S]=Math.max(0,Math.min(255,~~(.5+t)))}if(H)console.log(Date.now()-k);k=Date.now();return l};v.Dg.axU=function(d,W,c){var y=W>>>2,B=c>>>2,r=v.R(y*B);
for(var x=0;x<B;x++)for(var Z=0;Z<y;Z++)r[x*y+Z]=d[x*W+Z<<2];return r};v.Dg.af3=function(d,W,c){var y=W>>>2,B=c>>>2,r=v.R(y*B*4);
for(var x=0;x<B;x++)for(var Z=0;Z<y;Z++){var i=x*y+Z<<2,k=x*W+Z<<4;r[i]=d[k];r[i+1]=d[k+1];r[i+2]=d[k+2];
r[i+3]=d[k+3]}return r};v.Dg.au$=function(d,W,c,y,B){var r=c.m,x=c.i,Z=r*x,i=v.Dg.acx,k=v.Dg.R,H=v.Dg.yG,V=v.Dg.NG,d=i(d,Z),g=new v.ii(r*x);
v.AH(W,g);var W=[i(g.Z,Z),i(g.G,Z),i(g.J,Z)],N=v.Dg.ad7(d,W,c,y,B),C=k(Z);H(d,C,c,y);var w=k(Z);V(W[0],d,w);
H(w,w,c,y);var Y=k(Z);V(W[1],d,Y);H(Y,Y,c,y);var U=k(Z);V(W[2],d,U);H(U,U,c,y);var e=k(Z),O=k(Z),l=k(Z),I=k(Z);
for(var S=0;S<Z;S++){var s=C[S],z=N.LY[S],R=N.xk[S],t=N.jk[S],a=w[S]-z*s,J=Y[S]-R*s,F=U[S]-t*s;e[S]=N.ajP[S]*a+N.Lp[S]*J+N.Hw[S]*F;
O[S]=N.Lp[S]*a+N.aBB[S]*J+N.Pt[S]*F;l[S]=N.Hw[S]*a+N.Pt[S]*J+N.aCv[S]*F;I[S]=s-e[S]*z-O[S]*R-l[S]*t}H(e,e,c,y);
H(O,O,c,y);H(l,l,c,y);H(I,I,c,y);return[e,O,l,I]};v.Dg.ad7=function(d,W,c,y,B){var r=c.m,x=c.i,Z=r*x,i=v.Dg.R,k=v.Dg.yG,H=v.Dg.NG,V={};
V.LY=i(Z);k(W[0],V.LY,c,y);V.xk=i(Z);k(W[1],V.xk,c,y);V.jk=i(Z);k(W[2],V.jk,c,y);var g=i(Z);H(W[0],W[0],g);
k(g,g,c,y);var N=i(Z);H(W[0],W[1],N);k(N,N,c,y);var C=i(Z);H(W[0],W[2],C);k(C,C,c,y);var w=i(Z);H(W[1],W[1],w);
k(w,w,c,y);var Y=i(Z);H(W[1],W[2],Y);k(Y,Y,c,y);var U=i(Z);H(W[2],W[2],U);k(U,U,c,y);V.ajP=g;V.Lp=N;
V.Hw=C;V.aBB=w;V.Pt=Y;V.aCv=U;for(var S=0;S<Z;S++){var e=V.LY[S],O=V.xk[S],l=V.jk[S],I=g[S]-e*e+B,s=N[S]-e*O,z=C[S]-e*l,R=w[S]-O*O+B,t=Y[S]-O*l,a=U[S]-l*l+B,J=R*a-t*t,F=t*z-s*a,h=s*t-R*z,m=I*a-z*z,D=z*s-I*t,_=I*R-s*s,n=J*I+F*s+h*z,j=1/n;
V.ajP[S]=J*j;V.Lp[S]=F*j;V.Hw[S]=h*j;V.aBB[S]=m*j;V.Pt[S]=D*j;V.aCv[S]=_*j}return V};v.Dg.R=function(d){return new Float32Array(d)};
v.Dg.acx=function(d,W){var c=new Float32Array(W);for(var S=0;S<W;S++)c[S]=d[S]*(1/255);return c};v.Dg.NG=function(d,W,c){for(var S=0;
S<d.length;S++)c[S]=d[S]*W[S]};v.Mj={};v.Mj.e_=function(d,W,c,y){var B=d[W]-c[y],r=d[W+1]-c[y+1],x=d[W+2]-c[y+2];
return Math.sqrt(B*B+r*r+x*x)*(1/441.7)};v.Mj.getSelection=function(d,W,c){var y=W*c,B=v.R(y),r=!1,x=Math.round(c*.7),Z=1,i=new Uint32Array(12),k=v.R(12);
for(var H=0;H<x;H++)for(var V=0;V<W;V++){if(V<Z||H<Z||V>W-Z-1||H>c-Z-1){var S=H*W+V,g=S<<2,N=0;if(H<Z)N=4;
else if(V>W-Z-1)N=8;i[N]+=d[g];i[N+1]+=d[g+1];i[N+2]+=d[g+2];i[N+3]++;B[S]=255}}for(var S=0;S<12;S+=4)for(var C=0;
C<3;C++)k[S+C]=i[S+C]/i[S+3];var w=new Float32Array(y);for(var S=0;S<y;S++){var g=S*4,Y=v.Mj.e_(d,g,k,0),U=v.Mj.e_(d,g,k,4),e=v.Mj.e_(d,g,k,8),O=Math.max(Y,Math.max(U,e));
w[S]=Y+U+e-O}v.Mj.ML(w);var l=Date.now(),I=new Float32Array(y),s=[],z=v.R(y);for(var S=0;S<3;S++){v.$P(d,z,S);
var R=new Uint16Array(y);s.push(R);v.Mj.aDy(z,B,W,c,R)}if(r)console.log("MBD",Date.now()-l);l=Date.now();
for(var S=0;S<y;S++)I[S]=s[0][S]+s[1][S]+s[2][S];v.Mj.ML(I);for(var S=0;S<y;S++)I[S]+=.4*w[S];var t=W>>>1,x=c>>>1,a=1/Math.sqrt(t*t+x*x);
for(var H=0;H<c;H++)for(var V=0;V<W;V++){var J=V-t,F=H-x,h=1-Math.sqrt(J*J+F*F)*a;I[H*W+V]*=h}if(r)console.log("Centeredness",Date.now()-l);
l=Date.now();for(var S=0;S<y;S++)B[S]=I[S]*255;var m=Math.round(W/120),D=Math.round(m*.8);if(r)console.log(m,D);
v.SV.BX(B,B,W,c,m+m+1,!1);if(r)console.log("erosion",Date.now()-l);l=Date.now();for(var S=0;S<y;S++)I[S]=B[S];
v.Mj.ML(I);var _=v.R(256);for(var S=0;S<256;S++)_[S]=256/(1+Math.exp(-20*(S/255-.5)));for(var S=0;S<y;
S++){var n=~~(I[S]*255+.5);B[S]=_[n]}if(r)console.log("Simoid",Date.now()-l);l=Date.now();return B};
v.Mj.ML=function(d){var W=d.length,c=0;for(var S=0;S<W;S++)c=Math.max(c,d[S]);var y=1/c;for(var S=0;
S<W;S++)d[S]=d[S]*y};v.Mj.aDy=function(d,W,c,y,B){var r=c*y,x=d.slice(0),Z=d.slice(0);for(var S=0;S<r;
S++)B[S]=W[S]==255?0:65535;v.Mj.acV(d,Z,x,B,c,y);v.Mj.ax9(d,Z,x,B,c,y);v.Mj.acV(d,Z,x,B,c,y);v.Mj.ax9(d,Z,x,B,c,y);
return B};v.Mj.acV=function(d,W,c,y,B,r){for(var x=1;x<B;x++)v.Mj.s5(x,-1,d,W,c,y);for(var Z=1;Z<r;Z++){v.Mj.s5(Z*B,-B,d,W,c,y);
for(var x=1;x<B;x++){var S=Z*B+x;v.Mj.s5(S,-1,d,W,c,y);v.Mj.s5(S,-B,d,W,c,y)}}};v.Mj.ax9=function(d,W,c,y,B,r){for(var x=B-2;
x>=0;x--)v.Mj.s5(B*r-B+x,1,d,W,c,y);for(var Z=r-2;Z>=0;Z--){v.Mj.s5(Z*B+B-1,B,d,W,c,y);for(var x=B-2;
x>=0;x--){var S=Z*B+x;v.Mj.s5(S,1,d,W,c,y);v.Mj.s5(S,B,d,W,c,y)}}};v.Mj.s5=function(S,d,W,c,y,B){var r=S+d,x=W[S],Z=c[r],i=y[r];
if(Z<x)Z=x;else if(x<i)i=x;var k=Z-i;if(B[r]!=65535&&k<B[S]){B[S]=k;c[S]=Z;y[S]=i}};v.Ye={};v.Ye.filter=function(d,W,c,y){var B=W.m,r=W.i,x=B*r,Z=y[0],i=y[1],k=y[2],H=y[3],V=y[4],g=y[5],N=y[6],C=Date.now(),w=new Float32Array(B*r*4);
v.Ye.ayP(d,B,r,w);var Y=Math.ceil(Z*Math.sqrt(-2*Math.log(.1))),U=new ArrayBuffer(x*4),e=new Float32Array(U),O=new Float32Array(x),l=new Float32Array(x);
for(var S=0;S<x;S++){var I=S*4;e[S]=w[I];O[S]=w[I+1];l[S]=w[I+2]}v.yG.Fg(e,W,Y*1/2.4,2);v.yG.Fg(O,W,Y*1/2.4,2);
v.yG.Fg(l,W,Y*1/2.4,2);for(var S=0;S<x;S++){var I=S*4;w[I]=e[S];w[I+1]=O[S];w[I+2]=l[S]}var s=new Uint8Array(U);
for(var S=0;S<x;S++){var I=S*4,z=S*4,e=w[I],O=w[I+1],l=w[I+2],R=Math.sqrt((e-l)*(e-l)+4*O*O),t=(e+l+R)*.5,a=(e+l-R)*.5,J=a-l,F=O,h=J*J+F*F;
if(h!=0){var m=Math.sqrt(h),D=1/m;J*=D;F*=D}s[z]=128+127*J;s[z+1]=128+127*F}var _=1.3*i+2,n=H*(2/10),j=d.slice();
if(d1.ZV){var T=new Float32Array([1/B,1/r]),L=d1._V(0,B,r);L.set(j);var p=d1._V(1,B,r);p.set(s);d1.QO(L,W);
if(V){L.Yf(W);d1.filter.SF({type:d1.filter.aeL,ci:T,adu:1/k,aoq:n},L._Y)}L.Yf(W);d1.filter.SF({type:d1.filter.Jl,eK:p.yd,ci:T,a3d:_,al0:2},L._Y);
if(V){L.Yf(W);d1.filter.SF({type:d1.filter.agE,ci:T,akk:new Float32Array(N),aB7:g},L._Y)}L.get(c)}else{if(V)v.Ye.z3(1/k,n,j,B,r);
v.Ye.Jl(j,c,s,B,r,_);if(V)v.Ye.aeK(B,r,c,N,g)}var E=x*4;for(var S=3;S<E;S+=4)c[S]=d[S]};v.Ye.Jl=function(d,W,c,y,B,r){var x=Math.ceil(2*r),Z=-1/(2*r*r),i=[],k=1;
for(var S=0;S<x+20;S++)i[S]=Math.exp(S*S*Z);var H=[0,0,0,0];for(var V=0;V<B;V++){for(var g=0;g<y;g++){var N=V*y+g,C=N*4,w=1,Y=d[C],U=d[C+1],e=d[C+2],O=d[C+3],l=(c[C]-128)*(1/127),I=(c[C+1]-128)*(1/127),s=l,z=I,R=g==0?.51:.49,t=V==0?.51:.49;
for(var S=0;S<2;S++){var a=g+R,J=V+t,F=0;while(F<x){if(a<.5||y-.5<a||J<.5||B-.5<J)break;var h=~~a,m=~~J,D=m*y+h,_=D*4,n=(c[_]-128)*(1/127),j=(c[_+1]-128)*(1/127);
if(n*s+j*z<0){n=-n;j=-j}s=n;z=j;a+=k*n;J+=k*j;if(a<.5||y-.5<a||J<.5||B-.5<J)break;var T=~~a,L=~~J,p=L*y+T<<2;
F+=k;var E=i[~~F];v.D.a7q(a,J,d,y,B,H);Y+=H[0]*E;U+=H[1]*E;e+=H[2]*E;O+=H[3]*E;w+=E}s=-l;z=-I}var G=1/w;
W[C]=~~(.5+Y*G);W[C+1]=~~(.5+U*G);W[C+2]=~~(.5+e*G);W[C+3]=~~(.5+O*G)}}};v.Ye.aeK=function(d,W,c,y,B){for(var r=0;
r<W;r++)for(var x=0;x<d;x++){var Z=r*d+x<<2,i=1+v.Ye.a7V(x,r,c,d,W,y)*B;c[Z]=Math.max(0,Math.min(255,c[Z]*i));
c[Z+1]=Math.max(0,Math.min(255,c[Z+1]*i));c[Z+2]=Math.max(0,Math.min(255,c[Z+2]*i))}};v.Ye.a7V=function(d,W,c,y,B,r){var x=c[(W*y+Math.max(0,d-1))*4+3],Z=c[(W*y+Math.min(y-1,d+1))*4+3],i=c[(Math.max(0,W-1)*y+d)*4+3],k=c[(Math.min(B-1,W+1)*y+d)*4+3],H=.7,V=(Z-x)*(1/255),g=.7,N=(k-i)*(1/255),C=-V*g,w=-H*N,Y=H*g,U=Math.sqrt(C*C+w*w+Y*Y),e=1/U,O=C*e,l=w*e,I=Y*e,s=r[0]*O+r[1]*l+r[2]*I;
return s};v.Ye.z3=function(d,W,c,y,B){function r(Z,k,H){return Math.max(k,Math.min(H,Z))}for(var x=0;
x<B;x++)for(var Z=0;Z<y;Z++){var i=v.Ye.amc(Z+.5,x+.5,d,W);c[(x*y+Z)*4+3]=Math.max(0,Math.min(255,i*255))}};
v.Ye.amc=function(d,W,c,y){function B(z,R,t){return(1-t)*z+t*R}var r=(d+613)*c,x=(W+117)*c,Z=~~r,i=~~x,k=r-Z,H=x-i,V=Math.sin(11),g=Math.cos(Z)*V,N=Math.cos(Z+1)*V,C=Math.cos(i)*V,w=Math.cos(i+1)*V,bd=v.Ye.hash(g,C),Y=v.Ye.hash(N,C),U=v.Ye.hash(g,w),e=v.Ye.hash(N,w),O=B(bd,Y,k),l=B(U,e,k),I=B(O,l,H);
I=I<.5?0:1;var s=I+y*v.Ye.hash(Math.cos(r)*V,Math.cos(x)*V);return s*(1/3)};v.Ye.hash=function(d,W){var c=Math.sin(d*11.697096+W*73.32456)*12157.47691;
return c-Math.floor(c)};v.Ye.ayP=function(d,W,c,y){var B=[-1,0,1,-2,0,2,-1,0,1],r=[-1,-2,-1,0,0,0,1,2,1],x=W-1,Z=c-1,i=W*4;
for(var k=1;k<Z;k++)for(var H=1;H<x;H++){var S=k*W+H,V=S*4,g=v.Ye.rZ(d,V,i,B),N=v.Ye.rZ(d,V,i,r),C=v.Ye.rZ(d,V+1,i,B),w=v.Ye.rZ(d,V+1,i,r),Y=v.Ye.rZ(d,V+2,i,B),U=v.Ye.rZ(d,V+2,i,r);
y[V]=g*g+C*C+Y*Y;y[V+1]=g*N+C*w+Y*U;y[V+2]=N*N+w*w+U*U}v.Ye.aa1(y,W,c)};v.Ye.rZ=function(d,W,c,y){return d[W-c-4]*y[0]+d[W-c]*y[1]+d[W-c+4]*y[2]+d[W-4]*y[3]+d[W]*y[4]+d[W+4]*y[5]+d[W+c-4]*y[6]+d[W+c]*y[7]+d[W+c+4]*y[8]};
v.Ye.aa1=function(d,W,c){function y(i,S,k){var H=S*4,V=k*4;i[V]=i[H];i[V+1]=i[H+1];i[V+2]=i[H+2]}var B=W-1,r=c-1;
y(d,W+1,0);y(d,2*W-2,W-1);for(var x=1;x<B;x++)y(d,W+x,x);for(var Z=1;Z<r;Z++){y(d,Z*W+1,Z*W);y(d,Z*W+W-2,Z*W+W-1)}for(var x=1;
x<B;x++)y(d,(c-2)*W+x,(c-1)*W+x);y(d,(Z-2)*W+1,(Z-1)*W);y(d,(Z-1)*W-2,Z*W-1)};v.RD=function(){function d(k,H,V,g){var N=new Float32Array(k*k),C=k/2;
for(var w=0;w<k;w++)for(var Y=0;Y<k;Y++){var U=Y+V-C,e=w+g-C;N[w*k+Y]=Math.max(0,Math.min(1,H+.5-Math.sqrt(U*U+e*e)))}return N}var W=[],y=null;
function c(k,H,V,g){var N=Math.floor(H*10),C=W[N],w=k*8,Y=w>>>1;if(C==null){C=W[N]=[];var U=new a8(0,0,w,w),e=k/2/(1+.2*H),O=Math.floor(k*N*.1);
for(var l=0;l<2;l++)for(var I=0;I<2;I++){var s=d(w,e,.25+I*.5,.25+l*.5),z=0;v.yG.Fg(s,U,O);while(s[w*Y+z]<.005)z++;
if(z!=0)z--;var R=2*(Y-z),t=new a8(z,z,R,R),a=new Float32Array(R*R);for(var J=0;J<R;J++)for(var F=0;
F<R;F++)a[J*R+F]=s[(z+J)*w+z+F];C.push([a,t])}}var h=Math.floor(V),m=Math.floor(g),D=V-h,_=g-m,n=D<.5?1:0,j=_<.5?1:0;
C=C[j*2+n];var t=C[1].clone();t.x+=h-Y;t.y+=m-Y;return[C[0],t]}function B(k,H,V){if(y==null){y=new Uint8Array(4e4);
for(var S=0;S<4e4;S++)y[S]=Math.min(255,~~(.5+255*v.c1(S*(1/255))))}var g=k.length;for(var S=0;S<g;S++){var N=k[S],C=~~(255*N);
H[S]=y[C]<<24|V}}function r(k,H,V,g,N){var C=H.nK(g),w=Math.max(0,C.x-H.x),Y=Math.max(0,C.x-g.x),U=Math.max(0,C.y-H.y),e=Math.max(0,C.y-g.y),O=C.m,l=C.i;
for(var S=0;S<l;S++){var I=(U+S)*H.m+w,s=(e+S)*g.m+Y;for(var z=0;z<O;z++){V[s+z]+=N*k[I+z]}}}var x=-1;
function Z(k,H,V,g,N){var C=Math.round(g[1]*H*V*.01),w=g[2],Y=g[3],U=g[4],e=g[5],O=g[6],l=g[7],I=g[8],s=g[9],z=g[10]?g[10]:1,E=!1;
if(w!=x){W=[];x=w}var R=Date.now(),t=new a8(0,0,H,V),a=new i(g[0]);if(N)k.fill(0);var J=new Float32Array(N?k.buffer:H*V);
for(var S=0;S<C;S++){var F=a.get()*H,h=a.get()*V,m=a.get()*Y,D=a.get()*w*4,_=(a.get()+O)*Math.PI*2,n=a.get()*w*4,j=(a.get()+2*O)*Math.PI*2;
F+=s*(D*Math.cos(_)+n*Math.cos(j));h+=s*(D*Math.sin(_)+n*Math.sin(j));if(I)h=h+O*V*z;var T=c(w,m,F,h%V),L=U,p=a.get();
if(l)L=.5+.5*U*(.5+.5*Math.sin((2*O+p)*2*Math.PI));r(T[0],T[1],J,t,L)}if(E)console.log(Date.now()-R,"add floats");
R=Date.now();var G=new Uint8Array(J.buffer);B(J,new Uint32Array(G.buffer),e.J<<16|e.G<<8|e.Z);if(E)console.log(Date.now()-R,"toInt");
R=Date.now();if(!N){v.l.Ip("scrn",G,t,k,t,t,1);if(E)console.log(Date.now()-R,"blendOver")}}function i(k){this.Cu=123456789;
this.c0=987654321;this.t=4294967295;this.yC(k)}i.prototype.yC=function(S){this.Cu=123456789+S&this.t;
this.c0=987654321-S&this.t};i.prototype.get=function(){this.c0=36969*(this.c0&65535)+(this.c0>>16)&this.t;
this.Cu=18e3*(this.Cu&65535)+(this.Cu>>16)&this.t;var k=(this.c0<<16)+(this.Cu&65535)>>>0;k/=4294967296;
return k};return{so:Z}}();v.f$={};v.f$.bH=function(d,W,c,y){var B=d[W*2],r=d[W*2+1],x=d[c*2],Z=d[c*2+1],i=d[y*2],k=d[y*2+1];
return B*Z+x*k+i*r-i*Z-x*r-B*k};v.f$.afY=function(d,W){var c=[],y=[],B=[],r={};for(var S=0;S<W.length;
S+=3){var x=~~(S*(1/3)),Z=W[S+0],i=W[S+1],k=W[S+2],H=v.f$.bH(d,Z,i,k);if(H>0){var V=i;i=k;k=V}var g=r[k+"-"+i],N=r[i+"-"+Z],C=r[Z+"-"+k],w=[k,g,x,null],Y=[i,N,x,w],U=[Z,C,x,Y];
w[3]=U;if(g)g[1]=w;if(N)N[1]=Y;if(C)C[1]=U;r[k+"-"+Z]=U;r[Z+"-"+i]=Y;r[i+"-"+k]=w;c[Z]=Y;B[S]=Y;c[i]=w;
B[S+1]=w;c[k]=U;B[S+2]=U;y[x]=Y}return{Y$:c,jN:y,Hu:B}};v.f$.aib=function(d){var W=[],c=d.jN;for(var S=0;
S<c.length;S++){var y=c[S];W.push(y[0]);y=y[3];W.push(y[0]);y=y[3];W.push(y[0])}return W};v.f$.ajS=function(d,W,c,y){var B=d[W*2],r=d[W*2+1],x=d[c*2],Z=d[c*2+1],i=d[y*2],k=d[y*2+1],H=x-B,V=Z-r,g=i-B,N=k-r,C=H*(B+x)+V*(r+Z),w=g*(B+i)+N*(r+k),Y=2*(H*(k-Z)-V*(i-x));
if(Math.abs(Y)<1e-5){var U=Math.min(B,x,i),e=Math.min(r,Z,k),O=(Math.max(B,x,i)-U)*.5,l=(Math.max(r,Z,k)-e)*.5;
return[U+O,e+l,O*O+l*l,1]}var I=(N*C-V*w)/Y,s=(H*w-g*C)/Y,O=I-B,l=s-r;return[I,s,O*O+l*l,0]};v.f$.aaC=function(d,W,c){var y=c[1],B=c[3],r=B[3],x=y[3],Z=x[3],i=c[2],k=y[2],H=c[0],V=y[0],g=B[0],N=x[0],C=v.f$.ajS(d,V,N,g),w=d[H*2]-C[0],Y=d[H*2+1]-C[1],U=w*w+Y*Y>C[2]&&C[3]==0&&v.f$.bH(d,N,H,g)<0&&v.f$.bH(d,g,V,N)<0;
if(U){c[0]=g;y[0]=N;c[3]=r;r[3]=x;x[3]=c;y[3]=Z;Z[3]=B;B[3]=y;B[2]=k;x[2]=i;W.jN[k]=Z;W.jN[i]=r;W.Y$[V]=x;
W.Y$[H]=B}return U};v.f$.a9f=function(d,W,c){var y=d[W*2]-d[c*2],B=d[W*2+1]-d[c*2+1];return Math.sqrt(y*y+B*B)};
v.f$.awr=function(d,W,c){var y=c[1],B=c[3],r=B[3],x,Z,i=c[2],k,H=c[0],V=r[0],g=B[0],N;if(y){x=y[3];Z=x[3];
k=y[2];N=x[0]}var C=d.length>>>1;d[2*C]=(d[2*V]+d[2*H])*.5;d[2*C+1]=(d[2*V+1]+d[2*H+1])*.5;if(!0){var w=i,Y=c,U=W.jN.length,e=[C,null,w,Y],O=[g,e,U,r];
e[1]=O;var l=[C,null,U,O];B[3]=e;r[3]=l;r[2]=U;W.jN[w]=B;W.jN[U]=l;W.Y$[H]=B;W.Y$[g]=r;W.Hu.push(e,O,l)}if(y){var I=k,s=y,z=U+1;
l[1]=s,s[1]=l;var R=[C,null,I,s],t=[N,R,z,Z];R[1]=t;var a=[C,Y,z,t];Y[1]=a;x[3]=R;Z[3]=a;Z[2]=z;W.jN[I]=x;
W.jN[z]=Z;W.Y$[V]=x;W.Y$[N]=Z;W.Hu.push(R,t,a)}W.Y$[C]=Y};v.f$.a1d=function(d,W){var c=0;while(!0){var y=c;
for(var S=0;S<W.Hu.length;S++){var B=W.Hu[S];if(B[1]==null)continue;var r=v.f$.aaC(d,W,B);if(r){c++;
break}}if(y==c)break}return c!=0};v.f$.ay9=function(d,W,c,y){var B=0;for(var S=0;S<y;S++){var r=null,x=0;
for(var Z=0;Z<W.Hu.length;Z++){var i=W.Hu[Z],k=v.f$.a9f(d,i[0],i[3][3][0])*(i[1]?1:2);if(k>x){r=i;x=k}}if(x>c){v.f$.awr(d,W,r);
B++}}return B!=0};v.f$.acq=function(d,W){var c=[],g=0;for(var S=0;S<d.length;S++)c.push(0);for(var S=0;
S<W.Hu.length;S++){var y=W.Hu[S],B=y[0],r=y[3][3][0],x=d[B*2],Z=d[B*2+1],i=d[r*2],k=d[r*2+1],H=x-i,V=Z-k;
c[B*2]+=-H;c[B*2+1]+=-V;c[r*2]+=H;c[r*2+1]+=V}for(var S=0;S<d.length;S+=2){var N=S>>>1,C=W.Y$[N],y=C,w=!0;
do{if(y[1]==null){w=!1;break}y=y[1][3]}while(y!=C);if(w){var Y=.02;d[S]+=Y*c[S];d[S+1]+=Y*c[S+1];g+=Y*(c[S]*c[S]+c[S+1]*c[S+1])}}return g};
v.f$.aar=function(d,W,c){var y=v.A.c7(d),B=v.f$.afY(d,W);v.f$.a1d(d,B);for(var r=0;r<300;r++){var x=!1,Z=!1;
x=v.f$.ay9(d,B,c,5);if(x)Z=v.f$.a1d(d,B);var i=v.f$.acq(d,B);if(!x&&!Z&&i<1e-4){break}}return v.f$.aib(B)};
v.HF={};v.HF.agN=function(d){var W=d.XS,c=d.cZ,y=d.DP,B=d.lg,r=d.tP,x=d.ww,Z=d.dC,i=v.Fp.RX,e,O,l=0;
function k(bd){var kF=new Array(bd);for(var S=0;S<bd;S++)kF[S]=0;return kF}var H=c.length>>>1,V=k(W.Sn*2),g=k(W.Sn),N=k(W.Sn),C=Date.now();
for(var S=0;S<d.a5.length;S++){var w=W.ax1+S,Y=W.Kp*(x[S*2]+Z[S*2]),U=W.Kp*(x[S*2+1]+Z[S*2+1]);V[w*2]=Y;
V[w*2+1]=U;g[w]=Y;N[w]=U}W.aq0.yy(B,W.a9z.RX(V),.01,e,O);for(var S=0;S<W.ajQ.Hu.length;S++){var I=W.ajQ.Hu[S],s=I[3][3][0],z=I[0],R=I[3][0],t=I[1]?I[1][3][0]:R;
if(I[1]&&s>z)continue;var a=c[s*2],J=c[s*2+1],F=c[z*2],h=c[z*2+1],m=B[s*2],D=B[s*2+1],_=B[z*2],n=B[z*2+1],j=B[R*2],T=B[R*2+1],L=B[t*2],p=B[t*2+1],E=[m,D,_,n,j,T];
if(I[1])E.push(L,p);var G=i(W.a0P[l],E),A=G[0],u=G[1],q=1/Math.sqrt(A*A+u*u);A*=q;u*=q;var o=F-a,M=h-J;
g[l]=A*o+u*M;N[l]=-u*o+A*M;l++}var $=new Array(H),Q=new Array(H);for(var S=0;S<H;S++){$[S]=r[S*2];Q[S]=r[S*2+1]}W.ad3.yy($,W.adl.RX(g),.5);
W.ad3.yy(Q,W.adl.RX(N),.5);for(var S=0;S<H;S++){r[S*2]=$[S];r[S*2+1]=Q[S]}};v.HF.ay4=function(d){var W=d.cZ,c=d.DP,y=d.a5,B=v.Fp.multiply,r=Date.now(),x=v.f$.afY(W,c),Z=W.length>>>1,i=0,C=0,u=1e3;
for(var S=0;S<x.Hu.length;S++)i+=x.Hu[S][1]?.5:1;var k=i+y.length,H=[],V=new v.r8(k*2,Z*2),g=new v.r8(k,Z),N=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],w=[],Y=[];
for(var S=0;S<x.Hu.length;S++){var U=x.Hu[S],e=U[3][3][0],O=U[0],l=U[3][0],I=U[1]?U[1][3][0]:l;if(U[1]&&e>O)continue;
var s=W[e*2],z=W[e*2+1],R=W[O*2],t=W[O*2+1],a=W[l*2],J=W[l*2+1],F=W[I*2],h=W[I*2+1],m=[[s,z,1,0],[z,-s,0,1],[R,t,1,0],[t,-R,0,1],[a,J,1,0],[J,-a,0,1]];
if(U[1])m.push([F,h,1,0],[h,-F,0,1]);var D=v.Fp.VT(m),_=B(linear.invert(B(D,m)),D);_.pop();_.pop();H.push(_);
var n=R-s,j=t-z,T=N[U[1]?1:0];T=v.Fp.Sa(T,B([[n,j],[j,-n]],_));var L=[e*2,e*2+1,O*2,O*2+1,l*2,l*2+1,I*2,I*2+1],p=U[1]?8:6,E=[];
for(var G=0;G<p;G++)E.push([L[G],T[0][G],T[1][G]]);E.sort(function(kF,P){return kF[0]-P[0]});for(var A=0;
A<2;A++){for(var G=0;G<p;G++){w[G]=E[G][0];Y[G]=E[G][1+A]}V.CC(Y,w,p)}if(e<O)g.CC([-1,1],[e,O],2);else g.CC([1,-1],[O,e],2);
C++}for(var S=0;S<y.length;S++){var q=y[S];V.CC([u],[q*2],1);V.CC([u],[q*2+1],1);g.CC([u],[q],1)}var o=V.VT(),M=o.u9(o),$=g.VT(),Q=$.u9($);
return{ax1:i,Sn:k,a9z:o,aq0:M,adl:$,ad3:Q,ajQ:x,a0P:H,Kp:u}};v.HF.a9j=function(d,W,c,y,B){var r=new a8(0,0,W,c),x=v.R(r.P());
v.$P(d,x,3);v.round(x,70);var Z=v.wf(x,r),i=[.1,.065,.035][y]*Math.max(Z.m,Z.i),k=B+1,H=W+k*2,V=c+k*2,g=new a8(-k,-k,H,V),N=v.R(g.P());
v.ZW(x,r,N,g);var C=N.slice(0);for(var w=0;w<B;w++){for(var Y=1;Y<V-1;Y++){for(var U=1;U<H-1;U++){var S=Y*H+U;
C[S]=N[S-H]|N[S-1]|N[S]|N[S+1]|N[S+H]}}var e=C;C=N;N=e}var O=c_.AJ(N,H,V,Math.round(Z.P()*5e-4)),l=c_.Tz(O),I=new dT(1,0,0,1,-k,-k);
for(var S=0;S<l.length;S++){var s=l[S];v.A.e(s.path.j,I,s.path.j);s.cZ=v.HF.atf(s.path);s.DP=v.A.arZ(s.cZ);
s.DP=v.f$.aar(s.cZ,s.DP,i)}return l};v.HF.atf=function(d){var W=[],c=d.j,y=d.r.length-1,B=0,r=0;for(var x=0;
x<y;x++){var S=x*6,Z=c[S+6]-c[S+0],i=c[S+7]-c[S+1],k=Math.ceil(Math.sqrt(Z*Z+i*i));for(var H=0;H<k;H++){var V=H/k,g=1-V,N=g*g*g*c[S+0]+3*g*g*V*c[S+2]+3*g*V*V*c[S+4]+V*V*V*c[S+6],C=g*g*g*c[S+1]+3*g*g*V*c[S+3]+3*g*V*V*c[S+5]+V*V*V*c[S+7];
W.push(N,C);B=N;r=C}}W=v.A.a6_(W,1);var w=[],Y=W.length;for(var S=0;S<Y;S+=2){var C=W.pop(),N=W.pop();
w.push(N,C)}return w};v.HF.a4I=function(d,W,c,y){function B(R,t,a,J,F){var h=F[R*2]-F[t*2],m=F[R*2+1]-F[t*2+1],D=Math.sqrt(h*h+m*m);
if(a[R].indexOf(t)==-1){a[R].push(t);J[R].push(D)}if(a[t].indexOf(R)==-1){a[t].push(R);J[t].push(D)}}var r=d.length>>>1,x=new Array(r);
if(c.length==0){x.fill(0);return x}var Z=new Array(r),i=new Array(r);for(var S=0;S<r;S++){Z[S]=[];i[S]=[]}for(var S=0;
S<W.length;S+=3){B(W[S],W[S+1],Z,i,d);B(W[S],W[S+2],Z,i,d);B(W[S+1],W[S+2],Z,i,d)}var k=new Float64Array(r*2),H=new Uint32Array(r*2);
k.fill(1e9);var V=new Uint8Array(r);for(var g=0;g<c.length;g++){V.fill(0);var N=["---",[0,c[g]]];while(N.length!=1){var C=v.axl.R2(N),w=C[0],Y=C[1];
if(V[Y]==1)continue;var U=Y<<1;if(w<k[U]){k[U+1]=k[U];H[U+1]=H[U];k[U]=w;H[U]=g}else if(w<k[U+1]){k[U+1]=w;
H[U+1]=g}V[Y]=1;var e=Z[Y],O=i[Y];for(var S=0;S<e.length;S++){var l=e[S];if(V[l]!=1){v.axl.LA(N,[w+O[S],l])}}}}for(var S=0;
S<r;S++){var U=S<<1,I=k[U],s=k[U+1],z=1/(I+s);x[S]=(1-I*z)*y[H[U]]+(1-s*z)*y[H[U+1]]}return x};v.HF.anx=function(d){var W={r:[],j:[]},c=[d];
while(c.length!=0){var y=c.pop(),B=y.ur;if(y.asz instanceof Array||y.a10 instanceof Array){W.r.push("M","L","L","L","Z");
W.j.push(B[0],B[1],B[2],B[1],B[2],B[3],B[0],B[3])}else c.push(y.asz,y.a10)}return W};v.HF.J5=function(d,W,c,y,B,r,x,Z,i,k,H){var V=Math.round(k.length/3),g=new Array(V);
for(var S=0;S<V;S++)g[S]=S;g.sort(function(C,w){return i[k[C*3]]-i[k[w*3]]});for(var S=0;S<V;S++){var N=g[S]*3;
v.HF.a0l(k[N]*2,k[N+1]*2,k[N+2]*2,x,Z,d,W,c,y,B,r,H)}};v.HF.a0l=function(d,W,c,y,B,r,x,Z,i,k,H,V){var g=[d,W,c,1.2,1.2,1.2,0],N=[0,0,0,0],C=B[d],w=B[d+1],Y=B[W],U=B[W+1],e=B[c],O=B[c+1],l=Y-C,I=U-w,s=e-C,z=O-w,R=l*z-s*I+1e-9,t=1/R,a=Math.max(0,Math.min(x-1,y[d])),J=Math.max(0,Math.min(x-1,y[W])),F=Math.max(0,Math.min(x-1,y[c])),h=Math.max(0,Math.min(Z-1,y[d+1])),m=Math.max(0,Math.min(Z-1,y[W+1])),D=Math.max(0,Math.min(Z-1,y[c+1])),_=C<Y?C<e?d:c:Y<e?W:c,n=B[_+1]+.5,j=Math.max(0,Math.floor(Math.min(C,Y,e))),T=Math.min(k,Math.ceil(Math.max(C,Y,e))),L=Math.max(0,Math.floor(Math.min(w,U,O))),p=Math.min(H,Math.ceil(Math.max(w,U,O))),E=1e9;
for(var G=L;G<p;G++){var A=G>n&&E!=1e9?E:j;E=1e9;for(var u=A;u<T;u++){var q=u+.5-C,o=G+.5-w,M=(q*z-s*o)*t,$=(l*o-q*I)*t;
if(M>=0&&$>=0&&M+$<=1){if(E==1e9)E=u;var Q=1-M-$,kF=a*Q+J*M+F*$,P=h*Q+m*M+D*$;if(V){var bM=Math.floor(.5+P)*x+Math.floor(.5+kF),jW=bM<<2,fX=G*k+u<<2;
i[fX]=r[jW];i[fX+1]=r[jW+1];i[fX+2]=r[jW+2];i[fX+3]=r[jW+3]}else{v.D.a7q(kF,P,r,x,Z,N);v.HF.a7W(N,i,G*k+u<<2)}}else if(E!=1e9)break}}};
v.HF.a7W=function(d,W,c){if(d[3]>250){W[c]=~~(.5+d[0]);W[c+1]=~~(.5+d[1]);W[c+2]=~~(.5+d[2]);W[c+3]=~~(.5+d[3])}else{var y=W[c],B=W[c+1],r=W[c+2],x=W[c+3],Z=1-d[3]*(1/255);
W[c]=~~(.5+d[0]+y*Z);W[c+1]=~~(.5+d[1]+B*Z);W[c+2]=~~(.5+d[2]+r*Z);W[c+3]=~~(.5+d[3]+x*Z)}};v.HF.a3s=function(){var d=function(c,y,B,r){var x=r[0],Z=r[1],i=r[2],k=c[x+0],H=c[x+1],V=c[Z+0],g=c[Z+1],N=c[i+0],C=c[i+1],w=V-k,Y=g-H,U=N-k,e=C-H,O=y-k,l=B-H,I=w*e-U*Y,s=1/(I+1e-9),z=(O*e-U*l)*s,R=(w*l-O*Y)*s;
if(z>=0&&R>=0&&z+R<=1){r[3]=1-z-R;r[4]=z;r[5]=R;return 1}return 0},W=function(c,y,B,r){var x=[0,0,0,0,0,0];
for(var S=0;S<y.length;S+=3){x[0]=y[S]*2;x[1]=y[S+1]*2;x[2]=y[S+2]*2;if(d(c,B,r,x)==1)return!0}return!1};
return{a8x:d,aax:W}}();v.SS={};v.SS.a4N=function(d,W,c,y){d=d.slice(0);if(y)v.nP(y,d,3);else for(var S=0;
S<d.length;S+=4)d[S+3]=0;var B=v.R(W*c*4),r=!1;v.D._P(d,W,c,B,[c,W,0,1,0,1,0,0]);return[v.SS.w6(d,W,c,r),v.SS.w6(B,c,W,r)]};
v.SS.e=function(d,W){var c=!1,y=d[0],B=d[1],r=y[1],x=y[2],Z=y[3],i=W.m,k=W.i;if(x==i&&Z==k)r=r.slice(0);
else if(Z!=k){var H=v.R(x*k*4);v.SS.Df(B,k,H,c);r=v.R(x*k*4);v.D._P(H,k,x,r,[x,k,0,1,0,1,0,0]);if(x!=i){y=v.SS.w6(r,x,k,c);
r=v.R(i*k*4);v.SS.Df(y,i,r,c)}}else if(x!=i){r=v.R(i*Z*4);v.SS.Df(y,i,r,c)}for(var S=0;S<r.length;S+=4)r[S+3]=255;
return r};v.SS.w6=function(d,W,c,y){var B=Date.now(),r=new Uint16Array(W*c),k=1;v.SS.ayE(d,W,c,r);var x=v.R(W*c);
v.$P(d,x,3);for(var Z=0;Z<c;Z++)for(var i=0;i<W;i++)r[Z*W+i]+=Math.floor((65535-r[Z*W+i])*x[Z*W+i]*(1/255));
var H=Math.ceil(W/k),V=new Uint32Array(k),g=new Uint32Array(k),H=Math.floor(W/k);for(var N=0;N<k;N++)g[N]=N<k-1?H:W-(k-1)*H;
for(var Z=0;Z<c;Z++){var S=Z*W;for(var N=0;N<k;N++){var H=g[N];for(var i=0;i<H;i++)V[N]+=r[S+i];S+=H}}if(y){console.log(Date.now()-B,"cost");
B=Date.now()}var C=new Uint32Array(W),w=new Uint32Array(W),Y=new Uint32Array(W*c);for(var i=0;i<W;i++){Y[(c-1)*W+i]=r[(c-1)*W+i]}for(var Z=c-2;
Z>=0;Z--){var U=Z*W;for(var N=0;N<k;N++){var H=g[N];Y[U]=r[U]+Math.min(Y[U+W],Y[U+W+1]);for(var i=1;
i<H-1;i++){var S=U+i;Y[S]=r[S]+Math.min(Y[S+W-1],Math.min(Y[S+W],Y[S+W+1]))}U+=H-1;Y[U]=r[U]+Math.min(Y[U+W-1],Y[U+W]);
U++}}if(y){console.log(Date.now()-B,"Building M");B=Date.now()}function e(F,h){return F<h?F:h}function O(S,F){var h=w[S],m=Y[F],D=~~(h*m*1e-4);
return D}var l=new Uint8Array(W*c),I=new Uint32Array(W);for(var S=0;S<W;S++){C[S]=S;w[S]=r[S]}for(var Z=1;
Z<c;Z++){var s=0,U=Z*W;for(var N=0;N<k;N++){var H=g[N],S=U;I[s]=O(s,S);var z=I[s]+O(s+1,S+1),R=O(s,S+1)+O(s+1,S);
I[s+1]=e(z,R);for(var i=2;i<H;i++){var S=U+i,t=I[s+i-1]+O(s+i-1,S-1),a=I[s+i-2]+O(s+i-1,S-2)+O(s+i-2,S-1);
I[s+i]=e(t,a)}var i=H-1;while(i>=2){var S=U+i,t=I[s+i-1]+O(s+i-1,S-1),a=I[s+i-2]+O(s+i-1,S-2)+O(s+i-2,S-1);
if(I[s+i]==t){l[S-W]=1;i-=1}else{l[S-W]=0;l[S-W-1]=2;i-=2}}var S=U;if(i==0){l[S-W]=1}else{if(I[s+1]==z){l[S+1-W]=1;
l[S-W]=1}else{l[S+1-W]=0;l[S-W]=2}}U+=H;s+=H}v.SS.acE(Z,W,l,r,C,w,!0,B)}if(y){console.log(Date.now()-B,"Matching");
B=Date.now()}var J=r;return[UZIP.adler(d,0,d.length),d,W,c,k,g,V,C,w,l,J]};v.SS.Df=function(d,W,c,y){var B=d.slice(0),r=B.shift(),x=B.shift(),Z=B.shift(),i=B.shift(),k=B.shift(),H=B.shift(),V=B.shift(),g=B.shift(),N=B.shift().slice(0),C=B.shift(),w=B.shift(),Y=Date.now(),U=Math.abs(Z-W),e=Math.floor(U/k),O=new Uint32Array(k),I=0,s=1e9,R=0,t=0,a=0;
for(var l=0;l<k;l++)O[l]=l<k-1?e:U-(k-1)*e;w.fill(0);for(var z=0;z<Z;z++){I=Math.max(I,N[z]);s=Math.min(s,N[z])}for(var l=0;
l<k;l++){var J=H[l],e=O[l];for(var F=0;F<e;F++){var h=0,m=1e9;for(var z=0;z<J;z++)if(N[t+z]<m){m=N[t+z];
h=t+z}if(W<Z)N[h]=1e9;else N[h]*=1.2;if(a<Z/3)R+=m;var D=g[h],_=w[D],n=_<65280?65280:_+1;if(n<65280)throw"e";
for(var j=0;j<i;j++){var S=j*Z+D;w[S]=n;D+=C[S]-1}a++}t+=J}if(y){console.log(Date.now()-Y,"Removing best seams");
Y=Date.now()}function T(S,p){var E=S<<2,G=p<<2;c[E]=x[G];c[E+1]=x[G+1];c[E+2]=x[G+2];c[E+3]=x[G+3]}for(var j=0;
j<i;j++){var L=0,S=j*Z;for(var z=0;z<W;z++,L++){if(W<Z){while(w[S+L]==65280)L++;T(j*W+z,j*Z+L)}else{T(j*W+z,j*Z+L);
while(w[S+L]>=65280){w[S+L]--;z++;T(j*W+z,j*Z+L)}}}}if(y){console.log(Date.now()-Y,"Shifting image pixels");
Y=Date.now()}};v.SS.acE=function(d,W,c,y,B,r){var x=0,S=d*W;while(x<W){if(c[S-W]==1){r[x]=r[x]+y[S];
x++;S++}else{var Z=B[x];B[x]=B[x+1];B[x+1]=Z;var i=r[x];r[x]=r[x+1]+y[S];r[x+1]=i+y[S+1];x+=2;S+=2}}};
v.SS.ayE=function(d,W,c,y){function B(d,S,i){var V=S<<2,g=i<<2,N=d[V]-d[g],C=d[V+1]-d[g+1],w=d[V+2]-d[g+2];
return Math.abs(N)+Math.abs(C)+Math.abs(w)}for(var r=1;r<W;r++){var x=B(d,r,r-1);y[r-1]+=x;y[r]+=x}for(var Z=1;
Z<c;Z++){var i=Z*W,x=B(d,i,i-W);y[i]+=x;y[i-W]+=x;for(var r=1;r<W;r++){var S=Z*W+r,k=B(d,S,S-1),H=B(d,S,S-W);
y[S-W]+=H;y[S-1]+=k;y[S]+=H+k}}for(var Z=0;Z<c;Z++){y[Z*W]*=2;y[Z*W+W-1]*=2}for(var S=0;S<y.length;S++)if(y[S]==0)y[S]=1};
v.$k=function(){function d(){return 1953e6+Math.floor(Math.random()*999999)}function W(m,D){var _=D[0]-m[0],n=D[1]-m[1];
return _*_+n*n}function c(m,D,_,n,j,T,L,p){var E=_-m,G=n-D,A=v.A.aD(m,D,E,G,j,T,L-j,p-T),u=[m+A*E,D+A*G],q=A>0?[[[m,D],u,!1,0,1],[[j,T],u,!1,0,5]]:[[[_,n],u,!1,0,1],[[L,p],u,!1,0,5]];
return q}function y(m,D){var _=c(m[0],m[1],m[2],m[3],m[6],m[7],m[4],m[5]),n=c(m[0],m[1],m[6],m[7],m[2],m[3],m[4],m[5]),j=[_,n],T=[_[0][1],n[0][1]];
for(var S=0;S<2;S++){var L=T[1-S],p=j[S];if(W(p[0][0],L)<W(p[1][0],L)){var E=p[0];p[0]=p[1];p[1]=E}}var G=[d(),0,-1,0,[0,0],_[0],_[1],n[0],n[1]],A=I(G,D),u=A[1][0];
G[3]=u;G[4]=A[0][u];G[5][3]=G[6][3]=A[0].indexOf(G[5][1]);G[7][3]=G[8][3]=A[0].indexOf(G[7][1]);if((G[6][3]+1)%3!=G[7][3]){var E=G[5];
G[5]=G[7];G[7]=E;var E=G[6];G[6]=G[8];G[8]=E}for(var S=0;S<4;S++)G[5+S][4]=[1,5,7,3][S];return G}function B(m){var D=m[5],_=m[8],n=m[6],j=D[0],T=_[0],L=n[0],p=D[1],E=_[1],G=T[0],A=T[1],u=E[0]-G,q=E[1]-A,o=v.A.aD(G,A,u,q,L[0],L[1],p[0]-L[0],p[1]-L[1]);
return[j[0],j[1],G,A,G+o*u,A+o*q,L[0],L[1]]}function r(m,D){return m[0]==D[0]&&m[1]==D[1]}function x(m){return{1:0,5:1,7:2,3:3}[m]}function Z(m,D,_){var n=D[5+x(m)],j=n[1],T=n[0][0]-j[0],L=n[0][1]-j[1],p=Math.sqrt(T*T+L*L);
T/=p;L/=p;for(var E=0;E<_.length;E++){var G=_[E];if(G[0]!=D[1]&&G[1]!=D[0])continue;for(var S=0;S<4;
S++){var A=G[5+S],u=A[0];if(!r(j,A[1]))continue;var q=u[0]-j[0],o=u[1]-j[1];p=Math.sqrt(q*q+o*o);q/=p;
o/=p;var M=q*T+o*L;if(Math.abs(M-1)<1e-7)return!0}}return!1}function i(m,D){v.D.e(m,D);return D}function k(m,D){var _=[];
for(var n=0;n<m.length;n++){var j=m[n],T=j[1];for(var L=0;L<T.length;L++){if(D&&D[n].indexOf(L)==-1)continue;
var p=T[L],E=[],G=v.D.bO(B(p),new a8(0,0,1,1));for(var S=1;S<=7;S+=2){E[S]=Z(S,p,T)}if(!E[1]){if(!E[7])_.push([i(G,[0,0]),n,L,0]);
_.push([i(G,[.5,0]),n,L,1])}if(!E[3]){if(!E[1])_.push([i(G,[1,0]),n,L,2]);_.push([i(G,[1,.5]),n,L,3])}if(!E[5]){if(!E[3])_.push([i(G,[1,1]),n,L,4]);
_.push([i(G,[.5,1]),n,L,5])}if(!E[7]){if(!E[5])_.push([i(G,[0,1]),n,L,6]);_.push([i(G,[0,.5]),n,L,7])}}}return _}function H(m){var D=m.length-2,_=0;
for(var S=0;S<D;S+=2)_+=(m[S+2]-m[S])*(m[S+1]+m[S+3]);_+=(m[0]-m[D])*(m[D+1]+m[1]);return-_*.5}function V(m,D,_,n){}function g(m,S){var D=m[S+2&7]-m[S&7],_=m[S+3&7]-m[S+1&7],n=1/Math.sqrt(D*D+_*_);
return[D*n,_*n]}function N(m){var D=m[2];m[2]=m[6];m[6]=D;var D=m[3];m[3]=m[7];m[7]=D}function C(m,D,_,n){if(n==null)n=0;
var j=D[1],T=B(D),o=null,M,P,bM,ip,aW,q,kN;if(j==0){if(H(T)<0)N(T);var L=6,p=T[7]+T[1];for(var S=0;S<6;
S+=2){var E=T[S+1]+T[S+3];if(E<p){p=E;L=S}}T=T.slice(L).concat(T.slice(0,L));var G=X.JH.zB(T,_[0],_[1]),A=Math.sqrt(W(T,T.slice(2))),u=Math.sqrt(W(T.slice(4),T.slice(6))),q=(A+u)*.5;
return[T,new a8(0,0,q,q/G)]}for(var S=0;S<m.length&&o==null;S++){M=m[S][1];for(var $=0;$<M.length&&o==null;
$++)if(M[$][0]==j)o=M[$]}var Q=C(m,o,_,n+1),kF=Q[0];Q=Q[1];for(var S=0;S<8;S+=2){var jW=kF[S&7],fX=kF[S+1&7],bX=kF[S+2&7],ao=kF[S+3&7];
for(var $=0;$<8;$+=2){var en=T[$],fK=T[$+1],bO=T[$+2&7],b9=T[$+3&7],bK=Math.abs(v.A.BV(jW,fX,bX,ao,en,fK))+Math.abs(v.A.BV(jW,fX,bX,ao,bO,b9));
if(bK<=30){P=$;bM=S}}}var f0=g(kF,bM),hn=g(T,P),hX=f0[0]-hn[0],gR=f0[1]-hn[1],ib=hX*hX+gR*gR;if(ib<.001){N(T);
P={0:6,2:4,4:2,6:0}[P]}while(P!=(bM+4&7)){T.unshift(T.pop());P=P+1&7}var G=X.JH.zB(T,_[0],_[1]),gU=v.D.bO(kF,Q);
gU=v.D.QE(gU);var hq=[T[P],T[P+1],T[P+2&7],T[P+3&7]];v.D.e(gU,hq);var hW=v.A.c7(hq);if(bM==0||bM==4){q=hW.m;
kN=q/G;ip=hW.x;aW=hW.y+(bM==0?-kN:0)}else{kN=hW.i;q=kN*G;aW=hW.y;ip=hW.x+(bM==6?-q:0)}return[T,new a8(ip,aW,q,kN)]}function w(m,D){function _(u,q,o,M){var $=i(u,[q,o]);
$.push(M);return $}var n=[];for(var j=0;j<m.length;j++){var T=m[j],L=T[1];for(var p=0;p<L.length;p++){var E=L[p],G=C(m,E,D),A=G[0],u=v.D.bO(A,new a8(0,0,1,1));
n.push(_(u,.5,0,1));n.push(_(u,1,.5,3));n.push(_(u,.5,1,5));n.push(_(u,0,.5,7));n.push(_(u,.5,.5,[G?(G[1].m/G[1].i).toFixed(2):""].join(", ")))}}return n}function Y(m,D,_,n){var j=[D],T=[D];
while(!0){var L=[];for(var S=0;S<m.length;S++){var p=m[S],E=!1;for(var G=0;G<j.length;G++){if(p[1]==m[j[G]][0]||p[0]==m[j[G]][1])L.push(S)}}var A=j.length;
for(var S=0;S<L.length;S++){var u=L[S],p=m[u];if(T.indexOf(u)!=-1)continue;T.push(u);var q=C([[10,m]],p,n);
if(q[1].rC(_))j.push(u)}if(A==j.length)break}return j}function U(m,D,_){var n=_[0],j=_[1],T=D.x-m[0],L=D.y-m[1],p=v.A.aD(m[0],m[1],T,L,j[0],j[1],n[0]-j[0],n[1]-j[1]);
return[m[0]+p*T,m[1]+p*L]}function e(m,D,_){m=JSON.parse(JSON.stringify(m));var n=m[D[1]][1][D[2]],j=D[3]>=8,T=D[3]&7;
if((T&1)==0)return m;var L=x(T);if(T==1||T==7){var p=n[5+L],E=n[5+2-L],G=n[5+(T==1?3:1)],A=n[5+(T==1?1:3)],u=p[1],q=U(u,_,E);
if(!j&&W(q,E[1])<W(A[0],E[1]))return m;p[0]=E[0]=q;G[0]=U(u,_,G)}else{var G=n[5+L],u=G[1],p=n[5+(T==3?0:2)],q=U(u,_,p);
if(!j&&W(q,p[1])>W(p[0],p[1]))return m;if(Math.sign(p[1][0]-p[0][0])!=Math.sign(p[1][0]-q[0]))return m;
G[0]=q}return m}function O(m,D,_){var n=D[0]-m[0],j=D[1]-m[1],T=v.A.aD(_[0],_[1],-j,n,m[0],m[1],n,j);
return[_[0]-j*T,_[1]+n*T]}function l(m,D,_){var n=_[0],j=_[1],i=O(m,D,_),T=i[0],L=i[1],p=O(m,_,D),E=v.A.aD(T,L,n-T,j-L,D[0],D[1],p[0]-D[0],p[1]-D[1]);
return[T+(n-T)*E,L+(j-L)*E]}function I(m,D){var _=m[5][1],n=m[7][1],j=l(_,n,D),T=[_,n,j];T.sort(function(E,G){return E[0]-G[0]});
if(H([T[0][0],T[0][1],T[1][0],T[1][1],T[2][0],T[2][1]])<0){var L=T[1];T[1]=T[2];T[2]=L}var p=[T.indexOf(_),T.indexOf(n),T.indexOf(j)];
return[T,p]}function s(m,D,_){m=JSON.parse(JSON.stringify(m));var n=D[1],j=m[n][1][D[2]],T=D[3];if((T&1)!=1)return m;
var L=I(j,_),p=L[1][2],E=L[0][p],G=JSON.parse(JSON.stringify(j));m[n][1].push(G);G[0]=d();G[1]=j[0];
G[2]=-10+T;G[3]=p;G[4]=E;if(T==1||T==5){G[7][3]=G[8][3]=p;G[7][1]=G[8][1]=E;if(T==5){G[5][0]=G[7][0]=j[6][0];
G[8][0]=B(j).slice(4,6)}}else{G[5][3]=G[6][3]=p;G[5][1]=G[6][1]=E;if(T==3){G[5][0]=G[7][0]=j[8][0];G[6][0]=B(j).slice(4,6)}}return m}function z(m,D,_){m=JSON.parse(JSON.stringify(m));
var n=D[1],j=m[n][1][D[2]],T=j[2]+10,L=T+4&7,p=T==1||T==5,E=j[5+x(p?7:1)][1],G=j[5+x(L)][0],A=j[5+x(T)][0];
j[2]=(p?90:0)+(W(G,E)<W(A,E)?180:0);var u=y(B(j),_);for(var S=5;S<9;S++)j[S]=u[S];return m}function R(m,D,_){var bd=m.length>>1,n,j=m[2*bd-3]-_,T=m[2*bd-2]-D,L=m[2*bd-1]-_,p=!1,E=0;
for(var S=0;S<bd;S++){n=T;j=L;T=m[2*S]-D;L=m[2*S+1]-_;if(j==L)continue;p=L>j}for(var S=0;S<bd;S++){n=T;
j=L;T=m[2*S]-D;L=m[2*S+1]-_;if(j<0&&L<0)continue;if(j>0&&L>0)continue;if(n<0&&T<0)continue;if(j==L&&Math.min(n,T)<=0)return!0;
if(j==L)continue;var G=n+(T-n)*-j/(L-j);if(G==0)return!0;if(G>0)E++;if(j==0&&p&&L>j)E--;if(j==0&&!p&&L<j)E--;
p=L>j}return(E&1)==1}function t(m,D,_,n,j){var T=null;for(var L=0;L<m.length;L++){var p=m[L][1];for(var E=0;
E<p.length;E++){var G=B(p[E]);if(R(G,D,_)||j&&j[0]==L&&j[1]==E&&T==null){T=[L,E];if(n){var A=C(m,p[E],n),u=v.D.bO(A[0],A[1]),q=[D,_];
u=v.D.QE(u);v.D.e(u,q);T.push(q)}}}}return T}function a(m,D){for(var _=0;_<m.length;_++){var n=m[_][1],j=D[_];
if(j.length==0)continue;var T=J(n,j);for(var L=0;L<n.length;L++){if(T.indexOf(n[L][0])!=-1){n.splice(L,1);
L--}}}for(var _=0;_<m.length;_++)if(m[_][1].length==0){m.splice(_,1);_--}return m}function J(m,D){var _=[];
for(var S=0;S<10;S++)for(var n=0;n<m.length;n++){var j=m[n];if(D.indexOf(n)!=-1||_.indexOf(j[1])!=-1)if(_.indexOf(j[0])==-1)_.push(j[0])}return _}function F(m){var D=K.xA(m,0,m.length),_=D.split("\n").slice(1);
function n(){return parseFloat(_.shift())}function j(){var en=[n(),n()];T(1);return en}function T(bd){for(var S=0;
S<bd;S++)_.shift()}var L=[],p=n();for(var E=0;E<p;E++){var G=n(),A=n(),u=[];L.push([G,u]);for(var q=0;
q<A;q++){var o=n(),M=n(),$=n(),Q=n(),kF=j(),P=[o,M,$,Q,kF];u.push(P);for(var S=0;S<4;S++){var bM=j(),jW=j(),fX=n()==1,bX=n(),ao=n();
P.push([bM,jW,fX,bX,ao])}}}return L}function h(m){function D(A){_.push(A[0],A[1],"")}var _=["tNaF203"];
_.push(m.length);for(var n=0;n<m.length;n++){_.push(m[n][0]);var j=m[n][1];_.push(j.length);for(var T=0;
T<j.length;T++){var L=j[T];_.push(L[0],L[1],L[2],L[3]);D(L[4]);for(var S=0;S<4;S++){var p=L[5+S];D(p[0]);
D(p[1]);_.push(p[2]?1:0,p[3],p[4])}}}var E=_.join("\n"),G=new Uint8Array(E.length);K.sv(G,0,E);return G}return{Nr:F,Fm:h,aeB:B,afZ:y,vE:k,a1z:e,bu:w,a0f:function(m,D){return D&&(D[3]&1)==0&&m[D[1]][1].length==1},cs:function(m,D){return D&&(D[3]&1)==1},Jr:C,axV:s,a1q:z,a4t:a,O0:J,Im:t,TX:Y}}();
v.asq=function(){var d=0,W=0,y=15,r=256;function c(H,V,g,N,C,w){var Y=(C-1)*V,U=w*V;return H[U+N]-H[U+g-1]-H[Y+N]+H[Y+g-1]}var B=Math.round(y/8),x=[];
function Z(H,V){for(var g=0;g<V.length;g++){var N=V[g],C=0,w=0,Y=H[N.TD],U=Y.jE,e=Y.Kp,O=Y.fn;for(var l=-y;
l<=y;l++)for(var I=-y;I<=y;I++){var s=I+N.auF,z=l+N.aBK;if(I*I+l*l>y*y||s<0||z<0||s>=e||z>=e)continue;
var R=U[z*e+s];C+=I*R;w+=l*R}N.KG=Math.atan2(w,C)}}function i(H,V,g,N,C){var w=~~(H+.5),Y=~~(V+.5);return c(g,N,w-B,w+B,Y-B,Y+B)}function k(H,V,g,N,C){d=N;
W=C;if(x.length==0){var w=new v.l.kl(16200817),O=8,l=0;function Y(kF){var a=kF[0]-kF[2],J=kF[1]-kF[3];
return a*a+J*J}function U(){var kF=0,P=0;while(kF===0)kF=w.get();while(P===0)P=w.get();return Math.sqrt(-2*Math.log(kF))*Math.cos(2*Math.PI*P)}var e=U,I=[];
while(l!=r){var s=Math.max(-y,Math.min(y,e()*O)),z=Math.max(-y,Math.min(y,e()*O)),R=Math.max(-y,Math.min(y,e()*O)),t=Math.max(-y,Math.min(y,e()*O)),a=s-R,J=z-t,F=Math.sqrt(a*a+J*J);
if(F<3||F>12)continue;x.push(s,z,R,t);l++}}var h=20;for(var m=0;m<V.length;m++){var D=V[m],_=H[D.TD],n=_.a2,g=_.jE,N=_.Kp,C=_.fn,j=D.auF,T=D.aBK,L=D.KG,p=Math.cos(L),E=Math.sin(L),G=new Uint8Array(r>>>3);
D.i9=G;for(var S=0;S<r;S++){var A=S*4,s=x[A+0],z=x[A+1],R=x[A+2],t=x[A+3],u=p*s-E*z,q=E*s+p*z,o=p*R-E*t,M=E*R+p*t,$=i(j+u,T+q,n,N,C),Q=i(j+o,T+M,n,N,C);
G[S>>>3]|=($<Q?0:1)<<(S&7)}}}return{a8Y:Z,a2J:k}}();v.arJ=function(){function d(W,c){var y=[[9]],B=Date.now(),r=[];
for(var x=0;x<W.length;x++){var Z=W[x],i=Z.a2,k=Z.Kp,H=Z.fn,N=9,O=1,D=24;if(i==null)continue;var V=new Float32Array(k*H),g=new Uint8Array(k*H),C=N>>>1,w=C>>>1,Y=Math.round(N/3);
if(Y!=N/3)throw"e";var U=1/(N*N),e=1.2*(N/9);for(var l=C+1;l<H-C;l+=O)for(var I=C+1;I<k-C;I+=O){var s=v.EJ(i,k,I-w,I+w,l-C,l+C)-3*v.EJ(i,k,I-w,I+w,l-C+Y,l+C-Y),z=v.EJ(i,k,I-C,I+C,l-w,l+w)-3*v.EJ(i,k,I-C+Y,I+C-Y,l-w,l+w),R=I-C+1,t=I+C-1,a=l-C+1,J=l+C-1,F=v.EJ(i,k,R,I-1,a,l-1)+v.EJ(i,k,I+1,t,l+1,J)-v.EJ(i,k,I+1,t,a,l-1)-v.EJ(i,k,R,I-1,l+1,J),h=(z*s-.9*F*(.9*F))*(U*U);
V[l*k+I]=Math.abs(h);g[l*k+I]=h<0?0:1}var m=k*O;for(var l=D;l<H-D;l+=O)for(var I=D;I<k-D;I+=O){var S=l*k+I,_=V[S];
if(_<16)continue;if(V[S-O]>=_||V[S+O]>=_)continue;if(V[S-m-O]>=_||V[S-m]>=_||V[S-m+O]>=_)continue;if(V[S+m-O]>=_||V[S+m]>=_||V[S+m+O]>=_)continue;
r.push({x:~~(I*Z.Y7+.5),y:~~(l*Z.Y7+.5),auF:I,aBK:l,TD:x,b:_,amI:g[S],Td:e})}}if(c!=null){r.sort(function(A,u){return u.b-A.b});
r=r.slice(0,c)}return r;var n=[];for(var S=0;S<r.length;S++){var j=!0,T=r[S];for(var L=0;L<r.length;
L++){var p=r[L];if(L!=S&&p.b>T.b&&(p.TD==T.TD+1||p.TD==T.TD-1)){var E=T.x-p.x,G=T.y-p.y;if(E*E+G*G<5){j=!1;
break}}}if(j)n.push(T)}console.log(r.length,n.length);return n}return{aoD:d}}();v.Hh={};v.Hh.atY=function(d){var W=d.length,c=v.Hh.ayr(d,!1),B=0,r=1;
throw"e";var y=[];for(var S=0;S<W;S++)y[S]=v.Hh.ayY(c[S]);var x=d[0][1],Z=v.Hh.match(c[B],c[r],y[r]);
console.log(Z.length);var i=Math.max(Math.min(Z.length,40),Z.length*.54);i=Math.min(i,200);var k=Z.slice(0,i),H=v.Uy.aDW(c[B],c[r],k,x.m,x.i),V=v.Uy.ayQ(H,[0,0,0],1),g=x.m/2,N=x.i/2,C=1/Math.max(g,N);
for(var S=0;S<1;S++){var w=k[S],Y=c[B][w[0]],U=c[r][w[1]],e=v.Uy.aoF(V,C*(Y.x-g),C*(Y.y-N),C*(U.x-g),C*(U.y-N))}var O=v.Uy.a6$(H,x),l=[];
for(var S=0;S<2;S++){var I=O[S],s=[I[0][0],I[0][1],I[0][2],I[1][0],I[1][1],I[1][2],I[2][0],I[2][1]],z=X.X._B(d[S],null,s);
l.push([z.buffer,z.rect])}return[v.Hh.a8B(l[0],l[1],c[B],c[r],k,H,O,x)]};v.Hh.dW=function(d,W){var c=d.length,y=!1,B=Date.now(),r=v.Hh.ayr(d,!1,1e4);
if(y)console.log("Descriptors ready",Date.now()-B);B=Date.now();for(var S=0;S<c;S++){var x=d[S][1];for(var Z=0;
Z<r[S].length;Z++){r[S][Z].x+=x.x;r[S][Z].y+=x.y}}if(y)console.log("shifted",Date.now()-B);B=Date.now();
var i=[];for(var S=0;S<c;S++)i[S]=v.Hh.ayY(r[S]);if(y)console.log("trees built",Date.now()-B);B=Date.now();
var k=[];for(var S=0;S<c-1;S++)for(var Z=S+1;Z<c;Z++){var H=v.Hh.match(r[S],r[Z],i[Z]);if(y)console.log("Matches found",S,Z,H.length);
H=H.slice(0,H.length>>>1);if(H.length<10)continue;var V=v.Hh.a3E(r[S],r[Z],H,2);k.push([S,Z,H,V])}k.sort(function(t,a){return a[2].length-t[2].length});
if(y)console.log("Matches found",Date.now()-B);B=Date.now();var g=[],N=new UnionFind(c);for(var S=0;
S<k.length;S++){var C=k[S],w=N.find(C[0]),Y=N.find(C[1]);if(w!=Y){g.push(C);N.link(w,Y)}}var U=[];for(var S=0;
S<c;S++)U[S]=[1,0,0,0,1,0,0,0];var e=[0],O=new Uint8Array(c);O[e[0]]=1;while(e.length!=0){var Y=e.pop(),V=U[Y],l=[];
for(var S=0;S<g.length;S++){var C=g[S],I=C[0],s=C[1];if(I==Y&&O[s]==0){U[s]=v.D.lU(V,C[3]);e.push(s);
O[s]=1}if(s==Y&&O[I]==0){U[I]=v.D.lU(V,v.D.QE(C[3]));e.push(I);O[I]=1}}}if(W==null){var z=[];for(var S=0;
S<c;S++)z.push([U[S][2],S]);z.sort(function(t,a){return t[0]-a[0]});W=z[z.length>>>1][1]}var R=v.D.QE(U[W]);
for(var S=0;S<c;S++)U[S]=v.D.lU(U[S],R);if(y)console.log("Transforms reordered",Date.now()-B);B=Date.now();
return U};v.Hh.ayr=function(d,W,c){var y=[],B=!1;for(var S=0;S<d.length;S++){var r=d[S][0],x=d[S][1],Z=x.m,i=x.i,k=v.R(x.P());
v.ou(r,k);var H=Date.now(),V=v.Hh.acg(k,x,!0);if(B)console.log("Pyramid built ---------------",Date.now()-H);
H=Date.now();var g=v.arJ.aoD(V,c);if(B)console.log("SURF Generation",Date.now()-H);H=Date.now();if(!W){v.asq.a8Y(V,g);
if(B)console.log("ORB Orientations",Date.now()-H);H=Date.now();v.asq.a2J(V,g,k,Z,i);if(B)console.log("ORB Descriptors",Date.now()-H);
H=Date.now()}y.push(g)}return y};v.Hh.acg=function(d,W,c){var y=[],B=[d,W];v.UC(B);if(c){var r=v.aiF(d,W),x=r.rect,Z=[r.Gq,x];
v.UC(Z)}for(var S=0;S<B.length;S++){var i=B[2*S],k=B[2*S+1],H=k.m,V=k.i,g=Math.min(H,V);if(g<30)break;
if(g<1600)y.push({jE:i,Kp:H,fn:V,Y7:1<<S,a2:v.fD(i,H,V)});if(!c)continue;var i=Z[2*S],k=Z[2*S+1],H=k.m,V=k.i,g=Math.min(H,V);
if(g<30)break;if(g<1600)y.push({jE:i,Kp:H,fn:V,Y7:(1<<S)*3/2,a2:v.fD(i,H,V)})}return y};v.Hh.a3E=function(d,W,c,y){var B=Date.now(),r,x=0,Z=0,i=c.length,k=new Float64Array(2);
for(var H=0;H<3e3;H++){var V=~~(Math.random()*i),g=~~(Math.random()*i),N=~~(Math.random()*i),C=~~(Math.random()*i),m=0,D=0;
if(V==g||V==N||V==C||g==N||g==C||N==C)continue;var w=c[V],Y=c[g],U=c[N],e=c[C],O=d[w[0]],l=W[w[1]],I=d[Y[0]],s=W[Y[1]],z=d[U[0]],R=W[U[1]],t=d[e[0]],a=W[e[1]],J=[O.x,O.y,I.x,I.y,z.x,z.y,t.x,t.y],F=[l.x,l.y,s.x,s.y,R.x,R.y,a.x,a.y],h=v.D.ag0(J,F);
if(h[0]==0&&h[1]==0&&h[3]==0&&h[4]==0)continue;var _=i-x+2;for(var S=0;S<i&&S-m<_;S++){var n=d[c[S][0]],j=W[c[S][1]];
v.D.Pp(j.x,j.y,h,k);var T=k[0]-n.x,L=k[1]-n.y,p=T*T+L*L;if(p<y){m++;D+=p}}if(m>x||m==x&&D<Z){r=h;x=m;
Z=D}}return r};var i$=new Uint8Array(256);for(var S=0;S<256;S++){var bU=0,bd=S;while(bd!=0){bd=bd&bd-1;
bU++}i$[S]=bU}v.Hh.a7_=function(d,W,c){var y=0,B=d.length;for(var S=0;S<B&&y<c;S++)y+=i$[d[S]^W[S]];
return y};v.Hh.adj=function(d,W,c,top,y){if(y[c]==1)return;var B=v.Hh.a7_(d.i9,W.i9,top[0]);if(B<top[0]){if(B<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=B;top[3]=c}else{top[0]=B;top[1]=c}}y[c]=1};v.Hh.ayY=function(d){var W=[],c=[],y=[[],[]],B=4;
for(var S=0;S<d.length;S++)(d[S].amI==0?W:c).push(S);for(var r=0;r<2;r++){var x=new Array(B),Z=[],i=r==0?W:c,k=i.length/256,H=[];
for(var V=0;V<32;V++){var g=new Array(256),w=0;for(var N=0;N<256;N++)g[N]=[];for(var N=0;N<i.length;
N++){var C=i[N];g[d[C].i9[V]].push(C)}for(var N=0;N<256;N++)w+=Math.abs(g[N].length-k);H.push([w,V,g])}H.sort(function(Y,U){return Y[0]-U[0]});
var Z=[],x=[];y[r]=[Z,x];for(var S=0;S<B;S++){Z.push(H[S][1]);x.push(H[S][2])}}return y};v.Hh.match=function(d,W,c){var y=[],B=new Uint16Array(W.length);
B.fill(65535);var r=new Uint8Array(W.length),top=new Uint32Array(4),x=[];for(var Z=0;Z<d.length;Z++){var i=d[Z],k=i.i9;
top.fill(1e6);r.fill(0);var H=c[i.amI];for(var V=0;V<H[1].length;V++){var g=H[1][V][k[H[0][V]]];for(var N=0;
N<g.length;N++){var C=g[N];v.Hh.adj(i,W[C],C,top,r)}}if(top[2]<50&&top[2]<top[0]*.5){var w=B[top[3]];
if(w==65535){B[top[3]]=y.length;y.push([Z,top[3],top[2]])}else if(top[2]<y[w][2]){y[w]=[Z,top[3],top[2]]}}}y.sort(function(Y,U){return Y[2]-U[2]});
return y};v.Hh.aD0=function(d){var W=new a8;for(var S=0;S<d.length;S++)W=W.hB(d[S][1]);var c=v.R(W.P()*4);
for(var S=0;S<d.length;S++)v.l.Ip("norm",d[S][0],d[S][1],c,W,W,1);return[c,W]};v.Hh.a8B=function(d,W,c,y,B,r,x,Z){var i=d[1].clone(),k=i.clone();
i.x=i.y=0;var H=W[1].clone(),V=H.clone();H.x=H.y=0;H.x=i.m;var g=i.hB(H),N=V.y-k.y,C=v.R(g.P()*4);v.qR(d[0],i,C,g);
v.qR(W[0],new a8(H.x,H.y+N,H.m,H.i),C,g);var w=document.createElement("canvas");w.width=g.m;w.height=g.i;
var Y=w.getContext("2d");Y.lineWidth=.5;Y.putImageData(new ImageData(new Uint8ClampedArray(C.buffer),g.m,g.i),0,0);
if(r){var U=r[0],e=v.Fp.VT(U),O=i.m,l=Z.m;for(var S=0;S<B.length;S++){var I=B[S],d=c[I[0]],W=y[I[1]];
Y.strokeStyle="#"+"ff0000";Y.beginPath();var s=v.Uy.aeJ(e,x[0],W,0,l),z=v.Uy.aeJ(U,x[1],d,0,l);Y.moveTo(-k.x+s[0],-k.y+s[1]);
Y.lineTo(-k.x+s[2],-k.y+s[3]);Y.moveTo(O-V.x+z[0],-V.y+N+z[1]);Y.lineTo(O-V.x+z[2],-V.y+N+z[3]);Y.stroke()}}if(B){var R=B.length;
for(var S=0;S<R;S++){var I=B[S],d=c[I[0]],W=y[I[1]];Y.strokeStyle="#"+"ffff00"}}var t=new Uint8Array(Y.getImageData(0,0,g.m,g.i).data.buffer);
if(!1){for(var a=0;a<2;a++){var J=a==0?c:y,F=a*i.m;for(var S=0;S<J.length;S++){var h=J[S],m=~~h.x,D=~~h.y,_=(D*g.m+m+F)*4;
t[_+1]=t[_+2]=h.aiH*60;t[_+0]=0;t[_+3]=255}}}return[t,g]};v.stack={};v.stack.stack=function(d,W,c){var y=d.length,B=W.length;
if(y==1){W.set(d[0]);return}if(c=="avrg"||c=="stdv"||c=="summ"||c=="vari"){var r=1/y;for(var S=0;S<B;
S++){var x=0;for(var Z=0;Z<y;Z++)x+=d[Z][S];var i=~~(x*r+.5);if(c=="avrg"||(S&3)==3)W[S]=i;else if(c=="summ")W[S]=255*Math.pow(Math.min(255,x)*(1/255),1/2.4);
else{var k=0;for(var Z=0;Z<y;Z++){var H=d[Z][S]-i;k+=H*H}var V=Math.sqrt(k*r)*(1/255);if(c=="stdv")W[S]=255*Math.pow(V,1/2.4);
else W[S]=255*Math.pow(V*V,1/2.4)}}}else if(c=="maxx"){for(var S=0;S<B;S++){var g=0;for(var Z=0;Z<y;
Z++)g=Math.max(g,d[Z][S]);W[S]=g}}else if(c=="minn"){for(var S=0;S<B;S++){var g=255;for(var Z=0;Z<y;
Z++)g=Math.min(g,d[Z][S]);W[S]=g}}else if(c=="medn"||c=="rang"){var N=function(U,e){return U-e},C=new Array(y),w=0,Y=0;
if((y&1)==0){Y=y>>>1;w=Y-1}else{w=Y=y>>>1}for(var S=0;S<B;S++){for(var Z=0;Z<y;Z++)C[Z]=d[Z][S];C.sort(N);
if(c=="medn")W[S]=C[w]+C[Y]>>>1;else W[S]=(S&3)==3?C[y-1]:C[y-1]-C[0]}}else console.log(c)};v.sB={};
v.sB.ajX=function(d,W,c,y){var B=Date.now(),r=new Uint32Array(W*c),x=new Uint8Array(W*c);while(!0){x.fill(0);
r.fill(0);var Z=[],i=0;for(var k=0;k<c;k++){for(var H=0;H<W;H++){var S=k*W+H;if(x[S]==0){var V=Z.length,g=v.sB.uF(d,W,c,H,k,x,r,V);
Z.push([V,H,k,g[0],g[1],d[S]]);if(g[0]<y)i++}}}if(i==0)break;var N=Z.length,C=new UnionFind(N),w=[];
for(var S=0;S<N;S++)w.push([]);for(var S=0;S<N;S++){var g=Z[S],Y=g[4],U=0,e=0;if(g[3]>=y)continue;var V=g[0];
for(var O=0;O<Y.length;O+=2){var l=r[Y[O+1]*W+Y[O]],I=Z[l];if(I[3]>e){e=I[3];U=l}}if(C.find(V)!=C.find(U)){C.link(V,U);
w[V].push(U);w[U].push(V)}}var s=new Uint32Array(N);s.fill(4294967295);var z=new Uint32Array(N);for(var S=0;
S<N;S++){if(s[S]!=4294967295||w[S].length==0)continue;var R=[S],t=[S],a=S,J=Z[S][3];while(t.length!=0){var F=t.pop(),h=w[F];
for(var O=0;O<h.length;O++){var m=h[O];if(R.indexOf(m)==-1){R.push(m);t.push(m);var D=Z[m];if(D[3]>J){J=D[3];
a=m}}}}for(var O=0;O<R.length;O++){s[R[O]]=a;var _=Z[a];z[R[O]]=d[_[2]*W+_[1]]}}for(var k=0;k<c;k++)for(var H=0;
H<W;H++){var S=k*W+H,n=s[r[S]];if(n!=4294967295)d[S]=z[n]}}};v.sB.uF=function(d,W,c,y,B,r,x,Z){var i=[y,B],k=d[B*W+y],H=0,V=[];
r[B*W+y]=1;while(i.length!=0){var g=i.pop(),N=i.pop(),S=g*W+N;x[S]=Z;H++;if(g!=c-1)if(d[S+W]==k){if(r[S+W]==0){i.push(N,g+1);
r[S+W]=1}}else V.push(N,g+1);if(g!=0)if(d[S-W]==k){if(r[S-W]==0){i.push(N,g-1);r[S-W]=1}}else V.push(N,g-1);
if(N!=W-1)if(d[S+1]==k){if(r[S+1]==0){i.push(N+1,g);r[S+1]=1}}else V.push(N+1,g);if(N!=0)if(d[S-1]==k){if(r[S-1]==0){i.push(N-1,g);
r[S-1]=1}}else V.push(N-1,g)}return[H,V]};v.sB.aw2=function(d,W,c){var y=new Uint32Array(W*c);for(var S=0;
S<y.length;S++)y[S]=d[S];var B=[];for(var r=0;r<c;r++){for(var x=0;x<W;x++){var S=r*W+x,Z=y[S];if(Z<1e3){var i=v.sB.atb(y,W,c,x,r,1e3+B.length);
B.push([x,r,Z,i,0])}}}for(var S=0;S<y.length;S++)y[S]-=1e3;var k=new Float32Array(W*c);k.fill(W+c);for(var r=0;
r<c;r++)for(var x=0;x<W;x++){var S=r*W+x,Z=y[S];if(x==0||r==0||y[S-1]!=Z||y[S-W]!=Z)k[S]=0;else{var H=Math.min(k[S],k[S-1]+1,k[S-W]+1);
if(y[S-W-1]==Z)H=Math.min(H,k[S-W-1]+1.414);k[S]=H}}for(var r=c-1;r>=0;r--)for(var x=W-1;x>=0;x--){var S=r*W+x,Z=y[S];
if(x==W-1||r==c-1||y[S+1]!=Z||y[S+W]!=Z)k[S]=0;else{var H=Math.min(k[S],k[S+1]+1,k[S+W]+1);if(y[S+W+1]==Z)H=Math.min(H,k[S+W+1]+1.414);
k[S]=H}}for(var r=0;r<c;r++)for(var x=0;x<W;x++){var S=r*W+x,V=B[y[S]];if(k[S]>V[4]){V[4]=k[S];V[0]=x;
V[1]=r}}return B};v.sB.atb=function(d,W,c,y,B,r){var x=[y,B],Z=d[B*W+y],i=0;d[B*W+y]=4294967295;while(x.length!=0){var B=x.pop(),y=x.pop(),S=B*W+y;
i++;d[S]=r;if(B<c-1&&d[S+W]==Z){x.push(y,B+1);d[S+W]=4294967295}if(B>0&&d[S-W]==Z){x.push(y,B-1);d[S-W]=4294967295}if(y>0&&d[S-1]==Z){x.push(y-1,B);
d[S-1]=4294967295}if(y<W-1&&d[S+1]==Z){x.push(y+1,B);d[S+1]=4294967295}}return i};v.sB.ar4=function(d,W,c,y,B){var r=v.sB.a1v(d.buffer,W,c).oo,x=Date.now(),Z=[];
for(var S=0;S<r.length;S++){var i=r[S],k=1;for(var H=0;H<k;H++)Z.push(i.gp)}var V=new Uint32Array(Z),g=UPNG.quantize.getKDtree(new Uint8Array(V.buffer),y),N=[W,1,-W,-1,W+1,-W+1,-W-1,W-1,W+W,2,-W-W,-2,W+W-1,W+W+1,W+2,-W+2,-W-W+1,-W-W-1,-W-2,W-2,W+W+2,-W-W+2-W-W-2,W+W-2],C=new Uint8Array(W*c),w=d;
for(var Y=0;Y<c;Y++)for(var U=0;U<W;U++){var S=Y*W+U<<2,e=w[S]*(1/255),O=w[S+1]*(1/255),l=w[S+2]*(1/255),I=w[S+3]*(1/255),s=v.sB.YE(g,e,O,l,I,B);
if(s==null){var z=[],R=0;while(R<20){var t=Y*W+U+N[R]<<2,a=w[t]*(1/255),J=w[t+1]*(1/255),F=w[t+2]*(1/255),h=w[t+3]*(1/255),m=v.sB.YE(g,a,J,F,h,.005);
if(m!=null){if(z.indexOf(m)==-1){z.push(m);m.Nl=1}else m.Nl++}R++}z.sort(function(I,l){return l.Nl-I.Nl});
while(z.length!=0&&z[z.length-1].Nl<3)z.pop();if(z.length==0)s=v.sB.YE(g,e,O,l,I,100);else if(z.length==1)s=z[0];
else if(z.length==2){var D=z[0],_=z[1],n=D.est.q,j=_.est.q,T=j[0]-n[0],L=j[1]-n[1],p=j[2]-n[2],E=j[3]-n[3],G=e-n[0],A=O-n[1],u=l-n[2],q=I-n[3],o=T*T+L*L+p*p+E*E,M=G*G+A*A+u*u+q*q,$=(G*T+A*L+u*p+q*E)/o,Q=M-$*$*o;
if(Q<.5)s=$<.5?D:_;else{s=v.sB.YE(g,e,O,l,I,100)}}else{var D=z[0],_=z[1],kF=z[2],n=D.est.q,j=_.est.q,P=kF.est.q,bM=n[0]-P[0],jW=n[1]-P[1],fX=n[2]-P[2],bX=n[3]-P[3],ao=j[0]-P[0],en=j[1]-P[1],fK=j[2]-P[2],bO=j[3]-P[3],b9=P[0]-e,bK=P[1]-O,f0=P[2]-l,hn=P[3]-I,hX=bM*bM+jW*jW+fX*fX+bX*bX,gR=bM*ao+jW*en+fX*fK+bX*bO,ib=b9*bM+bK*jW+f0*fX+hn*bX,gU=bM*ao+jW*en+fX*fK+bX*bO,hq=ao*ao+en*en+fK*fK+bO*bO,ip=b9*ao+bK*en+f0*fK+hn*bO,aW=1/(gR*gU-hX*hq),$=(hq*ib-ip*gR)*aW,kN=(ip*hX-ib*gU)*aW,hW=1-$-kN,jH=Math.max($,kN,hW);
if(jH==$)s=D;else if(jH==kN)s=_;else s=kF}}C[S>>2]=s.ind}return{DP:C,oo:g[1]}};v.sB.a1v=function(d,W,c){var y=[],B={},r=W-1,x=c-1,Z=0,i=new Uint32Array(d),k=[-W-1,-W,-W+1,-1,1,W-1,W,W+1,W+W,2,-W-W,-2,W+W-1,W+W+1,W+2,-W+2,-W-W+1,-W-W-1,-W-2,W-2,W+W+2,-W-W+2-W-W-2,W+W-2];
for(var H=1;H<x;H++)for(var V=1;V<r;V++){var g=H*W+V,N=i[g],C=!0;for(var S=0;S<8;S++)C=C&&i[g+k[S]]==N;
if(C){Z++;var w=B[N];if(w==null){B[N]=y.length;y.push({gp:N,gP:1})}else y[w].gP++}}return{oo:y,ac9:Z}};
v.sB.YE=function(d,W,c,y,B,r){var x=UPNG.quantize.getNearest(d[0],W,c,y,B);return v.sB.a7T(x,W,c,y,B)<r?x:null};
v.sB.a7T=function(d,W,c,y,B){var r=d.est.q,x=W-r[0],Z=c-r[1],i=y-r[2],k=B-r[3];return x*x+Z*Z+i*i+k*k};
(function(){v.sB.ad=function(Z,i,k,H,V){var g=Z.UU,N=i*k,C=Z.Ub,w=Z.DP,Y=y(H,w,g,N),U=new UnionFind(g),z=0;
for(var e=1;e<k;e++)for(var O=1;O<i;O++){var S=e*i+O,l=w[S],I=0;if((I=w[S-1])!=l&&Y[I]==Y[l]&&d(C,0,l*6,I*6)<V)U.link(l,I);
if((I=w[S-i])!=l&&Y[I]==Y[l]&&d(C,0,l*6,I*6)<V)U.link(l,I)}var s=new Uint16Array(g);s.fill(65535);var R=new Uint16Array(g);
for(var S=0;S<g;S++){var t=U.find(S);if(s[t]==65535)s[t]=z++;R[S]=s[t]}var a=new Uint16Array(N);for(var S=0;
S<N;S++)a[S]=R[w[S]];return{DP:a,UU:z}};v.sB.EN=function(Z,i,k){var H=v.R(i),V=Z.length;for(var S=0;
S<V;S++){var g=k[S];if(g==0||g==255){var N=Z[S],C=2-(g>>>7),w=H[N]=H[N]|C;if(w==3)return N}}return-1};
function d(Z,i,k,H){var V=1/Z[k+5],g=1/Z[H+5],N=Z[k]*V-Z[H]*g,C=Z[k+1]*V-Z[H+1]*g,w=Z[k+2]*V-Z[H+2]*g,Y=Z[k+3]*V-Z[H+3]*g,U=Z[k+4]*V-Z[H+4]*g,e=Math.sqrt(N*N+C*C+w*w),O=Math.sqrt(Y*Y+U*U);
return~~(e+i*O+.5)}function W(Z,i){var S=0,k=Z.length;while(S!=k&&Z[S]!=i)S+=2;return S==k?-1:S}function c(Z,S){if(S==Z.length-2){Z.pop();
Z.pop()}else{Z[S+1]=Z.pop();Z[S]=Z.pop()}}v.sB.ak4=function(Z,i,k,H,V){var g=new Uint32Array(V*4400),N=[];
for(var S=0;S<V;S++)N.push([]);for(var C=0;C<k;C++)for(var w=0;w<i;w++){var S=C*i+w,Y=S<<2,U=H[S],e=0,O=Z[Y]>>>4,l=Z[Y+1]>>>4,I=Z[Y+2]>>>4;
g[U*4400+(O<<8|l<<4|I)]++;g[U*4400+4096]++;g[U*4400+4100+(O<<4|l)]++;g[U*4400+4360+O]++;if(w!=0&&(e=H[S-1])!=U&&W(N[U],e)==-1){N[U].push(e,0);
N[e].push(U,0)}if(C!=0&&(e=H[S-i])!=U&&W(N[U],e)==-1){N[U].push(e,0);N[e].push(U,0)}}for(var S=0;S<V;
S++){var I=N[S];for(var s=0;s<I.length;s+=2)I[s+1]=x(g,S,I[s])}return[g,N]};function y(Z,i,k,H){var V=v.R(k);
for(var S=0;S<H;S++){var g=Z[S];if(g==0||g==255)V[i[S]]=2-(g>>>7)}return V}v.sB.aez=function(Z,i,k,H,V,g,N){var C=i*k,w=N[0],Y=N[1],U=new UnionFind(H),e=y(V,Z,H,C),O=-1,l=!0,I=0;
for(var S=0;S<H;S++)if(e[S]==1){if(O==-1)O=S;else U.link(S,O)}if(O==-1){for(var S=0;S<C;S++)g[S]=V[S]==255?255:0;
return}while(l){while(l){l=!1;for(var S=0;S<H;S++){if(e[S]==0){var s=B(Y[S]);if(e[s]==1){e[S]=e[s];l=!0;
U.link(S,s)}}}}l=!0;I=0;while(l){l=!1;for(var S=0;S<H;S++){if(e[S]==0){var s=B(Y[S]);if(e[s]==0){var z=S*4400,R=s*4400;
for(var t=0;t<4400;t+=2){w[z+t]+=w[R+t];w[z+t+1]+=w[R+t+1]}r(Y,w,S,s);I++;e[s]=3;l=!0;U.link(S,s)}}}}l=I!=0}var a=U.find(O);
for(var S=0;S<H;S++)e[S]=U.find(S)==a?255:0;for(var S=0;S<C;S++){g[S]=e[Z[S]]}for(var S=0;S<C;S++){var s=V[S];
if(s==0||s==255)g[S]=s}};function B(Z){var i=0,k=0,H=Z.length;for(var V=0;V<H;V+=2){var g=Z[V+1];if(g>k){k=g;
i=V}}return Z[i]}function r(Z,i,k,H){var V=Z[k],g=Z[H];c(V,W(V,H));c(g,W(g,k));for(var S=0;S<g.length;
S+=2){var N=g[S],C=Z[N];c(C,W(C,H));if(W(C,k)==-1){C.push(k,0);V.push(N,0)}}for(var S=0;S<V.length;S+=2){var N=V[S],C=Z[N],w=x(i,k,N);
V[S+1]=w;C[W(C,k)+1]=w}}function x(Z,i,k){var H=0,V=4096,g=i*4400,N=k*4400;for(var C=0;C<16;C++){if(Z[g+4360+C]==0||Z[N+4360+C]==0)continue;
for(var w=0;w<16;w++){var Y=C<<4|w;if(Z[g+4100+Y]==0||Z[N+4100+Y]==0)continue;var U=g+(Y<<4),e=N+(Y<<4);
for(var S=0;S<16;S++)H+=Math.sqrt(Z[U+S]*Z[e+S])}}var O=H/Math.sqrt(Z[g+V]*Z[N+V]);return~~(999.99999*O)}}());
v.sB.KP=function(){var d,W,c,x=0,Z=0;function y(N,C,w){var Y=[],U=w,e=w,O=w>>>2;for(var l=0;l<C;l++)for(var I=0;
I<N;I++){var s=~~((I+.5)*U),z=~~((l+.5)*e),R=1e9,t=Math.max(0,s-O),a=Math.min(W,s+O+1),J=Math.max(0,z-O),F=Math.min(c,z+O+1);
for(var h=J;h<F;h++)for(var m=t;m<a;m++){var D=B(m,h);if(D<R){s=m;z=h;R=D}}Y.push(s,z)}return Y}function B(N,C){var w=(C*W+N)*4,Y=W*4,U=r(w-4,w)+r(w,w+4),e=r(w-Y,w)+r(w,w+Y);
return U+e}function r(N,C){var w=d[N]-d[C],Y=d[N+1]-d[C+1],U=d[N+2]-d[C+2];return w*w+Y*Y+U*U}function i(N,C,w,Y){Z++;
if(Y<x)x=Y;N[Y].push(C,w)}function k(N){Z--;while(N[x].length==0)x++}function H(N,C,w,Y,U){var e=(w*W+C)*4,O=Y[U+5],l=1/O,I=d[e]*O-Y[U],s=d[e+1]*O-Y[U+1],z=d[e+2]*O-Y[U+2],R=C*O-Y[U+3],t=w*O-Y[U+4],a=Math.sqrt(I*I+s*s+z*z),J=Math.sqrt(R*R+t*t);
return~~((a+N*J)*l+.5)}function V(N,C,w,Y,U){d=N;W=C;c=w;x=0;Z=0;var e=W*c,O=Math.round(Math.min(W,c)/(Y?Y:30));
if(O==0)O=1;var l=(U?U:30)/O,I=Math.floor(W/O),s=Math.floor(c/O),z=new Uint16Array(e);for(var S=0;S<e;
S++)z[S]=65535;var R=y(I,s,O),t=R.length>>>1;if(t>65535)throw t;var a=new Uint32Array(t*6),J=[];for(var S=0;
S<1e3+c;S++)J.push([]);var F=1e3*700/(W*c),h=Math.floor(s*F);h=Math.min(s,Math.max(4,h));h=s;var a=new Uint32Array(t*6);
for(var m=0;m<s;m+=h){var D=Math.min(m+h,s);for(var _=m;_<D;_++)for(var n=0;n<I;n++){var S=_*I+n;i(J,R[S*2+1]<<16|R[S*2],S,0)}var j=Math.min(c,D*O);
if(m+h>=s)j=c;g(a,J,z,l,j)}d=null;return{DP:z,UU:t,Ub:a,ahl:l}}function g(N,C,w,Y,U){while(Z!=0){k(C);
var e=C[x].pop(),O=C[x].pop(),l=O>>>16,I=O&65535,S=l*W+I;if(w[S]==null)throw"e";if(w[S]==65535){var s=e*6,z=S<<2;
w[S]=e;N[s]+=d[z];N[s+1]+=d[z+1];N[s+2]+=d[z+2];N[s+3]+=I;N[s+4]+=l;N[s+5]++;if(l!=U-1&&w[S+W]==65535)i(C,l+1<<16|I,e,H(Y,I,l+1,N,s));
if(l!=0&&w[S-W]==65535)i(C,l-1<<16|I,e,H(Y,I,l-1,N,s));if(I!=0&&w[S-1]==65535)i(C,l<<16|I-1,e,H(Y,I-1,l,N,s));
if(I!=W-1&&w[S+1]==65535)i(C,l<<16|I+1,e,H(Y,I+1,l,N,s))}}}V._s=function(N,C,w,Y,U,e){d=N;W=C;c=w;var O=Y.UU=Y.UU+1,l=Y.DP,I=Y.Ub,s=Y.Ub=new Uint32Array(O*6);
s.set(I,0);var z=l[U[1]*W+U[0]];for(var S=0;S<l.length;S++)if(l[S]==z)l[S]=65535;for(var S=0;S<6;S++)s[z*6+S]=0;
var R=[];for(var S=0;S<1e3+c;S++)R.push([]);for(var S=0;S<U.length;S+=2)i(R,U[S+1]<<16|U[S],z,0);for(var S=0;
S<e.length;S+=2)i(R,e[S+1]<<16|e[S],O-1,0);g(s,R,l,Y.ahl,c);d=null};return V}();v.auu={};v.auu.axB=function(){var d=11,W=7,c=d>>>1,bd=W>>>1,y=2,B=2e3/y,r=[],Z=null,i="";
function x(H,V,g){var N=(H[V+0]-H[g+0])*(1/255),C=(H[V+1]-H[g+1])*(1/255),w=(H[V+2]-H[g+2])*(1/255),Y=(H[V+3]-H[g+3])*(1/255),U=N*N*.125+C*C*.25+w*w*.5+Y*Y;
return r[~~(U*B)]}function k(H,V,g,N,C,w){var Y=Date.now(),U=v.R(V*g);v.ou(H,U);var e=UZIP.adler(U,0,V*g);
if(e!=i){var O=v.fD(U,V,g);Z=v.R(V*g*4);i=e;var l=[1,1/9,1/25,1/49,1/81];for(var I=0;I<g;I++)for(var s=0;
s<V;s++)for(var S=0;S<4;S++){var z=Math.max(1,s-S),R=Math.min(V-1,s+S),t=Math.max(1,I-S),a=Math.min(g-1,I+S),J=v.EJ(O,V,z,R,t,a);
if(isNaN(J))throw s+","+I+","+S+","+J;Z[(I*V+s)*4+S]=J*l[S]}}if(d1.ZV){var F=d1._V(0,V,g);F.set(H);var h=d1._V(1,V,g);
h.set(Z);var m=d1._V(2,V,g);d1.QO(m);d1.filter.SF({type:d1.filter.ais,ci:new Float32Array([1/V,1/g]),aa_:h.yd,ahC:C,aje:w},F.yd);
m.get(N)}else{for(var S=0;S<2e3;S++)r[S]=Math.exp(-(S/2e3)*y*(100+(1-C)*(1-C)*1e4));var D=bd+2;for(var I=D;
I<g-D;I++)for(var s=D;s<V-D;s++){var _=0,n=0,j=0,T=0;for(var L=0;L<d;L++)for(var p=0;p<d;p++){var E=s+p-c,G=I+L-c;
if(E==s&&G==I||E<D||G<D||E>=V-D||G>=g-D)continue;var A=x(Z,(I*V+s)*4,(G*V+E)*4),u=G*V+E<<2;_+=A*H[u+0];
n+=A*H[u+1];j+=A*H[u+2];T+=A}if(T==0){continue}var q=1/T,o=(I*V+s)*4;N[o+0]=~~((1-w)*q*_+w*N[o+0]);N[o+1]=~~((1-w)*q*n+w*N[o+1]);
N[o+2]=~~((1-w)*q*j+w*N[o+2])}}}return k}();v.a1s=function(){var d=6,W=d>>>1,c=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],y=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function B(w,Y){var U=!1,e=w.length,O=Y[0],z=5,t=0,a=0;for(var S=1;S<e;S++)O=O.hB(Y[S]);if((O.m&1)!=0)O.m++;
if((O.i&1)!=0)O.i++;var l=O.m,I=O.i,s=Math.max(l,I);while(s>>>z>8&&z<10)z++;var R=1<<z;if(l%R!=0)t=R-l%R;
if(I%R!=0)a=R-I%R;O.Lx(t>>>1,a>>>1);l=O.m;I=O.i;if(l%R!=0||I%R!=0)throw"e";var J=Date.now(),F=[],h=v.R(O.P()),m=[],D=l*I,_=new Float32Array(l*I*2);
for(var S=0;S<e;S++){var n=Y[S],j=v.R(n.P());v.ou(w[S],j);h.fill(0);v.ZW(j,n,h,O);F.push(h.slice(0));
var T=n.x-O.x,L=n.y-O.y,p=T+n.m-2,E=L+n.i;for(var G=0;G<n.i;G++){var A=(G+L)*l;for(var u=0;u<T;u++)h[A+u]=h[A+T];
for(var u=p;u<l;u++)h[A+u]=h[A+p-1]}for(var u=0;u<l;u++){for(var G=0;G<L;G++)h[G*l+u]=h[L*l+u];for(var G=E;
G<I;G++)h[G*l+u]=h[(E-1)*l+u]}var q=new Float32Array(l*I*2);m.push(q);for(var o=0;o<D;o++)q[o*2]=h[o]*(1/255);
i(q,_,l,I,z);r(q,l,I,z)}if(U)console.log("to gray, decompose",Date.now()-J);J=Date.now();var M=v.R(l*I);
for(var G=0;G<I;G++)for(var u=0;u<l;u++){var $=0,Q=0,kF=G*l+u<<1;for(var S=0;S<e;S++){var P=m[S],bM=P[kF],jW=P[kF+1],fX=bM*bM+jW*jW;
if(fX>Q){Q=fX;$=S}}M[kF>>>1]=$}if(U)console.log("max abs value",Date.now()-J);J=Date.now();x(M,l,I,z);
Z(M,l,I);if(U)console.log("denoise",Date.now()-J);J=Date.now();var bX=_.slice(0);for(var G=0;G<I;G++)for(var u=0;
u<l;u++){var S=G*l+u,kF=S<<1,ao=m[M[S]];bX[kF]=ao[kF];bX[kF+1]=ao[kF+1]}k(bX,_,l,I,z);if(U)console.log("compose",Date.now()-J);
J=Date.now();for(var o=0;o<D;o++){var fX=bX[o*2]*255,$=0,Q=1e9;for(var S=0;S<e;S++){var en=Math.abs(F[S][o]-fX);
if(en<Q){Q=en;$=S}F[S][o]=0}F[$][o]=255}if(U)console.log("toRGB",Date.now()-J);J=Date.now();return[F,O]}function r(w,Y,U,e){var O=Y>>>e,l=U>>>e,I=1e-4;
for(var s=0;s<U;s++)for(var z=0;z<Y;z++){if(z<O&&s<l)continue;var R=(s*Y+z)*2,t=w[R],a=w[R+1],J=t*t+a*a;
if(J<I)t=a=0;else{var F=(J-I)/J;t*=F;a*=F}w[R]=t;w[R+1]=a}}function x(w,Y,U,e){for(var O=0;O<e;O++){var l=Y>>>O,I=U>>>O,s=l>>>1,z=I>>>1;
for(var R=0;R<z;R++)for(var t=0;t<s;t++){var a=R*Y+s+t,J=(R+z)*Y+s+t,F=(R+z)*Y+t,h=w[a],m=w[J],D=w[F];
if(h==m==D){}else if(h==m)w[F]=h;else if(m==D)w[a]=m;else if(h==D)w[J]=h}}}function Z(w,Y,U){for(var e=1;
e<U-1;e++)for(var O=1;O<Y-1;O++){var S=e*Y+O,l=w[S-Y],I=w[S-1],s=w[S],z=w[S+1],R=w[S+Y],t=l==I&&l==z||l==z&&z==R||z==R&&I==R||l==I&&R==I;
if(t)w[S]=l==I?l:I==z?I:l;else if(s>l&&s>I&&s>z&&s>R)w[S]=l+I+z+R>>>2;else if(s<l&&s<I&&s<z&&s<R)w[S]=l+I+z+R>>>2}}function i(w,Y,U,e,O){for(var S=0;
S<O;S++){var l=U>>>S,I=e>>>S;H(w,Y,U,e,l,I)}}function k(w,Y,U,e,O){for(var S=O-1;S>=0;S--){var l=U>>S,I=e>>S;
V(w,Y,U,e,l,I)}}function H(w,Y,U,e,O,l){N(w,Y,U,e,O,l,!0);N(Y,w,U,e,O,l,!1)}function V(w,Y,U,e,O,l){C(w,Y,U,e,O,l,!0);
C(Y,w,U,e,O,l,!1)}function g(w,Y,U,e,O,l){var I=U*e+Y<<1;w[I]=O;w[I+1]=l}function N(w,Y,U,e,O,l,I){var bU=I?O:l,s=I?l:O,z=s>>>1;
for(var R=0;R<bU;R++){for(var t=0;t<s;t+=2){var a=0,J=0,F=0,h=0,m=t>>>1;for(var D=0;D<6;D++){var _=t+D-3;
if(_<0)_=s+_;if(_>=s)_=_-s;var n=(I?_*U+R:R*U+_)<<1,j=w[n],T=w[n+1],L=c[D],p=y[D];a+=j*L[0]-T*L[1];J+=T*L[0]+j*L[1];
F+=j*p[0]-T*p[1];h+=T*p[0]+j*p[1]}if(I){g(Y,R,m,U,a,J);g(Y,R,m+z,U,F,h)}else{g(Y,m,R,U,a,J);g(Y,m+z,R,U,F,h)}}}}function C(w,Y,U,e,O,l,I){var bU=I?O:l,s=I?l:O,z=s>>>1,R,t,a,J;
for(var F=0;F<bU;F++){for(var h=0;h<s;h++){var m=0,D=0;for(var _=h+3&1;_<6;_+=2){var n=h-_+3>>1;if(n<0)n=z+n;
if(n>=z)n=n-z;if(I){R=F;t=n;a=F;J=n+z}else{t=F;R=n;J=F;a=n+z}var j=t*U+R<<1,T=J*U+a<<1,L=w[j],p=w[j+1],E=w[T],G=w[T+1],A=c[_],u=y[_];
m+=L*A[0]+E*u[0];m+=p*A[1]+G*u[1];D+=p*A[0]+G*u[0];D-=L*A[1]+E*u[1]}if(I)g(Y,F,h,U,m,D);else g(Y,h,F,U,m,D)}}}return{BX:B}}();
v.a3j=function(){var d=Math.floor(12e3/8),W=UPNG.quantize.findNearest,c,y,B,r;function x(g,N,C,w){var Y=[g,new a8(0,0,N,C)],e;
v.rG(Y);var U=Date.now(),O=N+C>>>1;for(var S=O<1e3?2:4;S>=0;S-=2){var l=Y[S+1],y=l.m,B=l.i;if(e==null){e=new Uint8Array(y*B);
W(Y[S],e,w)}Z(Y[S],y,B,w,e);if(S!=0){var I=Y[S-1],s=I.m,z=I.i,R=new Uint8Array(s*z);for(var t=0;t<z;
t++)for(var a=0;a<s;a++)R[t*s+a]=e[(t>>>1)*y+(a>>>1)];e=R}}return e}function Z(g,N,C,w,Y){c=g;y=N;B=C;
r=w;var U=r.length>>>2,e=[-1,-y,1,y],O=[-1,-y,-y+1,2,y+1,y],l=[-1,-y,1,y+1,y+y,y-1],I=8,s=y+B>>>1,z=1e9;
while(s>512){I>>=1;s>>=1}I=Math.max(1,Math.min(4,I));for(var R=0;R<I;R++){var t=0;for(var a=0;a<B;a++)for(var J=0;
J<y;J++){if(H(Y,J,a)<2)continue;var F=a*y+J,h=Y[F],m=1e9,D=0,_=J==0||a==0||J>y-3||a>B-3;if(_){m=1e9;
for(var S=0;S<U;S++){Y[F]=S;var n=V(Y,J,a,2);if(n<m){m=n;D=S}}Y[F]=D;if(D==h&&J+1<y&&Y[F+1]==h){m=1e9;
for(var S=0;S<U;S++){Y[F]=Y[F+1]=S;var n=V(Y,J,a,2)+V(Y,J+1,a,2);if(n<m){m=n;D=S}}Y[F]=Y[F+1]=D}if(D==h&&a+1<B&&Y[F+y]==h){m=1e9;
for(var S=0;S<U;S++){Y[F]=Y[F+y]=S;var n=V(Y,J,a,2)+V(Y,J,a+1,2);if(n<m){m=n;D=S}}Y[F]=Y[F+y]=D}}else{m=1e9;
D=-1;for(var S=0;S<4;S++){var j=Y[F+e[S]];if(j==D)continue;Y[F]=j;var n=V(Y,J,a,2);if(n<m){m=n;D=j}}Y[F]=D;
if(D==h&&J+1<y&&Y[F+1]==h){m=1e9;D=-1;for(var S=0;S<6;S++){var j=Y[F+O[S]];if(j==D)continue;Y[F]=Y[F+1]=j;
var n=V(Y,J,a,2)+V(Y,J+1,a,2);if(n<m){m=n;D=j}}Y[F]=Y[F+1]=D}if(D==h&&a+1<B&&Y[F+y]==h){m=1e9;D=-1;for(var S=0;
S<6;S++){var j=Y[F+l[S]];if(j==D)continue;Y[F]=Y[F+y]=j;var n=V(Y,J,a,2)+V(Y,J,a+1,2);if(n<m){m=n;D=j}}Y[F]=Y[F+y]=D}}t+=m}}}function i(g){var N=0;
for(var C=0;C<B;C++)for(var w=0;w<y;w++)N+=V(g,w,C,1);return N/(y*B)}function k(g,N,C){var S=C*y+N,w=S*4,Y=g[S]*4,U=c[w]-r[Y],e=c[w+1]-r[Y+1],O=c[w+2]-r[Y+2],l=c[w+3]-r[Y+3];
return U*U+e*e+O*O+l*l}function H(g,N,C){if(N<0||N>=y||C<0||C>=B)throw"e";var S=C*y+N,w=g[S],Y=0;if(C>0&&w!=g[S-y])Y+=2;
if(N>0&&w!=g[S-1])Y+=2;if(N<y-1&&w!=g[S+1])Y+=2;if(C<B-1&&w!=g[S+y])Y+=2;if(C>0&&N>0&&w!=g[S-y-1])Y++;
if(C<B-1&&N>0&&w!=g[S+y-1])Y++;if(C>0&&N<y-1&&w!=g[S-y+1])Y++;if(C<B-1&&N<y-1&&w!=g[S+y+1])Y++;return Y}function V(g,N,C,w){return k(g,N,C)+H(g,N,C)*w*d}return x}();
var c_=function(){function d(){this.P=0;this.Ef=0;this.D_={};this.KY=[];this.S8=1e5;this.bS=1e5;this.EO=-1;
this.fz=-1;this.color=0}function W(bd){this.EK=bd;this.Fx=new Array(bd);this.gp=new Array(bd*6);this.afx=0;
this.tC=new Array(bd*2);this.alpha=new Array(bd);this.dJ=new Array(bd);this.Og=new Array(bd)}function c(B,r,x,Z){function i(Y,U,B,r){return B[r*U+Y]}function k(S){var z=B.length;
while(S<z&&B[S]==0)S++;return S<z?S:-1}function H(Y,U,z){for(var S=2;S<5;S++){var R=0;for(var t=-S+1;
t<=S-1;t++){R+=i(Y+t,U+S-1,B,r)==z?1:-1;R+=i(Y+S-1,U+t-1,B,r)==z?1:-1;R+=i(Y+t-1,U-S,B,r)==z?1:-1;R+=i(Y-S,U+t,B,r)==z?1:-1}if(R>0)return 1;
else if(R<0)return 0}return 0}function V(z,C){var w=new d,Y=z,U=C,R=0,t=1,a;w.color=B[C*r+z];w.sign=i(z,C,B,r)==w.color?"+":"-";
while(1){w.KY.push(Y,U);if(Y>w.EO)w.EO=Y;if(Y<w.S8)w.S8=Y;if(U>w.fz)w.fz=U;if(U<w.bS)w.bS=U;w.Ef++;Y+=R;
U+=t;w.P-=Y*t;if(Y==z&&U==C)break;var J=i(Y+(R+t-1>>1),U+(t-R-1>>1),B,r)==w.color,F=i(Y+(R-t-1>>1),U+(t+R-1>>1),B,r)==w.color;
if(F&&!J){if(Z.W_=="right"||Z.W_=="black"&&w.sign=="+"||Z.W_=="white"&&w.sign=="-"||Z.W_=="majority"&&H(Y,U,w.color)||Z.W_=="minority"&&!H(Y,U,w.color)){a=R;
R=-t;t=a}else{a=R;R=t;t=-a}}else if(F){a=R;R=-t;t=a}else if(!J){a=R;R=t;t=-a}}return w}var g=0,N=[];
while(!0){var g=k(g);if(g==-1)break;var C=Math.floor(g/r),w=V(g-C*r,C);for(var S=0;S<w.KY.length-2;S+=2){var Y=w.KY[S],U=w.KY[S+1],e=U*r+Y;
if(Y==w.KY[S+2]&&U+1==w.KY[S+3]&&B[e]!=0)c_.fill(e,B,r,0)}if(w.P>Z.asx)N.push(w)}for(var S=0;S<N.length;
S++)N[S].parent=-1;var O=Date.now();for(var S=1;S<N.length;S++){var l=N[S];for(var I=S-1;I>=0;I--){var s=N[I];
if(l.S8<s.S8||l.EO>s.EO||l.bS<s.bS||l.fz>s.fz)continue;if(!c_.Hq(s.KY,l.KY[0]+.5,l.KY[1]+.5))continue;
l.parent=I;break}}return N}function y(B,r){function x(R,t,a,J,F){this.x=R;this.y=t;this.wo=a;this.nd=J;
this.Oz=F}function Z(R,bd){return(bd+R)%bd}function i(R,t,a,J){return R*J-a*t}function k(R,t,a,J){return R*a+t*J}function H(R,t,a){if(R<=a)return R<=t&&t<a;
else return R<=t||t<a}function V(R,t,a){var J=0;J+=t*R[0]*t;J+=t*R[1]*a;J+=t*R[2];J+=a*R[3]*t;J+=a*R[4]*a;
J+=a*R[5];J+=R[6]*t;J+=R[7]*a;J+=R[8];return J}function g(R,t,a){return t+R*(a-t)}function N(R,t,a,J){var F=Math.sign(a-R),h=-Math.sign(J-t);
return F*(a-R)-h*(J-t)}function C(R,t){return Math.sqrt(R*R+t*t)}function w(R,t,a,J,F){var h=1-R;return h*h*h*t+3*(h*h*R)*a+3*(R*R*h)*J+R*R*R*F}function Y(R,t,a,J,F,h,m,D){var _=i(R,t,m,D),n=i(a,J,m,D),j=i(F,h,m,D),T=_-2*n+j,L=-2*_+2*n,p=_,E=L*L-4*T*p;
if(T==0||E<0)return-1;var G=Math.sqrt(E),A=(-L+G)/(2*T),u=(-L-G)/(2*T);if(A>=0&&A<=1)return A;else if(u>=0&&u<=1)return u;
else return-1}function U(z){var S,R,t;z.hP=z.KY[0];z.a0v=z.KY[1];z.e8=[];var a=z.e8;a.push(new x(0,0,0,0,0));
for(S=0;S<z.Ef;S++){R=z.KY[S<<1]-z.hP;t=z.KY[(S<<1)+1]-z.a0v;a.push(new x(a[S].x+R,a[S].y+t,a[S].wo+R*t,a[S].nd+R*R,a[S].Oz+t*t))}}function e(z){var bd=z.Ef,R=z.KY,t,a=new Array(bd),J=new Array(bd),F=new Array(4),h,m,D,_,n,j,T,L,p,E,G,S,A,u,q,o,M,$,Q=0;
z.KM=new Array(bd);for(S=bd-1;S>=0;S--){if(R[S<<1]!=R[Q<<1]&&R[(S<<1)+1]!=R[(Q<<1)+1])Q=S+1;J[S]=Q}for(S=bd-1;
S>=0;S--){var kF=Z(S+1,bd)<<1;F[0]=F[1]=F[2]=F[3]=0;t=(3+3*(R[kF]-R[S<<1])+(R[kF+1]-R[(S<<1)+1]))/2;
F[t]++;h=0;m=0;D=0;_=0;Q=J[S];u=S;while(1){G=0;t=(3+3*Math.sign(R[Q*2]-R[u*2])+Math.sign(R[Q*2+1]-R[u*2+1]))/2;
F[t]++;if(F[0]&&F[1]&&F[2]&&F[3]){a[S]=u;G=1;break}p=R[Q*2]-R[S*2];E=R[Q*2+1]-R[S*2+1];if(i(h,m,p,E)<0||i(D,_,p,E)>0){break}if(Math.abs(p)<=1&&Math.abs(E)<=1){}else{n=p+(E>=0&&(E>0||p<0)?1:-1);
j=E+(p<=0&&(p<0||E<0)?1:-1);if(i(h,m,n,j)>=0){h=n;m=j}n=p+(E<=0&&(E<0||p<0)?1:-1);j=E+(p>=0&&(p>0||E<0)?1:-1);
if(i(D,_,n,j)<=0){D=n;_=j}}u=Q;Q=J[u];if(!H(Q,S,u)){break}}if(G==0){T=Math.sign(R[Q*2]-R[u*2]);L=Math.sign(R[Q*2+1]-R[u*2+1]);
p=R[u*2]-R[S*2];E=R[u*2+1]-R[S*2+1];q=i(h,m,p,E);o=i(h,m,T,L);M=i(D,_,p,E);$=i(D,_,T,L);A=1e7;if(o<0){A=Math.floor(q/-o)}if($>0){A=Math.min(A,Math.floor(-M/$))}a[S]=Z(u+A,bd)}}A=a[bd-1];
z.KM[bd-1]=A;for(S=bd-2;S>=0;S--){if(H(S+1,a[S],A)){A=a[S]}z.KM[S]=A}for(S=bd-1;H(Z(S+1,bd),A,z.KM[S]);
S--){z.KM[S]=A}}function O(z){function R(z,S,t){var bd=z.Ef,p=z.KY,E=z.e8,G,A,u,q,o,J,M,$,L,Q,kF,P,bM,jW,fX=0;
if(t>=bd){t-=bd;fX=1}if(fX==0){G=E[t+1].x-E[S].x;A=E[t+1].y-E[S].y;q=E[t+1].nd-E[S].nd;u=E[t+1].wo-E[S].wo;
o=E[t+1].Oz-E[S].Oz;J=t+1-S}else{G=E[t+1].x-E[S].x+E[bd].x;A=E[t+1].y-E[S].y+E[bd].y;q=E[t+1].nd-E[S].nd+E[bd].nd;
u=E[t+1].wo-E[S].wo+E[bd].wo;o=E[t+1].Oz-E[S].Oz+E[bd].Oz;J=t+1-S+bd}kF=(p[S<<1]+p[t<<1])/2-p[0];P=(p[(S<<1)+1]+p[(t<<1)+1])/2-p[1];
jW=p[t<<1]-p[S<<1];bM=-(p[(t<<1)+1]-p[(S<<1)+1]);M=(q-2*G*kF)/J+kF*kF;$=(u-G*P-A*kF)/J+kF*P;L=(o-2*A*P)/J+P*P;
Q=bM*bM*M+2*bM*jW*$+jW*jW*L;return Math.sqrt(Q)}var S,t,a,J,bd=z.Ef,F=new Array(bd+1),h=new Array(bd+1),m=new Array(bd),D=new Array(bd+1),_=new Array(bd+1),n=new Array(bd+1),j,T,L;
for(S=0;S<bd;S++){L=Z(z.KM[Z(S-1,bd)]-1,bd);if(L==S){L=Z(S+1,bd)}if(L<S){m[S]=bd}else{m[S]=L}}t=1;for(S=0;
S<bd;S++){while(t<=m[S]){D[t]=S;t++}}S=0;for(t=0;S<bd;t++){_[t]=S;S=m[S]}_[t]=bd;a=t;S=bd;for(t=a;t>0;
t--){n[t]=S;S=D[S]}n[0]=0;F[0]=0;for(t=1;t<=a;t++){for(S=n[t];S<=_[t];S++){T=-1;for(J=_[t-1];J>=D[S];
J--){j=R(z,J,S)+F[J];if(T<0||j<T){h[S]=J;T=j}}F[S]=T}}z.a3W=a;z.ajN=new Array(a);for(S=bd,t=a-1;S>0;
t--){S=h[S];z.ajN[t]=S}}function l(z){function R(z,S,j,m,D,bX){var bd=z.Ef,ao=z.e8,en=0,L;while(j>=bd){j-=bd;
en+=1}while(S>=bd){S-=bd;en-=1}while(j<0){j+=bd;en-=1}while(S<0){S+=bd;en+=1}var fK=ao[j+1].x-ao[S].x+en*ao[bd].x,bO=ao[j+1].y-ao[S].y+en*ao[bd].y,b9=ao[j+1].nd-ao[S].nd+en*ao[bd].nd,bK=ao[j+1].wo-ao[S].wo+en*ao[bd].wo,f0=ao[j+1].Oz-ao[S].Oz+en*ao[bd].Oz,T=j+1-S+en*bd;
m[bX]=fK/T;m[bX+1]=bO/T;var hn=(b9-fK*fK/T)/T,hX=(bK-fK*bO/T)/T,gR=(f0-bO*bO/T)/T,ib=(hn+gR+Math.sqrt((hn-gR)*(hn-gR)+4*hX*hX))/2;
hn-=ib;gR-=ib;if(Math.abs(hn)>=Math.abs(gR)){L=Math.sqrt(hn*hn+hX*hX);if(L!=0){D[bX]=-hX/L;D[bX+1]=hn/L}}else{L=Math.sqrt(gR*gR+hX*hX);
if(L!=0){D[bX]=-gR/L;D[bX+1]=hX/L}}if(L==0){D[bX]=D[bX+1]=0}}var t=z.a3W,a=z.ajN,bd=z.Ef,J=z.KY,F=z.hP,h=z.a0v,m=new Array(t*2),D=new Array(t*2),_=new Array(t),n=new Array(3),S,j,T,L,A,u,q,o,M,$,Q;
z.D_=new W(t);for(S=0;S<t;S++){j=a[Z(S+1,t)];j=Z(j-a[S],bd)+a[S];m[S<<1]=0;m[(S<<1)+1]=0;D[S<<1]=0;D[(S<<1)+1]=0;
R(z,a[S],j,m,D,S<<1)}for(S=0;S<t;S++){_[S]=[0,0,0,0,0,0,0,0,0];var p=D[S<<1]*D[S<<1]+D[(S<<1)+1]*D[(S<<1)+1],E=1/p;
if(p!=0){n[0]=D[(S<<1)+1];n[1]=-D[S<<1];n[2]=-n[1]*m[(S<<1)+1]-n[0]*m[S<<1];for(L=0;L<3;L++){_[S][L*3+0]=n[L]*n[0]*E;
_[S][L*3+1]=n[L]*n[1]*E;_[S][L*3+2]=n[L]*n[2]*E}}}var G=[0,0,0,0,0,0,0,0,0];for(S=0;S<t;S++){G[0]=G[1]=G[2]=G[3]=G[4]=G[5]=G[6]=G[7]=G[8]=G[9]=0;
var kF=J[a[S]<<1]-F,P=J[(a[S]<<1)+1]-h,bM=0,jW=0;j=Z(S-1,t);for(L=0;L<9;L+=3){G[L+0]=_[j][L+0]+_[S][L+0];
G[L+1]=_[j][L+1]+_[S][L+1];G[L+2]=_[j][L+2]+_[S][L+2]}while(1){var fX=G[0]*G[4]-G[1]*G[3];if(fX!=0){bM=(-G[2]*G[4]+G[5]*G[0])/fX;
jW=(G[2]*G[3]-G[5]*G[0])/fX;break}if(G[0]>G[4]){n[0]=-G[1];n[1]=G[0]}else if(G[4]){n[0]=-G[4];n[1]=G[3]}else{n[0]=1;
n[1]=0}var p=n[0]*n[0]+n[1]*n[1],E=1/p;n[2]=-n[1]*P-n[0]*kF;for(L=0;L<3;L++){G[L*3+0]+=n[L]*n[0]*E;G[L*3+1]+=n[L]*n[1]*E;
G[L*3+2]+=n[L]*n[2]*E}}A=Math.abs(bM-kF);u=Math.abs(jW-P);if(A<=.5&&u<=.5){z.D_.tC[S<<1]=bM+F;z.D_.tC[(S<<1)+1]=jW+h;
continue}q=V(G,kF,P);M=kF;$=P;if(G[0]!=0){for(Q=0;Q<2;Q++){jW=P-.5+Q;bM=-(G[1]*jW+G[2])/G[0];A=Math.abs(bM-kF);
o=V(G,bM,jW);if(A<=.5&&o<q){q=o;M=bM;$=jW}}}if(G[4]!=0){for(Q=0;Q<2;Q++){bM=kF-.5+Q;jW=-(G[3]*bM+G[5])/G[4];
u=Math.abs(jW-P);o=V(G,bM,jW);if(u<=.5&&o<q){q=o;M=bM;$=jW}}}for(L=0;L<2;L++){for(T=0;T<2;T++){bM=kF-.5+L;
jW=P-.5+T;o=V(G,bM,jW);if(o<q){q=o;M=bM;$=jW}}}z.D_.tC[S<<1]=M+F;z.D_.tC[(S<<1)+1]=$+h}}function I(z){var R=z.D_.EK,t=z.D_,S,a,J,F,h,m,D,_,n;
for(S=0;S<R;S++){a=Z(S+1,R);J=Z(S+2,R);var j=t.tC[S<<1],T=t.tC[(S<<1)+1],L=t.tC[J<<1],p=t.tC[(J<<1)+1],E=t.tC[a<<1],G=t.tC[(a<<1)+1],A=g(.5,L,E),u=g(.5,p,G);
h=N(j,T,L,p);if(h!=0){F=i(E-j,G-T,L-j,p-T)/h;F=Math.abs(F);m=F>1?1-1/F:0;m=m*(1/.75)}else{m=4/3}t.dJ[a]=m;
var q=3*a<<1;if(m>=r.a4u){t.Fx[a]=0;t.gp[q+0]=t.gp[q+1]=0;t.gp[q+2]=E;t.gp[q+3]=G;t.gp[q+4]=A;t.gp[q+5]=u}else{if(m<.55){m=.55}else if(m>1){m=1}var o=.5+.5*m;
t.Fx[a]=1;t.gp[q]=g(o,j,E);t.gp[q+1]=g(o,T,G);t.gp[q+2]=g(o,L,E);t.gp[q+3]=g(o,p,G);t.gp[q+4]=A;t.gp[q+5]=u}t.alpha[a]=m;
t.Og[a]=.5}t.a6K=1}function s(z){function R(){this.OJ=0;this.Xv=0;this.Y9=0;this.iW=0;this.l4=0;this.VQ=0;
this.Td=0;this.alpha=0}function t(z,S,j,hq,ip,M,$){var J=z.D_.EK,aW=z.D_.gp,kN=z.D_.tC;if(S==j)return 1;
var hW=S,E=Z(S+1,J),jH=Z(hW+1,J),bK=kN[S<<1],f0=kN[(S<<1)+1],g0=kN[E<<1],gC=kN[(E<<1)+1],jL=M[jH];if(jL==0)return 1;
var jf=C(bK-g0,f0-gC);for(hW=jH;hW!=j;hW=jH){var jH=Z(hW+1,J),cm=Z(hW+2,J),eh=kN[jH<<1],bu=kN[(jH<<1)+1],eJ=kN[cm<<1],eZ=kN[(cm<<1)+1];
if(M[jH]!=jL)return 1;if(Math.sign(i(g0-bK,gC-f0,eJ-eh,eZ-bu))!=jL)return 1;if(k(g0-bK,gC-f0,eJ-eh,eZ-bu)<jf*C(eh-eJ,bu-eZ)*-.999847695156)return 1}var a0=Z(S,J)*3+2<<1,gZ=Z(S+1,J)<<1,bt=Z(j,J)<<1,dp=Z(j,J)*3+2<<1,bX=aW[a0],ao=aW[a0+1],gb=kN[gZ],e_=kN[gZ+1],dO=kN[bt],dC=kN[bt+1],kc=aW[dp],ia=aW[dp+1],Q=kN[0],kF=kN[1];
a0=j*3+2<<1;var hO=aW[a0],cj=aW[a0+1],G=$[j]-$[S];G-=i(hO-Q,cj-kF,hO-Q,cj-kF)/2;if(S>=j){G+=$[J]}var bA=gb-bX,bg=e_-ao,cX=dO-bX,i4=dC-ao,fJ=kc-bX,iu=ia-ao,hV=i(bA,bg,cX,i4),f$=i(bA,bg,fJ,iu),kg=i(cX,i4,fJ,iu),jy=hV+kg-f$;
if(f$==hV)return 1;var o=kg/(kg-jy),q=f$/(f$-hV),iM=f$*o/2;if(iM==0)return 1;var hI=G/iM,A=2-Math.sqrt(4-hI/.3);
hq.Xv=g(o*A,bX,gb);hq.Y9=g(o*A,ao,e_);hq.iW=g(q*A,kc,dO);hq.l4=g(q*A,ia,dC);hq.alpha=A;hq.VQ=o;hq.Td=q;
gb=hq.Xv;e_=hq.Y9;dO=hq.iW;dC=hq.l4;hq.OJ=0;for(hW=Z(S+1,J);hW!=j;hW=jH){jH=Z(hW+1,J);var cd=kN[hW<<1],jZ=kN[(hW<<1)+1],eh=kN[jH<<1],bu=kN[(jH<<1)+1];
o=Y(gb-bX,e_-ao,dO-gb,dC-e_,kc-dO,ia-dC,eh-cd,bu-jZ);if(o<-.5)return 1;var hz=w(o,bX,gb,dO,kc),jv=w(o,ao,e_,dC,ia),jf=C(eh-cd,bu-jZ);
if(jf==0)return 1;var eI=i(eh-cd,bu-jZ,hz-cd,jv-jZ)/jf;if(Math.abs(eI)>ip)return 1;if(k(eh-cd,bu-jZ,hz-cd,jv-jZ)<0||k(cd-eh,jZ-bu,hz-eh,jv-bu)<0){return 1}hq.OJ+=eI*eI}for(hW=S;
hW!=j;hW=jH){jH=Z(hW+1,J);var a0=hW*3+2<<1,gZ=jH*3+2<<1,j2=aW[a0],fM=aW[a0+1],gY=aW[gZ],c4=aW[gZ+1];
o=Y(gb-bX,e_-ao,dO-gb,dC-e_,kc-dO,ia-dC,gY-j2,c4-fM);if(o<-.5)return 1;var hz=w(o,bX,gb,dO,kc),jv=w(o,ao,e_,dC,ia),jf=C(gY-j2,c4-fM);
if(jf==0)return 1;var eI=i(gY-j2,c4-fM,hz-j2,jv-fM)/jf,fI=i(gY-j2,c4-fM,kN[jH<<1]-j2,kN[(jH<<1)+1]-fM)/jf;
fI*=.75*z.D_.alpha[jH];if(fI<0){eI=-eI;fI=-fI}if(eI<fI-ip)return 1;if(eI<fI){hq.OJ+=(eI-fI)*(eI-fI)}}return 0}var a=z.D_,J=a.EK,F=a.tC,h=new Array(J+1),m=new Array(J+1),D=new Array(J+1),_=new Array(J+1),n,S,j,T,L=new R,p,E,G,A,u,q,o,M=new Array(J),$=new Array(J+1);
for(S=0;S<J;S++){if(a.Fx[S]=="CURVE"){var Q=F[Z(S-1,J)<<1],kF=F[(Z(S-1,J)<<1)+1],P=F[S<<1],bM=F[(S<<1)+1],jW=F[Z(S+1,J)<<1],fX=F[(Z(S+1,J)<<1)+1];
M[S]=Math.sign(i(P-Q,bM-kF,jW-P,fX-bM))}else{M[S]=0}}G=0;$[0]=0;var bX=a.tC[0],ao=a.tC[1];for(S=0;S<J;
S++){E=Z(S+1,J);if(a.Fx[E]=="CURVE"){A=a.alpha[E];var en=S*3+2<<1,fK=E*3+2<<1,bO=a.gp[en],b9=a.gp[en+1],bK=F[E<<1],f0=F[(E<<1)+1],hn=a.gp[fK],hX=a.gp[fK+1];
G+=.3*A*(4-A)*i(bK-bO,f0-b9,hn-bO,hX-b9)/2;G+=i(bO-bX,b9-ao,hn-bX,hX-ao)/2}$[S+1]=G}h[0]=-1;m[0]=0;D[0]=0;
for(j=1;j<=J;j++){h[j]=j-1;m[j]=m[j-1];D[j]=D[j-1]+1;for(S=j-2;S>=0;S--){T=t(z,S,Z(j,J),L,r.a7P,M,$);
if(T){break}if(D[j]>D[S]+1||D[j]==D[S]+1&&m[j]>m[S]+L.OJ){h[j]=S;m[j]=m[S]+L.OJ;D[j]=D[S]+1;_[j]=L;L=new R}}}n=D[J];
u=new W(n);q=new Array(n);o=new Array(n);j=J;for(S=n-1;S>=0;S--){var gR=Z(j,J),ib=S*3+0<<1,gU=gR*3+0<<1;
if(h[j]==j-1){u.Fx[S]=a.Fx[gR];u.gp[ib]=a.gp[gU];u.gp[ib+1]=a.gp[gU+1];u.gp[ib+2]=a.gp[gU+2];u.gp[ib+3]=a.gp[gU+3];
u.gp[ib+4]=a.gp[gU+4];u.gp[ib+5]=a.gp[gU+5];u.tC[S<<1]=a.tC[gR<<1];u.tC[(S<<1)+1]=a.tC[(gR<<1)+1];u.alpha[S]=a.alpha[gR];
u.dJ[S]=a.dJ[gR];u.Og[S]=a.Og[gR];q[S]=o[S]=1}else{u.Fx[S]="CURVE";u.gp[ib]=_[j].Xv;u.gp[ib+1]=_[j].Y9;
u.gp[ib+2]=_[j].iW;u.gp[ib+3]=_[j].l4;u.gp[ib+4]=a.gp[gU+4];u.gp[ib+5]=a.gp[gU+5];u.tC[S<<1]=g(_[j].Td,a.gp[gU+4],F[gR<<1]);
u.tC[(S<<1)+1]=g(_[j].Td,a.gp[gU+5],F[(gR<<1)+1]);u.alpha[S]=_[j].alpha;u.dJ[S]=_[j].alpha;q[S]=_[j].Td;
o[S]=_[j].VQ}j=h[j]}for(S=0;S<n;S++){E=Z(S+1,n);u.Og[S]=q[S]/(q[S]+o[E])}u.a6K=1;z.D_=u}for(var S=0;
S<B.length;S++){var z=B[S];U(z);e(z);O(z);l(z);I(z);if(r.a11)s(z)}}return{a2v:c,a6d:y}}();c_.AJ=function(d,W,c,y){var B={W_:"minority",asx:y,a11:!0,a4u:1,a7P:.2},r=c_.a2v(d,W,c,B);
c_.a6d(r,B);return r};c_.Tz=function(d){var W=[];for(var S=0;S<d.length;S++){var c=d[S],y=c.D_,B=["M"],r=[y.gp[(y.EK-1)*6+4],y.gp[(y.EK-1)*6+5]];
for(var x=0;x<y.EK;x++){var Z=x*6;if(y.Fx[x]==1){B.push("C");for(var i=0;i<6;i++)r.push(y.gp[Z+i])}else if(y.Fx[x]==0){B.push("L");
for(var i=2;i<4;i++)r.push(y.gp[Z+i])}}B.push("Z");W.push({parent:c.parent,color:c.color,path:{j:r,r:B}})}return W};
c_.Hq=function(d,W,c){var bd=d.length>>1,y,B=d[2*bd-3]-c,r=d[2*bd-2]-W,x=d[2*bd-1]-c,Z=x>B,i=0;for(var S=0;
S<bd;S++){y=r;B=x;r=d[2*S]-W;x=d[2*S+1]-c;if(B==x)continue;Z=x>B}for(var S=0;S<bd;S++){y=r;B=x;r=d[2*S]-W;
x=d[2*S+1]-c;if(B<0&&x<0)continue;if(B>0&&x>0)continue;if(y<0&&r<0)continue;if(B==x&&Math.min(y,r)<=0)return!0;
if(B==x)continue;var k=y+(r-y)*-B/(x-B);if(k==0)return!0;if(k>0)i++;if(B==0&&Z&&x>B)i--;if(B==0&&!Z&&x<B)i--;
Z=x>B}return(i&1)==1};c_.fill=function(d,W,c,y){var B=W[d],r=[d],x=0;while(x<r.length){var Z=r[x];x++;
W[Z]=y;if(W[Z-c]==B){r.push(Z-c);W[Z-c]=254}if(W[Z-1]==B){r.push(Z-1);W[Z-1]=254}if(W[Z+1]==B){r.push(Z+1);
W[Z+1]=254}if(W[Z+c]==B){r.push(Z+c);W[Z+c]=254}}};var d$=function(){function d(Z){return Math.max(0,Math.min(1,Z))}function W(Z,i){var k=i<0?-i:i;
if(Z>1)Z=.99;Z=Z*.99;var H=Math.pow(k/5,.16),g=Math.pow(2,k<1?k:1+(k-1)*.8);if(i<0)g=1/g;Z=H*(1-Math.pow(1-Z,g))+(1-H)*Z;
return Z}function c(Z,i){var k=i/100;Z=Z*.99;Z=k*(.5-.5*Math.cos(Z*Math.PI))+(1-k)*Z;return Z}var y=v.hu.Wy(1,1,1,-.3),B=v.hu.QE(y);
function r(Z,i,k,H,V,g,N){var C=Z[k],w=Z[k+1],Y=Z[k+2],U=v.hu.ul(y,[C,w,Y,1]);C=U[0];w=U[1];Y=U[2];C=W(C,H);
w=W(w,H);Y=W(Y,H);var U=v.hu.ul(B,[C,w,Y,1]);C=U[0];w=U[1];Y=U[2];C=d(C);w=d(w);Y=d(Y);C=c(C,V);w=c(w,V);
Y=c(Y,V);var e=hH.a01(C,w,Y,g);C=e[0];w=e[1];Y=e[2];C=d(C);w=d(w);Y=d(Y);if(N){var O=new Uint8Array(4);
O[0]=~~(.5+C*255);O[1]=~~(.5+w*255);O[2]=~~(.5+Y*255);bN.xh(N,O,O,new a8(0,0,1,1));C=O[0]/255;w=O[1]/255;
Y=O[2]/255}i[k]=C;i[k+1]=w;i[k+2]=Y}function x(Z,i,k,H,V,g){var N=V.Temp?V.Temp.v:0,C=V.Tint?V.Tint.v:0,w=V.Ex12?V.Ex12.v:0,Y=V.Cr12?V.Cr12.v:0,U=V.Vibr?V.Vibr.v:0,e=V.Strt?V.Strt.v:0,O=hH.bO(N,C),l=null;
w+=O.avI;if(U!=0||e!=0)l=bN.iA("vibA",{Strt:V.Strt,vibrance:V.Vibr});var I=Date.now();if(g){var s=Math.pow(2,w),z=Z.length;
w=0;var R=new Float32Array(4e3);for(var S=0;S<4e3;S++){var t=S*(1/1e3);t=v.c1(t);t*=s;t=v.dM(t);t=d(t);
R[S]=t}for(var S=0;S<z;S+=3){H[S]=R[~~(Z[S]*1e3)];H[S+1]=R[~~(Z[S+1]*1e3)];H[S+2]=R[~~(Z[S+2]*1e3)]}console.log(Date.now()-I,"Exposure normalizing");
I=Date.now()}else H.set(Z);if(w!=0||Y!=0||N!=0||C!=0||l){var a=17,J=1/(a-1),F=a*a*a,h=new Array(F*3);
for(var m=0;m<a;m++)for(var D=0;D<a;D++)for(var _=0;_<a;_++){var S=m*a*a+D*a+_,n=S*3;h[n]=m*J;h[n+1]=D*J;
h[n+2]=_*J}for(var S=0;S<F;S++)r(h,h,S*3,w,Y,O,l);console.log(Date.now()-I,"making LUT");I=Date.now();
ICC.U.applyLUTFloat(h,a,H,H);console.log(Date.now()-I,"applying LUT");I=Date.now()}}return x}();function ew(){}ew.Nr=function(d,W){var c=new Uint8Array(d),y=0,B=W.split("/").pop().split(".")[0];
function r(Y){for(var S=0;S<Y.length;S++)Y[S].v.Nm.v=B+"/"+Y[S].v.Nm.v.split("/").pop()}var x={pb:[],An:[],list:[]},Z=K.Ou(c,y);
y+=2;if(Z<=2){x=ew.ar_(c);r(x.list);return x}var i=K.Ou(c,y);y+=2;var k=K.xA(c,y,8);y+=8;var H=K.q(c,y);
y+=4;if(H>0)x.pb=ew.ayw(c,y,H,i,Z);y+=H;var V=K.xA(c,y,8);y+=8;var g=K.q(c,y);y+=4;if(g>0)x.An=ca.R4(c,y,g);
y+=g;var N=K.xA(c,y,8);y+=8;var C=K.q(c,y);y+=4;if(C>0){var w={};jz.xx(c,w,y+4);x.list=w.Brsh.v}y+=C;
var Y=x.list;for(var S=0;S<Y.length;S++){bB.cp.check(Y[S].v)}r(Y);return x};ew.DE=function(d,W){d.v.Nm.v=W};
ew.ar_=function(d){var W={pb:[],An:[],list:[]},c=0,y=K.Ou(d,c);c+=2;var B=K.Ou(d,c);c+=2;for(var S=0;
S<B;S++){var r=K.Ou(d,c);c+=2;var x=K.q(d,c);c+=4;var Z=c;if(r==2){var i={};W.pb.push(i);var k=K.q(d,Z);
Z+=4;var H=K.Ou(d,Z);Z+=2;if(y==2){var V=K.BB(d,Z);Z+=4+V.length*2+2}i.id=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f";
Z++;Z+=8;i.qe=K.lX(d,Z);Z+=16;var g=K.Ou(d,Z);Z+=2;var N=d[Z];Z++;var C=eu.qa(!1,g,d,i.qe.m,i.qe.i,Z,N);
ew.arL(i,C);var w=bB.S5(i.id),Y=w.Brsh.v;Y.Dmtr.v.val=i.qe.m;Y.Spcn.v.val=H;W.list.push({t:"Objc",v:w})}c+=x}return W};
ew.dn=function(d){var W=new jD,c=0,y=0;K.Lg(W,c,6);c+=2;K.Lg(W,c,2);c+=2;var B={},r=[],x={},Z=[];for(var S=0;
S<d.list.length;S++){var i=d.list[S].v,k=i.Brsh.v;if(k.classID=="sampledBrush")B[k.sampledData.v]=!0;
if(i.Txtr)x[i.Txtr.v.Idnt.v]=!0}for(var S=0;S<d.pb.length;S++)if(B[d.pb[S].id])r.push(d.pb[S]);for(var S=0;
S<d.An.length;S++)if(B[d.An[S].id])Z.push(d.An[S]);K.MA(W,c,"8BIMsamp");c+=8;c+=4;y=c;c=ew.afl(W,c,r);
K.zS(W,y-4,c-y);K.MA(W,c,"8BIMpatt");c+=8;c+=4;y=c;c=ca.ms(W,c,Z);K.zS(W,y-4,c-y);var H=JSON.parse(JSON.stringify(d.list));
for(var S=0;S<H.length;S++)H[S].v.Nm.v=H[S].v.Nm.v.split("/").pop();var V={classID:"null",Brsh:{t:"VlLs",v:H}};
K.MA(W,c,"8BIMdesc");c+=8;c+=4;y=c;K.zS(W,c,16);c+=4;c+=jz.Nj(W,V,c);K.zS(W,y-4,c-y);return W.data.slice(0,c).buffer};
ew.ayw=function(d,W,c,y,B){var r=K.q,x=K.lX,Z=W+c,i=[];while(W<Z){var k={};i.push(k);var H=r(d,W);W+=4;
var V=W,g=K.FQ(d,W);W+=g.length;k.id=g.Y4;if(y==1){W+=9;k.qe=x(d,W);W+=16}else{W+=7;var N=r(d,W);W+=4;
k.qe=x(d,W);W+=16;var C=r(d,W);W+=4;W+=C*4;var w=r(d,W);W+=4;var Y=r(d,W);W+=4;var U=x(d,W);W+=16}var e=K.Ou(d,W);
W+=2;var O=d[W];W+=1;var l=eu.qa(!1,e,d,k.qe.m,k.qe.i,W,O);ew.arL(k,l);if(H%4!=0)H+=4-H%4;W=V+H}return i};
ew.arL=function(d,W){var c=d.qe.clone();c.x=c.y=0;d.Q$=[W,c]};ew.afl=function(d,W,c){var y=K.zS,B=K.S$;
for(var S=0;S<c.length;S++){var r=c[S],x=W+4,i=56,H=1;W+=4;K.JG(d,W,r.id);W+=r.id.length+2;d.N5(W,1);
d.data[W]=1;W+=3;y(d,W,3);W+=4;var Z=W;W+=4;B(d,W,r.qe);W+=16;y(d,W,i);W+=4;W+=i*4;y(d,W-4,1);var k=W;
W+=4;y(d,W,8);W+=4;B(d,W,r.qe);W+=16;K.Lg(d,W,8);W+=2;d.N5(W,1);d.data[W]=H;W++;var V=r.Q$[0];d.N5(W,r.qe.P()*2);
W=eu.ZI(!1,V,d.data,r.qe.m,r.qe.i,W,H);d.N5(W,8);W+=8;var g=W-x;y(d,x-4,g);y(d,Z,g-49);y(d,k,g-305);
if(g%4!=0)W+=4-g%4}return W};function d8(){}d8.Nr=function(d,W){var c=new Uint8Array(d),y=[],B=0,r=K.Ou(c,B);
B+=2;if(r!=4){throw"Unknown version of curves: "+r}var x=K.Ou(c,B);B+=2;for(var S=0;S<x;S++){var Z=d8.aoR(c,B);
B+=2+2*Z.length;y.push(Z)}if(B!=c.length){var i=K.xA(c,B,4);B+=4;var k=K.Ou(c,B);B+=2;var H=K.Ou(c,B);
B+=2;if(H!=0)throw"extra curves for channels"}var V=d8.azi(y,0);V.presetKind={t:"long",v:3};V.presetFileName={t:"TEXT",v:W.split("/").pop().split(".")[0]};
return[V]};d8.qo=function(d,W,c){var y=W,B=[],r=d[W];W+=3;var x=K.q(d,W);W+=4;for(var S=0;S<4;S++){var Z=x>>>S&1;
if(Z){if(r==0){var i=d8.aoR(d,W);W+=2+2*i.length}else{var i=d8.af5(d,W);W+=256}B.push(i)}else B.push(r==0?[0,0,255,255]:d8.a7u())}var k=d8.azi(B,r);
return k};d8.azi=function(d,W){var c=eR.qw("curv");for(var S=0;S<4;S++){if(W==0){var y=d[S],B=[];for(var r=0;
r<y.length;r+=2)B.push(v.YF.la(y[r],y[r+1],!0));d8.wz(c,S,B)}else d8.wz(c,S,d[S])}return c};d8.DG=function(d,W,c){var y=[];
for(var S=0;S<4;S++){var B=d8.ar(c,S);if(B.length==256)y.push(B);else{var r=[];for(var x=0;x<B.length;
x++)r.push(B[x].v.Hrzn.v,B[x].v.Vrtc.v);y.push(r)}}var Z=W,i=y[0].length==256?1:0;d.N5(W,3);d.data[W]=i;
d.data[W+1]=0;d.data[W+2]=1;W+=3;K.zS(d,W,15);W+=4;for(var S=0;S<4;S++){var k=y[S];if(i==0){d8.agV(d,W,k);
W+=2+2*k.length}else{d8.aea(d,W,k);W+=256}}return W-Z};d8.a7u=function(){var d=[];for(var S=0;S<256;
S++)d.push(S);return d};d8.wz=function(d,W,c){var y=fr.yA("CrvA",W);if(c.length<256)y.Crv={t:"VlLs",v:c};
else{y.Mpng={t:"VlLs",v:[]};for(var S=0;S<256;S++)y.Mpng.v[S]={t:"long",v:c[S]}}y={t:"Objc",v:y};var B=d.Adjs.v,r=fr.rz(B,W);
if(r==-1)B.push(y);else B[r]=y};d8.ar=function(d,W){var c=d.Adjs.v,y=fr.rz(c,W);if(y==-1){if(c.length==0||c[0].v.Crv)return[v.YF.la(0,0,!0),v.YF.la(255,255,!0)];
if(c[0].v.autoMachineLearning||c[0].v.AuCo)return[v.YF.la(0,0,!0),v.YF.la(128,160,!0),v.YF.la(255,255,!0)];
var B=[];for(var S=0;S<256;S++)B.push(S);return B}var r=c[y].v;if(r.Crv)return r.Crv.v;if(r.Mpng){var B=[];
for(var S=0;S<256;S++)B.push(r.Mpng.v[S].v);return B}return[v.YF.la(0,0,!0),v.YF.la(255,255,!0)]};d8.aoR=function(d,W){var c=[],y=K.Ou(d,W);
W+=2;for(var B=0;B<y;B++){var r=K.Ou(d,W);W+=2;var x=K.Ou(d,W);W+=2;c.push(x,r)}return c};d8.agV=function(d,W,c){var y=c.length/2;
K.Lg(d,W,y);W+=2;for(var B=0;B<y;B++){K.Lg(d,W,c[B*2+1]);W+=2;K.Lg(d,W,c[B*2+0]);W+=2}};d8.af5=function(d,W){var c=[];
for(var S=0;S<256;S++)c.push(d[W+S]);return c};d8.aea=function(d,W,c){d.N5(W,256);for(var S=0;S<256;
S++)d.data[W+S]=c[S]};function fA(){}fA.qo=function(d,W,c){var y={},B=K.Ou(d,W);W+=2;y.i2=d[W]==1;W++;
W++;y.eP=[K.JS(d,W),K.JS(d,W+2),K.JS(d,W+4)];W+=6;y.K4=[K.JS(d,W),K.JS(d,W+2),K.JS(d,W+4)];W+=6;y.UR=[];
for(var S=0;S<6;S++){var r={};r.LT=[K.JS(d,W),K.JS(d,W+2),K.JS(d,W+4),K.JS(d,W+6)];W+=8;r.KC=[K.JS(d,W),K.JS(d,W+2),K.JS(d,W+4)];
W+=6;y.UR.push(r)}var x=eR.qw("hue2"),Z=y;if(x.Clrz==null)x.Clrz={t:"bool",v:!1};x.Clrz.v=Z.i2;for(var S=0;
S<7;S++){var i=S==0?Z.i2?Z.eP:Z.K4:Z.UR[S-1];fA.wz(x,S,i)}return x};fA.avw=function(d){return{classID:"Hst2",H:{t:"long",v:d[0]},Strt:{t:"long",v:d[1]},Lght:{t:"long",v:d[2]}}};
fA.rz=function(d,W){for(var S=0;S<d.length;S++){var c=d[S].v.LclR;if(W==0&&c==null||c!=null&&c.v==W)return S}return-1};
fA.wz=function(d,W,c){var y=W==0?c:c.KC,B=fA.avw(y);if(W!=0){var r=c.LT;B.LclR={t:"long",v:W},B.BgnR={t:"long",v:r[0]};
B.BgnS={t:"long",v:r[1]};B.EndS={t:"long",v:r[2]};B.EndR={t:"long",v:r[3]}}B={t:"Objc",v:B};var x=d.Adjs.v,Z=fA.rz(x,W);
if(Z==-1)x.push(B);else x[Z]=B};fA.ar=function(d,W){var c=d.Adjs.v,y=fA.rz(c,W);if(y==-1){if(W==0)return[0,0,0];
else return[{LT:[315,345,15,45],KC:[0,0,0]},{LT:[15,45,75,105],KC:[0,0,0]},{LT:[75,105,135,165],KC:[0,0,0]},{LT:[135,165,195,225],KC:[0,0,0]},{LT:[195,225,255,285],KC:[0,0,0]},{LT:[255,285,315,345],KC:[0,0,0]}][W-1]}var B=c[y].v,r=[B.H.v,B.Strt.v,B.Lght.v];
if(W==0)return r;return{KC:r,LT:[B.BgnR.v,B.BgnS.v,B.EndS.v,B.EndR.v]}};fA.DG=function(d,W,c){var y={i2:c.Clrz?c.Clrz.v:!1,UR:[]};
y.eP=y.K4=fA.ar(c,0);for(var S=1;S<7;S++)y.UR.push(fA.ar(c,S));var B=2+2+12+6*14,r=d.data;d.N5(W,B);
K.Dc(r,W,2);W+=2;r[W]=y.i2?1:0;W++;W++;K.Ag(r,W+0,y.eP[0]);K.Ag(r,W+2,y.eP[1]);K.Ag(r,W+4,y.eP[2]);W+=6;
K.Ag(r,W+0,y.K4[0]);K.Ag(r,W+2,y.K4[1]);K.Ag(r,W+4,y.K4[2]);W+=6;for(var S=0;S<6;S++){var x=y.UR[S].LT,Z=y.UR[S].KC;
K.Ag(r,W+0,x[0]);K.Ag(r,W+2,x[1]);K.Ag(r,W+4,x[2]);K.Ag(r,W+6,x[3]);W+=8;K.Ag(r,W+0,Z[0]);K.Ag(r,W+2,Z[1]);
K.Ag(r,W+4,Z[2]);W+=6}return B};function fr(){}fr.Nr=function(d){var W=new Uint8Array(d),c=2,y=[];for(var S=0;
S<29;S++){var B=[];y.push(B);for(var r=0;r<5;r++)B.push(K.Ou(W,c+S*10+r*2))}c+=29*10;if(c<W.length){var x=K.xA(W,c,4);
c+=4;var Z=K.Ou(W,c);c+=2;var i=K.Ou(W,c);c+=2;var k=i-29;for(var S=0;S<k;S++){var B=[];y.push(B);for(var r=0;
r<5;r++)B.push(K.Ou(W,c+S*10+r*2))}}var H=eR.qw("levl");for(var S=0;S<4;S++)fr.wz(H,S,y[S]);return H};
fr.yA=function(d,S){var W=["Cmps","Rd","Grn","Bl"],c={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:W[S]}}]};
return{classID:d,Chnl:c}};fr.rz=function(d,W){var c={Cmps:0,Rd:1,Grn:2,Bl:3};for(var S=0;S<d.length;
S++){var y=d[S].v,B=c[y.Chnl.v[0].v.enum];if(B==W)return S}return-1};fr.wz=function(d,W,c){var y=fr.yA("LvlA",W);
y.Inpt={t:"VlLs",v:[{t:"long",v:c[0]},{t:"long",v:c[1]}]};y.Otpt={t:"VlLs",v:[{t:"long",v:c[2]},{t:"long",v:c[3]}]};
y.Gmm={t:"doub",v:c[4]/100};y={t:"Objc",v:y};var B=d.Adjs.v,r=fr.rz(B,W);if(r==-1)B.push(y);else B[r]=y};
fr.ar=function(d,W){var c=[0,255,0,255,100],y=d.Adjs.v,B=fr.rz(y,W);if(B==-1)return c;var r=y[B].v;if(r.Inpt){c[0]=r.Inpt.v[0].v;
c[1]=r.Inpt.v[1].v}if(r.Otpt){c[2]=r.Otpt.v[0].v;c[3]=r.Otpt.v[1].v}if(r.Gmm){c[4]=Math.round(r.Gmm.v*100)}return c};
fr.dn=function(d,W){var c=[],y=0;for(var S=0;S<4;S++)c.push(fr.ar(W,S));while(c.length<29)c.push([0,255,0,255,100]);
d.N5(0,2+10*29);K.Dc(d.data,y,2);y+=2;for(var S=0;S<29;S++){var B=c[S];for(var r=0;r<5;r++)K.Dc(d.data,y+S*10+r*2,B[r])}y+=29*10;
if(c.length==29)return y;d.N5(y,8+10*(c.length-29));K.sv(d.data,y,"Lvls");y+=4;K.Dc(d.data,y,3);y+=2;
K.Dc(d.data,y,c.length);y+=2;var x=c.length-29;for(var S=0;S<x;S++){var B=c[29+S];for(var r=0;r<5;r++)K.Dc(d.data,y+S*10+r*2,B[r])}y+=10*x;
return y};function eL(){}eL.Nr=function(d,W){var c=new Uint8Array(d),y=2,B=W.split("/").pop().split(".")[0],r={i3:[],pC:[]},x=K.xA(c,y,4);
y+=4;var Z=K.Ou(c,y);y+=2;var i=K.q(c,y);y+=4;r.i3=ca.R4(c,y,i);y+=i;var k=K.q(c,y);y+=4;for(var S=0;
S<k;S++){var H=K.q(c,y);y+=4;var V=y,g={A6:{},r1:{}};r.pC.push(g);y+=4;y+=jz.xx(c,g.A6,y);g.A6.Nm.v=B+"/"+g.A6.Nm.v.split("=").pop();
y+=4;y+=jz.xx(c,g.r1,y);y=V+H;var N=g.r1.blendOptions,C=g.r1.Lefx;if(N&&Object.keys(N.v).length>1){}if(C){if(C.v.masterFXSwitch==null)C.v.masterFXSwitch={t:"bool",v:!0};
dy.k$(C.v)}}return r};eL.DE=function(d,W){d.A6.Nm.v=W};eL.dn=function(d){var W=new jD,c=0;K.Lg(W,c,2);
c+=2;K.MA(W,c,"8BSL");c+=4;K.Lg(W,c,3);c+=2;var y=c;c+=4;c=ca.ms(W,c,d.i3);K.zS(W,y,c-y-4);var B=d.pC.length;
K.zS(W,c,B);c+=4;for(var S=0;S<B;S++){c+=4;var r=c,x=d.pC[S];K.zS(W,c,16);c+=4;var Z=x.A6.Nm.v;x.A6.Nm.v=x.A6.Nm.v.split("/").pop();
c+=jz.Nj(W,x.A6,c);x.A6.Nm.v=Z;var i=x.r1.Lefx;if(i){x.r1.Lefx=JSON.parse(JSON.stringify(i));dy.ME(x.r1.Lefx.v)}K.zS(W,c,16);
c+=4;c+=jz.Nj(W,x.r1,c);if(i)x.r1.Lefx=i;K.zS(W,r-4,c-r)}return W.data.slice(0,c).buffer};function je(){}je.qo=function(d,W,c){var y=K.Ou(d,W);
W+=2;var B={};B.Ci=K.Ou(d,W)==1;W+=2;B.Rk=[];for(var S=0;S<10;S++){var r=[];B.Rk.push(r);for(var x=0;
x<4;x++)r.push(K.JS(d,W+x*2));W+=8}var Z=eR.qw("selc");Z.Mthd.v.CrcM=B.Ci?"Absl":"Rltv";for(var S=1;
S<10;S++)je.wz(Z,S-1,B.Rk[S]);return Z};je.tc="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
je.yA=function(d,S){var W=["Cmps","Rd","Grn","Bl"],c={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:W[S]}}]};
return{classID:d,Chnl:c}};je.rz=function(d,W){var c=je.tc;for(var S=0;S<d.length;S++){var y=d[S].v,B=c.indexOf(y.Clrs.v.Clrs);
if(B==W)return S}return-1};je.wz=function(d,W,c){var y=["Cyn","Mgnt","Ylw","Blck"],B={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:je.tc[W]}}};
for(var r=0;r<4;r++)B[y[r]]={t:"UntF",v:{type:"#Prc",val:c[r]}};B={t:"Objc",v:B};var x=d.ClrC.v,Z=je.rz(x,W);
if(Z==-1)x.push(B);else x[Z]=B};je.ar=function(d,W){var c=[0,0,0,0],y=d.ClrC.v,B=je.rz(y,W);if(B==-1)return c;
var r=["Cyn","Mgnt","Ylw","Blck"];for(var S=0;S<4;S++)if(y[B].v[r[S]])c[S]=y[B].v[r[S]].v.val;return c};
je.DG=function(d,W,c){var y={Ci:c.Mthd.v.CrcM=="Absl",Rk:[[0,0,0,0]]};for(var S=0;S<9;S++)y.Rk.push(je.ar(c,S));
d.N5(W,84);K.Dc(d.data,W,1);W+=2;K.Dc(d.data,W,y.Ci?1:0);W+=2;for(var S=0;S<10;S++){var B=y.Rk[S];for(var r=0;
r<4;r++)K.Ag(d.data,W+r*2,B[r]);W+=8}return 84};function kt(){}kt.qw=function(){return{ur:new a8(0,0,50,50),A6:"",XG:"play",Y:v.o.GP.Lb([.1,.1,.9,.5,.1,.9],0)}};
kt.Nr=function(d,W){d=new Uint8Array(d);var c=0,y=[],B=W.split("/").pop().split(".")[0],r=Date.now(),x=K.xA(d,0,4);
c+=4;var Z=K.q(d,c);c+=4;var i=K.q(d,c);c+=4;for(var S=0;S<i;S++){var k=K.BB(d,c);c+=k.length*2+4+2;
if((k.length&1)==0)c+=2;c=kt.a1c(d,c,k,y);y[S].XG=B+"/"+y[S].XG}return y};kt.a1c=function(d,W,c,y){var B=K.q(d,W);
W+=4;var r=K.q(d,W);W+=4;var x=W,Z=K.FQ(d,x).Y4;x+=Z.length+1;var i=K.lX(d,x);x+=16;var k=kt.Mt(d,x,r-(x-W)),H=v.o.Ls(k),V=v.A.c7(H),g=1/V.m,N=1/V.i;
v.o.hn(k,new dT(g,0,0,N,-V.x*g,-V.y*N));y.push({XG:c,A6:Z,Y:k,ur:i});W+=r;return W};kt.DE=function(d,W){d.XG=W};
kt.dn=function(d){var W=new jD,c=0;K.MA(W,c,"cush");c+=4;K.zS(W,c,2);c+=4;K.zS(W,c,d.length);c+=4;for(var S=0;
S<d.length;S++){var y=d[S],B=y.XG.split("/").pop()+"\0";K.a3(W,c,B);c+=4+B.length*2;if((B.length&1)==1)c+=2;
K.zS(W,c,1);c+=4;c+=4;var r=c;K.JG(W,c,y.A6);c+=y.A6.length+1;K.S$(W,c,y.ur);c+=16;W.N5(c,y.Y.length*26);
kt.cF(W.data,c,y.Y,1,1);c+=y.Y.length*26;var x=c-r;if((x&3)!=0)x+=4-(x&3);K.zS(W,r-4,x);c=r+x}return W.data.slice(0,c).buffer};
kt.aCy=function(d){var W=[];for(var S=0;S<d.length;S++){var c=d[S],y=c.type,B={type:y};W.push(B);if(y==6){}else if(y==8)B.all=c.all;
else if(y==0||y==3){B.length=c.length;B.frule=c.p5;B.third=c.H4;B.prmA=c.Be;B.prmB=c.dO}else{B.c=[c.sV.x,c.sV.y,c.I.x,c.I.y,c.XM.x,c.XM.y]}}return W};
kt.agy=function(d){var W=[];for(var S=0;S<d.length;S++){var c=d[S],y=c.type,B={type:y};W.push(B);if(y==6){}else if(y==8)B.all=c.all;
else if(y==0||y==3){B.length=c.length;B.p5=c.frule;B.H4=c.third;B.Be=c.prmA;B.dO=c.prmB}else{var r=c.c;
B.sV=new aL(r[0],r[1]);B.I=new aL(r[2],r[3]);B.XM=new aL(r[4],r[5])}}return W};kt.Mt=function(d,W,c,y,B){if(y==null)y=1;
if(B==null)B=1;function r(w,Y,U){var e=K.aa3(w,Y)*U,O=Math.round(e);return Math.abs(e-O)<1e-6?O:e}var x=K.JS,Z=[],i=Math.floor(c/26);
for(var S=0;S<i;S++){var k=W+S*26,H={},V=0;Z.push(H);H.type=x(d,k);k+=2;if(H.type==6){V=24}if(H.type==8){H.all=x(d,k);
k+=2;V=22}if(H.type==0||H.type==3){H.length=x(d,k);k+=2;H.p5=x(d,k);k+=2;H.H4=x(d,k);k+=2;H.Be=K.q(d,k);
k+=4;H.dO=K.q(d,k);k+=4;V=10}if(H.type==1||H.type==2||H.type==4||H.type==5){var g,N;N=r(d,k,B);k+=4;
g=r(d,k,y);k+=4;H.sV=new aL(g,N);N=r(d,k,B);k+=4;g=r(d,k,y);k+=4;H.I=new aL(g,N);N=r(d,k,B);k+=4;g=r(d,k,y);
k+=4;H.XM=new aL(g,N);V=0}for(var C=0;C<V;C++)if(d[k+C]!=0){console.log("Unexpected non-zero byte!",H,C,d[k+C])}}return Z};
kt.cF=function(d,W,c,y,B){var r=K.Ag,x=K.acm,Z=c.length;for(var S=0;S<Z;S++){var i=W+S*26,k=c[S];r(d,i,k.type);
i+=2;if(k.type==6){}if(k.type==8)r(d,i,k.all);if(k.type==0||k.type==3){r(d,i,k.length);i+=2;r(d,i,k.p5);
i+=2;r(d,i,k.H4);i+=2}if(k.type==1||k.type==2||k.type==4||k.type==5){x(d,i,k.sV.y/B);i+=4;x(d,i,k.sV.x/y);
i+=4;x(d,i,k.I.y/B);i+=4;x(d,i,k.I.x/y);i+=4;x(d,i,k.XM.y/B);i+=4;x(d,i,k.XM.x/y);i+=4}}};function fk(){}fk.Nr=function(d){var W=new Uint8Array(d),c=[],y=0;
if(K.xA(W,0,4)=="ASEF")c=fk.ak0(W);else{y=fk.ayZ(W,y,c);if(y+3<W.length){c=[];y=fk.ayZ(W,y,c)}}return c};
fk.ak0=function(d){var W=[],c=8,y=K.q(d,c),B,r=null,x,Z,i,k;c+=4;for(var H=0;H<y;H++){var V=K.Ou(d,c);
c+=2;var g=K.q(d,c);c+=4;var N=c+g;if(V==49153||V==1){var C=K.Ou(d,c);c+=2;var w=K.qT(d,c,C-1);c+=C*2;
if(V==1)B=w;else r=w}if(V==1){var Y=K.xA(d,c,4);c+=4;x=K.cb(d,c);c+=4;Z=K.cb(d,c);c+=4;i=K.cb(d,c);c+=4;
if(Y=="RGB "){}else if(Y=="CMYK"){k=K.cb(d,c);c+=4;var U=UDOC.C.cmykToRgb([x,Z,i,k]);x=U[0];Z=U[1];i=U[2]}else alert("Unknown color space: "+Y);
W.push({Z:x*255,G:Z*255,J:i*255,hY:(r?r+" : ":"")+B})}c=N}return W};fk.ayZ=function(d,W,c){var y=K.Ou,B=K.JS,r=y(d,W);
W+=2;var x=y(d,W);W+=2;for(var S=0;S<x;S++){var Z=fk.I8(d,W);W+=10;if(r==2){Z.hY=K.BB(d,W);W+=4+Z.hY.length*2+2}c.push(Z)}return W};
fk.I8=function(d,W){var c=K.Ou,y=K.JS,B=c(d,W),N=null;W+=2;var r=c(d,W);W+=2;var x=c(d,W);W+=2;var Z=c(d,W);
W+=2;var i=c(d,W);W+=2;var k=1/65535,H=255/65535,V=100/65535,g=255/1e4;if(B==0)N={Z:r*H,G:x*H,J:Z*H};
else if(B==1){N=v.JB(r*k,x*k,Z*k);N.Z*=255;N.G*=255;N.J*=255}else if(B==2)N=v.L.E5({classID:"CMYC",Cyn:{t:"doub",v:100-r*V},Mgnt:{t:"doub",v:100-x*V},Ylw:{t:"doub",v:100-Z*V},Blck:{t:"doub",v:100-i*V}});
else if(B==7){var C=v.m2(r/100,y(d,W-6)/100,y(d,W-4)/100);N=C}else if(B==8){N={Z:255-r*g,G:255-x*g,J:255-Z*g}}else if(B==18){var w=255*r/16384;
N={Z:w,G:w,J:w}}else{throw B}return N};fk.dn=function(d){var W=new jD,c=0,y=K.Lg;y(W,c,2);c+=2;y(W,c,d.length);
c+=2;for(var S=0;S<d.length;S++){var B=d[S];W.N5(c,10);fk.Yb(W.data,c,B);c+=10;var r=(B.hY?B.hY:"")+"\0";
K.a3(W,c,r);c+=4+r.length*2}return W.data.slice(0,c).buffer};fk.DE=function(d,W){d.hY=W};fk.Yb=function(d,W,c){var y=65535/255,B=K.Dc;
B(d,W,0);B(d,W+2,Math.round(c.Z*y));B(d,W+4,Math.round(c.G*y));B(d,W+6,Math.round(c.J*y));B(d,W+8,0)};
function iY(){}iY.Nr=function(d){var W=new Uint8Array(d),c=4,y={};y.o1=K.BB(W,c);c+=4+y.o1.length*2+2;
y.exp=W[c++]==1;y.nW=[];var B=K.q(W,c);c+=4;for(var S=0;S<B;S++){var r={};y.nW.push(r);r.Wr=K.Ou(W,c);
c+=2;r.shift=W[c++]==1;r.adL=W[c++]==1;r.color=K.Ou(W,c);c+=2;r.o1=K.BB(W,c);c+=4+r.o1.length*2+2;r.exp=W[c++]==1;
r.nW=[];var x=K.q(W,c);c+=4;for(var Z=0;Z<x;Z++){var i={};r.nW.push(i);i.exp=W[c++]==1;i.w=W[c++]==1;
i.a1V=W[c++]==1;i.auj=W[c++];var k=K.xA(W,c,4);c+=4;if(k=="TEXT"){i.cx=iY.agd(W,c);c+=4+i.cx.length}else if(k=="long"){i.cx=K.xA(W,c,4);
c+=4}else throw"e";i.sc=iY.agd(W,c);c+=4+i.sc.length;var H=K.OC(W,c);c+=4;if(H==-1){i.i9={};var V=jz.xx(W,i.i9,c);
c+=V}}}console.log(y);var g=new Uint8Array(iY.dn(y));for(var S=0;S<g.length;S++)if(g[S]!=W[S]&&K.xA(W,S+1,4)!="None"){console.log(W.length,g.length);
var N=4*(S>>>2)-16;console.log(K.jr(W,N,64));console.log(K.jr(g,N,64));console.log(W.slice(N,N+64));
console.log(g.slice(N,N+64));throw"i"}return[y]};iY.agd=function(d,W){var c=K.q(d,W);return K.xA(d,W+4,c)};
iY.aaD=function(d,W,c){K.zS(d,W,c.length);K.MA(d,W+4,c)};iY.dn=function(d){var W=new jD,c=0;K.zS(W,c,16);
c+=4;K.a3(W,c,d.o1+"\0");c+=4+d.o1.length*2+2;W.N5(c,1);W.data[c++]=d.exp?1:0;var y=d.nW.length;K.zS(W,c,y);
c+=4;for(var S=0;S<y;S++){var B=d.nW[S];K.Lg(W,c,B.Wr);c+=2;W.N5(c,2);W.data[c++]=B.shift?1:0;W.data[c++]=B.adL?1:0;
K.Lg(W,c,B.color);c+=2;K.a3(W,c,B.o1+"\0");c+=4+B.o1.length*2+2;W.N5(c,1);W.data[c++]=B.exp?1:0;var r=B.nW.length;
K.zS(W,c,r);c+=4;for(var x=0;x<r;x++){var Z=B.nW[x];W.N5(c,4);W.data[c++]=Z.exp?1:0;W.data[c++]=Z.w?1:0;
W.data[c++]=Z.a1V?1:0;W.data[c++]=Z.auj;var i="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(Z.cx)!=-1;
K.MA(W,c,i?"long":"TEXT");c+=4;if(!i){iY.aaD(W,c,Z.cx);c+=4+Z.cx.length}else{K.MA(W,c,Z.cx);c+=4}iY.aaD(W,c,Z.sc);
c+=4+Z.sc.length;K.Qx(W,c,Z.i9?-1:0);c+=4;if(Z.i9){var k=jz.Nj(W,Z.i9,c);c+=k}}}return W.data.slice(0,c).buffer};
function eo(){}eo.Nr=function(d){var W=new Uint8Array(d),c=0,y=K.q(W,c),i;c+=4;var B=K.xA(W,c,8);c+=8;
var r=K.kK(W,c);c+=4;var x=K.kK(W,c);c+=4;var Z=K.kK(W,c);c+=4;console.log(r,x,Z);if(y==2){i=new Float32Array(d,32,d.byteLength-32>>>2)}else if(y==3||y==4){i=new Float32Array(x*Z*2);
var k=0,H=0,V=!0;c=y==3?32:16+8+40;while(c<W.length){var g=K.kK(W,c);c+=4;if(V)H+=g;else{for(var S=0;
S<g;S++){i[k+H+S<<1]=K.GY(W,c);i[(k+H+S<<1)+1]=K.GY(W,c+4);c+=8}H+=g}V=!V;if(g!=0&&H==x){k+=x;H=0;V=!0;
if(k==x*Z)break}}}else throw"unknown Mesh version: "+y;return{Kp:x,fn:Z,map:i}};eo.Fm=function(d){var W=d.Kp,c=d.fn,y=d.map,B=new Uint8Array(32+c*W*8+c*8),r=0,x=0;
K.Kz(B,r,3);r+=4;K.sv(B,r,"yfqLhseM");r+=8;K.u5(B,r,2);r+=4;K.u5(B,r,W);r+=4;K.u5(B,r,c);r+=4;K.u5(B,r,0);
r+=4;K.u5(B,r,1);r+=4;for(var Z=0;Z<c;Z++){K.u5(B,r,0);r+=4;K.u5(B,r,W);r+=4;for(var i=0;i<W;i++){K.mc(B,r,y[x]);
K.mc(B,r+4,y[x+1]);x+=2;r+=8}}return B.buffer};function ct(){}ct.Nr=function(d){var W=new Uint8Array(d),c=0,y=K.xA(W,c,4);
c+=4;var B=K.Ou(W,c);c+=2;var r=K.q(W,c);c+=4;var x=[];for(var S=0;S<r;S++){var Z=K.q(W,c);c+=4;var i={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
x.push(i);var k=K.BB(W,c);i.Nm.v=k;c+=4+k.length*2+2;var H=K.Ou(W,c);c+=2;var V=K.Ou(W,c);c+=2;for(var g=0;
g<V;g++){var N=v.YF.la(0,0,!0);N.v.Vrtc.v=K.Ou(W,c);c+=2;N.v.Hrzn.v=K.Ou(W,c);c+=2;i.Crv.v.push(N)}if(Z==1){}else if(Z==2){for(var g=0;
g<V;g++){i.Crv.v[g].v.Cnty.v=W[c]==1;c+=1}}else throw"error";var C=K.q(W,c);c+=4;var w=K.q(W,c);c+=4}return x};
ct.DE=function(d,W){d.Nm.v=W};ct.dn=function(d){var W=new jD,c=0;K.MA(W,c,"8BFS");c+=4;K.Lg(W,c,1);c+=2;
K.zS(W,c,d.length);c+=4;for(var S=0;S<d.length;S++){K.zS(W,c,2);c+=4;var y=d[S];K.a3(W,c,y.Nm.v+"\0");
c+=4+y.Nm.v.length*2+2;K.Lg(W,c,2);c+=2;var B=y.Crv.v.length;K.Lg(W,c,B);c+=2;for(var r=0;r<B;r++){var x=y.Crv.v[r];
K.Lg(W,c,x.v.Vrtc.v);c+=2;K.Lg(W,c,x.v.Hrzn.v);c+=2}W.N5(c,B);for(var r=0;r<B;r++){W.data[c]=y.Crv.v[r].v.Cnty.v;
c++}K.zS(W,c,0);c+=4;K.zS(W,c,0);c+=4}return W.data.slice(0,c).buffer};function ca(){}ca.Nr=function(d,W){var c=new Uint8Array(d),y=4,B=W.split("/").pop().split(".")[0],r=K.Ou(c,y);
y+=2;var x=K.q(c,y);y+=4;var Z=[];for(var S=0;S<x;S++){var i={};Z.push(i);y=ca.a3I(c,y,i);i.name=B+"/"+i.name.split("=").pop()}return Z};
ca.DE=function(d,W){d.name=W};ca.dn=function(d){var W=new jD,c=0;K.MA(W,c,"8BPT");c+=4;K.Lg(W,c,1);c+=2;
K.zS(W,c,d.length);c+=4;for(var S=0;S<d.length;S++){var y=d[S],B=y.name;y.name=y.name.split("/").pop();
c=ca.atW(W,c,y);y.name=B}return W.data.slice(0,c).buffer};ca.R4=function(d,W,c){var y=W+c,B=[];while(W<y){var r={},x=K.q(d,W);
W+=4;var Z=W;W=ca.a3I(d,W,r);if(!r.Q$[1].Bb())B.push(r);if(x%4!=0)x+=4-x%4;W=Z+x}return B};ca.ms=function(d,W,c){for(var S=0;
S<c.length;S++){var y=c[S];W+=4;var B=W;W=ca.atW(d,W,y);var r=W-B;K.zS(d,B-4,r);if(r%4!=0)B+=4-r%4;W=B+r}return W};
ca.a3I=function(d,W,c){var y=K.q(d,W);W+=4;if(y!=1)alert("Unknown version of pattern");var B=K.q(d,W);
W+=4;if(B!=1&&B!=2&&B!=3)console.log("Unsupported mode of pattern: "+B);var r=K.Ou(d,W);W+=2;var x=K.Ou(d,W);
W+=2;var Z=new a8(0,0,x,r);c.name=K.BB(d,W);W+=4+2*c.name.length+2;var i=d[W];W++;c.id=K.xA(d,W,i);W+=c.id.length;
var k=-1;if(B==2){k=W;W+=3*256+4}var H=new v.ii(x*r);W=ca.avU(d,W,H);if(B==2){for(var S=0;S<H.Z.length;
S++){var V=3*H.Z[S];H.Z[S]=d[k+V+0];H.G[S]=d[k+V+1];H.J[S]=d[k+V+2]}}var g=v.R(Z.P()*4);v.KU(H,g);c.Q$=[g,Z];
return W};ca.atW=function(d,W,c){var y=c.Q$[0],B=c.Q$[1];K.zS(d,W,1);W+=4;K.zS(d,W,3);W+=4;K.Lg(d,W,B.i);
W+=2;K.Lg(d,W,B.m);W+=2;K.a3(d,W,c.name+"\0");W+=4+2*c.name.length+2;K.YB(d,W,c.id.length);W++;K.MA(d,W,c.id);
W+=c.id.length;var r=new v.ii(B.P());v.AH(y,r);W=ca.apZ(d,W,r,B);return W};ca.avU=function(d,W,c){var y=W,B={qe:null,M:[],aAo:null,RM:null},r=K.q(d,W);
W+=4;var x=K.q(d,W);W+=4;B.qe=K.lX(d,W);W+=16;var Z=K.q(d,W);W+=4;for(var S=0;S<Z+2;S++){var i=K.q(d,W);
W+=4;if(i==0)continue;var k=K.q(d,W);W+=4;if(k==0)continue;var H=K.q(d,W);W+=4;var V=K.lX(d,W);W+=16;
var g=K.Ou(d,W);W+=2;var N=d[W];W++;var C=eu.qa(!1,H,d,V.m,V.i,W,N);if(S<Z)B.M.push(C);if(S==Z)B.aAo=C;
if(S==Z+1)B.RM=C;W+=k-23}if(!B.qe.Bb()){if(B.M[0])c.Z=B.M[0];if(B.M[1])c.G=B.M[1];else c.G=B.M[0].slice(0);
if(B.M[2])c.J=B.M[2];else c.J=B.M[0].slice(0);if(B.RM)c.U=B.RM;else c.U.fill(255)}return W};ca.apZ=function(d,W,c,y){var B=W,r={qe:y,M:[c.Z,c.G,c.J],aAo:null,RM:c.U};
K.zS(d,W,3);W+=4;K.zS(d,W,0);W+=4;K.S$(d,W,y);W+=16;K.zS(d,W,24);W+=4;for(var S=0;S<24+2;S++){var x=W,Z=S<3||S==25?1:0;
K.zS(d,W,Z);W+=4;if(Z==0)continue;K.zS(d,W,0);W+=4;K.zS(d,W,8);W+=4;K.S$(d,W,y);W+=16;K.Lg(d,W,8);W+=2;
K.YB(d,W,1,1);W++;var i=S<3?r.M[S]:r.RM;d.N5(W,y.P()+2);W=eu.ZI(!1,i,d.data,y.m,y.i,W,1);K.zS(d,x+4,W-x-8)}K.zS(d,B+4,W-B-8);
return W};function bs(){}bs.Nr=function(d,W){var c=new Uint8Array(d),B=0;if(c[0]==71)return bs.aDS(c);
var y=W.split("/").pop().split(".")[0],r=K.xA(c,B,4);B+=4;var x=K.Ou(c,B);B+=2;var Z=[];if(x<=3){var i=K.Ou(c,B);
B+=2;for(var S=0;S<i;S++){var k=c[B++],H=K.xA(c,B,k);B+=k;var V=bs.a6s(c,B,H),g=V[0];B=V[1];Z.push(g)}}else{var V={},N=jz.xx(c,V,B+4),C=V.GrdL.v;
for(var S=0;S<C.length;S++)Z[S]=C[S].v.Grad.v}for(var S=0;S<Z.length;S++){var w=Z[S].Nm.v.split("/").pop().split("=").pop();
Z[S].Nm.v=y+"/"+w}return Z};bs.DE=function(d,W){d.Nm.v=W};bs.dn=function(d){var W=new jD,c=0;K.MA(W,c,"8BGR");
c+=4;K.Lg(W,c,5);c+=2;K.zS(W,c,16);c+=4;var y={classID:"null",GrdL:{t:"VlLs",v:[]}},B=y.GrdL.v;for(var S=0;
S<d.length;S++){var r=JSON.parse(JSON.stringify(d[S]));r.Nm.v=r.Nm.v.split("/").pop();B[S]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:r}}}}c+=jz.Nj(W,y,c);
return W.data.slice(0,c).buffer};bs.a6s=function(d,W,c){var y={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:c},Trns:{t:"VlLs",v:[]}},B=K.Ou(d,W);
W+=2;if(B==0)throw"e";for(var S=0;S<B;S++){var r=K.q(d,W),x=K.q(d,W+4),Z=fk.I8(d,W+8),i={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:Z.Z},Grn:{t:"doub",v:Z.G},Bl:{t:"doub",v:Z.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:r},Mdpn:{t:"long",v:x}}};
y.Clrs.v.push(i);W+=20}var k=K.Ou(d,W);W+=2;for(var S=0;S<k;S++){var r=K.q(d,W),x=K.q(d,W+4),H=K.Ou(d,W+8),i={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*H/255)}},Lctn:{t:"long",v:r},Mdpn:{t:"long",v:x}}};
y.Trns.v.push(i);W+=10}var V=K.Ou(d,W);W+=2;y.Intr.v=V==2?K.Ou(d,W):4096;W+=2;var g=K.Ou(d,W);W+=2;return[y,W]};
bs.ast=function(d,W,c){var y=c.Clrs.v.length;K.Lg(d,W,y);W+=2;for(var S=0;S<y;S++){var B=c.Clrs.v[S];
K.zS(d,W,B.v.Lctn.v);K.zS(d,W+4,B.v.Mdpn.v);K.Lg(d,W+8,0);var r=v.L.FV(v.L.E5(B.v.Clr.v)),x=[r.Rd.v,r.Grn.v,r.Bl.v,0];
for(var Z=0;Z<4;Z++)K.Lg(d,W+10+Z*2,Math.round(65535*(x[Z]/255)));W+=20}var i=c.Trns.v.length;K.Lg(d,W,i);
W+=2;for(var S=0;S<i;S++){var B=c.Trns.v[S];K.zS(d,W,B.v.Lctn.v);K.zS(d,W+4,B.v.Mdpn.v);K.Lg(d,W+8,Math.round(255*B.v.Opct.v.val/100));
W+=10}K.Lg(d,W,2);W+=2;K.Lg(d,W,c.Intr.v);W+=2;K.Lg(d,W,32);W+=2;return W};bs.aDS=function(d){var W=K.uw(d,0,d.length).split("\n"),c=parseFloat(W[2]),y=[],B=JSON.parse(bV._R[bV.order.indexOf("GrFl")]).Grad.v;
B.Intr.v=0;B.Nm.v=W[1];for(var S=0;S<c;S++){var r=W[3+S].split(" ").map(parseFloat),x=r[11],Z=r[12];
y.push([r[0],r.slice(3,6),r[6]]);if(Z!=0){var i=v.CG(r[3],r[4],r[5]),k=v.CG(r[7],r[8],r[9]),H=i.fn,V=k.fn;
if(Z==1&&H>V)V++;if(Z==2&&H<V)H++;var g=Math.round(Math.abs(V-H)*7);if(g>1)for(var N=0;N<g;N++){var C=1-(N+1)/(g+1),w=1-C,Y=v.JB(C*H+w*V,C*i.Td+w*k.Td,C*i.Za+w*k.Za);
y.push([C*r[0]+w*r[2],[Y.Z,Y.G,Y.J],C*r[6]+w*r[10]])}}y.push([r[2],r.slice(7,10),r[10]])}y.sort(function(U,e){return U[0]-e[0]});
v.L.GW(y,B);return[B]};function ft(){}ft.Nr=function(d){var W=new Uint8Array(d),c=[],y=[],B=[],r=[],x=[],Z=0,i=K.xA(W,Z,4);
Z+=4;var k=K.q(W,Z);Z+=4;var H=K.q(W,Z);Z+=4;while(Z<W.length){var V=K.xA(W,Z,4);Z+=4;var g=K.xA(W,Z,4);
Z+=4;var N=K.q(W,Z);Z+=4;if(g=="tppa"){y=ca.R4(W,Z,N);Z+=N}else if(g=="tpbd"){B=ew.ayw(W,Z,N,1,1);Z+=N}else if(g=="tptp"){var C=K.q(W,Z);
Z+=4;for(var S=0;S<C;S++){var w=K.BB(W,Z);Z+=6+w.length*2;Z+=4;var Y={};Z+=jz.xx(W,Y,Z);c.push([w,Y])}while((Z&3)!=0)Z++}else if(g=="tpsh"){var U=Z,e=W.slice(Z,Z+N);
while(Z<U+N){var O=K.q(W,Z);Z+=4;Z=kt.a1c(W,Z,"Shape",r)}Z=U+N}else if(g=="tpst"){var U=Z;Z+=4;while(Z<U+N){var l=K.q(W,Z);
Z+=4;var I=Z,s=K.q(W,Z);Z+=4;var Y={A6:{},r1:{}};x.push(Y);Z+=4;Z+=jz.xx(W,Y.A6,Z);Z+=4;Z+=jz.xx(W,Y.r1,Z);
Z=I+l;var z=Y.r1.Lefx;if(z){if(z.v.masterFXSwitch==null)z.v.masterFXSwitch={t:"bool",v:!0};dy.k$(z.v)}}Z=U+N}else{console.log(W.slice(Z-8,Z+64));
console.log(K.xA(W,Z-8,64));throw g}}return{pb:B,An:y,list:c,a73:r,pC:x}};ft.DE=function(d,W){d[0]=W};
ft.dn=function(d){var W=new jD,c=0;K.MA(W,c,"8BTP");c+=4;K.zS(W,c,3);c+=4;K.zS(W,c,1);c+=4;var y=[d.An,d.pb,d.list];
for(var S=0;S<3;S++){if(y[S].length==0)continue;K.MA(W,c,"8BIM");c+=4;var B=["tppa","tpbd","tptp"][S];
K.MA(W,c,B);c+=4;var r=c;c+=4;if(B=="tppa"){c=ca.ms(W,c,d.An)}else if(B=="tpbd"){c=ew.afl(W,c,d.pb)}else if(B=="tptp"){K.zS(W,c,d.list.length);
c+=4;for(var x=0;x<d.list.length;x++){var Z=d.list[x];K.a3(W,c,Z[0]+"\0");c+=6+Z[0].length*2;K.zS(W,c,16);
c+=4;c+=jz.Nj(W,Z[1],c)}}K.zS(W,r,c-r-4);while((c&3)!=0)c++;W.N5(c,0)}return W.data.slice(0,c).buffer};
function e7(){}e7.Nr=function(d,W){var c=new Uint8Array(d),y;if(K.q(c,0)==c.length)y="icc";else if(c[0]=="<".charCodeAt(0))y="look";
else if(K.J7(c,"LUT_3D_SIZE")!=-1)y="cube";else y="3DL";if(y!="icc"){var B=e7.anY(c,y),r=e7.am7(B[0],B[1]);
c=r}var x=[];for(var S=0;S<c.length;S++)x.push(c[S]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:W?W:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:x}}]};
e7.dn=function(d){var W=d[0],c=new Uint8Array(W.profile.v);return c.buffer};e7.DE=function(d,W){d.Nm.v=W};
e7.am7=function(d,W){var c=new jD,y=128;c.N5(0,128);var B=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var S=0;S<B.length;S++)c.data[S]=B[S];var r=["desc","A2B0"],x=r.length,Z=128+4+x*12;K.zS(c,y,x);
y+=4;for(var i=0;i<x;i++){var k=r[i];K.MA(c,y,k);y+=4;K.zS(c,y,Z);y+=4;var H=Z;if(k=="desc"){K.MA(c,H,"mluc");
H+=4;H+=4;K.zS(c,H,1);H+=4;K.zS(c,H,12);H+=4;K.MA(c,H,"enUS");H+=4;var V="ICC by Photopea\0",g=V.length*2+2;
K.zS(c,H,g);H+=4;K.zS(c,H,28);H+=4;c.N5(H,g);for(var S=0;S<V.length;S++)c.data[H+S*2+1]=V.charCodeAt(S);
H+=g}if(k=="A2B0"){K.MA(c,H,"mAB ");H+=4;H+=4;c.N5(H,4);c.data[H]=3;c.data[H+1]=3;H+=4;c.N5(H,4*5);H+=4*3;
K.zS(c,H,H+8-Z);H+=4;H+=4;c.N5(H,20);c.data[H]=d;c.data[H+1]=d;c.data[H+2]=d;H+=16;c.data[H]=2;H+=4;
var N=d*d*d*3;c.N5(H,N*2);for(var S=0;S<N;S++)K.Dc(c.data,H+S*2,Math.max(0,Math.min(65535,Math.round(W[S]*65535))));
H+=N*2}var C=H-Z;while((C&3)!=0)C++;K.zS(c,y,C);y+=4;Z+=C}K.zS(c,0,Z);return c.data.slice(0,Z)};e7.anY=function(d,W){W="LUTFormat"+W.toUpperCase();
var c=[],y=0,B=K.uw(d,0,d.length),r="";for(var S=0;S<d.length&&r=="";S++){if(d[S]==10)r="\n";else if(d[S]==13){r="\r";
if(d[S+1]==10)r+="\n"}}if(W=="LUTFormatCUBE"){var x=B.split(r);for(var S=0;S<x.length;S++){if(x[S]==""||x[S][0]=="#")continue;
var Z=x[S].split(" "),i=Z[0];if(i=="LUT_3D_SIZE"){y=parseInt(Z[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(i)!=-1)continue;
c.push(parseFloat(Z[0]),parseFloat(Z[1]),parseFloat(Z[2]))}c=e7.akB(y,c)}else if(W=="LUTFormat3DL"){var x=B.split(r),k=1/4095;
for(var S=0;S<x.length;S++){var H=x[S];if(H==""||H=="3DMESH"||H.startsWith("Mesh")||H[0]=="#")continue;
var Z=H.split(" "),i=Z[0];if(y==0){y=Z.length;continue}c.push(parseFloat(Z[0])*k,parseFloat(Z[1])*k,parseFloat(Z[2])*k)}}else if(W=="LUTFormatLOOK"){var V=new DOMParser,g=V.parseFromString(B,"text/xml"),N=g.getElementsByTagName("LUT")[0],C=N.children[0].textContent;
y=parseInt(JSON.parse(C));var w=N.children[1].textContent;w=w.replace(/"/g,"").replace(/\s/g,"");var Y=3*y*y*y,U=Y*4,e=new Uint8Array(U);for(var S=0;S<U;S++){var O=w.charCodeAt(S*2),l=w.charCodeAt(S*2+1),I=O<58?O-48:O-55,s=l<58?l-48:l-55;e[S]=(I<<4)+s}for(var S=0;S<Y;S++)c.push(K.GY(e,S<<2));c=e7.akB(y,c)}else throw W;return[y,c]};e7.arY=function(d,W,c){var y=["#Created by www.Photopea.com","TITLE \""+c+"\"","","#LUT size","LUT_3D_SIZE "+W,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],B=6;
for(var S=0;S<d.length;S+=3){y.push(d[S].toFixed(B)+" "+d[S+1].toFixed(B)+" "+d[S+2].toFixed(B))}y.push("");
return K.$N(y.join("\n")).buffer};e7.akB=function(d,W){var c=[],y=d*d*d;for(var S=0;S<y;S++)c.push(0,0,0);
for(var B=0;B<d;B++)for(var r=0;r<d;r++)for(var x=0;x<d;x++){var S=3*(x+r*d+B*d*d),Z=3*(B+r*d+x*d*d);
c[Z]=W[S];c[Z+1]=W[S+1];c[Z+2]=W[S+2]}return c};function jz(){}jz.xx=function(d,W,c,y,B){var r=c,x;if(B==null)B=0;
var Z=K.q(d,c);if(Z==0){x="";c+=4}else{x=K.BB(d,c);c+=4+2*x.length+2}if(x!="")W.__name=x;W.classID=jz.vU(d,c);
if(y)console.log("\t".repeat(B),"- reading descriptor",W.classID,c);c+=jz.h_(d,c);var i=K.OC(d,c);c+=4;
for(var S=0;S<i;S++){var k=jz.vU(d,c);c+=jz.h_(d,c);var H=jz.apb(d,c,y,B);W[k]=H;c+=H.size;delete H.size}return c-r};
jz.Nj=function(d,W,c,y){var B=c,r=W.__name;if(r==null)r="";r+="\0";K.a3(d,c,r);c+=4+2*r.length;jz.nH(d,c,W.classID);
c+=jz.h_(d.data,c);K.Qx(d,c,Object.keys(W).length-1-(W.__name==null?0:1));c+=4;for(var x in W){if(x=="classID")continue;
if(x=="__name")continue;jz.nH(d,c,x);c+=jz.h_(d.data,c);c+=jz.a3C(d,c,W[x])}return c-B};jz.apb=function(d,W,c,y){var B=W,r=K.xA(d,W,4);
W+=4;var x={size:0,t:r,v:null};if(c)console.log("\t".repeat(y),"reading key",r,B);switch(r){case"obj ":case"VlLs":x.v=[];
var Z=K.q(d,W);W+=4;for(var S=0;S<Z;S++){var i=jz.apb(d,W,c,y+1);W+=i.size;delete i.size;x.v.push(i)}break;
case"UntF":x.v={type:K.xA(d,W,4),val:K.zZ(d,W+4)};W+=12;break;case"doub":x.v=K.zZ(d,W);W+=8;break;case"bool":x.v=d[W]==1;
W+=1;break;case"long":x.v=K.OC(d,W);W+=4;break;case"comp":x.v=K.OC(d,W+4);W+=8;break;case"Objc":x.v={};
var k=jz.xx(d,x.v,W,c,y+1);W+=k;break;case"TEXT":var H=K.q(d,W);if(H==0){x.v="";W+=4}else{x.v=K.BB(d,W);
W+=4+x.v.length*2+2}break;case"enum":var V=jz.vU(d,W);W+=jz.h_(d,W);var g=jz.vU(d,W);W+=jz.h_(d,W);x.v={};
x.v[V]=g;break;case"tdta":var N=K.OC(d,W);W+=4;x.v=[];for(var S=0;S<N;S++)x.v.push(d[W+S]);W+=N;break;
case"ObAr":var C=K.q(d,W);W+=4;var w=K.BB(d,W);W+=4+2*w.length+2;if(w!="")throw w;var Y=jz.vU(d,W);W+=4+Math.max(4,Y.length);
x.v={classID:Y,arr:[]};var U=K.q(d,W);W+=4;for(var S=0;S<U;S++){var Y=jz.vU(d,W);W+=4+Math.max(4,Y.length);
var V=K.xA(d,W,4);W+=4;var e=K.xA(d,W,4);W+=4;var O={id:Y,type:V,uID:e,arr:[]};x.v.arr.push(O);var l=K.q(d,W,4);
W+=4;for(var I=0;I<l;I++){var s=K.zZ(d,W);W+=8;O.arr.push(s)}}break;case"Pth ":var z=W,N=K.q(d,W);W+=4;
var R=K.xA(d,W,4);W+=4;var t=K.kK(d,W);W+=4;var a=K.aC5(d,W);W+=4+a.length*2;x.v={sig:R,pth:a};break;
case"Clss":case"type":case"rele":var a=K.BB(d,W);W+=4+a.length*2+2;var J=jz.vU(d,W);W+=4+Math.max(4,J.length);
x.v={classID:J};if(a!="")x.v.__name=a;if(r=="rele"){x.v.val=K.OC(d,W);W+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var F=jz.gx[r],a=K.BB(d,W);
W+=4+a.length*2+2;if(a.length!=0){console.log(r,a);throw"e"}x.v={};for(var S=0;S<F.length;S++){var J=jz.vU(d,W);
W+=4+Math.max(4,J.length);x.v[F[S]]=J}if(r=="name"){var a=K.BB(d,W);W+=4+a.length*2+2;x.v.val=a}if(r=="indx"||r=="Idnt"){x.v.val=K.q(d,W);
W+=4}break;case"alis":var N=K.q(d,W);W+=4;x.v=K.xA(d,W,N);W+=N;break;default:{console.log("unknown oskey: "+r+", "+B);
throw"e";return x}}if(c){console.log("\t".repeat(y),x.v);console.log("\t".repeat(y),"======",W)}x.size=W-B;
return x};jz.gx={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
jz.a3C=function(d,W,c){var y=W,B=c.t;c=c.v;K.MA(d,W,B);W+=4;switch(B){case"obj ":case"VlLs":K.Qx(d,W,c.length);
W+=4;for(var r=0;r<c.length;r++){var x=jz.a3C(d,W,c[r]);W+=x}break;case"UntF":K.MA(d,W,c.type);K.PB(d,W+4,c.val);
W+=12;break;case"doub":K.PB(d,W,c);W+=8;break;case"bool":K.YB(d,W,c?1:0,1);W+=1;break;case"long":K.Qx(d,W,c);
W+=4;break;case"comp":K.Qx(d,W+4,c);W+=8;break;case"Objc":var x=jz.Nj(d,c,W);W+=x;break;case"TEXT":K.a3(d,W,c+"\0");
W+=4+c.length*2+2;break;case"enum":var Z=Object.keys(c)[0],i=c[Z];jz.nH(d,W,Z);W+=jz.h_(d.data,W);jz.nH(d,W,i);
W+=jz.h_(d.data,W);break;case"tdta":K.zS(d,W,c.length);W+=4;K.lK(d,W,c);W+=c.length;break;case"ObAr":K.zS(d,W,c.arr[0].arr.length);
W+=4;K.a3(d,W,"\0");W+=6;jz.nH(d,W,c.classID);W+=4+Math.max(4,c.classID.length);K.zS(d,W,c.arr.length);
W+=4;for(var S=0;S<c.arr.length;S++){var k=c.arr[S];jz.nH(d,W,k.id);W+=4+Math.max(4,k.id.length);K.MA(d,W,k.type);
W+=4;K.MA(d,W,k.uID);W+=4;K.zS(d,W,k.arr.length);W+=4;for(var r=0;r<k.arr.length;r++){K.PB(d,W,k.arr[r]);
W+=8}}break;case"Pth ":var H=c.pth.length*2+4+8;K.zS(d,W,H);W+=4;K.MA(d,W,c.sig);W+=4;K.c6(d,W,H);W+=4;
K.anL(d,W,c.pth);W+=c.pth.length*2+4;break;case"Clss":case"type":case"rele":var V=c.__name;if(V==null)V="";
K.a3(d,W,V+"\0");W+=4+V.length*2+2;var g=c.classID;jz.nH(d,W,g);W+=4+Math.max(4,g.length);if(B=="rele"){K.Qx(d,W,c.val);
W+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var N=jz.gx[B];K.zS(d,W,1);W+=6;for(var S=0;
S<N.length;S++){var g=c[N[S]];jz.nH(d,W,g);W+=4+Math.max(4,g.length)}if(B=="name"){K.a3(d,W,c.val+"\0");
W+=4+c.val.length*2+2}if(B=="indx"||B=="Idnt"){K.zS(d,W,c.val);W+=4}break;case"alis":var H=c.length;
K.zS(d,W,H);W+=4;K.MA(d,W,c);W+=H;break;default:console.log("unknown oskey: "+B);W=y;break}return W-y};
jz.vU=function(d,W){var c=K.OC(d,W);if(c>1e3)throw"e";if(c==0)c=4;return K.xA(d,W+4,c).trim()};jz.h_=function(d,W){var c=K.OC(d,W);
return c==0?8:4+c};jz.nH=function(d,W,c){var y="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),B=4<c.length||y.indexOf(c)!=-1;
K.Qx(d,W,B?c.length:0);K.MA(d,W+4,c);if(c.length<4&&!B){var r="";for(var S=c.length;S<4;S++)r+=" ";K.MA(d,W+4+c.length,r)}};
jz.asw=function(d){var W={};for(var c in d){if(c=="classID")W[c]=d[c];else if(c=="__name")W[c]=d[c];
else W[c]=jz.aak(d[c])}return W};jz.aak=function(d){if(d.VQ=="Objc")return jz.asw(d.v);else if(d.VQ=="VlLs"){var W=[];
for(var S=0;S<d.v.length;S++)W.push(jz.aak(d.v[S]));return W}else if(d.VQ=="UntF")return d.v.val;else return d.v};
function dy(){}dy.a3k=function(d,W,c,y,B,r){while(W<c){var x=K.xA(d,W,4);W+=4;if(x!="8BIM"&&x!="8B64"){console.log("layer information signature error! "+x,"PSB = "+B);
alert("Error in PSD file: wrong signature.");return c}var Z=K.xA(d,W,4);W+=4;var i=K.q(d,W);W+=4;var k=B&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(Z)!=-1;
if(k){i=i<<32|K.OC(d,W);W+=4}var H=["lrFX","PlLd"];if(H.indexOf(Z)!=-1){if(i%4!=0)i+=4-i%4;W+=i;continue}switch(Z){case"iOpa":y[Z]=d[W];
break;case"brst":y[Z]=[1,1,1];for(var S=0;S<i;S+=4)y[Z][K.q(d,W+S)]=0;break;case"knko":y[Z]=d[W];break;
case"infx":y[Z]=d[W];break;case"clbl":y[Z]=d[W];break;case"lmgm":y[Z]=d[W];break;case"vmgm":y[Z]=d[W];
break;case"fcmy":y[Z]=d[W];break;case"lyid":y[Z]=K.q(d,W);break;case"lsct":y[Z]={type:K.q(d,W)};if(i>=12)y[Z].E9=K.xA(d,W+8,4);
break;case"lsdk":y.lsct={type:K.q(d,W)};break;case"lyvr":y[Z]=K.q(d,W);break;case"lnsr":var V={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
y[Z]=K.xA(d,W,4);break;case"lspf":y[Z]=K.q(d,W);break;case"lclr":y[Z]=K.Ou(d,W);break;case"luni":y[Z]=K.VB(d,W);
break;case"fxrp":y[Z]=new aL(K.zZ(d,W),K.zZ(d,W+8));break;case"artb":case"artd":y[Z]={};jz.xx(d,y[Z],W+4);
break;case"SoCo":y[Z]={};jz.xx(d,y[Z],W+4);break;case"GdFl":y[Z]={};jz.xx(d,y[Z],W+4);dy.AS(y[Z],Z);
break;case"PtFl":y[Z]={};jz.xx(d,y[Z],W+4);dy.AS(y[Z],Z);break;case"CgEd":y[Z]={};jz.xx(d,y[Z],W+4);
break;case"brit":var g=y.brit=eR.qw("brit"),N={};g.Brgh.v=K.JS(d,W);g.Cntr.v=K.JS(d,W+2);g.useLegacy.v=!0;
break;case"levl":var C=d.buffer.slice(W,W+i);y[Z]=fr.Nr(C);break;case"curv":y[Z]=d8.qo(d,W,i);break;
case"expA":var w=K.Ou(d,W),Y=y[Z]=eR.qw("expA");Y.Exps.v=K.cb(d,W+2);Y.Ofst.v=K.cb(d,W+6);Y.gammaCorrection.v=K.cb(d,W+10);
break;case"vibA":y[Z]={};jz.xx(d,y[Z],W+4);break;case"hue2":y[Z]=fA.qo(d,W,i);break;case"blnc":var Y=y[Z]=eR.qw(Z);
Y.PrsL.v=d[W+18]==1;var U=["ShdL","MdtL","HghL"];for(var S=0;S<3;S++)for(var e=0;e<3;e++)Y[U[S]].v[e].v=K.JS(d,W+S*6+e*2);
break;case"blwh":var O={};jz.xx(d,O,W+4);var Y=eR.qw(Z),l="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var S=0;S<l.length;S++){Y[l[S]]=O[l[S]];delete O[l[S]]}y[Z]=Y;break;case"phfl":var Y=y[Z]=eR.qw(Z),I=Y.Clr.v,w=K.Ou(d,W);
if(w==3){var s=[K.q(d,W+2),K.q(d,W+6),K.q(d,W+10)],z=32768,R=v.amg(s[0]/z,s[1]/z,s[2]/z);I.Lmnc.v=R.ns;
I.A.v=R.U;I.B.v=R.J}if(w==2){var t=K.Ou(d,W+2);if(t!=7)throw"e";I.Lmnc.v=K.JS(d,W+4)/100;I.A.v=K.JS(d,W+6)/100;
I.B.v=K.JS(d,W+8)/100}var a=W+2+(w==3?12:10);Y.Dnst.v=K.q(d,a);a+=4;Y.PrsL.v=d[a]==1;break;case"mixr":var J={pO:K.Ou(d,W+2)==1,b:[]};
for(var S=0;S<20;S++)J.b.push(K.JS(d,W+4+S*2));y[Z]=bN.aCt(J);break;case"clrL":case"rplc":y[Z]={};jz.xx(d,y[Z],W+6);
break;case"nvrt":y[Z]={};break;case"post":y[Z]=eR.qw("post");y[Z].Lvls.v=K.Ou(d,W);break;case"thrs":y[Z]=eR.qw("thrs");
y[Z].Lvl.v=K.Ou(d,W);break;case"grdm":var F=W,h=K.Ou(d,F);F+=2;var m=d[F]==1,D=d[F+1]==1;F+=2;var _=K.xA(d,F,4);
if(_=="Perc"||_=="Gcls"||_=="Lnr "||_=="\0\0\x0B\x1D")F+=4;var n=K.VB(d,F);F+=4+n.length*2;var j=bs.a6s(d,F,n),T=j[0];
F=j[1];var L=K.Ou(d,F);F+=2;var p=K.q(d,F);F+=4;var E=K.Ou(d,F)==1;F+=2;var G=K.Ou(d,F)==1;F+=2;var A=K.q(d,F);
F+=4;var u=K.Ou(d,F);F+=2;var q=[],o=[];for(var S=0;S<4;S++){q.push({t:"long",v:~~(K.Ou(d,F+S*2)*100/32768)});
o.push({t:"long",v:~~(K.Ou(d,F+S*2+8)*100/32768)})}F+=16;var M=K.Ou(d,F);F+=2;if(L==1)T={classID:"Grdn",Nm:{t:"TEXT",v:n},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:E},VctC:{t:"bool",v:G},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:p},Smth:{t:"long",v:A},Mnm:{t:"VlLs",v:q},Mxm:{t:"VlLs",v:o}};
var $=eR.qw("grdm");$.Rvrs.v=m;$.Grad.v=T;y[Z]=$;break;case"selc":y[Z]=je.qo(d,W,i);break;case"vmsk":case"vsms":var Q=y.vmsk=new e8.vw,kF=K.OC(d,W+4),P=(kF>>0&1)==1;
Q.Ps=(kF>>1&1)==0;Q.isEnabled=(kF>>2&1)==0;Q.Y=kt.Mt(d,W+8,i-8,r.m,r.i);break;case"shmd":y[Z]={};var bM=K.q(d,W),a=W+4;
for(var S=0;S<bM;S++){var x=K.xA(d,a,4);a+=4;var jW=K.xA(d,a,4);a+=4;var fX=d[a];a++;if(Math.max(d[a],d[a+1])!=0)throw"e";
a+=3;var bX=K.q(d,a);a+=4;if(jW=="cust"||jW=="cmls"||jW=="extn"||jW=="mlst"){var ao=K.q(d,a);if(ao!=16)a+=4;
if(K.q(d,a)==16){var O={};jz.xx(d,O,a+4,!1);y[Z][jW]=O;if(jW=="cmls")X.JK.aAp(y[Z][jW])}}else{console.log("unknown shmd key: "+jW+", size: "+bX)}a+=bX}break;
case"shpa":var w=K.q(d,W),en=K.q(d,W+4);if(en!=0)console.log("some patterns present!");break;case"TySh":var fK=y[Z]={},w=K.Ou(d,W);
fK.e=K.Kq(d,W+2);var bO=K.Ou(d,W+2+48);fK.wy={};try{var b9=jz.xx(d,fK.wy,W+56)}catch(jj){y[Z]=null;break}var bK=it.aeV();
for(var f0 in bK)if(fK.wy[f0]==null)fK.wy[f0]=bK[f0];fK.uI={};var hn=jz.xx(d,fK.uI,W+56+b9+6);fK.Nz=K.au0(d,W+56+b9+6+hn);
fK.p$=dN.Nr(fK.wy.EngineData.v);it.abt(fK.p$.EngineDict.StyleRun.RunArray);if(fK.p$.ResourceDict==null)fK.p$.ResourceDict=JSON.parse(JSON.stringify(fK.p$.DocumentResources));
delete fK.wy.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var hX=K.q(d,W),gR=K.q(d,W+4);y.lmfx={};
var b9=jz.xx(d,y.lmfx,W+8);dy.k$(y.lmfx);break;case"FMsk":y[Z]=K._J(d,W,i);break;case"Txt2":y[Z]={};
y[Z].raw=K._J(d,W,i);y[Z].co=ae.Nr(y[Z].raw);break;case"Patt":y[Z]=ca.R4(d,W,i);break;case"SoLd":var ib=K.xA(d,W,4),gU=K.q(d,W+4),hq=K.q(d,W+8),ip=y[Z]={},aW=jz.xx(d,ip,W+12),kN=ip.warp,hW=ip.quiltWarp;
if(hW==null)hW=ip.quiltWarp=v.lk.aec(kN);delete ip.warp;var jH=hW.v.warpStyle.v.warpStyle,g0=hW.v.warpValues;
if(jH!="warpCylinder"&&g0){hW.v.warpValue={t:"doub",v:g0.v[0].v};delete hW.v.warpValues}if(ip.nonAffineTransform==null)ip.nonAffineTransform=JSON.parse(JSON.stringify(ip.Trnf));
if(ip.Impr==null)ip.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var gU=K.q(d,W);
y[Z]={};var aW=jz.xx(d,y[Z],W+4);break;case"vscg":var jW=K.xA(d,W,4),gU=K.q(d,W+4);y[jW]={};var aW=jz.xx(d,y[jW],W+8);
dy.AS(y[jW],jW);break;case"vogk":var gC=K.q(d,W),gU=K.q(d,W+4);y[Z]={};var aW=jz.xx(d,y[Z],W+8);y[Z]=y[Z].keyDescriptorList.v;
for(var S=0;S<y[Z].length;S++){var jL=y[Z][S].v;if(!v.dr.wI(jL))continue;if(jL.keyOriginBoxCorners==null){var jf=v.dr.qS(jL);
jL.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var cm=[jf[0],jf[1],jf[2],jf[1],jf[2],jf[3],jf[0],jf[3]];
if(jL.keyOriginType.v==4)cm=v.dr.auW(v.dr.LL(jL),jL.keyOriginLineWeight.v);v.dr.Tg(jL,"keyOriginBoxCorners",cm)}}break;
case"lnk2":case"lnkD__":case"lnk3__":y[Z]=[];var F=W;while(F<W+i){var eh=new e8.Wh;y[Z].push(eh);var bu=K.SH(d,F);
F+=8;var eJ=F;eh.type=K.xA(d,F,4);F+=4;if(eh.type!="liFD"){alert("Unknown Linked Layer type: "+eh.type);
break;throw eh.type}eh.se=K.q(d,F);F+=4;var eZ=K.FQ(d,F);F+=1+eZ.Y4.length;eh.QY=eZ.Y4;eh.Kh=K.BB(d,F);
F+=4+eh.Kh.length*2+2;eh.pF=K.xA(d,F,4);F+=4;eh.CX=K.xA(d,F,4);F+=4;var a0=K.SH(d,F);F+=8;eh.open=d[F];
F+=1;if(eh.open!=0){var gZ={},b9=jz.xx(d,gZ,F+4);if(b9%4!=0)b9+=4-b9%4;console.log(gZ);F+=b9+4}eh.open=0;
eh.raw=K._J(d,F,a0);F=eJ+bu;if(bu%4!=0)F+=4-bu%4}break;case"FEid":var F=W;y[Z]=[];var bt=F+i,w=K.q(d,F);
F+=4;while(F<bt){F+=4;var bu=K.q(d,F);F+=4;var j={};y[Z].push(j);j.id=K.FQ(d,F).Y4;F+=j.id.length+1;
var w=K.q(d,F);F+=4;F+=4;var dp=K.q(d,F);F+=4;j.rect=K.lX(d,F);F+=16;var gb=K.q(d,F);F+=4;var e_=K.q(d,F);
F+=4;var dO=new v.ii(0);for(var S=0;S<e_+2;S++){var dC=K.q(d,F);F+=4;if(dC!=0){F+=4;var kc=K.q(d,F),ia=null;
F+=4;if(S<3||S==25)ia=eu.Vn(!0,gb,d,j.rect.m,j.rect.i,F,kc);if(S==0)dO.Z=ia;if(S==1)dO.G=ia;if(S==2)dO.J=ia;
if(S==25)dO.U=ia;F+=kc}}j.buffer=v.R(j.rect.P()*4);v.KU(dO,j.buffer);var hO=d[F];F++;if(hO!=0){j.t=new e8.JO;
j.t.rect=K.lX(d,F);F+=16;F+=4;var cj=K.q(d,F);F+=4;j.t.channel=eu.Vn(!0,gb,d,j.t.rect.m,j.t.rect.i,F,cj);
j.t.color=255;j.t.oj();F+=cj}if(bu%4!=0)F+=4-bu%4}break;case"Lr16":hd.azy(r,d,W);break;case"Anno":y[Z]=[];
var bA=W,bg=W+4,en=K.q(d,bg);bg+=4;for(var S=0;S<en;S++){var bu=K.q(d,bg);bg+=4;var cX=K.xA(d,bg,4);
bg+=4;if(cX!="txtA")throw cX;var i4=d[bg++],fJ=d[bg++],iu=K.Ou(d,bg);bg+=2;var hV=K.lX(d,bg);bg+=16;
var f$=K.lX(d,bg);bg+=16;var I=fk.I8(d,bg);bg+=10;var kg=K.FQ(d,bg);bg+=kg.length;var jy=K.FQ(d,bg);
bg+=jy.length;var iM=K.FQ(d,bg);bg+=iM.length;var hI=K.q(d,bg);bg+=4;var cd=K.xA(d,bg,4);bg+=4;var jZ=K.q(d,bg);
bg+=4;var hz=K.qT(d,bg+2,jZ-2>>1);bg+=jZ;y[Z].push([hV.x,hV.y,I,kg.Y4,hz])}break;default:break}var jv="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(jv.indexOf(Z)==-1)if(i%4!=0)console.log("size not multiple of 4!!!",Z);if(Z!="luni"&&Z!="TySh"&&Z!="tySh"&&Z!="lfx2"&&Z!="iOpa")if(i%4!=0)i+=4-i%4;
W+=i}var N=y.CgEd;if(N){var g=y.brit;if(g){g.Brgh.v=N.Brgh?N.Brgh.v:0;g.Cntr.v=N.Cntr?N.Cntr.v:0;g.useLegacy.v=N.useLegacy?N.useLegacy.v:0}delete y.CgEd}var eI=[];
for(var S=0;S<eI.length;S++)delete y[eI[S]];return W};dy.aeg=function(d,W,c,y,B){if(c.SoLd){var r={};
for(var x in c){if(x=="SoLd")r.PlLd={};r[x]=c[x]}c=r}for(var Z in c)if(c[Z]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+Z+"\" tag was present with a null value.");delete c[Z]}for(var Z in c){var i=y&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(Z)!=-1,H=0;
K.MA(d,W,i?"8B64":"8BIM");W+=4;var k=W;K.MA(d,W,Z);W+=4;K.Qx(d,W,0);W+=i?8:4;switch(Z){case"iOpa":K.YB(d,W,c[Z],1);
H=4;break;case"brst":H=0;for(var S=0;S<3;S++)if(c[Z][S]==0){K.zS(d,W+H,S);H+=4}break;case"knko":K.YB(d,W,c[Z],1);
H=4;break;case"infx":K.YB(d,W,c[Z],1);H=4;break;case"clbl":K.YB(d,W,c[Z],1);H=4;break;case"lmgm":K.YB(d,W,c[Z],1);
H=4;break;case"vmgm":K.YB(d,W,c[Z],1);H=4;break;case"fcmy":K.YB(d,W,c[Z],1);H=4;break;case"lyid":K.zS(d,W,c[Z]);
H=4;break;case"lsct":K.zS(d,W,c[Z].type);H=4;if(c[Z].E9){K.MA(d,W+4,"8BIM");K.MA(d,W+8,c[Z].E9);H=12}break;
case"lyvr":K.zS(d,W,c[Z]);H=4;break;case"lnsr":K.MA(d,W,c[Z]);H=4;break;case"lspf":K.zS(d,W,c[Z]);H=4;
break;case"lclr":K.Lg(d,W,c[Z]);H=8;break;case"luni":K.a3(d,W,c[Z]);H=4+2*c[Z].length;break;case"fxrp":K.PB(d,W,c[Z].x);
K.PB(d,W+8,c[Z].y);H=16;break;case"artb":case"artd":K.zS(d,W,16);H=jz.Nj(d,c[Z],W+4)+4;break;case"SoCo":K.zS(d,W,16);
H=jz.Nj(d,c[Z],W+4)+4;break;case"GdFl":K.zS(d,W,16);H=jz.Nj(d,c[Z],W+4)+4;break;case"PtFl":K.zS(d,W,16);
H=jz.Nj(d,c[Z],W+4)+4;break;case"CgEd":var V={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},g=V,N=c[Z];
g.Brgh.v=N.Brgh.v;g.Cntr.v=N.Cntr.v;g.useLegacy.v=N.useLegacy.v;K.zS(d,W,16);H=jz.Nj(d,V,W+4)+4;break;
case"brit":d.N5(W,8);H=8;break;case"levl":var C=new jD;H=fr.dn(C,c[Z]);K.lK(d,W,C.data);break;case"curv":H=d8.DG(d,W,c[Z]);
break;case"expA":H=14;d.N5(W,14);K.Dc(d.data,W,1);K.lI(d.data,W+2,c[Z].Exps?c[Z].Exps.v:0);K.lI(d.data,W+6,c[Z].Ofst?c[Z].Ofst.v:0);
K.lI(d.data,W+10,c[Z].gammaCorrection?c[Z].gammaCorrection.v:1);break;case"vibA":K.zS(d,W,16);H=jz.Nj(d,c[Z],W+4)+4;
break;case"hue2":H=fA.DG(d,W,c[Z]);break;case"blnc":H=19;d.N5(W,H);var w=["ShdL","MdtL","HghL"];for(var S=0;
S<3;S++){var Y=c[Z][w[S]].v;for(var U=0;U<3;U++)Y.push(K.Ag(d.data,W+S*6+U*2,Y[U].v))}d.data[W+18]=c[Z].PrsL.v?1:0;
break;case"blwh":var V={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},e="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var S=0;S<e.length;S++){V[e[S]]=c[Z][e[S]]}K.zS(d,W,16);H=jz.Nj(d,V,W+4)+4;break;case"phfl":K.Lg(d,W,2);
var O=c[Z].Clr.v;K.Lg(d,W+2,7);K.Lg(d,W+4,Math.round(O.Lmnc.v*100));K.Lg(d,W+6,Math.round(O.A.v*100));
K.Lg(d,W+8,Math.round(O.B.v*100));K.Lg(d,W+10,0);var l=W+2+10;d.N5(l,5);K.Kz(d.data,l,c[Z].Dnst.v);l+=4;
d.data[l]=c[Z].PrsL.v?1:0;l++;H=l-W;break;case"mixr":H=44;d.N5(W,H);var I=bN.zF(c[Z]);K.Dc(d.data,W,1);
K.Dc(d.data,W+2,I.pO?1:0);for(var S=0;S<20;S++)K.Ag(d.data,W+4+S*2,I.b[S]);break;case"clrL":case"rplc":K.Lg(d,W,1);
K.zS(d,W+2,16);H=jz.Nj(d,c[Z],W+6)+6;break;case"nvrt":H=0;break;case"post":K.Lg(d,W,c[Z].Lvls.v);H=2;
break;case"thrs":K.Lg(d,W,c[Z].Lvl.v);H=2;break;case"grdm":var s=c[Z].Rvrs?c[Z].Rvrs.v:!1,z=!1,R=867527939,t=!1,a=!1,J=2048,F=[0,0,0,0],h=[32768,32768,32768,32768],m=c[Z].Grad.v,D,_,n=m.Clrs==null?1:0;
if(n==0){D=m;_=JSON.parse(bV.We.a9K).v}else{D=eR.qw("grdm").Grad.v;_=m}d.N5(W,4);K.Dc(d.data,W,1);d.data[W+2]=s?1:0;
d.data[W+3]=z?1:0;var j=W+4;K.a3(d,j,m.Nm.v);j+=4+m.Nm.v.length*2;j=bs.ast(d,j,D);K.Lg(d,j,n);j+=2;K.zS(d,j,_.RndS.v);
j+=4;K.Lg(d,j,_.ShTr.v?1:0);j+=2;K.Lg(d,j,_.VctC.v?1:0);j+=2;K.zS(d,j,_.Smth.v);j+=4;K.Lg(d,j,3);j+=2;
for(var S=0;S<4;S++)K.Lg(d,j+S*2,F[S]);j+=8;for(var S=0;S<4;S++)K.Lg(d,j+S*2,h[S]);j+=8;j+=2;H=j-W;break;
case"selc":H=je.DG(d,W,c[Z]);break;case"FMsk":K.lK(d,W,c[Z]);H=c[Z].length;break;case"Txt2":var T=new jD,L=ae.Fm(c[Z].co,T),p=v.R(L,!0);
for(var S=0;S<L;S++)p[S]=T.data[S];K.lK(d,W,p);H=p.length;break;case"vmsk":var E=c[Z],G=0;K.zS(d,W,3);
if(!E.Ps)G+=1<<1;if(!E.isEnabled)G+=1<<2;K.zS(d,W+4,G);H=8;var A=E.Y.length;d.N5(W+8,A*26);kt.cF(d.data,W+8,E.Y,B.m,B.i);
H+=A*26;break;case"shmd":K.zS(d,W,Object.keys(c[Z]).length);var l=W+4;for(var u in c[Z]){K.MA(d,l,"8BIM");
l+=4;K.MA(d,l,u);l+=4;K.zS(d,l,0);l+=4;K.zS(d,l,0);l+=4;K.zS(d,l,16);l+=4;var q=jz.Nj(d,c[Z][u],l);if(q%4!=0)q+=4-q%4;
K.zS(d,l-8,q+4);l+=q}H=l-W;break;case"TySh":var l=W;K.RI(d,l,1);l+=2;var o=c[Z],T=new jD;o.p$.DocumentResources=JSON.parse(JSON.stringify(o.p$.ResourceDict));
var L=dN.Fm(o.p$,T),p=v.R(L,!0);for(var S=0;S<L;S++)p[S]=T.data[S];o.wy.EngineData={t:"tdta",v:p};var M=o.p$.EngineDict.Editor.Text;
o.wy.Txt.v=M.substring(0,M.length-1);K.a5t(d,l,o.e);l+=48;K.RI(d,l,50);l+=2;K.zS(d,l,16);l+=4;l+=jz.Nj(d,o.wy,l);
K.RI(d,l,1);l+=2;K.zS(d,l,16);l+=4;l+=jz.Nj(d,o.uI,l);K.agW(d,l,o.Nz);l+=16;H=l-W;break;case"lmfx":K.zS(d,W,0);
K.zS(d,W+4,16);var V=JSON.parse(JSON.stringify(c[Z])),$=!1;dy.ME(V);for(var S=0;S<bV.Fb.length;S++)if(V[bV.Fb[S]]!=null)$=!0;
K.MA(d,k,$?"lmfx":"lfx2");H=jz.Nj(d,V,W+8)+8;break;case"Patt":var l=ca.ms(d,W,c[Z]);H=l-W;break;case"PlLd":var Q=W;
d.N5(W,60);var Y=c.SoLd;K.MA(d,W,"plcL");K.zS(d,W+4,3);var kF=d.data[W+8]=Y.Idnt.v.length;K.MA(d,W+9,Y.Idnt.v);
var l=W+9+kF,P=[1,1,16,2];for(var S=0;S<4;S++)K.zS(d,l+S*4,P[S]);l+=16;P=X.X.R6(Y.nonAffineTransform);
for(var S=0;S<8;S++)K.PB(d,l+S*8,P[S]);l+=64;K.zS(d,l,0);K.zS(d,l+4,16);var bM=v.lk.alh(Y.quiltWarp).v;
l+=8+jz.Nj(d,bM,l+8);H=l-W;break;case"SoLd":var Y=c[Z],jW=Y.quiltWarp;Y.warp=v.lk.alh(jW);if(v.lk.$z(jW.v)==16)delete Y.quiltWarp;
K.MA(d,W,"soLD");K.zS(d,W+4,4);K.zS(d,W+8,16);H=jz.Nj(d,Y,W+12)+12;Y.quiltWarp=jW;delete Y.warp;break;
case"vstk":case"pths":K.zS(d,W,16);H=jz.Nj(d,c[Z],W+4)+4;break;case"vscg__":K.MA(d,W,c[Z].key);K.zS(d,W+4,16);
H=jz.Nj(d,c[Z].b,W+8)+8;break;case"vogk":K.zS(d,W,1);K.zS(d,W+4,16);v.dr.aiS(c[Z]);for(var S=0;S<c[Z].length;
S++){var fX=c[Z][S].v.keyOriginResolution;if(fX)fX.v=B.tU}var bX={classID:"null",keyDescriptorList:{t:"VlLs",v:c[Z]}};
H=jz.Nj(d,bX,W+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var j=W;for(var S=0;S<c[Z].length;S++){var ao=c[Z][S],en=j;
K.rb(d,j,0);j+=8;K.MA(d,j,ao.type);j+=4;K.zS(d,j,ao.se);j+=4;d.N5(j,1);d.data[j]=ao.QY.length;j++;K.MA(d,j,ao.QY);
j+=ao.QY.length;K.a3(d,j,ao.Kh+"\0");j+=4+ao.Kh.length*2+2;K.MA(d,j,ao.pF);j+=4;K.MA(d,j,ao.CX);j+=4;
K.rb(d,j,ao.raw.length);j+=8;d.N5(j,1);d.data[j]=ao.open;j++;K.lK(d,j,ao.raw);j+=ao.raw.length;K.zS(d,j,1);
j+=4;j+=11;var fK=j-en-8;K.rb(d,en,fK);if(fK%4!=0){d.N5(j,4-fK%4);j+=4-fK%4}}H=j-W;break;case"FEid":var j=W;
K.zS(d,j,3);j+=4;for(var bO=0;bO<c[Z].length;bO++){var b9=c[Z][bO];j+=4;var bK=j;j+=4;K.JG(d,j,b9.id);
j+=b9.id.length+1;K.zS(d,j,1);j+=4;var f0=v.R(b9.rect.P()),hn=b9.rect,hX=v.R(hn.P());j+=4;var gR=j;j+=4;
K.S$(d,j,hn);j+=16;K.zS(d,j,8);j+=4;K.zS(d,j,24);j+=4;for(var S=0;S<24+2;S++){var ib=-1;if(S==0)ib=0;
if(S==1)ib=1;if(S==2)ib=2;if(S==25)ib=3;K.zS(d,j,ib!=-1?1:0);j+=4;if(ib!=-1){v.$P(b9.buffer,f0,ib);v.ZW(f0,b9.rect,hX,hn);
j+=4;var gU=j;j+=4;d.N5(j,hn.P()+2);j=eu.yh(!0,hX,d.data,hn.m,hn.i,j,3);K.zS(d,gU,j-(gU+4))}}K.zS(d,gR,j-(gR+4));
d.N5(j,1);d.data[j]=b9.t?1:0;j++;if(b9.t!=null){var hq=hn,ip=v.R(hq.P());ip.fill(b9.t.color);v.ZW(b9.t.channel,b9.t.rect,ip,hq);
K.S$(d,j,hq);j+=16;j+=4;var aW=j;j+=4;d.N5(j,hq.P()+2);j=eu.yh(!0,ip,d.data,hq.m,hq.i,j,3);K.zS(d,aW,j-(aW+4))}var fK=j-(bK+4);
K.zS(d,bK,fK);if(fK%4!=0)j+=4-fK%4}H=j-W;break;case"Anno":var kN=W,hW=c[Z].length;K.Lg(d,kN,2);K.Lg(d,kN+2,1);
kN+=4;K.zS(d,kN,hW);kN+=4;for(var S=0;S<hW;S++){var jH=c[Z][S],g0=jH[0],gC=jH[1],jL=kN;kN+=4;K.MA(d,kN,"txtA");
kN+=4;d.N5(kN,2);d.data[kN]=1;d.data[kN+1]=28;kN+=2;K.Lg(d,kN,1);kN+=2;K.S$(d,kN,new a8(g0,gC,17,21));
kN+=16;K.S$(d,kN,new a8(g0+8,gC+10,241,141));kN+=16;d.N5(kN,10);fk.Yb(d.data,kN,jH[2]);kN+=10;kN+=K.JG(d,kN,jH[3]);
kN+=K.JG(d,kN,"");kN+=K.JG(d,kN,"D:20211012120233+01'00'");var jf=jH[4].length*2;K.zS(d,kN,12+2+jf);
kN+=4;K.MA(d,kN,"txtC");kN+=4;K.zS(d,kN,2+jf);kN+=4;d.N5(kN,2);d.data[kN]=254;d.data[kN+1]=255;kN+=2;
K.adW(d,kN,jH[4]);kN+=jf;K.zS(d,jL,kN-jL)}H=kN-W;break;default:console.log("unknown layer tag: "+Z+", size: "+H);
W-=12;continue}var cm=["Txt2","artd","extd","pths"];if(cm.indexOf(Z)==-1)if(H%4!=0)H+=4-H%4;if(i)K.rb(d,W-8,H);
else K.zS(d,W-4,H);if(Z!="luni"&&Z!="TySh")if(H%4!=0)H+=4-H%4;W+=H}return W};dy.k$=function(d){for(var S=0;
S<bV.order.length;S++){var W=bV.order[S],c=bV.Fb[S];if(d[c]==null)d[c]={t:"VlLs",v:[]};if(d[W]!=null){d[c].v.push(d[W]);
delete d[W]}var y=[];for(var B=0;B<d[c].v.length;B++){var r=d[c].v[B];if(r.v.present==null||r.v.present.v==!0)y.push(r)}d[c].v=y}};
dy.ME=function(d){for(var S=0;S<bV.order.length;S++){var W=bV.order[S],c=bV.Fb[S],y=d[c].v.length;if(y==0){delete d[c];
continue}if(y==1){d[W]=d[c].v[0];delete d[c];continue}}};dy.AS=function(d,W){if(W=="GdFl"){if(d.Angl==null)d.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(d.Algn==null)d.Algn={v:!0,t:"bool"};if(d.Scl==null)d.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(d.Ofst==null)d.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(d.Rvrs==null)d.Rvrs={v:!1,t:"bool"};if(d.Dthr==null)d.Dthr={v:!1,t:"bool"}}if(W=="PtFl"){if(d.Algn==null)d.Algn={v:!0,t:"bool"};
if(d.Angl==null)d.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(d.Scl==null)d.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(d.phase==null)d.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};dy.clone=function(d,W){var c={};
if(d=="TySh"){c.e=W.e.clone();c.wy=JSON.parse(JSON.stringify(W.wy));c.uI=JSON.parse(JSON.stringify(W.uI));
c.Nz=W.Nz.clone();c.p$=JSON.parse(JSON.stringify(W.p$));if(W.add)c.add={vmsk:W.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(W.add.vogk))};
return c}else if(d=="fxrp")return W.clone();else if(d=="vmsk")return W.clone();else return JSON.parse(JSON.stringify(W))};
function hA(d,W){}hA.Nr=function(d,W,c,y){y=hA.anV(d,W,c,y);return y};hA.Fm=function(d,W,c,y,B){y=hA.akF(d,W,c,y,B);
return y};hA.anV=function(d,W,c,y){var B=y;d.rect=K.lX(c,y);y+=16;var r=K.Ou(c,y);y+=2;d.$w=[];var x=W.l2;
for(var S=0;S<r;S++){d.$w[S]={id:K.JS(c,y),length:(x?K.SH:K.q)(c,y+2)};y+=x?10:6}var Z=K.xA(c,y,4);y+=4;
if(Z!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(Z));alert("Error in Photoshop file: wrong signature.");
throw"e"}d.E9=K.xA(c,y,4);y+=4;d.opacity=c[y];y+=1;d.TA=c[y]==1;y+=1;d.xy=c[y];y+=1;if(c[y]!=0)console.log("error in filler!");
y+=1;var i=K.q(c,y);y+=4;var k=y;y=hA.aDJ(d,c,y);y=hA.ajZ(d,c,y);var H=K.FQ(c,y);d.name=H.Y4;y+=H.length;
if(H.length%4!=0)y+=4-H.length%4;y=dy.a3k(c,y,k+i,d.add,x,W);if(d.add.lsct){if(d.add.lsct.E9)d.E9=d.add.lsct.E9;
d.add.lsct=d.add.lsct.type}return y};hA.akF=function(d,W,c,y,B){var r=y;K.S$(c,y,d.rect);y+=16;var x=W.add.fcmy==1,Z=d.afN(x);
K.Lg(c,y,Z.length);y+=2;var i=W.l2;B.push(y);for(var S=0;S<Z.length;S++){K.RI(c,y,Z[S]);if(i)K.rb(c,y+2,0);
else K.zS(c,y+2,0);y+=i?10:6}K.MA(c,y,"8BIM");y+=4;K.MA(c,y,d.E9);y+=4;K.YB(c,y,d.opacity,1);y+=1;K.YB(c,y,d.TA?1:0,1);
y+=1;K.YB(c,y,d.xy,1);y+=1;K.YB(c,y,0,1);y+=1;var k=y;K.zS(c,y,0);y+=4;var H=y;y=hA.abY(d,c,y);y=hA.aBb(d,c,y);
var V=K.JG(c,y,d.name.slice(0,255));y+=V;if(V%4!=0)y+=4-V%4;if(d.add.lsct){d.add.lsct={type:d.add.lsct};
if(d.E9=="pass"){d.add.lsct.E9="pass";d.E9="norm"}}if(d.E9=="pass")d.add.lsct={type:d.add.lsct,E9:"pass"};
if(d.add.brit)d.add.CgEd=d.add.brit;y=dy.aeg(c,y,d.add,i,W);delete d.add.CgEd;if(d.add.lsct){if(d.add.lsct.E9)d.E9=d.add.lsct.E9;
d.add.lsct=d.add.lsct.type}var g=y-H;K.zS(c,k,g);return y};hA.aDJ=function(d,W,c){var y=K.q(W,c);c+=4;
if(y==0)return c;var B=c;d.t=new e8.JO;d.t.rect=K.lX(W,c);c+=16;d.t.color=W[c];c+=1;var r=hA.aoH(d.t,W,c);
c+=1;if(r){var x=!1,Z=255,i=0,k=255,H=0;for(var S=0;S<d.$w.length;S++)if(d.$w[S].id==-3)x=!0;if(x){d.Y2=hA.anP(W,c);
c+=18}var V=c,g=W[c];c++;if(g>>0&1){Z=W[c];c++}if(g>>1&1){i=K.zZ(W,c);c+=8}if(g>>2&1){k=W[c];c++}if(g>>3&1){H=K.zZ(W,c);
c+=8}if((c-V&1)==1)c++;d.eV=[Z,i,k,H]}else{if(y==20)c+=2;else{d.Y2=hA.anP(W,c);c+=18}}return B+y};hA.abY=function(d,W,c){K.zS(W,c,0);
c+=4;if(d.t==null)return c;var y=d.Q7(),B=d.add.vmsk,r=c,x=!0;K.zS(W,c,0);K.S$(W,c,d.t.rect);c+=16;K.YB(W,c,d.t.color);
c+=1;hA.acs(d.t,W,c,x);c+=1;if(x){if(d.Y2){hA.a98(W,c,d.Y2);c+=18}var Z=c;K.YB(W,c,B?15:3);c+=1;K.YB(W,c,y?y.it:255);
c+=1;K.PB(W,c,y?y.ej:0);c+=8;if(B){K.YB(W,c,B?B.it:255);c+=1;K.PB(W,c,B?B.ej:0);c+=8}if((c-Z&1)==1)c++}K.zS(W,r-4,c-r);
return c};hA.anP=function(d,W){var c=new e8.JO;hA.aoH(c,d,W);W+=1;c.color=d[W];W+=1;c.rect=K.lX(d,W);
W+=16;return c};hA.a98=function(d,W,c){hA.acs(c,d,W,!1);W+=1;K.YB(d,W,c.color);W+=1;K.S$(d,W,c.rect);
W+=16};hA.aoH=function(d,W,c){var y=W[c];d.Ps=(y>>0&1)==0;d.isEnabled=(y>>1&1)==0;d.MF=(y>>3&1)==1;return y>>4&1};
hA.acs=function(d,W,c,y){var B=0;if(!d.Ps)B+=1<<0;if(!d.isEnabled)B+=1<<1;if(d.MF)B+=1<<3;if(y)B+=1<<4;
K.YB(W,c,B)};hA.ajZ=function(d,W,c){var y=K.q(W,c);c+=4;for(var S=0;S<y;S++)d.pm[S]=W[c+S];return c+y};
hA.aBb=function(d,W,c){K.zS(W,c,d.pm.length);c+=4;W.N5(c,40);for(var S=0;S<40;S++){W.data[c+S]=d.pm[S]}return c+40};
function eu(){}eu.Nr=function(d,W,c,y){y=eu.akA(W,W.l2,W.yr,W._b,d,c,y);return y};eu.dn=function(d,W,c,y,B,r,x){y=eu.ahR(d,W,c,y,B,r,x);
return y};eu.akA=function(d,W,c,y,B,r,x){var Z=B.$w,i={},k=x;for(var S=0;S<Z.length;S++){var H=Z[S],V=H.id,g=H.length,N;
if(V==-2&&B.t==null)V=-1;if(V==-3)N=B.Y2.rect;else if(V==-2)N=B.t.rect;else N=B.rect;var C=eu.Vn(W,c,r,N.m,N.i,x,g);
x+=g;if(V==-3)B.Y2.channel=C;else if(V==-2)B.t.channel=C;else i["c"+V]=C}var w=new v.ii(0);w.U=null;
if(y==3){w.Z=i.c0;w.G=i.c1;w.J=i.c2;w.U=i["c-1"]}else if(y==1){w.Z=i.c0;w.G=i.c0;w.J=i.c0;w.U=i["c-1"]}else if(y==4){var Y=d.lw.r1039,U=null,e=i.c0,O=i.c1,l=i.c2,I=i.c3;
if(Y){var U=Y.a9h,s=17;if(U==null){var z=ICC.R(Y.buffer);if(z.header.spaceIn=="RGB "){}else U=Y.a9h=ICC.U.sampleLUT(z,s)}}if(U){var R={Z:e,G:O,J:l,U:I},t=v.R(e.length*4);
v.KU(R,t);v.QE(t);ICC.U.applyLUT4(U,s,t,t);v.AH(t,R)}else{for(var S=0;S<e.length;S++){var a=1-e[S]*(1/255),J=1-O[S]*(1/255),F=1-l[S]*(1/255),h=1-I[S]*(1/255),m=v.$J([a,J,F,h]);
e[S]=Math.floor(.5+m[0]*255);O[S]=Math.floor(.5+m[1]*255);l[S]=Math.floor(.5+m[2]*255)}}w.Z=e;w.G=O;
w.J=l;w.U=i["c-1"]}if(w.Z==null)w.Z=v.R(0);if(w.U==null&&w.Z!=null){w.U=w.Z.slice(0);w.U.fill(255)}if(w.G==null)w.G=w.Z.slice(0);
if(w.J==null)w.J=w.Z.slice(0);B.buffer=v.R(Math.max(0,B.rect.P()*4));v.KU(w,B.buffer);return x};eu.ahR=function(d,W,c,y,B,r,x){var Z=W.afN(x),i=W.buffer,k=new v.ii(W.rect.P());
if(x){var H=k.U.slice(0);v.$P(i,H,3);i=i.slice(0);v.a52(i);v.AH(i,k);k.a6G=k.U;k.U=H}else v.AH(i,k);
for(var S=0;S<Z.length;S++){var V=Z[S],g,N;if(V==-3)g=W.Y2.rect;else if(V==-2)g=W.t.rect;else g=W.rect;
if(V==-3)N=W.Y2.channel;if(V==-2)N=W.t.channel;if(V==-1)N=k.U;if(V==0)N=k.Z;if(V==1)N=k.G;if(V==2)N=k.J;
if(V==3)N=k.a6G;c.N5(y,g.P()*3+4);var C=y;y=eu.yh(d,N,c.data,g.m,g.i,y,r[1]?3:1);var w=y-C;if(d)K.agU(c.data,B+S*10+2,w);
else K.Kz(c.data,B+S*6+2,w)}return y};eu.Vn=function(d,W,c,y,B,r,x){var Z=K.Ou(c,r);r+=2;return eu.qa(d,W,c,y,B,r,Z,x-2)};
eu.yh=function(d,W,c,y,B,r,x){K.Ag(c,r,x);r+=2;r=eu.ZI(d,W,c,y,B,r,x);return r};eu.qa=function(d,W,c,y,B,r,x,Z){var i,k=y*B*(W>>>3),H=k&3,g=k+(H==0?0:4-H);
if(Z<=0){return v.R(g)}if(x>3){console.log("unknown compression: "+x,y,B,y*B,Z);x=0}if(x==0){if(r+g<=c.length)i=c.slice(r,r+g);
else{i=v.R(k);for(var S=0;S<k;S++)i[S]=c[r+S]}r+=k}else if(x==1){i=v.R(k);var N=d?4:2,C=eu.aCx(c,i,y,B,r,r+N*B,N);
r+=N*B+C}else if(x==2||x==3){var w=new Uint8Array(c.buffer,r+2,Z-6),Y=v.R(g);UZIP.inflateRaw(w,Y);if(x==3){if(W==8)for(var U=0;
U<B;U++){var e=U*y+1,O=e+y-1,l=Y[e-1];for(var I=e;I<O;I++){l+=Y[I];Y[I]=l&255}}else for(var U=0;U<B;
U++){var e=U*y+1,O=e+y-1,l=Y[2*e-2]<<8|Y[2*e-1];for(var I=e;I<O;I++){var s=I<<1;l+=Y[s]<<8|Y[s+1];Y[s]=l>>>8;
Y[s+1]=l&255}}}if(Y.length==g)i=Y;else{i=v.R(g);for(var S=0;S<Y.length;S++)i[S]=Y[S]}}if(W==16){var z=v.R(y*B);
for(var S=0;S<k;S+=2)z[S>>>1]=i[S];i=z}return i};eu.ZI=function(d,W,c,y,B,r,x){var Z=y*B;if(x==0)for(var S=0;
S<Z;S++)c[r++]=W[S];else if(x==1){var i=d?4:2,k=eu.auV(W,c,y,B,r,r+i*B,i);r+=i*B+k}else if(x==2||x==3){if(x==3){var H=new Uint8Array(W.length);
for(var V=0;V<B;V++){var g=V*y+1,N=g+y-1,C=W[g-1];H[g-1]=C;for(var w=g;w<N;w++){H[w]=W[w]+(256-C)&255;
C=W[w]}}W=H}c[r]=120;c[r+1]=156;r+=2;var Y=pako.deflateRaw(W,{a1j:4});K.axp(c,r,Y);r+=Y.length+4}else console.log("Unknown compression: "+x);
return r};eu.aCx=function(d,W,c,y,B,r,x){if(!(d instanceof Uint8Array)||!(W instanceof Uint8Array))throw"e";
var Z=r,i=y|0;if(x==2)for(var S=0;S<i;S++){var k=K.Ou(d,B+(S<<1));eu.St(d,r,k,W,S*c,c);r+=k}else for(var S=0;
S<i;S++){var k=K.q(d,B+(S<<2));eu.St(d,r,k,W,S*c,c);r+=k}return r-Z};eu.auV=function(d,W,c,y,B,r,x){var Z=r;
if(x==2)for(var S=0;S<y;S++){var i=eu.a9T(d,S*c,c,W,r);K.Dc(W,B+S*2,i);r+=i}else for(var S=0;S<y;S++){var i=eu.a9T(d,S*c,c,W,r);
K.Kz(W,B+S*4,i);r+=i}return r-Z};eu.a9T=function(d,W,bd,c,y){var B,r,x,Z,i,bU,k;Z=W+bd;for(x=W,r=y;bd>0;
x=B,bd-=bU){k=bd<128?bd:128;if(x<=Z-3&&d[x+1]==d[x+0]&&d[x+2]==d[x+0]){for(B=x+3;B<x+k&&d[B]==d[x+0];
)++B;bU=B-x;c[r++]=1+256-bU;c[r++]=d[x+0]}else{for(B=x;B<x+k;)if(B<=Z-3&&d[B+1]==d[B+0]&&d[B+2]==d[B+0])break;
else++B;bU=B-x;c[r++]=bU-1;for(var S=0;S<bU;S++)c[r+S]=d[x+S];r+=bU}}return r-y};eu.St=function(d,W,c,y,B,r){for(var x=0;
x<c;){var bd=d[W++];if(bd>=128){var Z=d[W++],i=B+(257-bd);y.fill(Z,B,i);B=i;x+=2}else{for(var S=0;S<=bd;
S++)y[B+S]=d[W+S];W+=bd+1;B+=bd+1;x+=1+1+bd}}};function hd(){}hd.IV=function(d,W,c){return;var y="",B=W;
while(B!=0){var r=B%1e3+"";while(r.length<3)r="0"+r;y=(y==""?r:r+" ")+y;B=Math.floor(B/1e3)}while(y.startsWith("0")&&y!="0")y=y.slice(1);
while(y.length<11)y=" "+y;console.log("===",y,"\t".repeat(d),": "+c)};hd.anl=function(d){var W={lw:{}},y=0,B=0,Z;
W.l2=!1;W.yr=8;var c=new Uint8Array(d);B=hd.y9(W,c,y);y=B;B=hd.asj(W,c,y);y=B;var r=K.q(c,y);y+=4+r;
var x=W.l2?8:4;if(W.l2)Z=K.SH(c,y);else Z=K.q(c,y);y+=x+Z;B=hd.arQ(W,c,y);return[{H2:new a8(0,0,W.m,W.i),data:W.buffer.buffer}]};
hd.Nr=function(d,W){W.l2=!1;W.yr=8;var c=new Uint8Array(d),y=0,B=0,x=0,u,bO=!1,b9=!0,bK=!1,f0=0,jv=0;
B=hd.y9(W,c,y);hd.IV(0,B-y,"PSD Header");y=B;B=hd.asj(W,c,y);hd.IV(0,B-y,"Color Mode Data");y=B;B=hd.arg(W,c,y);
hd.IV(0,B-y,"Image Resources");y=B;B=hd.axt(W,c,y);hd.IV(0,B-y,"Layer And Mask Info");y=B;B=hd.arQ(W,c,y);
hd.IV(0,B-y,"Merged Image");y=B;if(W.B.length==0){var r=W.jb();r.AP("Background");W.B.push(r);r.buffer=W.buffer.slice(0);
r.rect=new a8(0,0,W.m,W.i)}for(var S=0;S<W.B.length;S++){var B=W.B[S],Z=B.add.lsct;if(Z==aG.Ni)x++;else if(Z==aG.ED||Z==aG.tV)x--}while(x<0){W.B.unshift(W.b7());
x++}if(W.lw.r1005){W.tU=K.YT(W.lw.r1005,0)}if(W.lw.r1026){var c=W.lw.r1026;for(var S=0;S<c.length;S+=2){var B=W.B[S>>>1];
if(B)B.ks=K.Ou(c,S)}}if(W.lw.r1072){var c=W.lw.r1072;for(var S=0;S<c.length;S++){var B=W.B[S];if(B)B.EP=c[S]==1}}if(W.lw.r1032){W.qx=hd.akU(W.lw.r1032,0)}delete W.lw.r1036;
W.uX(W.lw.r1039);if(W.lw.r1050){var i=K.q,k=W.lw.r1050,H=K.q(k,0);if(H==6){var V=4,g=K.lX(k,V);V+=16;
var N=K.VB(k,V);V+=4+N.length*2;var C=i(k,V);V+=4;var w=W.nD;for(var S=0;S<C;S++){var Y=X.ju.hC(),e;
w.push(Y);Y=Y.v;Y.sliceID.v=i(k,V);V+=4;Y.groupID.v=i(k,V);V+=4;var U=i(k,V);V+=4;if(U==1){e=i(k,V);
V+=4}var N=K.VB(k,V);V+=4+N.length*2;var O=i(k,V);V+=4;var l=[i(k,V),i(k,V+4),i(k,V+8),i(k,V+12)];V+=16;
X.ju.L4(w,w.length-1,l);var I=Y.url.v=K.VB(k,V);V+=4+I.length*2;var s=Y.null.v=K.VB(k,V);V+=4+s.length*2;
var z=Y.Msge.v=K.VB(k,V);V+=4+z.length*2;var R=Y.altTag.v=K.VB(k,V);V+=4+R.length*2;Y.cellTextIsHTML.v=k[V]==1;
V++;var t=Y.cellText.v=K.VB(k,V);V+=4+t.length*2;var a=i(k,V);V+=4;var J=i(k,V);V+=4;var F=k.slice(V,V+4);
V+=4;if(U!=2)w.pop()}}else if(H==8){var h={};jz.xx(k,h,8,!1);var k=W.nD=h.slices.v;for(var S=0;S<k.length;
S++){if(k[S].v.origin.v.ESliceOrigin!="userGenerated"){k.splice(S,1);S--}}}}if(W.lw.r1058){var m=W.lw.r1058,D=UTIF.decode(m.buffer,{parseMN:!1,debug:!1});
dP.R$(D[0],W.RO);delete W.lw.r1058}if(W.lw.r1060){var _=K.uw(W.lw.r1060);dP.ZY(_,W.RO);delete W.lw.r1060}if(W.lw.r1065){var c=W.lw.r1065;
W.qv={};jz.xx(c,W.qv,4,!1)}if(W.lw.r1069){var c=W.lw.r1069,n=[];for(var S=2;S<c.length;S+=4){var e=K.q(c,S);
for(var j=0;j<W.B.length;j++){var B=W.B[j];if(B.add.lyid==e&&B.add.lsct!=3&&n.indexOf(j)==-1)n.push(j)}}W.g=n}if(W.lw.r1073){var c=W.lw.r1073,V=0,T=K.OC(c,V);
V+=4;var L=K.OC(c,V);V+=4;for(var S=0;S<L;S++){W.Fw.push({y:T>=2?K.cb(c,V+2):K.YT(c,V+2),x:T>=2?K.cb(c,V+6):K.YT(c,V+6)});
V+=14}delete W.lw.r1073}if(W.lw.r1025){var p=W.lw.r1025;delete W.lw.r1025;var E=kt.Mt(p,0,p.length,W.m,W.i),G=new e8.vw;
G.Y=E;W.GB[0]=eb.gy("Working Path",{vmsk:G})}var A=W.add.pths;delete W.add.pths;var q=W.lw.r3000;if(q){u={};
jz.xx(q,u,4,!1);delete W.lw.r3000}if(A){var o=A.pathSymmetrySelectedPath;if(o){var M=A.pathList.v[o.v].v,$=M.pathUnicodeName.v;
W.PZ=$.startsWith("Tile Symmetry")}}for(var Q=0;Q<=997;Q++){var kF="r"+(2e3+Q),p=W.lw[kF];if(p==null)break;
var E=kt.Mt(p,0,p.length,W.m,W.i),$="Path "+Q;if(A){var P=A.pathList.v[Q].v;$=P.pathUnicodeName.v;if($=="Tile Symmetry 1")continue}var bM=u?u.keyRootDescriptorList.v[Q].v.keyDescriptorList.v:e8.h0(E),G=new e8.vw;
G.Y=E;W.GB.push(eb.gy($,{vmsk:G,vogk:bM}));delete W.lw[kF]}delete W.l2;if(W.lw.r4000){W.$k=v.$k.Nr(W.lw.r4000)}var jW=W.lw.r7000,fX=W.lw.r7001;
if(jW){var bX=K.uw(jW);W.eS=hd.a3U(bX)}if(fX){var bX=K.uw(fX);W.ZH=hd.ars(bX)}delete W.lw.r7000;delete W.lw.r7001;
var ao=new a8(0,0,W.m,W.i),en=W.add.Txt2,fK=en;if(fK){fK=fK.co;if(fK._DocumentResources==null)fK=cf.arm(fK)}var hn=-1;
for(var S=0;S<W.B.length;S++){var B=W.B[S],hX=B.add.lsct,gR=B.add.vmsk,ib=B.Q7();if(hX==aG.Ni){f0++;
B.add.lspf=0}else if(hX==aG.ED||hX==aG.tV)f0--;if(B.name==""){B.name="Layer "+(S+1);bK=!0}if(bK&&B.vS()&&B.E9=="norm")B.E9="pass";
if(B.pX()&&B.WI(W)==null)delete B.add.SoLd;if(B.pX()&&B.WI(W).t){var gU=B.WI(W);gU.t.isEnabled=B.add.SoLd.filterFX.v.filterMaskEnable.v}if(gR&&B.sI()){var hq=bV._M.qw(!0);
if(B.add.vstk==null)B.add.vstk=JSON.parse(JSON.stringify(hq));else{var ip="strokeStyleLineDashSet";if(B.add.vstk[ip]==null)B.add.vstk[ip]=JSON.parse(JSON.stringify(hq[ip]))}B.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
B.add.vstk.strokeStyleResolution.v=W.tU}if(gR&&(B.add.vogk==null||v.o.mQ(gR.Y)!=B.add.vogk.length))B.h0();
if(!1){var aW=B.add.vogk,kN=!0;for(var hW=0;hW<aW.length;hW++){var jH=aW[hW].v.keyShapeInvalidated;if(jH==null||jH.v==!1)kN=!1}if(kN)B.h0()}if(B.add.SoLd&&B.rect.Bb()){console.log("redrawing smart instance");
B.Hg(W,null,null,!0)}if(ib==null&&B.t!=null){if(B.t.MF==!1){B.t.MF=!0;B.Y2=B.t.clone()}}ib=B.Q7();if(B.eV){var hq=B.eV,G=gR;
if(ib){ib.it=hq[0];ib.ej=hq[1]}if(G){G.it=hq[2];G.ej=hq[3]}B.eV=null}if(ib!=null&&gR!=null&&(ib.ej+gR.ej!=0||ib.it+gR.it!=2*255))B.Ys(W);
else if(gR!=null&&!B.sI())B.Ys();else if(ib&&ib.it!=255&&B.sI())B.Ys(W);var g0=B.add.artb;if(g0&&g0.artboardBackgroundType==null)g0.artboardBackgroundType={t:"long",v:1};
if(g0&&f0!=0)delete B.add.artb;var gC=B.add.vstk;if(B.sI()&&(B.rect.Bb()||gR&&gR.ej!=0||gC&&!gC.fillEnabled.v&&(!gC.strokeEnabled.v||gC.strokeStyleLineWidth.v.val==0)))B.gn(W);
if(B.add.TySh){bO=!0;if(!B.rect.Bb())b9=!1}if(B.add.TySh&&fK){hn++;var jL=B.add.TySh.p$,jf=it.kq(jL),cm=fK._DocumentObjects._TextObjects;
if(cm.length<=hn){console.log("Txt2 incomplete");continue}var eh=cm[hn]._Model,bu=eh._StyleRun?eh._StyleRun._RunArray:[],eJ=jL.EngineDict.StyleRun.RunArray;
for(var eZ=0;eZ<eJ.length;eZ++){var a0=eJ[eZ].StyleSheet.StyleSheetData;if(bu[eZ]==null)continue;var gZ=bu[eZ]._RunData._StyleSheet._Features;
if(gZ&&gZ._BaselineDirection)a0.BaselineDirection=parseInt(gZ._BaselineDirection.slice(1));if(gZ&&gZ._FillBackgroundFlag)a0._FillBackgroundFlag=gZ._FillBackgroundFlag;
if(gZ&&gZ._FillBackgroundColor){var bt=gZ._FillBackgroundColor,dp=bt._Color._Values.slice(0);for(var j=0;
j<4;j++)dp[j]=parseFloat(dp[j].slice(1));a0._FillBackgroundColor={Type:1,Values:dp}}if(gZ&&gZ._LineWidth)a0._LineWidth=parseFloat(gZ._LineWidth.slice(1))}var gb=jL.EngineDict.ParagraphRun.RunArray,e_=eh._ParagraphRun._RunArray;
if(e_==null)e_=[];var dO=Math.min(e_.length,gb.length);for(var j=0;j<dO;j++){var dC=gb[j].ParagraphSheet.Properties,kc=fK._DocumentResources._ParagraphSheetSet._Resources,ia=e_[j]._RunData._ParagraphSheet;
if(typeof ia=="string")ia=kc[parseInt(ia.slice(1))]._Resource;var hO=ia._Parent==null?ia:kc[parseInt(ia._Parent.slice(1))]._Resource;
ia=ia._Features;hO=hO._Features;var cj=ia._ParagraphDirection;if(cj==null)cj=hO._ParagraphDirection;
if(cj)dC._Direction=parseInt(cj.slice(1));if(ia._ComposerEngine)dC._ComposerEngine=parseInt(ia._ComposerEngine.slice(1))}if(eh._AlternateGlyphRun){var e_=eh._AlternateGlyphRun._RunArray,dO=e_.length,bA=jL.EngineDict.AlternateGlyphRun=it.aiO();
for(var j=0;j<dO;j++){var ia=e_[j],bg={},cX=ia._RunData._AlternateGlyphSheet;if(cX)bg.Glyph=parseInt(cX._Glyph.slice(1));
bA.RunArray.push(bg);bA.RunLengthArray.push(parseInt(ia._Length.slice(1)))}}var i4=fK._DocumentResources,fJ=i4._TextFrameSet._Resources,iu=fJ[hn]._Resource,hV=iu._Data,f$=new dT(1,0,0,1,0,0);
if(iu._0){var kg=parseFloat(iu._0[0].slice(1)),jy=parseFloat(iu._0[1].slice(1));f$.translate(kg,jy)}if(jf){f$.translate(jf[0],jf[1]);
it.r_(jL,[0,0,jf[2]-jf[0],jf[3]-jf[1]])}else{if(iu._Bezier&&iu._Bezier._Points){var E=iu._Bezier._Points,kg=parseFloat(E[0].slice(1)),jy=parseFloat(E[1].slice(1));
if(kg!=0||jy!=0){f$.translate(kg,jy)}}}if(iu._Data&&iu._Data._FrameMatrix){var iM=iu._Data._FrameMatrix;
iM=iM.map(function(fM){return parseFloat(fM.slice(1))});f$.concat(new dT(iM[0],iM[1],iM[2],iM[3],iM[4],iM[5]))}f$.concat(B.add.TySh.e);
B.add.TySh.e=f$;var O=hV._Type?parseInt(hV._Type.slice(1)):0;if(O==2||O==1&&hV._PathData&&hV._PathData._Spacing=="i-3")if(iu._Bezier){var hI=function(fM){return parseFloat(fM.slice(1))},E=iu._Bezier._Points.map(hI);
if(jf)v.A.e(E,new dT(1,0,0,1,-jf[0],-jf[1]),E);var cd=hV._PathData?hV._PathData._Reversed:!1,jZ=hV._TextOnPathTRange;
if(jZ==null)jZ=["f-3","f-3"];jL.Curve={Points:E,TextOnPathTRange:jZ.map(hI),Reversed:cd==null?!1:cd};
B.add.TySh.add={vmsk:new e8.vw,vogk:null};it.vF(B.add.TySh)}if(hV._LineOrientation=="i2")jL._LineOrientation=2}}X.JK.S6(W,!0);
var hz={},eI=[];for(var S=0;S<W.B.length;S++){var j2=W.B[S].add.lyid;if(j2==null)continue;var jv=Math.max(jv,j2);
if(hz[j2]!=null)eI.push(S);else hz[j2]=!0}for(var S=0;S<eI.length;S++)W.B[eI[S]].add.lyid=jv+1+S};hd.akU=function(d,W){W+=12;
var c=K.q(d,W),y=[];W+=4;c=Math.min(c,Math.floor((d.length-W)/5));for(var S=0;S<c;S++){var B=Math.min(d[W+S*5+4],1),r=K.OC(d,W+S*5)/32;
y.push([B,r])}return y};hd.a3U=function(d){var W=new DOMParser,c=W.parseFromString(d,"text/xml").firstChild.children[0],y=c.getElementsByTagName("variables");
if(y.length==0)return[];y=y[0].children;var B=[],r="varName trait docRef placementMethod align valign clip".split(" ");
for(var x=0;x<y.length;x++){var Z=y[x],i={};B.push(i);for(var k=0;k<r.length;k++){var H=r[k],V=Z.getAttribute(H);
if(V==null)continue;i[H]=V}}return B};hd.ars=function(d){var W=new DOMParser,c=W.parseFromString(d,"text/xml").firstChild.children,y=[[]];
if(c==null)return y;for(var S=0;S<c.length;S++){var B=c[S],r=[];y.push(r);for(var x=0;x<B.children.length;
x++){var Z=B.children[x];if(S==0)y[0].push(Z.tagName);r.push(Z.textContent)}}return y};hd.Fm=function(d,W,c){X.JK.DZ(d);
X.JK.S6(d,!1);d.l2=c[3]==!0;var y=[],B=[],Y=0,e=1,C=16,fK=0;for(var S=0;S<d.B.length;S++){var r=d.B[S];
if(r.pX()&&r.WI(d).t){r.add.SoLd.filterFX.v.filterMaskEnable.v=r.WI(d).t.isEnabled}if(r.add.TySh){var x=r.add.TySh.p$,Z=it.$_(x);
r.add.TySh.wy.TextIndex={t:"long",v:y.length};y.push(x);if(Z==2)it.Dz(r.add.TySh)}var i=r.add.vstk;if(i)i.strokeStyleResolution.v=d.tU;
if(r.sI()||c[2]&&r.add.SoLd){B[S]=[r.rect,r.buffer];r.rect=new a8;r.buffer=v.R(0);if(r.add.SoLd){var k=r.WI(d);
if(k!=null){B[S].push(k.buffer);k.buffer=v.R(k.buffer.length)}}}}if(y.length>0){var H=d.add.Txt2?d.add.Txt2.co:null;
if(d.add.Txt2==null)d.add.Txt2={};d.add.Txt2.co=jr.a2$(y,null,H)}var V=[d.add.lnk2,d.add.FEid,d.add.Patt],g=d.auR(d.B);
d.apo(g);d.lw.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);K.aA_(d.lw.r1005,0,d.tU);K.aA_(d.lw.r1005,8,d.tU);
if(d.Fw.length>0){var N=d.Fw;d.lw.r1073=new Uint8Array(8+N.length*14);K.ie(d.lw.r1073,0,3);K.ie(d.lw.r1073,4,N.length);
for(var S=0;S<N.length;S++){var C=8+14*S;K.Ag(d.lw.r1073,C,14);K.lI(d.lw.r1073,C+2,N[S].y);K.lI(d.lw.r1073,C+6,N[S].x);
K.Ag(d.lw.r1073,C+10,-1);K.Ag(d.lw.r1073,C+12,8)}}if(d.z6()){d.lw.r1022=new Uint8Array([0,3+d.iv.length-1,0])}else delete d.lw.r1022;
var w=new Uint8Array(d.B.length*2),U=new Uint8Array(d.B.length);for(var S=0;S<d.B.length;S++){var r=d.B[S],O=r.ks,l=r.EP?1:0;
K.Dc(w,S*2,O);U[S]=l;if(O>Y)Y=O;if(l==0)e=0}if(Y>0)d.lw.r1026=w;if(e<1)d.lw.r1072=U;var I=d.qx,s=I.length,z=d.lw.r1032=v.R(16+5*s,!0);
K.Kz(z,0,1);K.Kz(z,4,576);K.Kz(z,8,576);K.Kz(z,12,s);for(var S=0;S<s;S++){K.ie(z,C,Math.round(I[S][1]*32));
z[C+4]=I[S][0];C+=5}if(c[4]!=!0){var R=[d.buffer,new a8(0,0,d.m,d.i)],t=0;v.rG(R);while(R[t+1].P()>200*200)t+=2;
var a=fd.Ay("jpg"),J=R[t+1],F=new Uint8Array(a.Cy([[R[t].buffer]],J.m,J.i)),z=d.lw.r1036=new Uint8Array(28+F.length);
K.Kz(z,0,1);K.Kz(z,4,J.m);K.Kz(z,8,J.i);K.Kz(z,12,J.m*3);K.Kz(z,16,J.P()*3);K.Kz(z,20,F.length);K.Dc(z,24,24);
K.Dc(z,26,1);z.set(F,28)}var h=v._Q(d.buffer);if(d.add.fcmy)h=!1;var m=[];if(h)m.push({name:"Transparency",am:{Z:255,G:0,J:0},pk:100,zT:1});
m=m.concat(d.iv);delete d.lw.r1045;delete d.lw.r1006;delete d.lw.r1077;var D=new jD;C=0;var _=new Uint8Array(4+m.length*13);
_[3]=1;for(var S=0;S<m.length;S++){var n=m[S],j=n.name+"\0";K.a3(D,C,j);C+=4+j.length*2;var T=4+S*13;
fk.Yb(_,T,n.am);_[T+11]=n.pk;_[T+12]=n.zT}if(C!=0)d.lw.r1045=D.data.slice(0,C);d.lw.r1077=_;for(var S=0;
S<d.nD.length;S++)d.nD[d.nD.length-S-1].v.sliceID.v=2+S*3;var L={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:d.nD}},D=new jD;
K.zS(D,0,8);K.zS(D,4,16);var p=jz.Nj(D,L,8);d.lw.r1050=D.data.slice(0,p+8);var D=new jD;K.zS(D,0,16);
var p=jz.Nj(D,d.qv,4);d.lw.r1065=D.data.slice(0,p+4);var E=d.g;z=d.lw.r1069=v.R(2+E.length*4,!0);K.Dc(z,0,E.length);
for(var S=0;S<E.length;S++)K.Kz(z,2+4*S,d.B[E[S]].add.lyid);delete d.lw.r1058;delete d.lw.r1060;if(Object.keys(d.RO).length!=0){var G=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
dP.y1(d.RO,G[0],c[0]&&c[1]);d.lw.r1058=new Uint8Array(UTIF.encode(G));var A=dP.yb(d.RO);d.lw.r1060=K.$N(A)}var u=[],q=[],o=d.GB.slice(0);
if(d.PZ){var M=kt.agy([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),$=new e8.vw;
$.Y=M;o.push(eb.gy("Tile Symmetry 1",{vmsk:$,vogk:e8.h0(M)}))}for(var S=0;S<o.length;S++){var Q=o[S],M=Q.add.vmsk.Y;
if(S==0&&M.length==2)continue;var kF=v.R(M.length*26);kt.cF(kF,0,M,d.m,d.i);var P=S==0?1025:2e3+S-1;
d.lw["r"+P]=kF;if(S!=0){var bM={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:Q.name}};if(Q.name=="Tile Symmetry 1")bM.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
u.push({t:"Objc",v:bM});q.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:Q.add.vogk}}})}}if(u.length!=0){d.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:u}};
if(d.PZ)d.add.pths.pathSymmetrySelectedPath={t:"long",v:u.length-1};q={classID:"null",keyRootDescriptorList:{t:"VlLs",v:q}};
var D=new jD;K.zS(D,0,16);var p=jz.Nj(D,q,4);d.lw.r3000=D.data.slice(0,p+4)}else{delete d.add.pths;delete d.lw.r3000}if(d.$k&&d.$k.length!=0){d.lw.r4000=v.$k.Fm(d.$k)}if(d.eS.length!=0){var jW="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var S=0;S<d.eS.length;S++){var fX=d.eS[S],bX=[];for(var P in fX)bX.push(P+"=\""+fX[P]+"\"");jW+="<variable "+bX.join(" ")+">\n</variable>\n"}jW+="</variables>\n</variableSet>\n</variableSets>";
d.lw.r7000=K.$N(jW)}if(d.ZH.length!=0){var jW="<sampleDataSets psdPath=\""+d.name+"\">\n";for(var S=1;
S<d.ZH.length;S++){var ao=d.ZH[S];jW+="<sampleDataSet dataSetName=\"Data Set "+S+"\">\n";for(var en=0;
en<ao.length;en++)jW+="<"+d.ZH[0][en]+">"+ao[en].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+d.ZH[0][en]+">\n";
jW+="</sampleDataSet>\n"}jW+="</sampleDataSets>";d.lw.r7001=K.$N(jW)}fK=hd.a14(d,W,fK,3+m.length);fK=hd.apR(d,W,fK);
fK=hd.acl(d,W,fK);fK=hd.agr(d,W,fK,c,h);fK=hd.aCh(d,W,fK,c[0],h);var bO=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var S=0;S<bO.length;S++)delete d.lw["r"+bO[S]];for(var S=0;S<d.B.length;S++){var r=d.B[S];if(r.sI()||c[2]&&r.add.SoLd){r.rect=B[S][0];
r.buffer=B[S][1];if(B[S][2]){var k=r.WI(d);B[S].push(k.buffer);k.buffer=B[S][2]}}}d.apo(V);X.JK.S6(d,!0);
delete d.l2;return fK};hd.y9=function(d,W,c){var y=K.xA(W,c,4);c+=4;if(y!="8BPS")alert("invalid header signature: "+y);
var B=K.Ou(W,c);c+=2;d.l2=B==2;if(B!=1&&B!=2)alert("invalid version: "+B);c+=6;d.W8=K.Ou(W,c);c+=2;d.i=K.OC(W,c);
c+=4;d.m=K.OC(W,c);c+=4;d.yr=K.Ou(W,c);c+=2;d._b=K.Ou(W,c);c+=2;return c};hd.a14=function(d,W,c,y){var B=d.add.fcmy==1;
W.N5(0,64);K.sv(W.data,c,"8BPS");c+=4;K.Dc(W.data,c,d.l2?2:1);c+=2;K.Kz(W.data,c,0);c+=4;K.Dc(W.data,c,0);
c+=2;K.Dc(W.data,c,y+(B?1:0));c+=2;K.ie(W.data,c,d.i);c+=4;K.ie(W.data,c,d.m);c+=4;K.Dc(W.data,c,8);
c+=2;K.Dc(W.data,c,B?4:3);c+=2;return c};hd.asj=function(d,W,c){var y=K.OC(W,c);c+=4;if(y!=0)d.P3=W.slice(c,c+y);
c+=y;return c};hd.apR=function(d,W,c){K.Qx(W,c,0);c+=4;return c};hd.arg=function(d,W,c){var y=K.q(W,c),B=0;
c+=4;var r=[];while(B<y){var x=K.xA(W,c+B,4);B+=4;var Z=K.Ou(W,c+B);B+=2;var i=K.FQ(W,c+B);B+=i.length;
if(x=="MeSa"&&(Z==7e3||Z==7001)){}else if(x!="8BIM"){r.push(Z);console.log("Unknown Image Resources signature: "+x+", ID: "+Z)}var k=K.q(W,c+B);
B+=4;if(d.lw["r"+Z]!=null)console.log("--- two resources with same ID");d.lw["r"+Z]=K._J(W,c+B,k);B+=k+(k&1)}for(var S=0;
S<r.length;S++)delete d.lw["r"+r[S]];return c+y};hd.acl=function(d,W,c){var y=c,x=0;c+=4;var B=[];for(var r in d.lw){B.push(parseInt(r.slice(1)))}B.sort(function(V,g){return V-g});
for(var S=0;S<B.length;S++){var Z=B[S];K.MA(W,c+x,Z==7e3||Z==7001?"MeSa":"8BIM");x+=4;K.Lg(W,c+x,Z);
x+=2;var i=K.JG(W,c+x,"");x+=i;var k=d.lw["r"+Z],H=k.length;K.zS(W,c+x,H);x+=4;K.lK(W,c+x,k);x+=H;if(H%2==1)x++}K.zS(W,y,x);
return c+x};hd.axt=function(d,W,c){var y=c,B,r,x=d.l2?8:4;if(d.l2)B=K.SH(W,c);else B=K.q(W,c);c+=x;if(B==0)return y+x;
r=hd.a9o(d,W,c);hd.IV(1,r-c,"Layer Info");c=r;r=hd.aqW(d,W,c);hd.IV(1,r-c,"Global Layer Mask Info");
c=r;r=dy.a3k(W,c,y+x+B,d.add,d.l2,d);hd.IV(1,r-c,"Project Add Info");c=r;return y+x+B};hd.agr=function(d,W,c,y,B){var r=c;
K.zS(W,c,0);c+=4;if(d.l2){K.zS(W,c,0);c+=4}c=hd.akb(d,W,c,y,B);c=hd.akj(d,W,c);c=dy.aeg(W,c,d.add,d.l2,d);
if(d.l2)K.rb(W,r,c-r-8);else K.zS(W,r,c-r-4);return c};hd.a9o=function(d,W,c){var y,B=d.l2?8:4;if(d.l2)y=K.SH(W,c);
else y=K.q(W,c);c+=B;if(y!=0)hd.azy(d,W,c);return c+y};hd.azy=function(d,W,c){var y=K.JS(W,c);c+=2;var B=Math.abs(y);
for(var S=0;S<B;S++){var r=new e8;c=hA.Nr(r,d,W,c);d.B[S]=r}var x=new a8(0,0,d.m,d.i);for(var S=0;S<B;
S++){var Z=d.B[S],i=Z.Q7(),k=eu.Nr(Z,d,W,c);if(k-c>8)hd.IV(2,k-c,"Lay: "+Z.getName());c=k;hd.as2(Z,x);
if(i)hd.as2(i,x)}};hd.as2=function(d,W){};hd.akb=function(d,W,c,y,B){var r=c,x=d.l2;c+=x?8:4;c=hd.apO(d,W,c,y,B);
var Z=c-r-(x?8:4);if(Z%2!=0)Z++;if(x)K.rb(W,r,Z);else K.zS(W,r,Z);return r+Z+(x?8:4)};hd.apO=function(d,W,c,y,B){var r=d.B.length;
K.RI(W,c,B?-r:r);c+=2;var x=[];for(var S=0;S<r;S++)c=hA.Fm(d.B[S],d,W,c,x);for(var S=0;S<r;S++)c=eu.dn(d.l2,d.B[S],W,c,x[S],y,d.add.fcmy==1);
return c};hd.aqW=function(d,W,c){var y=K.q(W,c);c+=4;c+=y;return c};hd.akj=function(d,W,c){var y=K.zS(W,c,0);
c+=4;return c};hd.arQ=function(d,W,c){var y=d._b,B="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),r=[1,1,1,3,4,1,1,3],x,w;
if(y!=3){if(y==1||y==2||y==4)console.log("Project will be converted from "+B[y]+" to "+B[3]+" mode.");
else{alert("Color mode "+B[y]+" is not supported yet :(")}if(y==4)d.add.fcmy=1}if(d.lw.r1045){x=[];var Z=d.lw.r1045,i=0;
while(i<Z.length){var k=K.BB(Z,i);x.push(k);i+=4+2+k.length*2}}var H=r[y]+(x==null||x[0]=="Transparency"?1:0),V=d.m,g=d.i,N=V*g,C=K.Ou(W,c);
c+=2;d.buffer=v.R(N*4);v.ft(d.buffer,4278190080);var Y=c;for(var U=0;U<d.W8;U++){if(C==0){w=eu.qa(d.l2,d.yr,W,V,g,c,C);
c+=N*(d.yr>>>3)}else if(C==1){w=v.R(N);var e=d.l2?4:2;if(U==0)c+=d.W8*g*e;c+=eu.aCx(W,w,V,g,Y+U*g*e,c,e)}else{console.log("unknown compression of image data: ",C);
return}if(U<H){v.nP(w,d.buffer,U);if(d.W8==1&&U==0){v.nP(w,d.buffer,1);v.nP(w,d.buffer,2)}}else{var O=new e8.JO,l=U-H,I=U-r[d._b];
O.name=x?x[I]:"Alpha";if(O.name=="Quick Mask"){O.xV=!0;d.tv.push(l)}O.rect=new a8(0,0,V,g);O.channel=w;
O.color=0;O.oj();d.iv[l]=O;if(d.lw.r1077){var Z=d.lw.r1077.slice(4+I*13);O.am=fk.I8(Z,0);O.pk=Z[11];
O.zT=Z[12];if(O.zT==2)O.xV=!0}}}d.W8=4;if(d._b==2)for(var S=0;S<N;S++){var s=S*4,z=d.buffer[s];d.buffer[s]=d.P3[0+z];
d.buffer[s+1]=d.P3[256+z];d.buffer[s+2]=d.P3[512+z]}return c};hd.aCh=function(d,W,c,y,B){var r=1,x=16,Z=d.m,i=d.i,H,V;
K.Lg(W,c,r);c+=2;var k=Z*i;if(!y){V=new v.ii(Z*i);v.AH(d.buffer,V);var g=V.Z,N=V.G,C=V.J,w=V.U;for(var S=0;
S<k;S++){var Y=w[S]*(1/255);g[S]=~~(g[S]*Y+255*(1-Y));N[S]=~~(N[S]*Y+255*(1-Y));C[S]=~~(C[S]*Y+255*(1-Y))}}else H=v.R(k);
var U=[H,H,H];if(!y)U=[V.Z,V.G,V.J];if(d.add.fcmy==1){var e=H;if(!y){e=v.R(k);e.fill(255)}U.push(e)}if(B)U.push(y?H:V.U);
for(var S=0;S<d.iv.length;S++){U.push(d.iv[S].OU(new a8(0,0,d.m,d.i)))}var O=c;for(var l=0;l<U.length;
l++){W.N5(c,Z*i+4);H=U[l];if(r==0||r==2||r==3)c=eu.ZI(d.l2,H,W.data,Z,i,c,r);else{var I=d.l2?4:2;if(l==0)c+=U.length*i*I;
var s=c;c+=eu.auV(H,W.data,Z,i,O+l*i*I,c,I)}}return c};function dN(){}dN.Nr=function(d){var W={};dN.cT(d,W,0,0);
return W};dN.Fm=function(d,W){var c=0;c=dN.qh(d,W,c,0);return c};dN.cT=function(d,W,c,y){while(d[c]!="<".charCodeAt(0))c++;
c+=2;while(!0){if(d[c]=="/".charCodeAt(0)){c++;var B=K.indexOf(d," ".charCodeAt(0),c,c+50),r=K.indexOf(d,"\n".charCodeAt(0),c,c+50);
if(r==-1)r=Infinity;if(B==-1)B=Infinity;var x=Math.min(r,B),Z=K.xA(d,c,x-c),i=dN.R7(d,x+1,y+1,Z);W[Z]=i.b;
c=x+1;c+=i.size}else if(d[c]==">".charCodeAt(0)){c+=2;break}else{var k=d[c];if(k==10||k==9||k==32)c++;
else{console.log("unknown byte: "+k+", char: "+String.fromCharCode(k),c);c++}}}return c};dN.qh=function(d,W,c,y){K.MA(W,c,"<<\n");
c+=3;var B=dN.ayB;for(var r in d){K.YB(W,c,"\t".charCodeAt(0),y+1);c+=y+1;K.MA(W,c,"/"+r);c+=1+r.length;
if(B(d[r])||d[r]instanceof Array){K.MA(W,c," ");c++}else{K.MA(W,c,"\n");c++;K.YB(W,c,"\t".charCodeAt(0),y+1);
c+=y+1}c=dN.N1(d[r],W,c,y+1);K.MA(W,c,"\n");c++}K.YB(W,c,"\t".charCodeAt(0),y);c+=y;K.MA(W,c,">>");c+=2;
return c};dN.R7=function(d,W,c,y){var B=W,r={size:0,b:0};while(!0){while(d[W]==" ".charCodeAt(0)||d[W]=="\t".charCodeAt(0)||d[W]=="\n".charCodeAt(0))W++;
if(d[W]=="<".charCodeAt(0)){r.b={};W=dN.cT(d,r.b,W,c+1);break}else if(d[W]=="(".charCodeAt(0)){W+=3;
var x=W;while(!0){if(d[x-1]!="\\".charCodeAt(0)&&d[x]==")".charCodeAt(0)&&(d[x+1]=="\n".charCodeAt(0)||d[x+1]==" ".charCodeAt(0)))break;
else x++}r.b=K.aA$(d,W,x);W=x+2;break}else if(d[W]=="[".charCodeAt(0)){W++;r.b=[];while(d[W]==" ".charCodeAt(0)||d[W]=="\t".charCodeAt(0)||d[W]=="\n".charCodeAt(0))W++;
while(d[W]!="]".charCodeAt(0)){var Z=dN.R7(d,W,c+1,y);r.b.push(Z.b);W+=Z.size;while(d[W]==" ".charCodeAt(0)||d[W]=="\t".charCodeAt(0)||d[W]=="\n".charCodeAt(0))W++}W++;
break}else{var i=K.indexOf(d," ".charCodeAt(0),W,W+50),k=K.indexOf(d,"\n".charCodeAt(0),W,W+50);if(k==-1)k=Infinity;
if(i==-1)i=Infinity;var H=K.xA(d,W,Math.min(i,k)-W).trim(),V=parseFloat(H);if(!isNaN(V)){r.b=parseFloat(H);
W=Math.min(i,k)+1;break}else if(H=="true"||H=="false"){r.b=H=="true";W=Math.min(i,k)+1;break}else if(H=="null"||H=="NaN"||H=="undefined"){r.b=0;
W=Math.min(i,k)+1;break}else{console.log("unknown identifier: "+H);throw"e"}W=Math.min(i,k)+1}}r.size=W-B;
return r};dN.N1=function(d,W,c,y){if(d instanceof Array){var B=d.length==0||typeof d[0]=="number";if(B){K.MA(W,c,"[ ");
c+=2;for(var S=0;S<d.length;S++){var r=d[S]+" ";K.MA(W,c,r);c+=r.length}K.MA(W,c,"]");c+=1}else{K.MA(W,c,"[\n");
c+=2;for(var S=0;S<d.length;S++){K.YB(W,c,"\t".charCodeAt(0),y);c+=y;c=dN.N1(d[S],W,c,y);K.MA(W,c,"\n");
c++}K.YB(W,c,"\t".charCodeAt(0),y);c+=y;K.MA(W,c,"]");c+=1}}else if(d instanceof Object){c=dN.qh(d,W,c,y)}else if(typeof d=="string"){K.MA(W,c,"(");
c++;K.YB(W,c,254);c++;K.YB(W,c,255);c++;c=K.a9s(W,c,d);K.MA(W,c,")");c+=1}else{var r=d+"";K.MA(W,c,r);
c+=r.length}return c};dN.ayB=function(d){var W=typeof d;return W=="string"||W=="number"||W=="boolean"};
function ae(){}ae.Nr=function(d){var W={};ae.al$(d,W,0,0);return W};ae.Fm=function(d,W){var c=0;K.MA(W,c," ");
c++;c=ae.aD8(d,W,c,0);c--;W.N5(c,2);W.data[c]=W.data[c+1]=0;c+=2;return c};ae.cT=function(d,W,c,y){while(d[c]!="<".charCodeAt(0)){c++;
console.log("šipka")}c+=2;c=ae.al$(d,W,c,y);return c};ae.qh=function(d,W,c,y){K.MA(W,c,"<< ");c+=3;c=ae.aD8(d,W,c,y);
K.MA(W,c,">>");c+=2;return c};ae.fM=function(d){return d==9||d==10||d==32};ae.al$=function(d,W,c,y){while(!0){while(ae.fM(d[c])||d[c]==0)c++;
if(c>=d.length)break;if(d[c]=="/".charCodeAt(0)){c++;var B=c;while(!ae.fM(d[B]))B++;var r=K.xA(d,c,B-c);
c=B+1;var x=ae.R7(d,c,y,r);W["_"+r]=x.b;c+=x.size}else if(d[c]==">".charCodeAt(0)){c+=2;break}else{var Z=d[c];
console.log(K.xA(d,c,c+100));console.log("unknown byte: "+Z+", char: "+String.fromCharCode(Z)+", offset: "+c);
c++;throw"e";return-1}}return c};ae.aD8=function(d,W,c,y){for(var B in d){var r=B.substring(1,B.length);
K.MA(W,c,"/"+r);c+=1+r.length;K.MA(W,c," ");c++;c=ae.N1(d[B],W,c,y+1,r);K.MA(W,c," ");c++}return c};
ae.R7=function(d,W,c,y){var B=W,r={type:"",size:0,b:0};while(ae.fM(d[W]))W++;if(d[W]=="<".charCodeAt(0)){r.type="Object";
r.b={};W=ae.cT(d,r.b,W,c+1)}else if(d[W]=="(".charCodeAt(0)){r.type="String";W++;if(d[W]==")".charCodeAt(0)){r.b="e";
W++}else if(d[W]==254&&d[W+1]==255){W+=2;var x=W,Z=0;while(!0){if(d[x]==")".charCodeAt(0)&&d[x-1]!="\\".charCodeAt(0))break;
else x+=1}r.b="s"+K.aA$(d,W,x);W=x+2}else{var x=W;while(d[x]!=")".charCodeAt(0))x++;r.b="s"+K.xA(d,W,x-W);
W=x+1}}else if(d[W]=="[".charCodeAt(0)){W++;r.b=[];r.type="Array";while(ae.fM(d[W]))W++;while(d[W]!="]".charCodeAt(0)){var i=ae.R7(d,W,c+1,y);
if(i==-1)return-1;r.b.push(i.b);W+=i.size;delete i.size;while(ae.fM(d[W]))W++}W++}else{var k=W;while(!ae.fM(d[k]))k++;
var H=K.xA(d,W,k-W),V=parseFloat(H);if(!isNaN(V)&&H.indexOf(".")!=-1){r.type="Float";var g=parseFloat(H);
r.b="f"+g}else if(!isNaN(V)&&H.indexOf(".")==-1){r.type="Integer";r.b="i"+parseInt(H)}else if(H=="true"||H=="false"){r.type="Boolean";
r.b=H=="true"}else if(H.charAt(0)=="/"){r.type="BString";r.b=H}else if(H=="NaN"||H=="undefined"){r.type="Float";
r.b="f0"}else{console.log("unknown value",JSON.stringify(H));throw"e"}W=k+1}r.size=W-B;return r};ae.av1=function(d){if(d==Math.round(d))return d+".0";
var W=d.toFixed(5);while(W.endsWith("0")&&W[W.length-2]!=".")W=W.slice(0,W.length-1);if(0<d&&d<1)W=W.slice(1);
if(-1<d&&d<0)W="-"+W.slice(2);return W};ae.N1=function(d,W,c,y,B){var r=typeof d=="string"?d.charAt(0):"";
if(d instanceof Array){K.MA(W,c,"[ ");c+=2;for(var S=0;S<d.length;S++){c=ae.N1(d[S],W,c,y,"");K.MA(W,c," ");
c++}K.MA(W,c,"]");c+=1}else if(d instanceof Object){c=ae.qh(d,W,c,y)}else if(r=="e"){K.MA(W,c,"()");
c+=2}else if(r=="s"){K.MA(W,c,"(");c++;if(B=="97"){K.MA(W,c,d.slice(1));c+=d.length-1}else{K.YB(W,c,254);
c++;K.YB(W,c,255);c++;c=K.a9s(W,c,d.slice(1))}K.MA(W,c,")");c++}else if(r=="/"){K.MA(W,c,d);c+=d.length}else if(r=="f"){var x=parseFloat(d.substring(1)),Z=ae.av1(x);
K.MA(W,c,Z);c+=Z.length}else if(r=="i"){K.MA(W,c,d.substring(1));c+=d.length-1}else{var Z=d+"";K.MA(W,c,Z);
c+=Z.length}return c};function K(){}K.a86=function(bd){var d="";for(var S=3;S>=0;S--)d+=String.fromCharCode(bd>>S*8&255);
return d};K.aA2=function(d){var bd=0;for(var S=d.length-1;S>=0;S--)bd|=d.charCodeAt(S)<<(3-S)*8;return bd};
K.indexOf=function(d,W,c,y){if(c==null)c=0;if(y==null)y=d.length;y=Math.min(y,d.length);for(var S=c;
S<y;S++)if(d[S]==W)return S;return-1};K.J7=function(d,W,c){if(c==null)c=0;var y=W.length,B=d.length-y;
if(typeof W=="string"){var r=[];for(var S=0;S<y;S++)r.push(W.charCodeAt(S));W=r}if(W.length>0){var x=W[0];
for(var S=c;S<B;S++)if(d[S]==x){var Z=!0;for(var i=1;i<y;i++)if(W[i]!=d[S+i]){Z=!1;break}if(Z)return S}}return-1};
K.aA$=function(d,W,c){var y=[],r="";while(W<c){var B=d[W++];if(B=="\\".charCodeAt(0))y.push(d[W++]);
else y.push(B)}for(var S=0;S<y.length;S+=2)r+=String.fromCharCode(y[S]<<8|y[S+1]);return r};K.aqm=function(d,W,c){var y=new Uint8Array(2);
for(var S=0;S<c.length;S++){K.Dc(y,0,c.charCodeAt(S));if(y[0]==")".charCodeAt(0)||y[0]=="(".charCodeAt(0)||y[0]=="\\".charCodeAt(0)){d[W]="\\".charCodeAt(0);
W++}d[W]=y[0];W++;if(y[1]==")".charCodeAt(0)||y[1]=="(".charCodeAt(0)||y[1]=="\\".charCodeAt(0)){d[W]="\\".charCodeAt(0);
W++}d[W]=y[1];W++}return W};K.a9s=function(d,W,c){d.N5(W,4*c.length);return K.aqm(d.data,W,c)};K.ud=function(d,W,c){var y="";
for(var S=0;S<c;S++){var B=d[W++]|d[W++]<<8;y+=String.fromCharCode(B)}return y};K.qT=function(d,W,c){var y="";
for(var S=0;S<c;S++){var B=d[W++]<<8|d[W++];y+=String.fromCharCode(B)}return y};K.aDw=function(d,W,c){for(var S=0;
S<c.length;S++){var y=c.charCodeAt(S);K.M9(d,W+2*S,y)}};K.aqv=function(d,W,c){for(var S=0;S<c.length;
S++){var y=c.charCodeAt(S);K.Dc(d,W+2*S,y)}};K.adW=function(d,W,c){d.N5(W,2*c.length);K.aqv(d.data,W,c)};
K.adi=function(d,S,W){var c=[],y=0,B=0;W+=S;while(S<W){y=d[S++];if((y&128)==0)B=y;else if((y&224)==192){B=(y&31)<<6;
y=d[S++];B|=y&63}else if((y&240)==224){B=(y&15)<<12;y=d[S++];B|=(y&63)<<6;y=d[S++];B|=y&63}else if((y&248)==240){B=(y&7)<<18;
y=d[S++];B|=(y&63)<<12;y=d[S++];B|=(y&63)<<6;y=d[S++];B|=y&63}else throw"e";c.push(B)}return c};K.auP=window.TextDecoder?new window.TextDecoder("utf8"):null;
K.uw=function(d,W,c){if(W==null)W=0;if(c==null)c=d.length;if(K.auP&&W==0&&c==d.length)return K.auP.decode(d);
var y=K.adi(d,W,c),B=y.length;for(var S=0;S<B;S++)y[S]=String.fromCharCode(y[S]);return y.join("")};
K.aqo=window.TextEncoder?new window.TextEncoder("utf8"):null;K.$N=function(d){if(K.aqo)return K.aqo.encode(d);
var W=new Uint8Array(d.length*4),c=K.wP(d,W,0);return W.slice(0,c)};K.wP=function(d,W,c){var y=d.length,S=0;
for(var B=0;B<y;B++){var r=d.charCodeAt(B);if((r&4294967295-(1<<7)+1)==0){W[c+S]=r;S++}else if((r&4294967295-(1<<11)+1)==0){W[c+S]=192|r>>6;
W[c+S+1]=128|r>>0&63;S+=2}else if((r&4294967295-(1<<16)+1)==0){W[c+S]=224|r>>12;W[c+S+1]=128|r>>6&63;
W[c+S+2]=128|r>>0&63;S+=3}else if((r&4294967295-(1<<21)+1)==0){W[c+S]=240|r>>18;W[c+S+1]=128|r>>12&63;
W[c+S+2]=128|r>>6&63;W[c+S+3]=128|r>>0&63;S+=4}else throw"e"}return S};K.fS=function(d,W){var c=K.q(d,W),y=K.uw(d,W+4,c-1);
return{Td:y,vh:4+c}};K.aC5=function(d,W){var c=K.kK(d,W),y=K.ud(d,W+4,c);return y};K.VB=function(d,W){var c=K.q(d,W),y=K.qT(d,W+4,c);
return y};K.BB=function(d,W){var c=K.q(d,W),y=K.qT(d,W+4,c-1);return y};K.ah8=function(d,W,c){K.u5(d,W,c.length);
W+=4;K.aDw(d,W,c)};K.ajw=function(d,W,c){K.Kz(d,W,c.length);W+=4;K.aqv(d,W,c)};K.a3=function(d,W,c){d.N5(W,4+2*c.length);
K.ajw(d.data,W,c)};K.anL=function(d,W,c){d.N5(W,4+2*c.length);K.ah8(d.data,W,c)};K.jr=function(d,W,c){var y=[];
for(var S=0;S<c;S++)y.push(String.fromCharCode(d[W+S]));return y};K.ani=function(d,W,c){var y=!1,B=d.length-c.length;
for(var S=W;S<B;S++){for(var r=0;r<c.length;r++){if(d[S+r]!=c.charCodeAt(r))break;if(r==c.length-1)return S}}};
K.xA=function(d,W,c){var y="";for(var S=0;S<c;S++)y+=String.fromCharCode(d[W+S]);return y};K.sv=function(d,W,c){for(var S=0;
S<c.length;S++)d[W+S]=c.charCodeAt(S)};K.MA=function(d,W,c){d.N5(W,c.length);K.sv(d.data,W,c)};K.anz=function(d,W,c){var y="";
for(var S=0;S<c;S++){var B=d[W+S];if(B<10)y+="  ";else if(B<100)y+=" ";y+=B+", "}return y};K.Ou=function(d,W){return d[W]<<8|d[W+1]};
K.Dc=function(d,W,bd){d[W]=bd>>8&255;d[W+1]=bd&255};K.Lg=function(d,W,bd){d.N5(W,4);K.Dc(d.data,W,bd)};
K.YT=function(d,W){var c=K.Ou(d,W),y=K.Ou(d,W+2);return c+y*(1/65536)};K.aA_=function(d,W,bd){var c=Math.floor(bd),y=Math.floor((bd-c)*65536);
K.Dc(d,W,c);K.Dc(d,W+2,y)};K.w1=function(d,W){return d[W+1]<<8|d[W]};K.M9=function(d,W,bd){d[W+1]=bd>>8&255;
d[W]=bd&255};K.SB=function(d,W,bd){d.N5(W,4);K.M9(d.data,W,bd)};K.JS=function(d,W){K.V_[0]=d[W+1];K.V_[1]=d[W];
return K.dt[0]};K.dU=function(d,W){K.V_[0]=d[W];K.V_[1]=d[W+1];return K.dt[0]};K.Ag=K.Dc;K.RI=K.Lg;K.OC=function(d,W){K.SN[0]=d[W+3];
K.SN[1]=d[W+2];K.SN[2]=d[W+1];K.SN[3]=d[W];return K.nM[0]};K.ie=function(d,W,bd){K.nM[0]=bd;d[W+3]=K.SN[0];
d[W+2]=K.SN[1];d[W+1]=K.SN[2];d[W+0]=K.SN[3]};K.Qx=function(d,W,bd){d.N5(W,4);K.ie(d.data,W,bd)};K.hJ=function(d,W,c,y){c[y+0]=d[W+0];
c[y+1]=d[W+1];c[y+2]=d[W+2];c[y+3]=d[W+3]};K.kK=function(d,W){K.hJ(d,W,K.SN,0);return K.aDa[0]};K.u5=function(d,W,bd){K.aDa[0]=bd;
K.hJ(K.SN,0,d,W)};K.c6=function(d,W,bd){d.N5(W,4);K.u5(d.data,W,bd)};K.VL=function(d,W){K.hJ(d,W,K.SN,0);
return K.nM[0]};K.a56=function(d,W,bd){K.nM[0]=bd;K.hJ(K.SN,0,d,W)};K.avB=function(d,W,bd){d.N5(W,4);
K.a56(d.data,W,bd)};K.q=function(d,W){var c=d[W]*(256*256*256)+(d[W+1]<<16|d[W+2]<<8|d[W+3]);return c};
K.Kz=function(d,W,bd){d[W]=bd>>24&255;d[W+1]=bd>>16&255;d[W+2]=bd>>8&255;d[W+3]=bd>>0&255};K.zS=function(d,W,bd){d.N5(W,4);
K.Kz(d.data,W,bd)};K.SH=function(d,W){return K.q(d,W)<<32|K.q(d,W+4)};K.agU=function(d,W,bd){K.Kz(d,W,bd>>16>>16);
K.Kz(d,W+4,bd&4294967295)};K.rb=function(d,W,bd){d.N5(W,8);K.agU(d.data,W,bd)};K.zZ=function(d,W){var c=new Uint8Array(8);
for(var S=0;S<8;S++)c[S]=d[W+7-S];var y=new Float64Array(c.buffer);return y[0]};K.yk=function(d,W){var c=new Uint8Array(8);
for(var S=0;S<8;S++)c[S]=d[W+S];var y=new Float64Array(c.buffer);return y[0]};K.BE=function(d,W,bd){var c=new Float64Array(1);
c[0]=bd;var y=new Uint8Array(c.buffer);for(var S=0;S<4;S++){var B=y[S];y[S]=y[7-S];y[7-S]=B}for(var S=0;
S<8;S++)d[W+S]=y[S]};K.PB=function(d,W,bd){d.N5(W,8);K.BE(d.data,W,bd)};K.cb=function(d,W){K.SN[0]=d[W+3];
K.SN[1]=d[W+2];K.SN[2]=d[W+1];K.SN[3]=d[W+0];return K.eA[0]};K.GY=function(d,W){K.SN[0]=d[W+0];K.SN[1]=d[W+1];
K.SN[2]=d[W+2];K.SN[3]=d[W+3];return K.eA[0]};K.lI=function(d,W,bd){K.eA[0]=bd;d[W+0]=K.SN[3];d[W+1]=K.SN[2];
d[W+2]=K.SN[1];d[W+3]=K.SN[0]};K.ah1=function(d,W,bd){d.N5(W,4);K.lI(d.data,W,bd)};K.mc=function(d,W,bd){K.eA[0]=bd;
d[W+0]=K.SN[0];d[W+1]=K.SN[1];d[W+2]=K.SN[2];d[W+3]=K.SN[3]};K.avz=function(d,W,bd){d.N5(W,4);K.mc(d.data,W,bd)};
K.aa3=function(d,W){var c=K.OC(d,W),y=c*(1/(1<<24));return y};K.acm=function(d,W,c){var y=Math.floor(c*(1<<24));
K.ie(d,W,y)};K.asg=function(d,W,c){d.N5(W,4);K.acm(d.data,W,c)};K.FQ=function(d,W){var c=d[W],y=K.xA(d,W+1,c);
c+=1-c%2;return{Y4:y,length:c+1}};K.aji=function(d,W,c){var y=c.length;d[W]=y;K.sv(d,W+1,c);if(y%2==0){d[W+1+y]=0;
++y}return y+1};K.JG=function(d,W,c){d.N5(W,c.length+2);return K.aji(d.data,W,c)};K.Kq=function(d,W){var c=new dT;
c.U=K.zZ(d,W+0*8);c.J=K.zZ(d,W+1*8);c.gp=K.zZ(d,W+2*8);c.x7=K.zZ(d,W+3*8);c.IS=K.zZ(d,W+4*8);c.rk=K.zZ(d,W+5*8);
return c};K.gI=function(d,W,c){K.BE(d,W+0*8,c.U);K.BE(d,W+1*8,c.J);K.BE(d,W+2*8,c.gp);K.BE(d,W+3*8,c.x7);
K.BE(d,W+4*8,c.IS);K.BE(d,W+5*8,c.rk)};K.a5t=function(d,W,c){d.N5(W,48);K.gI(d.data,W,c)};K.au0=function(d,W){var c=K.cb(d,W),y=K.cb(d,W+4),B=K.cb(d,W+8),r=K.cb(d,W+12);
return new a8(c,y,B-c,r-y)};K.at_=function(d,W,c){K.lI(d,W,c.x);K.lI(d,W+4,c.y);K.lI(d,W+8,c.x+c.m);
K.lI(d,W+12,c.y+c.i)};K.agW=function(d,W,c){d.N5(W,16);K.at_(d.data,W,c)};K.lX=function(d,W){var c=K.OC(d,W),y=K.OC(d,W+4),B=K.OC(d,W+8),r=K.OC(d,W+12);
return new a8(y,c,r-y,B-c)};K.a1T=function(d,W,c){K.ie(d,W,c.y);K.ie(d,W+4,c.x);K.ie(d,W+8,c.y+c.i);
K.ie(d,W+12,c.x+c.m)};K.S$=function(d,W,c){d.N5(W,16);K.a1T(d.data,W,c)};K._J=function(d,W,c){var y=new Uint8Array(c);
for(var S=0;S<c;S++)y[S]=d[W+S];return y};K.axp=function(d,W,c){d.set(c,W)};K.lK=function(d,W,c){d.N5(W,c.length);
K.axp(d.data,W,c)};K.a03=function(d,W,c,bd){if(!bd)bd=1;for(var S=0;S<bd;S++)d[W+S]=c};K.YB=function(d,W,c,bd){if(!bd)bd=1;
d.N5(W,bd);K.a03(d.data,W,c,bd)};K.dt=new Int16Array(1);K.V_=new Uint8Array(K.dt.buffer);K.nM=new Int32Array(1);
K.aDa=new Uint32Array(K.nM.buffer);K.SN=new Uint8Array(K.nM.buffer);K.eA=new Float32Array(K.nM.buffer);
function aj(){}aj.Nr=function(d,W){var c=new Uint8Array(d),y=0,B=K.xA(c,y,9),Z=4,i=100;y+=9;var r=K.xA(c,y,4);
y+=4;y++;W.m=K.q(c,y);y+=4;W.i=K.q(c,y);y+=4;var x=K.q(c,y);y+=4;if(x!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(r)==-1){i=K.q(c,y);y+=4;if(parseInt(r.slice(1))>=7){i=i}else alert("Unknown XCF version: "+r);
Z=8}var k={};y=aj.dl(c,y,k);var H=[];y=aj.wi(c,y,H,Z);var V=[];y=aj.wi(c,y,V,Z);W.t6=0;for(var S=0;S<H.length;
S++)aj.afU(c,H[S],W,k,Z,i);while(W.t6>0){W.B.push(W.b7());W.t6--}W.B.reverse();delete W.t6;W.buffer=v.R(W.m*W.i*4);
if(W.B.length==0)console.log("No layers!!!");for(var S=0;S<V.length;S++){var g=aj.aco(c,V[S],k,Z,i);
if(g.Nb[es.a3P])W.u={channel:g.jE,rect:new a8(0,0,W.m,W.i)}}};aj.afU=function(d,W,c,y,B,r){var x=c.jb(),Z=K.q(d,W),V=0;
W+=4;var i=K.q(d,W);W+=4;x.rect=new a8(0,0,Z,i);var k=K.q(d,W);W+=4;var H=K.fS(d,W);W+=H.vh;x.AP(H.Td);
var g={};W=aj.dl(d,W,g);if(g[es.ahe]){var N=g[es.ahe];V=N.length/4-1}if(g[es.uZ]){x.rect.x=K.OC(g[es.uZ],0);
x.rect.y=K.OC(g[es.uZ],4)}if(g[es.apL]){x.opacity=K.q(g[es.apL],0)}if(g[es.a7n]){x.add.lsct=aG.ED;x.xy=24}if(g[es.abZ]){var C=K.q(g[es.abZ],0);
x.E9=es.aDR[C];if(x.vS()&&x.E9=="norm")x.E9="pass"}if(g[es.alR]){if(K.q(g[es.alR],0)==0)x.xy+=2}if(g[es.aeS]){var w=K.q(g[es.aeS],0);
x.add.lsct=w&1==1?aG.ED:aG.tV}if(g[es.iD]){var Y=g[es.iD];for(var U in Y){var e=Y[U];if(U=="gimp-text-layer"){var O=aj.ay1(e),l=O.text,I=O.font,s=O.color,z=O["font-size"];
if(l==null&&O.markup){var R=new DOMParser,t=R.parseFromString(O.markup,"image/svg+xml");while(t.firstChild!=null&&t.firstChild.tagName!=null){t=t.firstChild;
var a=t.getAttribute("font"),J=t.getAttribute("foreground"),F=t.getAttribute("size");if(a!=null)I=a;
if(J!=null){J=CSS.I8(J);s=[1,J.Z/255,J.G/255,J.J/255]}if(F!=null){z=""+parseFloat(F)/245}}l=t.textContent}x.add.lnsr="rend";
x.add.TySh=it.De(0,0);x.add.TySh.Nz=new a8(0,0,100,100);x.add.TySh.e=new dT(1,0,0,1,x.rect.x,x.rect.y);
var h=x.add.TySh.p$;it.kL(h,0,l);var m=it.tO(h,0,0),D=O.justify,_=O["line-spacing"];if(s)m.Cr.FillColor={Type:1,Values:[1,parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])]};
if(z){z=Math.round(parseFloat(z));m.Cr.FontSize=z;x.add.TySh.e.rk+=Math.min(17,z*.17)}if(_){_=Math.round(parseFloat(_)+m.Cr.FontSize*1.2);
m.Cr.Leading=_;m.Cr.AutoLeading=!1}if(D)m.a0.Justification=["left","right","center","fill"].indexOf(D);
if(I&&I!="Sans-serif"){var n=I.toLowerCase(),j="bold italic semi extra regular condensed light".split(" "),T=n.length;
for(var S=0;S<j.length;S++){var L=n.indexOf(j[S]);if(L!=-1&&L<T&&n[L-1]==" ")T=L}if(T!=n.length)I=I.slice(0,T-1).split(" ").join("")+"-"+I.slice(T).split(" ").join("");
it.nn(m,I)}it.ml(h,0,l.length,m);var p=O["box-width"],E=O["box-height"],G=p?parseFloat(p):x.rect.m,A=E?parseFloat(E):x.rect.i;
it.gF(h,1);it.r_(h,[0,0,Math.ceil(G),Math.ceil(A)])}else console.log("Unknown property "+U)}}while(c.t6>V){c.B.push(c.b7());
c.t6--}c.t6=V;if(x.add.lsct==aG.ED||x.add.lsct==aG.tV)c.t6++;var u=B==4?K.q:K.SH,q=u(d,W);W+=B;var o=u(d,W);
W+=B;if(x.TT()){x.buffer=v.R(x.rect.P()*4);var M=new v.ii(x.rect.P());aj.apn(d,q,M,y,B,r);v.KU(M,x.buffer)}if(o!=0){x.t=new e8.JO;
var $=aj.aco(d,o,y,B,r);x.t.channel=$.jE;x.t.rect=x.rect.clone();if(g[es.ach])x.t.isEnabled=K.q(g[es.ach],0)==1;
x.t.color=x.t.channel[0];x.t.oj()}if(x.vS())x.rect=new a8;c.B.push(x)};aj.ay1=function(d){var W="("+K.uw(d,0,d.length-1)+")",c=[],y={};
aj.a54(W,1,c);aj.afE(c,y);return y};aj.afE=function(d,W){for(var S=0;S<d.length;S++){var c=d[S],y=c[0];
if(c.length==2)W[y]=c[1];else W[y]=c.slice(1)}};aj.a54=function(d,W,c){while(!0){if(W>=d.length)throw"e";
var y=d.charAt(W);W++;if(y=="("){var B=[];W=aj.a54(d,W,B);c.push(B)}else if(y==" "||y=="\n"||y=="\r"){}else if(y==")")return W;
else if(y=="\""){var r=W;while(!0){var x=d[W];W++;if(x=="\"")break;if(x=="\\")W++}c.push(JSON.parse(d.slice(r-1,W)))}else{var r=W-1;
while(d[W]!=" "&&d[W]!=")")W++;c.push(d.slice(r,W))}}};aj.aco=function(d,W,c,y,B){var r=K.q(d,W);W+=4;
var x=K.q(d,W);W+=4;var Z=K.fS(d,W);W+=Z.vh;var i={};W=aj.dl(d,W,i);var k=new v.ii(r*x),H=y==4?K.q:K.SH,V=H(d,W);
W+=y;aj.apn(d,V,k,c,y,B);return{jE:k.Z,Nb:i}};aj.apn=function(d,W,c,y,B,r){var x=K.q(d,W);W+=4;var Z=K.q(d,W);
W+=4;var i=K.q(d,W);W+=4;var k=B==4?K.q:K.SH,H=k(d,W);W+=B;aj.a3p(d,H,c,y,i,B,r)};aj.a3p=function(d,W,c,y,B,r,x){var Z=K.q(d,W),H=0,S=0;
W+=4;var i=K.q(d,W);W+=4;var k=new a8(0,0,Z,i);if(x==100||x==150)H=1;else if(x==200||x==250)H=2;else if(x==300||x==350)H=4;
else if(x==500||x==550)H=2;else if(x==600||x==650)H=4;else if(x==700||x==750)H=8;else{alert("unsupported bit depth "+x);
throw"e"}var V=B/H,H=Math.round(B/V),g=[];W=aj.wi(d,W,g,r);var N=new v.ii(64*64*H),C=new a8,w=y[es.alL][0],Y=[N.Z,N.G,N.J,N.U];
if(V==3)N.U.fill(255);var U=Date.now();if(g.length!=0)for(var e=0;e<i;e+=64)for(var O=0;O<Z;O+=64){var l=Math.min(Z-O,64),I=Math.min(i-e,64),s=l*I;
C.sq(O,e,l,I);aj.aaY(d,g[S++],s*H,w,V,Y);if(x==100||x==150){}else if(x==250){for(var z=0;z<V;z++){var R=Y[z];
for(var t=0;t<s;t++){var a=R[t]<<8|R[s+t];R[t]=Math.min(a>>>8,255)}}}else if(x==600){var J=aj.atP(),F=new Uint32Array(1),h=new Float32Array(F.buffer);
for(var z=0;z<V;z++){var R=Y[z];for(var t=0;t<s;t++){F[0]=R[t]<<24|R[s+t]<<16|R[(s<<1)+t]<<8|R[(s<<1)+s+t]<<0;
var m=h[0];if(m<0)m=0;else if(m>1)m=1;R[t]=J[~~(.5+m*1e3)]}}}else console.log("unknown data format",x);
v.w3(N,C,c,k)}};aj.atP=function(){var d=aj.avv;if(d!=null)return d;d=aj.avv=new Uint8Array(1001);for(var S=0;
S<1001;S++)d[S]=~~(.49+255*v.dM(S*.001));return d};aj.aaY=function(d,W,c,y,B,r){if(y==1){for(var x=0;
x<B;x++){var Z=r[x],i=0;while(i<c){var bd=d[W];W++;if(bd<127){var k=d[W];W++;bd++;for(var S=0;S<bd;S++)Z[i+S]=k}else if(bd==127){var H=d[W];
W++;var V=d[W];W++;var k=d[W];W++;bd=H<<8|V;for(var S=0;S<bd;S++)Z[i+S]=k}else if(bd==128){var H=d[W];
W++;var V=d[W];W++;bd=H<<8|V;for(var S=0;S<bd;S++)Z[i+S]=d[W+S];W+=bd}else{bd=256-bd;for(var S=0;S<bd;
S++)Z[i+S]=d[W+S];W+=bd}i+=bd}}}else if(y==2){var g=pako.inflate(d.slice(W)),N=Math.round(g.length/c);
for(var S=0;S<c;S++){var C=S*N;r[0][S]=g[C];r[1][S]=g[C+1];r[2][S]=g[C+2];r[3][S]=N==3?255:g[C+3]}}else alert("Unknown compression "+y)};
aj.wi=function(d,W,c,y){var B=y==4?K.q:K.SH;while(!0){var r=B(d,W);W+=y;if(r==0)break;else c.push(r)}return W};
aj.dl=function(d,W,c){while(!0){var y=K.q(d,W);W+=4;var B=K.q(d,W);W+=4;if(y==es.a3a)break;else if(y==es.iD)c[y]=aj.a0Z(d,W,W+B);
else c[y]=K._J(d,W,B);W+=B}return W};aj.a0Z=function(d,W,c){var y={};while(W<c){var B=K.fS(d,W);W+=B.vh;
var r=K.q(d,W);W+=4;if(r!=1)console.log("unknown flags",r);var x=K.q(d,W);W+=4;y[B.Td]=K._J(d,W,x);W+=x}return y};
var es={a3a:0,as$:1,apJ:2,alv:3,a3P:4,a94:5,apL:6,abZ:7,alR:8,a6b:9,asT:10,ach:11,abg:12,a25:13,aCC:14,uZ:15,afH:16,alL:17,aCV:18,a2t:19,ays:20,iD:21,aqV:22,akg:23,ajn:24,aul:25,agZ:26,akR:27,al2:28,a7n:29,ahe:30,aeS:31,a0H:32,ayD:33,a6p:34,akl:35,aw6:36,awp:37,aju:38,adZ:0,a9R:1,a0e:2,a74:3,aB1:1,ae5:2,aBQ:0,aha:1,aj6:1};
es.aDR="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var iN=function(){var d=!1,W,c,U=0,l;function y(){var z=K.xA(W,c,4);c+=4;return z[3]+z[2]+z[1]+z[0]}function B(){var z=K.xA(W,c,4);
c+=4;return z}function r(){var z=W[c];c+=1;return z}function x(){var z=K.w1(W,c);c+=2;return z}function Z(){var z=K.kK(W,c);
c+=4;return z}function i(){var z=K.VL(W,c);c+=4;return z}function k(){var z=K.kK(W,c);c+=8;return z}function H(){var z=K.GY(W,c);
c+=4;return z}function V(){var z=K.yk(W,c);c+=8;return z}function g(){var z=K.w1(W,c),R=K.uw(W,c+2,z);
c+=2+z;return R}function N(){var z=K.kK(W,c),R=K.uw(W,c+4,z);c+=4+z;return R}function C(z){c=z;var R=[];
while(c!=0){var t=B();if(t!="#FT4"&&t!="#FT3"&&t!="#FT2")throw t;var a=k(),J=k(),F=k(),h=k(),m=k(),D=Z(),_=Z(),n=Z(),j=x(),T=r(),L={};
R.push(L);for(var S=0;S<D;S++){var p=Z(),E=r();if(E!=0&&E!=1&&E!=2)throw E;var G=[];if(E==0||E==1){var A=k(),u=k(),q=k(),o=Z(),M=r(),$=Z(),Q=t!="#FT4"?0:Z(),kF=null;
if(t=="#FAT"||t=="#FT2"){switch(M){case 1:M=1;break;case 2:M=65;break;case 3:M=129;break;case 4:M=193;
break;default:M=0;break}}if(E==0)kF=g();G=[A,u,q,M,kF]}L["i"+p]=[E,G]}for(var S=0;S<j;S++){var P=x(),bM=x(),jW=k(),fX=K.xA(W,c,P);
c+=P}c=a}R.reverse();for(var bX=1;bX<R.length;bX++){var L=R[bX],ao=R[bX]=JSON.parse(JSON.stringify(R[bX-1]));
for(var en in L){var fK=L[en];if(fK[0]==0)ao[en]=fK;else if(fK[0]==1){fK[1][4]=ao[en][1][4];ao[en]=fK}else if(fK[0]==2)delete ao[en]}}var bO=R.pop(),b9=[];
for(var en in bO)b9.push(bO[en][1]);b9.sort(function(bK,f0){return bK[0]-f0[0]});return b9}function w(z,R,t,a){while(c<W.length){var J=r(),D=null;
if(J==0){if(a){var F=r();if(F!=2){var h=y()}if(F==0)c+=4;a=!1;continue}else{break}}var m=y();if(d)console.log("  ".repeat(R),J,J&127,m,z._type);
if(J>127)D=Y(J,R,t);else D=e(J,R,t);if(d)console.log("  ".repeat(R),D);z[m]=D}}function Y(z,R,t){var a=[];
z=z&127;if(z==43)c+=4;var J=Z();if(z==50){var F=y(),h=x();if(h!=1)throw"e";for(var S=0;S<J;S++){var m={_status:"NotShared",_type:F};
a.push(m);var D=r();if(D!=1)throw D;w(m,R+1,t)}}else if(z==41){if(J>8)throw J;for(var S=0;S<J;S++)a.push((W[c]>>>S&1)==1);
c++}else for(var S=0;S<J;S++){a.push(e(z,R,t,S!=0));if(z==42)z=2}return a}function e(z,R,t,a){var J=null;
if(z==49){J={};var F=r();if(F!=0){var h=Z();if(t==null){J._id=h;J._status=["Shared","Link"][F-1]}if(t&&F==2)J=t[h];
if(F==1){if(t)t[h]=J;var m=r(),D=!1;if(m>1)throw m;J._type=y();if(d)console.log("  ".repeat(R),"new",J._type,m,c);
if(m==0){while(!0){var _=x();if(_!=0&&_!=1&&_!=2&&_!=3&&_!=4)throw _;if(W[c]!=0){D=!0;break}var n=x();
if(n==512)break;var j=y();if(n==256)break}}w(J,R+1,t,D)}}}else if(z==50){J={_status:"NotShared"};if(r()==1){J._type=y();
c+=2;w(J,R+1,t)}}else if(z==1)J={type:"byte",value:r()};else if(z==2)J={type:"uint16",value:x()};else if(z==3)J={type:"uint32",value:Z()};
else if(z==4)J={type:"uint64",value:k()};else if(z==7)J={type:"int32",value:i()};else if(z==8)J={type:"int64",value:k()};
else if(z==9)J={type:"float32",value:H()};else if(z==10)J={type:"float64",value:V()};else if(z==21)J={type:"Vec2i",value:[Z(),Z()]};
else if(z==23)J={type:"Vec4i",value:[Z(),Z(),Z(),Z()]};else if(z==33)J={type:"Vec4f",value:[H(),H(),H(),H()]};
else if(z==36)J={type:"Vec2",value:[V(),V()]};else if(z==38)J={type:"Vec4",value:[V(),V(),V(),V()]};
else if(z==40)J={type:"Vec6",value:[V(),V(),V(),V(),V(),V()]};else if(z==41)J={type:"bool",value:r()!=0};
else if(z==42)J={type:"Enum",value:Z()};else if(z==43)J={type:"string",value:N()};else if(z==44){if(a!=!0)U=x();
J={type:"curv16",value:[V(),U==12?[r(),r(),r(),r()]:[Z(),Z()]]}}else if(z==45){var T=Z();J={type:"buff",value:W.slice(c,c+T)};
c+=T}else if(z==47){J={type:"uint32",value:Z()}}else if(z==48){var L=[],p=x();if(p!=1)throw p;while(!0){if(W[c]==135){var E=Y(r(),R+1,t),G=Y(r(),R+1,t),A=Y(r(),R+1,t);
L.push([E,G,A])}else{var u=1;if(W[c]==3){r();u=Z()}for(var S=0;S<u;S++){if(r()!=41)throw"e";var h=r();
if(h!=0&&h!=1)throw h;if(r()!=172)throw"e";var q=Z(),o=x(),M=[];L.push(M);if(o!=18)throw o;if(q>4e3)throw q;
for(var $=0;$<q;$++)M.push([V(),V(),r(),r()])}}if(W[c]==0){c++;break}}J={type:"curve",value:L}}else if(z==51){J={type:"EmbeddedData"};
J[y()]=N()}else if(z==52)J={type:"uint32",value:Z()};else if(z==56)J={type:"Color32",value:[r(),r(),r(),r()]};
else if(z==60)J={type:"ColorGRAY",value:[H(),H()]};else if(z==68)J={type:"ColorRGBA",value:[H(),H(),H(),H()]};
else if(z==72)J={type:"ColorCMYK",value:[H(),H(),H(),H(),H()]};else{throw z}return z==49||z==50||z==51?J:J.value}function O(z){var R=0,t=z.length;
for(var S=0;S<t;S++)z[S]=R=R+z[S]&255}function I(z){W=z;c=4;var R=Z(),t=B();if(t!="nsrP")throw t;var t=B();
if(t!="#Inf")throw t;var a=k();l=k();var J=k(),F=k(),h=k(),m=Z(),D=Z(),t=B();if(t!="Prot")throw t;var m=Z(),_=C(a),n={},j=Date.now();
for(var T=0;T<_.length;T++){var L=_[T],p=L[3],q=null;c=L[0];var t=B();if(t!="#Fil")throw t;var E=p>>>5&1,G=p&3,A=p&192;
switch(A){case 64:A=1;E=0;break;case 128:A=2;break;case 192:A=3;break;default:A=0;E=0}var u=new Uint8Array(W.buffer,c,L[2]);
if(G==0)q=u;else if(G==1)q=pako.inflate(u);else if(G==2)q=fd.MQ.mA(u,L[1]);else throw G;if(E==0){if(A==1)O(q);
if(A==2)throw"e"}else if(E==1){if(A==2)O(q);else throw A}else throw E;n[L[4]]=q}return n}function s(z){var R=I(new Uint8Array(z));
W=R["doc.dat"];c=16;var t={};w(t,0,[]);return[R,t,l]}return{ae6:s}}();function hk(){}hk.Nr=function(){function d(N,C){var w=Date.now(),Y=iN.ae6(N),U=Y[0],e=Y[1],O=Y[2],l=e.DocR,I=l.DfSz,s=l.Chld;
if(s.length!=1)console.log(s);var z=s[0],R=z.SprB;s=z.Chld;C.m=~~R[2];C.i=~~R[3];C.buffer=v.R(C.m*C.i*4);
var t=[0,{}];for(var S=0;S<s.length;S++)B(s[S],C,U,new dT,t,0);C.AF(t[0]);console.log(Date.now()-w,"Document created");
w=Date.now()}function W(N){return new dT(N[0],N[3],N[1],N[4],N[2],N[5])}function c(N,C){var w=C.Xfrm;
w=w?W(w):new dT;w.concat(N);return w}function y(N){var C={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[N];
return C?C:"norm"}function B(N,C,w,Y,U,e){var O=N._type,l=N.Chld,I=C.jb();I.AP(N.Desc==null||N.Desc==""?O=="Grup"?"Folder":"Layer":N.Desc);
I.vI(N.Visi);I.opacity=Math.round(255*N.Opac);if(N.FOpc!=1)I.add.iOpa=Math.round(255*N.FOpc);var s=N.Blnd;
if(s!=null)I.E9=y(s);var z=c(Y,N),R=O=="ShpN"||O=="PCrv";if(l){C.B.push(C.b7());I.add.lsct=aG.ED;I.E9="pass";
I.xy=24;if(O=="ShpN"){var t=N.ShpB;I.Nn(new a8(t[0]+z.IS,t[1]+z.rk,t[2]-t[0],t[3]-t[1]));U[0]++;I.add.artb.Clr={t:"Objc",v:v.L.FV({Z:255,G:255,J:255})}}for(var S=0;
S<l.length;S++)B(l[S],C,w,z,U,e+1)}else if(O=="Rstr"||O=="ImgN"||O=="MRst"){var a=N.Bitm,J=a.Bckg,F=Date.now(),h;
if(J==null){h=k(a,w,U[1]);I.rect=h[2].clone();I.buffer=h[1].slice(0);I.rect.x+=z.IS;I.rect.y+=z.rk}if(J||z.dV()!=1){var m,D=0,_=0;
if(J){var n=w[J.Data],j=K.J7(n,"ataD")+4,T=K.kK(n,j);j+=4;m=n.slice(j,j+T)}else{D=I.rect.x-z.IS;_=I.rect.y-z.rk;
if(h[3]==null)h[3]=new Uint8Array(fd.Ay("PNG").Cy([[I.buffer.buffer]],I.rect.m,I.rect.i));m=h[3].slice(0)}var L=C.GC(m,I.getName(),0,0);
L.xy=I.xy;L.opacity=I.opacity;I=L;var p=new dT;p.translate(D,_);p.concat(z);var E=I.rect.clone();E.x=E.y=0;
var G=v.A.z$(E).j;v.A.e(G,p,G);I.add.SoLd.Trnf=X.X.oY(G);I.add.SoLd.nonAffineTransform=X.X.oY(G);I.Hg(C,!1)}}else if(O=="TxtA"||O=="TxtF"){I.add.lnsr="rend";
I.add.TySh=it.De(0,0);I.add.TySh.Nz=new a8(0,0,100,100);var A=N.TxtH.FrmB,u=1,q=1,o=I.add.TySh.e=new dT,P=0;
o.translate(A[0],A[1]);o.concat(z);if(O=="TxtF"){var M=Math.atan2(-o.J,o.U);o.rotate(-M);u=o.U;q=o.x7;
o.x7=o.U=1;o.rotate(M)}var $=I.add.TySh.p$,Q=N.StSt,kF=Q.Blok;if(kF.length!=1)throw"e";for(var bM=0;
bM<kF.length;bM++){var jW=kF[bM],fX=P,bX=0,ao=jW.Glyp.Utf8;if(ao==null)continue;ao=ao.replace(/\u2028/g,"\n");
ao=ao.replace(/\u2029/g,"\n");ao=ao.slice(0,ao.length-1);if(ao=="")continue;I.AP(ao.slice(0,255));it.kL($,P,ao);
P+=ao.length;var en=jW.GAtt.Runs,fK=jW.PAtt.Runs[0],bO=fK.Item.Ints[0];for(var b9=0;b9<en.length;b9++){var bK=en[b9],f0=bK.Indx,hn=bK.Item,hX=hn.Objs,gR=it.tO($,fX,1);
gR.a0.Justification=bO==0?0:bO==1?2:1;it.nn(gR,hn.DFnt.Post);gR.Cr.FontSize=hn.Doub[0];for(var S=0;S<hX.length;
S++){var ib=hX[S];if(ib._type=="FDsc"){var gU=ib.FDeF;if(gU._type=="FilS"){var hq=i(gU.Colr);gR.Cr.FillColor={Type:1,Values:[1,hq[0],hq[1],hq[2]]}}}}it.ml($,fX+bX,fX+Math.min(f0,ao.length),gR);
bX=f0}}it.gF($,1);it.r_($,[0,0,Math.round((A[2]-A[0])*u*1.02),Math.round((A[3]-A[1])*q*1.2)]);C.O5=!0}else if(R){I.xy|=16;
var ip=I.add.vstk=bV._M.qw(!0),aW=I.add.vmsk=r(N);v.o.hn(aW.Y,z);if(N.BFFl){var kN=N.BFFl[0].FDeF,hW=kN._type;
if(hW=="FilS")I.add.SoCo={classID:"null",Clr:Z(kN.Colr)};else if(hW=="FilG"){var jH=I.add.GdFl=JSON.parse(bV._R[bV.order.indexOf("GrFl")]);
x(N.BFFl[0],jH)}else if(hW=="FilN"){I.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:0,G:0,J:0})}};
ip.fillEnabled.v=!1}else console.log(hW)}if(N.LILn){var gC=N.LILn[0].LDeL,jL=gC.Wght;if(jL!=0){ip.strokeEnabled.v=!0;
ip.strokeStyleLineWidth.v.val=jL;var kN=N.LIFl[0].FDeF,hW=kN._type;if(hW=="FilS")ip.strokeStyleContent.v.Clr=Z(kN.Colr);
else if(hW=="FilN")ip.strokeEnabled.v=!1}}I.h0();I.Ys(C)}else console.log(O);var jf=N.AdCh,cm=[];if(jf)for(var S=0;
S<jf.length;S++){var eh=jf[S],bu=eh._type;if(bu=="ShpN"||bu=="PCrv"){var aW=I.add.vmsk=r(eh),eJ=c(z,eh);
v.o.hn(aW.Y,eJ);I.h0();I.Ys(C)}else if(eh.AdjP){var eZ=eh.AdjP,a0=eZ._type,gZ={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[a0];
if(gZ==null){console.log(eZ);continue}var bt=eR.X6(gZ,{});cm.push(bt);var dp=bt.v.Fltr.v;if(a0=="LevP"){var gb=fr.ar(dp,0);
gb[0]=eZ.OutB*255;gb[1]=eZ.OutW*255;fr.wz(dp,0,gb)}else if(a0=="WhBP"){var gb=fr.ar(dp,2);gb[4]=100+eZ.WBTi*20;
fr.wz(dp,2,gb);var gb=fr.ar(dp,3);gb[4]=100+eZ.WBTi*200;fr.wz(dp,3,gb)}else if(a0=="HSSP"){var gb=fA.ar(dp,0);
gb[0]=Math.round(eZ.HueA*256);gb[1]=Math.round(eZ.SatA*256);gb[2]=Math.round(eZ.LumA*256);fA.wz(dp,0,gb)}else if(a0=="RecP"){dp.Clrz.v=!0;
var gb=fA.ar(dp,0);gb[0]=Math.round(eZ.RecH*100);gb[1]=Math.round(eZ.RecS*100);gb[2]=Math.round(eZ.RecL*100);
fA.wz(dp,0,gb)}else if(a0=="B&CP"){dp.Brgh.v=Math.round(eZ.Brig*100);dp.Cntr.v=Math.round(eZ.Ctrs*100-100)}else if(a0=="PosP"){dp.Lvls.v=eZ.Post}else if(a0=="VibP"){dp.vibrance.v=eZ.Vibr-100;
dp.Strt.v=Math.round(eZ.Satu*100)}else if(a0=="ExpP"){dp.Exps.v=eZ.Expo;dp.gammaCorrection.v=eZ.Gamm/2.2}else if(a0=="ThrP"){dp.Lvl.v=Math.round(eZ.Thre*255)}else if(a0=="CrvP"){var e_=eZ.Mast["Cnt "],dO=eZ.Mast.Vals,gb=d8.ar(dp,0),dC=gb[0];
for(var kc=0;kc<e_;kc++){var ia=gb[kc]=JSON.parse(JSON.stringify(dC));ia.v.Hrzn.v=Math.round(dO[kc]*255);
ia.v.Vrtc.v=Math.round(dO[4+kc]*255)}d8.wz(dp,0,gb)}}else console.log(eh)}if(cm.length!=0&&I.add.SoLd){I.add.SoLd.filterFX=eR.sg();
C.k8({id:I.add.SoLd.placed.v,rect:new a8,buffer:v.R(1),t:new e8.JO});I.add.SoLd.filterFX.v.filterFXList.v=cm;
I.Hg(C,!1)}var hO=N.FiEf;if(hO&&hO.length!=0){var cj=I.add.lmfx=JSON.parse(bV.default);for(var S=0;S<bV.order.length;
S++)cj[bV.Fb[S]]={t:"VlLs",v:[]};for(var bA=0;bA<hO.length;bA++){var bg=hO[bA],cX=bg._type,i4={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[cX],jH=i4?JSON.parse(bV._R[bV.order.indexOf(i4)]):null,fJ=1;
if(cX=="ColO"){jH.Clr=Z(bg.Colr)}else if(cX=="GrdO"){x(bg.GrFl,jH)}else if(cX=="Shad"||cX=="InnS"||cX=="OutG"||cX=="InnG"){jH.Clr=Z(bg.Colr);
jH.blur.v.val=Math.round(bg.Radi);var iu=bg.Comp;if(iu!=null){if(iu>.5)fJ=1-.5*(iu-.5);else jH.Ckmt.v.val=Math.round(100*(.5-iu))}if(bg.Offs!=null){jH.Dstn.v.val=bg.Offs;
jH.lagl.v.val=Math.round(180-bg.Angl*180/Math.PI);jH.uglg.v=!1}}else if(cX=="Strk"){if(bg.Ftyp==0)jH.Clr=Z(bg.Colr);
else{x(bg.GrFl,jH);jH.PntT.v.FrFl="GrFl"}jH.Sz.v.val=Math.round(bg.Radi)}else if(cX=="PhgB"||cX=="BevE"){jH.blur.v.val=Math.round(bg.Radi);
if(cX=="BevE")jH.bvlS.v.BESl="PlEb"}else if(cX=="Gaus"){if(R&&bg.Enab){I.add.vmsk.ej=bg.Radi/2.4;I.add.vmsk.Zv=!0;
I.h0();I.Ys(C)}}if(i4){jH.enab.v=bg.Enab;if(jH.Md&&bg.BlnM!=null)jH.Md.v.BlnM=dB.XT(y(bg.BlnM));if(jH.Opct&&bg.Opac!=null)jH.Opct.v.val=Math.round(fJ*bg.Opac*100);
var hV=bV.Fb[bV.order.indexOf(i4)];cj[hV].v.unshift({t:"Objc",v:jH})}}}C.B.push(I)}function r(N){var C=new e8.vw,w=N._type;
if(w=="PCrv"){var Y=N.Crvs.Data,U=[],e=[];for(var S=0;S<Y.length;S++){var O=Y[S],l=O.length%3;if(l!=1){O=l==2?O[0][2]!=0?O.slice(0,O.length-1):O.slice(1):O.slice(1,O.length-1)}for(var I=0;
I<O.length;I++){var s=O[I],z=s[2];if(z!=0)U.push(I==0?"M":"C");e.push(s[0],s[1])}}C.Y=v.A.fI({j:e,r:U},!0)}else{var R=N.ShpB,t=N.Shpe,a=t._type,J=R[2]-R[0];
if(a=="ShpE"){C.Y=v.o.GP.a8(R[0],R[1],R[2]-R[0],R[3]-R[1])}else if(a=="ShNR"){var F=[0,0,0,0];if(t.CTyp){F=t.ShCR.slice(0);
for(var S=0;S<4;S++)F[S]*=R[2]-R[0]}C.Y=v.o.GP.Rect(R[0],R[1],R[2]-R[0],R[3]-R[1],F)}else if(a=="ShpT"){C.Y=v.A.fI({r:["M","L","L","Z"],j:[R[0],R[3],R[2],R[3],R[0]+J*.5,R[1]]},!0)}else if(a=="ShTz"){C.Y=v.A.fI({r:["M","L","L","L","Z"],j:[R[0]+J*t.PosL,R[1],R[0]+J*t.PosR,R[1],R[2],R[3],R[0],R[3]]},!0)}else{console.log("--",a);
C.Y=v.o.GP.Rect(R[0],R[1],R[2]-R[0],R[3]-R[1],[0,0,0,0])}}return C}function x(N,C){var w=N.FDeF,Y=N.FDeX;
if(Y)Y=W(Y);var U=w.Grad,e=U.Cols;C.Type.v.GrdT=w.Type==0?"Lnr":"Rdl";var O=[];for(var S=0;S<e.length;
S++){var l=i(e[S]);O.push([U.Posn[S][0],l])}C.Grad.v.Intr.v=0;v.L.GW(O,C.Grad.v);var I=U.Posn,s=new aL(I[0][0],I[0][1]),z=new aL(I[1][0],I[1][1]);
if(Y){var R=new dT;R.translate(-.5,-.5);R.concat(Y);R.translate(.5,.5);s=R.iC(s);z=R.iC(z)}if(w.Type==0)s=new aL((s.x+z.x)/2,(s.y+z.y)/2);
v.L.qb(s,z,new a8(0,0,1,1),C)}function Z(N){var C=i(N);return{t:"Objc",v:v.L.FV({Z:C[0]*255,G:C[1]*255,J:C[2]*255})}}function i(N){var C=N._col,w=N._type;
if(w=="HSLA"){var Y=v.Ml(C[0],C[1],C[2]);return[Y.Z,Y.G,Y.J,C[3]]}else if(w=="RGBA")return C;else if(w=="CMYK")return v.$J(C);
else if(w=="GRAY")return[C[0],C[1],C[2]];else{console.log(C);throw w}}function k(N,C,w){var Y=N.Frmt,F="";
if(Y!=0&&Y!=1&&Y!=4&&Y!=6)throw Y;var U=N.BmpW,e=N.BmpH,O=Y==1?128:256,l=Y==4?5:Y==0||Y==1?4:1,I=Math.ceil(U/O),s=Math.ceil(e/256),z=new a8(0,0,I,s),R=new a8;
for(var S=0;S<l;S++){var t=new Uint8Array(N["Sta"+(S+1)]),a=v.wf(t,z);R=R.hB(a)}var J=[];for(var S=0;
S<l;S++){var t=new Uint8Array(N["Sta"+(S+1)]),h=v.R(R.P());v.ZW(t,z,h,R);J[S]=[];for(var m=0;m<h.length;
m++)J[S][m]=h[m];F+=JSON.stringify(J[S])+","+JSON.stringify(N["Idx"+(S+1)])+","}if(w[F]==null){var D=R.m*O,_=R.i*256,n=new Array(l);
for(var S=0;S<l;S++){var t=n[S]=new Uint8Array(D*_);H(t,N["Idx"+(S+1)],J[S],C,D,_,O)}var j=v.R(D*_*4);
if(Y==0||Y==1)v.KU({Z:n[0],G:n[1],J:n[2],U:n[3]},j);else if(Y==4){for(var S=0;S<n[0].length;S++){var T=S*4,L=n[0][S]*(1/255),p=n[1][S]*(1/255),E=n[2][S]*(1/255),G=n[3][S]*(1/255),A=UDOC.C.cmykToRgb([L,p,E,G]);
j[T]=A[0]*255;j[T+1]=A[1]*255;j[T+2]=A[2]*255;j[T+3]=n[4][S]}}else{j.fill(255);v.ta(n[0],j)}var u=new a8(0,0,D,_),q={buffer:j,rect:u};
v.eW(q);w[F]=[q.rect,q.buffer]}var a=w[F][2]=w[F][0].clone();a.x+=R.x*O;a.y+=R.y*256;return w[F]}function H(N,C,w,Y,U,e,O){var l=0,I=U>>>(O==256?8:7),s=e>>>8;
for(var z=0;z<s;z++)for(var R=0;R<I;R++){var t=R*O,a=z*256,J=z*I+R,F=a*U+t,h=w[J];if(h<=1)V(N,F,0,U,O,256);
else if(h==2)V(N,F,4294967295,U,O,256);else if(h==4){var m=C[l];l++;var D=Y[m.Data.DatI],_=m.Rect;if(_==null)_=[0,0,O,256];
V(N,F,0,U,O,256);g(N,(a+_[1])*U+t+_[0],D,_[1]*O+_[0],U,O,_[2]-_[0],_[3]-_[1])}else console.log(h)}}function V(N,C,w,Y,U,e){var O=C+Y*e;
for(;C<O;C+=Y){var l=C+U;for(var I=C;I<l;I++){N[I]=w}}}function g(N,C,w,Y,U,e,O,l){var I=C+U*l,s=Y+e*l;
for(;C<I&&Y<s;C+=U,Y+=e){for(var S=0;S<O;S++)N[C+S]=w[Y+S]}}return d}();function e$(){}e$.Nr=function(d,W){var c=e$,y=fp.parse(d),r=0;
if(y.pages.length>1)console.log(y.pages.length,"pages");var B=[],x=new a8;for(var Z=0;Z<y.pages.length;
Z++){var i=y.pages[Z],k=i.layers,H=c.c7(k,Z),g=!1;if(H.P()>8e3*8e3||H.m>3e4||H.i>3e4){c.apC(k,!0);var V=c.c7(k,Z);
if(V.P()>=H.P())c.apC(k,!1)}H=c.c7(k,Z);for(var N=0;N<k.length;N++){var C=k[N];if(c.dx(C)=="artboard")g=!0}if(!g){console.log("no artboard");
var w={};for(var Y in i)w[Y]=i[Y];w._class="group";i.layers=[w]}B.push(H.clone());if(H.Bb())continue;
H.x=0;H.y=r;r+=H.i+200;x=x.hB(H)}var U={};if(y.foreignSymbols)for(var S=0;S<y.foreignSymbols.length;
S++){var e=y.foreignSymbols[S].symbolMaster;U[e.symbolID]={Tm:e}}c.a9l(y.pages,U,W);for(var O in U){var C=U[O].Tm,l=c.a5K(C.layers)}var I=e$.Ze(x,8192*8192);
W.O5=!0;W.m=Math.round(x.m/I);W.i=Math.round(x.i/I);W.buffer=v.R(W.m*W.i*4);W.AF(y.pages[0].layers.length);
W.Ny={};W.Hp=[];r=0;for(var Z=0;Z<y.pages.length;Z++){var s=y.pages[Z],H=B[Z],z=new dT(I,0,0,I,H.x,H.y-r);
c.l1(s.layers,W,z,y,U,{},[]);r+=H.i+200}delete W.Ny;delete W.Hp;if(I!=1)alert("File scaled down "+I+"x");
W.auZ()};e$.apu=0;e$.dx=function(d){return d._class?d._class:d.$class};e$.Ze=function(d,W){var c=1;while(Math.round(d.m/c)*Math.round(d.i/c)>W||Math.max(Math.round(d.m/c),Math.round(d.i/c))>3e4)c++;
if(c!=1&&!window.confirm("Your image is quite large ("+d.m+" x "+d.i+" px).\n"+"Press OK to scale it down "+c+"x, or Cancel to keep the size."))c=1;
return c};e$.c7=function(d,W){var c=[],y=e$;for(var B=0;B<d.length;B++){var r=d[B],x=y.lX(r.frame);if(W==0||y.dx(r)=="artboard")c.push(x)}return v.rect.HU(c)};
e$.apC=function(d,W){var c=[],y=e$;for(var B=0;B<d.length;B++){var r=d[B],x=y.lX(r.frame);x.m+=150;x.i+=150;
c.push(x)}var Z=v.rect.HU(c);v.rect.aCu(c,W);var i=v.rect.HU(c);if(i.P()*1.5<Z.P()||Z.m>3e4&&i.m<=3e4||Z.i>3e4&&i.i<=3e4){alert("Re-arranging artboards");
for(var B=0;B<d.length;B++){var k=c[B],r=d[B],H=r.frame;H.x=k.x;H.y=k.y}}};e$.a9l=function(d,W,c){if(d==null)return;
var y=e$;for(var B=0;B<d.length;B++){var r=d[B],x=y.dx(r);if(["page","artboard","group"].indexOf(x)!=-1)y.a9l(r.layers,W,c);
else if(x=="symbolMaster")W[r.symbolID]={Tm:r}}};e$.a5K=function(d){var W=e$;for(var c=0;c<d.length;
c++){var y=d[c],B=W.dx(y),r=null;if(["page","artboard","group"].indexOf(B)!=-1)r=W.a5K(y.layers);if(B=="symbolMaster"||B=="symbolInstance")r=y;
if(r!=null)return r}return null};e$.l1=function(d,W,c,y,B,r,x){if(d==null)return;var Z=e$,i=[];for(var k=0;
k<d.length;k++){var H=d[k],V=H.frame?Z.lX(H.frame):null,g=H.style,U="",z=null,R=!1;if(g==null){console.log("no styles")}var N=Z.as6(H,c),C=Z.dx(H),w=C=="shapeGroup"||C=="shapePath"||C=="rectangle"||C=="oval"||C=="triangle"||C=="polygon",Y=["page","artboard","group"].indexOf(C)!=-1;
if(C=="shapeGroup"){for(var S=0;S<H.layers.length;S++)if(Z.dx(H.layers[S])=="shapeGroup")Y=!0}var e=H.exportOptions;
if(e){var O=e.exportFormats;if(O==null)O=e.sizes;if(C!="artboard"&&(O&&O.length!=0)){var l=O[0].scale}}var I=W.jb();
I.vI(H.isVisible);var s=H.name;if(!(typeof s=="string"))s=C;I.AP(U+s.slice(0,250));if(g!=null)z=Z.aqt(y,W,g,V,N,I.getName(),w||C=="artboard"||Y);
if(C=="rectangle"&&g&&g.fills&&g.fills[0]){var t=g.fills[0];if(t.fillType==4&&t.patternFillType>1&&t.image!=null)R=!0}if(H.shouldBreakMaskChain){while(i.length!=0)Z.a69(i.pop(),W)}if(Y){I.add.lsct=H.layerListExpandedType==2?aG.ED:aG.tV;
I.E9="pass";I.xy=24;I.vI(H.isVisible);W.B.push(W.b7());if(C=="artboard"){var a=V.clone(),J=N.dV();a.x=-Math.floor(N.IS/J);
a.y=-Math.floor(N.rk/J);a.m=Math.floor(a.m/J);a.i=Math.floor(a.i/J);I.Nn(a);var F=H.backgroundColor,h=F?{Z:255*F.red,G:255*F.green,J:255*F.blue}:{Z:255,G:255,J:255};
I.add.artb.Clr={t:"Objc",v:v.L.FV(h)};I.add.artb.artboardBackgroundType={t:"long",v:4}}Z.l1(H.layers,W,N,y,B,r,x)}else if(w&&!R){var m=z!=null&&z.frameFXMulti.v.length==1;
I.add.vmsk=new e8.vw;I.add.vstk=bV._M.qw(!0,m);var D=g?g.fills:null,_=g?Z.aE7(y,D,V,N,I.getName(),W,Z.aQ(x,H.do_objectID+"_image")):[];
if(_.length==0){if(m)I.add.vstk.fillEnabled.v=!1;else I.add.iOpa=0;I.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:0,G:0,J:0})}}}else{var n=_[0],j=null,T=null;
if(n.type=="SoFi"){j="SoCo";T=bV.Ak}if(n.type=="GrFl"){j="GdFl";T=bV.n1}if(n.type=="patternFill"){j="PtFl";
T=bV.DX}if(j!=null){I.add[j]={classID:"null"};for(var S=0;S<T.length;S++){var L=T[S];I.add[j][L]=n.b.v[L]}var p=n.b.v.Opct.v.val;
if(m&&p==0)I.add.vstk.fillEnabled.v=!1;else I.add.iOpa=Math.round(255*p/100)}}I.xy|=16;I.add.vmsk.Y=Z.$b(H.layers?H.layers:[H],H.layers?N:c);
var E=g?g.blur:null;if(E&&E.isEnabled&&E.type<=1)I.add.vmsk.ej=E.radius;if(I.add.vmsk.Y.length==2){console.log("shape with no content:",I.getName())}if(m){var G=z.frameFXMulti.v[0].v,A=I.add.vstk,u=g.borders[0];
z.frameFXMulti.v=[];eV.a6R(G,A);var q=g.borderOptions,o=g.miterLimit;if(q)bV._M.write(A,{jf:q.lineCapStyle,T1:q.lineJoinStyle,Pn:q.dashPattern,dL:o})}I.h0();
I.Ys(W)}else if(C=="bitmap"||R){if(!R&&H.image==null)continue;var M=R?g.fills[0]:null,$=R?M.image.bdata:H.image.bdata,Q=W.GC($,I.getName(),0,0);
Q.xy=I.xy;I=Q;var E=g?g.blur:null,kF=g?g.colorControls:null;if(E||kF){I.add.SoLd.filterFX=eR.sg();W.k8({id:I.add.SoLd.placed.v,rect:new a8,buffer:v.R(1),t:new e8.JO});
var D=I.add.SoLd.filterFX.v.filterFXList.v;if(E){var P=eR.X6("GsnB",{});P.v.enab.v=E.isEnabled;P.v.Fltr.v.Rds.v.val=E.radius;
D.push(P)}if(kF){var bM=kF.brightness,jW=kF.contrast,fX=kF.hue,bX=kF.saturation;if(fX!=0||bX!=1){var P=eR.X6("hue2",{});
P.v.enab.v=kF.isEnabled;fA.wz(P.v.Fltr.v,0,[Math.round(fX*180/Math.PI),Math.round((bX-1)*100),0]);D.push(P)}if(bM!=0||jW!=1){var P=eR.X6("brit",{});
P.v.enab.v=kF.isEnabled;jW=jW-1;if(jW>0)jW/=2;var ao=P.v.Fltr.v;ao.Brgh.v=Math.round(bM*255);ao.Cntr.v=Math.round(jW*255);
ao.useLegacy.v=!0;D.push(P)}}}if(R){var en=M.patternFillType;if(en==3){var fK=I.rect.m/I.rect.i,bO=V.m/V.i;
if(fK<bO){N.translate(-(V.m*(1-fK/bO))/2,0);N.scale(bO/fK,1)}else{N.translate(0,-(V.i*(1-bO/fK))/2);
N.scale(1,fK/bO)}}}V.x=V.y=0;var b9=v.A.z$(V).j;N.QE();v.A.e(b9,N,b9);I.add.SoLd.Trnf=X.X.oY(b9);I.add.SoLd.nonAffineTransform=X.X.oY(b9);
I.Hg(W,!1)}else if(C=="text"){if(H.attributedString==null)continue;var bK=N.clone(),f0,hn,hq=0;bK.QE();
bK.U=bK.x7=Math.min(bK.U,bK.x7);I.add.lnsr="rend";I.add.TySh=it.De(0,0);I.add.TySh.Nz=new a8(0,0,V.m,V.i);
I.add.TySh.e=bK;var hX=H.attributedString;if(hX.archivedAttributedString)hX=hX.archivedAttributedString;
var gR=hX.NSString;if(gR==null)gR=hX.string;if(gR==null)gR="";if(gR["NS.string"])gR=gR["NS.string"];
if(r[H.do_objectID]!=null)gR=r[H.do_objectID];var ib=Z.aQ(x,H.do_objectID+"_stringValue");if(ib)gR=ib.value;
if(hX.attributes!=null){f0=[];hn=[];var gU=hX.attributes;for(var S=0;S<gU.length;S++){f0.push(gU[S].length,S);
hn.push(gU[S].attributes)}}else if(hX.NSAttributeInfo==null){f0=[gR.length,0];hn=[hX.NSAttributes]}else{f0=hX.NSAttributeInfo["NS.data"];
hn=hX.NSAttributes;f0=e$.av5(f0,hn)}for(var S=0;S<f0.length;S+=2)hq+=f0[S];if(hq!=gR.length){while(hq>gR.length){f0[f0.length-2]--;
hq--;if(f0[f0.length-2]==0){f0.pop();f0.pop()}}f0[f0.length-2]+=gR.length-hq}gR=gR.replace(/\u2028/g,"\n");
gR=gR.replace(/\u2029/g,"\n");gR=gR.replace(/\r/g,"\n");var ip=I.add.TySh.p$;it.kL(ip,0,gR);if(gR!=""){var aW=H.textBehaviour,kN=g.textStyle,jH=kN?kN.verticalAlignment:0,g0=Z.amD(ip,f0,hn,gR),J=bK.dV(),gC=it.tO(ip,0,1),bu=0;
if(gC.Cr.Font){var jf=gC.Xt[gC.Cr.Font].Name;if(jf=="FontAwesome"||jf=="Ionicons")g0*=.87}var eh=gC.Cr.AutoLeading?0:gC.Cr.Leading*.6,eJ=Math.max(g0,eh)*J,eZ=V.m,a0=V.i;
if(aW==0){it.gF(ip,0);var gZ=it.UN(gC.a0);if(gZ==1)bu=eZ*J;if(gZ==2)bu=eZ*J*.5;if(jH==0)eJ*=1;else eJ*=.9}else{it.gF(ip,1);
it.r_(ip,[0,0,Math.round(eZ),Math.round(a0)]);if(aW==2&&jH==0)eJ=eJ*.2;else if(aW==2&&jH==1){eJ=J*.5*(a0-gC.Cr.FontSize)}else if(aW==1&&jH==0)eJ=eJ*.2;
else eJ=eJ*.35}I.add.TySh.e.translate(bu,eJ)}}else if(C=="symbolInstance"||C=="symbolMaster"){var bt=H.symbolID;
if(r[H.do_objectID])bt=r[H.do_objectID].symbolID;var dp=Z.aQ(x,H.do_objectID+"_symbolID");if(dp)bt=dp.value;
if(bt=="")continue;var gb={};for(var L in r)gb[L]=r[L];if(H.overrides)for(var L in H.overrides)gb[L]=H.overrides[L];
var e_=x.slice(0);if(H.overrideValues)e_=e_.concat(H.overrideValues);var dO=B[bt];if(dO==null){console.log("Unknown master master",H.symbolID);
continue}var dC=e$.lX(dO.Tm.frame),kc=dC.m/V.m,ia=dC.i/V.i,hO=N.clone();hO.scale(kc,ia);I.add.lsct=aG.tV;
I.E9="pass";I.xy=24;I.vI(H.isVisible);W.B.push(W.b7());var cj=dO.Tm;if(W.Hp.indexOf(cj)==-1){W.Hp.push(cj);
Z.l1(cj.layers,W,hO,y,B,gb,e_);W.Hp.pop()}}else if(C=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+C,H);continue}if(g&&g.contextSettings){var bA=g.contextSettings,bg=bA.blendMode;
if(bg<Z.Ih.length){I.E9=dB.s0[dB.CL.indexOf(Z.Ih[bg])];if(Y&&I.E9=="norm")I.E9="pass"}I.opacity=Math.round(I.opacity*bA.opacity)}if(z!=null){I.add.lmfx=z}W.B.push(I);
if(H.hasClippingMask&&d.length>1){i.push(I);W.B.push(W.b7())}}while(i.length!=0)Z.a69(i.pop(),W)};e$.aQ=function(d,W){for(var S=0;
S<d.length;S++)if(d[S].overrideName.startsWith(W))return d[S]};e$.av5=function(d,W){var c=0,y=[];while(c+1<d.length){var B=d[c];
c++;if(B>127){B+=128*(d[c]-1);c++;if(d[c-1]>127){B+=128*(d[c]-1);c++}}var r=d[c];c++;y.push(B,r)}return y};
e$.amD=function(d,W,c,y){var B=e$,r=0,H=0,V=0;for(var S=0;S<y.length;S++){var x=y.charCodeAt(S),Z=1473<=x&&x<=1479||1488<=x&&x<=1514||1520<=x&&x<=1524,i=1569<=x&&x<=1594||1600<=x&&x<=1749;
if(Z||i)r++}var k=r>y.length/2;for(var S=0;S<W.length;S+=2){var g=W[S],I=14,s="DejaVuSans";if(g==0)continue;
var N=W[S+1],C=c[N],w=it.tO(d,H,H+g-1),Y=C.NSColor;if(Y==null){var Y=C.MSAttributedStringColorDictionaryAttribute;
if(Y==null)Y=C.MSAttributedStringColorAttribute;if(Y==null)Y="0 0 0";else Y=[Y.red,Y.green,Y.blue].join(" ")}else if(B.dx(Y)=="MSArchivedColor")Y=Y.dr+" "+Y.dg+" "+Y.db;
else if(Y.NSRGB){Y=Y.NSRGB;Y=K.xA(Y,0,Y.length-1)}else if(Y.NSCMYK){Y=Y.NSCMYK;Y=K.xA(Y,0,Y.length-1);
Y=Y.split(" ").map(parseFloat);var U=1-Y[0],e=1-Y[1],O=1-Y[2],l=1-Y[3];Y=U*l+" "+e*l+" "+O*l}else if(Y.NSWhite){Y="1 1 1"}Y=Y.split(" ");
w.Cr.FillColor={Type:1,Values:[1,parseFloat(Y[0]),parseFloat(Y[1]),parseFloat(Y[2])]};var z=C.MSAttributedStringFontAttribute;
if(C.NSFont){I=C.NSFont.NSSize;s=C.NSFont.NSName}else if(z){if(z.attributes){z=z.attributes;I=z.size;
s=z.name}else{var R=z.NSFontDescriptorAttributes;if(R==null)R=z.UIFontDescriptorAttributes;z=R;I=z.NSFontSizeAttribute;
s=z.NSFontNameAttribute}if(s==null)s="DejaVuSans"}var V=Math.max(V,I);w.Cr.FontSize=Math.round(I);it.nn(w,s);
var t=C.NSKern;if(t==null)t=C.kerning;if(t!=null)w.Cr.Tracking=Math.round(1e3*t/I);if(C.NSUnderline!=null)w.Cr.Underline=C.NSUnderline>0;
var a=C.NSStrikethrough;if(a==null)a=C.strikethroughStyle;if(a!=null)w.Cr.Strikethrough=a>0;if(C.MSAttributedStringTextTransformAttribute==1)w.Cr.FontCaps=2;
var J=C.NSParagraphStyle;if(J==null)J=C.paragraphStyle;if(J){var F=J.paragraphSpacing;if(F!=null){w.a0.SpaceAfter=F}var h=J.NSAlignment;
if(h==null)h=J.alignment;if(h!=null){var m=0;if(!1){}else if(h==1)m=1;else if(h==2)m=2;else if(h==4)m=0;
else{m=h;console.log("unknown align",h)}if(k&&m<2)m=1-m;w.a0.Justification=m}var D=J.NSMinLineHeight;
if(D==null)D=J.minimumLineHeight;if(D!=null){w.Cr.AutoLeading=!1;w.Cr.Leading=D}}w.a0._Direction=k?1:0;
it.ml(d,H,H+g,w);H+=g}return V};e$.aqt=function(d,W,c,y,B,r,x){var Z=e$,i=JSON.parse(bV.default),k=!1;
for(var S=0;S<bV.order.length;S++)i[bV.Fb[S]]={t:"VlLs",v:[]};var H=c.fills,V=Z.aE7(d,H,y,B,r,W);for(var g=0;
g<2;g++){var N=c[["shadows","innerShadows"][g]];if(N==null)continue;var C=["DrSh","IrSh"][g],w=bV.Fb[bV.order.indexOf(C)];
for(var S=0;S<N.length;S++){var Y=N[S];if(!Y.isEnabled)continue;var U=Y.contextSettings;if(U&&U.opacity==0||Y.color.alpha==0)continue;
var e=JSON.parse(bV._R[bV.order.indexOf(C)]);i[w].v.unshift({t:"Objc",v:e});k=!0;e.Clr.v=Z.I8(Y.color);
e.blur.v.val=Math.round(Y.blurRadius/B.dV());var O=B.clone();O.IS=O.rk=0;O.QE();var l=O.iC(new aL(Y.offsetX,Y.offsetY)),I=Math.sqrt(l.x*l.x+l.y*l.y);
e.Dstn.v.val=Math.round(I);e.lagl.v.val=Math.round(Math.atan2(l.y,-l.x)*(180/Math.PI));if(e.layerConceals)e.layerConceals.v=V.length!=0;
Z.zw(Y,e)}}var s=c.borders;if(s!=null&&(V.length==0||c.blur==null||!c.blur.isEnabled))for(var S=0;S<s.length;
S++){var z=s[S];if(!z.isEnabled)continue;var e=JSON.parse(bV._R[bV.order.indexOf("FrFX")]),w=bV.Fb[bV.order.indexOf("FrFX")];
i[w].v.unshift({t:"Objc",v:e});k=!0;e.Clr.v=Z.I8(z.color);if(z.fillType!=0&&z.gradient){var R=Z.amY(z.gradient,y,B,r),t=["Type","Angl","Ofst","Scl"];
for(var S=0;S<t.length;S++)e[t[S]]=R[t[S]];e.Grad.v=R.Grad.v;e.PntT.v.FrFl="GrFl"}e.Sz.v.val=Math.round(z.thickness/B.dV());
e.Styl.v.FStl=["CtrF","InsF","OutF"][z.position];Z.zw(z,e)}for(var S=x?1:0;S<V.length;S++){var a=V[S],w=bV.Fb[bV.order.indexOf(a.type)];
i[w].v.unshift(a.b);k=!0}return k?i:null};e$.aE7=function(d,W,c,y,B,r,x){if(W==null)return[];var Z=e$,i=[];
for(var S=0;S<W.length;S++)if(W[S].isEnabled)i.push(W[S]);W=i;var k=[];for(var S=0;S<W.length;S++){var H=W[S],V=null,g=null;
if(H.fillType==0){V="SoFi";var N=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);g={t:"Objc",v:N};g.v.Clr.v=Z.I8(H.color)}else if(H.fillType==1){V="GrFl";
g={t:"Objc",v:Z.amY(H.gradient,c,y,B)}}else if(H.fillType==4&&H.image!=null){var C=H.image;if(x)C=x.value;
var w=fd.$Z(C.bdata.buffer);if(w=="fpng")w="png";if(w!=null&&w!="pdf"&&w!="eps"){var Y,I=0,s=0,z=0;if(r.Ny[C.key])Y=r.Ny[C.key];
else{var U={data:new ArrayBuffer(4),H2:new a8(0,0,1,1)};try{U=fd.Ay(w).Pd(C.bdata)[0]}catch(jj){}Y={};
Y.id=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f";Y.name="someImage";Y.Q$=[new Uint8Array(U.data),U.H2];r.j9(Y);
r.Ny[C.key]=Y}var e=Y.Q$[1],N=JSON.parse(bV._R[bV.order.indexOf("patternFill")]);V="patternFill";g={t:"Objc",v:N};
var O=H.patternFillType,l=H.patternTileScale;N.Algn.v=!0;N.Ptrn.v.Idnt.v=Y.id;if(O==0){I=l*e.m/Math.min(e.m,e.i);
s=-y.IS;z=-y.rk}else{I=Math.max(c.m/e.m,c.i/e.i);s=-y.IS-(e.m*I-c.m)/2;z=-y.rk-(e.i*I-c.i)/2}N.Scl.v.val=100*I*(1/y.dV());
N.phase.v.Hrzn.v=Math.round(s/y.dV());N.phase.v.Vrtc.v=Math.round(z/y.dV())}}else if(H.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",H.fillType);
if(V!=null){Z.zw(H,g.v);k.push({type:V,b:g})}}return k};e$.ar1=function(d){var W=e$,c=new a8(0,0,1,1);
d=d.slice(0);while(!0){var y=!1;for(var S=0;S<d.length-1;S++){var B=d[S],r=d[S+1],x=null,Z=B.contextSettings;
if(B.fillType==0&&(Z==null||Z.opacity==1&&Z.blendMode==0)&&B.color.alpha==1){var i="norm",k=1,Z=r.contextSettings;
if(Z){k=Z.opacity;i=dB.Aa(W.Ih[Z.blendMode])}if(r.fillType==0){x=JSON.parse(JSON.stringify(r));W.ahN(x.color,B.color,x.color,c,i,k)}if(r.fillType==1){x=JSON.parse(JSON.stringify(r));
var H=x.gradient.stops;for(var V=0;V<H.length;V++)W.ahN(H[V].color,B.color,H[V].color,c,i,k)}if(x!=null&&x.contextSettings){var Z=x.contextSettings;
Z.opacity=1;Z.blendMode=0}}if(x!=null){d.splice(S,0,x);y=!0;break}}if(!y||d.length<2)break}return d};
e$.ahN=function(d,W,c,y,B,r){var x=e$,Z=v.R(4);x.azT(d,Z);var i=v.R(4);x.azT(W,i);v.l.Ip(B,Z,y,i,y,y,r);
x.ak3(i,c)};e$.azT=function(d,W){W[0]=255*d.red;W[1]=255*d.green;W[2]=255*d.blue;W[3]=255*d.alpha};e$.ak3=function(d,W){W.red=d[0]/255;
W.green=d[1]/255;W.blue=d[2]/255;W.alpha=d[3]/255};e$.a69=function(d,W){d=d.clone();d.xy=24;d.AP("Mask by "+d.getName());
W.B.push(d);d.add.lsct=aG.ED;d.add.lyid=W.Eu();delete d.add.lmfx;delete d.add.SoCo;delete d.add.GdFl;
delete d.add.PtFl;delete d.add.iOpa;if(d.add.vmsk)d.add.vmsk.Zv=!0;d.h0();d.Ys(W);if((d.xy&16)==16)d.xy-=16;
if((d.xy&2)==2)d.xy-=2;d.E9="pass";d.opacity=255};e$.Ih="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
e$.amY=function(d,W,c,y){c=c.clone();c.QE();c.IS=c.rk=0;var B=c.dV(),g=0,N=0;c.scale(1/B,1/B);var r=e$,x=JSON.parse(bV._R[bV.order.indexOf("GrFl")]),Z=x.Grad.v;
Z.Intr.v=0;if(d==null)return x;var i=d.gradientType,k=r._L(d.from),H=r._L(d.to);k.offset(-.5,-.5);H.offset(-.5,-.5);
k=c.iC(k);H=c.iC(H);var V=Math.atan2(-(H.y-k.y),H.x-k.x);x.Type.v.GrdT=["Lnr","Rdl","Angl"][i];x.Scl.v.val=100*aL.Bg(k,H);
if(i==0){x.Angl.v.val=180/Math.PI*V;x.Scl.v.val=100*aL.Bg(k,H);g=(k.x+H.x)/2;N=(k.y+H.y)/2}if(i==1){x.Scl.v.val=200*aL.Bg(k,H);
g=k.x;N=k.y}if(i==2){x.Angl.v.val=180/Math.PI*(V-Math.PI/2)}var C=x.Ofst.v;C.Hrzn.v.val=g*100;C.Vrtc.v.val=N*100;
var w=[];for(var S=0;S<d.stops.length;S++){var Y=d.stops[S],U=Y.color;w.push([Y.position,U?[U.red,U.green,U.blue]:[0,0,0],U.alpha])}v.L.GW(w,Z);
return x};e$.zw=function(d,W){var c=e$,y=1,B=d.contextSettings;if(B!=null){W.Md.v.BlnM=c.Ih[B.blendMode];
y*=B.opacity}else W.Md.v.BlnM=c.Ih[0];W.enab.v=d.isEnabled;if(W.uglg!=null)W.uglg.v=!1;if(d.color!=null)y*=d.color.alpha;
W.Opct.v.val=Math.round(y*100)};e$.I8=function(d){return v.L.FV(d?{Z:d.red*255,G:d.green*255,J:d.blue*255}:{Z:0,G:0,J:0})};
e$.$b=function(d,W){var c=e$,y=[{type:6},{type:8,all:0}];for(var B=0;B<d.length;B++){var r=d[B],x=r.booleanOperation,Z=0,i=r._class,C=!1;
if(i=="group"||i=="text"||i=="symbolInstance"||i=="slice"){console.log(i+" inside ShapeGroup");continue}if(x==-1)Z=0;
else if(x==0)Z=1;else if(x==1)Z=2;else if(x==2)Z=3;else if(x==3)Z=0;if(B==0)Z=1;var k=e$.lX(r.frame),H=c.as6(r,W),V=r.path?r.path:r,g=[{type:0,length:0,p5:Z,H4:2,Be:0,dO:0}],N=V.points;
for(var S=0;S<N.length;S++){var w=N[S],Y=c._L(w.curveTo),U=c._L(w.point),e=c._L(w.curveFrom);C=C||w.hasCurveFrom&&!e.zI(U)||w.hasCurveTo&&!Y.zI(U)}var O=[];
if(!C){var l=[],bd=N.length;if(bd==0)continue;for(var S=0;S<bd;S++){O[S]=N[S].cornerRadius;var w=c._L(N[S].point);
l.push(w.x,w.y)}H.scale(1/k.m,1/k.i);H.QE();v.A.e(l,H,l);g=v.o.GP.Lb(l,O).slice(2);g[0].p5=Z}else{var I=N.length;
g[0].length=I;for(var S=0;S<I;S++){var w=N[S],s=w.curveMode,z=c._L(w.point);g[1+S]={type:s==2||s==4?1:2,sV:w.hasCurveTo?c._L(w.curveTo):z.clone(),I:z,XM:w.hasCurveFrom?c._L(w.curveFrom):z.clone()}}H.scale(1/k.m,1/k.i);
H.QE();v.o.hn(g,H);var O=[];for(var S=0;S<I;S++){var w=N[S],s=w.curveMode,R=w.cornerRadius;if(s==1&&R!=0)O.push(R);
else O.push(0)}}if(!V.isClosed)for(var S=0;S<g.length;S++)g[S].type+=3;y=y.concat(g);var t=c.dx(r);if(H.J==0&&H.gp==0){var a=H.IS,J=H.rk,F=a+H.U,h=J+H.x7,m=[a,J,F,h]}}return y};
e$.as6=function(d,W){var c=W.clone(),y=d.frame?e$.lX(d.frame):null;if(y)c.translate(-y.x-y.m/2,-y.y-y.i/2);
if(d.isFlippedHorizontal)c.scale(-1,1);if(d.isFlippedVertical)c.scale(1,-1);c.rotate(-d.rotation*(Math.PI/180));
if(y)c.translate(y.m/2,y.i/2);return c};e$._L=function(d){d=d.slice(1,d.length-1).split(",");return new aL(parseFloat(d[0]),parseFloat(d[1]))};
e$.lX=function(d){return new a8(d.x,d.y,d.width,d.height)};e$.a1T=function(d){return{_class:"rect",constrainProportions:!1,x:d.x,y:d.y,width:d.m,height:d.i}};
function i7(){}i7.Nr=function(d,W){var c=Date.now(),y=i7,B=UZIP.parse(d),r=JSON.parse(K.uw(B.manifest)),x=JSON.parse(K.uw(B["resources/graphics/graphicContent.agc"])).resources,Z=[],i=[],k=r.children;
for(var S=0;S<k.length;S++){var H=k[S];if(H.name=="artwork"){var V=H.children;for(var g=0;g<V.length;
g++){var N=V[g],C=JSON.parse(K.uw(B["artwork/"+N.path+"/graphics/graphicContent.agc"])),w=C.children;
if(w.length==0){}else if(w.length==1){if(N["uxdesign#bounds"]){N._node=w[0];Z.push(N)}}else{var Y=w[0],U=Y.transform,e=Y.shape;
if(e==null)e={x:0,y:0,width:1e3,height:1e3};if(e.type=="path"){var O=v.A.xG(Typr.U.SVGToPath(e.path).crds);
e={x:O.x,y:O.y,width:O.m,height:O.i}}e=JSON.parse(JSON.stringify(e));if(U){e.x+=U.tx;e.y+=U.ty}N["uxdesign#bounds"]=e;
N._node={type:"artboard",artboard:{children:w}};i.push(N)}}}}if(Z.length==0)Z=i;var l=[],I=new a8;for(var S=0;
S<Z.length;S++){var N=Z[S],s=e$.lX(N["uxdesign#bounds"]);l.push(s);I=I.hB(s)}var z=e$.Ze(I,8192*8192);
W.O5=!0;W.m=Math.round(I.m/z);W.i=Math.round(I.i/z);W.buffer=v.R(W.m*W.i*4);W.AF(Z.length);var R=new dT(z,0,0,z,I.x,I.y);
W.Ny={};for(var S=0;S<Z.length;S++){var N=Z[S],s=e$.lX(N["uxdesign#bounds"]),t=N._node,a=R.clone(),J=s.clone(),F=a.dV();
a.translate(-s.x,-s.y);J.x=-Math.floor(a.IS/F);J.y=-Math.floor(a.rk/F);J.m=Math.floor(J.m/F);J.i=Math.floor(J.i/F);
a.translate(s.x,s.y);i7.i4(t,W,a,x,B,J);var h=W.B[W.B.length-1];h.AP(N.name);h.Nn(J);if(S!=Z.length-1)h.add.lsct=aG.tV}delete W.Ny};
i7.Kq=function(d){if(d==null)return new dT;return new dT(d.a,d.b,d.c,d.d,d.tx,d.ty)};i7.i4=function(d,W,c,y,B,r){var x=i7,Z=d.type,i=d[Z],k=d.style,H=x.Kq(d.transform),C,w="none",Y,U="none",e,O;
H.QE();var V=c.clone();V.concat(H);var g=W.jb(),N=d.name;g.AP(N?N.slice(0,250):"Layer");if(d.visible!=null)g.vI(d.visible);
if(k){C=k.stroke;w=C?C.type:"none";Y=k.fill;U=Y?Y.type:"none";if(Y&&Object.keys(Y).length==1)U="none";
e=k.filters;O=k.clipPath;if(O&&y.clipPaths[O.ref])O=y.clipPaths[O.ref].children;else O=null;if(k.opacity!=null)g.opacity=Math.round(255*k.opacity);
if(U=="solid"&&Y.color.alpha)g.opacity=Math.round(g.opacity*Y.color.alpha);if(e){g.add.lmfx=x.apz(e);
for(var S=0;S<e.length;S++)if(e[S].type=="uxdesign#blur"){var l=e[S],I=l.params,s=I.brightnessAmount;
if(s==null)s=0;s=Math.abs(s/100);if((l.visible==null||l.visible==!0)&&I.backgroundEffect)g.opacity=Math.round(g.opacity*(s+(1-s)*I.fillOpacity))}}if(U=="pattern"&&Y.pattern.meta.ux.uid=="")U="none"}if(O==null&&d.meta&&d.meta.ux&&d.meta.ux.clipPathResources)O=d.meta.ux.clipPathResources.children;
if(Z=="artboard"||Z=="group"){if(O){var z=O[0],R=z.shape,t=R!=null&&R.type=="rect"&&R.width*R.height>4e6;
if(z.type!="text"&&!t){if(R){var H=x.Kq(z.transform);H.QE();var a=V.clone();a.concat(H);g.add.vmsk=new e8.vw;
g.add.vmsk.Y=x.$b(R);a=a.clone();a.QE();v.o.hn(g.add.vmsk.Y,a);g.h0();g.Ys(W)}}else if(!t)alert("Clipping by text has been ignored")}g.add.lsct=aG.ED;
g.E9="pass";g.xy=24;if(d.visible!=null)g.vI(d.visible);W.B.push(W.b7());var J=i.children,F=Y;if(F)F=F.color;
if(F)F=F.value;if(Y){if(Z=="artboard"&&U=="solid"){g.Nn(new a8(0,0,10,10));g.add.artb.Clr={t:"Objc",v:v.L.FV({Z:F.r,G:F.g,J:F.b})};
g.add.artb.artboardBackgroundType={t:"long",v:4}}else{var h=W.jb();h.AP("BACKGROUND");h.xy|=16;h.add.vstk=bV._M.qw();
h.add.vmsk=new e8.vw;h.add.vmsk.Y=x.$b({type:"rect",x:r.x,y:r.y,width:r.m,height:r.i});x.j$(Y,U,V,r,r,h,W,y,B);
h.h0();h.Ys(W);W.B.push(h)}}for(var S=0;S<J.length;S++){i7.i4(J[S],W,V,y,B,r)}}else if(Z=="shape"&&(i.type=="rect"&&(i.r==null||i.r==0)||i.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(i.path)))&&U=="pattern"&&(Math.abs(i.width/i.height-Y.pattern.width/Y.pattern.height)<.01||k.fill.pattern.meta.ux.scaleBehavior=="fill")){var m=Y.pattern,D=m.meta.ux,_=D.uid,n=B["resources/"+_];
if(n==null){console.log(m);return}var j=W.GC(n,g.getName(),0,0);j.xy=g.xy;j.opacity=g.opacity;g=j;var T=v.o.wV(x.$b(i),null),L=v.A.z$(new a8(0,0,m.width,m.height)).j,p=new dT;
p.scale(m.width/T.m,m.height/T.i);if(D.offsetX)p.translate(-D.offsetX*m.width,0);if(D.offsetY)p.translate(0,-D.offsetY*m.height);
V.concat(p);V.QE();v.A.e(L,V,L);g.add.SoLd.Trnf=X.X.oY(L);g.add.SoLd.nonAffineTransform=X.X.oY(L);g.Hg(W,!1)}else if(Z=="shape"){g.xy|=16;
g.add.vstk=bV._M.qw();g.add.vmsk=new e8.vw;g.add.vmsk.Y=x.$b(i);var T=v.o.wV(g.add.vmsk.Y,null),a=V.clone();
a.QE();v.o.hn(g.add.vmsk.Y,a);var E=v.o.wV(g.add.vmsk.Y,null);if(w=="none"){}else{var G=C.color.value,A,u;
A="SoFi";var q=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);u={t:"Objc",v:q};u.v.Clr.v=v.L.FV({Z:G.r,G:G.g,J:G.b});
var o=C.align,M=C.cap;if(o==null)o="center";var $=g.add.vstk;$.strokeEnabled.v=!0;$.strokeStyleLineWidth.v.val=C.width;
if(o)$.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bV._M.IC[["inside","center","outside"].indexOf(o)];
if(M)$.strokeStyleLineCapType.v.strokeStyleLineCapType=bV._M.Lw[["butt","round","square"].indexOf(M)];
var Q=["SoFi","GrFl","patternFill"].indexOf(A),kF=[bV.Ak,bV.n1,bV.DX][Q];$.strokeStyleContent.v={classID:bV._M.sy[0]};
var P=$.strokeStyleContent.v={classID:bV._M.sy[Q]};for(var S=0;S<kF.length;S++)P[kF[S]]=u.v[kF[S]]}if(e)for(var S=0;
S<e.length;S++)if(e[S].type=="uxdesign#blur"&&e[S].visible){var bM=e[S];g.add.vmsk.ej=bM.params.blurAmount}x.j$(Y,U,V,T,E,g,W,y,B);
g.h0();g.Ys(W)}else if(Z=="text"&&d.text){var jW=d.text,fX=jW.frame,bX=k.font,ao=k.textAttributes,H=V.clone(),f0=0;
H.QE();g.add.lnsr="rend";g.add.TySh=it.De(0,0);g.add.TySh.Nz=new a8(0,0,100,100);g.add.TySh.e=H;var en=g.add.TySh.p$,fK=jW.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
it.kL(en,0,fK);if(fK!=""){var bO=it.tO(en,0,1),b9=bX.postscriptName;if(b9==null)b9=bX.family;it.nn(bO,b9);
bO.Cr.FontSize=Math.round(bX.size);if(U=="solid"){var G=Y.color.value;bO.Cr.FillColor={Type:1,Values:[1,G.r/255,G.g/255,G.b/255]}}if(ao){if(ao.paragraphAlign)bO.a0.Justification=["left","right","center"].indexOf(ao.paragraphAlign);
if(ao.letterSpacing)bO.Cr.Tracking=Math.round(ao.letterSpacing);if(ao.lineHeight){bO.Cr.AutoLeading=!1;
bO.Cr.Leading=Math.round(ao.lineHeight)}}it.ml(en,0,fK.length,bO)}var bK=d.meta.ux.rangedStyles;if(bK)for(var S=0;
S<bK.length;S++){var i=bK[S],hX=Math.min(i.length,fK.length-f0);if(S==bK.length-1)hX=fK.length-f0;var bO=it.tO(en,f0,f0+hX),b9=i.postscriptName;
if(b9==null)b9=i.family;if(b9!=null)it.nn(bO,b9);var gR=i.textScript,gU=i.underline,ip=i.fontSize,l=i.fill,aW=i.textTransform;
if(gR&&gR!="none")bO.Cr.FontBaseline=gR=="superscript"?1:2;if(gU!=null)bO.Cr.Underline=gU;if(ip!=null)bO.Cr.FontSize=Math.round(ip);
if(aW!=null)bO.Cr.FontCaps=aW=="uppercase"?2:0;if(aW=="lowercase"){it.iI(en,f0,f0+hX);it.kL(en,f0,fK.slice(f0,f0+hX).toLowerCase())}if(l!=null){var kN=l.value;
bO.Cr.FillColor={Type:1,Values:[1,(kN>>>16&255)/255,(kN>>>8&255)/255,(kN>>>0&255)/255]}}it.ml(en,f0,f0+hX,bO);
f0+=hX}if(fX.type=="area"||fX.type=="autoHeight"){var g0=fX.width,gC=fX.height;it.gF(en,1);it.r_(en,[0,0,g0,gC!=null?gC:g0*2])}}else if(Z=="syncRef"){var jL=d.syncSourceGuid,jf=y.meta.ux.symbols,cm=x.tB(jf,jL);
if(cm){var eh=V.clone();eh.concat(x.Kq(cm.transform));i7.i4(cm,W,eh,y,B,r)}return}else console.log(Z,d);
W.B.push(g)};i7.tB=function(d,W){for(var S=0;S<d.length;S++){var c=d[S],y=c.group;if(c.id==W)return c;
if(y){var B=i7.tB(y.children,W);if(B)return B}}return null};i7.$b=function(d){var W=d.type,c=[{type:6},{type:8,all:0}];
if(W=="rect"){var y=d.r,B=d.x,r=d.y,x=d.width,Z=d.height;c=v.o.GP.Rect(B,r,x,Z,y?y:0)}else if(W=="circle"){var y=d.r;
c=v.o.GP.a8(d.cx-y,d.cy-y,2*y,2*y)}else if(W=="ellipse"){var i=d.rx,k=d.ry;c=v.o.GP.a8(d.cx-i,d.cy-k,2*i,2*k)}else if(W=="path"||W=="compound"){var H=Typr.U.SVGToPath(d.path);
c=v.A.fI({r:H.cmds,j:H.crds},!1)}else if(W=="line"){var V=d.x1,g=d.x2,N=d.y1,C=d.y2;c=v.o.GP.Lb([V,N,g,C],0,!0)}else if(W=="polygon"){var w=d.points,Y=[];
for(var S=0;S<w.length;S++)Y.push(w[S].x,w[S].y);c=c.concat(v.o.GP.Lb(Y,0,!1).slice(2))}else console.log(W,d);
return c};i7.apz=function(d){var W=JSON.parse(bV.default);for(var S=0;S<bV.order.length;S++)W[bV.Fb[S]]={t:"VlLs",v:[]};
for(var S=0;S<d.length;S++){var c=d[S],y=c.type,B=c.params,r=c.visible;if(y=="dropShadow"){var x=bV.Fb[bV.order.indexOf("DrSh")],Z=JSON.parse(bV._R[bV.order.indexOf("DrSh")]);
W[x].v.unshift({t:"Objc",v:Z});var i=B.dropShadows;if(i.length!=1)throw"e";var k=i[0],H=k.color,V=H.value,g=k.dx,N=k.dy;
Z.Clr.v=v.L.FV({Z:V.r,G:V.g,J:V.b});Z.Opct.v.val=Math.round((H.alpha!=null?H.alpha:1)*100);Z.uglg.v=!1;
Z.enab.v=r!=null?r:!0;Z.lagl.v.val=Math.round(180/Math.PI*Math.atan2(N,-g));Z.Dstn.v.val=Math.round(Math.sqrt(g*g+N*N));
Z.blur.v.val=Math.round(k.r*2.3)}}return W};i7.j$=function(d,W,c,y,B,r,x,Z,i){var k=i7;r.add.vstk.fillEnabled.v=W!="none";
if(W=="none"){r.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:0,G:0,J:0})}}}else{var H,V,g;if(W=="solid"){var N=d.color.value;
H="SoCo";V=bV.Ak;var C=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);g={t:"Objc",v:C};g.v.Clr.v=v.L.FV({Z:N.r,G:N.g,J:N.b})}else if(W=="gradient"){H="GdFl";
V=bV.n1;var C=JSON.parse(bV._R[bV.order.indexOf("GrFl")]),w=C.Grad.v,l,I,s;w.Intr.v=0;var Y=d[W],U=Y.ref?Z.gradients[Y.ref]:Y.meta.ux.gradientResources,e=["linear","radial","angular"].indexOf(U.type),O=U.stops;
C.Type.v.GrdT=["Lnr","Rdl","Angl"][e];if(e==0){var l=new aL(Y.x1,Y.y1),I=new aL(Y.x2,Y.y2);l.x=I.x+.5*(l.x-I.x);
l.y=I.y+.5*(l.y-I.y)}else{var l=new aL(Y.cx,Y.cy),I=new aL(Y.cx+Y.r,Y.cy)}s=B;if(Y.units=="objectBoundingBox"){var z=new dT(y.m,0,0,y.i,y.x,y.y);
l=z.iC(l);I=z.iC(I)}var z=k.Kq(Y.transform);l=z.iC(l);I=z.iC(I);z=c.clone();z.QE();l=z.iC(l);I=z.iC(I);
v.L.qb(l,I,s,C);var R=[];for(var S=0;S<O.length;S++){var t=O[S],a=t.color,N=a.value,J=a.alpha;if(J==null)J=1;
R.push([t.offset,[N.r/255,N.g/255,N.b/255],J])}v.L.GW(R,w);g={t:"Objc",v:C}}else if(W=="pattern"){H="PtFl";
V=bV.DX;var C=JSON.parse(bV._R[bV.order.indexOf("patternFill")]),L;g={t:"Objc",v:C};var F=d[W],h=F.meta.ux,m=h.uid,D=i["resources/"+m].buffer,_=h.flipX,n=h.flipY,j=m+_+n,T=fd.$Z(D);
if(x.Ny[j])L=x.Ny[j];else{var p=new a8(0,0,F.width,F.height),E;if(p.Bb()||T==null){p=new a8(0,0,1,1);
E=new ArrayBuffer(4)}else{var G=fd.Ay(T);if(G.IX){var A=new eb;G.Pd(D,A);E=A.Li().buffer}else{try{var u=G.Pd(D)[0];
E=u.data;p=u.H2}catch(jj){E=new ArrayBuffer(p.P()*4)}}}L={};L.id=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f";
L.name="someImage";L.Q$=[new Uint8Array(E),p];if(_)v.D.EV(L.Q$[0].slice(0),L.Q$[0],p.m,p.i);if(n)v.D.anI(L.Q$[0].slice(0),L.Q$[0],p.m,p.i);
x.j9(L);x.Ny[j]=L}var q=c.clone();q.QE();q.translate(y.x,y.y);var o=y.m,M=y.i,$=L.Q$[1].m,Q=L.Q$[1].i,kF=Math.max(o/$,M/Q);
if(h.scale)kF*=h.scale;var P=new dT;P.translate(-$/2,-Q/2);P.scale(1/$,1/Q);if(h.offsetX!=null)P.translate(h.offsetX,h.offsetY);
P.scale($,Q);P.scale(kF,kF);P.translate(o/2,M/2);P.concat(q);eV.aBa(L,C,0,0,1e3,P)}else console.log(W);
if(H!=null){r.add[H]={classID:"null"};for(var S=0;S<V.length;S++){var bM=V[S];r.add[H][bM]=g.v[bM]}}}};
var d_=function(){function d(Y){return Y.tagName?Y.tagName.split(":").pop():null}function W(Y,U,e){if(e&&e[0]==null)e=null;
Y=new Uint8Array(Y);var O,T=1;if(Y[0]==255&&Y[1]==254)O=K.ud(Y,2,(Y.length>>>1)-1);else O=K.uw(Y,0,Y.length);
var l=new DOMParser,I=l.parseFromString(O,"image/svg+xml"),s=I.getElementsByTagName("style")[0];if(s)s=Typr.U.SVG.cssMap(s.textContent);
else s={};var z=I.firstChild;while(d(z)!="svg")z=z.nextSibling;var R=new a8(0,0,100,100),t=z.getAttribute("viewBox"),a=z.getAttribute("width"),J=z.getAttribute("height"),F=a!=null?parseFloat(a):parseFloat(J),h=J!=null?parseFloat(J):parseFloat(a);
if(t){var m=c(t);R.x=m[0];R.y=m[1];R.m=m[2];R.i=m[3];if(a!=null){var D=m[2]/m[3],_=F/h;if(_>D){var n=m[3]*_-R.m;
R.x-=n/2;R.m+=n}if(_<D){var j=m[2]/_-R.i;R.y-=j/2;R.i+=j}}}else if(a!=null||J!=null){R.m=F;R.i=h}R=v.A.zk(R);
while(e&&Math.max(R.m*T,R.i*T)<Math.max(e[0],e[1]))T++;while(e==null&&Math.max(R.m,R.i)*T>8192)T*=.5;
U.O5=!0;U.m=~~(R.m*T);U.i=~~(R.i*T);var L=new dT(T,0,0,T,-R.x*T,-R.y*T),p={r1:V(z),ann:s,oJ:0};y(I,z.children,U,L,p,new dT,0);
if(U.B.length==0){var E=U.jb();E.AP("Layer");U.B.push(E)}}function c(Y){var U=" ";if(Y.indexOf(",")!=-1)U=",";
return Y.split(U).map(parseFloat)}function y(Y,U,e,O,l,I,s,z){var R=["display","opacity","fill-opacity","filter","clip-path"],t=0;
for(var a=0;a<U.length;a++){var J=U[a],F=d(J),h=J.getAttribute("id"),_=13,p=1,A="clip-path",u=null,jW=0;
if(h==null)h=J.getAttribute("data-name");var m=V(J,l.ann);for(var D in l.r1)if(R.indexOf(D)==-1&&m[D]==null)m[D]=l.r1[D];
if(m["font-size"])_=x(m["font-size"],_);if(J.getAttribute("dx"))O.IS+=x(J.getAttribute("dx"),_);if(J.getAttribute("dy"))O.rk+=x(J.getAttribute("dy"),_);
var n=i(J);n.concat(O);var j=J.getAttribute("visibility"),T=m.display,L=e.jb();if(j=="hidden"||T=="none")L.vI(!1);
L.AP(h!=null?h.split(":::")[0]:"Layer");if(m.opacity)p*=parseFloat(m.opacity);if(m["fill-opacity"]){var E=parseFloat(m["fill-opacity"]);
if(E!=0)p*=E}L.opacity=Math.round(255*p);if(m["mix-blend-mode"]){var G=dB.S1.indexOf(m["mix-blend-mode"]);
if(G!=-1)L.E9=dB.s0[G]}if(J.getAttribute(A)==null)A="mask";if(J.getAttribute(A)!=null||m["clip-path"]){var q=J.getAttribute(A);
if(q==null)q=m["clip-path"];q=q.slice(4,q.length-1);var o=Y.getElementById(q.slice(1));if(o){var M=o.children;
u=e.jb();u.AP("Clip-Path"+(h?": "+h:""));u.add.lsct=s<2?aG.ED:aG.tV;u.E9="pass";u.xy=24;var $=u.add.vmsk=new e8.vw;
e.B.push(e.b7());var Q=[];if(o.getAttribute(A)){var q=o.getAttribute(A);q=q.slice(4,q.length-1);Q=Y.getElementById(q.slice(1)).children}for(var S=0;
S<M.length;S++){var kF=i(M[S]);kF.concat(n);var P=r(e,Y,M[S],!1).slice(2);v.o.hn(P,kF);$.Y=$.Y.concat(P)}for(var S=0;
S<Q.length;S++){var kF=i(M[S]);kF.concat(n);var P=r(e,Y,Q[S],!1).slice(2);for(var bM=0;bM<P.length;bM++)if(P[S].p5!=null)P[S].p5=3;
v.o.hn(P,kF);$.Y=$.Y.concat(P)}for(var S=0;S<$.Y.length;S++)if($.Y[S].p5!=null)$.Y[S].p5=0;u.h0();u.Ys();
s++}}if(m.filter&&m.filter!="none"){var fX=m.filter,ao,en,fK,b9=!1,bK=!1,f0=!1;fX=fX.slice(5,fX.length-1);
var bX=Y.getElementById(fX),bO=[0,0,0,.5],hn=n.dV();if(bX)for(var S=0;S<bX.children.length;S++){var hX=bX.children[S],gR=d(hX);
if(gR=="feGaussianBlur"){b9=!0;ao=parseFloat(hX.getAttribute("stdDeviation"))*hn}if(gR=="feColorMatrix"){var ib=hX.getAttribute("values");
if(ib){ib=ib.split(" ").map(parseFloat);bO=[ib[4],ib[9],ib[14],ib[18]]}}if(gR=="feComposite"){f0=!0}if(gR=="feOffset"){bK=!0;
var gU=hX.getAttribute("dx"),hq=hX.getAttribute("dy");en=parseFloat(gU?gU:0)*hn;fK=parseFloat(hq?hq:0)*hn}}if(b9&&(f0||bK)){var ip=f0?"IrSh":"DrSh";
if(ip=="IrSh"){L.add.iOpa=0}var aW=JSON.parse(bV._R[bV.order.indexOf(ip)]);aW.blur.v.val=Math.round(ao*2.4);
var kN=Math.sqrt(en*en+fK*fK);aW.uglg.v=!1;aW.Dstn.v.val=Math.round(kN);aW.lagl.v.val=Math.round(Math.atan2(fK,-en)*(180/Math.PI));
aW.Clr.v=v.L.FV({Z:bO[0]*255,G:bO[1]*255,J:bO[2]*255});aW.Opct.v.val=Math.round(bO[3]*100);B(L,bV.Fb[bV.order.indexOf(ip)],aW)}else if(b9)jW=ao}if(F=="g"||F=="a"||F=="svg"||F=="switch"||(F=="text"||F=="textPath")&&J.children.length>0||F=="symbol"&&z){if(F=="text")I=k(J,I);
var hW=J.getAttribute("viewBox"),jH=J.getAttribute("width"),g0=J.getAttribute("height");if(F=="svg"&&jH&&g0&&hW==null)hW="0 0 "+jH+" "+g0;
if(hW&&jH&&g0){var gC=c(hW),jL=k(J),jf=new dT;jf.translate(-gC[0],-gC[1]);jf.scale(parseFloat(jH)/gC[2],parseFloat(g0)/gC[3]);
jf.translate(jL.IS,jL.rk);jf.concat(n);n=jf}var cm=J.children.length,eh=l.r1;l.r1=m;var bu=l.oJ;l.oJ=Math.max(l.oJ,jW);
var eJ=F!="text"&&F!="textPath"||cm>1;if(eJ){var eZ=L.jF();L.add.lsct=s<2&&eZ&&(h==null||!h.endsWith(":::"))?aG.ED:aG.tV;
L.E9="pass";L.xy=24;L.vI(eZ);e.B.push(e.b7())}y(Y,J.children,e,n,l,I,s+1);if(eJ)e.B.push(L);else{var a0=e.B[e.B.length-1];
a0.opacity=L.opacity;a0.E9=L.E9}l.oJ=bu;l.r1=eh}else if(F=="use"){var jf=k(J);jf.concat(n);var gZ=N(J),bt=Y.getElementById(gZ.slice(1));
if(bt){var eh=l.r1;l.r1=m;if(m.filter)bt.setAttribute("filter",m.filter);y(Y,[bt],e,jf,l,I,s+1,!0);l.r1=eh}}else if(F=="path"||F=="rect"||F=="circle"||F=="ellipse"||F=="polygon"||F=="polyline"||F=="line"){L.xy|=16;
var $=L.add.vmsk=new e8.vw,dp=m.fill,gb=dp=="none"||m["fill-opacity"]&&parseFloat(m["fill-opacity"])==0;
$.Y=r(e,Y,J,m["fill-rule"]=="evenodd",gb);v.o.hn($.Y,n);var e_=m.stroke,dO=m["stroke-width"],dC=m["stroke-dasharray"],kc=m["stroke-linejoin"];
if(kc==null)kc="miter";var ia=m["stroke-linecap"];if(ia==null)ia="butt";var hO=m["stroke-miterlimit"];
if(hO==null)hO=4;var cj=m["paint-order"],bA=!(e_==null||e_=="none"||e_=="null"),bg=L.add.vstk=bV._M.qw(null,bA);
if(bA){var cX=Z(Y,e_,n,$.Y,e),i4=["SoFi","GrFl","patternFill"].indexOf(cX.type),fJ=cX.b.v.Opct.v,f$=1;
if(fJ.val!=100){L.opacity=Math.round(L.opacity*fJ.val/100);fJ.val=100}var iu=[bV.Ak,bV.n1,bV.DX][i4],hV=bg.strokeStyleContent.v={classID:bV._M.sy[i4]};
for(var S=0;S<iu.length;S++)hV[iu[S]]=cX.b.v[iu[S]];dO=dO?parseFloat(dO):1;if(cj&&cj.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){f$=2;
dO/=2}var kg={T1:["miter","round","bevel"].indexOf(kc),jf:["butt","round","square"].indexOf(ia),jW:dO,dL:hO};
if(dC!=null&&dC!="none")kg.Pn=dC.split(",").map(parseFloat);bV._M.write(bg,kg,n.dV());bg.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bV._M.IC[f$];
bg.strokeStyleOpacity.v.val=100*(m["stroke-opacity"]?parseFloat(m["stroke-opacity"]):1)}L.add.vstk.fillEnabled.v=!gb;
if(gb){L.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:0,G:0,J:0})}}}else{var cX=Z(Y,dp,n,$.Y,e),jy=null,iM=null;
if(cX.type=="SoFi"){jy="SoCo";iM=bV.Ak}if(cX.type=="GrFl"){jy="GdFl";iM=bV.n1}if(cX.type=="patternFill"){jy="PtFl";
iM=bV.DX}if(jy!=null){var fJ=cX.b.v.Opct.v;if(fJ.val!=100){L.opacity=Math.round(L.opacity*fJ.val/100);
fJ.val=100}L.add[jy]={classID:"null"};for(var S=0;S<iM.length;S++){var D=iM[S];L.add[jy][D]=cX.b.v[D]}}if(cX.A_)L.add._fstl=cX.A_}var hI=Math.max(jW,l.oJ);
if(hI!=0)L.add.vmsk.ej=hI;L.h0();L.Ys(e);e.B.push(L)}else if((F=="text"||F=="tspan")&&J.textContent!=""){I=k(J,I);
var jf=I.clone(),fK=0;jf.concat(n);jf.translate(t,0);if(J.children.length>0){var cd=V(J.children[0],l.ann);
for(var D in cd)if(R.indexOf(D)==-1)m[D]=cd[D]}var jZ=m["xml:space"],hz=J.textContent;if(jZ=="preserve")hz=hz.replace(/\t/g," ").replace(/\n/g," ");
if(h==null)L.AP(hz);L.add.lnsr="rend";L.add.TySh=it.De(0,0);L.add.TySh.Nz=new a8(0,0,100,100);L.add.TySh.e=jf.clone();
var jv=L.add.TySh.p$;it.kL(jv,0,hz);if(F=="tspan")t+=_*hz.length*.5*jf.dV();var dp=m.fill,eI=m["font-weight"],j2=m["font-family"],fM=m["text-decoration"],e_=m.stroke,dO=m["stroke-width"],gY=m["dominant-baseline"];
if(gY=="text-before-edge")fK=_;else if(gY=="middle")fK=_/2;else if(gY=="hanging")fK=_;if(fK!=0)L.add.TySh.e.translate(0,fK);
var c4=it.tO(jv,0,1);if(dp&&dp!="none"){var bO=CSS.I8(dp);c4.Cr.FillColor={Type:1,Values:[1,bO.Z/255,bO.G/255,bO.J/255]}}if(fM=="underline")c4.Cr.Underline=!0;
c4.Cr.FontSize=Math.round(_);it.nn(c4,"LiberationSans");if(eI=="bold")it.nn(c4,"LiberationSans-Bold");
if(j2){j2=j2.split(",")[0].trim();if(j2[0]=="\"")j2=j2.slice(1);if(j2[j2.length-1]=="\"")j2=j2.slice(0,j2.length-1);
var fI=j2+":"+(eI?eI:"normal"),jq={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(jq[fI])it.nn(c4,jq[fI]);else it.nn(c4,j2)}if(m["text-anchor"])c4.a0.Justification=["start","end","middle"].indexOf(m["text-anchor"]);
it.ml(jv,0,hz.length,c4);if(e_==null||e_=="none"){}else{var aW=JSON.parse(bV._R[bV.order.indexOf("FrFX")]);
aW.Clr.v=v.L.FV(CSS.I8(e_));aW.Sz.v.val=Math.round(parseFloat(dO)*jf.dV());B(L,"frameFXMulti",aW)}e.B.push(L)}else if(F=="image"){var gZ=N(J);
if(gZ&&gZ.slice(0,4)=="data"){var e1=fd.LC(gZ),ir=e1,fy=e.GC(ir,L.getName(),0,0);fy.xy=L.xy;L=fy;var fO=L.rect.clone();
fO.x=fO.y=0;var kI=J.getAttribute("width"),fF=J.getAttribute("height");if(kI)fO.m=parseFloat(kI);if(fF)fO.i=parseFloat(fF);
var d6=k(J);d6.concat(n);var bn=v.A.z$(fO).j;v.A.e(bn,d6,bn);L.add.SoLd.Trnf=X.X.oY(bn);L.add.SoLd.nonAffineTransform=X.X.oY(bn);
L.Hg(e,!1);e.B.push(L)}}else console.log("unknown tag: "+F,J.children.length,J.textContent.length);if(u!=null){e.B.push(u);
s--}}}function B(Y,U,e){var O=Y.add.lmfx;if(O==null){var O=Y.add.lmfx=JSON.parse(bV.default);for(var S=0;
S<bV.order.length;S++)O[bV.Fb[S]]={t:"VlLs",v:[]}}O[U].v.push({t:"Objc",v:e})}function r(Y,U,e,O,l){var I=[{type:6},{type:8,all:0}],s=d(e);
if(s=="use"){var z=N(e),R=U.getElementById(z.slice(1)),t=new dT;if(d(R)!="rect")t=k(R);t.concat(i(R));
I=r(Y,U,R,O,l);v.o.hn(I,t)}else if(s=="path"){var a=e.getAttribute("d");if(a==null)return I;var J=Typr.U.SVGToPath(a);
I=v.A.fI({j:J.crds,r:J.cmds},O,l)}else if(s=="rect"){var F=e.getAttribute("rx"),h=new aL(0,0);C("x",e,Y,h,!0);
C("y",e,Y,h,!1);var m=new aL(0,0);C("width",e,Y,m,!0);C("height",e,Y,m,!1);I=v.o.GP.Rect(h.x,h.y,m.x,m.y,F?parseFloat(F):0)}else if(s=="circle"||s=="ellipse"){var D=[0,0,0,0],_=["cx","cy","rx","ry","r"];
for(var S=0;S<5;S++){var n=e.getAttribute(_[S]);if(n){n=parseFloat(n);if(S<4)D[S]=n;else D[2]=D[3]=n}}I=v.o.GP.a8(D[0]-D[2],D[1]-D[3],2*D[2],2*D[3])}else if(s=="polygon"||s=="polyline"||s=="line"){var j;
if(s=="line")j=[e.getAttribute("x1"),e.getAttribute("y1"),e.getAttribute("x2"),e.getAttribute("y2")].map(parseFloat);
else j=e.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
I=v.o.GP.Lb(j,0,s!="polygon")}return I}function x(Y,U){if(Y.charAt(Y.length-1)=="m")return U*parseFloat(Y.slice(0,Y.length-2));
else return parseFloat(Y)}function Z(Y,U,e,O,l){var I,s,z,R=JSON.parse(bV._R[bV.order.indexOf("SoFi")]),t=v.o.wV(O),a=U!=null?U.indexOf("("):-1;
if(a!=-1){var J=U.indexOf(")"),F=U.slice(0,a).trim(),h=U.slice(a+1,J).trim();if(h.charAt(0)=="'")h=h.slice(1,h.length-1);
if(F=="url"){if(h.charAt(0)=="#"){var m=Y.getElementById(h.slice(1));if(m&&d(m).toLowerCase().endsWith("gradient")){var z=w(Y,m,e,t),D=bW.xu(z,O);
I="GrFl";s={t:"Objc",v:D}}else if(m&&d(m).toLowerCase()=="pattern"&&m.children[0]&&d(m.children[0])=="use"){I="SoFi";
s={t:"Objc",v:R};var _=m.children[0],n=i(_),j=N(_),T=Y.getElementById(j.slice(1)),L=fd.LC(N(T)).buffer,p=fd.Ay(fd.$Z(L)),E=p.Pd(L)[0],G={};
G.id=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f";G.name="someImage";G.Q$=[new Uint8Array(E.data),E.H2];l.j9(G);
var R=JSON.parse(bV._R[bV.order.indexOf("patternFill")]);R.Scl.v.val=Math.round(100*t.m*n.U);var A=R.phase.v;
A.Hrzn.v=Math.round(t.x+n.IS*t.m);A.Vrtc.v=Math.round(t.y+n.rk*t.i);R.Ptrn.v.Idnt.v=G.id;I="patternFill";
s={t:"Objc",v:R}}else{I="SoFi";s={t:"Objc",v:R}}}else console.log("unknown url",h)}else if(F=="rgb"||F=="rgba"){I="SoFi";
s={t:"Objc",v:R};s.v.Clr.v=v.L.FV(CSS.I8(U));if(F=="rgba")s.v.Opct.v.val=Math.round(100*parseFloat(U.split(",").pop()))}else console.log("unknown fill",U)}else{I="SoFi";
s={t:"Objc",v:R};var u=CSS.I8(U);s.v.Clr.v=v.L.FV(u);if(u.U!=null)s.v.Opct.v.val=Math.round(100*u.U/255)}return{type:I,b:s,A_:z}}function i(Y){var U=new dT,e=Y.getAttribute("transform");
if(e)U=H(e);var O=Y.getAttribute("style");if(O!=null){var l={};g(l,O,["transform"]);O=l.transform;if(O)U.concat(H(O))}return U}function k(Y,U){var e=new dT,O=Y.getAttribute("x"),l=Y.getAttribute("y");
if(O)e.IS=parseFloat(O);else if(U)e.IS=U.IS;if(l)e.rk=parseFloat(l);else if(U)e.rk=U.rk;return e}function H(Y){var U=Typr.U.SVG.readTrnf(Y);
return new dT(U[0],U[1],U[2],U[3],U[4],U[5])}function V(Y,U){var e={},O="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var S=0;S<O.length;S++){var l=Y.getAttribute(O[S]);if(l!=null&&l!="inherit")e[O[S]]=l}var I=Y.getAttribute("class");
if(U!=null&&I!=null&&U["."+I]!=null)g(e,U["."+I],O);var s=Y.getAttribute("id");if(U!=null&&s!=null&&U["#"+s]!=null)g(e,U["#"+s],O);
var z=Y.getAttribute("style");if(z!=null)g(e,z,O);return e}function g(Y,U,e){U=U.trim().split(";");for(var S=0;
S<U.length;S++){var O=U[S].split(":"),l=O[0]?O[0].trim():"",I=O[1]?O[1].trim():"";for(var s=0;s<e.length;
s++)if(l==e[s]&&I!="inherit")Y[e[s]]=I}}function N(Y){var U=Y.getAttribute("xlink:href");if(U==null)U=Y.getAttribute("href");
if(U==null)U=Y.getAttribute("xl:href");return U}function C(Y,U,e,O,l){var I=U.getAttribute(Y);if(I==null)return;
var s=parseFloat(I);if(I.endsWith("%"))s*=(l?e.m:e.i)/100;if(l)O.x=s;else O.y=s}function w(Y,U,e,O){var l=C,I=new dT,s=U.getAttribute("gradientTransform"),F=!1;
if(s)I=H(s);I.concat(e);var z=d(U)=="linearGradient"?0:1,R=new aL(0,0),t=new aL(O.m,0),a=R.clone();if(z==0){var J=new a8(0,0,1,1);
l("x1",U,J,R,!0);l("y1",U,J,R,!1);l("x2",U,J,t,!0);l("y2",U,J,t,!1);a.sq(R.x,R.y)}if(z==1){if(U.getAttribute("cx"))R.x=parseFloat(U.getAttribute("cx"));
if(U.getAttribute("cy"))R.y=parseFloat(U.getAttribute("cy"));t.sq(R.x,R.y);a.sq(R.x,R.y);if(U.getAttribute("r"))t.x+=parseFloat(U.getAttribute("r"));
if(U.getAttribute("fx"))a.x=parseFloat(U.getAttribute("fx"));if(U.getAttribute("fy"))a.y=parseFloat(U.getAttribute("fy"))}var h=U;
while(!0){if(h.getAttribute("gradientUnits")=="userSpaceOnUse")F=!0;var m=N(h);if(m==null)break;h=Y.getElementById(m.slice(1))}if(!F)I=new dT(O.m,0,0,O.i,O.x,O.y);
var D=bW.D8(z,I,O,R,t,a),_=U.children,n=D[1]=[];if(_.length==0){var j=N(U);if(j==null)throw"gradient has no stops";
var T=Y.getElementById(j.slice(1));if(T==null){console.log(j.slice(1))}else n=D[1]=w(Y,T,I,O)[1]}else for(var S=0;
S<_.length;S++){var L=_[S],p=V(L),E=p["stop-color"],G=p["stop-opacity"],A=L.getAttribute("offset");if(E==null)E="#000000";
G=G==null?1:parseFloat(G);var u=A?parseFloat(A):0;if(A&&A.endsWith("%"))u/=100;E=CSS.I8(E);if(E.U!=null)G*=E.U/255;
n.push([u,[E.Z/255,E.G/255,E.J/255],parseFloat(G)])}return D}return{Nr:W}}();d_.dn=function(){var d=null,W=null,c="",y="",B;
function r(R,t,a,J){var F=[],_=" { ",n=" } ",j=!1;W=t;y=t.D$?"":"\t";c=t.D$?"":" ";var h=t.ai$,m=t.a4q;
B=new a8(0,0,R.m,R.i);if(J!=null){B=R.root.children[J].a.ZB();h=B.m;m=B.i}F.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[B.x,B.y,B.m,B.i].join(" ")+"\" width=\""+h+"\" height=\""+m+"\">");
if(!t.D$)F.push(x(1)+"<title>"+O(R.name.split(".")[0])+"</title>");var D={b5:[],nW:[],Lm:0,v0:0,AA:0,un:{},Y5:{},wY:0,pC:{},ax3:{},Dn:0,Sm:[]};
w(R,D,R.root.children,1,t,a,J);if(D.b5.length!=0){F.push(x(1)+"<defs>");F=F.concat(D.b5);F.push(x(1)+"</defs>")}F.push(x(1)+"<style>");
if(t.D$){_="{";n="}"}for(var S=0;S<R.B.length;S++)if(R.B[S].add.TySh)j=!0;if(j&&!t.aDm&&!t.aDh)F.push(x(2)+"tspan"+_+"white-space:pre"+n);
for(var T in D.pC)F.push(x(2)+"."+T+_+D.pC[T]+n);F.push(x(1)+"</style>");F=F.concat(D.nW);F.push("</svg>");
F=F.join(t.D$?"":"\n");return K.$N(F)}function x(bd){var R="";for(var S=0;S<bd;S++)R+=y;return R}function Z(bd,R){if(R==null)R=1;
var t=""+parseFloat(bd.toFixed(R));if(t.startsWith("0."))t=t.slice(1);return t}function i(R,t){var a=R.add.lmfx;
if(a)a=a[t].v[0];if(a)a=a.v;if(a&&!a.enab.v)a=null;return a}function k(R,t){var a=i(R,"frameFXMulti");
if(a){var J=a.Sz.v.val;if(a.Styl.v.FStl=="OutF"){t.push("paint-order:stroke fill markers");J*=2}C(t,CSS.rt(a.Clr.v),1);
if(J!=1)t.push("stroke-width: "+J);t.push("stroke-linejoin: round;")}}var H="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function V(R){var t=H.length,a="";for(var J=1;J<10;J++){var F=(t-10)*~~Math.pow(t,J-1);if(R<F){for(var S=0;
S<J;S++){var h=S==J-1?10:0,m=t-h,D=R%m;a=H[D+h]+a;R=Math.floor((R-D)/m)}break}R-=F}return a}function g(R,t,a,J){if(R.length!=0){if(J==null)J="s";
var F=R.join(";"),h=t.ax3[F];if(h==null){h=W.D$?V(t.Dn):J+t.Dn;t.Dn++;t.ax3[F]=h;t.pC[h]=F}if(a)a.push(h);
return h}}function N(R){if(W.D$&&R.length==7&&R[0]=="#"){if(R[1]==R[2]&&R[3]==R[4]&&R[5]==R[6])R="#"+R[1]+R[3]+R[5]}return R}function C(R,t,a){t=N(t);
if(t!="#000"||a==1)R.push((a==0?"fill:":"stroke:")+c+t)}function w(R,t,a,J,F,h,m){var D=!1;for(var _=0;
_<a.length;_++){var n=a[_].a,j=n.add.lsct;if(n.add.artb&&m!=null&&_!=m)continue;if(!n.TA&&a[_+1]&&a[_+1].a.TA&&n.sI()&&n.add.vmsk){var T=[];
I(n,n.add.vmsk,t,T);t.nW.push(x(J)+"<g "+T[0]+">");J++;D=!0}else if(!n.TA&&a[_-1]&&a[_-1].a.TA&&D){J--;
t.nW.push(x(J)+"</g>");D=!1}var L=n.add.vmsk,p=n.add.vogk,E=n.add.vstk,G=n.add.TySh;if(L&&!L.isEnabled)L=E=null;
var A=[];if(!F.hidden&&!n.jF())continue;var u=n.opacity/255,q=n.add.iOpa?n.add.iOpa/255:1;if(n.vS()){u*=q;
q=1}if(u!=1)A.push("opacity:"+c+Z(u));if(q!=1)A.push("fill-opacity:"+c+Z(q));if(n.E9!="norm"){var o=dB.S1[dB.s0.indexOf(n.E9)];
if(o!=null)A.push("mix-blend-mode:"+c+o)}if(!n.jF())A.push("display:"+c+"none");var T=[],M=[],$=n.getName(),Q=$.indexOf(" .");
if(!F.D$)T.push("id=\""+O($)+"\"");var kF=eV.MH(n.add.lmfx,n.add),P=kF[0],bM=kF[1],jW=n.add.SoLd;if(jW&&jW.filterFX){var fX=jW.filterFX.v;
if(fX.enab.v&&fX.filterFXList.v.length!=0)jW=null}if(n.vS()){var bX=a[_].children;if(!(bX.length==1&&bX[0].a.add.SoLd&&!F.Yz)){if(d&&n.getName().split("-").length==3){d.push({_S:n.getName(),Ef:0,sF:[]})}I(n,L,t,T);
if(A.length!=0)T.push("style=\""+A.join(";")+"\"");if(P){var ao=CSS.rt(P.Clr.v),en="f"+t.v0;t.v0++;t.nW.push(x(J)+"<filter id=\""+en+"\">");
t.nW.push(x(J+1)+"<feFlood flood-color=\""+ao+"\" flood-opacity=\""+Z(P.Opct.v.val/100,2)+"\" />");t.nW.push(x(J+1)+"<feBlend mode=\""+dB.S1[dB.s0.indexOf(dB.Aa(P.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
t.nW.push(x(J+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");t.nW.push(x(J)+"</filter>");
T.push("filter=\"url(#"+en+")\"")}var fK=e(T,M),bO=F.D$&&fK=="";if(!bO)t.nW.push(x(J)+"<g"+(fK==""?"":" "+fK)+">");
w(R,t,bX,J+1,F,h);if(!bO)t.nW.push(x(J)+"</g>")}}else if(n.sI()&&L==null){s(R,A,n.add,t,B,F);if(A.length!=0)T.push("style=\""+A.join(";")+"\"");
t.nW.push(x(J)+"<rect width=\""+B.m+"\" height=\""+B.i+"\" "+e(T,M)+"/>")}else if(L&&jW==null){var b9=v.o.wV(L.Y,null,!0),bK,f0=null,hn=0,hX;
s(R,A,n.add,t,b9,F);g(A,t,M);if(p.length!=0){bK=p[0].v;f0=bK.keyOriginType;if(f0)f0=f0.v;if(f0==2){var gR=v.dr.D6(bK);
hn=gR[0];for(var S=0;S<3;S++)if(hn!=gR[S+1])f0=null}}if(p.length==1&&f0==5&&Math.abs(v.dr.a9a(bK))<1e-4){var b9=v.dr.qS(bK),gU=(b9[0]+b9[2])/2,hq=(b9[1]+b9[3])/2,ip=gU-b9[0],aW=hq-b9[1],kN=Math.abs(ip-aW)<.01,hW=kN?"r=\""+Z(ip)+"\"":"rx=\""+Z(ip)+"\" ry=\""+Z(aW)+"\"";
hX="<"+(kN?"circle":"ellipse")+" "+e(T,M)+" cx=\""+Z(gU)+"\" cy=\""+Z(hq)+"\" "+hW+"/>"}else if(p.length==1&&f0==2&&hn!=0&&Math.abs(v.dr.a9a(bK))<1e-4){var b9=v.dr.qS(bK),jH=b9[0],g0=b9[1],gC=b9[2]-b9[0],jL=b9[3]-b9[1],jf="";
if(jH!=0)jf+=" x=\""+Z(jH)+"\"";if(g0!=0)jf+=" y=\""+Z(g0)+"\"";jf+=" width=\""+Z(gC)+"\"";jf+=" height=\""+Z(jL)+"\"";
jf+=" rx=\""+Z(hn)+"\"";hX="<rect "+e(T,M)+jf+"></rect>"}else{var cm=v.o.Gp(L.Y,1);if(cm.$g!=0){T.push("fill-rule=\"evenodd\"")}hX="<path "+e(T,M)+" d=\""+cm.gr+"\"/>"}t.nW.push(x(J)+hX);
if(d&&d[d.length-1]){var eh=v.A.ly(L.Y);eh.j=eh.j.map(Math.round);var bu=d[d.length-1];bu.Ef+=JSON.stringify(eh).length;
bu.sF.push([A[0].split("#").pop(),eh])}}else if(G&&F.aDm){c=F.D$?"":" ";var eJ=G.p$,eZ=new iS(eJ,h,G.wy),a0=null;
if(P)a0=CSS.rt(P.Clr.v);if(bM){var b9=n.rect.clone();z(bM,t,b9,F);a0="url(#g"+t.Lm+")"}if(a0)A.push("fill:"+c+a0);
k(n,A);var gZ=bQ.Xw(eZ,G,!0),bt=v.A.Kr(gZ);for(var dp in bt){var gb=A.slice(0),e_=M.slice(0),dO=T.slice(0);
if(a0==null){C(gb,dp.slice(0,7),0);if(dp.length>7){var dC=dp.slice(7).split("-");console.log(dC);C(gb,dC[1],1);
if(dC[2]!="1")gb.push("stroke-width:"+c+dC[2])}}g(gb,t,e_);var kc=bt[dp],dC=Typr.U.pathToSVG({crds:kc.j,cmds:kc.r},1);
t.nW.push(x(J)+"<path "+e(dO,e_)+(F.D$?"":" "+U(G))+" d=\""+dC+"\"/>")}}else if(G&&!F.aDh){var eJ=G.p$,ia=G.e.clone(),a0=null;
A.push("transform:"+c+l(ia));var hO=it.H5(eJ),eZ=new iS(eJ,h,G.wy);k(n,A);if(A.length!=0)T.push("style=\""+A.join(";")+"\"");
t.nW.push(x(J)+"<text "+e(T,M)+" >");if(P)a0=CSS.rt(P.Clr.v);if(bM){var b9=n.rect.clone();b9.x-=ia.IS;
b9.y-=ia.rk;z(bM,t,b9,F);a0=" url(#g"+t.Lm+")"}for(var S=0;S<eZ.a0.length;S++){var cj=eZ.a0[S];if(cj.Tl.length==1&&cj.Tl[0].aq)continue;
for(var bA=0;bA<cj.RV.length;bA++){var bg=cj.RV[bA],hq=cj.sZ.y+bg.sZ.y,cX=cj.Tl[bg.start].start,i4=cj.Tl[bg.end-1].end,fJ=it.a50(eJ,cX,i4),iu="";
for(var hV=0;hV<fJ.length;hV++){var f$=eZ.rF(cX),kg=fJ[hV],jy=it.tO(eJ,cX,cX),iM=jy.Xt[jy.Cr.Font].Name,dp=it.E5(jy.Cr.FillColor),hI=Math.round(jy.Cr.FontSize),cd=hO.slice(cX,cX+kg);
if(jy.Cr.FontCaps==2)cd=cd.toUpperCase();var jZ=new dT;jZ.translate(f$.qe.x,-hq);var hz=[];CSS.agS(hz,jy,null,!0,!0,a0);
var jv=g(hz,t,null,"t");jv=jv?" class=\""+jv+"\"":"";var gU=f$.qe.x,eI=Y(jy,cd);iu+="<tspan "+(hV==0?"x=\""+Z(f$.qe.x)+"\"":"")+" y=\""+Z(hq)+"\""+jv+eI+">"+O(cd)+"</tspan>";
cX+=kg}t.nW.push(x(J+1)+iu)}}t.nW.push(x(J)+"</text>")}else if(jW&&F.Yz&&P==null){var en=jW.Idnt.v,j2=0,fM=jW.Crop?jW.Crop.v:null;
if(t.Y5[en]!=null)j2=t.Y5[en];else{t.wY++;j2=t.wY;t.Y5[en]=t.wY;var gY=R.Zg(en,fM),jq="";if(gY==null)return;
var c4=gY.Ma,fI=fd.$Z(gY.raw.buffer);if(fI=="pdf"){var e1=new eb("h");fd.Ay("PDF").Pd(gY.raw.buffer,e1);
e1.zv();e1.L0();e1.W();e1.pM();if(jW.Crop&&jW.Crop.v==1){X.JH.Zw(e1,e1.root.yo(e1,!0))}var ir=fd.Ay("SVG").Cy(e1,e1.m,e1.i,null,{Sm:h});
jq="data:image/svg+xml;base64,"+fd.Ux(ir)}else if(fI=="jpg"||fI=="png"||fI=="gif"||fI=="svg"){var fy={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
jq="data:"+fy[fI]+";base64,"+fd.Ux(gY.raw.buffer)}else{jq=fd.pc(c4[0].buffer,c4[1].m,c4[1].i)}t.b5.push(x(2)+"<image width=\""+c4[1].m+"\" height=\""+c4[1].i+"\" id=\"img"+j2+"\" href=\""+jq+"\"/>")}var fO=v.D.s2(jW),kI=[];
I(n,L,t,kI);if(kI.length!=0)t.nW.push(x(J)+"<g "+e(kI,M)+">");if(A.length!=0)T.push("style=\""+A.join(";")+"\"");
var fF=e(T,M);t.nW.push(x(J)+"<use "+fF+" href=\"#img"+j2+"\" transform=\""+l(fO)+"\"/>");if(kI.length!=0)t.nW.push(x(J)+"</g>")}else if(!n.rect.Bb()&&(F.Yz||G)){if(A.length!=0)T.push("style=\""+A.join(";")+"\"");
var fF=e(T,M),d6=n.buffer;if(P)d6=eV.a04(d6,P,n.rect);var bn=n.rect;t.wY++;var jq=fd.pc(d6.buffer,bn.m,bn.i,"png",null,!0);
t.b5.push(x(2)+"<image "+U(G)+" width=\""+n.rect.m+"\" height=\""+n.rect.i+"\" id=\"img"+t.wY+"\" href=\""+jq+"\"/>");
t.nW.push(x(J)+"<use "+fF+" href=\"#img"+t.wY+"\" x=\""+bn.x+"\" y=\""+bn.y+"\"/>")}}if(D){J--;t.nW.push(x(J)+"</g>");
D=!1}}function Y(R,t){var a=R.Cr.Tracking,J="";if(a!=null&&a!=0){a=Math.round(a*R.Cr.FontSize/1e3);J=" dx=\"0";
for(var F=1;F<t.length;F++)J+=" "+a;J+="\" "}return J}function U(R){if(R==null)return"";var t=R.p$,a=it.H5(t);
a=O(a.slice(0,a.length-1));return"aria-label=\""+a+"\" "}function e(R,t){if(t.length!=0)R.push("class=\""+t.join(" ")+"\"");
return R.join(" ")}function O(R){return String(R).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function l(R){var t=[R.U,R.J,R.gp,R.x7,R.IS,R.rk];
for(var S=0;S<6;S++)t[S]=Z(t[S],3);return"matrix("+t.join(",")+")"}function I(R,t,a,J){if(t||R.add.artb){var F;
if(t)F=v.o.Gp(t.Y).gr;else{var h=R.ZB(),m=v.A.z$(h);F=Typr.U.pathToSVG({crds:m.j,cmds:m.r},1)}a.AA++;
J.push("clip-path=\"url(#cp"+a.AA+")\"");a.b5.push(x(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+a.AA+"\">");
a.b5.push(x(3)+"<path d=\""+F+"\"/>");a.b5.push(x(2)+"</clipPath>")}}function s(R,t,a,J,F,h){var m=a.vmsk,D=a.lmfx,_=[];
if(m&&m.ej!=0){var n=Z(m.ej);if(J.un[n]==null){J.v0++;J.un[n]=J.v0;J.b5.push(x(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+J.v0+"\"> <feGaussianBlur stdDeviation=\""+n+"\"/> </filter>")}_.push("url(#f"+J.un[n]+")")}if(D)for(var S=0;
S<bV.order.length;S++){var j=bV.order[S],T=bV.Fb[S],L=D[T].v;for(var p=0;p<L.length;p++){var E=L[p].v,G=E.classID;
if(!E.enab.v)continue;if(G=="OrGl"||G=="DrSh"){J.v0++;_.push("url(#f"+J.v0+")");var A=0,u=0,q=E.blur.v.val/2.4,o=E.Opct.v.val/100;
if(G=="DrSh"){var M=E.uglg&&E.uglg.v?R.ws():E.lagl.v.val;M=M*(Math.PI/180);var $=E.Dstn.v.val;A=-Math.cos(M)*$;
u=Math.sin(M)*$}if(G=="OrGl")o/=E.Inpr.v.val/100;var Q="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+J.v0+"\" >";
Q+="<feDropShadow dx=\""+A+"\" dy=\""+u+"\" stdDeviation=\""+q+"\" flood-color=\""+CSS.rt(E.Clr.v)+"\" flood-opacity=\""+Z(o)+"\"/>";
Q+="</filter>";J.b5.push(x(2)+Q)}}}if(_.length!=0)t.push("filter:"+c+_.join(" "));var kF=a.vstl;if(kF==null)kF=eb.arK(a);
for(var S=0;S<2;S++){var P=S==0?kF.A_:kF.n8;if(P==null){if(S==0)t.push("fill:"+c+"none")}else if(P.length==3)C(t,CSS.Yb({Z:P[0]*255,G:P[1]*255,J:P[2]*255}),S);
else{z(P,J,F,h);C(t,"url(#g"+J.Lm+")",S)}}if(kF.n8){var bM=kF.jf,jW=kF.T1,fX=kF.jW,bX=kF.b3,ao=kF.Pn;
if(bX==2){fX*=2;t.push("paint-order:stroke fill markers")}if(bM!=0)t.push("stroke-linecap:"+c+["butt","round","square"][bM]);
if(jW!=0)t.push("stroke-linejoin:"+c+["miter","round","bevel"][jW]);else if(kF.dL!=4)t.push("stroke-miterlimit:"+kF.dL);
if(fX!=1)t.push("stroke-width:"+c+Z(fX));if(ao.length!=0)t.push("stroke-dasharray:"+c+ao.join(","))}}function z(R,t,a,J){if(!(R instanceof Array))R=bW.va(R,a);
t.Lm++;var F=v.o.GP.Rect(a.x,a.y,a.m,a.i),h=R[0],m=(h==1?"radial":"linear")+"Gradient",D=x(2)+"<"+m+" id=\"g"+t.Lm+"\"",_="";
if(J.D$){if(t.Lm==1)t.b5.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");_=" href=\"#P\""}else _=" gradientUnits=\"userSpaceOnUse\"";
var n=bW.DA(R,F),j=[new aL(0,0),new aL(1,0)];for(var S=0;S<j.length;S++)j[S]=n.iC(j[S]);if(h==0)t.b5.push(D+" x1=\""+Z(j[0].x)+"\" y1=\""+Z(j[0].y)+"\" x2=\""+Z(j[1].x)+"\" y2=\""+Z(j[1].y)+"\""+_+">");
if(h==1)t.b5.push(D+" cx=\""+Z(j[0].x)+"\" cy=\""+Z(j[0].y)+"\" r=\""+Z(aL.Bg(j[0],j[1]))+"\""+_+">");
var T=R[1],L=J.D$?2:3;for(var S=0;S<T.length;S++){var p=T[S],E=p[0],G=p[1],A=p[2];A=A==1?"":" stop-opacity=\""+Z(A,L)+"\"";
var u=E==0&&J.D$?"":" offset=\""+Z(E,L)+"\"",q=CSS.Yb({Z:G[0]*255,G:G[1]*255,J:G[2]*255});q=J.D$&&q=="#000000"?"":" stop-color=\""+N(q)+"\"";
t.b5.push(x(3)+"<stop"+u+q+A+"/>")}t.b5.push(x(2)+"</"+m+">")}d_.gI=l;return r}();d_.GP=function(d,W,c,y,B){var r=[],x=d_.GP,Z=!1,i={Kp:d,fn:W,LS:[!0,!0,!0],gg:!1,yC:c,a5N:0};
i.wH=Math.round(Math.max(d,W)*(.02+x.kv(i)*.03));i.wn=x.abk(i);i.It=x.acK(i.wn,(x.kv(i)<.5?-1:1)*(.2+x.kv(i)*.3));
if(x.kv(i)<.5){var k=i.wn;i.wn=i.It;i.It=k}i.azv=x.kv(i)<.4&&x.anv(i.It,{Z:1,G:1,J:1})>.3;i.a0d=x.kv(i)<.5?0:1;
r.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+d+" "+W+"\" width=\""+d+"\" height=\""+W+"\">");
i.PD=y[Math.floor(x.vL(i)*y.length)];i.Qr=y[Math.floor(x.vL(i)*y.length)];r.push("<style>");r.push("@font-face {  font-family: "+i.PD[2]+";  src: url(rsrc/fonts/"+i.PD[5]+");  }");
r.push("@font-face {  font-family: "+i.Qr[2]+";  src: url(rsrc/fonts/"+i.Qr[5]+");  }");r.push("</style>");
var H=[0,0,d,W],V=H;if(B==null)r.push("<path style=\"fill: "+x.BG(i.wn)+"\" d=\""+x.Rect(H[0],H[1],H[2]-H[0],H[3]-H[1])+"\" id=\"Background\" />");
else{i.gg=!0;x.a9U(i,H,r,B)}if(x.kv(i)<.25&&!i.gg){i.LS[0]=i.LS[2]=!1;x.aDe(H,i,r);V=H}else if(x.kv(i)<.25||i.gg)V=H;
else{var g=.52+x.kv(i)*.2;if(x.kv(i)<.5)g=1-g;var N=H.slice(0),C=H.slice(0);if(x.kv(i)<.5)N[2]=C[0]=Math.round(g*d);
else N[3]=C[1]=Math.round(g*W);if(x.kv(i)<.5){var k=N;N=C;C=k}V=N;x.as8(i,C,r,B)}x.aCq(i,V,r);r.push("</svg>");
r=r.join("\n");var w=v.R(Math.round(r.length*1.5)),Y=K.wP(r,w,0);return[w.buffer.slice(0,Y),i.hl]};d_.GP.aDe=function(d,W,c){var y=d_.GP,B=d[2]-d[0],r=d[3]-d[1];
if(y.kv(W)<.5){c.push("<path id=\"Border\" style=\"fill: "+y.BG(W.It)+"\" d=\""+y.anb(d[0],d[1],d[2]-d[0],d[3]-d[1],W.wH)+"\" />")}else if(y.kv(W)<-.4){y.adm(W,d,c)}else{var x=y.kv(W)<.5?0:1,Z=(x==0?r:B)/4,i=y.O7(W,x,d,c,Z,!0),i=y.O7(W,x+2,d,c,Z,!0,i)}};
d_.GP.aCq=function(d,W,c){var y=d_.GP,B="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),r=2*Math.floor(y.kv(d)*B.length/2),x=W[2]-W[0],Z=W[3]-W[1],k=0,V=0;
d.Zr=(d.Kp+x)*.5*(.04+y.kv(d)*.05);d.Zr=Math.min(d.Zr,Z*.4,x*.12);d.Zr=Math.round(d.Zr);var i=Math.min(d.Zr*B[r].length*(.35+.3*y.kv(d)),x*.9),H=(W[1]+W[3])/2,g=v.K1(d.wn)<.85?{Z:1,G:1,J:1}:{Z:.1,G:.1,J:.1};
if(y.kv(d)<.25&&d.LS[0]){V=0;k=W[0]+d.wH}else if(y.kv(d)<.33&&d.LS[2]){V=2;k=W[2]-d.wH}else{V=1;k=(W[0]+W[2])/2}var N=g.Z==1?"0,0,0":"255,255,255",C=d.gg&&y.kv(d)<1;
if(C){var w=W[0],Y=x,U=H-d.Zr*1.1,e=d.Zr*2.2,O=.7;if(V==1&&y.kv(d)<.5){w=U=.2*Math.min(x,Z);Y=x-2*U;
e=Z-U-U}else if(y.kv(d)<.7){w=U=0;Y=x;e=Z;O=.25}c.push("<path id=\"Strip\" style=\"fill: rgb("+N+"); opacity: "+O+"\" d=\""+y.Rect(w,U,Y,e)+"\" />")}if(y.kv(d)<.4){var l=d.Zr*.07;
l*=1.5+y.kv(d)*1;if(V==-1&&x/Z<3&&!C){c.push("<path id=\"Bar-bottom\" style=\"fill: "+y.BG(g)+"\" d=\""+y.Rect(k-i/2,H+d.Zr*1.1-l/2,i,l)+"\" />");
c.push("<path id=\"Bar-top\"    style=\"fill: "+y.BG(g)+"\" d=\""+y.Rect(k-i/2,H-d.Zr*1.1-l/2,i,l)+"\" />")}if(V!=1){c.push("<path id=\"Bar\" style=\"fill: "+y.BG(g)+"\" d=\""+y.Rect(k-l/2,H-d.Zr*.8,l,d.Zr*.8*2)+"\" />");
k+=(V==0?1:-1)*d.Zr/3}}var I=d.Zr*.4;c.push(y.a8o(B[r+1],k,H+I*1.6,I,g,V,d.Qr));c.push(y.a8o(B[r],k,H+d.Zr*.04,d.Zr,g,V,d.PD))};
d_.GP.as8=function(d,W,c,y){var B=W[2]-W[0],r=W[3]-W[1],x=Math.max(B,r),Z=Math.min(B,r),i=d_.GP;if(x/Z<5&&!d.gg&&!1){i.a9U(d,W,c,y)}else if(i.kv(d)<0)c.push("<path style=\"fill: "+i.BG(d.It)+"\" d=\""+i.Rect(W[0],W[1],B,r)+"\" />");
else{var k=0;if(W[3]!=d.fn)k=0;if(W[2]!=d.Kp)k=3;if(W[0]!=0)k=1;if(W[1]!=0)k=2;var H=k+2&3;if(x/Z<3){var V=i.ay8(H),g=V[Math.round(i.kv(d)*(V.length-1))],N=g._S.slice(0,4),C=N.indexOf(1);
g=JSON.parse(JSON.stringify(g));var w=-1;if(N!="0000"){var Y=new dT;if(g._S[5]=="0"){if(C==3&&k==1){w=1;
Y.scale(-1,1)}else w=C}else{var U=H;while(U==H)U=Math.floor(i.kv(d)*4)&3;Y.rotate((-C+U)*Math.PI/2)}i.e(g,Y)}var e=i.c7(g),O=B-2*d.wH,l=r-2*d.wH;
if(w!=-1){if((w&1)==0)l-=d.wH;else O-=d.wH}var I=Math.min(O/e.m,l/e.i),s=new dT;s.translate(-e.x,-e.y);
s.scale(I,I);var z=(B-e.m*I)/2,R=(r-e.i*I)/2;if(w!=-1){if(w==3)z=0;if(w==0)R=0;if(w==1)z=B-e.m*I;if(w==2)R=r-e.i*I}s.translate(W[0]+z,W[1]+R);
i.Q6(d,g,s,d.It,c)}else{i.O7(d,k,W,c,1e9)}}};d_.GP.a9U=function(d,W,c,y){var B=W[2]-W[0],r=W[3]-W[1],x=Math.max(B,r),Z=Math.min(B,r),i=d_.GP,k=i.vL(d),H,V,g,N=y[0]instanceof ArrayBuffer;
if(N){H="data:image/jpg;base64,"+bw.ki(y[0]);V=y[1];g=y[2]}else{var C=Math.floor(k*y.length),w=y[C];
d.hl=w;H=w.webformatURL;V=w.webformatWidth;g=w.webformatHeight}var Y=W[0],U=W[1],e=B,O=r;if(B/r>V/g){O=e*g/V;
U=U-(O-r)/2}else{e=O*V/g;Y=Y-(e-B)/2}if(N){c.push("<defs>");c.push("<image width=\""+V+"\" height=\""+g+"\" id=\"Background\" href=\""+H+"\" />");
c.push("</defs>");var l=e/V;c.push("<use href=\"#Background\" transform=\""+d_.gI(new dT(l,0,0,l,Y,U))+"\" />")}else{var I="cp"+Math.random();
c.push("<clipPath id=\""+I+"\">");c.push("<path style=\"fill: "+i.BG(d.It)+"\" d=\""+i.Rect(W[0],W[1],B,r)+"\" />");
c.push("</clipPath>");c.push("<image  clip-path=\"url(#"+I+")\" xlink:href=\""+H+"\" x=\""+Y+"\" y=\""+U+"\" width=\""+e+"\" height=\""+O+"\" />")}};
d_.GP.a8o=function(d,W,c,y,B,r,x){var Z=d_.GP;return"<text x=\""+W+"\" y=\""+c+"\" style=\"fill:"+Z.BG(B)+"; font-size:"+y+"px; text-anchor:"+["start","middle","end"][r]+"; font-family:"+x[2]+";\"><tspan>"+d+"</tspan></text>"};
d_.GP.Q6=function(d,W,c,y,B){var r=d_.GP,x=[];for(var S=0;S<W.sF.length;S++){x.push(y);if(d.azv){y=(S&1)==d.a0d?{Z:1,G:1,J:1}:x[0]}}B.push("<g id=\""+W._S.split("-")[2]+":::\" style=\"transform: "+d_.gI(c)+";\" >");
for(var S=0;S<W.sF.length;S++){var Z=W.sF[S];y=x.pop();B.push("<path style=\"fill: "+(y?r.BG(y):"#"+Z[0])+"\" d=\""+Typr.U.pathToSVG({crds:Z[1].j,cmds:Z[1].r})+"\" />")}B.push("</g>")};
d_.GP.adm=function(d,W,c){var y=d_.GP,B=d_.GP.pg,r=[];for(var S=0;S<B.length;S++){var x=B[S],Z=x._S.slice(0,4);
if(Z!="1001")continue;r.push(x)}var x=r[Math.floor(y.kv(d)*r.length)];if(y.kv(d)<.5)y.e(x,new dT(0,1,1,0,0,0));
var i=W[3]-W[1],k=W[2]-W[0],H=y.c7(x),V=.7*Math.min(k,i,.5*Math.max(k,i))/Math.max(H.m,H.i),g=new dT;
g.scale(V,V);if(y.kv(d)<.5){g.scale(1,-1);g.translate(0,i)}y.Q6(d,x,g,d.It,c);g.rotate(Math.PI);g.translate(k,i);
y.Q6(d,x,g,d.It,c)};d_.GP.ay8=function(d){var W=d_.GP.pg,c=[];for(var S=0;S<W.length;S++){var y=W[S],B=y._S.slice(0,4);
if(B=="0000"){c.push(y);continue}if(["1000","0100","0010","0001"].indexOf(B)==-1)continue;var r=B.indexOf("1");
if(y._S[5]=="0"&&d==r&&r!=3)continue;c.push(y)}return c};d_.GP.O7=function(d,W,c,y,B,r,x){var Z=d_.GP.pg,i=d_.GP,k=[],e,O;
for(var S=0;S<Z.length;S++){var H=Z[S],V=H._S.slice(0,4);if(["1110","1101","1011","0111"].indexOf(V)==-1)continue;
var g=V.indexOf("0")+2&3;if(H._S[5]=="0")if(r==!0||W!=g&&!(W==1&&g==3))continue;k.push(H)}var N=x!=null?x:Math.floor(i.kv(d)*k.length),H=k[N],H=JSON.parse(JSON.stringify(H)),V=H._S.slice(0,4),g=V.indexOf("0")+2&3;
if(g==3&&W==1)v.e(H,new dT(1,0,0,-1,0,1e3));var C=new dT;C.translate(-500,-500);C.rotate(-g*Math.PI/2);
C.translate(500,500);i.e(H,C);var w=c[3]-c[1],Y=c[2]-c[0],U=i.c7(H);if(U.y<0){U.i+=U.y;U.y=0}if(U.y>0){U.i+=U.y;
U.y=0}if((W&1)==0){O=w;e=Y}else{e=w;O=Y}var l=Math.min(Math.min(.5+.5*i.kv(d))*Math.min(Y,w),B)/U.i,I=Math.ceil(e/(1e3*l)),s=new dT,z=new dT;
z.scale(l,l);if(W==0||W==2){z.translate(-(Y/2),-(w/2));z.rotate(-W*Math.PI/2);z.translate(Y/2+c[0],w/2+c[1])}else{z.rotate(Math.PI/2);
z.scale(1,-1);z.translate(c[0],c[1]);if(W==1){z.scale(-1,1);z.translate(Y,0)}}y.push("<g id=\"Border-"+["top","right","bottom","left"][W]+":::\">");
for(var S=0;S<I;S++){var R=s.clone();R.concat(z);i.Q6(d,H,R,d.It,y);s.translate(1e3-2,0)}y.push("</g>");
return N};d_.GP.Rect=function(d,W,c,y){return Typr.U.pathToSVG({crds:[d,W,d+c,W,d+c,W+y,d,W+y],cmds:["M","L","L","L","Z"]})};
d_.GP.anb=function(d,W,c,y,B){var r=[d,W,d+c,W,d+c,W+y,d,W+y];d+=B;W+=B;c-=2*B;y-=2*B;r.push(d,W,d,W+y,d+c,W+y,d+c,W);
return Typr.U.pathToSVG({crds:r,cmds:"M L L L Z M L L L Z".split(" ")})};d_.GP.acK=function(d,W){var c=v.p8(d.Z,d.G,d.J);
c.vh=Math.max(.1,Math.min(.9,c.vh+W));return v.Ml(c.fn,c.Td,c.vh)};d_.GP.ade=function(d,W){var c=v.p8(d.Z,d.G,d.J);
c.fn+=W;return v.Ml(c.fn,c.Td,c.vh)};d_.GP.aho=function(d){var W=v.p8(d.Z,d.G,d.J);W.vh=1-W.vh;return v.Ml(W.fn,W.Td,W.vh)};
d_.GP.anv=function(d,W){var c=d.Z-W.Z,y=d.G-W.G,B=d.J-W.J;return Math.sqrt(c*c+y*y+B*B)};d_.GP.abk=function(d){var W=d_.GP;
return{Z:W.kv(d),G:W.kv(d),J:W.kv(d)}};d_.GP.BG=function(d){return CSS.Yb({Z:d.Z*255,G:d.G*255,J:d.J*255})};
d_.GP.c7=function(d){var W=d.sF,c=new a8;for(var S=0;S<W.length;S++)c=c.hB(v.A.c7(W[S][1].j));return c};
d_.GP.e=function(d,W){var c=d.sF;for(var S=0;S<c.length;S++)v.A.e(c[S][1].j,W,c[S][1].j)};d_.GP.kv=function(d){d.a5N++;
var W=d.a5N&3;if(W==0)d.yC=d_.GP.mH(d.yC);var c=d.yC>>>8*W&255;return c*(.99999999/255)};d_.GP.vL=function(d){var W=d_.GP.mH(d.yC);
d.yC=d_.GP.mH(W);return W*(1/4294967295)};d_.GP.mH=function(d){d=(d^61^d>>>16)>>>0;d=d+(d<<3)>>>0;d=(d^d>>>4)>>>0;
d=d*668265261>>>0;d=(d^d>>>15)>>>0;return d};d_.GP.pg=[{_S:"0001-0-bird",sF:[["4b3c34",{r:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),j:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{r:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),j:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{r:"M C C C C C C C C C C C C L Z".split(" "),j:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{_S:"0001-0-bird2",sF:[["ff7f2a",{r:"M L L L Z M L L L Z".split(" "),j:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{r:"M C C C C C C C C C C C L Z".split(" "),j:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{r:"M C C C C C C L Z M C C Z".split(" "),j:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{r:"M L L L Z M L L L Z".split(" "),j:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{r:"M L C C C C C C C C L Z".split(" "),j:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{r:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),j:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{_S:"0000-1-flower",sF:[["7a59a2",{r:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),j:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{_S:"0000-1-flower",sF:[["d13777",{r:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),j:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{_S:"0000-1-flower",sF:[["ffac42",{r:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),j:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{_S:"0000-1-flower",sF:[["d04040",{r:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{_S:"0000-1-flower",sF:[["ec7272",{r:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),j:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{r:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),j:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{_S:"0000-0-hearts",sF:[["d17070",{r:"M C C C C C C C C C L Z".split(" "),j:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{r:"M C C C C C C C C C L Z".split(" "),j:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{r:"M C C C C C C C C C L Z".split(" "),j:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{_S:"0000-0-anchor",sF:[["2a3b66",{r:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),j:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{_S:"0000-1-leaf",sF:[["fbb600",{r:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),j:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{_S:"0000-1-acorn",sF:[["a05a2c",{r:"M C C C C C C C L Z".split(" "),j:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{r:"M C C C C C C C C C C C Z".split(" "),j:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{_S:"0000-0-skull",sF:[["808080",{r:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),j:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{_S:"0000-0-ghost",sF:[["e6e6e6",{r:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),j:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{r:"M C C C C Z M C C C C Z".split(" "),j:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{_S:"1001-1-rose",sF:[["9e1460",{r:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),j:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{r:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),j:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{_S:"1001-1-curls",sF:[["53a7ab",{r:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{r:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),j:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{_S:"0111-0-pines",sF:[["e9e9e9",{r:"M C C C C C C C C L L L Z".split(" "),j:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{r:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),j:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{_S:"0111-0-flowers",sF:[["8cae40",{r:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),j:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{r:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),j:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{_S:"1101-1-confetti",sF:[["e789ff",{r:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{r:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{_S:"1101-1-branch",sF:[["7f500b",{r:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),j:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{r:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{_S:"1101-1-sticks",sF:[["ec7272",{r:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{r:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{_S:"1101-1-dots",sF:[["ec7272",{r:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{r:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),j:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{r:["M","C","C","Z"],j:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{_S:"1101-1-strips",sF:[["ffc88c",{r:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{r:"M L L L L Z M L L L L Z M L L L L Z".split(" "),j:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{r:["M","C","C","Z"],j:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{_S:"1101-1-circs",sF:[["ec7272",{r:"M C C C C Z M C C C C Z".split(" "),j:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{r:"M C C C C Z M C C C C Z".split(" "),j:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{r:["M","C","C","Z"],j:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{_S:"1101-1-squares",sF:[["014ea7",{r:"M L L L L Z M L L L L Z".split(" "),j:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{r:"M L L L L Z M L L L L Z".split(" "),j:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{r:["M","C","C","Z"],j:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{_S:"1101-0-christmas",sF:[["014ea7",{r:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{r:"M C C C C Z M C C C C Z M L L L L Z".split(" "),j:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var fp={};fp.parse=function(d){var W=new Uint8Array(d),c=null;if(W[0]==80&&W[1]==75){var y=Date.now(),B=UZIP.parse(W.buffer),c=B["document.json"];
c=JSON.parse(K.uw(c,0,c.length));fp.Yg(c,B)}else{var r=af.parse(d);c=fp.a7J(r[2][0][1])}return c};fp.Yg=function(d,W){var c=typeof d;
if(c=="string"||c=="number"||c=="boolean"||d==null)return d;if(d instanceof Array){for(var S=0;S<d.length;
S++)d[S]=fp.Yg(d[S],W);return d}var y=d._class;if(y==null)return d;if(y=="MSJSONFileReference"){var B=d._ref;
if(!1){}else if(W[B+".json"]!=null){var r=W[B+".json"],x=r.length;for(var S=0;S<x;S++)if(r[S]==11||r[S]==3)r[S]=32;
var Z=K.uw(r,0,x);d=JSON.parse(Z)}else if(W[B+".png"]!=null)return{key:B.split("/").pop(),bdata:W[B+".png"]};
else if(W[B+".jpg"]!=null)return{key:B.split("/").pop(),bdata:W[B+".jpg"]};else if(W[B+".pdf"]!=null)return{key:B.split("/").pop(),bdata:W[B+".pdf"]};
else if(W[B]!=null)return{key:B.split("/").pop(),bdata:W[B]};else{console.log(d,W);return}}else if(y=="MSAttributedString"){var Z=atob(d.archivedAttributedString._archive),i=Z.length,k=new Uint8Array(i);
for(var S=0;S<i;S++)k[S]=Z.charCodeAt(S);d.archivedAttributedString=fp.a7J(k)}for(var H in d)d[H]=fp.Yg(d[H],W);
return d};fp.a9B=function(d,W,c,y){if(d instanceof Uint8Array)return null;if(y.indexOf(d)!=-1)return null;
y.push(d);if(d==W)return c;for(var B in d){c.push(B);var r=fp.a9B(d[B],W,c,y);if(r){console.log(d,r);
throw"e"}c.pop()}};fp.a7J=function(d){var W=b0.parse(d,0),c=W.$objects,y=new Uint8Array(c.length),B=fp.Rj(c,y,W.$top.root);
for(var S=0;S<c.length;S++)if(y[S]==0&&S!=0){console.log(S,c[S]);fp.a9B(B,S,[],[])}for(var S=0;S<c.length;
S++){var r=c[S];if(r._class&&(r._class=="bitmap"||r._class=="fill"&&r.fillType==4&&(r.image||r.imageSHA))){var x=r.image,Z=r.imageSHA,i=null,k=null;
if(x=="$null")x=null;if(Z=="$null")Z=null;if(x&&x.data){k=x.sha1["NS.bytes"];k=btoa(K.xA(k,0,k.length));
i=x.data instanceof Uint8Array?x.data:x.data["NS.bytes"]}else if(x==null&&Z==null){var H=fd.Ay("PNG").Cy([[v.R(4).buffer]],1,1);
i=new Uint8Array(H)}else{var V=(B.assets?B.assets.imageCollection:B.images).images;if(Z)k=Z instanceof Uint8Array?Z:Z["NS.bytes"];
else k=x.sha1["NS.bytes"];k=btoa(K.xA(k,0,k.length));var i=V[k].data;if(i["NS.bytes"])i=i["NS.bytes"]}i=new Uint8Array(i.buffer.slice(i.byteOffset,i.byteOffset+i.length));
delete r.imageSHA;r.image={key:k,bdata:i}}}return B};fp.a8M=function(d){return d.slice(0,11)=="MSImmutable"?"MS"+d.slice(11):d};
fp.Rj=function(d,W,c){var y=d[c];if(W[c]==1){return y}W[c]=1;if(typeof y=="string")return y;if(typeof y=="number")return y;
if(typeof y=="boolean")return y;if(y instanceof Array)return y;if(y instanceof Uint8Array){return y}if(d[y.$class]==null){if(y.$class==null&&y["NS.data"]!=null)return y;
console.log(c,y);throw"e"}var B=d[y.$class],r=fp.a8M(B.$classname);W[y.$class]=1;y.$class=r;if(fp.akh[r]){delete y.$class;
y._class=fp.akh[r]}var x=fp.Rj;if(r=="NSMutableArray"||r=="NSArray"){var Z=[];if(y["NS.objects"]!=null)for(var S=0;
S<y["NS.objects"].length;S++)Z.push(x(d,W,y["NS.objects"][S]));else for(var S=0;y["NS.object."+S]!=null;
S++)Z.push(x(d,W,y["NS.object."+S]));d[c]=Z;return Z}if(r=="NSDictionary"||r=="NSMutableDictionary"){var i={$class:r};
if(y["NS.keys"]!=null)for(var S=0;S<y["NS.keys"].length;S++){var k=x(d,W,y["NS.keys"][S]);if(k instanceof Uint8Array)k=btoa(fp.Vk.xA(k,0,k.length));
else if(typeof k!="string"&&typeof k!="number")k=btoa(fp.Vk.xA(k["NS.bytes"],0,k["NS.bytes"].length));
i[k]=x(d,W,y["NS.objects"][S])}else for(var S=0;y["NS.key."+S]!=null;S++){var k=x(d,W,y["NS.key."+S]);
if(k instanceof Uint8Array)k=btoa(fp.Vk.xA(k,0,k.length));else if(typeof k!="string"&&typeof k!="number")k=btoa(fp.Vk.xA(k["NS.bytes"],0,k["NS.bytes"].length));
i[k]=x(d,W,y["NS.object."+S])}for(var H in y)delete y[H];for(var H in i)y[H]=i[H];return y}if(r=="NSURL")return{$class:r,base:x(d,W,y["NS.base"]),relative:x(d,W,y["NS.relative"])};
if(fp.aC0.indexOf(r)!=-1){d[c]=x(d,W,y.array_do);return d[c]}if(y.do_objectID!=null)y.do_objectID=x(d,W,y.do_objectID);
if(fp.asf.indexOf(r)!=-1)return y;var V=fp.adx[r];if(V==null){console.log(d,y);throw"unknown class "+r}for(var S=0;
S<V.length;S++)if(y[V[S]]!=null)y[V[S]]=x(d,W,y[V[S]]);if(r=="MSTextLayer"){var g=y,N,C,w,Y;if(g.attributedString)N=g.attributedString.archivedAttributedString;
else N=g.storage;Y=N.NSString;if(typeof Y!="string")Y=K.uw(Y["NS.bytes"],0,Y["NS.bytes"].length);if(N.NSAttributeInfo)C=N.NSAttributeInfo["NS.bytes"];
else{var U=Y.length,e=[];while(U>0){var O=Math.min(100,U);e.push(O,0);U-=O}C=new Uint8Array(e)}w=N.NSAttributes instanceof Array?N.NSAttributes:[N.NSAttributes];
var l={$class:"NSAttributedString",NSString:Y,NSAttributes:w};g.attributedString={_class:"MSAttributedString",archivedAttributedString:l};
l.NSAttributeInfo={$class:"NSMutableData","NS.data":C};delete g.storage}return y};fp.Vk={Ou:function(d,W){return d[W+1]<<8|d[W]},q:function(d,W){return d[W+3]<<24|d[W+2]<<16|d[W+1]<<8|d[W]},xA:function(d,W,c){var y="";
for(var S=0;S<c;S++)y+=String.fromCharCode(d[W+S]);return y}};fp.akh={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
fp.aC0=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
fp.asf="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
fp.adx={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var b0={};b0.parse=function(d,W){var c=K.xA(d,W,8);W+=8;var y=d.length-32,B=b0.parse.afS(d,y),r=[];if(B.TR==1){var W=y-B.TR*B.LZ;
for(var S=0;S<B.LZ;S++)r.push(d[W+S])}else if(B.TR==2){var W=y-B.TR*B.LZ;for(var S=0;S<B.LZ;S++)r.push(K.Ou(d,W+S*2))}else if(B.TR==4){var W=y-B.TR*B.LZ;
for(var S=0;S<B.LZ;S++)r.push(K.q(d,W+S*4))}else{throw"e"}var x=b0.parse.Rj(d,r,B.root,B);return x};
b0.parse.Rj=function(d,W,c,y){var B=b0.Vk,r=y.aoP,x=r==4?B.q:r==2?B.Ou:B.aoo,Z=b0.parse,i=W[c],k=d[i],H=k>>4,V=k&15,N=null;
i+=1;if([4,5,6,10,12,13].indexOf(H)!=-1&&V==15){var g=Z.OC(d,i);i+=g.Ef;V=g.b}if(!1){}else if(H==0)N=V==8?!1:V==9?!0:null;
else if(H==1)N=Z.OC(d,i-1).b;else if(H==2)N=1<<V==4?K.cb(d,i):K.zZ(d,i);else if(H==3)N=K.zZ(d,i);else if(H==4)N=new Uint8Array(d.buffer,i,V);
else if(H==5)N=K.xA(d,i,V);else if(H==6)N=K.qT(d,i,V);else if(H==8){N=0;for(var S=0;S<V+1;S++)N=N<<8|d[i+S]}else if(H==10){N=[];
for(var S=0;S<V;S++)N.push(Z.Rj(d,W,x(d,i+r*S),y))}else if(H==12){N=[];for(var S=0;S<V;S++)N.push(Z.Rj(d,W,x(d,i+r*S),y))}else if(H==13){N={};
for(var S=0;S<V;S++){var C=Z.Rj(d,W,x(d,i+r*S),y),w=Z.Rj(d,W,x(d,i+r*(V+S)),y);N[C]=w}}else throw"unknown mask "+H;
return N};b0.parse.OC=function(d,W){var c=1<<(d[W]&15),y=0;for(var S=0;S<c;S++)y=y<<8|d[W+1+S];return{b:y,Ef:c+1}};
b0.parse.afS=function(d,W){var c={};W+=6;c.TR=d[W];W++;c.aoP=d[W];W++;W+=4;c.LZ=K.q(d,W);W+=4;W+=4;c.root=K.q(d,W);
W+=4;W+=4;c.a4O=K.q(d,W);W+=4;return c};b0.Vk={aoo:function(d,W){return d[W]},Ou:function(d,W){return d[W]<<8|d[W+1]},q:function(d,W){return d[W]<<24|d[W+1]<<16|d[W+2]<<8|d[W+3]},xA:function(d,W,c){var y="";
for(var S=0;S<c;S++)y+=String.fromCharCode(d[W+S]);return y}};var af={parse:function(d){var W=new Uint8Array(d),c=af.y9(W),y=[],B=new Uint8Array(W.length),r=[];
y.push(r);af.qA(W,c,1,B,r);for(var S=0;S<r.length;S++){var x=[];y.push(x);af.qA(W,c,r[S][3],B,x,S==11);
r[S][3]=S+1}return y},qA:function(d,W,c,y,B,r){c--;var x=c*W.eB+(c==0?100:0),Z=d[x],i=af.Ou(d,x+1),k=af.Ou(d,x+3),H=af.Ou(d,x+5),g=0;
if(H==0)H=65536;var V=d[x+7];x+=8;if(Z==2||Z==5){g=af.q(d,x);x+=4}for(var N=0;N<k;N++){var C=c*W.eB+af.Ou(d,x+2*N),w=-1,Y=0,U=0,e=0;
if(Z==2||Z==5){w=af.q(d,C);C+=4}if(Z==2||Z==10||Z==13){Y=af.Cx(d,C);C+=Y.Ef}if(Z==5||Z==13){U=af.Cx(d,C);
C+=U.Ef}if(Z==2||Z==5){af.qA(d,W,w,y,B,r);continue}var O=W.eB-(c==0?100:0),l=Y.Za,I=Z==13?O-35:Math.floor((O-12)*64/255)-23,s=Math.floor((O-12)*32/255)-23,z=s+(l-s)%(O-4);
if(l<=I){af.PY(d,C,y,0,l)}else{var R=z<=I?z:s,t=0;af.PY(d,C,y,0,R);t+=R;e=af.q(d,C+R);while(e!=0){var a=(e-1)*W.eB;
e=af.q(d,a);var J=Math.min(W.eB-4,l-t);af.PY(d,a+4,y,t,J);t+=J}}B.push(af.apQ(y,l))}if(g!=0)af.qA(d,W,g,y,B,r)},apQ:function(d,W){var c=0,y=af.Cx(d,c);
c+=y.Ef;var B=[],r=[];while(c<y.Za){var x=af.Cx(d,c);c+=x.Ef;B.push(x.Za)}if(c!=y.Za)throw"e";for(var S=0;
S<B.length;S++){var x=B[S];if(!1){}else if(x==0)r.push(null);else if(x==1){r.push(af.a9q(d,c));c+=1}else if(x==2){r.push(af.JS(d,c));
c+=2}else if(x==3){r.push(af.acB(d,c));c+=3}else if(x==4){r.push(af.OC(d,c));c+=4}else if(x==5){r.push(af.q(d,c+2));
c+=6}else if(x==6){r.push(af.q(d,c)+":"+af.q(d,c+4));c+=8}else if(x==7){r.push(af.anq(d,c));c+=8}else if(x==8)r.push(0);
else if(x==9)r.push(1);else if(x>=12&&(x&1)==0){var Z=x-12>>1,i=new Uint8Array(Z);af.PY(d,c,i,0,Z);r.push(i);
c+=Z}else if(x>=13&&(x&1)==1){var Z=x-13>>1;r.push(af.uw(d,c,Z));c+=Z}else throw"unknonw type "+x}return r},y9:function(d){if(!(d[18]==1&&d[19]==1&&d[20]==0&&d[21]==64&&d[22]==32&&d[23]==32))throw"unexpected SQL3 header";
var W={hU:af.xA(d,0,15),eB:af.Ou(d,16),auY:af.q(d,24),size:af.q(d,28),ajA:af.q(d,32),a0N:af.q(d,36),aAx:af.q(d,40),aqc:af.q(d,44),atS:af.q(d,48),af$:af.q(d,52),atN:af.q(d,56),apH:af.q(d,60),a1P:af.q(d,64)!=0,amq:af.q(d,68),aq5:af.q(d,92),a9y:af.q(d,96)};
if(W.eB==1)W.eB=65536;if(W.atN!=1)throw"unsupported text encoding "+W.atN;return W},axa:function(d,W){return d[W]<<16|d[W+1]<<8|d[W+2]},acB:function(d,W){var c=af.axa(d,W),y=c&8388608;
return y?-(16777215-c+1):c},a9q:function(d,W){af.EM[0]=d[W];return af.aa2[0]},OC:function(d,W){var c=af.EM;
for(var S=0;S<4;S++)c[S]=d[W+3-S];return af.amM[0]},JS:function(d,W){var c=af.EM;c[0]=d[W+1];c[1]=d[W];
return af.adV[0]},Ou:function(d,W){return d[W]<<8|d[W+1]},q:function(d,W){var c=af.EM;for(var S=0;S<4;
S++)c[S]=d[W+3-S];return af.aC7[0]},anq:function(d,W){var c=af.EM;for(var S=0;S<8;S++)c[S]=d[W+7-S];
return af.aql[0]},Cx:function(d,W){var c=W,bd=0;while(!0){var y=d[W];W++;bd=bd*128+(y&127);if(y<128)break}return{Za:bd,Ef:W-c}},xA:function(d,W,c){var y="";
for(var S=0;S<c;S++)y+=String.fromCharCode(d[W+S]);return y},uw:function(d,W,c){var y="";for(var S=0;
S<c;S++)y+="%"+af.asS(d[W+S].toString(16));try{y=decodeURIComponent(y);return y}catch(jj){return y}},PY:function(d,W,c,y,B){if(d[W+B-1]==null||c[y+B-1]==null){console.log(W,y,B);
throw"e"}for(var S=0;S<B;S++)c[y+S]=d[W+S]},asS:function(bd){return bd.length<2?"0"+bd:bd}};af.EM=new Uint8Array(8);
af.aa2=new Int8Array(af.EM.buffer);af.adV=new Int16Array(af.EM.buffer);af.amM=new Int32Array(af.EM.buffer);
af.aC7=new Uint32Array(af.EM.buffer);af.aql=new Float64Array(af.EM.buffer);af.ana=function(d,W){var c=d[0],y={};
for(var S=0;S<c.length;S++){var B=c[S],r=B[1];if(B[0]!="table")continue;var x=B[4];x=x.slice(x.indexOf("(")+1,x.indexOf(")"));
x=x.split(",");for(var Z=0;Z<x.length;Z++){var i=x[Z].trim().split(" ")[0];if(W&&i.startsWith(r))i=i.slice(r.length);
x[Z]=i}var k=y[r]=[],H=d[B[3]];for(var Z=0;Z<H.length;Z++){var V=H[Z],g={};k.push(g);for(var N=0;N<x.length;
N++){if(g[x[N]]!=null)throw"e";g[x[N]]=V[N]}}}return y};function jg(d,W,c){this.J8=d;this.Dv=W;this.au_=c;
this.s$=new aL(0,0);this.nx=-1;this.sM=0;this.f6=0;this.NE=new a8;this.Wk=[];this.Wp=null;this.avF=null;
this.zU=null;this.nY=null;this.fd=null;this.a7L=null}jg.prototype.StartPage=function(d,W,c,y,B){var r=this.Dv,x=r.dV(),Z=1,i=(c-d)*(y-W);
if(B!=null)i=B;while(i*x*x/(Z*Z)>2*8192*8192)Z++;r.scale(1/Z,1/Z);this.avF=[d,W,c,y];var Z=r.dV();d=Math.round(d*Z);
W=Math.round(W*Z);c=Math.round(c*Z);y=Math.round(y*Z);var k=this.J8,H=this.zU;if(H==null){r.IS=-d}else{var V=H[2]-H[0]+30,g=Math.round(c-d)+30;
if(this.s$.x+V+g>8192){r.IS=-d;this.s$.x=0;this.s$.y+=this.f6+120;this.f6=0}else{r.IS+=V;this.s$.x+=V}}r.rk=this.s$.y+(this.au_?y:-W);
this.f6=Math.max(this.f6,Math.round(y-W));this.zU=[d,W,c,y];this.aj2=[];k.B.push(k.b7())};jg.prototype.StartTGroup=function(d){this.m8();
var W=this.J8;W.B.push(W.b7());var c=jg.LG[d.bmode];if(c==null)c="norm";var y=W.jb();y.AP("<Group>");
y.add.lsct=aG.ED;y.E9=c=="norm"?"pass":c;y.xy=24;y.opacity=Math.round(255*d.ca);this.aj2.push(y)};jg.prototype.EndTGroup=function(){this.J8.B.push(this.aj2.pop())};
jg.prototype.ayH=function(){var d=this.J8,W=d.B[d.B.length-1];return W};jg.prototype.a8r=function(){var d=this.J8,W=d.jb();
W.AP("Path "+d.B.length);this.J8.B.push(W);W.xy|=16;W.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:0,G:0,J:0})}};
W.add.vmsk=new e8.vw;W.add.vstk=bV._M.qw();return W};jg.prototype.tE=function(d){var W={j:d.crds,r:d.cmds},c=v.A.fI(W,!1);
v.o.hn(c,this.Dv);return c};jg.ahk=function(d,W){for(var S=0;S<d.length;S++)if(d[S].p5!=null)d[S].p5=W};
jg.vW=function(d){return v.L.FV({Z:d[0]*255,G:d[1]*255,J:d[2]*255})};jg.uf=function(d){return new dT(d[0],d[1],d[2],d[3],d[4],d[5])};
jg.prototype.Stroke=function(d){if(this.nx!=-1&&this.nx!=this.sM)return;if(d.pth.cmds.length<=1)return;
var W=this.tE(d.pth),x=null;if(W.length<=2)return;this.km(d);jg.ahk(W,-1);W[2].p5=1;var c=this.ayH(),y=bV._M.qw(null,!0),B=d.ctm,r={};
jg.axj(r,d);bV._M.write(y,r,Math.sqrt(Math.abs(B[0]*B[3]-B[1]*B[2]))*this.Dv.dV());if(!(d.COLR instanceof Array)){x=v.A.c7(d.pth.crds);
var Z=v.A.z$(x);v.A.e(Z.j,this.Dv,Z.j);x=v.A.c7(Z.j)}var i=jg.zL(d.COLR,this.Dv,x,W),k=["SoFi","GrFl","patternFill"].indexOf(i.type),H=[bV.Ak,bV.n1,bV.DX][k],V=y.strokeStyleContent.v={classID:bV._M.sy[k]};
for(var S=0;S<H.length;S++)V[H[S]]=i.b.v[H[S]];var g=c!=null&&c.add.vmsk!=null&&!c.vS(),N=g&&!c.add.vstk.fillEnabled.v&&JSON.stringify(y)==c.add.vsjs;
if(N){var C=c.add.vmsk.Y;for(var S=2;S<W.length;S++)C.push(W[S])}else{var w=g&&!c.add.vstk.strokeEnabled.v&&e8.vw.aA4(c.add.vmsk.Y,W,!0);
if(w){c.add.vstk=y;y.fillEnabled.v=!0}else{c=this.a8r();c.add.vmsk.Y=W;c.add.vstk=y;c.add.vsjs=JSON.stringify(y)}}};
jg.axj=function(d,W){d.jW=W.lwidth;d.dL=W.mlimit;d.Pn=W.dash.slice(0);d.wW=W.doff;d.T1=W.ljoin;d.jf=W.lcap;
d.b3=1};jg.ao7=function(d,W){W.lwidth=d.jW;W.mlimit=d.dL;W.doff=d.wW;W.ljoin=d.T1;W.lcap=d.jf;W.sal=d.b3;
W.dash=d.Pn.slice(0);if(W.dash.length==1&&W.dash[0]==0)W.dash=[]};jg.prototype.Fill=function(d,W){if(this.nx!=-1&&this.nx!=this.sM)return;
if(d.ca==0)return;var c=d.pth.cmds;if(c.length==0)return;if(c.length==2&&JSON.stringify(c)=="[\"M\",\"L\"]")return;
var y=v.A.c7(d.pth.crds),B=v.A.c7(d.cpth.crds);if(y.nK(B).Bb())return;var r=d.pth,x=UDOC.G.isBox(r,[y.x,y.y,y.x+y.m,y.y+y.i]),Z=d.cpth,i=UDOC.G.isBox(Z,[B.x,B.y,B.x+B.m,B.y+B.i]);
if(x&&i&&y.P()>B.P()*2){var k=y.nK(B),H=k.x,V=k.y,g=H+k.m,N=V+k.i;r={cmds:["M","L","L","L","Z"],crds:[H,V,g,V,g,N,H,N]};
y=k}else if(this.nY==null&&UDOC.G.isBox(r,[y.x,y.y,y.x+y.m,y.y+y.i])&&y.M_(B)){r=Z;y=B}else this.km(d);
var C=this.tE(r),w=v.A.z$(y);v.A.e(w.j,this.Dv,w.j);y=v.A.c7(w.j);var Y=jg.zL(d.colr,this.Dv,y,C),U=this.ayH(),e=U!=null&&U.opacity==Math.round(255*d.ca)&&U.add.vstk!=null&&!U.add.vstk.strokeEnabled.v&&U.add.SoCo&&Y.type=="SoFi"&&JSON.stringify(U.add.SoCo.Clr.v)==JSON.stringify(Y.b.v.Clr.v);
if(e){var O=!1;for(var S=0;S<C.length;S++){if(C[S].p5==0||C[S].p5==2)O=!0}if(O){var l=v.A.c7(v.o.Ls(U.add.vmsk.Y)),I=v.A.c7(v.o.Ls(C));
e=l.nK(I).Bb()}}if(e){var s=U.add.vmsk.Y;for(var S=2;S<C.length;S++)s.push(C[S])}else{U=this.a8r();delete U.add.SoCo;
U.add.vmsk.Y=e8.vw.Rl(C);jg.j$(d.colr,U,this.Dv,y,C);jg.ayv(d,U)}};jg.j$=function(d,W,c,y,B){var r=jg.zL(d,c,y,B),x=null,Z=null;
W.add.vstk.fillEnabled.v=!0;if(r.type=="SoFi"){x="SoCo";Z=bV.Ak}if(r.type=="GrFl"){x="GdFl";Z=bV.n1}if(r.type=="patternFill"){x="PtFl";
Z=bV.DX}if(x!=null){W.add[x]={classID:"null"};for(var S=0;S<Z.length;S++){var i=Z[S];W.add[x][i]=r.b.v[i]}if(x=="GdFl")W.add._fstl=r.A_}};
jg.prototype.km=function(d){var W=this.J8,c=d.cpth,y=c.cmds.join(""),B=c.crds,r=y+" "+B.join(","),x=UDOC.G.isBox(c,this.avF);
if(x&&this.nY==null)return;if(r==this.nY)return;this.m8();if(!x){this.nY=r;W.B.push(W.b7());var Z=W.jb();
Z.AP("Mask");Z.add.lsct=aG.tV;Z.E9="pass";Z.xy=24;var i=Z.add.vmsk=new e8.vw;i.Y=this.tE(d.cpth);if(UDOC.G.isBox(c)){this.fd=v.o.wV(i.Y);
this.fd.Lx(3,3)}else this.fd=null;this.a7L=Z}};jg.prototype.m8=function(){var d=this.J8;if(this.nY!=null){var W=d.B.length-1,S=W,c=!1;
while(S>=0&&d.B[S].add.lsct!=aG.Ni)S--;var y=this.fd;if(y){var B=new a8,r=W;while(r>S){B=d.B[r]._W(this.J8,!1,!0);
r--}c=y.M_(B)}if(c){this.Wk.splice(S,1);d.B.splice(S,1)}else{d.B.push(this.a7L)}this.nY=null}};jg.zL=function(d,W,c,y){var B,r,x;
if(d.length!=null){B="SoFi";var Z=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);r={t:"Objc",v:Z};r.v.Clr.v=jg.vW(d)}else{var i=jg.amC(d,W,c);
B="GrFl";r={t:"Objc",v:bW.xu(i,y)};x=i}return{type:B,b:r,A_:x}};jg.amC=function(d,W,c){var y=jg.uf(d.mat);
y.concat(W);var B=new aL(0,0),r=new aL(0,0),x=new aL,Z=d.crds,i=d.typ=="rad"?1:0;if(i==1){var k=.7;x.x=Z[0];
x.y=Z[1];B.x=Z[3];B.y=Z[4];r.x=B.x;r.y=B.y;r.x+=Z[5]}else{B.x=Z[0];B.y=Z[1];r.x=Z[2];r.y=Z[3];x.sq(B.x,B.y)}var H=bW.D8(i,y,c,B,r,x);
H[1]=JSON.parse(JSON.stringify(d.grad));return H};jg.prototype.PutText=function(d,W,c,y){var B=W.charCodeAt(0),N=null;
if(this.nx!=-1&&this.nx!=this.sM)return;if(W.length==0||W.length==1&&(B==0||B==8203))return;this.km(d);
var r=this.J8,x=d.font,Z=Math.round(255*d.ca);if(d.font.Tmode==3)Z=0;var i=jg.uf(d.ctm);i.concat(this.Dv);
var k=jg.uf(x.Tm);k.concat(i);var H=k.dV(),V=new dT(1/H,0,0,-1/H,0,0);V.concat(k);var g=x.Tfs*H,C=r.B.length-1;
while(C>=0&&r.B[C].add.TySh==null)C--;if(V.J*V.J+V.gp*V.gp<.001&&y==null&&C>=0&&r.B[C].add.TySh&&r.B[C].opacity==Z){var w=r.B[C],Y=this.Wk[C],U=w.add.TySh.e,e=(V.IS-Y.akO)/g,O=Math.abs(e),l=U.U==V.U&&U.J==V.J&&U.gp==V.gp&&U.x7==V.x7,I=V.rk-Y.jj,s=l&&Math.abs(I)<1e-5&&O<1;
if(s){N=w;if(e>.2&&[".",",","?",":","!"].indexOf(W)==-1){W=" "+W;c+=.5}}else if(l&&0<I&&I<g*1.7&&Y.a8F==g){N=w;
this.asC(Y);Y.jj=V.rk;Y.a7p=V.IS;W="\n"+W}}if(N==null){C=r.B.length;this.Wk[C]={o4:[],mT:0,akO:V.IS,jj:V.rk,a7p:V.IS,tn:"",a8F:g};
N=r.jb();r.B.push(N);N.add.lnsr="rend";N.add.TySh=it.De(0,0);N.add.TySh.e=V}var Y=this.Wk[C];Y.mT+=c*g;
Y.tn+=W;Y.akO=V.IS+c*g;var z=N.add.TySh.p$,R=it.H5(z);if(y){it.gF(z,1);var t=[0,0,Math.ceil(y[0]*H),Math.ceil(y[1]*H)];
it.r_(z,t)}var a=R.length-1,J=a+W.length;it.kL(z,a,W);if(this.Wp==null)this.Wp=it.tO(z,a,a);var F=this.Wp;
F.Cr.FontSize=Math.round(g);F.Cr.Tracking=Math.round(x.Tc*100);F.Cr.Underline=x.Tun==1;F.Cr.FillColor={Type:1,Values:[1,d.colr[0],d.colr[1],d.colr[2]]};
if(x.Tal!=null)F.a0.Justification=x.Tal;if(Y.o4.length!=0){F.Cr.AutoLeading=!1;F.Cr.Leading=Y.jj-Y.o4[Y.o4.length-1].y}var h=x.Tf;
h=h.replace(/#2B/g,"+");h=h.replace(/#2C/g,"-");h=h.split("+").pop();var m={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(m[h])h=m[h];it.nn(F,h);it.ml(z,a,J-1,F);N.Qt();N.opacity=Z};jg.prototype.asC=function(d){d.o4.push({Kp:d.mT,VQ:d.tn.slice(d.o4.length==0?0:1)+"\n",x:d.a7p,y:d.jj,Td:d.a8F});
d.mT=0;d.tn=""};jg.prototype.cX=function(d,W,c){return new Uint8Array(fd.Ay("PNG").Cy([[d.buffer,0]],W,c))};
jg.prototype.PutImage=function(d,W,c,y,B,r,x){if(this.nx!=-1&&this.nx!=this.sM)return;var Z=this.J8,i=d.font.Tmode;
if(i==7&&Z.B[Z.B.length-1].add.TySh){return}this.km(d);var k=jg.uf(d.ctm);k.concat(this.Dv);var H=new dT(1/c,0,0,-1/y,0,1);
H.concat(k);k=H;W=jg.aaW(W,c,y,r,!1);if(B)B=jg.aaW(B,c,y,x,!0);if(B==null){if(W.length==c*y*4)W=this.cX(W,c,y)}else{W=this.akm(W,c,y,r,!1);
B=this.akm(B,c,y,x,!0);var V=v.R(c*y);v.$P(B,V,0);v.nP(V,W,3);W=this.cX(W,c,y)}var g=Z.GC(W,"Bitmap",0,0),N=g.rect.clone();
N.x=N.y=0;var C=v.A.z$(N).j;v.A.e(C,k,C);g.add.SoLd.Trnf=X.X.oY(C);g.add.SoLd.nonAffineTransform=X.X.oY(C);
g.Hg(Z,!1);jg.ayv(d,g);Z.B.push(g)};jg.ayv=function(d,W){W.opacity=Math.round(255*d.ca);var c=jg.LG[d.bmode];
if(c==null)console.log("Unknown blend mode",c);else W.E9=c};jg.LG={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
jg.a9Y=function(d){if(d=="pass")d="norm";for(var W in jg.LG)if(jg.LG[W]==d)return W;return"/Normal"};
jg.aaW=function(d,W,c,y,B){var r=fd.$Z(d.buffer);if(r=="jpg"){try{d=new Uint8Array(fd.Ay("JPG").a4y(d.buffer))}catch(jj){d=new Uint8Array(W*c*4)}}else if(r=="jb2"){d=new Uint8Array(fd.Ay("JPG").Pd(d.buffer,y,B)[0].data)}else if(d.length!=W*c*4){var x=new Uint8Array(W*c*4),Z=Math.ceil(W/8),i=new Uint8Array(c*Z);
UTIF.decode._decodeG4(d,0,d.length,i,0,W,1);var k=i[0]==(B?255:0);for(var H=0;H<c;H++){var V=Z*H;for(var g=0;
g<W;g++){var S=H*W+g,N=S*4,C=(i[V+(g>>3)]>>7-(g&7)&1)*255;if(k)C=255-C;x[N]=C;x[N+1]=C;x[N+2]=C;x[N+3]=255}}d=x}return d};
jg.prototype.akm=function(d,W,c,y,B){if(d.length!=W*c*4){var r=fd.$Z(d.buffer);if(r=="jb2")throw"e";
var x=fd.Ay(r);if(x==null||r=="tga")x=fd.Ay("jpg");d=new Uint8Array(x.Pd(d,y,B)[0].data)}return d};jg.prototype.ShowPage=function(){var d=this.J8;
this.sM++;var W=this.zU;this.m8();var c=d.jb();d.B.push(c);var y=new a8(Math.round(this.s$.x),Math.round(this.s$.y),Math.round(W[2]-W[0]),Math.round(W[3]-W[1]));
if(y.Bb())y.m=y.i=2e3;this.NE=this.NE.hB(y);c.Nn(y);c.add.artb.artboardBackgroundType.v=1;c.AP("Page "+this.sM);
c.add.lsct=aG.tV;c.E9="pass";c.xy=24};jg.prototype.Print=function(d){console.log("Print:",d)};jg.prototype.Done=function(){var d=this.J8;
if(this.sM==1)d.B[d.B.length-1].add.lsct=aG.ED;d.AF(this.sM);for(var S=0;S<d.B.length;S++){var W=d.B[S],c=W.add.vmsk,y=W.add.TySh,B=this.Wk[S];
W.h0();delete W.add.vsjs;if(c){var r=!1;for(var x=0;x<c.Y.length;x++){var Z=c.Y[x];if((Z.type==0||Z.type==3)&&Z.length>32767)r=!0}if(r){d.B.splice(S,1);
S--;continue}}W.Ys(d);if(y&&B&&B.o4.length!=0){this.asC(B);var i=y.p$,k=B.o4.length,H=B.o4[0],V=1e9,g=-1e9,s="";
for(var x=0;x<k;x++){var N=B.o4[x];V=Math.min(V,N.x);g=Math.max(g,N.x+N.Kp)}var C=[];for(var x=0;x<k;
x++){var N=B.o4[x],w=-1,Y=H.Td*.1,U=Math.abs(N.x-V),e=Math.abs(N.x+N.Kp-g),O=Math.abs(U-e);if(O<Y)w=2;
if(e<Y){w=1;if(N.x!=V)if(x!=0&&B.o4[x-1].x==N.x||x!=k-1&&B.o4[x+1].x==N.x)w=-1}if(U<Y)w=0;if(N.Kp==g-V)w=3;
C.push(w)}var l=[!1,!1,!1];for(var x=0;x<k;x++){var w=C[x];if(w==3)w=x==0?C[x+1]:C[x-1];if(w==3)w=0;
C[x]=w;l[w]=!0}var I=(g-V)*.05;if(l[0]&&!l[1])g+=I;if(!l[0]&&l[1])V-=I;if(!l[0]&&!l[1]){V-=I;g+=2*I}it.gF(i,1);
y.e.rk-=H.Td*.7;y.e.IS=Math.round(V);it.r_(i,[0,0,Math.ceil(g-V),Math.ceil(B.o4[k-1].y-H.y+H.Td*2)]);
for(var x=0;x<k;x++){var N=B.o4[x],w=C[x],z=0;if(w==-1){w=0;z=Math.round(N.x-V)}var R=s.length,t=R+N.VQ.length;
s+=N.VQ;var a={Xt:[],Cr:{},a0:{Justification:w,StartIndent:z}};it.ml(y.p$,R,t-1,a)}}if(y){var i=y.p$;
it.ajt(i);var J=it.H5(i).split("\n");for(var x=0;x<J.length-1;x++){var N=J[x],F=0;for(var h=0;h<N.length;
h++){var m=N.charCodeAt(h);if(1473<=m&&m<=1524)F++}if(F>N.length/2){J[x]=N.split("").reverse().join("");
var D=i.EngineDict.ParagraphRun.RunArray[x].ParagraphSheet.Properties;D._Direction=1;D.Justification=it.UN(D)}}it.fl(i,J.join("\n"))}}d.O5=!0;
d.m=this.NE.m;d.i=this.NE.i;d.buffer=v.R(this.NE.P()*4)};var aS={};aS.q5=null;aS.dn=function(d,W,c,y,B,r){if(B==null)B=d.m;
if(r==null)r=d.i;aS.q5=d;var x=!1,Z=[d.root],i=d.root.children;if(d.add.artd){x=!0;for(var S=0;S<i.length;
S++)if(i[S].a.add.artb==null)x=!1;if(x)Z=i}var k=new a8(0,0,d.m,d.i),H=W[0];H=H.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
H=H.split(" ");var V=[];for(var S=0;S<H.length;S++){var g=H[S];if(g=="-"){var N=V.pop(),C=parseInt(H[S+1]);
while(N<C){V.push(N);N++}}else V.push(parseInt(g))}H=V;for(var S=0;S<H.length;S++)if(isNaN(H[S])||H[S]<1||H[S]>Z.length){H.splice(S,1);
S--}var w=B/d.m,Y=r/d.i,U=w*72/d.tU,e=Y*72/d.tU,O=W[5];if(O==null)O=0;var l=72*O,I=72*O;for(var s=0;
s<Z.length;s++){var S=s;if(W[2])S=Z.length-1-s;if(H.length!=0&&H.indexOf(S+1)==-1)continue;var z=Z[S],R=x?z.a.ZB():k;
if(!z.a.jF())continue;var t=Math.round(R.m*U+2*l),a=Math.round(R.i*e+2*I);c.StartPage(0,0,t,a);var J=UDOC.getState(),F=new dT;
F.translate(-R.x,-R.y-R.i);F.scale(U,-e);F.translate(l,I);if(x){var h=z.a.add.artb,m=h.artboardBackgroundType.v;
if(m!=1&&m!=3){var D=z.a.OM(),_=l*U,n=I*e,j=_+R.m*U,T=n+R.i*e;J.colr=[(D>>>0&255)/255,(D>>>8&255)/255,(D>>>16&255)/255];
J.pth={cmds:["M","L","L","L","Z"],crds:[_,n,j,n,j,T,_,T]};c.Fill(J)}}if(W[3]){var L=d.Li();if(!k.zI(R)){L=v.R(R.P()*4);
v.qR(d.Li(),k,L,R)}var p=d.ds();if(p)ICC.U.applyLUT(p[d.add.fcmy==1?5:3],p[2],L,L);var E=fd.Ay("JPG").Cy([[L.buffer]],R.m,R.i,[W[1]]);
L=new Uint8Array(E);var G=new dT;G.translate(R.x,R.y);aS.a1(J,c,L,R,G,F)}else{aS.arA(d,z,J,c,F,W,y);
if(l!=0){var _=l,n=I,j=_+R.m,T=n+R.i,A=j+l,u=T+l;J.ca=1;J.colr=[1,1,1];J.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,u,A,u,A,0,_,n,j,n,j,T,_,T]};
c.Fill(J)}}if(W[6]){var q=[[0,0],[1,0],[1,1],[0,1]],o=50,M=5,$=o*.5,Q=M*.5;J.colr=[.1,.1,.1];for(var s in q){var kF=q[s],P=[s==0||s==3?-1:1,s==0||s==1?-1:1],bM=[l-$+Q*P[0]+kF[0]*d.m,I-(P[1]!=1?M:0)+kF[1]*d.i],jW=[l-(P[0]!=1?M:0)+kF[0]*d.m,I-$+Q*P[1]+kF[1]*d.i];
J.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[bM[0],bM[1],bM[0]+o,bM[1],bM[0]+o,bM[1]+M,bM[0],bM[1]+M,jW[0],jW[1],jW[0]+M,jW[1],jW[0]+M,jW[1]+o,jW[0],jW[1]+o]};
c.Fill(J)}}var fX=d.nD;for(var bX=0;bX<fX.length;bX++){var ao=fX[bX].v,R=v.lk.yo(ao),en=v.A.z$(R).j;
v.A.e(en,F,en);var fK=v.A.c7(en);if(!new a8(0,0,t,a).M_(fK))continue;if(c.AddAnnot)c.AddAnnot([fK.x,fK.y,fK.x+fK.m,fK.y+fK.i],ao.url.v)}c.ShowPage()}c.Done();
aS.q5=null};aS.TC=function(d){d=v.L.E5(d);return[d.Z/255,d.G/255,d.J/255]};aS.arA=function(d,W,c,y,B,r,x){var Z=W.a,i=Z.add.lsct,k=Z.add.lmfx,H=Z.add.vmsk,V=Z.add.vstk,g=Z.add.TySh,U,e,J;
if(!Z.jF())return;var N=Z.opacity/255,C=Z.add.iOpa!=null?Z.add.iOpa/255:1;c.bmode=jg.a9Y(Z.E9);var w=c.ca;
c.ca=c.CA=N*C;var Y=k;if(Y)Y=Y.solidFillMulti.v[0];if(Y)Y=Y.v;if(Y&&!Y.enab.v)Y=null;var O=Z.rect;if(Z.Ql()&&(!Z.vS()||Z.oR&&Z.oR.I3)){if(Z.vS()){U=Z.oR.I3;
O=Z.oR.a6h}else{U=v.R(Z.rect.P());v.$P(Z.buffer,U,3)}e=eV.sb(k,Z.add.fxrp,U,O,d,O).type;var l=["DrSh","OrGl"];
if(C!=1||V&&!V.fillEnabled.v){var I=U.slice(0);v.QE(I);for(var S=0;S<l.length;S++){var s=e[l[S]];for(var z=0;
z<s.length;z++){var R=s[z],t=R.jI.clone();t.x+=O.x;t.y+=O.y;v.WW(I,O,R.Gq,t)}}}}if(e)aS.a7w(Z,U,O,e,c,y,B,r,!0);
var a=eV.aeQ(Z,!1);if(a){y.StartTGroup(c);J=c;c=UDOC.getState()}var F=H&&!Z.sI();if(F){var h=v.A.Gs(H.Y,!1),m=h.gr;
v.A.e(m.j,B,m.j);c.cpth={cmds:m.r,crds:m.j}}if(Z.vS()){for(var S=0;S<W.children.length;S++)aS.arA(d,W.children[S],c,y,B,r,x)}else if(Z.sI()&&Z.add.PtFl==null){var D=H?H.Y:v.o.GP.Rect(0,0,d.m,d.i),_=v.o.wV(D),n=!1;
if(H==null)n=!0;else{if(V.fillEnabled.v)n=!0;var j=eV.E_(k);if(!V.strokeEnabled.v&&j)V=j}if(n){var T=eV.MH(k,Z.add),L=T[0],p=T[1];
c.colr=aS.au2(L?L:p,B,_)}var h=v.A.Gs(D,V?V.strokeEnabled.v:!1),m=h.gr;v.A.e(m.j,B,m.j);c.pth={cmds:m.r,crds:m.j};
aS.aAq(y,c,n,V,B,_,h.$g!=0)}else if(g&&r[4]){var E=g.p$,G=new iS(E,x,g.wy),m=bQ.Xw(G,g,!0),A=v.A.Kr(m),u=eV.E_(k);
for(var q in A){var o=parseInt(q.slice(1,7),16),M=0;c.colr=Y?aS.TC(Y.Clr.v):aS.aoj(o);var $=A[q];v.A.e($.j,B,$.j);
$=v.A.a7e($);c.pth={cmds:$.r,crds:$.j};var V=u;if(q.length>7){V=bV._M.qw();var Q=q.slice(7).split("-"),o=parseInt(Q[1].slice(1),16),kF=aS.aoj(o);
V.fillEnabled.v=!0;V.strokeEnabled.v=!0;V.strokeStyleLineWidth.v.val=parseFloat(Q[2]);V.strokeStyleContent.v.Clr.v=Y?Y.Clr.v:v.L.FV({Z:kF[0]*255,G:kF[1]*255,J:kF[2]*255});
V.strokeStyleMiterLimit.v=parseFloat(Q[2])}aS.aAq(y,c,!0,V,B,null,!1)}}else if(g){var E=JSON.parse(JSON.stringify(g.p$));
it.ajt(E);var P=g.e.clone(),bM=new dT(1,0,0,-1,0,0);bM.concat(P);bM.concat(B);var jW=it.H5(E),G=new iS(E,x,g.wy);
for(var S=0;S<G.a0.length;S++){var fX=G.a0[S];if(fX.Tl.length==1&&fX.Tl[0].aq)continue;for(var z=0;z<fX.RV.length;
z++){var bX=fX.RV[z],ao=fX.sZ.y+bX.sZ.y,en=fX.Tl[bX.start].start,fK=fX.Tl[bX.end-1].end,bO=it.a50(E,en,fK);
for(var b9=0;b9<bO.length;b9++){var bK=G.rF(en),f0=bO[b9],hn=it.tO(E,en,en),hX=hn.Xt[hn.Cr.Font].Name;
c.font.Tf=hX;var q=it.E5(hn.Cr.FillColor);c.colr=Y?aS.TC(Y.Clr.v):[q.Z/255,q.G/255,q.J/255];var gR=c.font.Tfs=Math.round(hn.Cr.FontSize),gU=jW.slice(en,en+f0);
if(hn.Cr.FontCaps==2)gU=gU.toUpperCase();var ip=new dT;ip.translate(bK.qe.x,-ao);ip.concat(bM);c.ctm=[ip.U,ip.J,ip.gp,ip.x7,ip.IS,ip.rk];
y.PutText(c,gU,0);for(var aW=0;aW<2;aW++){var kN=hn.Cr[aW==0?"Strikethrough":"Underline"];if(!kN)continue;
var hW=G.rF(en+f0-1),jH=aW==0?.27:-.2,g0=gR*jH,gC=gR*(jH+.07),M=hW.qe.x+hW.qe.m-bK.qe.x,jL=[0,g0,M,g0,M,gC,0,gC];
v.A.e(jL,ip,jL);c.pth={cmds:["M","L","L","L","Z"],crds:jL};y.Fill(c)}c.ctm=[1,0,0,1,0,0];en+=f0}}}}else if(!Z.rect.Bb()){var jf,eh,bu=!1,eJ=new dT,eZ=Z.add.SoLd,a0=!0;
if(eZ)a0=v.D.eR(v.D.bO(X.X.R6(eZ.Trnf)));var gZ=d.ds();if(eZ&&a0&&gZ==null){var bt=eZ.Idnt.v,dp=d.Zg(bt,eZ.Crop?eZ.Crop.v:null),dO="";
if(dp==null)return;var gb=dp.Ma,e_=fd.$Z(dp.raw.buffer);if(r[7].indexOf(e_)!=-1){jf=dp.raw;bu=!0}else jf=gb[0];
eh=gb[1];eJ=v.D.s2(eZ)}else{jf=Z.buffer;eh=Z.rect;eJ.translate(eh.x,eh.y);if(gZ){jf=jf.slice(0);ICC.U.applyLUT(gZ[d.add.fcmy==1?5:3],gZ[2],jf,jf)}if(v.u2(jf,eh.m,eh.i)&&r[7]&&r[7].indexOf("jpg")!=-1){var dC=fd.Ay("JPG").Cy([[jf.buffer]],eh.m,eh.i,[r[1]]);
jf=new Uint8Array(dC);bu=!0}}if(Y&&!bu)jf=eV.a04(jf,Y,eh);aS.a1(c,y,jf,eh,eJ,B);if(Y&&bu){var jL=[0,0,eh.m,0,eh.m,eh.i,0,eh.i];
v.A.e(jL,eJ,jL);v.A.e(jL,B,jL);var kc=JSON.parse(JSON.stringify(c));kc.ca=Y.Opct.v.val/100;kc.pth={cmds:["M","L","L","L","Z"],crds:jL};
kc.colr=aS.TC(Y.Clr.v);y.Fill(kc)}}if(F)c.cpth=null;if(a){y.EndTGroup();c=J}c.ca=c.CA=w;if(e)aS.a7w(Z,U,O,e,c,y,B,r,!1)};
aS.aAq=function(d,W,c,y,B,r,x){var Z=!1,i=0,k=0;if(y&&y.strokeEnabled.v){var H=y.strokeStyleContent.v;
W.COLR=aS.au2(H,B,r);var V=bV._M.jS(y,null,B.dV());jg.ao7(V,W,1);i=W.sal;delete W.sal;k=W.lwidth;Z=!0}var g=i==2;
if(c&&!g)d.Fill(W,x);if(Z){W.lwidth=k*(i==2?2:1);d.Stroke(W)}if(c&&g)d.Fill(W,x)};aS.a64=function(d){var W=aS.q5;
if(W==null)return d;var c=W.ds();if(c&&W.add.fcmy){return v.$J(v.YP(d)).slice(0,3)}return d};aS.TC=function(d){d=v.L.E5(d);
return aS.a64([d.Z/255,d.G/255,d.J/255])};aS.aoj=function(d){return aS.a64([(d>>>16&255)/255,(d>>>8&255)/255,(d&255)/255])};
aS.au2=function(d,W,c){if(d.Clr)return aS.TC(d.Clr.v);var y=d,B=y.Rvrs?y.Rvrs.v:!1,r=y.Type.v.GrdT,x,Z=r=="Rdl"||r=="Dmnd"?"rad":"lin",i=v.L.bM(y,c),k=W.iC(i[0]),H=W.iC(i[1]);
if(Z=="rad")x=[k.x,k.y,0,k.x,k.y,aL.Bg(k,H)];else{k.sq(H.x+(k.x-H.x)*2,H.y+(k.y-H.y)*2);x=[k.x,k.y,H.x,H.y]}var V=v.L.qK(y.Grad.v,B);
return{typ:Z,mat:[1,0,0,1,0,0],grad:V,crds:x}};aS.a7w=function(d,W,c,y,B,r,x,Z,i){var k=c.clone(),H=W;
if(d.add.TySh&&!Z[3]&&!Z[4])return;var V=B.ca,g=B.bmode;for(var S=bV.order.length-1;S>=0;S--){var N=bV.order[S];
if(N=="GrFl"||N=="SoFi")continue;if((d.add.vmsk||d.add.TySh)&&N=="FrFX")continue;var C=y[N],w=S>7||N=="FrFX";
if(w!=i)continue;for(var Y=0;Y<C.length;Y++){var U=C[Y];if(U.jI==null)U=U.Na?U.Na:U.Rt;if(U==null)continue;
var e=U.jI.clone();e.offset(k.x,k.y);if(!w){if(!k.M_(e)){var O=k.hB(e),l=v.R(O.P());v.ZW(H,k,l,O);H=l;
k=O}v.WW(H,k,U.Gq,e)}if(w&&N=="FrFX"&&U.cD)v.WW(U.cD,e,U.Gq,e);var I=new dT;I.translate(e.x,e.y);B.ca=U.d0;
B.bmode=jg.a9Y(U.wN);aS.a1(B,r,U.Gq,e,I,x)}}B.ca=V;B.bmode=g};aS.a1=function(d,W,c,y,B,r){var x=new dT;
x.scale(y.m,-y.i);x.translate(0,y.i);x.concat(B);x.concat(r);d.ctm=[x.U,x.J,x.gp,x.x7,x.IS,x.rk];W.PutImage(d,c,y.m,y.i);
d.ctm=[1,0,0,1,0,0]};var dm={};dm.Nr=function(d){var W=new Uint8Array(d);return dm.T_(W,0)};dm.T_=function(d,W){var c=K.q,y=K.xA,B={QY:y(d,W,4),z:W+8,size:c(d,W+4)},r=B.QY=="FORM"||B.QY=="FOR4"||B.QY=="LIST"||B.QY=="CAT ";
if(r)B.sy=y(d,W+8,4);if(B.size<0||B.z+B.size>d.length)throw"e";if(r){B.sub=[];W+=12;var x=B.z+B.size;
while(W<x){var Z=dm.T_(d,W);B.sub.push(Z);var i=Z.size&1,k=Z.size&3;if(B.QY=="FOR4")i=k==0?0:4-k;W+=8+Z.size+i}}return B};
var jJ={};jJ.Nr=function(d,W){var c=new Uint8Array(d);return jJ.T_(c,0,W)};jJ.T_=function(d,W,c){var y=K.kK,B=K.xA,r={QY:B(d,W,4),z:W+8,size:y(d,W+4)};
if(c&&c[r.size]!=null)r.size=c[r.size];if(r.QY=="RIFF"||r.QY=="LIST"){r.sy=B(d,W+8,4)}if(r.size<0||r.z+r.size>d.length)throw"e";
if(r.QY=="RIFF"||r.QY=="LIST"&&(r.sy!="cmpr"&&r.sy!="stlt")){r.sub=[];W+=12;var x=r.z+r.size;while(W<x){var Z=jJ.T_(d,W,c);
r.sub.push(Z);W+=8+Z.size+(Z.size&1)}}return r};var kD=function(){function d(o,M){var $=null;if(o.sub==null)return $;
for(var S=0;S<o.sub.length;S++){var Q=o.sub[S];if(Q.QY==M||Q.sy==M)$=Q}return $}function W(o){if(o==32)return 300;
else if(o<49)return 0;else if(o<58)return 100*(o-48);else if(o<65)return 0;return 100*(o-55)}var c;function y(o,M){var $=new Uint8Array(o);
M.O5=!0;c={};var Q=K.xA($,0,2);if(Q=="WL"){alert("Unsupported CDR version")}else{var kF,P,bM,bX,hX=300,gU=0;
if(Q=="PK"){P=UZIP.parse($);if(P["content/root.dat"]){$=P["content/root.dat"];bM=K.uw(P["content/dataFileList.dat"]).split("\n")}else{$=P["content/riffData.cdr"];
P=null}}kF=jJ.Nr($.buffer);console.log(kF);var jW=W($[11]),fX={data:$,z:0,_l:jW};fX.N_=fX._l<600?16:32;
R($,fX,bM,P,kF.sub,0);var ao=[];if(P){bX=d(kF,"doc ");B(bX);var en=kF.sub;for(var S=0;S<en.length;S++)if(en[S].sy=="page")ao.push(en[S]);
ao=ao.slice(1)}else if(kF.sub[3]&&kF.sub[3].QY=="pack"){alert("We dont support this version of CDR files");
return}else if(d(kF,"cmpr")==null){bX=d(kF,"page");ao.push(bX);if(d(bX,"mcfg")==null){bX=d(kF,"doc ");
B(bX);ao=[];var en=kF.sub;for(var S=0;S<en.length;S++)if(en[S].sy=="page")ao.push(en[S]);ao=ao.slice(1)}}else{var fK=d(kF,"cmpr").sub;
bX=fK[0];ao=[fK.slice(1)[1]];if(d(bX,"filt"))B(bX)}var bO=d(bX,"mcfg").b,b9=bO.a5i,bK=b9.x*.1,f0=b9.x*ao.length+bK*(ao.length-1),hn=b9.y;
hX/=e$.Ze(new a8(0,0,Math.round(f0*hX),Math.round(hn*hX)),8192*8192);var gR=Math.round(f0*hX),ib=Math.round(hn*hX);
M.m=gR;M.i=ib;M.buffer=v.R(M.m*M.i*4);for(var S=0;S<ao.length;S++){var hq=new dT(hX,0,0,-hX,b9.x*hX/2+gU,b9.y*hX/2);
r(ao[S],bX,M,hq);var ip=M.B[M.B.length-1];ip.Nn(new a8(Math.round(gU),0,Math.round(b9.x*hX),Math.round(b9.y*hX)));
ip.AP("Page "+(S+1));gU+=b9.x*hX+bK*hX}M.AF(ao.length)}}function B(o){var M=d(o,"filt").sub,$=d(o,"otlt").sub,Q=d(o,"fntt");
if(Q)Q=Q.sub;o.Y6={};for(var S=0;S<M.length;S++)o.Y6[M[S].sub[0].b.id]=M[S].sub[0].b;o.qZ={};for(var S=0;
S<$.length;S++)o.qZ[$[S].b.id]=$[S].b;if(Q){o.fonts={};for(var S=0;S<Q.length;S++)o.fonts[Q[S].b.id]=Q[S].b}}function r(o,M,$,Q){var kF=o.sy?o.sy:o.QY,P=d(o,"lgob"),bM=d(o,"txsm"),jW=null,fX=null;
if(P){jW=d(P,"trfl");fX=d(P,"loda")}else if(d(o,"lobj"))fX=d(o,"lobj");var bX=jW&&jW.sub[0].Fp?jW.sub[0].Fp.clone():new dT;
bX.concat(Q);var ao=$.jb();if(kF=="page"||kF=="layr"||kF=="grp "){ao.AP((kF=="page"?"Page":"Group")+" "+$.B.length);
ao.add.lsct=aG.ED;ao.E9="pass";ao.xy=24;var en=[];if(kF=="page")en=d(o,"gobj").sub;if(kF=="layr")en=o.sub.slice(2);
if(kF=="grp ")en=o.sub.slice(4);if(en.length==0)return;$.B.push($.b7());for(var S=en.length-1;S>=0;S--)r(en[S],M,$,Q)}else if(kF=="obj "&&fX.b&&fX.b.path){var fK,bO;
if(M.Y6){fK=M.Y6[fX.b.afm];bO=M.qZ[fX.b.aw3]}if(fK==null)fK=fX.b.aAL;if(bO==null)bO=fX.b.ap8;ao=x($,fX.b.path,Q,bX,fK,bO)}else if(kF=="obj "&&bM){var b9=fX.b.alU,bK=fX.b.aAZ,hX="";
ao.add.TySh=it.De(0,0);var f0=bX.dV();ao.add.TySh.e.translate(bX.IS,bX.rk);var hn=ao.add.TySh.p$,gR=bM.b.RD;
if(gR==null)return;for(var S=0;S<gR.length;S++){var ib=gR[S],gU=hX.length;hX+=ib.text+"\n";it.kL(hn,gU,ib.text+"\n");
if(ib.text=="")continue;var hq=Z(ib.a7g,M),ip=hq.ama,aW=M.fonts[ip.adI],kN=it.tO(hn,gU,hX.length);if(hq.align==3)kN.a0.Justification=1;
else if(hq.align==2)kN.a0.Justification=2;else kN.a0.Justification=0;var jH=hq.fill.b;if(jH==null)jH=[0,0,0];
if(aW.s9)it.nn(kN,aW.s9);kN.Cr.FillColor={Type:1,Values:[1,jH[0],jH[1],jH[2]]};kN.Cr.FontSize=Math.round(ip.fontSize*Q.dV());
it.ml(hn,gU,hX.length-1,kN)}if(bK){it.gF(hn,0)}else{it.gF(hn,1);it.r_(hn,[0,0,Math.round(b9.x*bX.U),Math.round(-b9.y*bX.x7)])}ao.AP(hX.slice(0,10))}else{ao=null}if(ao)$.B.push(ao)}function x(o,M,$,Q,kF,P){var bM=o.jb();
bM.AP("Object "+o.B.length);bM.xy|=16;var jW=bM.add.vstk=bV._M.qw();bM.add.vmsk=new e8.vw;bM.add.vmsk.Y=v.A.fI(M,!1);
v.o.hn(bM.add.vmsk.Y,Q);var fX=kF&&kF.type!=0,bX=fX&&kF.b!=null?kF.b:[0,0,0];jg.j$(bX,bM,Q,v.o.wV(bM.add.vmsk.Y),bM.add.vmsk.Y);
jW.fillEnabled.v=fX;if(P&&P.adp!=1){jW.strokeEnabled.v=!0;jW.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var ao=jW.strokeStyleLineWidth.v.val=P.lineWidth*$.dV(),en=P.color;jW.strokeStyleContent.v.Clr.v=v.L.FV({Z:en[0]*255,G:en[1]*255,J:en[2]*255});
if(P.Pn.length!=0)jW.strokeStyleLineDashSet.v=eV.pa(P.Pn,4/ao);var fK=P.a2U,bO=P.aqs;if(bO!=0){var b9=M.j,S=b9.length-4,bK=b9[S],f0=b9[S+1],hn=b9[S+2],hX=b9[S+3],gR=new dT;
gR.scale(.15,.15);gR.rotate(-Math.PI/2+Math.atan2(hX-f0,-(hn-bK)));gR.translate(hn,hX);gR.concat(Q);
if(c[bO]){var ib=x(o,c[bO],$,gR,en,null);o.B.push(ib)}}}bM.h0();bM.Ys(o);return bM}function Z(o,M){var $=d(M,"stlt").b,Q=JSON.parse(JSON.stringify($.C$[o]));
if(Q.l8!=0){var kF=$.C$[Q.l8];for(var P in kF)if(Q[P]==null||Q[P]==0)Q[P]=kF[P];delete Q.l8}Q.align=$.a8G[Q.amF];
Q.fill=M.Y6[$.a9N[Q.a5D]];Q.a4Q=M.qZ[$.a4F[Q.avu]];Q.ama=$.aua[Q.aqy];return Q}function i(S){var bd=S.data[S.z];
S.z+=1;return bd}function k(S){var bd=K.w1(S.data,S.z);S.z+=2;return bd}function H(S){var bd=K.kK(S.data,S.z);
S.z+=4;return bd}function V(S){var bd=K.kK(S.data,S.z);S.z+=8;return bd}function g(S){var bd=K.dU(S.data,S.z);
S.z+=2;return bd}function N(S){var bd=K.VL(S.data,S.z);S.z+=4;return bd}function C(S){var bd=K.yk(S.data,S.z);
S.z+=8;return bd}function w(S){if(S.z>=S.data.length)throw"e";var o=0;while(S.data[S.z+o]!=0)o++;var M=K.xA(S.data,S.z,o);
S.z+=o+1;return M}function Y(S){var o="";while(!0){var M=k(S);if(M==0)break;o+=String.fromCharCode(M)}return o}function U(o){var M=H(o),$=(M&4294901760)>>>16,Q=(M&65535)/65535;
return $+Q}function e(o){if(o._l<600)return Math.PI*g(o)/1800;return Math.PI*N(o)/18e7}function O(o){if(o._l<1500)return l(o);
else return C(o)/254e3}function l(o){if(o._l<600)return g(o)/1e3;else return N(o)/254e3}function I(o){if(o._l<600)return k(o);
else return H(o)}function s(o){if(o._l<600)return g(o);else return N(o)}function z(o,M,$){var Q="";for(var S=0;
S<$;S++){for(var kF=0;kF<M;kF+=4){var bd=K.kK(o.data,o.z+S*M+kF);Q+=(bd<500?bd:bd)+","}Q+="\n"}return Q}function R(o,M,$,Q,kF,P){var bM,jW,fX;
for(var bX=0;bX<kF.length;bX++){var ao=M._l,en=kF[bX];M.data=o;M.z=en.z+(en.QY=="LIST"?4:0);if(Q&&en.sub==null){bM=H(M);
jW=H(M);fX=H(M);var fK=k(M);if(fK!=0&&fK!=768)throw"e";var bO=k(M);if(bO>32)throw"e";M.z-=16;if(bM!=4294967295){M.data=Q["content/data/"+$[bM]];
M.z=fX}}if(en.QY=="vrsn"){if(en.size==16)M.z+=8;var b9=k(M);M._l=b9;console.log("Version",b9);M.N_=b9<600?16:32}else if(en.QY=="DISP"){}else if(en.QY=="pack"){var bK=H(M),f0=K.xA(M.data,M.z,4),gR=0;
if(f0!="CPng")throw f0;var hn=new Uint8Array(M.data.buffer,M.z+8+2,en.size-10-4),hX=pako.inflateRaw(hn);
en.sub=[];while(gR<hX.length){var ib=jJ.T_(hX,gR);gR=ib.z+ib.size;en.sub.push(ib)}var gU={data:hX,z:0,_l:ao,N_:M.N_};
R(hX,gU,$,Q,en.sub,P+1)}else if(en.QY=="LIST"&&en.sy=="cmpr"){var hq=H(M),ip=H(M),aW=H(M),bK=H(M),f0=K.xA(M.data,M.z,4),gR=0;
if(f0!="CPng")throw f0;var hn=new Uint8Array(M.data.buffer,M.z+8+2,hq-6-8),hX=pako.inflateRaw(hn);M.z+=hq;
hn=new Uint8Array(M.data.buffer,M.z+8+2);var kN=pako.inflateRaw(hn),hW=[];for(var jH=0;jH<kN.length;
jH+=4)hW.push(K.kK(kN,jH));en.sub=[];while(gR<hX.length){var ib=jJ.T_(hX,gR,hW);gR=ib.z+ib.size;en.sub.push(ib)}var gU={data:hX,z:0,_l:ao,N_:M.N_};
R(hX,gU,$,Q,en.sub,P+1)}else if(en.QY=="LIST"&&en.sy=="stlt"||en.QY=="stlt"){if(bM==4294967295)return;
var g0=M.z,eJ="",bA=32;en.b={};var gC=H(M);if(gC==0)return;en.b.a9N=n(M,ao>=1300);en.b.a4F=n(M);en.b.aua={};
var jL=H(M);for(var S=0;S<jL;S++){var jf=H(M);M.z+=ao<1e3?12:20;var cm=k(M),eh=k(M);M.z+=8;var bu=l(M);
M.z+=ao<1e3?12:20;en.b.aua[jf]={adI:cm,ady:eh,fontSize:bu}}en.b.a8G=n(M);var eZ=H(M);eJ+="Intervals\n"+z(M,52,eZ)+"\n";
M.z+=52*eZ;var a0=H(M);eJ+="Set5s\n"+z(M,152,a0)+"\n";M.z+=152*a0;var gZ=H(M);eJ+="Tabs\n"+z(M,784,gZ)+"\n";
M.z+=784*gZ;var bt=H(M);eJ+="Bullets\n";for(var S=0;S<bt;S++){var dp=M.z,gb=H(M);M.z+=4*3;if(ao>1300)M.z+=4;
var e_=H(M);M.z+=4*5;if(ao>=1300){var dO=H(M);if(dO){if(H(M))M.z+=64;else M.z+=60}else M.z+=12}else{M.z+=20;
if(ao>=1e3)M.z+=8;if(H(M))M.z+=8;M.z+=8}var dC=M.z;M.z=dp;eJ+=z(M,dC-dp,1);M.z=dC}eJ+="\n";var kc=H(M);
eJ+="Indents\n";en.b.asH={};for(var S=0;S<kc;S++){var dp=M.z,ia=H(M),hO={};M.z+=12;hO.right=l(M);hO.ac_=l(M);
hO.left=l(M);en.b.asH[ia]=hO;var dC=M.z;M.z=dp;eJ+=z(M,dC-dp,1);M.z=dC}eJ+="\n";var cj=H(M);if(ao>=1300)bA+=4;
eJ+="Hypens\n"+z(M,bA,cj)+"\n";M.z+=bA*cj;var bg=H(M);eJ+="Dropcaps\n"+z(M,28,bg)+"\n";M.z+=28*bg;if(ao>800){var cX=H(M);
eJ+="Set11s\n"+z(M,28,cX)+"\n";M.z+=12*cX}en.b.C$={};for(var S=0;S<gC;S++){var i4=H(M);if(i4>3)throw i4;
var fJ=H(M),iu={};iu.l8=H(M);M.z+=8;var hV=H(M);if(ao>=1200)hV*=2;M.z+=hV;iu.a5D=H(M);iu.avu=H(M);if(i4>1){iu.aqy=H(M);
iu.amF=H(M);iu.axS=H(M);iu.ajL=H(M);if(ao>800)iu.apj=H(M)}if(i4>2){iu.auB=H(M);iu.a4z=H(M);iu.a3L=H(M);
iu.aAC=H(M);iu.asJ=H(M)}en.b.C$[fJ]=iu}}else if(en.QY=="LIST")R(o,M,$,Q,en.sub,P+1);else if(en.QY=="txsm"){en.b={};
if(ao<600)throw"e";if(ao<700)throw"e";if(ao>=1600){en.b=_(M);return}if(ao>=1500)M.z+=37;else M.z+=36;
if(H(M)){if(ao<800)M.z+=32}if(ao<800)M.z+=4;en.b.aya=H(M);en.b.RD=[];M.z+=48;if(ao>=800){if(H(M)){M.z+=32;
if(ao>=1300)M.z+=8}}if(ao>=1500)M.z+=12;var i4=H(M),f$=1,kg=!1;if(!i4){if(ao>=800)M.z+=4;if(ao>800)M.z+=2;
if(ao>=1400)M.z+=2;M.z+=24;if(ao<800)M.z+=8;f$=H(M)}for(var jH=0;jH<f$;jH++){var jy=H(M),S=0;if(ao>=1300&&i4)M.z++;
M.z++;var gC=H(M),iM=[];for(S=0;S<gC;S++){var hI=i(M),jZ=0;i(M);var cd=i(M);if(ao>=800)jZ=i(M);var iu={};
if(cd&1){iu.adI=k(M);var hz=k(M);if(hz)iu.aBo=hz}if(cd&2)M.z+=4;if(cd&4)iu.avn=l(M);if(cd&8)M.z+=4;if(cd&16)M.z+=4;
if(cd&32)M.z+=4;if(cd&64){iu.a5D=H(M);if(ao>=1500)M.z+=48}if(cd&128){iu.avu=H(M)}if(jZ&8){if(ao>=1300){var jv=H(M);
if(M.z+jv*2>=M.data.length){kg=!0;break}M.z+=jv*2}else M.z+=4}if(jZ&32){var eI=i(M);if(eI)M.z+=52}if(hI==2)if(ao>=1300)M.z+=48;
iM.push(iu)}if(kg){break}var j2=H(M);if(M.z+j2*4>M.data.length)break;var fM=[];for(S=0;S<j2;S++){var gY=0;
if(ao>=1200)gY=V(M)&4294967295;else gY=H(M);fM[S]=gY>>16|gY&1}var c4=j2;if(ao>=1200)c4=H(M);var fI=w(M);
en.b.RD.push({a7g:jy,text:fI,C$:iM})}}else if(en.QY=="arrw")en.b=t(M);else if(en.QY=="font"){var dp=M.z,jq=k(M),e1=k(M),ir="";
M.z+=14;if(M._l>=1200)ir=Y(M);else ir=w(M);en.b={id:jq,agl:e1,name:ir};if(Q){var fy=dp+jW;while(M.data[M.z]==0)M.z++;
M.z+=2;var fO=Y(M);while(M.data[M.z]==0)M.z++;while(M.data[M.z]<=2)M.z+=4;en.b.s9=Y(M)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(en.QY)!=-1){}else if(en.QY=="flgs")en.b=H(M);
else if(en.QY=="bbox"){var kI=l(M),fF=l(M),d6=l(M),bn=l(M);en.b=new a8(kI,fF,d6-kI,bn-fF)}else if(en.QY=="fild"){var aZ=H(M),bk;
if(ao>=1300)M.z+=8;var ai=k(M);if(ai==0){}else if(ai==1){M.z+=ao>=1300?13:2;bk=u(M)}else if(ai==2){M.z+=ao>=1300?8:2;
var cr=i(M),cN=0;if(ao>=1300){M.z+=17;cN=g(M)}else if(ao>=600){M.z+=19;cN=N(M)}else{M.z+=11;cN=g(M)}var hK=e(M),cT=.5+s(M),iZ=.5+s(M)-.5;
if(ao>=600)M.z+=2;var fL=I(M)&255,d5=i(M)/100;M.z++;var bP=I(M)&65535;if(ao>=1300)M.z+=3;var b_=[];for(var S=0;
S<bP;S++){var da=u(M);if(ao>=1400)M.z+=26;else if(ao>=1300)M.z+=5;var df=(I(M)&65535)/100;if(ao>=1300)M.z+=3;
b_.push([df,da])}bk={typ:cr==1?"lin":"rad",crds:[cT-Math.cos(hK)/2,iZ-Math.sin(hK)/2,cT,iZ],grad:b_,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",ai);
en.b={id:aZ,type:ai,b:bk}}else if(en.QY=="outl"){var aC=H(M);if(ao>=1300){var ez=0,di=0;while(ez!=1){M.z+=di;
ez=H(M);di=H(M)}}var ko=k(M),kM=k(M),dY=k(M);if(ao<1300&&ao>=600)M.z+=2;var fV=l(M),gm=k(M)/100;if(ao>=600)M.z+=2;
var gi=e(M);if(ao>=1300)M.z+=46;else if(ao>=600)M.z+=52;var bk=u(M);if(ao<600)M.z+=10;else M.z+=16;var iw=k(M),cI=M.z,jN=[];
for(var S=0;S<iw;++S)jN.push(k(M));if(ao<600)M.z=cI+20;else M.z=cI+22;var j1=H(M),ih=H(M);en.b={id:aC,adp:ko,aAI:kM,aCf:dY,lineWidth:fV,color:bk,Pn:jN,a2U:j1,aqs:ih}}else if(en.QY=="mcfg"){if(1300<=ao)M.z+=12;
else if(900<=ao)M.z+=4;else if(600<=ao&&ao<700)M.z+=28;var gM=0,c8=0;if(ao<400){M.z+=2;var kI=l(M),fF=l(M),d6=l(M),bn=l(M);
gM=Math.abs(d6-kI);c8=Math.abs(bn-fF)}else{gM=l(M);c8=l(M)}en.b={a5i:new aL(gM,c8)}}else if(en.QY=="loda"||en.QY=="lobj"){var g0=M.z,ja=I(M),j6=I(M),fD=I(M),hP=I(M),i0=I(M),jO=[],b7=[],S=0,kp=null;
M.z=g0+fD;while(S<j6)jO[S++]=I(M);M.z=g0+hP;while(S>0)b7[--S]=I(M);en.b={};for(S=0;S<j6;S++){M.z=g0+jO[S];
var co=b7[S];if(co==30){if(ao>=400&&i0==1||ao<400&&i0==0){en.b.path=m(M)}else if(ao>=400&&i0==2||ao<400&&i0==1){en.b.path=h(M)}else if(ao>=400&&i0==3||ao<400&&i0==2){en.b.path=p(M)}else if(i0==37){en.b.path=L(M)}else if(ao>=400&&i0==4||ao<400&&i0==3){en.b.aAZ=j(M)}else if(ao>=400&&i0==6||ao<400&&i0==5){en.b.alU=T(M)}else console.log(i0)}else if(co==20){if(ao<400)en.b.aAL=J(M);
else en.b.afm=H(M)}else if(co==10){if(ao<400)en.b.ap8=F(M);else en.b.aw3=H(M)}else if(co==200)en.b.auv=I(M);
else if(co==100){if(ao<400)kp=a(M)}}if(kp&&en.b.path)v.A.e(en.b.path.j,kp,en.b.path.j)}else if(en.QY=="trfd"){var g0=M.z,ja=I(M),j6=I(M),fD=I(M);
M.z=g0+fD;var jO=[];for(var S=0;S<j6;S++)jO[S]=I(M);for(var S=0;S<j6;S++){M.z=g0+jO[S];if(ao>=1300)M.z+=8;
var e5=k(M);if(e5==8){var iR,i9,kI,hl,jA,fF;if(ao>=600)M.z+=6;if(ao>=500){iR=C(M);i9=C(M);kI=C(M)/(ao<600?1e3:254e3);
hl=C(M);jA=C(M);fF=C(M)/(ao<600?1e3:254e3)}else throw"e";en.Fp=new dT(iR,hl,i9,jA,kI,fF)}else console.log(e5)}}else if(!1){console.log(en);
var iA=Math.min(en.size,32);console.log(K.jr(o,en.z,iA));console.log(K.anz(o,en.z,iA))}}}function t(o){var M=H(o);
o.z+=4;var $=k(o);o.z+=4;var Q=[];for(var kF=0;kF<$;kF++)Q.push(i(o));o.z+=1;var P=[];for(var bM=0;bM<$;
bM++){var jW=[];jW[1]=l(o);jW[0]=l(o);P.push(jW)}var fX=G(P,Q);c[M]=fX}function a(o){var M=0,$=0,Q=0,kF=0,P=0,bM=0;
if(o._l>=300){var jW=o.z;o.z+=10;var fX=I(o);o.z=jW+fX;M=U(o);$=U(o);Q=N(o)/1e3;kF=U(o);P=U(o);bM=N(o)/1e3}else{Q=l(o);
bM=l(o);M=U(o);$=U(o);Q+=U(o)/1e3;kF=U(o);P=U(o);bM+=U(o)/1e3}return new dT(M,$,kF,P,Q,bM)}function J(o){var M=i(o);
if(M==0)return null;else if(M==1)return u(o);else console.log(M)}function F(o){var M=i(o);M<<=1;var $=l(o),Q=k(o)/100,kF=e(o),P=u(o);
return{adp:M,lineWidth:$,color:P,Pn:[],a2U:0,aqs:0}}function h(o){var M=l(o),$=l(o),Q=e(o),kF=e(o),P=v.A.ly(v.o.GP.a8(0,0,M,$));
return P}function m(o){var M=o._l,$=O(o),Q=O(o),kF=0,P=0,bM=0,jW=0,fX=0,bX=1,ao=1;if(M<1500){jW=O(o);
bM=M<900?jW:O(o);P=M<900?jW:O(o);kF=M<900?jW:O(o)}else{var en=C(o);if(en!=0)bX=en;en=C(o);if(en!=0)ao=en;
var fK=i(o);o.z+=7;if(fK==0){jW=C(o);fX=i(o);o.z+=15;bM=C(o);o.z+=16;P=C(o);o.z+=16;kF=C(o);var bO=Math.abs($*bX/2),b9=Math.abs(Q*ao/2);
jW*=bO<b9?bO:b9;bM*=bO<b9?bO:b9;P*=bO<b9?bO:b9;kF*=bO<b9?bO:b9}else{jW=O(o);fX=i(o);o.z+=15;bM=O(o);
o.z+=16;P=O(o);o.z+=16;kF=O(o)}}return v.A.ly(v.o.GP.Rect(0,0,$,Q,[kF,P,bM,jW]))}function D(o){var M=H(o);
if(o._l<1700)M*=2;o.z+=M;return""}function _(o){var M=H(o),Q=0;o.z+=37;var $=H(o);for(var S=0;S<$;S++){var kF=H(o);
Q=kF;o.z+=48;var P=H(o);if(P==1)o.z+=12*4;else o.z+=8;if(!M){o.z+=16;D(o)}}var bM={aya:Q,RD:[]},jW=H(o);
for(var fX=0;fX<jW;fX++){var bX=H(o),ib="";o.z+=1;if(M)o.z+=1;var ao=D(o),en=H(o);for(var S=0;S<en;S++){o.z+=2;
var fK=k(o),bO=k(o);if(bO&4){var b9=H(o);b9*=2;o.z+=b9}if(fK||bO&4){var bK=D(o)}}var f0=H(o),hn=[];for(var S=0;
S<f0;S++){var hX=V(o)&4294967295;hn[S]=hX>>16|hX&1}var gR=H(o);for(var S=0;S<f0;S++){var gU=hn[S]&7,hq=0;
if(gU==0||gU==2||gU==4||gU==6)hq=o.data[o.z++];else if(gU==1||gU==3||gU==5)hq=o.data[o.z++]+o.data[o.z++]*256;
else throw gU;ib+=String.fromCharCode(hq)}var ip=ib.split("\r");for(var S=0;S<ip.length;S++)bM.RD.push({text:ip[S],a7g:bX,C$:[]})}return bM}function n(o,M){var $={},Q=H(o);
for(var S=0;S<Q;S++){var kF=H(o);o.z+=4;var P=H(o);$[kF]=P;if(M)o.z+=48}return $}function j(o){var M=l(o),$=l(o);
return new aL(M,$)}function T(o){o.z+=4;var M=l(o),$=l(o);return new aL(M,$)}function L(o){o.z+=4;var M=k(o)+k(o);
o.z+=16;var $=E(o,M);return $}function p(o){var M=k(o);o.z+=2;return E(o,M)}function E(o,M){var $=[],Q=[];
for(var S=0;S<M;S++)$.push([l(o),l(o)]);for(var S=0;S<M;S++)Q.push(i(o));return G($,Q)}function G(o,M){var $={j:[],r:[]},Q=0,kF=0,P=0;
for(var S=0;S<o.length;S++){var Q=o[S][0],kF=o[S][1],bM=M[S];if(!(bM&64)&&!(bM&128)||S==0){$.j.push(Q,kF);
$.r.push("M");P+=2}else if(bM&64&&!(bM&128)){$.j.push(Q,kF);$.r.push("L");P+=2}else if(!(bM&64)&&bM&128){$.j.push(Q,kF);
$.r.push("C");P+=6}else if(bM&64&&bM&128){$.j.push(Q,kF)}}if(P!=$.j.length)throw"e";return $}function A(o,M){var $=K.kK;
M+=8;var Q=$(o,M);M+=4;var kF=$(o,M);M+=4;M+=4*7;var P=M,bM=v.R(Q*kF*4);M+=1024;for(var jW=0;jW<kF;jW++)for(var fX=0;
fX<Q;fX++){var S=jW*Q+fX,bX=(kF-jW-1)*Q+fX,ao=o[M+S]<<2,en=bX<<2;bM[en+0]=o[P+ao+2];bM[en+1]=o[P+ao+1];
bM[en+2]=o[P+ao+0];bM[en+3]=255}return{Gq:bM,rect:new a8(0,0,Q,kF)}}function u(o){var M=o._l,$=0,Q=0,kF=0;
if(M>=500){$=k(o);if($==1&&M>=1300)$=25;if($==30){$=25;Q=30}else{Q=k(o);o.z+=4}kF=H(o)}else if(M>=400)throw"e";
else{$=i(o);kF=H(o)}return q($,Q,kF)}function q(o,M,$){var Q=[0,0,0];if(o==2||o==3||o==9||o==17){var kF=[$>>>0&255,$>>>8&255,$>>>16&255,$>>>24&255];
if(o==2)for(var S=0;S<4;S++)kF[S]=Math.round(255*kF[S]/100);for(var S=0;S<4;S++)kF[S]/=255;Q=UDOC.C.cmykToRgb(kF)}else if(o==1||o==5){Q=[$>>>0&255,$>>>8&255,$>>>16&255];
for(var S=0;S<3;S++)Q[S]=Q[S]/255;if(o==5)Q.reverse()}else console.log("Unknown color model "+o,$,$.toString(16));
return Q}return{Nr:y}}(),eB=function(){var d,W,c=new ArrayBuffer(4),y=new Uint8Array(c),B=new Uint32Array(c),r=new Float32Array(c);
function x(g,N){for(var C=0;C<g.length;C++)if(g[C][0]==N)return g[C]}function Z(){var g=0,N=0,C=0;do{C=d[W++];
g|=(C&127)<<N;N+=7}while(C&128&&N<35);return g>>>0}function i(g,N,C,w,Y){d=g;W=N;var U=w[0]=="mesg",e=w[2],O={},l=1,I=U?1e9:e.length;
while(l<=I){var s=l;if(U){s=Z();if(s==0)break}var z=x(e,s),R=z[2],t=z[1]==1,a=t?Z():1,J=new Array(a);
if(R==3){if(!t)throw"e";J=d.slice(W,W+a);W+=a}else for(var S=0;S<a;S++){var F;if((R&1)==1){if(R==1)F=d[W++]==1;
else if(R==3)F=d[W++];else if(R==5){var h=Z();F=h&1?~(h>>>1):h>>>1}else if(R==7)F=Z();else if(R==9){if(d[W]==0){F=0;
W++}else{y[0]=d[W];y[1]=d[W+1];y[2]=d[W+2];y[3]=d[W+3];var m=B[0];B[0]=m<<23|m>>>9;F=r[0];W+=4}}else if(R==11){var D=k(d,W);
F=D[0];W+=D[1]+1}else throw R}else{var _=C[R>>>1];if(_[0]=="enum"){var n=Z();F=_[2][n]}else{var j=i(d,W,C,_,Y+1);
F=j[0];W=j[1]}}J[S]=F}O[z[3]]=t?J:J[0];l++}return[O,W]}function k(g,N){var C=N;while(g[C]!=0)C++;return[K.uw(new Uint8Array(g.buffer,N,C-N)),C-N]}function H(g,N){var C=N;
while(g[C]!=0)C++;for(var S=N;S<C;S++)if(g[S]>127)throw"e";return K.xA(g,N,C-N)}function V(g){d=g;W=1;
var N=[];while(W<g.length){var C=W,w=N.length,Y=H(g,W);W+=Y.length+1;var U=Z();if(U>2)throw"e";var e=Z(),O=[];
for(var S=0;S<e;S++){var l=H(g,W);W+=l.length+1;var I=Z(),s=Z(),z=Z();O.push(U==0?l:[z,s,I,l])}N.push([["enum","strc","mesg"][U],Y,O])}return N}return{ayR:V,a2M:i}}();
function ie(){}ie.Nr=function(d,W){var c=Date.now(),y=new Uint8Array(d),B=8,r,V=0,j=0;if(y[0]==80&&y[1]==75){r=UZIP.parse(d);
y=r["canvas.fig"]}var x=K.kK(y,B);B+=4;var Z=[];while(B<y.length){var i=K.kK(y,B);B+=4;var k=y.slice(B,B+i);
if(y[B]==137&&y[B+1]==80){}else k=UZIP.inflateRaw(k);Z.push(k);B+=i}var H=eB.ayR(Z[0]);for(var S=0;S<H.length;
S++)if(H[S][1]=="Message")V=S;var g=eB.a2M(Z[1],0,H,H[V],0)[0],N={Wq:{},Zi:{},a2E:{},th:r},C=g.nodeChanges;
for(var w=0;w<C.length;w++){var Y=C[w],U=Y.guid;N.Zi[U.sessionID+","+U.localID]=Y}for(var w=0;w<C.length;
w++){var Y=C[w],U=Y.parentIndex;if(U){var e=ie.tB(N.Zi,U.guid);if(e.children==null)e.children=[];e.children.push(Y)}}var O=C[0],l=O.children,I=new a8,s=[],z=[];
for(var U=0;U<l.length;U++){var R=l[U],t=R.children;if(R.name=="Internal Only Canvas"||t==null)continue;
var a=new a8;for(var S=0;S<t.length;S++){var J=t[S],F=J.transform,h=J.size;if(F.m00==1&&F.m10==0&&F.m01==0&&F.m11==1){var m=new a8(F.m02,F.m12,h.x,h.y);
a=a.hB(m)}}var D=I.i==0?0:I.i+100,_=a.clone();_.x=0;_.y=D;I=I.hB(_);s[U]=a;z[U]=D}var n=e$.Ze(new a8(0,0,I.m,I.i),8192*8192);
W.m=Math.round(I.m/n);W.i=Math.round(I.i/n);W.buffer=v.R(W.m*W.i*4);for(var U=0;U<l.length;U++){var R=l[U],t=R.children;
if(R.name=="Internal Only Canvas"||t==null)continue;t.sort(ie.axK);var T=new dT(1,0,0,1,-s[U].x,z[U]-s[U].y);
T.scale(1/n,1/n);for(var S=0;S<t.length;S++){var J=t[S];ie.i4(J,[],T,g.blobs,W,0,N);j++}}W.AF(j);W.O5=!0;
if(n!=1)alert("File scaled down "+n+"x")};ie.i4=function(d,W,c,y,B,r,x){var Z=ie,a=!1,J,m=!1,D,_;W=JSON.parse(JSON.stringify(W));
var i=d.overrideKey?d.overrideKey:d.guid;for(var S=0;S<W.length;S++){var k=W[S],H=k.guidPath.guids;if(Z.arM(H[0],i)){if(H.length==1){var V={};
for(var g in d)V[g]=k[g]!=null?k[g]:d[g];d=V}else k.guidPath.guids=H.slice(1)}}var N=d.type,C=d.children,w=d.size,Y=d.effects,U=B.jb();
U.AP(d.name);U.vI(d.visible);U.opacity=Math.round(d.opacity*255);var e=Z.Kq(d.transform),O=e.clone();
O.concat(c);if(w==null)w={x:0,y:0};var l=new a8(Math.round(O.IS),Math.round(O.rk),Math.round(w.x*O.dV()),Math.round(w.y*O.dV()));
if(l.m==0||isNaN(l.m))l.m=100;if(l.i==0||isNaN(l.i))l.i=100;var I=d.fillPaints,s=d.inheritFillStyleID;
if(s){var V=Z.tB(x.Zi,s);if(V)I=V.fillPaints}if(I==null)I=[];var I=Z.az7(I),z=I[0];if(z&&z.type=="IMAGE"&&Z.Li(y,ie.EQ(z),x,!0)==null)z=null;
var R=d.strokePaints,s=d.inheritFillStyleIDForStroke;if(s){var V=Z.tB(x.Zi,s);if(V)R=V.fillPaints}if(R==null)R=[];
var R=Z.az7(R),t="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(N)!=-1;
if(t||N=="FRAME"){J=new e8.vw;Z.a0b(d,y,J);a=v.o.G0(J.Y);v.o.hn(J.Y,O);var F=v.A.zk(v.o.wV(J.Y));if(!F.Bb())l=F;
if(x.Wq.wd&&z){var h=e8.vw.Rl(x.Wq.wd.Y);for(var S=2;S<h.length;S++)if(h[S].p5!=null)h[S].p5=3;J.Y=J.Y.concat(h.slice(2))}}if(z&&z.type=="IMAGE"){_=z.imageScaleMode;
m=!0;var n=z.originalImageWidth,j=z.originalImageHeight;if(n*j==0){var T=Z.Li(y,ie.EQ(z),x);n=T.H2.m;
j=T.H2.i}var L=n/j,p=w.x/w.y;D=Math.abs(L-p)}if(N=="FRAME"){}else if(t&&a&&m&&(_=="FIT"||_=="FILL"&&D<=.05||_=="STRETCH"&&D<=.05)){var E=Z.Li(y,ie.EQ(z),x,!0),G=B.GC(E,U.getName(),0,0);
G.xy=U.xy;G.opacity=U.opacity;U=G;var A=new a8(0,0,w.x,w.y);if(_=="FIT"){var u=z.originalImageWidth,q=z.originalImageHeight,o=Math.min(w.x/u,w.y/q),M=u*o,$=q*o;
A=new a8(A.x+(A.m-M)/2,A.y+(A.i-$)/2,M,$)}var Q=v.A.z$(A).j;v.A.e(Q,O,Q);U.add.SoLd.Trnf=X.X.oY(Q);U.add.SoLd.nonAffineTransform=X.X.oY(Q);
var kF=[],Y=d.effects,P=z.paintFilter;if(Y)for(var S=0;S<Y.length;S++)if(Y[S].type=="FOREGROUND_BLUR"){var bM=Y[S],jW=eR.X6("GsnB",{});
kF.push(jW);jW.v.enab.v=bM.visible;jW.v.Fltr.v.Rds.v.val=bM.radius/2.4}if(P&&P.exposure!=0){var jW=eR.X6("brit",{});
kF.push(jW);jW.v.Fltr.v.Brgh.v=Math.round(P.exposure*160);jW.v.Fltr.v.useLegacy.v=!0}if(P&&P.vibrance!=0){var jW=eR.X6("vibA",{});
kF.push(jW);jW.v.Fltr.v.Strt.v=Math.round(Math.round(P.vibrance*100))}if(kF.length!=0){U.add.SoLd.filterFX=eR.sg();
B.k8({id:U.add.SoLd.placed.v,rect:new a8,buffer:v.R(1),t:new e8.JO});U.add.SoLd.filterFX.v.filterFXList.v=kF}U.Hg(B,!1);
Z.agR(x,U,B)}else if(t){Z.acG(U,J,d,z,R,O,l,y,B,x);if(Y)for(var S=0;S<Y.length;S++){var bM=Y[S];if(bM.type!="FOREGROUND_BLUR")continue;
J.ej=bM.radius/2.4}U.h0();U.Ys(B)}else if(N=="TEXT"){var fX=d.textData,bX=fX.layoutSize,ao=["LEFT","RIGHT","CENTER"].indexOf(d.textAlignHorizontal);
U.add.lnsr="rend";U.add.TySh=it.De(0,0);U.add.TySh.Nz=new a8(0,0,100,100);var en=O.clone();U.add.TySh.e=en;
var fK=U.add.TySh.p$,bO=fX.characters;if(d.textCase=="TITLE"){for(var S=0;S<bO.length;S++)if(S==0||bO[S-1]==" "){var b9=bO.slice(0,S),bK=bO.slice(S+1);
bO=b9+bO[S].toUpperCase()+bK}}bO=bO.replace(/\u2028/g,"\n");bO=bO.replace(/\u2029/g,"\n");bO=bO.replace(/\r\n/g," \n");
it.kL(fK,0,bO);var f0=d.textAutoResize,hn=fX.baselines;if(f0=="WIDTH_AND_HEIGHT"){var hX=ao==0?0:ao==1?bX.x:bX.x/2,gR=hn?hn[0].position.y:0;
en.translate(hX*O.dV(),gR*O.dV());it.gF(fK,0)}else if(f0=="HEIGHT"||f0=="NONE"||f0==null){var gR=hn?hn[0].position.y-d.fontSize*.7:0;
en.translate(0,gR*O.dV());it.gF(fK,1);it.r_(fK,[0,0,Math.round(bX.x),Math.round((f0=="NONE"?1.8:1)*bX.y)])}else throw f0;
if(bO!=""){var ib=it.tO(fK,0,1);Z.alw(d,O,w,ib,U,y,B,x);it.ml(fK,0,bO.length,ib);var gU=fX.characterStyleIDs,hq=fX.styleOverrideTable;
if(gU){gU=gU.slice(0);for(var S=0;S<gU.length;S++)if(bO[S]=="\n")gU[S]=-S-1;var ip=[0],aW=0,kN=0;for(var S=0;
S<gU.length;S++){kN++;var hW=gU[S];if(S==0||hW==gU[S-1]){}else{ip.push(kN-1,S);kN=1}}ip.push(kN);for(var S=0;
S<ip.length;S+=2){var jH=ip[S],g0=ip[S+1];if(bO[jH]=="\n")continue;var hW=gU[jH];if(hW!=0){var gC;for(var jL=0;
jL<hq.length;jL++)if(hq[jL].styleID==hW)gC=hq[jL];var ib=it.tO(fK,jH,jH+1);Z.alw(gC,O,w,ib,U,y,B,x);
it.ml(fK,jH,jH+g0-1,ib)}}}}}else if(N=="SYMBOL"){}else if(N=="INSTANCE"){var jf=d.symbolData,cm=jf.symbolOverrides,V=Z.tB(x.Zi,jf.symbolID);
if(V)C=V.children;else console.log(d.name,"symbol not found",jf.symbolID);W=W.slice(0);for(var S=0;S<cm.length;
S++)W.push(cm[S])}else console.log(N);if(!1){}else if(C&&!t){B.B.push(B.b7());var eh=!1,bu=r==0&&N!="SYMBOL"&&N!="INSTANCE";
if(bu){if(l.Bb())console.log(l);U.Nn(l)}z=I[I.length-1];if(z&&z.type=="IMAGE"&&Z.Li(y,ie.EQ(z),x,!0)==null)z=null;
if(bu&&z&&z.type=="SOLID"){var eJ=z.color;U.add.artb.artboardBackgroundType.v=4;U.add.artb.Clr=Z.I8(eJ)}else if((z||R[0])&&J){var eZ=B.jb();
eZ.AP("Background");Z.acG(eZ,J,d,z,R,O,l,y,B,x);eZ.h0();eZ.Ys(B);B.B.push(eZ);eh=!0}C.sort(Z.axK);var a0=x.Wq;
x.Wq={};for(var gZ=0;gZ<C.length;gZ++)Z.i4(C[gZ],W,O,y,B,r+1,x);x.Wq=a0;U.add.lsct=!1?aG.ED:aG.tV;U.E9="pass";
var bt=U.jF();U.xy=24;U.vI(bt);var dp=r!=0&&I.length!=0&&!d.frameMaskDisabled&&d.containerSupportsFillStrokeAndCorners;
if(!eh&&dp&&J){U.add.vmsk=J;U.h0();U.Ys(B)}else Z.agR(x,U,B);B.B.push(U)}else if(d.mask){if(J){x.Wq.wd=J}}else{var gb=[],cj=1;
if(Y)for(var e_=0;e_<Y.length;e_++){var bM=Y[e_],dO=bM.color,dC=bM.type,kc=["DROP_SHADOW","INNER_SHADOW"].indexOf(dC);
if(kc!=-1){var ia=["DrSh","IrSh"][kc],hO=JSON.parse(bV._R[bV.order.indexOf(ia)]);gb.push([ia,hO]);hO.enab.v=bM.visible;
hO.Md.v.BlnM=dB.XT(Z.azS(bM.blendMode));hO.Opct.v.val=Math.round(100*dO.a);hO.blur.v.val=Math.round(bM.radius*O.dV());
hO.Clr=Z.I8(dO);var hX=bM.offset.x,gR=bM.offset.y;hO.uglg.v=!1;hO.lagl.v.val=Math.round(180/Math.PI*Math.atan2(gR,-hX));
hO.Dstn.v.val=Math.round(Math.sqrt(hX*hX+gR*gR)*O.dV())}}if(N=="TEXT"&&I[0]&&I[0].type!="SOLID")cj=0;
for(var S=cj;S<I.length;S++){var bA=I[S],bg=Z.cJ(d,bA,O,l,y,B,x);if(bg[0]=="GdFl")gb.push(["GrFl",bg[1]]);
else if(bg[0]=="SoCo")gb.push(["SoFi",bg[1]]);else if(bg[0]=="PtFl")gb.push(["patternFill",bg[1]]);else if(bg[0]=="None"){}else throw bg}if(!t)for(var S=0;
S<R.length;S++){var bA=R[S],bg=Z.cJ(d,bA,O,l,y,B,x);if(bg[0]=="SoCo"){var hO=JSON.parse(bV._R[bV.order.indexOf("FrFX")]);
gb.push(["FrFX",hO]);hO.enab=bg[1].enab;hO.Opct=bg[1].Opct;hO.Md=bg[1].Md;hO.Clr=bg[1].Clr;hO.Sz.v.val=Math.round(d.strokeWeight);
var cX=d.strokeAlign;if(cX)hO.Styl.v.FStl=bV.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(cX)]}}if(gb.length!=0){var i4=JSON.parse(bV.default);
for(var S=0;S<bV.order.length;S++)i4[bV.Fb[S]]={t:"VlLs",v:[]};for(var S=0;S<gb.length;S++){var fJ=gb[S],ia=bV.Fb[bV.order.indexOf(fJ[0])];
i4[ia].v.unshift({t:"Objc",v:fJ[1]})}if(C==null)U.add.lmfx=i4}B.B.push(U)}};ie.acG=function(d,W,c,y,B,r,x,Z,i,k){var H=ie;
d.xy|=16;d.add.vmsk=W;var V=d.add.vstk=bV._M.qw(),g=H.cJ(c,y,r,x,Z,i,k);V.fillEnabled.v=g[0]!="None";
if(g[0]=="None"){d.add.SoCo=g[1]}else{H.zg(g,d);d.add[g[0]]=g[1]}var g=H.cJ(c,B[0],r,x,Z,i,k);if(g[0]!="None"){var V=d.add.vstk;
V.strokeEnabled.v=!0;V.strokeStyleLineWidth.v.val=c.strokeWeight*r.dV();V.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bV._M.IC[["INSIDE","CENTER","OUTSIDE"].indexOf(c.strokeAlign)];
var N={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[g[0]],C=["SoFi","GrFl","patternFill"].indexOf(N),w=[bV.Ak,bV.n1,bV.DX][C];
V.strokeStyleContent.v={classID:bV._M.sy[0]};var Y=c.dashPattern;if(Y)V.strokeStyleLineDashSet.v=eV.pa(Y,1/c.strokeWeight);
var U=V.strokeStyleContent.v={classID:bV._M.sy[C]};for(var S=0;S<w.length;S++)U[w[S]]=g[1][w[S]];if(!V.fillEnabled.v)H.zg(g,d)}};
ie.zg=function(d,W){var c=d[1].Opct.v.val;if(c!=100)W.opacity=Math.round(W.opacity/255*(c/100)*255)};
ie.axK=function(d,W){var c=d.parentIndex.position,y=W.parentIndex.position;return c>y?1:-1};ie.az7=function(d){for(var S=1;
S<d.length;S++){var W=d[S];if(W.type=="IMAGE"&&W.opacity==1){d=d.slice(S);break}}for(var S=0;S<d.length;
S++){var W=d[S],c=W.imageThumbnail,y=W.type=="IMAGE";if(y&&(W.image==null||W.image.dataBlob==null)&&c&&c.dataBlob)W.image=c;
if(!W.visible||y&&W.image==null){d.splice(S,1);S--}}return d};ie.agR=function(d,W,c){if(d.Wq.wd){W.add.vmsk=d.Wq.wd.clone();
W.h0();W.Ys(c)}};ie.alw=function(d,W,c,y,B,r,x,Z){var i=d.fontSize,k=d.lineHeight,H=d.fontName,V=d.textAlignHorizontal,g=d.textTracking,N=d.textCase,C=d.textDecoration;
if(i==null)i=y.Cr.FontSize;if(H){var w=H.postscript;if(w==""){var Y=H.family,U=H.style;w=Y.split(" ").join("")+"-"+U}it.nn(y,w)}if(i!=null)y.Cr.FontSize=Math.round(i);
if(C=="UNDERLINE")y.Cr.Underline=!0;if(g)y.Cr.Tracking=Math.round(g*1e3);if(N)y.Cr.FontCaps=N=="UPPER"?2:0;
if(k&&(k.units!="PERCENT"||k.value!=100)){if(i==null)i=15;var e=k.value;if(k.units=="PERCENT")e=1*i*e/100;
if(k.units=="RAW")e=1*i*e;y.Cr.AutoLeading=!1;y.Cr.Leading=Math.round(e)}if(V)y.a0.Justification=["LEFT","RIGHT","CENTER"].indexOf(V);
var O=d.fillPaints,l=d.inheritFillStyleID;if(l){var I=ie.tB(Z.Zi,l);if(I)O=I.fillPaints}if(O&&O[0]){var s=ie.cJ(d,O[0],W,c,r,x,Z);
if(s[0]=="SoCo"){var z=v.L.E5(s[1].Clr.v);y.Cr.FillColor={Type:1,Values:[1,z.Z/255,z.G/255,z.J/255]};
ie.zg(s,B)}}};ie.cJ=function(d,W,c,y,B,r,x){var Z=ie,i,k,H=d.size;if(H==null)H={x:0,y:0};if(W){var V=W.type,g=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(V);
if(V=="SOLID"){i="SoCo";var N=W.color;k=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);k.Clr=Z.I8(N)}else if(g!=-1){var C=JSON.parse(bV._R[bV.order.indexOf("GrFl")]),w=C.Grad.v;
w.Intr.v=0;C.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][g];var Y=[],U=W.stops;for(var S=0;S<U.length;S++){var e=U[S],O=e.color;
Y.push([e.position,[O.r,O.g,O.b],O.a])}v.L.GW(Y,w);var l=Z.Kq(W.transform);l.QE();var I=l.clone();if(H)I.scale(H.x,H.y);
I.concat(c);var s=new aL(0,.5),z=new aL(1,.5);s=I.iC(s);z=I.iC(z);if(!0){s.x=z.x+.5*(s.x-z.x);s.y=z.y+.5*(s.y-z.y)}v.L.qb(s,z,y,C);
if(g==3){if(I.U*I.x7-I.J*I.gp<0)C.Rvrs.v=!C.Rvrs.v}i="GdFl";k=C}else if(V=="IMAGE"){var C=JSON.parse(bV._R[bV.order.indexOf("patternFill")]),l=Z.Kq(W.transform);
l.QE();var R=ie.EQ(W),t=x.a2E[R];if(t==null){var a=Z.Li(B,R,x);t=x.a2E[R]={};t.id=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f";
t.Q$=[new Uint8Array(a.data),a.H2];if(l.U<0){var J=t.Q$[0].slice(0);v.D.EV(J,t.Q$[0],a.H2.m,a.H2.i)}t.name="someImage";
r.j9(t)}if(l.U<0)l.U=-l.U;var F=["FILL","FIT","STRETCH","TILE"].indexOf(W.imageScaleMode),h=F==3?W.scale:1;
eV.aBa(t,C,H.x,H.y,F,c,l,h);i="PtFl";k=C}else if(V=="VIDEO"){i="SoCo";k=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);
k.Clr=Z.I8({r:255,g:0,b:255})}else throw V;if(k)k.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(W.opacity*100)}}}if(i==null||W.opacity<.001){i="None";
k={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:0,G:0,J:0})}}}return[i,k]};ie.EQ=function(d){var W=d.image,c=W.dataBlob;
if(c==null){c="";for(var S=0;S<20;S++)c+=W.hash[S].toString(16).padStart(2,"0")}return c};ie.Li=function(d,W,c,y){if(d[W]){var B=d[W];
if(y)return B.bytes;if(B.rslt)return B.rslt;var r=B.bytes.buffer;B.rslt=ie.avV(r);return B.rslt}else{if(c.th==null)return null;
if(y)return c.th["images/"+W];var r=c.th["images/"+W].buffer;if(c.th["images/-"+W])return c.th["images/-"+W];
c.th["images/-"+W]=ie.avV(r);return c.th["images/-"+W]}};ie.avV=function(d){var W=fd.$Z(d);if(W=="fpng")W="png";
var c=fd.Ay(W);try{return c.Pd(d)[0]}catch(jj){return{data:v.R(4),H2:new a8(0,0,1,1)}}};ie.a0b=function(d,W,c){var y=d.type,B=d.size,r=d.cornerRadius,k;
if(r==null)r=0;var x=B.x,Z=B.y,i=[r,r,r,r],H=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var S=0;S<4;S++)if(d[H[S]]!=null)i[S]=d[H[S]];if(y=="RECTANGLE"||y=="ROUNDED_RECTANGLE"||y=="FRAME"){k=v.o.GP.Rect(0,0,x,Z,i)}else if(y=="ELLIPSE"){var V=d.arcData,g=V?V.startingAngle:0,N=V?V.endingAngle:2*Math.PI,C=V?V.innerRadius:0;
if(g==0&&N>1.999*Math.PI)k=v.o.GP.a8(0,0,x,Z,0);else k=v.o.GP.aoz(x/2,Z/2,Z/2,g,N);if(C!=0&&C!=1){var w=e8.vw.Rl(k).slice(3);
w.reverse();for(var S=0;S<w.length;S++){var Y=w[S],U=Y.sV;Y.sV=Y.XM;Y.XM=U}var e=new dT;e.translate(-x/2,-Z/2);
e.scale(C,C);e.translate(x/2,Z/2);v.o.hn(w,e);k=k.concat(w);k[2].length*=2}}else if(y=="LINE"){k=v.o.GP.Rect(0,0,x,Z,0);
k.pop();k.pop();k[2].length=2}else if(y=="STAR"){k=v.o.GP.a8w(x/2,Z/2,x/2,2*Math.PI*(1/4),5,0,d.starInnerScale)}else if(y=="REGULAR_POLYGON"){k=v.o.GP.g9(.5,.5,.5,Math.PI/2,d.count,0);
var O=new dT;O.scale(x,Z);v.o.hn(k,O)}else if(y=="BOOLEAN_OPERATION"){k=[{type:6},{type:8,all:0}];var l=d.children,I=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(d.booleanOperation);
if(I==-1)throw d;if(l==null)l=[];for(var S=0;S<l.length;S++){var s=l[S],z=new e8.vw,R=ie.a0b(s,W,z);
if(z.Y==null)continue;v.o.hn(z.Y,ie.Kq(s.transform));k=k.concat(z.Y.slice(2))}for(var S=3;S<k.length;
S++)if(k[S].p5!=null)k[S].p5=I}else if(y=="VECTOR"){var t,a,p=3;if(!0){var J=d.vectorData;if(J==null)return;
t=J.normalizedSize;a=J.vectorNetworkBlob}var F=W[a].bytes,h=new Uint32Array(F.buffer),m=new Float32Array(F.buffer),D=h[0],_=h[1],n=h[2],j=[],T=[],L=[],E=p+D*3,G=E+_*7;
for(var S=0;S<D;S++){var A=p+S*3,u=new aL(m[A+1],m[A+2]);j.push(u)}for(var S=0;S<_;S++){var q=E+S*7;
T.push([h[q+0],h[q+1],m[q+2],m[q+3],h[q+4],m[q+5],m[q+6]])}for(var S=0;S<n;S++){var o=h[G+1],M=L[S]=[];
G+=2;for(var $=0;$<o;$++){var Q=h[G++],kF=M[$]=[];for(var P=0;P<Q;P++)kF[P]=h[G+P];G+=Q}}if(G!=h.length)throw"e";
if(n==0){var bM=-1;for(var S=0;S<_;S++){if(bM==-1){}else{var jW=-1;for(var $=S;$<_;$++)if(T[$][4]==bM)jW=$;
for(var $=S;$<_;$++)if(T[$][1]==bM)jW=$;if(jW!=-1){var fX=0,U=T[jW];T[jW]=T[S];T[S]=U;if(U[1]!=bM){fX=U[1];
U[1]=U[4];U[4]=fX;fX=U[2];U[2]=U[5];U[5]=fX;fX=U[3];U[3]=U[6];U[6]=fX}}}bM=T[S][4]}L.push([[]]);for(var S=0;
S<_;S++)L[0][0].push(S)}var ao=[],en=[];for(var fK=0;fK<L.length;fK++){for(var bO=0;bO<L[fK].length;
bO++){var b9=L[fK][bO],bK=0;if(b9.length>1){var f0=T[b9[0]],hn=T[b9[1]];bK=f0[4]==hn[1]?1:0}for(var S=0;
S<b9.length;S++){var hX=T[b9[S]],gR=1,ib=4;if(bK==0){gR=4;ib=1}var gU=j[hX[gR]],hq=j[hX[ib]];if(S==0){en.push("M");
ao.push(gU.x,gU.y)}en.push("C");ao.push(gU.x+hX[gR+1],gU.y+hX[gR+2],hq.x+hX[ib+1],hq.y+hX[ib+2],hq.x,hq.y)}}}k=v.A.fI({j:ao,r:en},!1);
if(r!=0){var i=[],ip=k[2].length;for(var S=0;S<ip;S++)i.push(r);if(v.o.Kb(k))v.o.fw(k,2,i)}var aW=new dT;
aW.scale(t.x==0?1:B.x/t.x,t.y==0?1:B.y/t.y);v.o.hn(k,aW)}c.Y=k};ie.tB=function(d,W){return d[W.sessionID+","+W.localID]};
ie.arM=function(d,W){return d.sessionID==W.sessionID&&d.localID==W.localID};ie.azS=function(d){var W={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[d];
if(W==null)throw d;return W};ie.I8=function(d){return{t:"Objc",v:v.L.FV({Z:d.r*255,G:d.g*255,J:d.b*255})}};
ie.Kq=function(d){if(d==null)return new dT;var W=[d.m00,d.m10,d.m01,d.m11,d.m02,d.m12];for(var S=0;S<6;
S++)if(Math.abs(W[S])<1e-20)W[S]=0;return new dT(W[0],W[1],W[2],W[3],W[4],W[5])};function jc(){}jc.Nr=function(){var d=K.xA;
function W(N,C,w,Y){var U=Y?[]:{};while(C<N.length-1&&N[C]!=125){var e=d(N,C,3),O=d(N,C+3,1),l;C+=4;
C++;if(O=="v"){var I=W(N,C,w+1,e=="ELM"||e=="TIL"||e=="TFS");l=I.b;C=I.z}else if(O=="i"||O=="f"){var s=C;
while(N[s]!=125)s++;var z=d(N,C,s-C);l=O=="i"?parseInt(z,16):parseFloat(z);C=s+1}else if(O=="s"){var R=K.Ou(N,C),z="";
C+=2;for(var S=0;S<R;S++)z+=String.fromCharCode(N[C+2*S+1]);l=z;C=C+2*R+1}else if(O=="b"){l=N[C]==49;
C=C+2}else throw"e";if(Y)U.push([e,l]);else if(U[e]==null)U[e]=l;else{if(!(U[e]instanceof Array))U[e]=[U[e]];
U[e].push(l)}}C++;return{b:U,z:C}}function c(N,C){var w=y(N).slice(1),N=C.Clr.v;N.Rd.v=w[0]*255;N.Grn.v=w[1]*255;
N.Bl.v=w[2]*255}function y(N){return[(N>>>24&255)/255,(N>>>16&255)/255,(N>>>8&255)/255,(N>>>0&255)/255]}function B(N,C){var w=C&4278190080|(C&255)<<16|(C>>>8&255)<<8|C>>>16&255;
new Uint32Array(N.buffer).fill(w)}function r(N,C){var w=N.TSZ,Y=N.WPX,U=N.HPX,e=N.TIL,O=new a8(0,0,Y,U),l=v.R(Y*U*4),I=0;
for(var s=0;s<U;s+=w)for(var z=0;z<Y;z+=w){var R=new a8(z,s,w,w),t,a=e[I];if(a[0]=="TMC"){t=v.R(R.P()*4);
B(t,a[1])}else if(a[0]=="TID"){t=C[a[1]]}v.qR(t,R,l,O);I++}return[l,O]}function x(N,C){N=new Uint8Array(N);
var w=8,Y,U={},_=0;while(w<N.length){var e=K.q(N,w);w+=4;var O=d(N,w,4);w+=4;if(O=="mkTS"){var l=pako.inflate(N.slice(w,w+e)),I=W(l,0,0);
Y=I.b}else if(O=="mkBT"){var s=K.q(N,w+4),z=K.q(N,w+8),l=pako.inflate(N.slice(w+76,w+e));if(z==0)for(var S=0;
S<l.length;S+=4){var R=l[S],t=l[S+1],a=l[S+2],J=l[S+3];l[S+3]=R;l[S+2]=J;l[S+1]=a;l[S]=t}else{var F=v.R(l.length*4);
F.fill(255);v.ta(l,F);l=F}U[s]=l}w+=e+4}var h=Y.PDC,m=h?h instanceof Array?h:[h]:[Y.MKB],D=new a8;for(var S=0;
S<m.length;S++){var n=m[S];D=D.hB(new a8(0,_,n.WID,n.HIT));_+=n.HIT+100}C.m=D.m;C.i=D.i;C.buffer=v.R(D.P()*4);
C.AF(m.length);_=0;for(var j=0;j<m.length;j++){C.B.push(C.b7());var n=m[j],T=n.WID,L=n.HIT,p=n.BGC,E=(n.LYL?n:Y).LYL.LAY,u=3;
for(var S=0;S<E.length;S++)i(E[S],C,null,U,new dT(1,0,0,1,-n.XLC,-n.YLC+_));var G=C.jb();C.B.push(G);
var A=new a8(0,_,T,L);_+=L+100;G.Nn(A);if(p>>>24!=0){var q=v.L.FV({Z:p>>>16&255,G:p>>>8&255,J:p>>>0&255});
G.add.artb.Clr={t:"Objc",v:q};u=4}G.add.artb.artboardBackgroundType.v=u;G.AP(n.PGN?n.PGN:"Page "+(j+1));
G.add.lsct=aG.tV;G.E9="pass";G.xy=24}}function Z(N,C,w){var Y=N[C];return Y instanceof Array?Y[w]:Y}function i(N,C,w,Y,U){var e=C.jb();
if(N.VIS!=null)e.vI(N.VIS);if(N.VIF!=null)e.vI(N.VIF.VIS);if(N.OPA!=null)e.opacity=Math.round(255*N.OPA/1e3);
e.E9=N.CLL||w=="GRP"?"pass":"norm";if(N.BLD!=null){var O=N.BLD,l={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[O+""];
if(l==null)console.log(N.OBN,O);else e.E9=l;if(O==30)e.opacity>>>=1}if(N.CLL){e.AP(N.LNM);C.B.push(C.b7());
var I=N.CLL.CEL;if(I.length==null)I=[I];for(var s=I.length-1;s>=0;s--){var z=I[s].ELM;for(var S=z.length-1;
S>=0;S--)i(z[S][1],C,z[S][0],Y,U)}e.add.lsct=N.DIS?aG.ED:aG.tV;e.xy|=24}else if(w=="GRP"){var R=e.add.lmfx=H(N.EFL),t;
C.B.push(C.b7());var z=N.ELM;if(N.MNA){t=z[0][1];z=z.slice(1)}e.AP("Group: "+z.length+" objects");for(var S=z.length-1;
S>=0;S--)i(z[S][1],C,z[S][0],Y,U);if(t){if(N.MRX){var a=r(t,Y),J=e.t=new e8.JO;J.rect=a[1].clone();J.rect.x=t.XLC;
J.rect.y=t.YLC+U.rk;J.channel=v.R(J.rect.P());v.$P(a[0],J.channel,0);v.QE(J.channel)}else{k(e,t,U);e.h0();
e.Ys(C)}}e.add.lsct=aG.tV;e.xy|=24}else if(w=="IMG"){e.AP(N.OBN?N.OBN:"Bitmap");var a=r(N,Y);e.rect=a[1].clone();
e.rect.x=N.XLC;e.rect.y=N.YLC+U.rk;e.buffer=a[0]}else if(w=="TXT"){var F=N.TFS,n="";e.add.lnsr="rend";
e.add.TySh=it.De(0,0);e.add.TySh.Nz=new a8(0,0,100,100);var h=new dT(1,0,0,1,N.LFT,N.TOP);if(N.MTX){var m=N.MTX,J=new dT(m.M00,m.M01,m.M10,m.M11,m.M20,m.M21);
h.concat(J)}h.concat(U);e.add.TySh.e=h;var D=e.add.TySh.p$,_=it.tO(D,0,0),j=Z(N,"FON");if(j)it.nn(_,j);
var T=Z(N,"PTS");if(T)_.Cr.FontSize=Math.round(T);var L=Z(N,"ITL");if(L)_.Cr.FauxItalic=L;if(N.PAT)_.Cr.FillColor={Type:1,Values:y(Z(N.PAT,"FCL"))};
for(var S=0;S<F.length;S++){var p=F[S][0],E=F[S][1];if(p=="TRN"){E=E.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
E=E.replaceAll("\x03","\n").replaceAll("\r","\n");it.kL(D,n.length,E);it.ml(D,n.length,n.length+E.length,_);
n+=E}else if(p=="FON")it.nn(_,E);else if(p=="PTS")_.Cr.FontSize=Math.round(E);else if(p=="ITL")_.Cr.FauxItalic=E;
else if(p=="UND")_.Cr.Underline=E;else if(p=="FCL")_.Cr.FillColor={Type:1,Values:y(E)};else if(p=="LED"){_.Cr.Leading=E*_.Cr.FontSize;
_.Cr.AutoLeading=!1}else if(p=="JST")_.a0.Justification=[0,2,1,3,5,4,6,7,8][E]}e.AP(n.slice(0,255));
var G=N.RIT-N.LFT,A=N.BOT-N.TOP;if(N.IMG){i(N.IMG,C,"IMG",Y,U);var u=C.B.pop();e.buffer=u.buffer;e.rect=u.rect.clone()}it.gF(D,1);
it.r_(D,[0,0,G,A])}else if(w=="PTH"){e.AP(N.OBN?N.OBN:"Path");e.xy|=16;var q=!1;k(e,N,U);var o=e.add.vmsk,M=e.add.vstk,$=v.o.wV(o.Y),Q=N.PAT,kF=Q.BPL,P=Q.FPL,bM=Q.TXF;
if(P&&P.FEF)o.ej+=P.FEF/2.4;if(kF){var jW=kF.CAT;M.strokeEnabled.v=!0;M.strokeStyleLineWidth.v.val=kF.BDI;
M.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bV._M.IC[N.BRP];c(Q.BCL,M.strokeStyleContent.v);
if(jW!="bc_Basic"&&jW!="bc_Pencil")q=!0}M.fillEnabled.v=P!=null;if(P==null){e.add.SoCo=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);
c(0,e.add.SoCo)}else if(P.CAT=="fc_Solid"){e.add.SoCo=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);c(N.PAT.FCL,e.add.SoCo)}else if(P.CAT=="fc_Linear"||P.CAT=="fc_Circular"||P.CAT=="fc_Elliptical"){var fX=P.CAT=="fc_Linear",bX=e.add.GdFl=JSON.parse(bV._R[bV.order.indexOf("GrFl")]),ao=bX.Grad.v,en=[],fK=P.FGL,bO,b9=[];
if(fK.FGY){var bK=fK.FGY,bO=bK.FG0.FGI,b9=bK.FG1.FGI}else bO=fK.FGV.FGI;for(var S=0;S<bO.length;S++){var f0=bO[S],hn=y(f0.FGC),hX=1;
if(b9.length==bO.length)hX=y(b9[S].FGC)[0];en.push([f0.FGP,hn.slice(1),hX])}bX.Type.v.GrdT=fX?"Lnr":"Rdl";
v.L.GW(en,ao);ao.Intr.v=0;var gR=N.PRI?N.PRI:N,ib=new aL(gR.PSX,gR.PSY),gU=new aL(gR.PEX,gR.PEY);if(P.CAT=="fc_Elliptical"&&gR.PFX!=null){var hq=new aL(gR.PFX,gR.PFY),ip=aL.Bg(ib,gU),aW=aL.Bg(ib,hq);
if(aW<ip){var kN=ip;ip=aW;aW=kN}gU=new aL(ib.x+(ip+aW)/2,ib.y);if(ip/aW<.5)q=!0}if(fX){ib.x=(ib.x+gU.x)/2;
ib.y=(ib.y+gU.y)/2}v.L.qb(ib,gU,$,bX)}else console.log(P.CAT);var R=e.add.lmfx=H(N.EFL,o);if(P&&P.FTB!=0&&bM){var a=r(bM.MSK,Y),hW={};
hW.id=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f";hW.name="someImage";hW.Q$=a;C.j9(hW);var jH=a[0];for(var S=0;
S<jH.length;S+=4){jH[S+3]=255-jH[S];jH[S]=jH[S+1]=jH[S+2]=255}var bX=JSON.parse(bV._R[bV.order.indexOf("patternFill")]);
bX.Opct.v.val=Math.round(P.FTB/10);bX.Algn.v=!0;bX.Ptrn.v.Idnt.v=hW.id;R.patternFillMulti.v.unshift({t:"Objc",v:bX})}if(q&&N.IMG){i(N.IMG,C,"IMG",Y,U);
var g0=C.B[C.B.length-1];g0.opacity=e.opacity;return}e.h0();e.Ys(C)}else if(w=="URL")return;else{console.log("unknown layer type",w,N);
e.AP("Layer")}C.B.push(e)}function k(N,C,w){if(C.PBL==null)return;var Y=N.add.vmsk=new e8.vw,U=N.add.vstk=bV._M.qw(!0),e=C.PBL.PBP;
if(!(e instanceof Array))e=[e];for(var O=0;O<e.length;O++){var l=e[O].PBT;if(l==null)continue;if(!(l instanceof Array))l=[l];
var I=e[O].ISC?0:3;Y.Y.push({type:I,length:l.length,p5:0,H4:2,Be:0,dO:0});for(var S=0;S<l.length;S++){var s=l[S],z=s.XLC,R=s.YLC,t=[z,R,z,R,z,R],a="XPC YPC XLC YLC XSC YSC".split(" ");
for(var J=0;J<6;J++){var F=a[J],h=s[F];if(h!=null)t[J]=h}Y.Y.push({type:I+2,I:new aL(z,R),sV:new aL(t[0],t[1]),XM:new aL(t[4],t[5])})}}v.o.hn(Y.Y,w)}function H(N,C){var w=JSON.parse(bV.default);
for(var S=0;S<bV.order.length;S++)w[bV.Fb[S]]={t:"VlLs",v:[]};if(N==null||N.EPS==null)return w;var Y=N.EPS;
if(!(Y instanceof Array))Y=[Y];for(var S=0;S<Y.length;S++){var U=Y[S].DCE,e={};for(var O=0;O<U.length;
O++)e[U[O].DCK]=U[O].DCV;if(e.EffectIsVisible=="false")continue;var l=e.mkbFile_WriteOnly_TemporaryEffectUiName;
if(l=="Gaussian Blur..."&&C){C.ej+=parseFloat(e.gaussian_blur_radius);continue}var I=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(l);
if(I==-1){continue}var s=["DrSh","ebbl","IrGl","OrGl"][I],z=bV.Fb[bV.order.indexOf(s)],R=JSON.parse(bV._R[bV.order.indexOf(s)]);
w[z].v.unshift({t:"Objc",v:R});if(s=="DrSh"){R.uglg.v=!1;V(e,"ShadowDistance",R,"Dstn");V(e,"ShadowBlur",R,"blur");
V(e,"ShadowAngle",R,"lagl",180);R.Opct.v.val=100;g(e,"ShadowColor",R,"Clr")}if(s=="IrGl"){R.Md.v.BlnM="Nrml";
var t=e.MaskSoftness,a=e.GlowWidth;if(t&&a){t=parseInt(t);a=parseInt(a);R.blur.v.val=a+t;R.Ckmt.v.val=Math.round(100*a/(a+t))}V(e,"BevelContrast",R,"Opct");
g(e,"OuterBevelColor",R,"Clr")}if(s=="OrGl"){R.Md.v.BlnM="Nrml";var t=e.MaskSoftness,a=e.GlowWidth;if(t&&a){t=parseInt(t);
a=parseInt(a);R.blur.v.val=a+t}V(e,"BevelContrast",R,"Opct");g(e,"OuterBevelColor",R,"Clr")}if(s=="ebbl"){R.uglg.v=!1;
V(e,"BevelWidth",R,"blur");V(e,"AngleSoftness",R,"Sftn");V(e,"BevelContrast",R,"srgR");V(e,"LightAngle",R,"lagl")}}return w}function V(N,C,w,Y,U){var e=N[C];
if(U==null)U=0;if(e)w[Y].v.val=parseInt(e)+U}function g(N,C,w,Y){var U=N[C];if(U){U=U.slice(1);if(U.length==6)U=U+"ff";
if(U.length!=8)throw"e";var e=y(parseInt(U,16)),O=w[Y].v;O.Rd.v=e[0]*255;O.Grn.v=e[1]*255;O.Bl.v=e[2]*255;
w.Opct.v.val=Math.round(w.Opct.v.val/100*e[3]*100)}}return x}();var cc=function(){function d(B){var r=new Uint8Array(B.length);
K.sv(r,0,B);return r}function W(B){var r=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",d("")],x=r.length,i=0;
r.push("<< /AIMetaData  "+(x+2)+" 0 R /AIPrivateData1 "+(x+3)+" 0 R  /AIPrivateData2 "+(x+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
r.push(d(""));r.push(d(""));r.push(B);var Z=new jD,k=[];function H(C){K.MA(Z,i,C);i+=C.length}H("%PDF-1.5\n");
for(var S=0;S<r.length;S++){k.push(i);H(S+1+" 0 obj\n");var V=r[S];if(typeof V=="string")H(r[S]+"\n");
else{var g=pako.aev(V);H("<< /Length "+g.length+" /Filter [ /FlateDecode ] >>\nstream\n");Z.N5(i,g.length);
Z.data.set(g,i);i+=g.length;H("\nendstream\n")}H("endobj\n")}var N=i;H("xref\n0 "+(k.length+1)+"\n0000000000 65535 f\r\n");
for(var S=0;S<k.length;S++)H((k[S]+"").padStart(10,"0")+" 00000 n\r\n");H("trailer\n<< /Root 1 0 R /Size "+(k.length+1)+" >>\nstartxref\n"+N+"\n%%EOF\n");
return Z.data.slice(0,i)}function c(B,r){var x=Date.now(),Z=new Uint8Array(B),i,k=Z[2]==68;if(r)console.log(!k?"EPS":"PDF");
if(k){var H=K.J7(Z,"/AIMetaData "),l,I,s;while(Z[H]!=60)H--;H--;var V=K.J7(Z,">>",H),g=K.xA(Z,H+2,V-H-2).split("/"),N=[];
for(var S=0;S<g.length;S++){var C=g[S],w=C.startsWith("AIPrivateData"),Y=C.startsWith("AIPDFPrivateData");
if(!w&&!Y)continue;var U=C.trim().split(/\s+/),e=parseInt(U[1]),O=parseInt(U[0].slice(w?13:16));N.push([O,e])}if(r)console.log("--- map made",Date.now()-x);
x=Date.now();while(!0){var z=FromPDF.indexOfXref(Z),R=[],t=FromPDF.readXrefTrail(Z,z,R),a={buff:Z,off:0},J=!1;
l=new Array(N.length);I=!1;s=!1;for(var S=0;S<N.length;S++){var O=N[S][0],e=N[S][1],D=0;if(R[e]==null){J=!0;
break}var F=FromPDF.getIndirect(e,0,a,R),h=F.buff,m=F["/Filter"];if(m!=null&&typeof m=="string")m=[m];
var _=K.xA(h,D,D+20);if(_=="%AI12_CompressedData"){D+=20;I=!0}else if(_=="%AI24_ZStandard_Data"){D+=20;
s=!0}h=new Uint8Array(h.buffer,h.byteOffset+D,h.length-D);if(m)for(var n=0;n<m.length;n++){var j=m[n];
if(j=="/FlateDecode")h=pako.inflate(h);else if(j=="/ASCIIHexDecode")h=FromPS.F.HexDecode({buff:h,off:0});
else if(j=="/ASCII85Decode")h=FromPS.F.ASCII85Decode({buff:h,off:0});else throw j}l[O-1]=h}if(J){console.log("extra xref after AI");
Z=Z.slice(0,z);continue}break}if(r)console.log("--- arrays found",Date.now()-x);x=Date.now();var T=K.xA(l[0],0,13);
if(T=="%%BoundingBox"||T=="%AI7_Thumbnai")l=l.slice(1);if(T=="%AI24_ZStanda"){l[0]=l[0].slice(20);s=!0}if(K.xA(l[0],0,13)=="%AI12_Compres"){l[0]=l[0].slice(20);
I=!0}i=y(l);if(r)console.log("--- concatenated",Date.now()-x);x=Date.now();if(I)i=UZIP.inflate(i);if(s)i=fd.MQ.mA(i);
if(r)console.log("--- inflated",Date.now()-x);x=Date.now()}else{var L=K.uw(Z);if(L.indexOf("%AI5_BeginLayer")!=-1){i=Z}else{var p=L.split(/[\n\r]+/),E=[],G=!1;
for(var A=0;A<p.length;A++){var u=p[A].trim();if(u=="%AI9_PrivateDataEnd"){G=!1;break}else if(u=="%AI9_DataStream"||u=="%AI24_DataStream"){G=!0}else if(G)E.push(u.slice(1))}var q=K.$N(E.join("")),o=FromPS.F.ASCII85Decode({buff:q,off:0});
if(o[0]==120&&o[1]==156)i=UZIP.inflate(o);else i=fd.MQ.mA(o)}}return i}function y(B){var r=0,Z=0;for(var S=0;
S<B.length;S++)r+=B[S].length;var x=new Uint8Array(r);for(var S=0;S<B.length;S++){var i=B[S];x.set(i,Z);
Z+=i.length}return x}return{ah4:c,aae:W}}();function bW(){}bW.Nr=function(){function d(_,n,j){var T=!1,L=Date.now(),p=cc.ah4(_,T);
if(T)console.log("part found",Date.now()-L);L=Date.now();var E=t(p),G=E.Layer,A=E.Header;if(T)console.log(E);
var u=E.Setup.TextDocument,q=G[0];q=E.Layer[0];if(T)console.log("document parsed",Date.now()-L);L=Date.now();
E.Setup.Gradient=R(E.Setup.Gradient,p);if(T)console.log("grads loaded",Date.now()-L);L=Date.now();E.Setup.Pattern=s(E.Setup.Pattern,p);
if(T)console.log("patts loaded",Date.now()-L);L=Date.now();E.Setup.Palette=z(E.Setup.Palette,p);if(T)console.log("palet loaded",Date.now()-L);
L=Date.now();var o=l(E.Setup.DocumentData,p),M=I(o);E.Setup.DocumentData=o.pop();if(T)console.log("docdata loaded",Date.now()-L);
L=Date.now();E.Setup.SVGFilter=l(E.Setup.SVGFilter,p);if(T)console.log("svgfilter loaded",Date.now()-L);
L=Date.now();var $=A.Cropmarks,Q=A.BoundingBox.split(" ").map(parseFloat),kF=A.ArtSize?A.ArtSize.split(" ").map(parseFloat):[Q[2]-Q[0],Q[3]-Q[1]];
n.m=Math.round(kF[0]);n.i=Math.round(kF[1]);var P=[1,0,0,1,-Q[0]+(n.m-(Q[2]-Q[0]))/2,-Q[1]+(n.i-(Q[3]-Q[1]))/2];
P[3]=-1;P[5]=n.i-P[5];if($){$=$.split(" ").map(parseFloat);n.m=Math.round($[2]-$[0]);n.i=Math.round($[3]-$[1]);
P=[1,0,0,-1,-$[0],n.i+$[1]]}var o=E.Setup.DocumentData,bM=[],jW=[];if(o&&o[0]&&o[0].ArtboardArray){var bM=o[0].ArtboardArray;
if(bM.length!=1)console.log(bM.length,"artboards");var fX=new a8;for(var S=0;S<bM.length;S++){var bX=bM[S],ao=bX.PositionPoint1,en=bX.PositionPoint2,fK=ao[0],bO=Math.min(ao[1],en[1]),b9=en[0],bK=Math.max(ao[1],en[1]),f0=new a8(fK,bO,b9-fK,bK-bO);
jW.push(f0);fX=fX.hB(f0)}n.m=Math.round(fX.m);n.i=Math.round(fX.i);P[4]=-fX.x;P[5]=fX.y+n.i}if(o&&o[0]&&o[0]["#document"]){var hn=o[0]["#document"],hX=hn["xmlnode-children"][0];
if(hX&&hX["xmlnode-children"])hX=hX["xmlnode-children"][0];if(hX["xmlnode-nodename"]=="variableSets"){var gR=hX["xmlnode-children"][0]["xmlnode-children"],ib=gR[0],gU=gR[1],hq=D(ib);
n.eS=hd.a3U("<variableSets><variableSet>"+hq+"</variableSet></variableSets>");if(gU){var ip=D(gU),aW=n.ZH=hd.ars(ip);
for(var S=0;S<aW.length;S++)for(var kN=0;kN<aW[S].length;kN++)aW[S][kN]=aW[S][kN].trim()}}}var hW=1/e$.Ze(new a8(0,0,n.m,n.i),8192*8192);
while(Math.max(n.m*hW,n.i*hW)<800)hW*=2;while(j&&Math.max(n.m*hW,n.i*hW)<Math.max(j[0],j[1]))hW++;n.m=Math.round(n.m*hW);
n.i=Math.round(n.i*hW);n.tU=Math.round(72*hW);for(var S=0;S<6;S++)P[S]*=hW;var jH=[];if(bM.length!=[1,0][be]){var g0=be==0?n.B:[];
g0.push(n.b7());for(var S=0;S<jW.length;S++){var bX=bM[S],f0=jW[S],gC=n.jb();gC.AP(bX.Name);g0.push(gC);
gC.add.SoCo=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);var jL=gC.add.SoCo.Clr.v;V(jL,[1,1,1]);var fK=f0.x,bO=f0.y,b9=fK+f0.m,bK=bO+f0.i,jf=[fK,bO,b9,bO,b9,bK,fK,bK];
v.A.e(jf,N(P),jf);Y(gC,{cmds:["M","L","L","L","Z"],crds:jf},n,0);gC.add.vstk=bV._M.qw(!0);var j=v.A.c7(jf);
jH.push({_S:bX.Name,ur:[j.x,j.y,j.x+j.m,j.y+j.i],g:bX.IsArtboardSelected})}var gC=n.jb();gC.AP("_Artboards_");
gC.add.lsct=aG.tV;gC.E9="pass";gC.xy=24;g0.push(gC)}else jH=[{_S:"Artboard",ur:new a8(0,0,n.m,n.i)}];
if(be==1)n.add.arts=jH;c=[0,0,0];y=[0,0,0];B="SoCo";r="SoCo";for(var cm=0;cm<G.length;cm++){var eh=G[cm];
eh.Raster=W(eh,"Raster");eh.Place=W(eh,"Place");var bu=e(p,eh);x(n,bu,P,E,eh,p)}if(be==0)for(var S=0;
S<n.B.length;S++){var gC=n.B[S];if(gC.A1){n.B.splice(S,1);var eJ=n.B[S];eJ.add.vmsk=gC.add.vmsk;eJ.add.vogk=gC.add.vogk;
eJ.Ys(n)}}else{}if(T)console.log("layers created",Date.now()-L);L=Date.now()}function W(_,n){var j=_.Layer,T=_[n];
if(T==null)T=[];if(j){for(var S=0;S<j.length;S++){var L=j[S],p=L[n]=W(L,n);T=T.concat(p)}T.sort(function(E,G){return E._begin-G._begin})}return T}var c,y,B,r;
function x(_,n,j,T,L,p){var E=[],G=0,A="",u=!1,q={},o=UDOC.G,M=UDOC.getState(),Q="norm",kF=1,P=0,bM=!1,jW=0,fX=!1,bX=!0,ao=null,en=!1,fK=0,bO=null,b9,bK,f0=0,hn=0,hX=0,hq=0,ip=!1;
M.ctm=j;var $=bV.az.qw(),gR=[0,0],ib=[],gU=[];for(var aW=0;aW<n.length;aW++){var kN=n[aW],jf=1e9;if(kN[0]=="%"){if(kN=="%_/ArtDictionary :"&&fK==0)ao=[kN.slice(2)];
else if(ao!=null){if(kN=="%_"&&fK==0){var hW=F(ao)[0],jH=_.B[_.B.length-1],g0=hW.AI10_ArtUID,gC=hW.BBAccumRotation;
if(g0&&!g0.startsWith("XMLID"))jH.AP(m(g0));if(gC&&jH.add.vmsk)jH.add.vmsk.jP=parseFloat(gC);ao=null}else{ao.push(kN.slice(en?1:2));
if(kN=="%_X=")fK++;if(kN=="%_X+")fK--;if(kN=="%_/Binary : /ASCII85Decode ,")en=!0;if(en&&kN.endsWith("~>"))en=!1}}else if(bO){b9+=(b9==""?"":" ")+kN.slice(2);
if(b9.endsWith("X#")){bO.push(b9.slice(0,b9.length-3));b9=""}}continue}else if(kN=="/Mesh X!"){bO=[];
b9="";continue}else if(kN=="/End X!"){k(bO,M,_);bO=null;continue}var jL="Xa XR m l c f U u *U w J j M d".split(" "),cm=-1,eh=kN.indexOf("(")!=-1;
for(var S=0;S<jL.length;S++){var bu=kN.indexOf(" "+jL[S]+" ");if(bu!=-1&&bu<jf&&!eh){jf=bu;cm=S}}if(cm!=-1){u=!0;
var eJ=jf+1+jL[cm].length;n[aW]=kN.slice(0,eJ);var eZ=n[aW+1];if(eZ==null||eZ[0]=="%"||cm>9)n.splice(aW+1,0,kN.slice(eJ));
else n[aW+1]=(kN.slice(eJ)+" "+eZ).replace(/\s\s+/g," ");aW--;continue}kN=kN.trim();var a0=kN.split(" "),gZ=a0[a0.length-1],bt=gZ.toLowerCase(),dp=a0.map(parseFloat);
if(gZ=="m")o.moveTo(M,dp[0],dp[1]);else if(gZ=="L"||gZ=="l")o.lineTo(M,dp[0],dp[1]);else if(gZ=="V"||gZ=="v"){var gb=M.pth.crds,e_=M.cpos[0],dO=M.cpos[1];
o.curveTo(M,e_,dO,dp[0],dp[1],dp[2],dp[3]);var dC=gb.length;gb[dC-6]=e_;gb[dC-5]=dO}else if(gZ=="Y"||gZ=="y")o.curveTo(M,dp[0],dp[1],dp[2],dp[3],dp[2],dp[3]);
else if(gZ=="C"||gZ=="c")o.curveTo(M,dp[0],dp[1],dp[2],dp[3],dp[4],dp[5]);else if(gZ=="H"||gZ=="h"){if(gZ==bt)o.closePath(M);
if(!bM){var kc=_.jb();_.B.push(kc);kc.AP("<Clipping Path>");kc.A1=!0;kc.add.vstk=bV._M.qw();kc.add.SoCo=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);
Y(kc,M.pth,_,P)}else fX=!0}else if(gZ=="XR"){P=dp[0]}else if(gZ=="Xy"){Q=bW.a6Q[dp[0]];kF=dp[1];if(Q==null){Q="norm";
console.log("unknown blend mode",dp[0])}}else if(gZ=="Xd"){var jH=_.B[_.B.length-1];jH.opacity=Math.round(255*kF);
jH.E9=jH.vS()&&Q=="norm"?"pass":Q}else if(gZ=="AE")f0=dp[0];else if(gZ=="Ae")hn=dp[0];else if(gZ=="Xw")hX=dp[0];
else if(gZ=="*"){var ia=M.pth.crds,hO=M.ctm,bu=ia[0]==ia[2]?0:1;_.qx.push([bu,ia[bu]]);o.newPath(M)}else if(gZ=="XN")bK=kN.split(" ")[0];
else if(gZ=="XI"){var cj=L.Raster,bA,bg;if(cj==null||cj.length==0){console.log("no Raster");continue}if(kN!="XI"){continue}else{var cX=cj[G++];
if(cX.Data)cX=cX.Data;var i4=cX._begin,fJ=cX._end;while(p[i4]!=88)i4++;i4+=3;bA=p.slice(i4,fJ);bg=n[aW-2].split(" ").map(parseFloat)}var iu=bg.slice(8),hV=iu[2],f$=iu[3],kg=hV*f$,jy=v.R(kg*4);
jy.fill(255);var iM=iu[7],hI=iu[8],cd=iu[6],jZ=Math.ceil(hV*iM*cd/8);if(iM==1){if(cd==8)for(var S=0;
S<kg;S++)for(var hz=0;hz<3;hz++)jy[4*S+hz]=bA[S];else if(cd==1)for(var jv=0;jv<f$;jv++)for(var eI=0;
eI<hV;eI++)for(var hz=0;hz<3;hz++)jy[4*(jv*hV+eI)+hz]=255*(bA[jv*jZ+(eI>>>3)]>>>7-(eI&7)&1);else throw cd}else if(iM==3)for(var S=0;
S<kg;S++)for(var hz=0;hz<3;hz++)jy[4*S+hz]=bA[3*S+hz];else if(iM==4||iM==5)for(var S=0;S<kg;S++){var j2=C([bA[iM*S+0]/255,bA[iM*S+1]/255,bA[iM*S+2]/255,bA[iM*S+3]/255]);
jy[4*S+0]=j2[0]*255;jy[4*S+1]=j2[1]*255;jy[4*S+2]=j2[2]*255}else if(iM==7)for(var S=0;S<kg;S++){jy[4*S+0]=bA[iM*S+0];
jy[4*S+1]=bA[iM*S+1];jy[4*S+2]=bA[iM*S+2]}else console.log("unknown number of channels",iM);if(hI==1){var fM=f$*jZ;
for(var S=0;S<kg;S++)jy[4*S+3]=bA[fM+S]}var gY=v.u2(jy,hV,f$)?"JPG":"PNG";if(hV*f$<700*700)gY="PNG";
var c4=fd.Ay(gY).Cy([[jy.buffer]],hV,f$),fI=_.GC(new Uint8Array(c4),"<Image>",0,0);_.B.push(fI);fI.E9=Q;
fI.opacity=Math.round(255*kF);fI.vI(hX==0);var jq=new dT;jq.scale(1,-1);jq.concat(N(bg.slice(1)));jq.concat(N(M.ctm));
var e1=fI.add.SoLd,ir=e1.Sz.v,fy=new a8(0,0,ir.Wdth.v,ir.Hght.v),a0=v.A.z$(fy).j;v.A.e(a0,jq,a0);fI.add.SoLd.Trnf=X.X.oY(a0);
fI.add.SoLd.nonAffineTransform=X.X.oY(a0);fI.Hg(_,!1)}else if(gZ=="Ln"){E.push(H(kN))}else if(gZ=="u"||gZ=="q"||gZ=="Lb"){ib.push(hn==1);
gU.push((gZ=="Lb"?1-dp[0]:hX)==0);if(bM)continue;_.B.push(_.b7())}else if(gZ=="U"||gZ=="Q"||gZ=="LB"){if(ib.length==0||gU.length==0)throw aW;
var fO=ib.pop(),kI=gU.pop();if(gZ=="LB")fO=f0==1;if(bM)continue;var fI=_.jb();fI.AP((gZ=="U"?"<Group>":"<Clip Group>")+A);
if(gZ=="LB")fI.AP(E.pop());fI.add.lsct=fO?aG.ED:aG.tV;fI.E9="pass";fI.xy=24;fI.vI(kI);_.B.push(fI);if(ip){if(_.B[_.B.length-3].getName()=="</Layer group>"){_.B.pop();
_.B.splice(_.B.length-2,1)}ip=!1}}else if(gZ=="Bb")bX=dp[0]!=1;else if(gZ=="BB"){}else if(gZ=="Bm"||gZ=="Bc"||gZ=="Xm"){}else if(gZ=="Bh")gR=dp.slice(2,4);
else if(gZ=="Bg"){var fF=T.Setup.Gradient,d6=fF[H(kN)],a0=kN.slice(kN.indexOf(")")+2).split(" ").map(parseFloat);
if(d6==null){console.log("gradient not found");for(var bn in fF){d6=fF[bn];break}}var aZ=a0[10];if(isNaN(aZ))aZ=1;
var ai=a0.slice(0,4);ai.push(aZ,gR[0],gR[1]);var bk=[d6.zT,d6.af0,ai,a0.slice(4,10)];i(bk,"GdFl",bX)}else if(bt=="p"){var cr=H(kN);
if(_.Ny[cr]==null){var cN=T.Setup.Pattern[cr],hK=cN.ur,hV=Math.round(hK[2]-hK[0]),f$=Math.round(hK[3]-hK[1]),hW=new eb;
hW.m=hV;hW.i=f$;hW.buffer=v.R(hV*f$*4);var cT=j[0],jq=new dT(1,0,0,-1,-cN.ur[0],f$+cN.ur[1]);jq.concat(new dT(cT,0,0,cT,0,0));
x(hW,cN.o4,[jq.U,jq.J,jq.gp,jq.x7,jq.IS,jq.rk],T,L,p);hW.m*=cT;hW.i*=cT;hW.zv();hW.W();if(be==0)hW.pM();
window.aDv=cN.o4;_.Ny[cr]=hW}var iZ=kN.slice(kN.indexOf(")")+2),fL=iZ.slice(0,iZ.indexOf("[")-1).split(" ").map(parseFloat),d5=iZ.slice(iZ.indexOf("[")+1,iZ.indexOf("]")).split(" ").map(parseFloat);
i([cr,[fL,d5]],"patt",gZ=="p")}else if(gZ=="J"||gZ=="j"||gZ=="w"||gZ=="M"||gZ=="d"){var jq=M.ctm,cT=Math.sqrt(Math.abs(jq[0]*jq[3]-jq[1]*jq[2]));
console.log(cT);for(var S=1;S<a0.length;S++){var bP=a0[S],da=dp[S-1];if(bP=="w")$.jW=da*cT;if(bP=="j")$.T1=da;
if(bP=="J")$.jf=da;if(bP=="M")$.dL=da;if(bP=="d"){var df=kN.slice(kN.indexOf("[")+1,kN.indexOf("]")).trim();
if(df.length!=0){var aC=df.split(" ").map(parseFloat);$.Pn=aC;for(var hz=0;hz<aC.length;hz++)aC[hz]*=cT}else if(df=="")$.Pn=[]}}}else if(bt=="xa"||bt=="xx"){var ez=w(kN);
i(ez,"SoCo",gZ=="Xa"||gZ=="Xx")}else if(bt=="xk"){ez=w(kN);i(ez,"SoCo",gZ=="Xk")}else if(bt=="k"||bt=="x"){ez=w(kN);
i(ez,"SoCo",gZ==bt)}else if(bt=="g"){var ez=[dp[0],dp[0],dp[0]];i(ez,"SoCo",gZ==bt)}else if(bt=="n"){if(!bM)o.newPath(M)}else if(gZ=="*u"){bM=!0;
jW=0;gU.push(hX==0)}else if(gZ=="*U"||bt=="s"||bt=="f"||bt=="b"){if(gZ!="*U"&&bM){if(bt=="f"||bt=="b")jW|=1;
if(bt=="s"||bt=="b")jW|=2;continue}if(gZ==bt)o.closePath(M);if(gZ=="*U"){bM=!1}var fI;{fI=_.jb();fI.xy|=16;
Y(fI,M.pth,_,P);var di=bt=="f"||bt=="b"||gZ=="*U"&&jW&1,ko=bt=="s"||bt=="b"||gZ=="*U"&&jW&2,kM=fI.add.vstk=bV._M.qw(di,ko),dY=JSON.parse(JSON.stringify($));
dY.A_=dY.n8=null;if(di)dY.A_=c;if(ko)dY.n8=y;if(be==0){bV._M.write(kM,dY);if(B=="SoCo"){fI.add.SoCo=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);
var fV=fI.add.SoCo.Clr.v;V(fV,c)}if(B=="GdFl"){fI.add.GdFl=bW.xu(c,fI.add.vmsk.Y)}if(B=="patt"){fI.add.PtFl=Z(c,_)}if(ko){var gm=["SoCo","GdFl","patt"].indexOf(r);
console.log(r,gm);var gi=gm==0?{Clr:{t:"Objc",v:jg.vW(y)}}:gm==1?bW.xu(y,fI.add.vmsk.Y):Z(y,_),iw=[bV.Ak,bV.n1,bV.DX][gm],cI=kM.strokeStyleContent.v={classID:bV._M.sy[gm]};
for(var S=0;S<iw.length;S++)cI[iw[S]]=gi[iw[S]]}}else fI.add.vstl=dY}if(gZ=="*U"&&fX){fI.A1=!0;fX=!1}fI.AP("<"+(gZ=="*U"?"Compound ":"")+"Path>"+A);
fI.E9=Q;fI.opacity=Math.round(255*kF);fI.vI(gZ=="*U"?gU.pop():hX==0);fI.Ys(_);_.B.push(fI);o.newPath(M)}else if(gZ==","&&a0[0]=="/XMLUID"){var jH=_.B[_.B.length-1];
for(var S=0;S<_.eS.length;S++)if("("+_.eS[S].docRef+")"==a0[2])_.eS[S].docRef="id('"+jH.add.lyid+"')"}else if(gZ==","&&a0[1]=="/FreeUndo"){hq=dp[0]}else if(gZ==","&&a0[1]=="/StoryIndex"){var jN=T.Setup.TextDocument,i0=null;
if(!(jN instanceof Array))window.atc=jN=T.Setup.TextDocument=O(jN,p);var j1=jN[0],ih=jN[2];if(j1._DocumentResources)j1=jN[0]=cf.aDL(j1);
else cf.arm(j1);var fI=_.jb();fI.add.lnsr="rend";fI.add.TySh=it.De(0,0);var gM=dp[0];if(hq==1){for(var S=1;
S<60;S++){var eZ=n[aW+S];if(eZ&&eZ.endsWith("/StoryIndex ,")){gM=parseFloat(eZ.slice(2,eZ.indexOf(" ")));
ip=!0;break}}hq=0}var c8=jr.anB(j1),ja=fI.add.TySh.p$=c8[gM];if(ja==null){console.log("text not found");
ip=!1;continue}fI.AP(it.H5(ja).slice(0,50));fI.E9=Q;fI.opacity=Math.round(255*kF);fI.vI(hX==0);var j6=j1._1._1[gM]._1._0[0]._0;
j6=parseInt(j6.slice(1));var fD=j1._0._8._0,hP=fD[j6]._0;if(hP._0)i0=g(hP._0);else if(hP._1)i0=g(hP._1._0);
else i0=g(hP._2._2).slice(3);if(i0.length!=2){var hK=v.A.c7(i0);i0=[hK.x,hK.y];if(hK.P()!=0){it.gF(ja,1);
it.r_(ja,[0,0,Math.round(hK.m),Math.round(hK.i)])}}var jO=new dT,b7=new dT(1,0,0,1,i0[0],i0[1]),kp=new dT(1,0,0,1,-ih[0],-ih[1]),co=N(M.ctm),e5=new dT;
if(hP._2&&hP._2._2){var j=g(hP._2._2);e5=new dT(j[0],j[1],j[2],j[3],j[4],j[5])}jO.concat(b7);jO.concat(e5);
jO.concat(kp);jO.scale(1,-1);jO.concat(co);fI.add.TySh.e=jO;_.B.push(fI);_.O5=!0}else if(gZ=="Tp"){q.Fp=N(dp)}else if(gZ=="Tf"){q.font=a0[0].slice(2)}else if(gZ=="Tk"){var fI=_.jb();
fI.add.lnsr="rend";var iR=fI.add.TySh=it.De(0,0),ja=iR.p$,jq=q.Fp.clone(),ir=jq.dV();jq.concat(N(M.ctm));
var i9=new dT(1/ir,0,0,-1/ir,0,0);i9.concat(jq);iR.e=i9;var hl=H(kN);fI.AP(hl);it.kL(ja,0,hl);var jA=it.tO(ja,0,hl.length);
jA.Cr.FontSize=ir;jA.Cr.FillColor={Type:1,Values:[1,c[0],c[1],c[2]]};it.nn(jA,q.font);it.ml(ja,0,hl.length,jA);
_.B.push(fI);_.O5=!0}else if(u&&dp.length>3){var iA=!1;for(var S=0;S<dp.length;S++)if(isNaN(dp[S]))iA=!0;
if(!iA)n[aW+1]=(kN+" "+n[aW+1]).replace(/\s\s+/g," ")}}}function Z(c,_){if(_.yD==null)_.yD={};var n=_.yD[c[0]];
if(n==null){var j=_.Ny[c[0]],n=_.yD[c[0]]={};n.id=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f";n.name="someImage";
n.Q$=[j.Li(),new a8(0,0,j.m,j.i)];_.j9(n)}var T=JSON.parse(bV._R[bV.order.indexOf("patternFill")]);T.Ptrn.v.Idnt.v=n.id;
var L=N(c[1][1]),p=-Math.atan2(-L.J,L.U);T.Angl.v.val=Math.round(p*180/Math.PI);T.Scl.v.val=Math.round(100*L.dV());
return T}bW.xu=function(_,n){var j=bW.DA(_,n),T=[0,0,1,0];if(_[0]==0)T[0]=.5;v.A.e(T,j,T);var L=JSON.parse(bV._R[bV.order.indexOf("GrFl")]),p=L.Grad.v;
p.Intr.v=0;L.Type.v.GrdT=["Lnr","Rdl"][_[0]];v.L.GW(_[1],p);v.L.qb(new aL(T[0],T[1]),new aL(T[2],T[3]),v.o.wV(n),L);
return L};bW.va=function(_,n){var j=["Lnr","Rdl"].indexOf(_.Type.v.GrdT),T=v.L.bM(_,n),L=T[0],p=T[1];
if(j==0){L.x-=p.x-L.x;L.y-=p.y-L.y}var E=p.x-L.x,G=p.y-L.y,A=Math.sqrt(E*E+G*G),u=new dT;u.rotate(Math.atan2(-G,E));
u.scale(A,A);u.translate(L.x,L.y);var q=bW.D8(j,u,n),o=_.Grad.v;q[1]=v.L.qK(o,null,null);return q};bW.D8=function(_,n,j,T,L,p){if(T){var E=aL.Bg(T,L),G=new dT;
G.scale(E,E);G.rotate(-Math.atan2(L.y-T.y,L.x-T.x));G.translate(T.x,T.y);G.concat(n);n=G}n.translate(-j.x,-j.y);
var A=j.m,u=j.i,q,o,M=Math.atan2(-n.J,n.U),$,Q=1;if(_==0){n.translate(-A/2,-u/2);var kF=bW.a5X(A,u,M);
n.scale(1/kF,1/kF);n.rotate(-M);n.scale(1/A,1/u);q=n.IS+.5;o=n.rk+.5;$=n.U}else{q=n.IS/A-.5;o=n.rk/u-.5;
var P=(q-.5)*A/2,bM=(o-.5)*u/2;n=n.clone();n.rotate(-M);$=n.U/Math.sqrt(2*(P*P+bM*bM));Q=n.x7/n.U;n.scale(1,1/Q)}var jW=[_,null,[q,o,M*180/Math.PI,$,Q,0,0],[1,0,0,1,0,0]];
if(T&&!p.zI(T)){var M=Math.atan2(-(p.y-T.y),p.x-T.x);jW[2][5]=M*180/Math.PI;jW[2][6]=aL.Bg(p,T)/aL.Bg(L,T)}return jW};
bW.DA=function(_,n){var j=_[0],T=_[2],L=_[3],p=new dT(L[0],L[1],L[2],L[3],L[4],L[5]);p.QE();var E=e8.vw.Rl(n);
v.o.hn(E,p);var G=v.o.wV(E),A=G.m,u=G.i,q=T[0],o=T[1],M=T[2]*Math.PI/180,$=T[3],Q=new dT;if(j==0){Q.scale($,$);
Q.translate(q-.5,o-.5);Q.scale(A,u);Q.rotate(M);var kF=bW.a5X(A,u,M);Q.scale(kF,kF);Q.translate(A/2,u/2)}else{var P=(q-.5)*A/2,bM=(o-.5)*u/2,kF=$*Math.sqrt(2*(P*P+bM*bM));
Q.scale(kF,kF*T[4]);Q.rotate(M);Q.translate((q+.5)*A,(o+.5)*u)}Q.translate(G.x,G.y);Q.concat(new dT(L[0],L[1],L[2],L[3],L[4],L[5]));
return Q};function i(_,n,j){if(j){B=n;c=_}else{r=n;y=_}}function k(_,n,j){var T=UDOC.G,L=[],p=[],E="/DeviceGray",G=1,A=[],u=1;
for(var q=0;q<_.length;q++){var o=_[q];if(o.endsWith(" /CS")){var M=o.indexOf("/NChannel"),$=o.indexOf("/Process");
if(o.startsWith("/DeviceRGB")){E="/DeviceRGB";G=3}else if(o.startsWith("/DeviceGray")){E="/DeviceGray";
G=1}else if(o.startsWith("/DeviceCMYK")){E="/DeviceCMYK";G=4;A=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(M!=-1){E="/DeviceCMYK";
G=parseInt(o.slice(M-2,M-1));var Q=1;for(var S=0;S<G;S++){Q=o.indexOf("[",Q);A[G-1-S]=o.slice(Q+1,Q+8).split(" ").map(parseFloat);
Q++}}else if($){E="/DeviceGray";G=1}else throw o}else if(o[0]=="["){var kF=o.indexOf("]"),P=o.slice(1,kF).split(" ").map(parseFloat),bM=o.slice(kF+2),jW,fX,bX,ao,en,fK;
if(bM=="/Size"||bM=="/P"||bM=="/R")continue;if(bM=="/S"||bM=="/A"){jW=P[0];fX=P[1];bX=P[2];ao=P[3];en=P[4];
fK=P[5]}else if(bM=="/N"){var bO=G+(u==1?0:1),b9;jW=P[bO+0];fX=P[bO+1];bX=P[bO+2];ao=P[bO+3];en=P[bO+5];
fK=P[bO+6];if(E=="/DeviceRGB")b9=P.slice(0,3);else if(E=="/DeviceGray")b9=[P[0],P[0],P[0]];else if(E=="/DeviceCMYK"){var bK=[0,0,0,0];
for(var S=0;S<G;S++){var f0=P[S],hn=A[S];bK[0]+=f0*hn[0];bK[1]+=f0*hn[1];bK[2]+=f0*hn[2];bK[3]+=f0*hn[3]}b9=C(bK)}else throw b9;
b9.push(P[G]);p.push([b9,jW,fX])}else throw bM;L.push([bM,en,fK,jW,fX,bX,ao])}else if(o=="/E"){var hX=L.slice(0),gR=0;
for(var S=0;S<L.length;S++){var ib=L[S][0];if(ib=="/N"){gR++;continue}var gU=S,hq=S+1;while(L[hq][0]!="/N"&&hq<L.length)hq++;
if(gR==0||gR==3){for(var ip=0;ip<hq-gU;ip++)hX[gU+ip]=L[hq-1-ip]}else for(var ip=gU;ip<hq;ip++){var aW=hX[ip],kN=aW[1];
aW[1]=aW[5];aW[5]=kN;kN=aW[2];aW[2]=aW[6];aW[6]=kN}S=hq-1}L=[];for(var S=0;S<hX.length;S++){var aW=hX[S];
L.push(aW[1],aW[2],aW[3],aW[4],aW[5],aW[6])}var hW=L.length;T.moveTo(n,L[2],L[3]);for(var S=0;S<hW;S+=6){var bX=L[(S+4)%hW],ao=L[(S+5)%hW],en=L[(S+6)%hW],fK=L[(S+7)%hW],jW=L[(S+8)%hW],fX=L[(S+9)%hW];
T.curveTo(n,bX,ao,en,fK,jW,fX)}T.closePath(n);L=[]}else if(o.endsWith("/Version"))u=parseFloat(o[0])}var jH=j.jb();
jH.xy|=16;jH.AP("<Mesh>");var g0=jH.add.vstk=bV._M.qw(!0);if(p.length>=2){var gC=0,jL=0,jf=0;for(var S=0;
S<p.length;S++)for(var ip=S+1;ip<p.length;ip++){var cm=p[S][0],eh=p[ip][0],bu=cm[0]-eh[0],eJ=cm[1]-eh[1],eZ=cm[2]-eh[2],a0=Math.sqrt(bu*bu+eJ*eJ+eZ*eZ);
if(a0>jf){jf=a0;gC=S;jL=ip}}var gZ=p[gC],bt=p[jL],dp=jH.add.GdFl=JSON.parse(bV._R[bV.order.indexOf("GrFl")]),gb=dp.Grad.v;
gb.Intr.v=0;dp.Type.v.GrdT="Lnr";v.L.GW([[0,gZ[0]],[1,bt[0]]],gb);var e_=N(n.ctm),dO=e_.iC(new aL(gZ[1],gZ[2])),dC=e_.iC(new aL(bt[1],bt[2])),kc=v.A.c7(n.pth.crds);
dO.x=(dO.x+dC.x)/2;dO.y=(dO.y+dC.y)/2;v.L.qb(dO,dC,kc,dp)}Y(jH,n.pth,j,0);j.B.push(jH);T.newPath(n)}function H(_){var n=_.indexOf(")");
while(_[n-1]=="\\")n=_.indexOf(")",n+1);return _.slice(_.indexOf("(")+1,n).replaceAll("\\","")}function V(_,c){_.Rd.v=c[0]*255;
_.Grn.v=c[1]*255;_.Bl.v=c[2]*255}function g(_){var n=[];for(var S=0;S<_.length;S++)n[S]=parseFloat(_[S].slice(1));
return n}function N(_){return new dT(_[0],_[1],_[2],_[3],_[4],_[5])}function C(_){return v.$J(_.slice(0,4)).slice(0,3)}function w(_){var n=_.split(" "),j=n[n.length-1],T=j.toLowerCase(),L=n.map(parseFloat),p=null;
if(T=="xa"||T=="xx"||T=="xz"){var p=L[4]==null?L.slice(0,3):[L[4],L[5],L[6]];if(T=="xx"&&L[L.length-2]==2)p=C(L)}else if(T=="g")p=C([0,0,0,1-L[0]]);
else if(T=="x"||T=="k"){if(T=="x"){L.pop();var E=1-L.pop();for(var S=0;S<4;S++)L[S]*=E}p=C(L)}else if(T=="xk"){var G=L[L.length-2],A=L[L.length-3];
if(G==0)p=C(L);else if(G==1){p=[L[4],L[5],L[6]];for(var S=0;S<3;S++)p[S]=A*1+(1-A)*p[S]}else throw _}else throw T;
return p}function Y(_,n,j,T){_.add.vmsk=new e8.vw;if(n.crds.length!=0)_.add.vmsk.Y=U(n);_.add.vmsk.p5=T;
_.h0();_.Ys(j)}function U(_){var n={j:_.crds,r:_.cmds},j=v.A.fI(n,!1);return j}function e(_,n){var j=[],q=0,Q=0;
for(var T=0;T<2;T++){var L=n[["Raster","Place"][T]];if(L==null)continue;for(var S=0;S<L.length;S++){for(var p=0;
p<3;p++){var E=L[S][["Data","Document","PlacedObjectPreview"][p]];if(E==null)continue;var G=E._begin,A=E._end;
if(G>A)G=A;j.push([G,A])}}}j.sort(function(P,bM){return P[0]-bM[0]});var u=[n._begin];for(var S=0;S<j.length;
S++){var o=j[S],G=o[0]+32;u.push(G,o[1]);q+=o[1]-G}u.push(n._end);var M=n._end-n._begin,$=new Uint8Array(M-q);
for(var S=0;S<u.length;S+=2){var G=u[S],kF=u[S+1]-G;$.set(new Uint8Array(_.buffer,G,kF),Q);Q+=kF}return K.uw($).split(/\r\n|\r|\n/)}function O(_,n){if(_==null)return[];
var j=e(n,_),T="",L="",p=0,E;for(var S=2;S<j.length;S++){var G=j[S];if(G[0]=="%"){if(p==0)T+=G.slice(1);
else L+=G.slice(1)}else if(G==";")p++;else if(G.endsWith("/RulerOrigin ,"))E=G.split(" ").slice(0,2).map(parseFloat)}var A=[T,L],u=[];
for(var S=0;S<2;S++){var q=A[S],o=new Uint8Array(q.length);K.sv(o,0,q);var M=FromPS.F.ASCII85Decode({buff:o,off:0}),$=ae.Nr(M);
u.push($)}u.push(E);return u}function l(_,n){if(_==null)return[];var j=e(n,_);j=j.slice(1);for(var S=0;
S<j.length;S++){var T=j[S];if(T[0]=="%")j[S]=T.slice(T[1]=="_"?2:1)}var L=F(j);return L}function I(_){var n=[];
a(_,n);for(var S=0;S<n.length;S++)n[S]="%_"+n[S];return n}function s(_,n){var j={};if(_==null)return j;
for(var S=0;S<_.length;S++){var T=e(n,_[S]),L=T[1],p=H(L),E=L.slice(L.lastIndexOf(")")+2).split(" ").map(parseFloat),G=[];
for(var A=2;A<T.length;A++)G.push(T[A].slice(2));j[p]={ur:E,o4:G}}return j}function z(_,n){var j=[],L,p;
if(_==null)return j;var T=e(n,_);for(var S=1;S<T.length;S++){var E=T[S];if(E=="0 0 Pb"||E=="PB"||E==""){}else if(E.endsWith("Xa")||E.endsWith("Xz")||E.endsWith("Xx")||E.endsWith("Xk")||E.endsWith(" k")||E.endsWith(" g")||E.endsWith(" x"))L=[0,w(E)];
else if(E.endsWith("Xs"))L=[0,[0,0,0]];else if(E.endsWith("Bg"))L=[1,H(E)];else if(E.endsWith("Pg"))L=[2,H(E)];
else if(E[0]=="(")p=H(E);else if(E=="Pc")j.push([p,L]);else if(E=="0 BB"||E=="Bb"||E.endsWith("Bh")){}else throw E}return j}function R(_,n){var j={},T,L;
if(_==null)return j;var p=[];for(var S=0;S<_.length;S++){var E=e(n,_[S]);for(var G=0;G<E.length;G++){var A=E[G];
if(A.endsWith("%_Bs")){var u=A.slice(0,A.length-4);if(!u.endsWith(" "))u+=" ";A=u+"%_BS"}if(A[0]=="("){T=H(A);
var q=A.slice(A.lastIndexOf(")")+2).split(" ");L=parseInt(q[0])}else if(A.endsWith("%_BS")){var o=A.split(" "),kF,P=1;
o.pop();o=o.map(parseFloat);var M=o.pop(),$=o.pop(),Q=o.pop();if(Q==0)kF=[o[0],o[0],o[0]];else if(Q==2||Q==4)kF=[o[4],o[5],o[6]];
else if(Q==1||Q==3)kF=C(o);else if(Q==6){if(o.length==3)kF=[o[0],o[0],o[0]];else if(o.length>=8)kF=o.slice(4,7);
else kF=C(o);P=o.pop()}else{throw Q}p.push([M/100,kF,P,$/100])}else if(A=="BD"){for(var bM=0;bM<p.length-1;
bM++)p[bM][3]=p[bM+1][3];p.sort(function(jW,fX){return jW[0]-fX[0]});j[T]={zT:L,af0:p};p=[]}}}return j}function t(_){var n="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),j=Date.now(),T=0,L=[],p={Header:{}},E=[p],G=_.length;
while(T<G){var A=T;while(A!=G&&_[A]!=13&&_[A]!=10){A++}if(_[T]==37&&_[T+1]==95&&_[T+2]==37)T+=2;if(_[T]==37&&(_[T+1]==37||_[T+1]==65)){var u=K.xA(_,T,A-T);
if(u=="%%EOF")break;if(u=="%%EndComments"||u=="%EndComments"||u=="%AI5_Begin_NonPrinting"||u=="%AI5_End_NonPrinting--"||u.startsWith("%AI17_Begin_Content_if_version_gt")||u=="%AI17_End_Versioned_Content"){}else{var q=u.indexOf("Begin"),o=Math.max(u.indexOf("_End"),u.indexOf("%End"));
if(q!=-1&&u[q-1]!="%"&&u[q-1]!="_")q=-1;if(q!=-1){var M=u.slice(q+5).split(":")[0],$={_begin:T,_end:T},Q=E[E.length-1];
if(n.indexOf(M)!=-1){if(Q[M]==null)Q[M]=[];Q[M].push($)}else{if(Q[M]!=null){console.log(E);throw u}Q[M]=$}E.push($);
if(u.startsWith("%%BeginData")){A=K.J7(_,"%%EndData",T)}else if(u.slice(0,15)=="%%BeginDocument")A=K.J7(_,"%%EndDocument",A);
else if(u=="%AI9_BeginDocumentData")A=K.J7(_,"%AI9_EndDocumentData",A);else if(u=="%AI11_BeginTextDocument")A=K.J7(_,"%AI11_EndTextDocument",A)}else if(o!=-1){if(E.length>1)E.pop()._end=T}else if(E.length==1&&(u.startsWith("%AI")||u.startsWith("%%")&&u.indexOf(" ")!=-1)){var kF=1;
if(u.startsWith("%AI"))while(u[kF]!="_"&&kF<u.length)kF++;var P=u.indexOf(":");if(P==-1)P=u.indexOf(" ");
var bM=u.slice(kF+1,P),jW=u.slice(P+1).trim();p.Header[bM]=jW}}}T=A;if(_[T]==13)T++;if(_[T]==10)T++}return p}function a(_,n){if(_ instanceof Array)for(var S=0;
S<_.length;S++)a(_[S],n);else if(typeof _=="object"){for(var j in _){var T=_[j];if(typeof T=="number")n.push(T+" /Int ("+j+") ,");
else if(typeof T=="string")n.push("("+T+") /String ("+j+") ,");else if(T instanceof Array){n.push("/Array :");
a(T,n);n.push("; ("+j+") ,")}else if(typeof T=="object"){n.push("/Dictionary :");a(T,n);n.push("; ("+j+") ,")}}}}function J(_,n){for(var S=0;
S<n.length;S++)if(_.startsWith(n[S]))return!0;return!1}function F(_){var n=[],j=[],top=-1,T,L=null,p=null,E=null,G=0;
for(var A=0;A<_.length;A++){var u=_[A];if(T){u=T+u;T=null}var q="\t".repeat(n.length);if(L!=null){L.push(u);
if(u.endsWith("~>")){var o=K.$N(L.join("")),M=FromPS.F.ASCII85Decode({off:0,buff:o});n.push(M);j.push(!1);
top++;L=null}}else if(E!=null){if(u=="X+"){if(G==1){n.push(E);j.push(!1);top++;E=null}else G--}else if(u=="X=")G++;
else E.push(u)}else if(p!=null){if(u=="/Def ; "){n.push(p);j.push(!1);top++;p=null}else p.push(u)}else if(u=="/Binary : /ASCII85Decode ,"){L=[]}else if(u=="X="){E=[];
G++}else if(u=="/FillStyle : 0 O"){p=["0 O"]}else if(u=="/SVGFilter :"||u=="; /Def ;")continue;else if(u.startsWith("/XMLUIDREF :")){var $=h(u);
n[top][$[4]]=$[2]}else if(u.startsWith("/")&&u[1].toUpperCase()!=u[1].toLowerCase()){if(u.startsWith("/XMLUID")){var $=h(u);
if(j[top])throw"e";n[top][$[4]]=$[2]}if(u.startsWith("/GObjRef")){var $=h(u);if($.length==7){if(j[top])throw"e";
n[top][$[5]]=$[2]}else{if(!j[top])throw"e";n[top].push($[2])}}else{var Q=u.startsWith("/Array")||u.startsWith("/Document");
n.push(Q?[]:{});j.push(Q);top++}}else if(u.endsWith(",")){var kF,P,$=h(u);$.pop();if($[0]==";"||$.length==1||u==" ,"){P=n.pop();
j.pop();top--;kF=j[top]?null:$.pop()}else{kF=j[top]?null:$.pop();var bM=$.pop(),jW=$[0];if(bM=="/Int")P=parseInt(jW);
else if(bM=="/Real")P=parseFloat(jW);else if(bM=="/Bool")P=jW=="1";else if(bM=="/String"||bM=="/UnicodeString")P=$.join("");
else if(bM=="/RealMatrix"||bM=="/RealPoint"||bM=="/RealPointRelToROrigin")P=$.map(parseFloat);else throw bM}if(j[top])n[top].push(P);
else n[top][kF]=P}else if(u==";"){}else if(u==""){}else{if(u.indexOf("/RealPoint")!=-1){}else if(u.startsWith("(")&&u.endsWith(")")){}else if(u.endsWith("/RealMatrix")){}else throw u;
T=T?T+u:u}}return n}function h(_){var n=0,j=[];while(n<_.length){var T=_[n],L=T.charCodeAt(0);if(T==" ")n++;
else if(T==","||T==";"||T==":"){j.push(T);n++}else if(T=="("){var p=n+1;while(!(_[p]==")"&&(_[p-1]!="\\"||_[p-2]=="\\")))p++;
var E=_.slice(n+1,p);j.push(E);n=p+1}else if(T=="/"||T=="-"||48<=L&&L<=57){var p=n;while(_[p]!=" ")p++;
j.push(_.slice(n,p));n=p}else throw T}return j}function m(_){var n="";for(var S=0;S<_.length;S++){if(_[S]=="_"&&_[S+1]=="x"){var bd=parseInt(_.slice(S+2,S+4),16);
n+=String.fromCharCode(bd);S+=4}else if(_[S]=="_")n+=" ";else n+=_[S]}return n}function D(_){var n="xmlnode-nodename",j="xmlnode-nodevalue",T="xmlnode-attributes",L="xmlnode-children",p=_[n].split(":").pop().replace("#",""),E=_[T],G=_[L],A="<"+p;
for(var u in E)if(u!="xmlns"&&u!="xmlns:v")A+=" "+u.split(":").pop()+"=\""+E[u][j]+"\"";A+=">"+(G.length==0?"":"\n");
for(var S=0;S<G.length;S++)A+=D(G[S]);if(_[j])A+=_[j];return A+"</"+p+">\n"}return d}();bW.a5X=function(d,W,c){var y=v.A.z$(new a8(0,0,d,W)).j,B=new dT;
B.rotate(c);v.A.e(y,B,y);var r=v.A.c7(y);return r.m/d};bW.a6Q=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
bW.dn=function(){function d(g){var N=72/g.tU,C=new dT(N,0,0,-N,0,0),w=g.root.children,Y=[],U={Se:[],a6X:0},e=16383,o=0,$=0;
for(var S=0;S<w.length;S++)x(w[S],g,C,U,Y,0);var O=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+e+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
O.push("%%BeginSetup\r");O=O.concat(U.Se);for(pn in g.Ny){var l=g.Ny[pn],I=g.tU/72;O.push("%AI3_BeginPattern: ("+pn+")");
O.push("("+pn+") 0 0 "+Math.round(l.m/I)+" "+Math.round(l.i/I));var w=l.root.children,s=[];for(var S=0;
S<w.length;S++)x(w[S],l,C,U,s,1);s=window.aDv;for(var S=0;S<s.length;S++){var z=s[S];O.push(z.startsWith("%_")?z:"%_"+z)}O.push("E","%AI3_EndPattern");
console.log(N);console.log(l)}O=O.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var R=g.add.arts;for(var S=0;S<R.length;S++){var t=R[S];console.log(t);var a=t.ur[0]*N,J=-t.ur[1]*N,F=t.ur[2]*N,h=-t.ur[3]*N;
O.push("/Dictionary :","("+t._S+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",e/2+" "+e/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",c(a)+" "+c(J)+" /RealPointRelToROrigin"," (PositionPoint1) ,",c(F)+" "+c(h)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}O=O.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var m=[],D=[];for(var S=0;S<g.B.length;S++){var _=g.B[S],n=_.add.TySh;if(n){m.push(n.p$);D.push(n)}}if(m.length!=0){var j=jr.a2$(m,null,null);
function T(t){return t.map(function(Q){return"f"+Q})}for(var L=0;L<m.length;L++){var n=D[L],p=j._1._1[L],E=p._1._0[0]._0;
E=parseInt(E.slice(1));var G=j._0._8._0[E]._0,A=n.e.clone();A.concat(C);A.scale(1,-1);G._2._2=T([A.U,A.J,A.gp,A.x7,A.IS,A.rk])}var u=W(j),q=W(j);
O.push("%AI11_BeginTextDocument");O.push("/AI11TextDocument : /ASCII85Decode ,");O=O.concat(u);O.push("0.0001 0.0001 /RulerOrigin ,");
O.push(";");O.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");O=O.concat(q);O.push(";");O.push("%AI11_EndTextDocument")}O.push("%%EndSetup\r");
O=O.concat(Y);console.log(O.join("\n"));O.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var S=0;S<O.length;S++){var t=O[S];if(typeof t=="string")t=O[S]=K.$N(t);o+=t.length+1}var M=new Uint8Array(o);
for(var S=0;S<O.length;S++){var t=O[S];M.set(t,$);$+=t.length;M[$]=13;$++}return cc.aae(M).buffer}function W(g){var N=new jD,C=ae.Fm(g,N)-2,w=V(N.data.slice(0,C)),Y=[];
for(var U=0;U<w.length;U+=100){if(w.length-U<103){Y.push("%"+w.slice(U));break}Y.push("%"+w.slice(U,U+100))}return Y}function c(bd){return bd.toFixed(3)}function y(g,N){var C=g.getName(),w=null;
N.push("%_/ArtDictionary :");if(g.add.vmsk)w=g.add.vmsk.jP;if(g.add.SoLd){var Y=v.D.s2(g.add.SoLd);w=Math.atan2(-Y.J,Y.U)}if(g.add.TySh){var Y=g.add.TySh.e;
w=Math.atan2(-Y.J,Y.U)}if(w!=null&&w!=0)N.push("%_("+w+") /String (BBAccumRotation) ,");if(g.add.TySh)N.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!C.startsWith("<")&&!C.endsWith(">")){N.push("%_/XMLUID : "+B(C)+" ; (AI10_ArtUID) ,")}N.push("%_;","%_")}function B(g){var N="";
for(var S=0;S<g.length;S++){var C=g[S],w=g.charCodeAt(S);if(C==" ")N+="_";else if(C=="."||C==":"||C=="-"||48<=w&&w<=57||65<=w&&w<=90||97<=w&&w<=122||127<w)N+=C;
else N+="_x"+w.toString(16).toUpperCase()+"_"}return"("+N+")"}function r(g,N,C){C.push(c(g[0])+" "+c(g[1])+" "+c(g[2])+" "+N)}function x(g,N,C,w,Y,U){var e=g.a;
if(U!=0)Y.push((e.jF()?0:1)+" Xw");if(e.vS()){var O=!1;for(var S=0;S<g.children.length;S++)if(g.children[S].a.A1)O=!0;
var l=e.add.lsct==aG.ED?1:0;if(U==0){Y.push("%AI5_BeginLayer");Y.push((e.jF()?1:0)+" 1 1 1 0 0 -1 51 44 43 Lb");
Y.push("("+e.getName()+") Ln");Y.push(l+" AE");y(e,Y)}else{Y.push(l+" Ae");Y.push(O?"q":"u")}for(var S=0;
S<g.children.length;S++)x(g.children[S],N,C,w,Y,U+1);if(U==0)Y.push("LB","%AI5_EndLayer--");else{Y.push(O?"Q":"U");
y(e,Y);Z(e,Y);Y.push("0 0 Xd","6 () XW")}}else{Z(e,Y);var I=e.add.TySh,s=e.add.vmsk;if(I){Y.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",w.a6X+" /StoryIndex ,");
if(it.$_(I.p$)==1){var z=it.kq(I.p$),R=v.A.z$(new a8(z[0],z[1],z[2],z[3])).j;v.A.e(R,I.e,R);v.A.e(R,C,R);
Y.push("/Art :","X=","1 Ap",R[0]+" "+R[1]+" m",R[2]+" "+R[3]+" L",R[4]+" "+R[5]+" L",R[6]+" "+R[7]+" L",R[0]+" "+R[1]+" L","n","X+","; /ConfiningPath ,")}Y.push("2 /TextAntialiasing ,",";");
w.a6X++}else if(e.add.SoLd){var t,a,J,F=e.add.SoLd,h=F.Idnt.v,m=N.Zg(h,F.Crop?F.Crop.v:null),D=m.Ma,t=D[0],a=D[1];
J=v.D.s2(F);var _=new dT(1,0,0,-1,0,0);_.concat(J);_.concat(C);var n=a.P(),j=a.m,T=a.i,L=v.R(n*4+8);
for(var S=0;S<n;S++){var p=S*4,E=S*3;L[E]=t[p];L[E+1]=t[p+1];L[E+2]=t[p+2];L[3*n+S]=t[p+3]}K.sv(L,n*4,"%EndData");
Y.push("%AI5_File:","%AI5_BeginRaster","[ "+[_.U,_.J,_.gp,_.x7,_.IS,_.rk].map(c).join(" ")+" ] 0 0 "+[j,T,j,T].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(n*4+4),"XI",L,"XH","%AI5_EndRaster","N")}else if(s){var G=e.add.vstk,A=e.add.vstl,u,q;
if(A){u=A.A_;q=A.n8}var o=v.o.mQ(s.Y)>1;if(o)Y.push("*u","0 Xw");if(u){if(u.length==3)r(u,"Xa",Y);else if(u.length==4){var M=k(u,w);
Y.push("Bb",M,"2 BB")}else{Y.push("("+u[0]+") "+u[1][0].join(" ")+" ["+u[1][1].join(" ")+"] p")}}if(q){var $=C.dV(),Q=A.Pn.slice(0);
for(var S=0;S<Q.length;S++)Q[S]*=$;Y.push(A.jf+" J "+A.T1+" j "+A.jW*$+" w "+c(A.dL)+" M ["+Q.join(" ")+"]0 d");
if(q.length==3)r(q,"XA",Y);else if(q.length==4){var M=k(q,w);Y.push("1 Bb",M,"2 BB")}else{Y.push("("+q[0]+") "+q[1][0].join(" ")+" ["+q[1][1].join(" ")+"] P")}}var kF=v.A.ly(s.Y,1);
v.A.e(kF.j,C,kF.j);var P=e.A1?"h\nW\nn":u&&q?"b":u?"f":"s";i(kF,P,s.p5,Y);if(o)Y.push("*U")}y(e,Y)}}function Z(g,N){var C=bW.a6Q.indexOf(g.E9);
if(C==-1)C=0;N.push(C+" "+c(g.opacity/255)+" 0 0 0 Xy")}function i(g,N,C,w){w.push(C+" XR");var Y=0;
for(var U=0;U<g.r.length;U++){var e=g.r[U],O,l=0,I="";if(e=="M"){l=2;O="m"}if(e=="L"){l=2;O="l"}if(e=="C"){l=6;
O="c"}for(var S=0;S<l;S++)I+=c(g.j[Y+S])+" ";Y+=l;if(l!=0)w.push(I+O);if(U==g.r.length-1||g.r[U+1]=="M"){w.push(e=="Z"?N:N.toUpperCase())}}}function k(g,N){var C=H(g,N),w="";
if(g[0]==1)w="0 0 "+g[2].slice(5).map(c).join(" ")+" Bh\n";return w+"1 ("+C+") "+g[2].slice(0,4).map(c).join(" ")+" "+g[3].map(c).join(" ")+" "+c(g[2][4])+" Bg"}function H(g,N){var C=g[0],w=g[1].slice(0),Y="grd"+N.Se.length;
N.Se.push("%AI5_BeginGradient: ("+Y+")","("+Y+") "+C+" "+w.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(C==0)w=w.reverse();for(var S=0;S<w.length;S++){var U=w[S],e=v.YP(U[1]),O=e.concat(U[1]).map(c).join(" ")+" 2 "+c(U[2])+" 6 50 "+c(U[0]*100);
N.Se.push(O+" %_BS");N.Se.push("%_"+O+" Bs")}N.Se.push("BD","%AI5_EndGradient");return Y}function V(g){var N=[85*85*85*85,85*85*85,85*85,85,1],C="",w=g.length,Y=new Uint8Array(4),U=new Uint32Array(Y.buffer);
for(var S=0;S<w;S+=4){var e=w-S;Y[3]=g[S];Y[2]=e>1?g[S+1]:0;Y[1]=e>2?g[S+2]:0;Y[0]=e>3?g[S+3]:0;var O=U[0],l=1+Math.min(4,e);
for(var I=0;I<l;I++){var s=Math.floor(O/N[I]);C+=String.fromCharCode(33+s);O-=s*N[I]}}return C+"~>"}return d}();
function bY(){}bY.Nr=function(){var d,W,c,y,B,U,e,O;function r(_){return K.yk(d,_)}function x(_){return K.w1(d,_)}function Z(_){return K.kK(d,_)}function i(_){return K.VL(d,_)}function k(_,n){var j=[];
for(var S=0;S<n;S++)j.push(Z(_+S*4));return j}function H(_,n){var j=[];for(var S=0;S<n;S++)j.push(r(_+S*8));
return j}function V(_){return Z((_+1)*4096-12)}function g(_){return Z((_+1)*4096-8)}function N(_,W,n,j){if(y[_]==null)y[_]=[];
y[_].push([j,new Uint8Array(d.buffer,W,n)])}function C(_,n,j,T){var L=c[_],W=L*4096;W=W+Z(W+4096-24-12-n*4);
var p=x(W),E=d[W+2],G=d[W+3];if(n!=E)throw E;if(G==0)N(T,W+4,j,9);else{var A=x(W+6),u=Z(W+8);N(T,W+12,p-12,9);
C(u,A,j-(p-12),T)}}function w(){var _=Z(352),n=Z(_*4096+128),j=Z(936);c=[];y={};B={};for(var S=0;S<1e9;
S++){var T=Z(j*4096+128+S*4);if(T==0)break;var L=k(T*4096+128,4096-128-12>>>2);c=c.concat(L)}for(var p=0;
p<c.length;p++){var E=c[p],G=V(E);if(G!=6)continue;var W=E*4096,A=Z(W);W+=4;for(var S=0;S<A;S++){var u=Z(W);
W+=4;var q=Z(W);W+=4;var o=Z(W);W+=4;var M=Z(W);W+=4;if(u==0)B[q]=o;else{var $=o&65535,Q=o>>>16;if(Q==0)N(q,M*4096,$,8);
else C(M,Q,$,q)}}}var U={};for(var kF in y){var P=y[kF],bM=P.length;if(bM==1)U[kF]=P[0][1];else{var jW=0,W=0;
for(var S=0;S<bM;S++)jW+=P[S][1].length;var fX=U[kF]=new Uint8Array(jW);for(var S=0;S<bM;S++){fX.set(P[S][1],W);
W+=P[S][1].length}}}return U}function Y(W,_){var n=_?Z(W):x(W),j="";W+=_?4:2;while(j.length<n){var T=d[W++],L=d[W++],p=0,E="";
T+=(L&15)*256;L=L&240;for(var S=0;S<T;S++){if(L==64)p=d[W++];else if(L==128)p=d[W++]|d[W++]<<8;else throw L;
E+=String.fromCharCode(p)}j+=E}return[j,W]}function l(W,_,n){var j=k(W,_);for(var S=0;S<_;S++){n.push(S);
if(j[S]>e)throw"e";j[S]=s(j[S],n);n.pop()}return j}var I={};function s(_,n){if(O.indexOf(_)!=-1)return U[_];
if(_==0)return null;if(U[_]==null)return null;if(!(U[_]instanceof Uint8Array))return U[_];var j=d,W=0;
d=U[_];O.push(_);var T=B[_].toString(16),L=U[_]={_type:D[T]?D[T]+":"+T:"typ-"+T,_eid:_};while(W+8<d.length){var p=Z(W);
W+=4;var E=p.toString(16),G=Z(W);W+=4;var A=W+G;if(W+G>d.length){L._bin=d;break}z(E,J,L,W,G,n);W=A}d=j;
O.pop();return L}function z(_,n,j,W,T,L){var p=n[_+":"+j._type];if(p==null)p=n[_];L.push(p?p[0]==""?_:p[0]:_);
if(p){var E=p[0],G=null,A=p[1];if(E=="")E=A+"-"+_;if(h[A]&&T!=h[A]){console.log(A);console.log(_,p);
console.log(d.slice(W,W+T));throw"e"}if(A=="mat")G=H(W,6);else if(A=="mmat")G=[s(Z(W),L),H(W+6,6)];else if(A=="rect")G=H(W,4);
else if(A=="mrct"){G=H(W,4);G.push(x(W+32))}else if(A=="doub")G=r(W);else if(A=="pointArr"){var u=x(W);
G=k(W+2,u*2)}else if(A=="usrt")G=x(W);else if(A=="uint")G=Z(W);else if(A=="pntr"||A=="ptr6"){G=s(Z(W),L)}else if(A=="bool2"){if(x(W)!=0&&x(W)!=1)throw x(W);
G=x(W)==1}else if(A=="bool4"){if(Z(W)!=0&&Z(W)!=1)throw _+","+Z(W);G=Z(W)==1}else if(A=="color"){if(T!=38&&T!=30)throw T;
var q=Z(W),o=x(W+4);G=[q];for(var S=0;S<o;S++)G.push(r(W+6+S*8))}else if(A=="path"){var M=W+T;G=[];var $=Z(W);
W+=4;for(var S=0;S<$;S++){var Q=[[]];G.push(Q);var kF=Z(W);W+=4;for(var P=0;P<kF;P++){var q=Z(W);W+=4;
if(q<2){Q[0].push([q,r(W),r(W+8),r(W+16),r(W+24),r(W+32),r(W+40)]);W+=48}else if(q==2){Q[0].push([q,r(W),r(W+8)]);
W+=16}else throw q}Q.push(x(W));W+=2}}else if(A=="ptrAndList"){var bM=Z(W),jW=Z(W+4);G=l(W+8,jW,L);G.unshift(s(bM,L))}else if(A=="ptrArray"||A=="ptrArrayX"){var fX=T>>2;
if(A=="ptrArray"){fX=Z(W);W+=4;if(T!=4+fX*4)throw T}G=l(W,fX,L)}else if(A=="ptrArray2"){var fX=Z(W);
W+=4;G=l(W,fX,L);W+=fX*4;fX=Z(W);W+=4;G.push(l(W,fX,L))}else if(A=="cldrn"){var bX=Z(W),ao=Z(W+4),fX=Z(W+8);
G={H:s(bX,L),dG:s(ao,L),sm:l(W+12,fX,L)};if(T!=12+fX*4){console.log(_,sa);throw"e"}if(bX==0)throw bX}else if(A=="aprnc"){var fX=Z(W);
W+=4;G={};for(var S=0;S<fX;S++){var en=Z(W),fK=x(W+4),bO=x(W+6);W+=8;var b9=m[en.toString(16)];if(b9==null)b9="prm-"+en.toString(16);
else b9=a(b9);G[b9]=[];for(var P=0;P<bO;P++){var bK=Z(W),f0=x(W+4),hn=null;W+=6;if(bK==28264)hn=r(W);
else if(bK==28263)hn=Z(W);else if(bK==279||bK==6917)hn=s(Z(W),L);else if(bK==28261)hn=x(W)==1;else if(bK==28265)hn=[r(W),r(W+4)];
else if(bK==6914||bK==83231)hn=Y(W+3)[0];else if(bK==28259||bK==28260||bK==23094||bK==67679){hn=d.slice(W,W+f0)}else throw bK.toString(16);
G[b9].push(hn);W+=f0}}}else if(A=="lopts"){G={alP:x(W+0)==1,show:x(W+2)==1,ab6:x(W+4)==1,CV:Z(W+10),name:Y(W+21)[0]}}else if(A=="origin"){var M=W+T;
if(d[W++]!=1)throw"e";var u=Z(W);W+=4;var hX=K.xA(d,W,u);W+=u;if(d[W++]!=1)throw"e";var gR=d[W++];if(gR!=1&&gR!=53)throw gR;
var ib=x(W);W+=2;if(ib!=0&&ib!=1)throw ib;var gU=Z(W);W+=4;if(gU!=0&&gU!=1)throw gU;var hq=Z(W);W+=4;
if(hq!=0&&hq!=2&&hq!=3)throw hq;var ip=Z(W);W+=4;var aW=Y(W,!0);W=aW[1];aW=aW[0];var kN=Z(W),hW=Z(W+4);
W+=8;var jH=Z(W);W+=4;if(jH!=0)throw jH;var g0=Z(W);W+=4;W+=3;var gC=Y(W)[0];W+=2+2+gC.length;G={file:hX,id:aW,Uw:gC}}else if(A=="string")G=Y(W+3)[0];
else if(A=="relEnt"){var jL=x(W);W+=2;G=[];for(var S=0;S<jL;S++)G.push([Z(W+S*8),s(Z(W+S*8+4),L)])}else if(A=="textData"){var M=W+T,jf=Z(W);
W+=4;var en=Z(W);W+=4;var o=x(W);W+=2;var cm=[];for(var S=0;S<o;S++){var eh=Z(W);W+=4;if(jf==514)cm.push(Y(W,!0)[0]);
else if(jf==515){var bu=Z(W),_=Z(W+4),eJ=R(W+8,L);cm.push([bu,s(_,L),eJ])}else if(jf==516){var bu=Z(W),_=Z(W+4),eZ=x(W+8),eJ=R(W+8,L);
cm.push([bu,s(_,L),eJ])}else cm.push(d.slice(W,W+eh));W+=eh}if(M-W!=12)throw M-W;G=cm}else if(A=="storyProps"){var a0=Z(W);
if(x(W+4)>1)throw"e";var gZ=s(Z(W+6),L),o=Z(W+10),bt=s(Z(W+14+o*4),L);G={a3V:a0,azJ:gZ,sm:l(W+14,o,L),a9Z:bt,akG:k(W+14+o*4+4,4)}}else if(A=="styleProps")G=R(W,L);
else if(A=="bounds"){var dp=W,jL=Z(W);W+=4;G=[];for(var S=0;S<jL;S++){var gb=[];G.push(gb);for(var P=0;
P<4;P++)gb.push(r(W+P*8));W+=32;gb.push(d[W]);W++}if(W!=dp+T)throw"e"}else if(A=="columnPos"){var jL=Z(W);
W+=4;G=[H(W,jL),r(W+jL*8)];W+=jL*8+8}else if(A=="StyleName"){G=[Z(W+4)]}else if(A=="fontName"){var M=W+T;
G=[x(W)];W+=2;for(var S=0;S<2;S++){var hX=Y(W+3);W=hX[1];G.push(hX[0])}G.push(Z(W));W+=4;var e_=x(W);
W+=2;G.push(e_);var dO=x(W);W+=2;var dC=[];G.push(dC);for(var kc=0;kc<dO;kc++){var ia=[];dC.push(ia);
var hX=Y(W+3);W=hX[1];ia.push(hX[0]);var hO=x(W);W+=2;var hX=K.xA(d,W,hO);W+=hO;ia.push(hX);for(var S=0;
S<3;S++){var hX=Y(W+3);W=hX[1];ia.push(hX[0])}ia.push(Z(W));W+=4;var hX=Y(W,!0);W=hX[1];ia.push(hX[0])}if(W+4!=M)throw"e";
G.push(Z(W))}else throw A;if(j[E]!=null){console.log(E,j[E],G);console.log(L.slice(0));console.log(eid,_,W,j[E],p,G);
throw"e"}j[E]=G}else{var cj=d.slice(W,W+T);j["prop-"+_]=cj}L.pop()}function R(W,_){var n=x(W);W+=2;var j={};
for(var S=0;S<n;S++){var T=Z(W);W+=4;var L=T.toString(16),p=x(W);W+=2;var E=x(W);W+=2;for(var G=0;G<E;
G++){var A=Z(W);W+=4;var u=x(W);W+=2;z(L,F,j,W,u,_);W+=u}}return j}function t(_){d=new Uint8Array(_);
U=w();var n=U[2147483649];n=K.uw(n,4,n.length-4);delete U[2147483649];e=0;for(var j in U)e=Math.max(e,parseInt(j));
O=[];var T={};for(var j in U)T[j]=U[j];for(var j in U)s(parseInt(j),[]);return U}function a(_){_=_.split(" ").join("");
return _[0].toLowerCase()+_.slice(1)}var J={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},F={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},h={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},m={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},D={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return t}();function cM(){}cM.Nr=function(){var d=0;function W(V,g){var N=bY.Nr(V),F=1;d=0;var C=N[1],w=C.spreads,Y=[],U=new a8;
for(var e=0;e<w.length;e++){var O=w[e],l=O.children.sm,I=y(O),s=l[0].children.sm,z=new a8;for(var R=0;
R<s.length;R++){var t=s[R],a=y(t);a.concat(I);var J=c(t);J.offset(a.IS,a.rk);J=v.A.zk(J);z=z.hB(J)}Y.push(z);
U=U.hB(z)}while(Math.sqrt(U.P())*F<1e3)F++;g.m=U.m*F;g.i=U.i*F;g.buffer=new Uint8Array(4*g.m*g.i);g.O5=!0;
g.tU=Math.round(72*F);g.AF(w.length);for(var e=0;e<w.length;e++){var O=w[e],l=O.children.sm,h=g.jb();
h.xy=24;h.add.lsct=aG.ED;h.AP("Artboard "+(e+1));var m=Y[e].clone();m.offset(-U.x,-U.y);m.x*=F;m.y*=F;
m.m*=F;m.i*=F;m=v.A.zk(m);h.Nn(m);h.E9="pass";g.B.push(g.b7());var I=y(O);I.translate(-U.x,-U.y);I.scale(F,F);
var D={};for(var _=0;_<l.length-1;_++){var n=l[_],j=n.children.sm,T=g.jb(),L=n.layer.lopts;if(L.name=="Internal_pages_layer_name"||D[L.name])continue;
D[L.name]=!0;T.xy=24;T.add.lsct=aG.ED;T.AP(L.name);T.vI(L.show);if(L.alP)T.add.lspf=1<<31;T.E9="pass";
g.B.push(g.b7());for(var S=0;S<j.length;S++)i(j[S],g,I,N);g.B.push(T)}g.B.push(h)}}function c(V){var g=V.rect;
return new a8(g[0],g[1],g[2]-g[0],g[3]-g[1])}function y(V){var g=V.transform;return new dT(g[0],g[1],g[2],g[3],g[4],g[5])}function B(V){var g=V.color,N=V.parentFill,w;
if(g==null&&N)g=N.color;if(g==null){console.log("strange color",V);return[0,0,0]}var C=g[0];if(C==5)w=g.slice(1);
else if(C==6)w=UDOC.C.cmykToRgb(g.slice(1));else if(C==7){var Y=v.m2(g[1],g[2],g[3]);w=[Y.Z/255,Y.G/255,Y.J/255]}else if(C==14){w=g.slice(1);
console.log("unsure about the color")}else{console.log(g);throw C}return w}function r(V){var g=B(V);
return v.L.FV({Z:g[0]*255,G:g[1]*255,J:g[2]*255})}function x(V){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[V]}function Z(V,g){var S=0,N=0;
while(V[S+1]&&N+V[S][0]<=g){N+=V[S][0];S++}V=V[S][1].textData;S=0;while(V[S+1]&&N+V[S][0]<=g){N+=V[S][0];
S++}return V[S]}function i(V,g,N,C){var w=V.transform?y(V):new dT;w.concat(N);var Y=V.path,U=V.appearance,e=V.visible,O=V.children?V.children.sm:null,l=g.jb();
if(e!=null)l.vI(e);var I=O&&O.length==1&&O[0].bitmapFill,s=V["bool2-1623"]&&O&&O.length==1&&O[0].rect&&O[0]._type.startsWith("TextFrame");
if(I){l.AP("bitmap");var z=O[0],R=c(z),t=y(z),m=null;t.concat(w);var a=z.bitmapFill.bitmap;a=C[a]._bin;
if(a.length!=a.buffer.byteLength)a=a.slice(0);if(a[0]==123){console.log("unknown bitmap format");return}var J=g.GC(a,"img.jpg",0,0);
J.xy=l.xy;l=J;var F=[0,0,R.m,0,R.m,R.i,0,R.i];v.A.e(F,t,F);l.add.SoLd.Trnf=X.X.oY(F);l.add.SoLd.nonAffineTransform=X.X.oY(F);
l.Hg(g,!1);var h=z.path;if(h&&h.length!=0)m=H(h,t,U);else if(Y&&Y.length!=0)m=H(Y,w,U);if(m){var D=v.o.wV(m.Y),_=v.A.c7(F);
if(D.P()/_.nK(D).P()>1.1){if(D.contains(_))m=null;var n=V.children;V.children=null;i(V,g,N,C);V.children=n}}if(m)l.add.vmsk=m;
l.h0();l.Ys(g)}else if(s){if(U&&U.strokeSwatch){var j=g.jb();k(j,g,U,Y,w);g.B.push(j)}var T=O[0],R=c(T),t=y(T),bX=0;
t.concat(w);var L=T.children.sm[0],p=L.obj228,E=p[0].story[1],G=E.stoProps.azJ.relEnt,A=E.stoProps.sm[0].relEnt,u=E.stoProps.sm[1]["ptrArrayX-210"][0].textData,q=C[G[0][1].textData[0][1].name[0]],o=q?q.styProps:{};
u=u.join("").replace(/\r/g,"\n");var M=-1;while((M=u.indexOf("\uFFFC"))!=-1){u=u.slice(0,M)+(u[M-1]=="\n"?" ":" ")+u.slice(M+1)}l.AP(u.slice(0,255));
l.add.lnsr="rend";l.add.TySh=it.De(0,0);l.add.TySh.Nz=R;l.add.TySh.e=t;var $=l.add.TySh.p$;it.kL($,0,u);
var Q=it.tO($,0,u.length);Q.Cr.FontSize=10;it.ml($,0,u.length,Q);var kF=[];if(u.length!=0){var P=Z(G,0),bM=Z(A,0),jW=1;
for(var S=1;S<u.length;S++){var Y=Z(G,S),fX=Z(A,S);if(Y!=P||fX!=bM){kF.push(jW);jW=0}P=Y;bM=fX;jW++}if(jW!=0)kF.push(jW)}for(var S=0;
S<kF.length;S++){var ao=Z(A,bX),en=kF[S],fK=Math.min(bX+en,u.length-1),bO=ao[2],b9=ao[1].styProps;if(b9==null)b9={};
var bK=Z(G,bX),f0=bK[1].styProps,hn=bK[2],hX={};for(var gR in o)hX[gR]=o[gR];for(var gR in f0)hX[gR]=f0[gR];
for(var gR in hn)hX[gR]=hn[gR];for(var gR in b9)hX[gR]=b9[gR];for(var gR in bO)hX[gR]=bO[gR];var Q=it.tO($,bX,fK),ib=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],gU=ib.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var hq=0;hq<gU.length;hq++){var gR=gU[hq],ip=hq<ib.length?Q.Cr:Q.a0;if(hX[gR]!=null)ip[gR]=hX[gR]}if(hX.fillColor){var aW=B(hX.fillColor);
Q.Cr.FillColor={Type:1,Values:[1].concat(aW)}}if(hX.font){var kN=hX.font.name[5],hW=hX.fontStyle;if(hW==null)hW="Regular";
for(var g0=0;g0<kN.length;g0++)if(kN[g0][0]==hW)it.nn(Q,kN[g0][1])}if(hX.leading!=null&&hX.leading>1){Q.Cr.Leading=hX.leading;
Q.Cr.AutoLeading=!1}if(hX.align!=null)Q.a0.Justification=[0,2,1,6,3,5,4,0,0,0][hX.align];it.ml($,bX,fK,Q);
bX+=en}it.gF($,1);it.r_($,[0,0,Math.round(R.m),Math.round(R.i)])}else if(V._type.startsWith("Path")&&(O==null||O.length==0)&&Y){k(l,g,U,Y,w)}else{var gC=V["prop-14526"];
if(O==null&&gC){var jL=C[K.kK(gC,20)];O=[jL]}if(O){if(Y&&Y.length!=0){l.add.vmsk=H(Y,w,U);l.h0();l.Ys(g)}l.AP("group");
l.xy=24;l.add.lsct=aG.ED;g.B.push(g.b7());for(var S=0;S<O.length;S++)i(O[S],g,w,C)}}if(U){var jf=U.objectBlendingMode,cm=U.objectOpacity,eh=U.fillTint,eJ=!1;
if(jf)l.E9=x(jf[0]);if(cm)l.opacity=Math.round(l.opacity*cm[0]/100);if(!I&&eh)l.opacity=Math.round(l.opacity*eh[0]/100);
var bu=JSON.parse(bV.default);for(var S=0;S<bV.order.length;S++)bu[bV.Fb[S]]={t:"VlLs",v:[]};var eZ="dropShadow innerShadow satin bevel iglow oglow".split(" "),a0="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var S=0;S<eZ.length;S++){var gZ=eZ[S];if(U[gZ]&&U[gZ][0]){var bt=U[gZ],gb=135,e_=10;eJ=!0;var dp=JSON.parse(bV._R[bV.order.indexOf(a0[S])]);
bu[bV.Fb[bV.order.indexOf(a0[S])]].v.push({t:"Objc",v:dp});if(U[gZ+"Color"])dp.Clr.v=r(U[gZ+"Color"][0]);
else if(eZ[S]=="iglow"||eZ[S]=="oglow")dp.Clr.v=v.L.FV({Z:255,G:255,J:255});if(U[gZ+"ColorH"])dp.hglC.v=r(U[gZ+"ColorH"][0]);
if(U[gZ+"ColorS"])dp.sdwC.v=r(U[gZ+"ColorS"][0]);if(U[gZ+"BMode"])dp.Md.v.BlnM=dB.XT(x(U[gZ+"BMode"][0]));
if(U[gZ+"BModeH"])dp.hglM.v.BlnM=dB.XT(x(U[gZ+"BModeH"][0]));if(U[gZ+"BModeS"])dp.sdwM.v.BlnM=dB.XT(x(U[gZ+"BModeS"][0]));
if(U[gZ+"Opacity"])dp.Opct.v.val=U[gZ+"Opacity"][0];if(U[gZ+"OpacityH"])dp.hglO.v.val=U[gZ+"OpacityH"][0];
if(U[gZ+"OpacityS"])dp.sdwO.v.val=U[gZ+"OpacityS"][0];if(U[gZ+"Size"])dp.blur.v.val=U[gZ+"Size"][0];
if(U[gZ+"Angle"])gb=U[gZ+"Angle"][0];if(U[gZ+"Dist"])e_=U[gZ+"Dist"][0];if(U[gZ+"DX"]){var dO=U[gZ+"DX"][0],dC=U[gZ+"DY"][0];
e_=Math.round(Math.sqrt(dO*dO+dC*dC));gb=Math.round(Math.atan2(dC,-dO)*180/Math.PI)}if(dp.lagl)dp.lagl.v.val=gb;
if(dp.Dstn)dp.Dstn.v.val=e_;if(dp.uglg)dp.uglg.v=!1;if(U[gZ+"Invert"])dp.Invr.v=U[gZ+"Invert"][0];else if(eZ[S]=="satin")dp.Invr.v=!1;
if(U[gZ+"Alt"])dp.Lald.v.val=U[gZ+"Alt"][0];if(U[gZ+"Depth"])dp.srgR.v.val=U[gZ+"Depth"][0];if(U[gZ+"Choke"])dp.Ckmt.v.val=U[gZ+"Choke"][0]}}if(eJ)l.add.lmfx=bu}if(V.name)l.AP(V.name);
else if(U&&U.name)l.AP(U.name[0]);g.B.push(l)}function k(V,g,N,C,w){V.AP("path");V.xy|=16;V.add.vmsk=H(C,w,N);
var Y=V.add.vstk=bV._M.qw(!0),U=null;if(N){var e=N.strokeSwatch,O=N.fillSwatch,l=N.basicFeather,I=N.basicFeatherWidth,s=N.strokeWeight;
Y.strokeEnabled.v=e!=null;Y.fillEnabled.v=O!=null;if(l)V.add.vmsk.ej=I?I[0]:9;if(e){Y.strokeStyleLineWidth.v.val=s?s[0]:1;
U=r(e[0]);Y.strokeStyleContent.v.Clr.v=U}if(O){U=r(O[0])}}if(U)V.add.SoCo={classID:"null",Clr:{t:"Objc",v:U}};
V.h0();V.Ys(g)}function H(V,g,N){var C=new e8.vw,w=C.Y;for(var Y=0;Y<V.length;Y++){var U=V[Y],e=U[0].length,O=U[1]==0,l=O?0:3;
w.push({type:l,length:e,p5:0,H4:2,Be:0,dO:0});for(var S=0;S<e;S++){var I=U[0][S],s=I[0],z=new aL(I[1],I[2]),R=new aL(I[3],I[4]),t=new aL(I[5],I[6]);
if(s==0||s==1)w.push({type:l+2,sV:z,I:R,XM:t});else if(s==2)w.push({type:l+2,sV:z,I:z,XM:z});else throw s}}v.o.hn(w,g);
return C}return W}();var b$=function(d){function W(x,Z){var i=[];for(var S=0;S<9;S++){var k=K.q(x,Z+S*4);
if(S%3==2)i.push((k>>>30)+(k&1073741823)/1073741823);else i.push((k>>>16)+(k&65535)/65535)}return i}function c(x,Z,i,k){var H={},V=K.q,g=K.Ou;
while(Z<i){var N=Z,C=K.q(x,Z);Z+=4;if(C==0){C=K.q(x,Z);Z+=4}var w=K.xA(x,Z,4);Z+=4;if(C==0)throw"e";
if(C==1){C=K.SH(x,Z);Z+=8}var Y=N+C,U="".padStart(k,"\t"),e={};if(w=="mvhd"){var O=x[Z];if(O!=0)throw"e";
Z+=4;e.auI=V(x,Z);Z+=4;e.ayJ=V(x,Z);Z+=4;e.$$=V(x,Z);Z+=4;e.duration=V(x,Z);Z+=4;e.aB9=V(x,Z);Z+=4;e.volume=g(x,Z);
Z+=2;Z+=10;e.avP=W(x,Z);Z+=4*9;e.amP=[];for(var S=0;S<6;S++)e.amP.push(V(x,Z+S*4));Z+=4*6;e.aaj=V(x,Z);
Z+=4}else if(w=="tkhd"){var O=x[Z];if(O!=0)throw"e";Z+=4;e.auI=V(x,Z);Z+=4;e.ayJ=V(x,Z);Z+=4;e.aCL=V(x,Z);
Z+=4;Z+=4;e.duration=V(x,Z);Z+=4;Z+=8;e.a=g(x,Z);Z+=2;e.ajy=g(x,Z);Z+=2;e.volume=g(x,Z);Z+=2;Z+=2;e.avP=W(x,Z);
Z+=4*9;e.Kp=V(x,Z)>>>16;Z+=4;e.fn=V(x,Z)>>>16;Z+=4}else if(w=="mdhd"){e.xy=V(x,Z);Z+=4;e.auI=V(x,Z);
Z+=4;e.ayJ=V(x,Z);Z+=4;e.$$=V(x,Z);Z+=4;e.duration=V(x,Z);Z+=4;e.lang=g(x,Z);Z+=2;e.vO=g(x,Z);Z+=2}else if(w=="hdlr"){var l=V(x,Z);
Z+=4;if(l!=0)throw l;e.zT=K.xA(x,Z,4);Z+=4;e.a5H=K.xA(x,Z,4);Z+=4;e.a8q=V(x,Z);Z+=4;e.xy=V(x,Z);Z+=4;
e.a2s=V(x,Z);Z+=4;var I=Z;while(x[I]!=0)I++;e.name=K.xA(x,Z,I-Z);Z+=I-Z+1}else if(w=="stsd"){var l=V(x,Z);
Z+=4;if(l!=0)throw l;var s=V(x,Z);Z+=4;if(s!=1)throw s;var z=V(x,Z);Z+=4;e.Jg=K.xA(x,Z,4);Z+=4;if(e.Jg=="mett"){e.a2R=K.xA(x,Z,Y-Z)}else{for(var S=0;
S<6;S++)if(x[Z+S]!=0)throw"e";Z+=6;e.aoC=g(x,Z);Z+=2;e.aBE=g(x,Z);Z+=2;e.abD=g(x,Z);Z+=2;e.aa5=V(x,Z);
Z+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ".split(",").indexOf(e.Jg)!=-1){e.abM=V(x,Z);Z+=4;
e.a6W=V(x,Z);Z+=4;e.auq=[g(x,Z),g(x,Z+2)];Z+=4;e.axI=[V(x,Z)/(1<<16),V(x,Z+4)/(1<<16)];Z+=8;var R=V(x,Z);
Z+=4;if(R!=0)throw"e";var t=g(x,Z);Z+=2;if(t!=1)throw"e";var a=x[Z];Z++;e.atE=K.xA(x,Z,a);Z+=31;e.adJ=g(x,Z);
Z+=2;var J=g(x,Z);Z+=2;if(J!=65535)throw"e";if(Z!=Y)e.a2a=c(x,Z,Y,k+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(e.Jg)!=-1){e.iv=g(x,Z);
Z+=2;e.a8d=g(x,Z);Z+=2;var F=g(x,Z);Z+=2;if(F!=0&&F!=65534)throw F;var h=g(x,Z);Z+=2;if(h!=0)throw h;
e.ayG=V(x,Z)/(1<<16);Z+=4}else if(e.Jg=="CTMD"){e.b=x.slice(Z,Y)}else if(e.Jg=="tx3g"||e.Jg=="text"||e.Jg=="mebx"){}else if(e.Jg=="tmcd"){}else if(e.Jg=="CRAW"){}else throw e.Jg}}else if(w=="stts"||w=="stsz"||w=="stco"||w=="stsc"||w=="ctts"){var l=V(x,Z),m=0,_=0;
Z+=4;if(l!=0)throw l;if(w=="stsz"){m=V(x,Z);Z+=4}var D=V(x,Z)*(w=="stsc"?3:w=="stts"||w=="ctts"?2:1);
Z+=4;e=[];for(var S=0;S<D;S++){if(m!=0)e.push(m);else{e.push(V(x,Z));Z+=4}}for(var S=0;S<D;S++)_+=e[S]}else if(w=="co64"){var l=V(x,Z);
Z+=4;if(l!=0)throw l;var D=V(x,Z);Z+=4;e=[];for(var S=0;S<D;S++){e.push(K.SH(x,Z));Z+=8}}else if(w=="moov"||w=="trak"||w=="mdia"||w=="minf"||w=="dinf"||w=="stbl"||w=="uuid"){if(w=="uuid")Z+=16;
e=c(x,Z,Y,k+1)}else if(w=="CMT1"||w=="CMT2"||w=="CMT3"||w=="CMT4"){e=UTIF.decode(x.slice(Z,Y))}else{e.z=Z;
e.WB=C}Z=Y;if(w=="trak"||w=="free"||w=="uuid"){if(H[w]==null)H[w]=[];H[w].push(e)}else{if(H[w]!=null)throw w;
H[w]=e}}return H}function y(x){var Z=new Uint8Array(x);return c(Z,0,Z.length,0)}function B(x,Z,i){var k=r(x,Z),H=k.mdia.minf.stbl,V=H.stsc,g=0,N=0;
for(var S=0;S<V.length;S+=3){var C=(S+3<V.length?V[S+3]:1e4)-V[S],w=N+C*V[S+1];if(N<=i&&i<w){while(N+V[S+1]<=i){g++;
N+=V[S+1]}break}g+=C;N=w}var Y=H.stco;if(Y==null)Y=H.co64;var U=Y[g];while(N<i){U+=H.stsz[N];N++}return[U,H.stsz[i]]}function r(x,Z){var i=x.moov.trak;
for(var S=0;S<i.length;S++)if(i[S].mdia.hdlr.a5H==Z)return i[S]}return{Nr:y,asn:B,a6E:r}}(),X={};X.QX=function(d){return window.devicePixelRatio||1};
X.ap=function(d,W){return(W.at7=="touch"?12:8)*X.QX()/d.Q.O};X.dA=function(d,W,c){this.name=d;this.id=W;
this.i7=null;if(c!=null)this.sN=c};X.dA.prototype.fY=function(d,W,c,y,B){};X.dA.prototype.enable=function(d,W,c,y,B,r){var x=new bR(b.E.V,!0);
x.data={d:b.H.iV,QM:"default"};W.T(x)};X.dA.prototype.disable=function(d,W,c,y,B){};X.dA.prototype.a6U=function(d,W,c,y,B){return!1};
X.dA.prototype.RQ=function(d,W,c,y,B){};X.dA.prototype.kp=function(d,W,c,y,B){};X.dA.prototype.f9=function(d,W,c,y,B){};
X.dA.prototype.AZ=function(d,W,c,y,B,r){};X.dA.prototype.AQ=function(d,W,c,y,B){};X.dA.prototype.z9=function(d,W,c,y){};
X.dA.prototype.VO=function(d,W,c,y){};X.dA.prototype.To=function(d,W){};X.dA.prototype.lL=function(d,W){};
X.dA.prototype.$A=function(d){return 0};X.dA.prototype.AE=function(d,W,c,y,B){};X.dA.prototype.lz=function(d,W){};
X.dA.prototype.Ea=function(d,W){return!1};X.dA.prototype.zh=function(d,W){return!1};X.dA.prototype.cN=function(){return!1};
X.dA.prototype.Nh=function(d,W){return!0};X.dA.prototype.Yk=function(){return null};X.dA.prototype.Iw=function(d,W,c){};
X.dA.prototype.aof=function(){return!1};X.dA.prototype.eq=function(d,W,c,y){};X.dA.prototype.track=function(d){var W=new bR(b.E.HQ,!0);
W.data=d;d.mP=!0;this.i7.T(W)};X.dA.sX=function(d,W,c,y){var B=10*X.QX()*(d.at7=="touch"?2:1),r=d.x+B,x=d.y-B,Z=v.T6.By(W.m,c.tU,y,c.m,!0),i=v.T6.By(W.i,c.tU,y,c.i,!0);
while(Z.length<i.length)Z=" "+Z;while(Z.length>i.length)i=" "+i;X.dA.EA(r,x,[ay.get([12,41]).charAt(0)+": "+Z,ay.get([12,42]).charAt(0)+": "+i],c)};
X.dA.EA=function(d,W,c,y){function B(k,w,Y,U,e,O){k.beginPath();k.moveTo(w,Y+O);k.arcTo(w,Y+e,w+O,Y+e,O);
k.arcTo(w+U,Y+e,w+U,Y+e-O,O);k.arcTo(w+U,Y,w+U-O,Y,O);k.arcTo(w,Y,w,Y+O,O)}var r=X.QX(),x=Math.round,Z=x(11*r),i=X.dA.asm,H=0;
if(i==null)i=X.dA.asm=document.createElement("canvas");var k=i.getContext("2d");k.font=Z+"px monospace";
for(var S=0;S<c.length;S++)H=Math.max(H,k.measureText(c[S]).width);var V=x(H+12*r),g=x((c.length*14+5)*r),N=new a8(d,W-g,V,g);
if(i.width!=V||i.height!=g){i.width=V;i.height=g;k.font=Z+"px monospace"}k.clearRect(0,0,V,g);k.fillStyle="rgba(0,0,3,0.8)";
B(k,0,0,V,g,x(4*r));k.fill();k.fillStyle="rgba(255,255,255,1)";for(var S=0;S<c.length;S++)k.fillText(c[S],x(6*r),x((S+1)*13*r));
var C=[k.getImageData(0,0,V,g).data,N.clone()];if(y)y.N.Te=[C];return C};X.dA.asm=null;X.Sj="0";X.Ai="1";
X.aAY="2";X.a18="3";X.cM="5";X.aE8="6";X.akq="7";X.Lr="8";X.gC="9";X.Rz="10";X.oE="11";X.QC="12";X.Ei="13";
X.xL="14";X.ajG="15";X.$T="16";X.Il="18";X.OG="19";X.a3c="90";X.Zp="20";X.Wl="21";X.Ez="22";X.Bo="23";
X.Go="24";X.NF="25";X.ia="27";X.NT="31";X.JJ="32";X.a4J="33";X.YQ="34";X.auh="35";X.j0="36";X.il="37";
X.u6="38";X.Gm="39";X.QR="40";X.UT="41";X.gL="42";X.V3="43";X.a51="44";X.aAm="45";X.agz="46";X.alH="72";
X.bU="47";X.Wv="48";X.h9="51";X.nA="52";X.rB="54";X.mK="55";X.xO="56";X.SJ="57";X.CE="58";X.XU="59";
X.Zl="60";X.AO="61";X.Xz="70";X.aog="71";X.Ee="100";X.lF="101";X.F0="102";X.vz="103";X.Bp="120";X.Me="230";
X.a7N="231";X._X="232";X.jq="233";X.tm="234";X.v5="235";X.mw="236";X.xv={};X.xv[X.Bo]="tools/brush";
X.xv[X.Go]="tools/pencil";X.xv[X.NT]="tools/eraser";X._A={PcTl:X.Go,PbTl:X.Bo,moveTool:X.Sj,cloneStampTool:X.ia,typeCreateOrEditTool:X.bU,artboardTool:X.Xz,marqueeRectTool:X.Ai,typeVerticalCreateOrEditTool:X.Wv,perspectiveCropTool:X.oE,marqueeEllipTool:X.aAY,eyedropperTool:X.xL,eraserTool:X.NT,pathComponentSelectTool:X.h9,lassoTool:X.cM,backgroundEraserTool:X.JJ,directSelectTool:X.nA,polySelTool:X.aE8,rectangleTool:X.rB,magneticLassoTool:X.akq,gradientTool:X.YQ,quickSelectTool:X.Lr,bucketTool:X.auh,ellipseTool:X.mK,magicWandTool:X.gC,blurTool:X.j0,polygonTool:X.xO,cropTool:X.Rz,sharpenTool:X.il,lineTool:X.SJ,sliceTool:X.QC,smudgeTool:X.u6,customShapeTool:X.CE,sliceSelectTool:X.Ei,dodgeTool:X.Gm,spotHealingBrushTool:X.Il,burnInTool:X.QR,saturationTool:X.UT,penTool:X.gL,redEyeTool:X.Ez,freeformPenTool:X.V3,rulerTool:X.$T,paintbrushTool:X.Bo,handTool:X.XU,pencilTool:X.Go,zoomTool:X.AO,objectSelectTool:X.a18,healingBrushTool:X.OG,patchTool:X.Zp,contentAwareMoveTool:X.Wl,colorReplacementBrushTool:X.NF,curvaturePenTool:X.a51,rotareViewTool:X.Zl};
X.UZ=function(d,W,c){X.dA.call(this,d,W,c);this.bv={brush:d?bB.S5():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.kO=null;this.L3=null;this.Yw=null;this.ZO=null;this.Wz=null;this.MX=null;this.IW=null;this.Qn=null;
this.II=null;this.Wd=null;this.Vw=null;this.ez=null;this.FK=null;this.fs=1;this.WP=!1;this.SP=null;this.caller=null};
X.UZ.prototype=new X.dA;X.UZ.prototype.zh=function(d,W){return d.HW&&W.S(bm.Uo)};X.UZ.prototype.kp=function(d,W,c,y,B){if(y.S(bm.Oi)){this.MX=new aL(B.x,B.y);
var r=this.bv.brush.Brsh.v,x=r.Dmtr.v.val,Z=r.Hrdn!=null?r.Hrdn.v.val:-1;this.IW=[x,Z,!0,JSON.parse(JSON.stringify(this.bv.brush)),B];
this.E0(c)}};X.UZ.prototype.zn=function(d,W,c){var y=this.IW,B=d.Q.O,r=c.x-y[4].x,x=c.y-y[4].y,Z=y[0],i=y[1],k=Math.abs(r)>Math.abs(x);
if(k&&y[2]){var H=Math.round(2*r/B);Z+=H;c.x-=r-.5*H*B}if(!k&&!y[2]&&i!=-1){var H=Math.round(.25*x);
i+=H;c.y-=x-4*H}Z=Math.max(1,Z);i=y[1]==-1?-1:Math.max(0,Math.min(100,i));var V=y[3];V.Brsh.v.Dmtr.v.val=Z;
if(i!=-1)V.Brsh.v.Hrdn.v.val=i;this.IW=[Z,i,k,V,c];var g=b8.tN(V,W.sa.pb,B),N=g[1];N.x=Math.round(this.MX.x-N.m/2);
N.y=Math.round(this.MX.y-N.i/2);d.N.rU=[g];var C=d.Q.q9(this.MX.x,this.MX.y);d.N.Tc={rR:[],sf:[C.x-Z/2,C.y,C.x+Z/2,C.y]};
if(i!=-1)d.N.Tc.sf.push(C.x+50/B,C.y-i/2,C.x+50/B,C.y+i/2);d.ps=!0};X.UZ.prototype.AQ=function(d,W,c,y,B){if(this.id==X.Zp||this.id==X.Wl)return;
if(this.MX){this.MX=null;this.QN(JSON.parse(JSON.stringify(this.IW[3])));d.N.rU=[];d.N.Tc=null;d.ps=!0;
return}var r=new bR(b.E.V,!0);r.data={d:b.H.TE,f:this.id,akt:"showBrushOpts",pq:new aL(B.$p+4,B.$U)};
W.T(r)};X.UZ.prototype.QN=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.e7,au:kG.cE,jl:d};this.caller.T(W)};
X.UZ.yX=function(d,W,c,y,B,r){if(d==null)d="FrgC";if(W==null)W="norm";if(c==null)c=1;if(B==null)B=!1;
var x={classID:"Fl",Usng:{t:"enum",v:{FlCn:d}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(c*100)}},PrsT:{t:"bool",v:B},Md:{t:"enum",v:{BlnM:dB.XT(W)}}};
if(d=="Clr")x.Clr={t:"Objc",v:y};if(d=="contentAware")x.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(d=="Ptrn")x.Ptrn={t:"Objc",v:r};return{cx:"fill",i9:x}};X.UZ.prototype.fY=function(d,W,c,y,B){this.i7=W;
var r=c.tv.length;if(r==0&&!c.YH())return;var x=r!=0?-1-c.tv[0]:c.g[0],Z=c.B[x];if(d.d=="fromAction"){var i=d.RZ,k=i.i9;
if(k&&k.null&&k.null.v[0]&&k.null.v[0].v.classID=="Path"){var H=c.Tz(),V=H[0],g=H[1],N=V[g.length==0?0:g[0]].add.vmsk;
if(i.cx=="fill"){var C=N.Q7(),w=B.R5,Y=this.bv,U=w>>16&255,e=w>>8&255,O=w>>0&255;this.kQ(c,Z,C,U,e,O,Math.round(Y.opacity*255),Y.bmode,"Fill Path")}else{var l=k&&k.Prs&&k.Prs.v,I=JSON.stringify(this.bv.brush);
if(l)bB.aml(this.bv.brush,[!1,!0]);for(var s=0;s<1e3;s++){var z=v.o.ke(N.Y,s,!0);if(z==-1){this.AZ(c,W,B,y,null);
break}var R=N.Y[z],t=N.Y.slice(z,z+1+R.length),a=v.A.ly(t,2).j,J=a.slice(0,8);for(var F=8;F<a.length;
F+=6)J.push(a[F-2],a[F-1],a[F],a[F+1],a[F+2],a[F+3],a[F+4],a[F+5]);var h={};h.Points=J;h.TextOnPathTRange=N.sF.slice(0);
var h=iS.jt(h,2,R.type==3),m=h[0],D=c.Q.Yd(m[0],m[1]);if(l)D.YS=0;if(s==0)this.RQ(c,W,B,y,D);else this.L3.moveTo(m[0],m[1]);
var _=m.length,n=R.type==0?_+2:_;for(var S=2;S<n;S+=2){D=c.Q.Yd(m[S%_],m[(S+1)%_]);D.HW=!0;if(l){var j=S/n;
D.YS=2*Math.min(j,1-j)}this.f9(c,W,B,y,D,this.bv.flow)}this.L3.finish();this.Ch(c)}if(l)this.bv.brush=JSON.parse(I)}}else if(i.cx=="fill"){var T=k.PrsT?k.PrsT.v:!1,L=Z?Z.add.lspf:0;
if(T&&Z){Z.add.lspf=L==null?1:L|1}var p=(k.Opct?k.Opct.v.val:100)/100,E=k.Md?dB.Aa(k.Md.v.BlnM):"norm";
p=Math.round(255*p);var G=k.Usng.v.FlCn;if(G=="contentAware"||G=="aiHeal"){if(c.u==null){alert("Select an area to heal first.");
return}if(!c.YH())return;var A=c.u;if(G=="aiHeal"&&!dj.Cv(c))return;this.lZ(c);this.T7(c,0);if(G=="contentAware"){var u=v.R(A.rect.P()*4);
v.nP(A.channel,u,3);this.SO(c,"sheal",u,A.rect,A.rect);this.W(c,A.rect);this.finish(c,A.rect)}else{this.q5=c;
dj.ax8(!0,null,k.prmt?k.prmt.v:"empty background",c,this.aCU.bind(this),k.au);var q=new bR(b.E.V,!0);
q.data={d:b.H.MJ,Aj:"Processing ..."};W.T(q);this.caller=W}}else if(G=="Ptrn"){var o=B._m,M=c.u?c.u.rect.clone():new a8(0,0,c.m,c.i),$=v.R(M.P()*4);
eV.jZ(k,$,M,o,new aL(0,0));for(var S=0;S<$.length;S+=4)$[S+3]=p;this.Ry(c,Z,c.u,$,E,[6,48,0,2])}else{var w;
if(G=="FrgC")w=B.R5;else if(G=="BckC")w=B.qX;else if(G=="Blck")w=0;else if(G=="Wht")w=16777215;else if(G=="Gry")w=8421504;
else if(G=="Clr"){var Q=v.L.E5(k.Clr.v);w=Q.Z<<16|Q.G<<8|Q.J}var U=w>>16&255,e=w>>8&255,O=w>>0&255;this.kQ(c,Z,c.u,U,e,O,p,E,[2,3])}if(T&&Z){Z.add.lspf=L==null?0:L}}else if(i.cx=="delete"){var kF=x<0?1:Z.MM,A=c.u,fX;
if(A==null)return;var P=x<0?c.iv[-x-1]:kF<=0?null:kF==1?Z.Q7():Z.WI(c).t,M=kF<=0?Z.rect:P.rect,bM=kF<=0?A.rect.nK(M):A.rect.clone();
if(bM.Bb())return;var jW=bM.P();if(kF<=0){fX=v.R(jW*4);v.qR(Z.buffer,Z.rect,fX,bM)}else{fX=v.R(jW);P.extend(bM);
v.ZW(P.channel,P.rect,fX,bM)}if(0<=x&&Z.D5(c,A)){if(kF<=0){v.ft(fX,0);v.qR(Z.Vh.ur,Z.Vh.Vc,fX,bM)}else{fX.fill(255);
v.ZW(Z.Vh.ur,Z.Vh.Vc,fX,bM)}}else{if(kF<=0){var bX=v.R(fX.length>>2);v.$P(fX,bX,3);v.l.D7(v.bL(A.rect.P()),A.rect,bX,bM,A.channel,bM,1);
v.nP(bX,fX,3)}else{var ao=v.R(A.rect.P()),U=B.qX>>>16&255,e=B.qX>>8&255,O=B.qX>>0&255;ao.fill(Math.round(v.DB(U,e,O)));
v.l.D7(ao,A.rect,fX,bM,A.channel,bM,1)}}this.PL(c,!0,[2,2],x,kF,bM,fX)}}if(d.d=="stroke"){var en=d.amp,A=c.u;
if(A==null){A={rect:Z.rect.clone(),channel:v.R(Z.rect.P())};v.$P(Z.buffer,A.channel,3)}var fK=eV.Uf(en),bO=X.XC.aA6(A,Math.ceil(fK[0]),Math.ceil(fK[1])),w=v.L.E5(en.Clr.v),U=Math.round(w.Z),e=Math.round(w.G),O=Math.round(w.J);
this.kQ(c,Z,bO,U,e,O,Math.round(255*en.Opct.v.val/100),dB.Aa(en.Md.v.BlnM),[14,9])}if(d.d=="fillBMP"){this.Ry(c,Z,c.u,d.HH,d.wN,d.o1)}if(d.d=="draw"){var b9=d.qt,bK=b9.rect;
this.lZ(c);var f0=c.B[c.g[0]];if(d.anT&&f0&&f0.MM<=0&&c.tv.length==0){bK=X.wu.aqb(b9,c);f0.buffer=b9.buffer.slice(0);
f0.rect=bK.clone()}else{var hn=this.bv.bmode,hX=this.bv.opacity;this.bv.bmode="norm";this.bv.opacity=1;
this.SO(c,"draw",b9.buffer,bK,bK.nK(new a8(0,0,c.m,c.i)));this.bv.bmode=hn;this.bv.opacity=hX}this.W(c,bK);
c.Dy=!0;this.finish(c,bK,d.o1,d.anT)}};X.UZ.prototype.aCU=function(d){var W=d.target.response,c=new Uint8Array(W);
if(this.a6z){this.a6z=!1;W=fd.bw(K.uw(c))}else if(c[0]==123){var y=JSON.parse(K.uw(c)),S=0;console.log(y);
if(y.status=="error"){alert(y.message.prompt[0]);return}var B=y.image_links;if(B==null)B=y.output;var r=B[0],x=new XMLHttpRequest;
x.responseType="arraybuffer";while(!0){var Z=new XMLHttpRequest;Z.open("HEAD",r,!1);Z.send();if(Z.status!=404)break;
console.log("not ready");S++}x.open("GET",r,!0);x.onload=this.aCU.bind(this);this.a6z=!0;x.send();return}var i=UPNG.decode(W),k=new Uint8Array(UPNG.toRGBA8(i)[0]),H=dj.uL(this.q5),V=this.q5;
this.q5=null;var g=new bR(b.E.V,!0);g.data={d:b.H.Xg,Aj:"Processing ..."};this.caller.T(g);this.SO(V,"draw",k,H,H);
this.W(V,H);this.finish(V,H);dj.nz("remove")};X.UZ.prototype.kQ=function(d,W,c,y,B,r,x,Z,i){var k=c==null?new a8(0,0,d.m,d.i):c.rect,H=x<<24|r<<16|B<<8|y<<0,V=v.R(k.P()*4);
v.ft(V,H);this.Ry(d,W,c,V,Z,i)};X.UZ.prototype.Ry=function(d,W,c,y,B,r){var x=d.tv.length!=0?-1-d.tv[0]:d.g[0],Z=x<0?1:W.MM,i=x<0?d.iv[-1-x]:Z<=0?null:Z==1?W.Q7():W.WI(d).t,k=Z<=0?W.rect:i.rect,H=c==null?new a8(0,0,d.m,d.i):c.rect,V=c==null?v.fJ(d.m*d.i):c.channel;
if(c!=null)v.sl(V,y);var g=H.P(),N=v.R(g*4);if(Z<=0)v.qR(W.buffer,W.rect,N,H);else{i.extend(H);N.fill(255);
v.ta(i.ig(H),N)}if(0<=x&&c&&W.D5(d,c)&&Z<=0){var C=W.Vh.xt,w=W.Vh.xt.slice(0);if(Z<=0)v.PY(y,w);else v.PY(fullc,w);
var Y=new aw([2,3],this);Y.data={d:"drawtemp",a:d.g[0],Bq:Z,a5U:C,aDQ:w};d.hZ(Y);this.To(Y.data,d)}else{if(Z<=0){var U;
if(W.sx(0)){U=v.R(H.P());v.$P(N,U,3)}v.l.Ip(B,y,H,N,H,H,1);if(W.sx(0))v.nP(U,N,3)}else{v.l.Ip(B,y,H,N,H,H,1);
var e=v.R(g);v.ou(N,e);N=e}this.PL(d,!0,r,x,Z,H,N)}};X.UZ.prototype.Ea=function(d){if(bm.Rq.indexOf(d)!=-1)return!0;
return!1};X.UZ.prototype.z9=function(d,W,c,y){var B=this.bv.brush,r=y.S(bm.Oi),x=r!=this.WP,Z=X.UZ.oW(B,y);
if(Z!=null)this.QN(Z);if(!y.S(bm.Z7)&&y.zM()!=-1&&this.id!=X.NF){var i=bm.RU(Math.round(this.bv.opacity*100),y.zM())/100;
this.Dw({opacity:i},W)}if(this.id==X.Lr&&x&&d!=null){var k=this.bv.qsmode;if(k==2)k=d.u==null?0:1;else k=2;
this.Dw({qsmode:k},W)}this.WP=r;if(x){if(d)this.fs=d.Q.O;this.E0(c,y)}};X.UZ.oW=function(d,W){var c=d.Brsh.v.Dmtr.v.val,y=d.Brsh.v.Hrdn!=null?d.Brsh.v.Hrdn.v.val:-1,B=c,r=y,x=W.S(bm.Uo);
if(W.S(bm.FX)){if(x)y=25*Math.floor((y-1)/25);else{if(c<=10)c--;else if(c<=50)c=5*Math.floor((c-1)/5);
else if(c<=100)c=10*Math.floor((c-1)/10);else if(c<=200)c=25*Math.floor((c-1)/25);else if(c<=400)c=50*Math.floor((c-1)/50);
else c=100*Math.floor((c-1)/100)}}if(W.S(bm.DJ)){if(x)y=25*Math.ceil((y+1)/25);else{if(c<10)c++;else if(c<50)c=5*Math.ceil((c+1)/5);
else if(c<100)c=10*Math.ceil((c+1)/10);else if(c<200)c=25*Math.ceil((c+1)/25);else if(c<400)c=50*Math.ceil((c+1)/50);
else c=100*Math.ceil((c+1)/100)}}c=Math.max(1,c);y=Math.max(0,Math.min(100,y));if(r==-1)y=-1;if(c!=B||y!=r){var Z=JSON.parse(JSON.stringify(d));
Z.Brsh.v.Dmtr.v.val=c;if(r!=-1)Z.Brsh.v.Hrdn.v.val=y;return Z}return null};X.UZ.prototype.E0=function(d,W,c,y){if(d.sa.list.length==0)return;
var B=this.id,r;if((B==X.ia||B==X.OG||B==X.Bo||B==X.Go)&&(W!=null&&W.S(bm.Oi)||this.bv.alt[0]))r="crosshair";
else{var x=this.fs,Z=this.bv.brush;if((B==X.ia||B==X.OG)&&c&&this.ez&&this.ez.length==this.Vw.P()*4){var i=c.Q.q9(y.x,y.y),k=this.a5o(i),H=this.ez,V=this.Vw,g=new a8(V.x+k.x,V.y+k.y,V.m,V.i),N=b8.tN(Z,d.sa.pb,x),C=N[0],w=N[1],Y=Math.ceil(w.m/x),U=new a8(Math.round(i.x-Y/2),Math.round(i.y-Y/2),Y,Y),e=v.R(U.P()*4),O,l;
v.qR(H,g,e,U);if(x==1){O=e;l=U}else{var I=new dT(x,0,0,x,0,0),s=X.X.Wf([e,U],I,!0);l=w.clone();l.x=s.rect.x;
l.y=s.rect.y;if(l.zI(s.rect))O=s.buffer;else{O=v.R(l.P()*4);v.qR(s.buffer,s.rect,O,l)}}var z=this.bv.opacity/255;
for(var S=0;S<O.length;S+=4)O[S+3]=z*(C[S+3]*O[S+3]);b8.aoN(new Uint32Array(O.buffer),l,4278190080,4294967295);
r={hl:O,qe:l,Mh:new aL(l.m/2,l.i/2)}}else r=b8.xg(Z,d.sa.pb,x,B==X.NF||B==X.JJ)}var R=new bR(b.E.V,!0);
R.data={d:b.H.iV,QM:r};if(this.caller)this.caller.T(R)};X.UZ.prototype.enable=function(d,W,c,y){this.kO=c;
this.caller=W;this.QN(JSON.parse(JSON.stringify(this.bv.brush)));if(d&&d.Q.O!=0)this.fs=d.Q.O;this.E0(c,y)};
X.UZ.prototype.lz=function(d,W){if(W==kG.cE){this.bv.brush=d.sa.WU;this.E0(d)}};X.UZ.prototype.AE=function(d,W,c,y,B){for(var r in d)this.bv[r]=d[r];
if(this.bv.alt[0])this.E0(B,y,c)};X.UZ.prototype.ap$=function(d){var W=d.tv.length!=0?-1-d.tv[0]:d.g[0],c=d.B[W],y=W<0?1:c.MM,B=W<0?d.iv[-W-1]:y<=0?null:y==1?c.Q7():c.WI(d).t,r=B?B.channel:c.buffer,x=(B?B.rect:c.rect).clone();
return[c,y,B,r,x]};X.UZ.prototype.lZ=function(d,W){this.FK=d.u==null?null:{rect:d.u.rect.clone(),channel:d.u.channel.slice(0)};
var c=this.Wd,y=this.ap$(d),B=y[0],r=y[1],x=y[2];this.Wd=y[3];this.II=y[4];var Z=new a8(0,0,d.m,d.i),i=Z.hB(this.II);
if((this.q7()&&r<=0||i.zI(this.II))&&W!=!0){if(c&&c.length==this.Wd.length){c.set(this.Wd);this.Wd=c}else this.Wd=this.Wd.slice(0)}else{if(x)x.extend(i);
else B.extend(i)}};X.UZ.prototype.T7=function(d,W){var c=this.ap$(d),y=c[1],B=c[3],r=c[4],x=[B,r],Z=W!=null?W:this.bv.sfrom;
if(y<=0&&Z!=0){x[1]=new a8(0,0,d.m,d.i);x[0]=d.Li(Z==1&&d.g[0]!=d.B.length-1?d.g[0]:null).slice(0)}this.Vw=x[1].clone();
this.ez=x[0].slice(0)};X.UZ.prototype.Gt=function(d,W,c,y,B,r){if(B.HW&&y.S(bm.Oi)&&this.MX==null){if(r)this.iQ=c.R5;
var x=new bR(b.E.v,!0);x.f=X.xL;x.data={d:"pickhere",a7v:B};W.T(x);var Z=X.tX.amy(d,!1,!0,B,null,c.R5,this.iQ,1),x=new bR(b.E.V,!0);
x.data={d:b.H.iV,QM:Z};W.T(x);return!0}return!1};X.UZ.prototype.zj=function(d,W,c,y,B,r){if(this.id!=X.Lr&&!d.YH(this.caller)){this.L3=null;
return}if(this.id!=X.Lr&&this.L3)return;this.lZ(d);var x=new a8(0,0,d.m,d.i),Z=null;if(r!=null){var i=d.tv.length!=0?-1-d.tv[0]:d.g[0],k=d.B[i],H=i<0?d.iv[-i-1]:k.MM<=0?null:k.MM==1?k.Q7():k.WI(d).t;
Z=v.R(x.P()*4);if(H)X.UZ.fj(this.Wd,this.II,H.color,Z,x);else v.qR(this.Wd,this.II,Z,x)}var V=this.bv;
if(this.L3&&this.id==X.Lr&&V.qsmode!=0&&d.u!=null){}else{var g=W.R5,N=W.qX;if(this.SP=="erase"){var C=g;
g=N;N=C}var w=this.id==X.Lr?this.II:x;this.L3=new b8(V.brush,W.sa.pb,W.sa.An,{M4:B,Gi:r,aD5:V.smth*50/d.Q.O,yJ:this.id==X.Go||V.emode==1,PZ:d.PZ},g,N,w,Z)}if(this.id==X.Lr){this.L3.auz(V.brush,V.qsmode==2?0:16777215)}var Y=d.Q.q9(y.x,y.y);
if(c.S(bm.Uo)&&this.Yw){var U=this.Yw;this.L3.moveTo(U.x,U.y,y.YS);this.L3.lineTo(.001*U.x+.999*Y.x,.001*U.y+.999*Y.y,y.YS);
this.L3.lineTo(Y.x,Y.y,y.YS)}else this.L3.moveTo(Y.x,Y.y,y.YS);this.Yw=Y;this.ZO=Y.clone();this.Wz=new aY(Y,d.Q.Pk)};
X.UZ.prototype.ir=function(d,W,c){if(d&&d.Q.O!=0&&d.Q.O!=this.fs){this.fs=d.Q.O;this.E0(c)}};X.UZ.prototype.fG=function(d,W,c,y){if(this.L3==null)return;
var B=d.B[d.g[0]],r=d.Q.q9(y.x,y.y),x=this.Wz.KB(r,c);if(x.zI(this.Yw))return 1;this.L3.lineTo(x.x,x.y,y.YS);
this.Yw=x;if(this.id==X.ia||this.id==X.OG){var Z=this.kj(),i=11;Z=d.Q.Yd(r.x-Z.x,r.y-Z.y);var k=i>>>1,H=new a8(Math.round(Z.x)-k,Math.round(Z.y)-k,i,i),V=v.R(H.P()*4);
v.ft(16777215);for(var S=0;S<i;S++)V[(S*i+k)*4+3]=V[(i*k+S)*4+3]=255;d.N.Te=[[V,H]];d.ps=!0}};X.UZ.prototype.VO=function(d,W,c,y){if(c._9!=this.id)return;
if(this.id!=X.Lr||d==null)return;if(d.u==null||d.g[0]!=this.a4H){this.a4H=d.g[0];this.Dw({qsmode:0},W)}};
X.UZ.prototype.W=function(d,W){if(d.tv.length!=0){d.ps=!0;return}var c=d.B[d.g[0]];if(W==null){W=this.L3.wh();
if(this.q7()&&c.MM<=0)W=W.nK(this.II)}var y=c.MM;if(y==1||y==3){var B=Math.round((y==1?c.Q7():c.WI(d).t).ej*2.4);
W=W.clone();W.Lx(B,B)}if(W.Bb())return;if(y<=0){c.W(W)}if(y==1){c.Q7().Zv=!0;c.Ys(d,W)}if(y==3){c.W(W)}d.W(d.root.JV(W,d,d.g[0],!0))};
X.UZ.prototype.AZ=function(d,W,c,y,B){if(this.L3==null)return;this.L3.finish();if(this.id!=X.Il&&this.id!=X.OG&&this.id!=X.Lr)this.Ch(d);
if(this.id==X.ia||this.id==X.OG){d.N.Te=[];d.ps=!0}if(this.id==X.Lr){var r=d.u;d.u=this.FK;var x=new bR(b.E.v,!0);
x.data={d:"setsel",o1:this.name,u:r};x.f=X.Ai;W.T(x);if(this.bv.qsmode==0)this.Dw({qsmode:1},W)}else{this.finish(d,this.L3.V5());
this.L3=null;this.Qn=null}this.dir=0};X.UZ.prototype.Dw=function(d,W){for(var c in d)this.bv[c]=d[c];
var y=new bR(b.E.V,!0);y.data={d:b.H.TE,f:this.id,OW:d};W.T(y)};X.UZ.prototype.q7=function(){var d=this.id;
return d==X.Lr||d==X.NT||d==X.Gm||d==X.QR||d==X.UT||d==X.Ez};X.UZ.prototype.finish=function(d,W,c,y,B){var r=d.tv.length!=0?-1-d.tv[0]:d.g[0],x=d.B[r],Z=r<0?1:x.MM,i=r<0?d.iv[-r-1]:Z<=0?null:Z==1?x.Q7():x.WI(d).t,k=i?i.rect:x.rect,g;
if(this.q7()||!k.zI(this.II)){if(i==null){if(this.q7())x.oj();else{var H=W.hB(this.II),V=v.R(H.P()*4);
v.qR(x.buffer,x.rect,V,H);x.buffer=V;x.rect=H}}else i.oj();this.W(d,k)}if(Z<=0){g=v.R(W.P()*4);v.qR(this.Wd,this.II,g,W)}else{g=v.R(W.P());
g.fill(i.color);v.ZW(this.Wd,this.II,g,W)}this.PL(d,!1,c?c:this.name,r,Z,W,g,y,B)};X.UZ.prototype.PL=function(d,W,c,y,B,r,x,Z,i){var k=x;
if(B>0){k=v.R(r.P()*4);X.UZ.fj(x,r,0,k,r)}var H=new aw(c,this);H.data=[{a:y,Bq:B,qe:r,iJ:k}];if(Z)H.data.cP=[d.u,null];
if(i)H.data.cP=[this.FK,d.u];d.hZ(H);if(W)this.To(H.data,d);else if(Z)d.u=null;X.Zo.avJ(d,H.data)};X.UZ.prototype.lL=function(d,W){this.aeF(d,W,!1)};
X.UZ.prototype.To=function(d,W){this.aeF(d,W,!0)};X.UZ.prototype.$A=function(d){return X.Zo.$A(d)};X.UZ.prototype.aeF=function(d,W,c){if(d.d=="drawtemp"){var y=c?d.aDQ:d.a5U,B=W.B[d.a];
B.Vh.xt=y;B.VR(W,0,0,W.u);B.W();W.Dy=!0}else{X.Zo.xq(W,d);if(d.cP){W.u=d.cP[c?1:0];W.GX=!0}}W.W()};X.UZ.prototype.Ch=function(d){this.SO(d,this.SP,this.L3.JN(),this.L3.yo(),this.L3.wh());
this.W(d)};X.UZ.prototype.SO=function(d,W,c,y,B){var r=this.bv,x=d.B[d.g[0]],Z=d.tv.length!=0?d.iv[d.tv[0]]:x.MM<=0?null:x.MM==1?x.Q7():x.WI(d).t,i=v.R(B.P()*4),k,H=x.sx(0);
if(Z==null){if(this.id==X.Wl&&W=="heal")v.qR(x.buffer,x.rect,i,B);else v.qR(this.Wd,this.II,i,B);if(H){k=v.R(B.P());
v.$P(i,k,3)}}else{X.UZ.fj(this.Wd,this.II,Z.color,i,B)}if(d.u&&W!="qselect"){var V=B.nK(d.u.rect),g=v.R(V.P()*4);
if(W=="copy"){var N=v.R(V.P());v.ZW(d.u.channel,d.u.rect,N,V);v.qR(i,B,g,V);v.l.lf(c,y,g,V,N,V,0,V,1,!1)}else{v.qR(c,y,g,V);
v.WW(d.u.channel,d.u.rect,g,V)}c=g;y=V}function C(U,b9){var f0=Math.max(b9.x,Math.min(b9.x+b9.m-1,U.x)),hn=Math.max(b9.y,Math.min(b9.y+b9.i-1,U.y));
return new aL(f0,hn)}if(W=="idraw"||W=="ierase"){if(this.Qn==null)this.Qn=v.R(this.II.P());var w=this.bv.samp,Y=this.kO.qX,U=C(this.Yw,B),e=w==0?U:this.ZO,O=e.x,l=e.y,I=X.FI.Bs(this.Wd,this.II,[e,new aL(O-2,l),new aL(O+2,l),new aL(O,l-2),new aL(O,l+2)]);
if(w==2)I=[[Y>>>16&255,Y>>>8&255,Y>>>0&255,255]];var s=X.FI.XQ(i,B,U,I,this.bv.wconf),z=v.R(B.P());v.ZW(this.Qn,this.II,z,B);
v.Jd.hB(s,z,z);v.ZW(z,B,this.Qn,this.II);v.WW(z,B,c,y);W=W.slice(1)}if(W=="erase"&&(X.Zo.ayj(d)!=16777215||Z))W="draw";
if(W=="draw")v.l.Ip(r.bmode,c,y,i,B,B,r.opacity);else if(W=="erase"){var R=r.opacity;if(this.id==X.JJ)R=1;
var t=v.R(B.P()*4);v.qR(c,y,t,B);if(Z==null){var a=v.R(B.P());v.$P(t,a,3);v.bB(a,R);v.QE(a);v.WW(a,B,i,B)}else{v.ft(t,0,4278190080);
v.l.Ip("norm",t,B,i,B,B,R)}}else if(W=="clone"||W=="heal"){var J=this.kj(),F=this.Vw.clone();F.offset(J.x,J.y);
var h=B.clone();h.Lx(1,1);var m=v.R(h.P()*4),D=v.R(h.P());v.qR(c,y,m,h);v.$P(m,D,3);v.ft(m,0);if(Z==null){v.qR(this.ez,F,m,h);
var _=v.R(h.P());v.$P(m,_,3);v.iY(_,D)}else X.UZ.fj(this.ez,F,Z.color,m,h);if(W=="clone"){v.nP(D,m,3);
v.l.Ip(r.bmode,m,h,i,B,B,r.opacity)}if(W=="heal"){var n=D.slice(0);v.round(n,20);var j=v.R(h.P()*4);
if(Z==null)v.qR(this.Wd,this.II,j,h);else X.UZ.fj(this.Wd,this.II,Z.color,j,h);v.l.lf(m,h,j,h,n,h,0,h,1,!1);
v.Vl.eZ(j,n,h);v.l.lf(j,h,i,B,D,h,0,B,1,!1)}}else if(W=="dodge"||W=="burn"){var m=v.R(B.P()*4),p=1,E=0,G=0,A=0;
v.qR(c,y,m,B);var T=B.P()*4,L=X.UZ.mg;if(this.WP){if(W=="dodge")W="burn";else W="dodge"}var u=r.rng;
if(W=="dodge"){E=[1-p/2,1,1+p][u];G=[1,1/(1+p),1][u];A=[p/2,0,0][u]}if(W=="burn"){E=[1/(1-p/2),1,1-p/2][u];
G=[1,1+p,1][u];A=[-(p/2)/(1-p/2),0,0][u]}for(var S=0;S<T;S+=4){var q=m[S+3];i[S+0]=L(i[S+0],E,G,A,q);
i[S+1]=L(i[S+1],E,G,A,q);i[S+2]=L(i[S+2],E,G,A,q)}}else if(W=="sponge"||W=="redeye"){var m=v.R(B.P()*4),D=v.R(B.P());
v.qR(c,y,m,B);v.$P(m,D,3);v.PY(i,m);var o=r.smode;if(this.WP)o=1-o;var M=eR.qw("hue2");if(W=="sponge")fA.wz(M,0,[0,[-50,46][o],[6,5][o]]);
else fA.wz(M,1,{LT:[265,305,25,55],KC:[0,-90,-70]});var $=bN.iA("hue2",M);bN.xh($,m,m,B);v.l.lf(m,B,i,B,D,B,0,B,1,!1)}else if(W=="copy")v.qR(c,y,i,B);
else if(W=="sheal"){var m=v.R(B.P()*4),D=v.R(B.P());v.qR(c,y,m,B);v.$P(m,D,3);m.fill(0);var Q=this.ez,kF=this.Vw;
if(Z){Q=v.R(kF.P()*4);X.UZ.fj(this.ez,kF,0,Q,kF)}else if(x.Q7()&&x.Q7().isEnabled){var P=x.Q7(),bM=v.R(P.rect.P()*4);
v.qR(Q,kF,bM,P.rect);v.nP(P.channel,bM,3);Q=bM;kF=P.rect}var jW=v.ng.eZ(Q,kF,D,m,B);if(jW!=0)v.qR(Q,kF,m,B);
if(this.bv.sfrom==0)v.qR(m,B,i,B);else{v.qR(this.Wd,this.II,i,B);v.nP(D,m,3);v.l.Ip("norm",m,B,i,B,B,1)}}else if(W=="qselect"){var fX=this.II,bX=fX.m,ao=fX.i,en=bX*ao,fK=this.L3.JN(),I=this.Wd,bO=X.XC._j,D=bO.kn;
D.fill(128);for(var S=0;S<en;S++){var b9=fK[S<<2],bK=fK[(S<<2)+3];if(bK==255&&(b9==0||b9==255))D[S]=b9}D[0]=D[bX-1]=0;
D[(ao>>>1)*bX]=D[(ao>>>1)*bX+bX-1]=0;X.Hm.XH(bO,!0,d);d.u={rect:fX,channel:bO.u.slice(0)};d.GX=!0}if(Z==null){if(H)v.nP(k,i,3);
v.qR(i,B,x.buffer,x.rect)}else X.UZ.KT(i,B,Z)};X.UZ.kj=function(){return null};X.UZ.mg=function(d,W,c,y,B){var r=d*(1/255),x=y+W*Math.pow(r,c),Z=Math.round(x*B+r*(255-B));
return Math.max(0,Math.min(255,Z))};X.UZ.fj=function(d,W,c,y,B){var r=v.R(B.P());r.fill(c);v.ZW(d,W,r,B);
y.fill(255);v.ta(r,y)};X.UZ.KT=function(d,W,c){var y=v.R(W.P());v.ou(d,y);v.ZW(y,W,c.channel,c.rect)};
X.XC=function(d,W,c){X.dA.call(this,d,W,c);this.bv={binop:0,feat:0,cstr:{VQ:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.Ks=new aL(-1,-1);this.bl=new aL(-1,-1);this.Or="default";this.i7=null;this.fv=!1;this.PV=new f1;
this.do=!1;this.ee=null;this.om=null;this.Ja=!1;this.e1=!1};X.XC.prototype=new X.dA;X.XC.prototype.Yk=function(){var d=this.bv,W=[d.binop,d.feat],c=d.wconf,y=c.join(",")=="16,true,true";
if(W[0]==0&&W[1]==0&&y)return null;if(!y)W.push(c);return W};X.XC.prototype.Iw=function(d,W,c){var y=this.bv;
if(d[0])y.binop=d[0];if(d[1])y.feat=d[1];if(d[2])y.wconf=d[2];this.sd(c)};X.XC.prototype.sd=function(d){var W=new bR(b.E.V,!0);
W.data={d:b.H.TE,f:this.id,bv:this.bv};d.T(W)};X.XC._j={key:""};X.XC.jJ=function(d,W,c){var y={cx:d,i9:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(W)y.i9.T=W;if(c!=null)y.i9.AntA={t:"bool",v:c};return y};X.XC.If=function(d,W,c){return X.XC.jJ("set",{t:"Objc",v:{classID:d,Top:{t:"UntF",v:{type:"#Pxl",val:W.y}},Left:{t:"UntF",v:{type:"#Pxl",val:W.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:W.y+W.i}},Rght:{t:"UntF",v:{type:"#Pxl",val:W.x+W.m}}}},c)};
X.XC.zq=function(d,W,c){var y=[],B=[],x="set";for(var S=0;S<d.length;S+=2){y.push(d[S]);B.push(d[S+1])}var r={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:y},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:B}]}}}};
if(W)x=["set","addTo","subtractFrom","interfaceWhite"][W];return X.XC.jJ(x,r,c)};X.XC.a7H=function(d,W,c){var y={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:d.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:d.y}}}},B=X.XC.jJ("set",y);
B.i9.Tlrn={t:"long",v:W[0]};B.i9.AntA={t:"bool",v:W[1]};B.i9.Cntg={t:"bool",v:W[2]};if(c==!0)B.i9.Mrgd={t:"bool",v:c};
return B};X.XC.k6=function(d){return X.XC.jJ("set",{t:"enum",v:{Ordn:d?"Al":"None"}})};X.XC.H3=function(d,W,c){var y={classID:"null"};
if(d!="border")y.selectionModifyEffectAtCanvasBounds={t:"bool",v:c};var B={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[d[0]];
y[B]={t:"UntF",v:{type:"#Pxl",val:W}};return{cx:d,i9:y}};X.XC.eL=function(d,W,c){var y={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},B={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:W}}]};
if(c)B.v.push({t:"name",v:{classID:"Lyr",val:c}});var r=[{classID:"null",null:y,T:B},{classID:"null",null:B,T:y},{classID:"null",null:B,From:y},{classID:"null",null:B,With:y}],x=["set","add","subtract","interfaceIconFrameDimmed"];
return{cx:x[d],i9:r[d]}};X.XC.ajr=function(d,W){var c=new bR(b.E.V,!0);c.data={d:b.H.e7,au:kG.gZ};if(!W.hA)d.T(c);
c.data={d:b.H.e7,au:kG.sD};if(!W.UA.Tk)d.T(c)};X.XC.prototype.fY=function(d,W,c,y,B){X.XC.ajr(W,B);this.i7=W;
var r=d.d,x,Z,i=new a8(0,0,c.m,c.i),bu=!1,eJ,eZ,a0,gZ;if(r=="fromAction"){var k=d.RZ,H=k.cx,V=k.i9,g=V?V.selectionModifyEffectAtCanvasBounds:null,N=g&&g.v;
if(H=="colorRange"){if(V.Clrs){var C=V.Clrs.v.Clrs,w=0,Y=255,U=["Shdw","Mdtn","Hghl"].indexOf(C),I=.4;
if(U==0)Y=60;else if(U==1){w=100;Y=150}else w=190;var e=["shadows","midtones","highlights"][U],O=V[e+"LowerLimit"],l=V[e+"UpperLimit"];
if(O)w=O.v;if(l)Y=l.v;var s=V[e+"Fuzziness"];if(s)I=s.v/100;x=X.XC.qB(c,w,Y,I,!0)}else{var w=V.Mnm.v,Y=V.Mxm.v,I;
w={ns:w.Lmnc.v,U:w.A.v,J:w.B.v};Y={ns:Y.Lmnc.v,U:Y.A.v,J:Y.B.v};I=V.Fzns.v/200;x=X.XC.qB(c,w,Y,I)}Z=[7,8]}else if(H=="inverse"){if(c.u==null){alert("No selection!");
return}x={channel:v.R(i.P()),rect:i};v.ZW(c.u.channel,c.u.rect,x.channel,x.rect);v.QE(x.channel);Z=[7,2]}else if(H=="expand"){var z=V.By.v.val,R=c.u.rect.clone();
R.Lx(z,z);var t=v.R(R.P()),a=v.R(R.P());v.ZW(c.u.channel,c.u.rect,a,R);v.style.stroke(a,t,R,z);x={channel:t,rect:R};
Z=[7,4]}else if(H=="contract"){var z=V.By.v.val,J=c.u.rect.clone();J.Lx(1,1);if(!N)J=J.nK(i);var a=v.R(J.P()),F=v.R(a.length);
v.ZW(c.u.channel,c.u.rect,a,J);v.QE(a);v.style.stroke(a,F,J,z);v.QE(F);x={channel:F,rect:J};v.oj(x);
Z=[7,5]}else if(H=="border"){var z=V.Wdth.v.val;x=X.XC.aA6(c.u,z/2,z/2);Z=[7,9]}else if(H=="feather"||H=="smoothness"){var z=V.Rds.v.val;
x=X.XC.agM(c.u,z,H=="smoothness",i,N);Z=H=="feather"?[7,6]:[19,3,0]}else if(H=="move"){var h=V.T.v,R=c.u.rect.clone();
R.x+=h.Hrzn.v.val;R.y+=h.Vrtc.v.val;x={channel:c.u.channel,rect:R};Z=[7,7]}else if(H=="grow"||H=="similar"){var m=this.bv.wconf.slice(0);
if(V.Tlrn)m[0]=V.Tlrn.v;m[2]=H=="grow";var D=c.Li(),_=new a8(0,0,c.m,c.i),n=c.u.rect,j=Math.round(Math.sqrt(n.P())/10),T=v.R(_.P());
v.ZW(c.u.channel,n,T,_);var L=[];for(var p=0;p<n.i;p+=j)for(var E=(n.P()+p)%j;E<n.m;E+=j)if(c.u.channel[p*n.m+E]==255){var G=new aL(n.x+E,n.y+p);
L.push(G);if(m[2])v.Jd.hB(X.FI.XQ(D,_,G,null,m),T,T)}if(!m[2])v.Jd.hB(X.FI.XQ(D,_,G,X.FI.Bs(D,_,L),m),T,T);
x={channel:T,rect:_};Z=H=="grow"?"Grow Selection":"Similar Selection";console.log(V)}else{var A=V.null.v,u=V.AntA!=null&&V.AntA.v;
function q(kg){var jy=kg.Top.v.val,gb=kg.Left.v.val;return new a8(gb,jy,kg.Rght.v.val-gb,kg.Btom.v.val-jy)}function o(kg){var jy=kg[0].arr,iM=kg[1].arr,hI={j:[],r:[]};
for(var S=0;S<jy.length;S++){hI.r.push(S==0?"M":"L");hI.j.push(jy[S],iM[S])}hI.r.push("Z");return hI}var M=["set","addTo","subtractFrom","interfaceWhite"].indexOf(H),$=V.T?V.T.v:null;
if($&&$.classID=="Elps"){x=this.amR(X.bV.a8c(q($)));Z=[10,4]}else if($&&$.classID=="Rctn"){var Q=q($);
x={channel:v.R(Q.P()),rect:Q.clone()};x.channel.fill(255);Z=[10,15]}else if($&&$.classID=="ObSl"){var Q=q($),kF=X.XC._j,P=kF.rect,bM=kF.kn,jW=P.m,fX=P.i,bX=Q.x-P.x,ao=bX+Q.m-1,en=Math.max(bX,Math.min(ao,bX+ao>>>1)),fK=Q.y-P.y,bO=fK+Q.i-1,b9=Math.max(fK,Math.min(bO,fK+bO>>>1)),bK=Math.max(bX,0),f0=Math.min(ao,jW),hn=Math.max(fK,0),hX=Math.min(bO,fX);
bM.fill(128);if(0<=fK)for(var E=bK;E<f0;E++)bM[fK*jW+E]=0;if(bO<fX)for(var E=bK;E<f0;E++)bM[bO*jW+E]=0;
if(0<=bX)for(var p=hn;p<hX;p++)bM[p*jW+bX]=0;if(ao<jW)for(var p=hn;p<hX;p++)bM[p*jW+ao]=0;var gR=X.aJ.a1J,ib=Math.round(Q.m*gR),gU=Math.round(Q.i*gR);
for(var E=Math.max(0,en-ib);E<Math.min(jW,en+ib);E++)bM[b9*jW+E]=255;for(var p=Math.max(0,b9-gU);p<Math.min(fX,b9+gU);
p++)bM[p*jW+en]=255;X.Hm.XH(kF,!0);x={channel:kF.u.slice(0),rect:P.clone()};Z=[10,44]}else if($&&$.classID=="Plgn"){x=this.amR(o($.Pts.v.arr));
Z=[10,9]}else if($&&$.classID=="Pnt"){x=X.FI.a17(c,new aL($.Hrzn.v.val,$.Vrtc.v.val),[V.Tlrn.v,u,V.Cntg==null||V.Cntg.v],V.Mrgd?V.Mrgd.v:!1);
Z=[10,12]}else if($&&$.Ordn=="None"){x=null;Z=[7,1]}else if($&&$.Ordn=="Al"){var hq=i;if(c.g.length!=0){var ip=c.root.x$(c.g[0]);
while(ip.parent&&ip.parent.parent)ip=ip.parent;if(ip.a.add.artb)hq=ip.a.ZB()}x={channel:v.R(hq.P()),rect:hq};
x.channel.fill(255);Z=[7,0]}else if($&&$[0]&&$[0].v.keyID=="WrPt"){var aW={d:"frompath",Wa:[-1,0,0]};
this.fY(aW,W,c,y,B);return}else{var kN=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(H),jH=H=="set"?$:A,g0=jH[0].v.enum,aW;
if(g0=="Trsp"||g0=="Msk"||g0=="vectorMask"||g0=="Trgt"){var gC=c.g[0];if(jH.length==2)gC=hC.vj(c,jH[1]);
var jL=["Trsp","Msk","vectorMask"].indexOf(g0);if(g0=="Trgt"&&c.B[gC].MM==1)jL=1;aW={d:"fromlayer",Wa:[gC,jL,kN]}}else{if(jH[0].t=="name"){var gC=0;
for(var S=0;S<c.iv.length;S++)if(c.iv[S].name==jH[0].v.val)gC=S;aW={d:"fromchannel",Wa:[-5-gC,0,kN]}}else{var jf=["RGB","Rd","Grn","Bl"].indexOf(g0);
aW={d:"fromchannel",Wa:[-1-jf,0,kN]}}}this.fY(aW,W,c,y,B);return}if(x){if(!u)v.round(x.channel);if(V.Fthr)x=X.XC.agM(x,V.Fthr.v.val,!1);
if(H!="set"&&c.u!=null)x=v.Jd.Mq(x,c.u,M)}}if(H=="expand"||H=="contract")if(!N&&!i.contains(x.rect)){var cm=x.rect.nK(i),eh=v.R(cm.P());
v.ZW(x.channel,x.rect,eh,cm);x.channel=eh;x.rect=cm}}if(r=="qmask"){bu=!0;var bt=c.z6(),_=new a8(0,0,c.m,c.i);
if(bt){x=bt.rect.zI(_)&&v.uy(bt.channel,255)?null:{rect:bt.rect.clone(),channel:bt.channel.slice(0)};
eJ=bt}else{x=null;eZ=new e8.JO;eZ.color=0;eZ.name="Quick Mask";eZ.xV=!0;if(c.u){eZ.rect=c.u.rect.clone();
eZ.channel=c.u.channel.slice(0)}else{eZ.rect=_;eZ.channel=v.R(eZ.rect.P());eZ.channel.fill(255)}}Z=[6,6,1];
c.Dy=!0}if(r=="setsel"){x=d.u;Z=d.o1}if(r=="crange"){var w=d.C5,Y=d.hb;x=X.XC.qB(c,w,Y,d.Qw);Z=[7,8]}if(r=="fromlayer"||r=="fromchannel"||r=="frompath"){var dp=d.Wa[0],jL=d.Wa[1],M=d.Wa[2];
if(r=="fromlayer"){if(dp==null)dp=c.g[0];var gb=c.B[dp];if(jL==0){var e_=gb.rect,dO=gb.buffer;if(e_.Bb())return;
var dC=v.R(dO.length>>>2);v.$P(dO,dC,3);x={channel:dC,rect:e_.clone()}}else{if(gb.t==null)gb.Ys(c);var kc=jL==1?gb.Q7():gb.t;
x=X.XC.a8P(kc,i)}this.track(X.XC.eL(M,["Trsp","Msk"][jL],gb.getName()))}else if(r=="frompath"){var ia=c.Tz(),hO=ia[1],ia=ia[0],bg=!0;
if(dp==null)if(ia.length==0||hO.length==0)return;var cj=ia[hO[0]];if(dp!=null)for(var S=0;S<ia.length;
S++)if(ia[S].Wr==dp)cj=ia[S];var kc=cj.add.vmsk.Q7(),bA=kc.yo();if(bA.P()==0)return;var dC=kc.GQ();if(d.Wa[3]!=null)bg=d.Wa[3];
if(!bg){dC=dC.slice(0);v.round(dC)}a0=[JSON.stringify(c.DU),JSON.stringify(c.jh)];gZ=["[]","[]"];c.DU=[];
c.jh=[];x={channel:dC,rect:bA}}else{if(dp==null)dp=X.XC.amS(c);x=X.XC.aur(c,dp)}if(M!=0&&c.u)x=v.Jd.Mq(x,c.u,M);
Z=[14,11]}if(r=="bgrm"){var cX=window.locStor.getItem("bgrmt"),i4=120;if(cX==null)cX=0;var fJ=X.XC.ago.bind([c,W,d]),iu=Math.floor((Date.now()-cX)/1e3);
if(!jj.Xf()&&iu<i4){var hV="Non-Premium users can use it once in "+i4+" seconds ("+(i4-iu)+" sec remain). Watch a short ad and skip waiting?";
ah.BK(fJ,hV,"rmbg")}else fJ();return}if(x!=null&&v.uy(x.channel,0)){x=null;Z=[7,1]}if(x)v.oj(x);var f$=new aw(Z,this);
f$.data={d:"changesel",u:x,z6:bu,agt:eJ,a8R:eZ,sU:a0,ap_:gZ};c.hZ(f$);this.To(f$.data,c)};X.XC.ago=function(){var d=this[0],W=this[1],c=this[2],y=d.B[d.g[0]],B=y.rect,r=y.buffer,x=1,V="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)666`+'$T}MSVH?o:ja2.`Z%$PyHt =o<g8bdjbSTL}Jqtk;hj3NUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c";
while(Math.max(B.m,B.i)>4096){var Z=v.hG(r,B);B=Z.rect;r=Z.Gq;x*=2}var i=fd.Ay("png"),k=fd.Ay("jpg"),H=k.Cy([[r.buffer]],B.m,B.i);
V=JSON.parse(dQ.QW(V));var B=new XMLHttpRequest;B.open("POST",V[0]);B.setRequestHeader(V[1],V[2]);B.setRequestHeader(V[3],V[4]);
var g=new FormData;g.append("image",new Blob([H],{type:"ima"+"ge/j"+"pg"}));B.send(g);alert(ay.get([23,5])+" ...",2800);
B.onload=function(N){var C=JSON.parse(N.target.response),w=C.results[0].entities[0].image,Y=fd.bw(w),w=i.Pd(Y)[0],U=w.H2,e=v.R(U.P());
v.ou(new Uint8Array(w.data),e);for(var S=0;S<e.length;S++){if(e[S]>250)e[S]=255}if(x!=1){var Z=X.X.o3([e,U],new dT(x,0,0,x,0,0));
U=Z.rect;e=Z.channel}U.x=y.rect.x;U.y=y.rect.y;var O=new bR(b.E.v,!0);if(c.b==1){O.f=X.jq;O.data={d:e8.jV,Su:V[5],a7y:!0};
W.T(O);var l=y.Q7();l.color=0;l.rect=U;l.channel=e;l.oj();y.Ys()}else if(c.b==2){O.f=X.Ai;O.data={d:"setsel",u:{channel:e,rect:U},o1:"Select Subject"};
W.T(O)}else throw"e";jj.event("rembg_Rem"+"ove B"+"G:  "+(jj.Xf()?"Pre"+"mium":"Free"));window.locStor.setItem("bgrmt",Date.now())}};
X.XC.amS=function(d){var W=0;if(d.tv.length!=0)W=-5-d.tv[0];else if(JSON.stringify(d.Q.M)=="[1,1,1]")W=-1;
else W=-2-d.Q.M.indexOf(1);return W};X.XC.aur=function(d,W){var c,y=new a8(0,0,d.m,d.i);if(-5<W&W<0){var B=-W-1,r=d.Li(),x=v.R(y.P());
if(B==0)v.ou(r,x);else v.$P(r,x,B-1);c={channel:x,rect:y.clone()}}if(W<-4){c=X.XC.a8P(d.iv[-W-5],y)}return c};
X.XC.a8P=function(d,W){var c,y;if(d.E5()==0){y=d.yo().clone();if(y.P()==0)return;c=d.GQ()}else{y=W;c=v.R(y.P());
d.OU(y,c)}return{channel:c,rect:y}};X.XC.prototype.zh=function(d){return this.do||d.HW&&this.id!=X.cM};
X.XC.prototype.Th=function(d,W,c){var y=new bR(W,!0);y.data=c;d.T(y)};X.XC.prototype.a2u=function(d,W){var c=new bR(b.E.V,!0);
c.data={d:b.H.iV,QM:W};d.T(c)};X.XC.prototype.yo=function(d,W,c){W=d.u==null||this.PV.P4(1)||this.PV.J$(1)?W:null;
var y=this.Ks,B=this.bl;if(c){y.x=Math.max(0,Math.min(d.m,y.x));y.y=Math.max(0,Math.min(d.i,y.y));B.x=Math.max(0,Math.min(d.m,B.x));
B.y=Math.max(0,Math.min(d.i,B.y))}var r=X.Q6.i8(y,B,W,!0,this.bv.cstr),x=r[0].x,Z=r[0].y,i=new a8(x,Z,r[1].x-x,r[1].y-Z);
if(c){i.x=Math.max(i.x,0);i.y=Math.max(i.y,0)}return i};X.XC.prototype.RQ=function(d,W,c,y,B){this.e1=!0;
if(this.uo())return;this.i7=W;this.fv=!1;this.PV.RQ(y);this.Ks=d.Q.q9(B.x,B.y);this.Ks=X.rL.fh(d,this.Ks,c);
if(this.aqx(d,this.Ks,y)){this.do=!0;this.ee=d.u.rect.clone();return}this.iZ(d,c,y,B);d.Q.iX=new a8};
X.XC.prototype.aqx=function(d,W,c){var y=c.S(bm.Uo),B=c.S(bm.Oi);if(d.u&&!y&&!B&&this.bv.binop==0)return v.cf(W,d.u.channel,d.u.rect);
return!1};X.XC.prototype.f9=function(d,W,c,y,B){this.i7=W;if(this.Ja)return;var r=d.Q.q9(B.x,B.y);if(aL.Bg(this.Ks,r)*d.Q.O>5){this.fv=!0;
this.PV.f9()}if(y.S(bm.CD)){if(this.om==null)this.om=new aL(r.x-this.Ks.x,r.y-this.Ks.y);this.Ks.x=r.x-this.om.x;
this.Ks.y=r.y-this.om.y}else this.om=null;this.bl=r;if(!this.do&&this.id!=X.cM)this.bl=X.rL.fh(d,this.bl,c);
if(this.aqx(d,this.bl,y))this.a2u(W,"move");else this.a2u(W,this.Or);if(this.do){var x=this.ee.clone();
x.x+=this.bl.x-this.Ks.x;x.y+=this.bl.y-this.Ks.y;var Z=X.rL.gq(d,x,c);d.u.rect.x=Math.round(this.bl.x-this.Ks.x+this.ee.x+Z[0]);
d.u.rect.y=Math.round(this.bl.y-this.Ks.y+this.ee.y+Z[1]);d.GX=!0;X.rL.JA(d,x,Z);return}this.S0(d,c,y,B,W);
if(d.Q.iX)d.Q.iX=this.yo(d,y)};X.XC.prototype.uo=function(){return!1};X.XC.prototype.AZ=function(d,W,c,y,B,r){var x=this.e1;
this.e1=!1;if(r||!x)return;d.Q.iX=null;this.bl=d.Q.q9(B.x,B.y);this.bl=X.rL.fh(d,this.bl,c);if(this.do){this.do=!1;
if(d!=null&&d.N.AR){d.N.AR=null;d.ps=!0}if(this.bl.zI(this.Ks)&&this.yt()==0){this.Th(W,b.E.HQ,X.XC.k6());
return}this.ad0(d,this.ee,d.u.rect.clone());return}this.NC(d,c,y,B,W);X.XC.ajr(W,c);this.PV.AZ();this.Hs(W)};
X.XC.prototype.ad0=function(d,W,c){var y=d.TP();if(y!=null&&y.f==this&&y.data.d=="movesel"){}else{y=new aw([7,7],this);
y.data={d:"movesel",Pa:W};d.hZ(y)}y.data.zR=c;this.To(y.data,d)};X.XC.prototype.kp=function(d,W,c,y,B){this.Ja=!0};
X.XC.prototype.AQ=function(d,W,c,y,B){var r=new bR(b.E.V,!0);r.data={d:b.H.TE,f:this.id,Sf:B,J8:d,qU:c};
W.T(r);this.Ja=!1};X.XC.prototype.z9=function(d,W,c,y){this.PV.z9(y);if(d!=null&&d.u!=null){var B=y.nv();
if(B.x!=0||B.y!=0){var r=d.u.rect.clone();r.x+=B.x;r.y+=B.y;this.ad0(d,d.u.rect.clone(),r)}}this.Hs(W)};
X.XC.prototype.Hs=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.TE,f:this.id,d0:this.yt()};d.T(W)};
X.XC.prototype.yt=function(){var d=this.PV.P4(0),W=this.PV.J$(0);return X.XC.ZE(this.bv.binop,d,W)};
X.XC.ZE=function(d,W,c){if(W)d=1;if(c)d=2;if(W&&c)d=3;return d};X.XC.prototype.finish=function(d,W,c,y){var B=d.u,r=this.getSelection(d,W,c,y);
if(r==null)r=X.XC.k6();else{var x=this.bv.feat,Z=this.yt();if(x!=0)r.i9.Fthr={t:"UntF",v:{type:"#Pxl",val:x}};
if(Z!=0&&Z!=4)r.cx=["","addTo","subtractFrom","interfaceWhite",""][Z]}this.Th(this.i7,b.E.HQ,r);this.Ks.sq(-1,-1);
this.bl.sq(-1,-1)};X.XC.prototype.getSelection=function(d,W,c,y){return null};X.XC.prototype.iZ=function(d,W,c,y){};
X.XC.prototype.S0=function(d,W,c,y){};X.XC.prototype.NC=function(d,W,c,y){};X.XC.prototype.lL=function(d,W){var c=d.d;
if(c=="changesel"){var y=W.u;W.u=d.u;d.u=y}if(c=="movesel")W.u.rect=d.Pa;if(d.z6){if(d.agt){W.tv=[W.iv.length];
W.iv.push(d.agt)}else{W.iv.pop();W.tv=[]}}if(d.sU){W.DU=JSON.parse(d.sU[0]);W.jh=JSON.parse(d.sU[1])}W.GX=!0};
X.XC.prototype.To=function(d,W){var c=d.d;if(c=="changesel"){var y=W.u;W.u=d.u;d.u=y}if(c=="movesel")W.u.rect=d.zR;
if(d.z6){if(d.a8R){W.tv=[W.iv.length];W.iv.push(d.a8R)}else{W.iv.pop();W.tv=[]}}if(d.sU){W.DU=JSON.parse(d.ap_[0]);
W.jh=JSON.parse(d.ap_[1])}W.GX=!0};X.XC.prototype.$A=function(d){return d.d=="changesel"&&d.u?d.u.channel.length:0};
X.XC.prototype.AE=function(d){for(var W in d.bv)this.bv[W]=d.bv[W]};X.XC.prototype.amR=function(d){var W=v.A.xG(d.j);
if(W.Bb())return null;var c=v.td(W.m,W.i);c.save();c.beginPath();c.translate(-W.x,-W.y);Typr.U.pathToContext({cmds:d.r,crds:d.j},c);
c.closePath();c.fill();c.restore();var y=v.R(W.P()),B=c.getImageData(0,0,W.m,W.i);v.$P(B.data,y,3);return{rect:W,channel:y}};
X.XC.agM=function(d,W,c,y,B){if(c)W=Math.round(W*.7);var r=Math.ceil(2.6*W),x=d.rect.clone();x.Lx(r,r);
if(y&&!B)x=x.nK(y);var Z=v.R(x.P()),i=v.R(Z.length);v.ZW(d.channel,d.rect,i,x);v.yG.GH(i,Z,x,W);if(c){var k=Z.length;
for(var S=0;S<k;S++){var H=(Z[S]-128)*W*2.5;Z[S]=Math.max(0,Math.min(255,Math.round(128+H)))}}return{channel:Z,rect:x}};
X.XC.aA6=function(d,W,c){var y=Math.max(1,Math.ceil(c)),B=d.rect.clone();B.Lx(y,y);var r=B.P(),x={channel:v.R(r),rect:B},Z=v.R(r);
v.ZW(d.channel,d.rect,Z,x.rect);if(c!=0)v.style.stroke(Z,x.channel,x.rect,c);else v.PY(Z,x.channel);
var i=v.R(r);v.QE(Z);if(W!=0)v.style.stroke(Z,i,x.rect,W);else v.PY(Z,i);v.Jd.nK(x.channel,i,x.channel);
return x};X.XC.qB=function(d,W,c,y,B){var r=new a8(0,0,d.m,d.i),x=d.Li();if(d.u){var Z=d.u.rect.nK(r),i=v.R(Z.P()*4);
v.qR(x,r,i,Z);r=Z;x=i}var k=r.P(),H=v.R(k),V=1/y;if(B){if(W>=c)W=c-1;var g=W*(1-y),N=W,C=c,w=c+(255-c)*y,Y=g==N?0:1/(N-g),U=C==w?0:1/(w-C);
for(var S=0;S<k;S++){var e=S<<2,O=v.DB(x[e],x[e+1],x[e+2]),l=0;if(O<g)l=0;else if(O<N)l=(O-g)*Y;else if(O<=C)l=1;
else if(O<=w)l=1-(O-C)*U;else l=0;H[S]=x[e+3]*l*l}}else for(var S=0;S<k;S++){var e=S<<2,I=v.Xx(x[e],x[e+1],x[e+2]),l=v.a8h(I,W,c,y,V);
H[S]=x[e+3]*l}return{rect:r,channel:H}};X.RK=function(){X.UZ.call(this,[10,18],X.j0,"tools/blur");this.SP="copy"};
X.RK.prototype=new X.UZ;X.RK.prototype.RQ=function(d,W,c,y,B){var r=y.S(bm.Oi)?b8.t2:b8.j0;this.zj(d,c,y,B,this.bv.strn,r);
if(this.L3==null)return;this.Ch(d)};X.RK.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);if(this.MX)this.zn(d,c,B);
if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};X.v1=function(){X.UZ.call(this,[10,0],X.Bo,"tools/brush");
this.SP="draw"};X.v1.prototype=new X.UZ;X.v1.prototype.RQ=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B,!0))return;
this.zj(d,c,y,B,this.bv.flow);if(this.L3==null)return;this.Ch(d)};X.v1.prototype.f9=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B))return;
this.ir(d,W,c);if(this.MX)this.zn(d,c,B);if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};
X.Pl=function(){X.UZ.call(this,[10,42],X.NF,"tools/crepl");this.SP="idraw";this.bv.bmode="hue "};X.Pl.prototype=new X.UZ;
X.Pl.prototype.RQ=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B,!0))return;this.zj(d,c,y,B,this.bv.flow);
if(this.L3==null)return;this.Ch(d)};X.Pl.prototype.f9=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B))return;
this.ir(d,W,c);if(this.MX)this.zn(d,c,B);if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};
X.Mm=function(){X.UZ.call(this,[10,43],X.Ez,"tools/redeye");this.bv.smode=0;this.SP="redeye"};X.Mm.prototype=new X.UZ;
X.Mm.prototype.RQ=function(d,W,c,y,B){this.zj(d,c,y,B,this.bv.flow);if(this.L3==null)return;this.Ch(d)};
X.Mm.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);if(this.MX)this.zn(d,c,B);if(this.L3==null)return;
if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};X.y6=function(){X.UZ.call(this,[10,38],X.Go,"tools/pencil");
this.SP="draw"};X.y6.prototype=new X.UZ;X.y6.prototype.RQ=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B,!0))return;
this.zj(d,c,y,B,this.bv.flow);if(this.L3==null)return;this.Ch(d)};X.y6.prototype.f9=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B))return;
this.ir(d,W,c);if(this.MX)this.zn(d,c,B);if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};
X.e5=function(){X.UZ.call(this,[10,22],X.QR,"tools/burn");this.SP="burn"};X.e5.prototype=new X.UZ;X.e5.prototype.RQ=function(d,W,c,y,B){this.zj(d,c,y,B,this.bv.expo/Math.E);
if(this.L3==null)return;this.Ch(d)};X.e5.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);if(this.MX)this.zn(d,c,B);
if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};X.lY=function(d,W,c){X.UZ.call(this,d==""?null:d?d:[10,1],W?W:X.ia,c?c:"tools/clone");
this.SP="clone";this.Ck=null;this.z=null};X.lY.prototype=new X.UZ;X.lY.prototype.RQ=function(d,W,c,y,B){var r=this.bv,x=r.alt[0];
if(y.S(bm.Oi)||y.S(bm.UU)||x){this.Ck=d.Q.q9(B.x,B.y);this.z=null;if(x)this.Dw({alt:[!1]},W);this.T7(d);
this.E0(c,y,d,B);return}if(this.Ck==null){alert(ay.get([15,7,0]));return}this.E0(c,y);this.zj(d,c,y,B,this.bv.flow);
if(this.L3==null)return;this.z=this.a5o(d.Q.q9(B.x,B.y));this.Ch(d)};X.lY.prototype.a5o=function(d){var W=this.z;
if(W==null||!this.bv.algnd)W=new aL(Math.round(d.x-this.Ck.x),Math.round(d.y-this.Ck.y));return W};X.lY.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);
if(this.MX)this.zn(d,c,B);if(this.L3==null){if(this.Ck!=null)this.E0(c,y,d,B);return}if(!B.HW||this.Ck==null)return;
this.fG(d,c,y,B);this.Ch(d)};X.lY.prototype.kj=function(){return this.z};X.JT=function(){X.dA.call(this,[10,53],X.ajG,"tools/csamp");
this.y_=-1;this.a4i=null};X.JT.prototype=new X.dA;X.JT.prototype.RQ=function(d,W,c,y,B){this.a4i=JSON.stringify(d.Fw);
var r=d.Q.q9(B.x,B.y),x=d.Fw,Z=1e9,i=-1;for(var S=0;S<x.length;S++){var k=x[S],H=r.x-k.x,V=r.y-k.y,g=H*H+V*V;
if(g<Z){Z=g;i=S}}var N=15/d.Q.O;i=Z<N*N?i:-1;if(i==-1){i=x.length;x.push({x:r.x,y:r.y})}else if(y.S(bm.Oi)){x.splice(i,1);
i=-1}this.y_=i;d.ps=!0};X.JT.prototype.f9=function(d,W,c,y,B){var r=this.y_;if(r!=-1){var x=d.Q.q9(B.x,B.y);
d.Fw[r].x=x.x;d.Fw[r].y=x.y;d.ps=!0}};X.JT.prototype.AZ=function(d,W,c,y,B,r){var x=new aw(this.name,this);
x.data={qp:this.a4i,z4:JSON.stringify(d.Fw)};d.hZ(x);this.y_=-1};X.JT.prototype.lL=function(d,W){W.Fw=JSON.parse(d.qp)};
X.JT.prototype.To=function(d,W){W.Fw=JSON.parse(d.z4)};X.JH=function(d,W,c){X.dA.call(this,d,W,c);this.bT={FZ:{VQ:0,x:0,y:0},Zw:!1,f5:!1};
this.b6=!1;this.yx=null;this.cursor=null;this.aD1=0;this.rs=null;this.Ks=null;this.bh=null;this.Lu=!1};
X.JH.prototype=new X.dA;X.JH.prototype.cN=function(){return this.yx!=null};X.JH.prototype.zh=function(d){return this.Ks!=null||this.yx&&this.yx.aCg()};
X.JH.prototype.RQ=function(d,W,c,y,B){this.rs=B;var r=d.Q.q9(B.x,B.y),x=this.bT.FZ,Z=x.VQ!=0?x.x/x.y:null,i=this.Lu;
this.Lu=!1;if(this.yx){var k=this.yx.He(r,d.Q.O);if(i&&k==null){this.yx.clear(d);this.yx=null}else{this.yx.RQ(d,c,y,r,Z,!1,B);
return}}this.Ks=X.rL.fh(d,r,c)};X.JH.prototype.SE=function(d,W,c){if(c==null)c=[d.x,d.y,d.x+d.m,d.y,d.x+d.m,d.y+d.i,d.x,d.y+d.i];
return new g6(c,!0,!1,this.id==X.oE,!0,W,this.id==X.oE?2:0,this.id==X.oE?4:3)};X.JH.prototype.E0=function(d){var W=new bR(b.E.V,!0);
W.data={d:b.H.iV,QM:this.cursor};d.T(W)};X.JH.prototype.enable=function(d,W,c,y){this.i7=W;this.cursor="crosshair";
this.E0(W);if(d!=null&&this.yx==null){var B=d.u?{Ph:"cropby",a0V:3}:{Ph:"config",bT:this.bT,afw:!0};
this.AE(B,W,d,y,c);if(d.u==null&&this.bT.FZ.VQ==0)this.Lu=!0}};X.JH.prototype.f9=function(d,W,c,y,B){this.rs=B;
var r=d.Q.q9(B.x,B.y);if(!B.HW){var x="crosshair";if(this.yx){var Z=this.yx.He(r,d.Q.O,null,B);if(Z)x=Z;
else x="default"}if(x!=this.cursor){this.cursor=x;this.E0(W)}}if(this.yx)this.yx.f9(d,c,y,r);else if(this.Ks){if(this.b6){d.N.fZ={r:["M","L"],j:[this.Ks.x,this.Ks.y,r.x,r.y]}}else{var i=X.Q6.i8(this.Ks,X.rL.fh(d,r,c),y,!0,this.bT.FZ),k=i[0].x,H=i[0].y,V=this.bh=new a8(k,H,i[1].x-k,i[1].y-H);
d.N.fZ=v.A.z$(V);X.dA.sX(B,V,d,c)}d.ps=!0}};X.JH.aud=function(d,W,c){var y,B,Z,i;if(W<=c){y=W;B=c}else{y=c;
B=W}var r=d-Math.floor((d+Math.PI)/(2*Math.PI))*2*Math.PI;r=Math.abs(r);if(r>Math.PI/2)r=Math.PI-r;var x=y/(B*Math.sin(r)+y*Math.cos(r));
if(W<=c){Z=y*x;i=B*x}else{Z=B*x;i=y*x}return{Kp:Z,fn:i}};X.JH.prototype.AZ=function(d,W,c,y,B){this.rs=B;
var r=d.Q.q9(B.x,B.y);if(this.yx==null){var x=this.bh;if(this.Ks&&(x||this.b6)){if(this.b6){var Z=this.Ks,i=r,k=i.x-Z.x,H=i.y-Z.y;
if(Math.abs(k)<Math.abs(H))i=new aL(Z.x-H,Z.y+k);if(Z.x>i.x){var V=Z;Z=i;i=V}var Z=Math.atan2(-(i.y-Z.y),i.x-Z.x),g=X.JH.aud(Z,d.m,d.i);
if(this.bT.f5){var N=v.A.z$(new a8(0,0,d.m,d.i)),C=new dT;C.rotate(Z);v.A.e(N.j,C,N.j);g=v.A.xG(N.j);
g={Kp:g.m,fn:g.i}}var w=[0,0,g.Kp,0,g.Kp,g.fn,0,g.fn],Y=new dT;Y.translate(-g.Kp/2,-g.fn/2);Y.rotate(Z);
Y.translate(d.m/2,d.i/2);v.A.e(w,Y,w);this.yx=this.SE(x,!1,w);this.b6=!1}else{var U=this.bT.FZ;this.yx=this.SE(x,U.VQ!=0)}this.yx.QD(d,c);
this.bh=null;this.Th(W,b.E.V,{d:b.H.TE,f:this.id,TV:!0});this.Ks=null;d.N.Te=[];d.N.fZ=null;d.ps=!0}return}this.yx.AZ(d,c,y,r);
this.Th(W,b.E.V,{d:b.H.TE,f:this.id,TV:!0});var w=this.yx.vE();if(Math.abs(w[0]-w[4])<2&&Math.abs(w[1]-w[5])<2){this.H6(d,W,null,y);
return}if(Date.now()-this.aD1<200&&this.yx.kP(r)){this.I1(d,c);this.H6(d,W,c,y);return}this.aD1=Date.now()};
X.JH.prototype.z9=function(d,W,c,y){var B=this.yx;if(B==null||this.rs&&this.rs.HW)return;if(y.S(bm.Qy)){this.I1(d,c);
this.H6(d,W,c,y)}else if(y.S(bm.Rh)){this.H6(d,W,c,y)}else B.z9(d,c,y)};X.JH.acY=function(d,W,c){var y={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:d[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:d[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:d[1]+d[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:d[0]+d[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:W!=null?W:0}},Dlt:{t:"bool",v:c!=null?c:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{cx:"crop",i9:y}};X.JH.Bv=function(d,W){if(W==null)W=[!0,!0,!0,!0];var c={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][d]}}},y=["Top","Left","Btom","Rght"];
for(var S=0;S<4;S++)c[y[S]]={t:"bool",v:W[S]};return{cx:"trim",i9:c}};X.JH.aEa=function(d,W,c,y){var B={classID:"null"};
if(y!=null){B.Wdth={t:"UntF",v:{type:"#Pxl",val:d}};B.Hght={t:"UntF",v:{type:"#Pxl",val:W}};B.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][y]}}}if(c!=null)B.Rslt={t:"UntF",v:{type:"#Rsl",val:c}};
return{cx:"imageSize",i9:B}};X.JH.am8=function(d,W,c,y){if(c==null)c=4;if(y==null)y=!1;var B=Math.floor(c/3),r=c%3;
return{cx:"canvasSize",i9:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:d}},Hght:{t:"UntF",v:{type:"#Pxl",val:W}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][r]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][B]}},Rltv:{t:"bool",v:y}}}};
X.JH.prototype.fY=function(d,W,c,y,B){var r=new a8(0,0,c.m,c.i),x=[11,3],Z=c.tU,i=c.m/2,k=c.i/2,H=1,A,u,q;
if(d.d=="fromAction"){var V=d.RZ,g=V.cx,N=V.i9,C=c.m/c.i,w=N.Wdth?N.Wdth.v.val:-1,Y=N.Hght?N.Hght.v.val:-1,Z=N.Rslt?N.Rslt.v.val:null,U=N.Wdth?N.Wdth.v.type:N.Hght?N.Hght.v.type:-1,e=1,O;
if(U=="#Prc"){if(w!=-1)w=Math.round(c.m*w/100);if(Y!=-1)Y=Math.round(c.i*Y/100)}if(g=="imageSize"){if(N.Intr){if(N.Intr.v.Intp=="Nrst")e=0;
if(N.Intr.v.Intp=="bicubicSharper")e=2;if(w==-1&&Y==-1){var l=Z/c.tU;w=Math.round(c.m*l);Y=Math.round(c.i*l)}if(N.CnsP&&N.CnsP.v){if(w==-1)w=Math.round(Y*C);
if(Y==-1)Y=Math.round(w/C)}}else{if(U=="#Prc")Z=Math.round(c.tU*(c.m/w));else if(U==-1)Z=Math.round(Z);
else throw"e";w=c.m;Y=c.i}O={d:"imgsize",DH:w,Pw:Y,to:Z,VP:e}}else if(g=="canvasSize"){if(w==-1)w=c.m;
if(Y==-1)Y=c.i;if(N.Rltv&&N.Rltv.v==!0){if(N.Wdth)w+=c.m;if(N.Hght)Y+=c.i}var I=N.Vrtc?N.Vrtc.v.VrtL:"Cntr",s=N.Hrzn?N.Hrzn.v.HrzL:"Cntr";
O={d:"canvsize",DH:w,Pw:Y,gS:3*["Top","Cntr","Btom"].indexOf(I)+["Left","Cntr","Rght"].indexOf(s)}}else if(g=="revealAll"){O={d:"revealAll"}}else if(g=="trim"){var z={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[N.trimBasedOn.v.trimBasedOn];
if(z==null)throw"e";var R=["Top","Left","Btom","Rght"],t=[!0,!0,!0,!0];for(var S=0;S<4;S++)if(N[R[S]])t[S]=N[R[S]].v;
O={d:"trim",a8k:z,IO:t}}else if(g=="crop"){var a,J,F,h;if(N.T){var m=N.T.v,a=Math.round(m.Left.v.val),J=Math.round(m.Top.v.val),F=Math.round(m.Rght.v.val)-a,h=Math.round(m.Btom.v.val)-J}else{var D=c.u.rect;
a=D.x;J=D.y;F=D.m;h=D.i}O={d:"canvsize",DH:F,Pw:h,z:new aL(a,J),a2q:N.Dlt!=null&&N.Dlt.v}}else console.log(V);
if(O)this.fY(O,W,c,y,B);return}else if(d.d=="imgsize"){r=new a8(0,0,d.DH,d.Pw);if(d.to)Z=d.to;H=d.VP}else if(d.d=="canvsize"){var _=d.gS!=null?d.gS:0;
r=new a8(0,0,d.DH,d.Pw);var n=c.m-d.DH,j=c.i-d.Pw,T=Math.round(n/2),L=Math.round(j/2);if(_==1||_==4||_==7)r.x=T;
if(_==2||_==5||_==8)r.x=n;if(_==3||_==4||_==5)r.y=L;if(_==6||_==7||_==8)r.y=j;if(d.z){r.x=d.z.x;r.y=d.z.y}}else if(d.d=="rot"&&(d.b+2*Math.PI)%(Math.PI/2)!=0){var p=v.A.z$(r).j,E=new dT;
E.translate(-i,-k);E.rotate(d.b);E.translate(i,k);v.A.e(p,E,p);r=v.A.xG(p)}else if(d.d=="rot"&&d.b!=Math.PI&&d.b!=-Math.PI){r=new a8(i-c.i/2,k-c.m/2,c.i,c.m);
if((c.m+c.i&1)==1){i=Math.floor(i);k=Math.floor(k);r=new a8(i-Math.floor(c.i/2),k-Math.floor(c.m/2),c.i,c.m);
if((c.m&1)==1&&d.b!=-Math.PI/2)r.y--;if((c.i&1)==1&&d.b==-Math.PI/2)r.x--}}else if(d.d=="trim"){x=[11,12,0];
var G=c.Li(),D=new a8(0,0,c.m,c.i);r=v.Cl(G,D,d.a8k,d.IO);if(r.Bb())r=D}else if(d.d=="revealAll"){x=[11,12,2];
r=c.root.yo(c,!0)}var o=d.d=="canvsize"&&d.a2q;if(d.d=="imgsize"||d.d=="rot"||d.d=="scl"||o){var M=new dT;
if(d.d=="imgsize"){x=[11,10];M.scale(d.DH/c.m,d.Pw/c.i);q=c.B5();for(var S=0;S<q[0].length;S++)q[0][S][1]*=q[0][S][0]==0?M.U:M.x7}else if(o){}else{M.translate(-i,-k);
if(d.d=="rot")M.rotate(d.b);if(d.d=="scl")M.scale(d.b.x,d.b.y);M.translate(i,k);x=d.o1}u=v.D.MK(M);A=this.KH(c,B,!0,u,H,o?r:null)}else if(d.d=="auto-align"){if(c.g.length<2){alert("Select two or more layers.");
return}var $=[];for(var S=0;S<c.g.length;S++){var Q=c.B[c.g[S]];if(!Q.TT()&&Q.add.SoLd==null){alert("Unsupported layer selected.");
return}if(Q.rect.Bb()){alert("Empty layer selected.");return}$.push([Q.buffer,Q.rect])}var kF=v.Hh.dW($);
if(kF==null){alert("No similarity found.");return}u=kF[1];A=this.KH(c,B,!1,kF,H);r=c.root.yo(c,!0);x=[2,10,1]}var P=new a8(0,0,c.m,c.i);
if(!r.Bb()&&(!r.zI(P)||A!=null)){var bM=new aw(x,this);bM.data={agK:c.tU,to:Z,Fq:A,KK:u,Zz:X.JH.a8O(c,r,P,A!=null)};
if(q){bM.data.ad2=c.B5();bM.data.ahz=q}X.JH.ajJ(c,bM.data,r);c.hZ(bM);this.To(bM.data,c)}};X.JH.a8O=function(d,W,c,y){if(d.nD.length==0)return null;
var B=JSON.stringify(d.nD),r=JSON.parse(B);X.ju.ah$(r,W,c,y);r=JSON.stringify(r);return[B,r]};X.JH.prototype.KH=function(d,W,c,y,B,r,x){var Z={B:[],c$:null,op:null};
if(c){for(var S=0;S<d.B.length;S++)Z.B.push(S);for(var S=0;S<d.GB.length;S++)Z.B.push(-1-S);for(var S=0;
S<d.iv.length;S++)Z.B.push(-1e3-S)}else Z.B=d.g.slice(0);Z.c$=X.X.TF(d,Z.B,!0);var i=Math.abs(y[3]*y[1])>1e-9;
X.X.hv(d,W,Z.B,Z.c$,B,y,null,!0,i?null:r);if(c&&x&&d.YH()){var k=d.B[d.g[0]],H=k.buffer,V=k.rect,g=i?V.clone():r.clone(),N=v.R(g.P()*4),C=v.R(V.P());
v.$P(H,C,3);var w=v.R(g.P());v.ZW(C,V,w,g);v.round(w,255);v.QE(w);var Y=v.ng.eZ(H,V,w,N,g);if(Y==0){k.rect=g;
k.buffer=N}}Z.op=X.X.TF(d,Z.B,!0);return Z};X.JH.prototype.To=function(d,W){if(d.to)W.tU=d.to;if(d.Zz)W.nD=JSON.parse(d.Zz[1]);
if(d.Fq){X.JH.rJ(W,v.D.hM(d.KK));X.X.HJ(W,d.Fq.B,d.Fq.op);if(d.ahz)W.Pe(d.ahz)}X.JH.et(W,d)};X.JH.prototype.lL=function(d,W){if(d.agK)W.tU=d.agK;
if(d.Zz)W.nD=JSON.parse(d.Zz[0]);X.JH.Pz(W,d);if(d.SX)W.Q.z.y2(d.SX);W.ayk();if(d.Fq){var c=v.D.hM(d.KK).clone();
c.QE();X.JH.rJ(W,c);X.X.HJ(W,d.Fq.B,d.Fq.c$);if(d.ad2)W.Pe(d.ad2)}};X.JH.rJ=function(d,W){for(var S=0;
S<d.B.length;S++){var c=d.B[S];if(c.add.artb==null)continue;var y=v.A.z$(c.ZB()).j;v.A.e(y,W,y);var B=v.A.xG(y);
c.Nn(B)}};X.JH.qH=function(d){var W=new a8,c=0,y=d.root.children.length;for(var S=0;S<y;S++){var B=d.root.children[S].a;
if(B.add.artb==null)continue;W=W.hB(B.ZB());c++}var r=new a8(0,0,d.m,d.i);if(!W.Bb()&&!r.zI(W))return W;
return null};X.JH.je=function(d){var W=X.JH.qH(d);if(W)X.JH.Zw(d,W,!0);return W};X.JH.Zw=function(d,W,c){var y=d.m,B=d.i,r=W.m,x=W.i,Z=W.x==0&&W.y==0;
if(Z&&y==r&&B==x)return;d.m=r;d.i=x;var i=[];for(var S=0;S<d.B.length;S++)i.push(S);if(!Z)X.rL.gs(d,i,null,-W.x,-W.y);
for(var S=0;S<d.B.length;S++){d.B[S].Ys(d)}d.ayk();if(c){var k=d.Q.z,H=d.Q.O;k.x+=Math.round((W.x+(r-y)/2)*H);
k.y+=Math.round((W.y+(x-B)/2)*H)}else d.Q.z.sq(0,0);if(d.u)d.u.rect.offset(-W.x,-W.y);var V=d.B5();for(var g=0;
g<V[0].length;g++)if(V[1][g]==-1){var N=d.qx[g];N[1]-=N[0]==0?W.x:W.y}for(var S=0;S<d.iv.length;S++)d.iv[S].rect.offset(-W.x,-W.y)};
X.JH.prototype.AE=function(d,W,c,y,B){if(d.Ph=="commit"){this.I1(c,B);this.H6(c,W,null,y)}else if(d.Ph=="cancel"){this.H6(c,W,null,y)}var r=null,x=new a8(0,0,c.m,c.i),Z=this.bT.FZ;
if(d.Ph=="config"){this.bT=d.bT;Z=this.bT.FZ;if(c==null||!d.afw)return;r=x;if(Z.VQ==1){var i=Z.x/Z.y;
if(r.m/i<r.i)r.i=Math.round(r.m/i);else r.m=Math.round(r.i*i)}if(Z.VQ==2){r.m=Z.x;r.i=Z.y}r.x=Math.round((c.m-r.m)/2);
r.y=Math.round((c.i-r.i)/2)}if(d.Ph=="straighten"){alert("Draw a line in the image.");this.b6=!0}if(d.Ph=="cropby"){if(c==null)return;
var k=d.a0V,r;if(k==0)r=c.root.yo(c,!0);if(k==1){if(c.g.length==0)alert("No layer is selected.");else{var H=c.root.x$(c.g[0]);
r=H.yo(c,!0)}}if(k==2){if(c.g.length==0)alert("No layer is selected.");else{r=v.Cl(c.Li(),x,0);if(r.Bb())r=x.clone()}}if(k==3){if(c.u!=null)r=c.u.rect;
else alert("There is no selection.")}if(k==4){r=new a8(0,0,c.m,c.i)}}if(r&&r.Bb())r=null;if(r!=null){this.yx=this.SE(r,Z.VQ!=0);
this.yx.QD(c,B);this.Th(W,b.E.V,{d:b.H.TE,f:this.id,TV:!0})}};X.JH.prototype.VO=function(d,W,c,y){this.Th(W,b.E.V,{d:b.H.TE,f:this.id,Nx:[d.m,d.i]})};
X.JH.prototype.I1=function(d,W){var c=this.yx.vE(),y=v.A.xG(c),B=this.a3Y(d,c),r=!1,x=this.bT,Z=x.FZ,i=x.Zw,k=Z.x,H=Z.y,N;
if(this.id==X.Rz&&Z.VQ==2&&B.P()!=k*H){B=new a8(B.x,B.y,k,H);r=!0}var V=v.D.bO(c,B);V=v.D.QE(V);var g=v.D.eR(V),C=Math.atan2(V[3],V[0]),w=new a8(0,0,d.m,d.i);
if(Math.abs(C)>1e-9||!g||r||i||x.f5)N=this.KH(d,W,!0,V,1,y,x.f5);else if(B.zI(w))return;var Y=new aw(this.name,this);
Y.data={Fq:N,KK:V,SX:d.Q.z.clone(),Zz:X.JH.a8O(d,B,w,!1)};X.JH.ajJ(d,Y.data,B);d.hZ(Y);this.To(Y.data,d);
this.track(X.JH.acY([y.x,y.y,y.m,y.i],null,i))};X.JH.ajJ=function(d,W,c){if(c==null)return;W.Pa=new a8(0,0,d.m,d.i);
W.zR=c};X.JH.et=function(d,W){if(W.zR==null)return;X.JH.Zw(d,W.zR)};X.JH.Pz=function(d,W){if(W.zR==null)return;
var c=W.Pa.clone();c.offset(-W.zR.x,-W.zR.y);X.JH.Zw(d,c)};X.JH.prototype.a3Y=function(d,W){var c=v.D.bO(W),y=v.D.eR(c),B=v.D.hM(c),r=B.IS,x=B.rk,Z=Math.atan2(B.J,B.U);
B.rotate(Z);var i=new a8(r,x,B.U,B.x7);if(!y){function k(O,S,l){var I=O[S]-O[l],s=O[S+1]-O[l+1];return Math.sqrt(I*I+s*s)}var H=k(W,0,2),V=k(W,4,6),g=Math.max(H,V),N=k(W,2,4),C=k(W,6,0),w=Math.max(N,C),Y=X.JH.zB(W,d.m/2,d.i/2),U,e;
if(isNaN(Y)||Y==Infinity||Y==-Infinity||Math.min(Y,1/Y)<.1)Y=(H+V)/(N+C);if(g/w>Y){U=g*1;e=U/Y}else{e=w*1;
U=e*Y}i.m=U;i.i=e}i.x=Math.round(i.x);i.y=Math.round(i.y);i.m=Math.round(i.m);i.i=Math.round(i.i);return i};
X.JH.zB=function(d,W,c){var y=d[0]-W,B=d[1]-c,r=d[2]-W,x=d[3]-c,Z=d[6]-W,i=d[7]-c,k=d[4]-W,H=d[5]-c,V=((B-H)*Z-(y-k)*i+y*H-B*k)/((x-H)*Z-(r-k)*i+r*H-x*k),g=((B-H)*r-(y-k)*x+y*H-B*k)/((i-H)*r-(Z-k)*x+Z*H-i*k),N=-((g*i-B)*(V*x-B)+(g*Z-y)*(V*r-y))/((g-1)*(V-1));
function C(Y){return Y*Y}var w=Math.sqrt((C(V-1)+C(V*x-B)/N+C(V*r-y)/N)/(C(g-1)+C(g*i-B)/N+C(g*Z-y)/N));
if(V==1&&g==1)w=Math.sqrt((C(x-B)+C(r-y))/(C(i-B)+C(Z-y)));return w};X.JH.prototype.H6=function(d,W,c,y){if(d==null)return;
if(this.yx)this.yx.clear(d);this.yx=null;this.Th(W,b.E.V,{d:b.H.TE,f:this.id,TV:!1})};X.JH.prototype.disable=function(d,W,c,y){if(this.yx)this.I1(d,c);
this.H6(d,W,c,y)};X.JH.prototype.Th=function(d,W,c,y){var B=new bR(W,!0);B.data=c;if(y)B.f=y;d.T(B)};
X.abq=function(){X.JH.call(this,[10,2],X.Rz,"tools/rcrop")};X.abq.prototype=new X.JH;X.ayh=function(){X.JH.call(this,[10,39],X.oE,"tools/pcrop")};
X.ayh.prototype=new X.JH;X.$B=function(){X.UZ.call(this,[10,21],X.Gm,"tools/dodge");this.SP="dodge"};
X.$B.prototype=new X.UZ;X.$B.prototype.RQ=function(d,W,c,y,B){this.zj(d,c,y,B,this.bv.expo/Math.PI);
if(this.L3==null)return;this.Ch(d)};X.$B.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);if(this.MX)this.zn(d,c,B);
if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};X.Nm=function(){X.UZ.call(this,[10,3],X.NT,"tools/eraser");
this.SP="erase"};X.Nm.prototype=new X.UZ;X.Nm.prototype.RQ=function(d,W,c,y,B){this.zj(d,c,y,B,this.bv.flow);
if(this.L3==null)return;this.Ch(d)};X.Nm.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);if(this.MX)this.zn(d,c,B);
if(this.L3==null)return;if(!B.HW)return;var r=this.fG(d,c,y,B);this.Ch(d)};X.uU=function(){X.UZ.call(this,[10,45],X.JJ,"tools/beraser");
this.SP="ierase"};X.uU.prototype=new X.UZ;X.uU.prototype.RQ=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B,!0))return;
this.zj(d,c,y,B,this.bv.flow);if(this.L3==null)return;this.Ch(d)};X.uU.prototype.f9=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B))return;
this.ir(d,W,c);if(this.MX)this.zn(d,c,B);if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};
X.Qk=function(){X.XC.call(this,[10,15],X.Ai,"tools/rselect");this.Or="crosshair"};X.Qk.prototype=new X.XC;
X.Qk.prototype.S0=function(d,W,c,y){if(!y.HW||!this.fv)return;var B=this.yo(d,c,!0);d.N.fZ=v.A.z$(B);
d.ps=!0;X.dA.sX(y,B,d,W)};X.Qk.prototype.NC=function(d,W,c,y){d.N.fZ=null;d.N.Te=[];d.ps=!0;this.finish(d,W,c,y)};
X.Qk.prototype.getSelection=function(d,W,c,y){if(this.Ks.zI(this.bl)||!this.fv)return null;var B=this.yo(d,c,!0);
if(B.Bb())return null;return X.XC.If("Rctn",B,this.bv.anta)};X.bV=function(){X.XC.call(this,[10,4],X.aAY,"tools/eselect");
this.Or="crosshair"};X.bV.prototype=new X.XC;X.bV.prototype.S0=function(d,W,c,y){if(!y.HW||!this.fv)return;
var B=this.yo(d,c);d.N.fZ=X.bV.a8c(B);d.ps=!0;X.dA.sX(y,B,d,W)};X.bV.prototype.NC=function(d,W,c,y){d.N.fZ=null;
d.N.Te=[];d.ps=!0;this.finish(d,W,c,y)};X.bV.prototype.getSelection=function(d,W,c,y){if(this.Ks.zI(this.bl)||!this.fv)return null;
var B=this.yo(d,c);if(!B.rC(new a8(0,0,d.m,d.i)))return null;return X.XC.If("Elps",B,this.bv.anta)};
X.bV.a8c=function(d){var W=d.x,c=d.y,y=d.x+d.m,B=d.y+d.i,r=(W+y)/2,x=(c+B)/2,Z=(W-y)/2,i=(c-B)/2,k=.5522848,H={j:[r,x-i],r:["M","C","C","C","C"]};
H.j.push(r+k*Z,x-i,r+Z,x-k*i,r+Z,x);H.j.push(r+Z,x+k*i,r+k*Z,x+i,r,x+i);H.j.push(r-k*Z,x+i,r-Z,x+k*i,r-Z,x);
H.j.push(r-Z,x-k*i,r-k*Z,x-i,r,x-i);return H};X.tX=function(d){X.dA.call(this,[10,5],d?X.vz:X.xL,"tools/eyedropper");
this.LU=null;this.amv=!1;this.iQ=0;this._T=null;this.aZ=1;this.RW=2;this.asy=!0;this.Gh=!1};X.tX.prototype=new X.dA;
X.tX.prototype.zh=function(d){return d.HW};X.tX.prototype.enable=function(d,W,c,y,B){X.dA.prototype.enable.call(this,d,W,c,y,B);
this.amv=B};X.tX.prototype.fY=function(d,W,c,y,B){if(d.d=="pickhere")this.fC(c,W,B,null,d.a7v);if(d.d=="supertool")this.LU=d.f};
X.tX.prototype.RQ=function(d,W,c,y,B){var r=this.LU;if(r){r.RQ(d,W,c,y,B);return}this.iQ=c.R5;this._T=B;
var x=this.fC(d,null,c,y,B);this.E0(d,W,x,B)};X.tX.prototype.f9=function(d,W,c,y,B){var r=this.LU;if(r){r.f9(d,W,c,y,B);
return}var x=this._T;if(x){var Z=B.x-x.x,i=B.y-x.y,k=1,H=new aL(x.x+Z*k,x.y+i*k),V=this.fC(d,null,c,y,H);
this.E0(d,W,V,H,new aL(Z*(1-k),i*(1-k)))}};X.tX.prototype.E0=function(d,W,c,y,B){var r=this.asy,x=this.Gh;
if(d.Q.O>4)x=!1;if(!x&&!r)return;var Z=X.tX.amy(d,x,r,y,B,c,this.iQ,this.aZ),i=new bR(b.E.V,!0);i.data={d:b.H.iV,QM:Z};
W.T(i)};X.tX.prototype.AZ=function(d,W,c,y,B,r){var x=this.LU;if(x){x.AZ(d,W,c,y,B);return}this.fC(d,W,c,y,B);
if(this._T){this._T=null;if(r)this.fC(d,W,c,y,B,this.iQ);var Z=new bR(b.E.V,!0);Z.data={d:b.H.iV,QM:"default"};
W.T(Z)}};X.tX.prototype.fC=function(d,W,c,y,B,r){if(r==null)r=X.tX.uO(d,B,this.aZ,this.RW);var x=new bR(b.E.V);
x.data={d:b.H.e7,au:kG.kg,jK:!this.amv&&y&&y.S(bm.Oi)?1:0,b:r};if(W)W.T(x);return r};X.tX.amy=function(d,W,c,y,B,r,x,Z){if(B==null)B=new aL(0,0);
var i=new a8(0,0,d.m,d.i),k=d.Li(),H=12,V=11,g=(H*2+1)*V,N=new aL(g/2,g/2),C=new a8(0,0,g,g),w=v.R(C.P()*4),Y=d.Q.q9(y.x,y.y),U=Math.floor(Y.x),e=Math.floor(Y.y),O=new dT;
O.scale(1/V,1/V);O.translate(U-H,e-H);if(W)v.scale.aqa(k,i,O,w,C);var l=(H-3.4)*V,I=(H-1.7)*V,s=H*V;
for(var z=0;z<g;z++)for(var R=0;R<g;R++){var t=aL.Bg(new aL(R,z),N);if(t>l){if(c){var a=Math.max(0,l-t+1),J=(z*g+R)*4,F=w[J+3]<<24|w[J]<<16|w[J+1]<<8|w[J+2],h=255<<24|(z<s+V*.5?r:x);
if(t>I){a=Math.max(0,I-t+1);F=h;h=4286611584}else if(!W){F=h&16777215}w[J+0]=(1-a)*(h>>>16&255)+a*(F>>>16&255);
w[J+1]=(1-a)*(h>>>8&255)+a*(F>>>8&255);w[J+2]=(1-a)*(h>>>0&255)+a*(F>>>0&255);w[J+3]=(1-a)*(h>>>24&255)+a*(F>>>24&255)}if(t>s){w[(z*g+R)*4+3]=Math.max(0,255*(s-t+1))}}}function m(S){var Q=S<<2;
w[Q]=0;w[Q+1]=0;w[Q+2]=0;w[Q+3]=255}function D(S){var Q=S<<2;w[Q]=255;w[Q+1]=255;w[Q+2]=255;w[Q+3]=255}var _=Z*V+2,n=g-_>>>1,j=n+_-1;
if(W&&_<g)for(var S=0;S<_;S++){var T=n*g+n+S,L=j*g+n+S,p=(n+S)*g+n,E=(n+S)*g+j;m(T);m(L);m(p);m(E);if(S!=0&&S!=_-1){D(T+g);
D(L-g);D(p+1);D(E-1)}}if(!W)for(var S=-9;S<=9;S++){if(-3<S&&S<3)continue;var G=g>>>1,R=G*g+G+S,z=(G+S)*g+G;
D(R-g);m(R);D(R+g);D(z-1);m(z);D(z+1)}var A=r>>>16&255,u=r>>>8&255,q=r>>>0&255,o="RGB "+A+","+u+","+q,M=v.YP([A/255,u/255,q/255]);
if(d.add.fcmy)o="CMYK "+M.map(function(Q){return Math.round(Q*100)}).join(",");var $=X.dA.EA(0,0,["#"+v.Wb(r),o]),i=$[1];
i.y=0;i.x=g-i.m>>>1;v.qR($[0],i,w,C);return{hl:w,qe:C,Mh:new aL(N.x+B.x,N.y+B.y)}};X.tX.uO=function(d,W,c,y,B){if(y==null)y=2;
var r=d.Q.q9(W.x,W.y),x,Z,i=d.g.length==1&&d.B[d.g[0]].MM>0&&B!=!0,k=d.tv.length!=0,I=0,s=0,z=0;if(i||k){var H;
if(k)H=d.iv[d.tv[0]];else{var V=d.B[d.g[0]];H=V.MM==1?V.Q7():V.apa()}Z=H.yo();if(!Z.Ce(r))return H.color==0?0:16777215;
x=v.R(Z.P()*4);x.fill(255);var g=H.GQ();v.ta(g,x)}else if(y==0&&d.g.length!=0){var V=d.B[d.g[0]];x=V.buffer;
Z=V.rect}else{x=y==2?d.Li():d.Li(d.g[0]);Z=new a8(0,0,d.m,d.i)}var N=Math.floor(r.x)-Z.x,C=Math.floor(r.y)-Z.y,w=(c-1)/2,Y=Math.max(0,N-w),U=Math.max(0,C-w),e=Math.min(Z.m,N+w+1),O=Math.min(Z.i,C+w+1),l=(e-Y)*(O-U);
for(var N=Y;N<e;N++)for(var C=U;C<O;C++){var S=4*(C*Z.m+N);I+=x[S];s+=x[S+1];z+=x[S+2]}I=Math.round(I/l);
s=Math.round(s/l);z=Math.round(z/l);return I<<16|s<<8|z};X.tX.prototype.AE=function(d){var W=d.bv;this.aZ=[1,3,5,11,31][W[0]];
this.RW=W[1];this.asy=W[2];this.Gh=W[3]};X.Bw=function(){X.dA.call(this,[10,6],X.YQ,"tools/gradient");
this.bv={L:JSON.parse(bV.We.akv).v,r1:"Lnr",KV:!1,eY:!1,asU:"norm",M4:1};this.Ul=!1;this.nk=null};X.Bw.prototype=new X.dA;
X.Bw.prototype.enable=function(d,W,c,y){var B=new bR(b.E.V,!0);B.data={d:b.H.iV,QM:"default"};W.T(B)};
X.Bw.prototype.AE=function(d){this.bv=d.au};X.Bw.prototype.RQ=function(d,W,c,y,B){if(!d.YH())return;
this.nk=d.Q.q9(B.x,B.y);this.nk=X.rL.fh(d,this.nk,c);this.Ul=!0};X.Bw.prototype.f9=function(d,W,c,y,B){if(!this.Ul)return;
var r=d.Q.q9(B.x,B.y);r=X.rL.fh(d,r,c);if(y.S(bm.Uo))r=X.Bw.Lt(this.nk,r);d.N.fZ={j:[this.nk.x,this.nk.y,r.x,r.y],r:["M","L"]};
d.N.dk=[this.nk.x,this.nk.y,r.x,r.y];d.ps=!0};X.Bw.prototype.AZ=function(d,W,c,y,B){if(!this.Ul)return;
var r=d.B[d.g[0]],x=d.Q.q9(B.x,B.y);x=X.rL.fh(d,x,c);if(y.S(bm.Uo))x=X.Bw.Lt(this.nk,x);var Z=x.Sa(this.nk),i=aL.A2(this.nk,x,.5),k=Math.atan2(Z.y,Z.x),H=aL.Bg(this.nk,x),V=Math.sin(k),g=Math.cos(k);
if(H>2){var N;if(d.u)N=d.u.rect;else N=new a8(0,0,d.m,d.i);var C=v.R(N.P()*4),w=this.bv,Y=w.r1;if(Y!="Lnr"){H*=2;
i=this.nk}v.L.cR(w.L,C,N,[g*1/H,V*1/H,-V*1/H,g*1/H],i.x,i.y,w.KV,bV.L.types.indexOf(Y),c.R5,c.qX,null,w.eY);
var U=Math.round(w.M4*256),e=C.length;if(U!=256)for(var S=0;S<e;S+=4)C[S+3]=C[S+3]*U>>>8;var O=new bR(b.E.v);
O.f=X.NT;O.data={d:"fillBMP",HH:C,wN:w.asU,o1:this.name};W.T(O)}d.N.fZ=null;d.N.dk=[];d.ps=!0;this.Ul=!1};
X.Bw.prototype.fY=function(d,W,c,y,B){function r(g){g=g.v;var N=g.Hrzn.v.val,C=g.Vrtc.v.val;return c.Q.Yd(N,C)}if(d.d=="fromAction"){var x=this.bv,Z=this.bv={};
for(var i in x)Z[i]=x[i];var k=d.RZ.i9;if(k.Opct)Z.M4=k.Opct.v.val/100;if(k.Dthr)Z.eY=k.Dthr.v;if(k.Grad)Z.L=k.Grad.v;
if(k.Type)Z.r1=k.Type.v.GrdT;var H=r(k.From),V=r(k.T);this.RQ(c,W,B,y,H);this.AZ(c,W,B,y,V);this.bv=x}};
X.Bw.Lt=function(d,W){if(d.zI(W))return d;var c=W.x-d.x,y=W.y-d.y,B=Math.abs(c),r=Math.abs(y);if(B>r)r=B/2>r?0:B;
if(r>B)B=r/2>B?0:r;B=c>0?B:-B;r=y>0?r:-r;var x=Math.sqrt(c*c+y*y)/Math.sqrt(B*B+r*r);return new aL(d.x+B*x,d.y+r*x)};
X.Bw.pL=function(d,W,c,y,B,r,x){var Z=new a8(0,0,W,c),i=v.R(W*c*4);v.we(i,W,c,4);var k=Math.sin(y),H=Math.cos(y),V=v.R(W*c*4);
v.L.cR(d,V,Z,[H*1/W,k*1/W,-k*1/c,H*1/c],W/2,c/2,!1,0,B,r);v.l.Ip("norm",V,Z,i,Z,Z,1);if(x)return new ImageData(new Uint8ClampedArray(i.buffer),W,c);
else return fd.pc(i.buffer,W,c,null,null,!0)};X.Bw.a0$=function(d,W,c){var y=JSON.parse(JSON.stringify(d));
if(y.Clrs)for(var S=0;S<y.Clrs.v.length;S++){var B=y.Clrs.v[S].v,r=B.Type.v.Clry;if(r=="UsrS")continue;
var x=r=="FrgC"?W:c;B.Type.v.Clry="UsrS";B.Clr={t:"Objc",v:v.L.FV({Z:x>>16&255,G:x>>8&255,J:x&255})}}return y};
X.ui=function(){X.dA.call(this,[10,7],X.XU,"tools/hand");this.DM=!1;this._T=new aL(0,0);this.A4=null;
this.g2=0};X.ui.prototype=new X.dA;X.ui.prototype.AE=function(d,W,c,y){this.DM=d.DM};X.ui.prototype.fY=function(d,W,c,y,B){var r=d.d;
if(r=="setcls"){c.Q.M=d.M;c.ps=!0;c.Pm=!0}if(r=="scroll"&&!y.S(bm.Oi)){if(y.S(bm.Z7))X.ui.WR(c,c.Q.z.x-d.ih.y,c.Q.z.y-d.ih.x);
else X.ui.WR(c,c.Q.z.x-d.ih.x,c.Q.z.y-d.ih.y)}};X.ui.prototype.enable=function(d,W,c,y){this.A4=null;
var B=new bR(b.E.V,!0);B.data={d:b.H.iV,QM:"grab"};W.T(B);if(d&&Date.now()-this.g2<300){B.type=b.E.v;
B.f=X.AO;B.data={d:"adapt",b:"fitscr"};W.T(B)}this.g2=Date.now()};X.ui.prototype.RQ=function(d,W,c,y,B){this.A4=d.Q.z.clone();
this._T.sq(B.x,B.y)};X.ui.prototype.f9=function(d,W,c,y,B){if(!B.HW)return;if(this.A4==null)this.RQ(d,W,c,y,B);
var r=this.DM?W.Tx:[d];for(var S=0;S<r.length;S++)X.ui.WR(r[S],this.A4.x+(B.x-this._T.x),this.A4.y+(B.y-this._T.y))};
X.ui.prototype.AZ=function(d,W,c,y,B){this.A4=null};X.ui.WR=function(d,W,c){var y=d.Q.O,B=d.Q.nW,r=B.m,x=B.i,Z=d.m*y,i=d.i*y,k=Z<r&&i<x,H=r/2+Z/2-64,V=x/2+i/2-64;
d.Q.z.sq(Math.max(-H,Math.min(H,W)),Math.max(-V,Math.min(V,c)));d.Pm=!0};X.N6=function(){X.dA.call(this,[10,47],X.Zl,"tools/rview");
this._T=new aL(0,0);this.Yw=null;this.tb=null;this.g2=0};X.N6.prototype=new X.dA;X.N6.prototype.enable=function(d,W,c,y){this.A4=null;
var B=new bR(b.E.V,!0);B.data={d:b.H.iV,QM:"grab"};W.T(B);if(d&&Date.now()-this.g2<300&&d.Q.Pk!=0){d.Q.Pk=0;
d.ps=!0}this.g2=Date.now();if(d)this.v_(d,W)};X.N6.prototype.disable=function(d,W,c,y,B){if(d)this.v_(d,W)};
X.N6.prototype.eq=function(d,W,c,y){if(d)this.v_(d,W)};X.N6.prototype.RQ=function(d,W,c,y,B){this._T.sq(B.x,B.y);
var r=d.Q;this.Yw=r.q9(r.nW.m/2,r.nW.i/2);this.tb=r.Yo();var x=r.q9(r.nW.m/2,r.nW.i/2),Z=Math.min(r.nW.m,r.nW.i)*.35/r.O,i=Z*.2,k=x.x,H=x.y;
d.N.fZ={r:"M L L L L L".split(" "),j:[k,H,k,H-Z,k+i,H,k,H+Z,k-i,H,k,H-Z]};d.ps=!0};X.N6.prototype.aA5=function(d){var W=d.Q,c=W.q9(W.nW.m/2,W.nW.i/2);
d.N.fZ={r:["M","L"],j:[c.x,c.y,c.x,c.y-200]}};X.N6.prototype.f9=function(d,W,c,y,B){if(!B.HW)return;
var r=d.Q,x=this.Yw,Z=this._T,i=new aL(r.nW.m/2,r.nW.i/2),k=Math.atan2(B.y-i.y,B.x-i.x),H=Math.atan2(Z.y-i.y,Z.x-i.x),V=Math.atan2(this.tb.J,this.tb.U),g=k-H,N=Math.PI/4;
if(y.S(bm.Uo)){g=V+N*Math.round((g-V)/N)}this.a8J(d,W,this.tb.clone(),x,g)};X.N6.prototype.AZ=function(d,W,c,y,B){d.N.fZ=null;
d.ps=!0};X.N6.prototype.AE=function(d,W,c,y){this.a8J(c,W,null,null,d.KG-c.Q.Pk);c.Q.Pk=d.KG};X.N6.prototype.a8J=function(d,W,c,y,B){var r=d.Q;
if(c==null)c=r.Yo();if(y==null)y=r.q9(r.nW.m/2,r.nW.i/2);c.translate(-y.x,-y.y);c.rotate(B);c.translate(y.x,y.y);
r.ajd(c);if(d.m*r.O<r.nW.m&&d.i*r.O<r.nW.i)r.z.sq(0,0);d.ps=!0;this.v_(d,W)};X.N6.prototype.v_=function(d,W){var c=new bR(b.E.V,!0);
c.data={d:b.H.TE,f:this.id,KG:d.Q.Pk};W.T(c)};X.XV=function(){X.lY.call(this,[10,25],X.OG,"tools/hbrush")};
X.XV.prototype=new X.lY("");X.XV.prototype.AZ=function(d,W,c,y,B){if(this.L3==null)return;this.SO(d,"heal",this.L3.JN(),this.L3.yo(),this.L3.V5());
this.W(d,this.L3.V5());X.UZ.prototype.AZ.call(this,d,W,c,y,B);if(!this.bv.algnd)this.z=null};X.aE=function(d){X.dA.call(this,d?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],d?X.Wv:X.bU,d?"tools/vtype":"tools/htype");
this.UQ=[];this.qU=null;this.caller=null;this.kx=1;this.Ab=0;this.Br=null;this.abQ=0;this.b$=0;this.ap9=null;
this.qu=null;this.rx=null;this.xN=null;this.s3=null;this.mR=null;this.a4o=null;this.zD=null;this.yx=null;
this.K6=null;this.asd=null;this.oO=!1;this.A7=!1;this.vP=!1;this.US=null;this.ve=null;this.akD=null;
this.eT=!1;this.Wg=!1;this.Cc=-1;this.mM=-1;this.hD=document.createElement("textarea");this.hD.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.hD.addEventListener("input",this.wp.bind(this),!1);this.hD.addEventListener("keydown",this.aaq.bind(this),!1);
this.hD.addEventListener("keyup",this.axe.bind(this),!1)};X.aE.prototype=new X.dA;X.aE.prototype.zh=function(d){return d.HW};
X.aE.prototype.VO=function(d,W,c,y){if(this.rx!=null||this.id==X.Wv)return;this.caller=W;var B=this.alp(d);
if(B.length!=0){var r=null,x=[],Z=[];for(var S=0;S<B.length;S++){var i=d.B[B[S]],k=i.add.TySh,H=0,V=it.H5(k.p$).length-2,g=it.tO(k.p$,H,V);
it.bG(g,k.e.dV());if(g.Cr.Font!=null)g.Cr.Font=g.Xt[g.Cr.Font].Name;r=g.Xt;x.push(g.Cr);Z.push(g.a0)}var g={Xt:r,Cr:it.lU(x),a0:it.lU(Z)};
if(g.Cr.Font!=null)it.nn(g,g.Cr.Font);this.a0z(W,g,k)}};X.aE.prototype.alp=function(d){var W=[];for(var S=0;
S<d.g.length;S++)if(d.B[d.g[S]]&&d.B[d.g[S]].add.TySh)W.push(d.g[S]);return W};X.aE.prototype.fY=function(d,W,c,y,B){var r=d.d=="insertGlyph",x=d.d=="copyText",Z=d.d=="selectAll";
if((r||x||d.d=="insertText"||Z)&&this.rx){var i=r?String.fromCharCode(65533):d.b,k=this.hD,H=k.value,V=k.selectionStart,g=k.selectionEnd;
if(x){bw.nQ(new Blob([H.slice(V,g)],{type:"text/plain"}))}else if(Z){this.Cc=k.selectionStart=0;this.mM=k.selectionEnd=H.length;
this.e9(c);k.focus()}else{k.value=H.slice(0,V)+i+H.slice(g);k.selectionStart=k.selectionEnd=V+i.length;
this.wp(null,r?d.b:null);k.focus()}}if(d.d=="updateStyles"){if(this.rx==null){var N=this.alp(c),C=!1;
if(N.length!=0){this.mY(c,W,B,N);for(var S=0;S<N.length;S++){var w=c.B[N[S]],Y=w.add.TySh;it.u0(Y,this.kx);
Y.wy.VAlign.v=this.Ab;this.rx=w;var U=it.H5(Y.p$);this.Cc=0;this.mM=U.length-1;it.ml(Y.p$,this.Cc,this.mM,this.i_(B,Y));
var e=this.pp(c,B);if(e==!1)C=!0}if(C){this.eT=!0;return}this.Kf(c,W,!0)}return}this.tQ(B)}if(d.d.startsWith("warp")){var O=this.Wg;
if(d.d=="warp"||d.d=="warpCancel"){if(this.rx==null)return;if(d.d=="warp")this.rx.add.TySh.uI=d.lk;else this.rx.add.TySh.uI=this.a4o;
this.pp(c,B);if(!O)this.e9(c)}if(d.d!="warp")this.hD.focus();if((d.d=="warpConfirm"||d.d=="warpCancel")&&O){this.Wg=!1;
if(d.d=="warpConfirm")this.Kf(c,W);else this.vT(c,W)}}if(d.d=="editCurr"){if(B._9!=X.bU){this.Br=B._9;
var l=new bR(b.E.V,!0);l.data={d:b.H.Fy,f:X.bU};W.T(l)}if(this.rx!=null)this.disable(c,W,B,y);this.qU=B;
this.caller=W;this.mY(c,W,B,[d.hk]);var U=it.H5(this.rx.add.TySh.p$);this.Cc=0;this.mM=U.length-1;this.e9(c);
this.j7();this.hD.focus()}if(d.d=="switchPntPrgr"){if(this.rx)return;var w=c.B[c.g[0]],Y=w.add.TySh,I=Y.e.dV(),s=w._W(),z=JSON.parse(JSON.stringify(Y.p$)),R=it.$_(z),t=R==1?it.kq(z):[0,0,Math.round(s.m*1.05/I),Math.round(s.i*1.25/I)],a=it.tO(z,0,0),J=a.Xt[a.Cr.Font].Name,F=B.Sm.FP(J),h=[0,t[2],t[2]/2][a.a0.Justification%3],m=(F?iS.ZD(F):.8)*a.Cr.FontSize;
it.gF(z,1-R);if(R==0){console.log(iS.ZD(F,J,a.Cr));h=-h;m=-m;it.r_(z,[0,0,t[2],t[3]])}var D=new dT(1,0,0,1,h,m);
D.concat(Y.e);this.fY({Mx:c.g[0],d:"newED",DR:z,e:D,az3:[16,3,R==1?0:1]},W,c,y,B)}if(d.d=="newED"){var w=c.B[d.Mx],Y=w.add.TySh,_=this.oI(c,[d.Mx]);
Y.p$=d.DR;if(d.e)Y.e=d.e;if(bQ.GM(Y,B.Sm,W)){bQ.pp(w,B.Sm,c);c.W()}else c.O5=!0;var n=new aw(d.az3?d.az3:this.name,this);
n.data={o6:_,$q:this.oI(c,[d.Mx])};c.hZ(n)}if(d.d=="fromAction"){var j=d.RZ.i9.Usng.v,T=j.TxtC.v,L=[];
for(var S=0;S<2;S++){var p=T[S==0?"Hrzn":"Vrtc"].v,i=p.val;if(p.type=="#Prc")i=(S==0?c.m:c.i)*(i/100);
L[S]=i}this._g(c,W,B,y,c.Q.Yd(L[0],L[1]),!0);var w=c.B[c.g[0]],Y=w.add.TySh,E=Y.p$,H=it.H5(E);it.iI(E,0,H.length-1);
it.kL(E,0,j.Txt.v.replace(/\r/g,"\n"));H=it.H5(E);for(var R=0;R<2;R++){var G=j[R==0?"Txtt":"paragraphStyleRange"].v;
for(var S=0;S<G.length;S++){var A=G[S].v,V=A.From.v,g=Math.min(A.T.v-1,H.length-1);A=A[R==0?"TxtS":"paragraphStyle"].v;
var u=it.tO(E,V,g),q=R==0?u.Cr:u.a0;for(var o in A){var M=A[o].v;if(o=="Sz")q.FontSize=Math.round(M.val*(M.type=="#Pnt"?c.tU/72:1));
else if(o=="fontPostScriptName")it.nn(u,M);else if(o=="Algn")q.Justification={Left:1,Cntr:2}[M.Alg];
else if(o=="leading")q.Leading=A[o].v.val;else if(o=="baselineShift")q.BaselineShift=A[o].v.val;else if(o=="autoLeading")q.AutoLeading=A[o].v;
else if(o=="syntheticBold")q.FauxBold=A[o].v;else if(o=="syntheticItalic")q.FauxItalic=A[o].v;else if(o=="Trck")q.Tracking=A[o].v;
else if(o=="verticalScale")q.VerticalScale=A[o].v/100;else if(o=="horizontalScale")q.HorizontalScale=A[o].v/100;
else if(o=="Clr")q.FillColor={Type:1,Values:[1,M.Rd.v/255,M.Grn.v/255,M.Bl.v/255]}}it.ml(E,V,g,u)}}if(bQ.Q0(c,B.Sm,W))bQ.pp(w,B.Sm,c);
else c.O5=!0;c.W();this.Kf(c,W)}};X.aE.prototype.tQ=function(d){var W=Math.min(this.Cc,this.mM),c=Math.max(this.Cc,this.mM),y=this.rx.add.TySh;
it.u0(y,this.kx);y.wy.VAlign.v=this.Ab;var B=this.i_(d,y);it.ml(y.p$,W,c-1,B);var r=this.caller.LM(),x=this.pp(r,d);
if(x)this.e9(r);if(document.activeElement.tagName.toLowerCase()!="input")this.hD.focus()};X.aE.prototype.Ea=function(d){return this.UQ.indexOf(d)!=-1};
X.aE.prototype.enable=function(d,W,c,y){var B=this.hD;W.n.appendChild(B);this.zD="default";this.E0(W)};
X.aE.prototype.cN=function(){return this.rx!=null};X.aE.iK=function(d,W){var c=new aL(W.x,W.y);for(var S=d.B.length-1;
S>=0;S--){var y=d.B[S],B=y.add.TySh;if(B&&d.apY(S)){var r=c,x=y.rect;if(be==1){var Z=B.e.clone();Z.QE();
r=Z.iC(c);x=y.oR.x1}if(!x.Ce(r))continue;var i=y.sx(31);return i?-2:S}}return-1};X.aE.prototype.RQ=function(d,W,c,y,B){this.qU=c;
this.caller=W;var r=d.Q.q9(B.x,B.y),x=this.rx==null;if(x){var Z=X.aE.iK(d,r);if(Z==-2){alert(ay.get([6,57,0]));
return}if(Z>=0&&!y.S(bm.Uo)){if(!bQ.GM(d.B[Z].add.TySh,c.Sm,W)){alert("Fonts not loaded yet");return}this.mY(d,W,c,[Z])}else{this.vP=!0;
this.US=B;return}}var i=x?-1:it.$_(this.rx.add.TySh.p$),k=this.K6?this.K6:this.yx,H=k&&k.RQ(d,c,y,r,null,null,B)&&v.lk.uP(this.rx.add.TySh.uI),V=!x&&v.A.abz(r,this.rx._W())>20/d.Q.O&&(i==0||i==1);
if(H||V){this.oO=!0;this.ve=r;this.akD=this.rx.add.TySh.e.clone();if(this.Cc==-1&&this.mM==-1)this.Cc=this.mM=this.Iy(r)}else{if(this.s3==null){alert("Fonts not loaded yet");
return}this.A7=!0;this.Cc=this.mM=this.Iy(r);var g=Date.now();if(g-this.abQ>300)this.b$=0;this.b$++;
this.abQ=g;if(this.b$==2)this.arG();if(this.b$==3)this.a1L();if(this.b$>1){this.A7=!1}}this.j7();this.e9(d)};
X.aE.prototype.mY=function(d,W,c,y){var B=d.B[y[0]];this.rx=B;this.Th(W,b.E.V,{d:b.H.TE,f:this.id,Ph:"showactive"});
this.xN=y;d.g=y.slice(0);d.yz();d.Xs=!0;this.mR=this.oI(d,y);this.gT(B.add.TySh);this.pp(d,c)};X.aE.prototype.gT=function(d){if(it.$_(d.p$)!=1)return;
var W=it.kq(d.p$);W=new a8(0,0,W[2]-W[0],W[3]-W[1]);var c=[W.x,W.y,W.x+W.m,W.y,W.x+W.m,W.y+W.i,W.x,W.y+W.i];
v.A.e(c,d.e,c);this.yx=new g6(c,!1,!1,!1,!0);this.yx.vt(0)};X.aE.prototype.arG=function(){var d=it.H5(this.rx.add.TySh.p$);
this.Cc=this.a90(d,this.Cc);this.mM=this.aiW(d,this.Cc)};X.aE.prototype.a90=function(d,W){var c=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",y=[];
for(var S=0;S<c.length;S++)y.push(c.charAt(S));var B=y.indexOf(d[W])==-1?!0:!1;for(var S=W-1;S>=0;S--)if(y.indexOf(d.charAt(S))!=-1==B)return S+1;
return 0};X.aE.prototype.aiW=function(d,W){var c=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",y=[];for(var S=0;
S<c.length;S++)y.push(c.charAt(S));var B=y.indexOf(d[W])==-1?!0:!1;for(var S=W+1;S<d.length;S++)if(y.indexOf(d.charAt(S))!=-1==B)return S;
return d.length-1};X.aE.prototype.a1L=function(){var d=this.s3.asA(this.Cc);this.Cc=d[0];this.mM=d[1]};
X.aE.prototype.E0=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.iV,QM:this.zD};d.T(W)};X.aE.prototype.f9=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y),x=this.rx;
if(!B.HW){var Z="default",i=this.yx,k=this.K6?this.K6:i;if(k&&v.lk.uP(x.add.TySh.uI)){var H=k.He(r,d.Q.O,null,B);
if(H)Z=H;else if(k==i&&i.kP(r))Z="text"}else if(x&&v.A.abz(r,x._W())>20/d.Q.O)Z="move";else if(X.aE.iK(d,r)>=0)Z="text";
if(Z!=this.zD){this.zD=Z;this.E0(W)}}var V=this.US;if(this.vP&&Math.min(B.x-V.x,B.y-V.y)>4/d.Q.O){this.vP=!1;
this._g(d,W,c,y,B);x=this.rx;this.oO=!0;this.yx=new g6(null,!1,!1,!1,!0);this.yx.vt(0);var g=d.Q.q9(this.US.x,this.US.y);
g.x=Math.round(g.x);g.y=Math.round(g.y);this.yx.RQ(d,c,y,g,null,null,B,d.Q.Pk)}if(this.oO){var N=x.add.TySh;
if(this.K6){this.K6.f9(d,c,y,r);var C=v.D.hM(v.D.bO(this.K6.vE(),this.asd));N.e=C;this.pp(d,c);it.vF(N)}else if(this.yx){this.yx.f9(d,c,y,r);
var w=N.e.clone(),Y=Math.atan2(w.J,w.U);w.rotate(Y);var C=v.D.hM(v.D.bO(this.yx.vE())),U=Math.atan2(C.J,C.U);
C.rotate(U);if(!isNaN(C.U)&&C.U*C.x7-C.J*C.gp!=0){var e=new a8(0,0,C.U/w.U,C.x7/w.x7),O=Math.round(e.m),l=Math.round(e.i),I=N.p$.Curve;
if(I){var s=it.kq(N.p$),z=new dT(O/s[2],0,0,l/s[3],0,0);v.A.e(I.Points,z,I.Points);it.vF(N)}it.r_(N.p$,[0,0,O,l]);
N.e=v.D.hM(v.D.bO(this.yx.vE(),e));this.pp(d,c);it.vF(N)}}else{var R=r.x-this.ve.x,t=r.y-this.ve.y;N.e=this.akD.clone();
var a=new aL(N.e.IS+R,N.e.rk+t);a=X.rL.fh(d,a,c);N.e.IS=a.x;N.e.rk=a.y;this.pp(d,c)}}if(this.A7)this.mM=this.Iy(r);
if(this.oO||this.A7)this.e9(d)};X.aE.prototype._g=function(d,W,c,y,B,r){var x=d.Tz(),Z=x[0],i=x[1],k=d.jb();
k.add.lnsr="rend";var H=d.B.slice(0);k.AP("Text layer "+H.length);this.rx=k;var V=d.g.length==0?d.B.length-1:d.g[d.g.length-1],g=V+1;
if(H[V].add.lsct==aG.ED)g--;this.mR={cY:H.slice(0),FK:d.g.slice(0)};H.splice(g,0,k);d.g=[g];this.Cc=this.mM=0;
d.GO(H);this.mR.JI=H.slice(0);this.mR.EC=d.g.slice(0);this.Th(W,b.E.V,{d:b.H.TE,f:this.id,Ph:"showactive"});
var N=d.Q.q9(B.x,B.y),C=c.WK;console.log(C);if(this.id==X.Wv){C=JSON.parse(JSON.stringify(C));C.Cr.BaselineDirection=1}k.add.TySh=it.De(N.x,N.y,C,d.Q.Pk);
var w=k.add.TySh,Y=w.p$;if(this.id==X.Wv)Y._LineOrientation=2;it.u0(w,this.kx);w.wy.VAlign.v=this.Ab;
if(B.HW)it.gF(Y,1);else{it.gF(Y,0);var U=Z[i.pop()],e=U?U.add.vmsk:null;if(r)e=null;if(e&&!y.S(bm.Uo)){e=e.clone();
var O=e.Y,I,s;for(var S=0;S<O.length;S++)if(O[S].p5!=null)O[S].p5=0;var l=5/d.Q.O;I=v.o.cf(e.Y,N,!0,l);
if(I.Wr==-1)I=v.o.cf(e.Y,N);if(I.Wr!=-1){it.gF(Y,1);var z=v.o.ke(O,I.Wr),R=v.o.PG(O,I.Wr)-1;O=e.Y=O.slice(0,2).concat(O.slice(z,z+R+1));
e.g=[];w.add={vmsk:e,vogk:e8.h0(O)};Y.Curve={};it.Dz(w);if(I.Wq!=null){var t=iS.jt(Y.Curve);v.A.e(t[0],w.e,t[0]);
var a=v.A.Gx(t[0],N.x,N.y),J=c.WK.a0.Justification;if(J==2||J==5){var F=(t[2][a]+t[3]*.5)%t[3];a=iS.a7(F,t[2])}var h=t[1][a];
h=h%R;e.sF=[h,h];it.Dz(w)}else this.gT(w)}}}return k};X.aE.prototype.AZ=function(d,W,c,y,B,r){if(r){this.vP=!1;
return}if(this.rx==null&&!this.vP)return;var x=d.Q.q9(B.x,B.y),Z=this.vP;if(this.vP){this.vP=!1;this._g(d,W,c,y,B);
this.A7=!0}if(this.oO||this.A7){this.e9(d);this.j7();if(Z)this.tQ(c)}if(this.oO&&this.yx)this.yx.AZ(d,c,y,x);
this.oO=this.A7=!1;this.hD.focus()};X.aE.prototype.j7=function(){var d=this.rx.add.TySh,W=Math.min(this.Cc,this.mM),c=Math.max(this.Cc,this.mM),y,B;
if(W==c){var r=it.H5(d.p$);if(W==0||r.charAt(W-1)=="\n")y=B=W;else y=B=W-1}else{y=W;B=c-1}var x=it.tO(d.p$,y,B);
it.bG(x,d.e.dV());this.a0z(this.caller,x,d)};X.aE.prototype.a0z=function(d,W,c){this.Th(d,b.E.V,{d:b.H.e7,au:kG.xM,WK:W});
var y=this.kx=it.O_(c),B=this.Ab=c.wy.VAlign.v;this.Th(this.caller,b.E.V,{d:b.H.TE,f:this.id,Ph:"changeOther",VN:y,ZT:B})};
X.aE.prototype.AQ=function(d,W,c,y,B){if(d==null)return;var r=d.Q.q9(B.x,B.y),x=X.aE.iK(d,r);if(x==-1)return;
var Z=new bR(b.E.V,!0);Z.data={d:b.H.TE,f:this.id,Ph:"showpan",acU:this.rx!=null,hk:x,Sf:B,J8:d,qU:c};
W.T(Z)};X.aE.prototype.aaU=function(){var d=this.rx;if(d&&!this.oO&&this.K6!=null){var W=this.caller.LM();
this.K6.AZ(W,this.qU,null,null);this.K6=null;this.gT(d.add.TySh);this.e9(W)}};X.aE.prototype.disable=function(d,W,c,y){var B=this.rx;
this.Kf(d,W)};X.aE.prototype.AE=function(d,W,c,y,B){if(this.Wg)return;if(d.Ph=="commit")this.Kf(c,W);
if(d.Ph=="cancel")this.vT(c,W);if(d.Ph=="changeOther"){this.kx=d.VN;this.Ab=d.ZT;if(c!=null)this.fY({d:"updateStyles"},W,c,y,B)}if(d.Ph=="showwarp"){if(c==null)return;
if(this.rx==null){var r=c.B[c.g[0]],x=r.add.TySh;if(x==null)return;this.mY(c,W,B,[c.g[0]]);this.hD.focus();
this.Wg=!0}this.a4o=this.rx.add.TySh.uI;var Z=new bR(b.E.V,!0);Z.data={d:b.H.vB,vD:"textwarp"};W.T(Z)}};
X.aE.prototype.lz=function(d,W){if(W!=kG.hF)return;if(this.eT){this.eT=!1;var c=this.caller.LM(),y=this.xN;
for(var S=0;S<y.length;S++){this.rx=c.B[y[S]];this.pp(c,d)}this.Kf(c,this.caller);return}if(this.rx)this.tQ(d)};
X.aE.prototype.i_=function(d,W){var c=JSON.parse(JSON.stringify(d.WK));it.bG(c,1/W.e.dV());return c};
X.aE.prototype.To=function(d,W){if(d.o6!=null)this.wJ(W,d.$q);else this.amO(W,d.JI,d.EC)};X.aE.prototype.lL=function(d,W){if(d.o6!=null)this.wJ(W,d.o6);
else this.amO(W,d.cY,d.FK)};X.aE.prototype.wJ=function(d,W){for(var S=0;S<W.length;S++){var c=W[S],y=c.Mx,B=d.B[y];
B.buffer=c.iJ;B.rect=c.qe.clone();B.W();B.oR.Q$=null;B.oR.path=null;var r=B.add.TySh;r.uI=c.lk;r.Nz=c.Nz.clone();
r.e=c.e.clone();r.p$=JSON.parse(JSON.stringify(c.p$));B.Qt()}d.W()};X.aE.prototype.oI=function(d,W){var c=[];
for(var S=0;S<W.length;S++){var y=W[S],B=d.B[y],r=B.add.TySh;c.push({Mx:y,e:r.e.clone(),lk:JSON.parse(JSON.stringify(r.uI)),Nz:r.Nz.clone(),p$:JSON.parse(JSON.stringify(r.p$)),iJ:B.buffer.slice(0),qe:B.rect.clone()})}return c};
X.aE.prototype.amO=function(d,W,c){d.g=c;d.GO(W);d.W();d.Dy=!0};X.aE.prototype.pp=function(d,W,c){if(c==null)c=!1;
var y=this.rx.add.TySh;if(!bQ.GM(y,W.Sm,this.caller))return!1;if(!c){var B=it.H5(y.p$);this.hD.value=B.slice(0,B.length-1)}var r=this.rx.rect,x=bQ.pp(this.rx,W.Sm,d);
this.s3=x[1];var Z=this.s3.kt();if(v.lk.uP(y.uI))y.Nz=new a8;else{if(it.$_(y.p$)==1){var i=it.kq(y.p$),bd=Z.y;
y.Nz=new a8(0,bd,i[2]-i[0],i[3]-i[1]-bd)}else y.Nz=Z}d.zv();if(x[2])d.W(d.root.JV(x[2].qe.hB(r),d,d.B.indexOf(this.rx)));
return!0};X.aE.prototype.wp=function(d,W){if(this.rx==null||this.Wg)return;var c=this.hD.selectionStart,y=this.rx.add.TySh,B=it.H5(y.p$),r=this.hD.value+"\n",x=Math.min(this.Cc,this.mM),Z=Math.max(this.Cc,this.mM),g=!1;
this.Cc=Math.min(c,x);if(r.length-c<B.length-this.mM)this.mM=B.length-r.length+c;if(B!=r){while(this.Cc>0&&B.charAt(this.Cc-1)!=r.charAt(this.Cc-1))this.Cc--}var i=B.substring(0,this.Cc),k=B.substring(this.mM,B.length),H=r.substring(this.Cc,r.length-k.length);
it.iI(y.p$,this.Cc,this.mM);it.kL(y.p$,this.Cc,H);if(W!=null)it.aD3(y.p$,this.Cc,W);var V=this.i_(this.qU,y),N=-1,C=Array.from(H);
for(var S=0;S<C.length;S++)N=Math.max(N,C[S].codePointAt(0));if(N!=-1&&N>128&&N!=65533&&V.Cr.Font!=null){var w=V.Xt[V.Cr.Font].Name,Y=this.qU.Sm.Wn(N,w,V.Xt);
if(w!=Y){it.nn(V,Y);g=!0}}if(this.qu!=null&&H==this.qu){var U=JSON.parse(this.ap9);it.bG(U,1/y.e.dV());
V.Cr=U.Cr;V.Xt=U.Xt;g=!0}it.ml(y.p$,this.Cc,this.Cc+H.length-1,V);this.Cc=this.mM=i.length+H.length;
var e=this.caller.LM(),O=this.pp(e,this.qU,!0);if(O)this.e9(e,!0);if(g)this.j7()};X.aE.prototype.axe=function(d){var W=bm;
if(!d.ctrlKey)this.aaU();d.stopPropagation()};X.aE.prototype.aaq=function(d){d.stopPropagation();var W=d.ctrlKey||d.metaKey,c=bm,i=0,k=0,O=0,m=!1;
if(this.rx==null||this.Wg)return;if(this.rx==null)return;if(this.caller.CI.dE())return;var y=this.caller.LM();
if(this.K6==null&&W){var B=this.rx.add.TySh,r=it.$_(B.p$),x;if(r==1){x=it.kq(B.p$);x=new a8(0,0,x[2]-x[0],x[3]-x[1])}else x=this.s3.kt();
var Z=[x.x,x.y,x.x+x.m,x.y,x.x+x.m,x.y+x.i,x.x,x.y+x.i];v.A.e(Z,B.e,Z);this.K6=new g6(Z,!0,!0,!1,!1);
this.K6.vt(0);this.asd=x;this.e9(y)}if(c.nl(d.code,c.pe))i=1;if(c.nl(d.code,c.Wj))i=-1;if(c.nl(d.code,c.ZN))k=-1;
if(c.nl(d.code,c.wL))k=1;var H=c.nl(d.code,bm.Dt),V=c.nl(d.code,bm.a1D);if(c.nl(d.code,bm.Qy)&&W){this.Kf(y,this.caller);
return}if(c.nl(d.code,bm.Rh)){this.vT(y,this.caller);return}if(c.nl(d.code,bm.fW)){d.preventDefault();
var g=this.hD,N=g.value,C=g.selectionStart,w=g.selectionEnd;g.value=N.substring(0,C)+"\t"+N.substring(w);
g.selectionStart=g.selectionEnd=C+1;this.wp(null);return}var Y=c.nl(d.code,c.CB),U=c.nl(d.code,c.d7);
if(W&&(Y||U)){d.preventDefault();var e=new bR(b.E.v,!0);e.f=X.AO;e.data={d:"zoom",js:Y};this.caller.T(e)}if(c.nl(d.code,c.bE))O=1;
if(c.nl(d.code,c.$O))O=-1;var l=this.Cc==this.mM,I=W&&d.shiftKey&&O!=0&&!l;if(I||d.altKey&&i!=0){var s=JSON.parse(JSON.stringify(this.qU.WK));
if(I){var z=s.Cr.FontSize;if(z==null)z=16;s.Cr.FontSize=Math.max(1,z+O*(d.altKey?5:1))}else{if(l){s.Cr.Kerning+=20*i;
s.Cr.AutoKerning=!1}else s.Cr.Tracking+=20*i}d.preventDefault();var R=new bR(b.E.V,!0);R.data={d:b.H.e7,au:kG.xM,WK:s};
this.caller.T(R);var e=new bR(b.E.v,!0);e.f=X.bU;e.data={d:"updateStyles"};this.caller.T(e);return}if((c.nl(d.code,c.Nc)||c.nl(d.code,c.up))&&W){var t=this.Cc,a=this.mM;
if(t>a){var J=t;t=a;a=J}var B=this.rx.add.TySh,F=it.H5(B.p$);if(t!=a){this.qu=F.slice(t,a);this.ap9=JSON.stringify(this.qU.WK)}}var h=it.H5(this.rx.add.TySh.p$);
if(i!=0||k!=0||H||V){d.preventDefault();var D=this.Cc;if(i!=0){if(W&&i==-1)D=this.a90(h,this.Cc-1);else if(W&&i==1)D=this.aiW(h,this.Cc);
else{var g=this.hD,N=g.value;D=this.Cc+i;if(D!=0&&N.codePointAt(D-1)>65535)D+=i}}else if(k!=0){var _=this.s3.rF(this.Cc);
if(k==-1&&_.Qu==0)D=0;else if(k==1&&_.Qu==this.s3.axY()-1)D=99999999999;else D=this.s3.ar8(new aL(_.qe.x+_.qe.m/2,0),_.Qu+k)}else if(H){var n=this.Cc-1;
while(n>0&&h.charCodeAt(n)!=10)n--;D=n==0?0:n+1}else if(V){var n=this.Cc;while(n<h.length-1&&h.charCodeAt(n)!=10)n++;
D=n}D=Math.max(0,Math.min(h.length-1,D));if(d.shiftKey)this.Cc=D;else this.Cc=this.mM=D;m=!0}if(c.nl(d.code,bm.H)&&W){this.Cc=0;
this.mM=h.length-1;m=!0}if(m){this.j7();this.e9(y)}};X.aE.aau=function(d,W){var c=d.length;if(c!=W.length)return!1;
for(var S=0;S<c;S++)if(d[S].Mx!=W[S].Mx)return!1;return!0};X.aE.prototype.Kf=function(d,W,c){if(this.rx==null)return;
this.rx.Qt();var y=this.mR;if(y instanceof Array){var B=this.oI(d,this.xN),r=d.TP();if(r!=null&&r.f==this&&r.data.o6&&X.aE.aau(r.data.o6,y)&&c)r.data.$q=B;
else{var x=new aw(this.name,this);x.data={o6:y,$q:B};d.hZ(x)}}else{var x=new aw(this.name,this);x.data={cY:y.cY,JI:y.JI,FK:y.FK,EC:y.EC};
d.hZ(x)}this.escape(d,W)};X.aE.prototype.vT=function(d,W){if(this.rx==null)return;if(this.mR instanceof Array){this.wJ(d,this.mR);
if(this.rx)it.vF(this.rx.add.TySh)}else{d.g=this.mR.FK;d.GO(this.mR.cY);d.Dy=!0}d.W();this.escape(d,W)};
X.aE.prototype.escape=function(d,W){this.aaU();this.rx=null;this.xN=null;this.s3=null;this.yx=null;this.hD.blur();
d.N.fZ=null;d.N.SM=null;d.N.dk=[];d.ps=!0;this.oO=!1;this.A7=!1;this.Cc=this.mM=-1;this.Th(W,b.E.V,{d:b.H.TE,f:this.id,Ph:"hideactive"});
if(this.Br){var c=new bR(b.E.V,!0);c.data={d:b.H.Fy,f:this.Br};W.T(c);this.Br=null}};X.aE.prototype.Th=function(d,W,c,y){var B=new bR(W,!0);
B.data=c;if(y)B.f=y;d.T(B)};X.aE.prototype.Iy=function(d){var W=this.rx.add.TySh,c=this.s3,y=W.e.clone();
y.QE();var B=y.iC(d),r=it.yo(W,c),x=v.lk.yU(W.uI,r),Z=v.pK.LX(x,B);if(Z==null)Z=new Float64Array(2);
B=new aL(r.x+Z[0]*r.m,r.y+Z[1]*r.i);if(c.Rp){var i=c.Rp.clone();i.QE();B=i.iC(B)}var k=c.ar8(B);return k};
X.aE.prototype.e9=function(d,W){if(W==null)W=!1;var c=this.rx.add.TySh,y=it.$_(c.p$),B=this.s3,r=B?it.yo(c,B):null;
d.N.dk=[];d.N.fZ=null;d.N.SM=null;var x=this.K6?this.K6:this.yx;if(x){x.QD(d,this.qU,!v.lk.uP(c.uI));
var Z=c.e.clone();Z.QE();if(B&&B.Rp&&B.zT==1){var i=B.Rp.clone();i.QE();Z.concat(i)}v.A.e(d.N.dk,Z,d.N.dk);
v.A.e(d.N.fZ.j,Z,d.N.fZ.j);if(B&&B.Rp==null&&B.aCI()){var k=r.m-20,H=r.i+8;d.N.fZ.j.push(k,H,k+10,H,k+5,H-5,k+5,H+5);
d.N.fZ.r.push("M","L","M","L")}}else if(y==0)this.a1x(d,c,B);else d.N.fZ={j:[],r:[]};var V=Math.min(this.Cc,this.mM),g=Math.max(this.Cc,this.mM);
if(!W){this.hD.selectionStart=V;this.hD.selectionEnd=g}if(B!=null){var N=function(x,l){var I=x.x,s=x.y+x.i,z=new dT;
z.translate(-I,-s);z.rotate(-l);z.translate(I,s);x.y+=x.i*.27;var O=v.A.z$(x);v.A.e(O.j,z,O.j);return O};
if(V==g){V=Math.max(V,0);var C=B.rF(V);if(C){var w=C.qe,Y=this.qU.WK.Cr.FontSize;if(Y!=null&&Y!=0){Y/=c.e.dV();
w.y+=w.i-Y;w.i=Y}var U=B.atn(V);if(U!=null&&U.jc==1)w.x+=w.m;var e=N(w,C.Pk).j;d.N.fZ.r.push("M","L");
d.N.fZ.j.push(e[0],e[1]-1,e[6],e[7]-1)}}else{d.N.SM={j:[],r:[]};for(var S=V;S<g;S++){var C=B.rF(S),O=N(C.qe,C.Pk);
v.A.concat(d.N.SM,O)}}}d.N.fZ=bQ.cW(d.N.fZ,c,B,!0);d.N.SM=bQ.cW(d.N.SM,c,B,!0);d.N.dk=bQ.cW({j:d.N.dk},c,B,!0).j;
d.ps=!0};X.aE.prototype.a1x=function(d,W,c){if(c==null)return;d.N.dk.push(0,0);if(d.N.fZ==null)d.N.fZ={r:[],j:[]};
for(var S=0;S<c.a0.length;S++){var y=c.a0[S];for(var B=0;B<y.RV.length;B++){var r=y.RV[B],x=y.sZ.x+r.sZ.x+r.qe.x,Z=y.sZ.y+r.sZ.y+r.qe.y+r.qe.i;
d.N.fZ.r.push("M","L");d.N.fZ.j.push(x,Z,x+r.qe.m,Z)}}d.ps=!0};X.s4=function(){X.aE.call(this,!0)};X.s4.prototype=new X.aE;
X.EU=function(d){X.XC.call(this,d?"Magic Replace":[10,9],d?X.a3c:X.cM,d?"tools/mremove":"tools/lasso");
this.Or="crosshair";this.aA=null;this.DW=null;this.ve=null};X.EU.prototype=new X.XC;X.EU.prototype.iZ=function(d,W,c,y){this.aA=this.Ks;
this.DW={j:[this.aA.x,this.aA.y],r:["M"]}};X.EU.prototype.S0=function(d,W,c,y){this.ve=y;var B=this.DW;
if(B==null)return;if(!y.HW){if(this.DW!=null&&this.PV.J$(1)&&c.S(bm.Oi)){B.j.pop();B.j.pop();B.j.push(this.bl.x,this.bl.y);
d.N.fZ=B;d.ps=!0}return}B.r.push("L");B.j.push(this.bl.x,this.bl.y);this.aA=this.bl;if(this.fv){d.N.fZ=B;
d.ps=!0}};X.EU.prototype.cN=function(){return this.DW!=null};X.EU.prototype.uo=function(){return this.DW!=null};
X.EU.prototype.z9=function(d,W,c,y){X.XC.prototype.z9.call(this,d,W,c,y);if(this.DW&&this.PV.J$(1)&&this.ve&&!this.ve.HW&&!y.S(bm.Oi))this.a6j(d,c,y)};
X.EU.prototype.NC=function(d,W,c,y){this.ve=y;var B=this.DW;if(B==null)return;if(this.PV.J$(1)&&c.S(bm.Oi)){B.r.push("L");
B.j.push(this.bl.x,this.bl.y);return}this.a6j(d,W,c)};X.EU.prototype.a6j=function(d,W,c){this.finish(d,W,c,this.ve);
this.DW=null;d.N.fZ=null;d.ps=!0};X.EU.prototype.getSelection=function(d,W,c,y){if(this.Ks.zI(this.bl)||!this.fv)return null;
return X.XC.zq(this.DW.j,null,this.bv.anta)};X.rL=function(){X.dA.call(this,[10,11],X.Sj,"tools/move");
this.sR=new aL(0,0);this.rQ=new aL(0,0);this.cz=null;this.Wz=null;this.R3=new aL(0,0);this.IR=null;this.kO=null;
this.i7=null;this.g2=0;this.mh=null;this.v$=[];this.zo=null;this.md=null;this.Ul=!1;this.d=0;this.Wc=null;
this.ZM=null;this.sK=null;this.qr=!1;this.bv={vs:!0,_z:!1,Tc:!1,aBn:1};this.a0k=!1;this.a65=!1;this.yx=null;
this.NO=null;this.vc=null;var d=[];for(var S=0;S<v.T6.rS.length;S++)d.push({name:v.T6.rS[S],w:function(W,c,y){return{NQ:c.UA.Wx==y}}});
this.nG=new dK(d);this.nG.k("select",this.hW,this)};X.rL.prototype=new X.dA;X.dA.prototype.zh=function(d){return this.Ul&&this.d!=2};
X.rL.prototype.aof=function(){return this.Ul&&(this.d==0||this.d==1)};X.rL.prototype.eq=function(d,W,c,y){this.nE(d,-this.R3.x,-this.R3.y);
this.R3.sq(0,0);this.qj(d,null,c);this.cd(d)};X.rL.prototype.Yk=function(){var d=this.bv;return[d.vs?1:0,d._z?1:0,d.Tc?1:0]};
X.rL.prototype.Iw=function(d,W,c){var y=this.bv;if(d&&d[0]!=null)y.vs=d[0]==1;if(d&&d[1]!=null)y._z=d[1]==1;
if(d&&d[2]!=null)y.Tc=d[2]==1;var B=new bR(b.E.V,!0);B.data={d:b.H.TE,f:this.id,er:y,anH:W};c.T(B)};
X.rL.aot=function(d,W,c,y,B,r,x){if(x==null)x=[!1,!0];var Z=d.ys(null,B,!0),i,k=B==null?d.g[0]:B;if(d.add.artd&&(B!=null||d.g.length==1)&&d.B[k].add.artb){var H=d.B[k].ZB();
i=d.ei(Z,H,H)[0]}else{var V=new a8(0,0,d.m,d.i),i=d.ei(Z,x[0]?V:null,x[1]?null:V)[0];delete i.add.artd;
if(x[1]){var g=v.Cl(i.Li(),new a8(0,0,i.m,i.i),2);X.JH.Zw(i,g)}}if(c!=1){var N=new a8(0,0,Math.round(i.m*c),Math.round(i.i*c));
X.JH.Zw(i,N);var C=[];for(var S=0;S<i.B.length;S++)C.push(S);var w=X.X.TF(i,C,!0);X.JH.rJ(i,new dT(c,0,0,c,0,0));
X.X.hv(i,y,C,w,1,v.D.MK(new dT(c,0,0,c,0,0)),null,!0);i.pM()}var Y=[];for(var S=0;S<W.length;S++)if(i.m*i.i!=0)Y.push(fd.OR(i,W[S].toUpperCase(),null,null,r?r[S]:null,y));
return Y};X.rL.prototype.adt=function(d,W,c,y,B){if(d==null||d.g.length==0)return;var r=X.rL.aot(d,[W],c,y,null)[0],x=new bR(b.E.V,!0);
x.data={d:b.H.vR,data:r,name:d.B[d.g[0]].getName()+(c==1?"":"@"+c+"x")+"."+W};B.T(x)};X.rL.prototype.AE=function(d,W,c,y,B){if(d.jK=="getPNG"){this.adt(c,"png",d.Y7,B,W)}else if(d.jK=="getSVG"){this.adt(c,"svg",d.Y7,B,W)}if(d.jK=="prms"){this.bv=d;
this.cd(c)}};X.rL.a61=function(d){var bd=d.length,c=0;d.sort(function(r,x){return r[0]+r[1]/2-(x[0]+x[1]/2)});
var W=d[bd-1][0]+d[bd-1][1]-d[0][0];for(var S=0;S<bd;S++)c+=d[S][1];var y=Math.round((W-c)/(bd-1)),B=d[0][0];
for(var S=0;S<bd;S++){d[S][0]=B;B+=d[S][1]+y}};X.rL.prototype.fY=function(d,W,c,y,B){var r=d.d;if(r=="trsl"){var x=Math.round(d.eg),Z=Math.round(d.Tt);
this.R3.sq(x,Z);this.cq(c,W,y,B,!1,d.a);this.nE(c,x,Z);this.qj(c,null,B)}else if(r=="fcmy"||r=="fvec"){var i=["RGB","CMYK"][d.b]+" Color";
if(r=="fvec")i=["Raster","Vector"][d.b]+" Mode";var k=new aw(i,this);k.data={d:d.d,qp:c.add[r]==null?0:c.add[r],z4:d.b};
c.hZ(k);this.To(k.data,c)}else if(r=="pview"){var r=new aw([8,14],this);r.data={d:d.d};c.hZ(r);this.To(r.data,c)}else if(r=="lockguides"){if(c)c.ah=!c.ah}else if(r=="gids"||r=="gidsFromLayer"){var H=d.ZM,V,g;
if(H==null)H=c.B5();if(r=="gids"){V=d.MN;var N=H[0].length,C=V[0].length;g=N==C?[23,2]:N>C?[23,3]:[23,4];
if(C==0)g=[11,15,0]}else if(r=="gidsFromLayer"){var w=[],Y=[],U=c.Vj();for(var S=0;S<c.g.length;S++){var e=c.B[c.g[S]].rect;
if(e.Bb())continue;w.push([0,e.x],[1,e.y],[0,e.x+e.m],[1,e.y+e.i]);Y.push(U,U,U,U)}g=[11,15,1];V=c.B5();
X.rL.gH(V,[w,Y])}if(JSON.stringify(H)==JSON.stringify(V))return;var r=new aw(g,this);r.data={d:2,ZM:H,MN:V};
c.hZ(r);this.To(r.data,c)}else if(r=="algn"){var O=d.b;if(c==null)return;if(c.g.length<2&&!(c.u!=null&&O!=3&&O!=7)){alert(ay.get([15,7,5]));
return}var l=c.u;c.u=null;var e=l?l.rect:X.X.yo(c);this.cq(c,W,y,B,!1);if(!this.Ul)return;var I=this.mh,s={},z=[],R=[],t=[];
for(var S=0;S<I.length;S++){var a=I[S];while(c.B[a].getName()=="</Layer group>")a++;var J=c.root.x$(a),F=J;
while(J.parent!=null){J=J.parent;if(I.indexOf(J.index)!=-1)F=J}var h=R.indexOf(F.index);if(h==-1){h=R.length;
R.push(F.index)}z[S]=h}var m=[],D=[],_=[];for(var S=0;S<R.length;S++){var n=X.X.yo(c,c.ys(!0,R[S]));
_.push(n);var j=O==3?[n.y,n.i]:[n.x,n.m];m[S]=j;D.push(j)}X.rL.a61(D);for(var S=0;S<R.length;S++){var n=_[S],T=n.x,L=n.y;
if(O==0)T=e.x;if(O==1)T=e.x+(e.m-n.m)/2;if(O==2)T=e.x+(e.m-n.m);if(O==3)L=m[S][0];if(O==4)L=e.y;if(O==5)L=e.y+(e.i-n.i)/2;
if(O==6)L=e.y+(e.i-n.i);if(O==7)T=m[S][0];t.push(Math.round(T-n.x),Math.round(L-n.y))}var p=[];for(var S=0;
S<I.length;S++){var E=z[S];p[2*S]=t[2*E];p[2*S+1]=t[2*E+1]}this.nE(c,0,0,null,p);var G=O==3||O==7?[20,4,6]:[20,4,O<3?O:O-1];
this.qj(c,null,B,p,G);c.u=l}else if(r=="disabAuto"){this.Iw([!1],null,W)}};X.rL.gH=function(d,W){for(var S=0;
S<W[0].length;S++){var c=W[0][S],y=W[1][S],B=!1;for(var r=0;r<d[0].length;r++){var x=d[0][r],Z=d[1][r];
if(c[0]==x[0]&&c[1]==x[1]&&y==Z)B=!0}if(!B){d[0].push(c.slice(0));d[1].push(y)}}};X.rL.prototype.enable=function(d,W,c,y,B){this.kO=c;
this.i7=W;this.qr=B?!0:!1;this.cd(d);this.E0("default",W);this.z9(d,W,c,y)};X.rL.prototype.disable=function(d,W,c,y){this.aaa(d)};
X.rL.prototype.aaa=function(d){if(d==null)return;if(this.yx){this.yx.clear(d);this.yx=null}if(d.N.Tc){d.N.Tc=null;
d.ps=!0}if(d.N.AR){d.N.AR=null;d.ps=!0}if(d.N._q[this.id]){delete d.N._q[this.id];d.ps=!0}if(d.N.Te.length!=0){d.N.Te=[];
d.ps=!0}};X.rL.prototype.VO=function(d,W,c,y){if(c._9!=this.id)return;this.cd(d)};X.rL.prototype.cd=function(d,W){if(d==null)return;
var c=this.bv;this.aaa(d);if(!this.qr){var y;if(c._z||c.Tc)y=v.A.zk(X.X.yo(d));if(c._z&&!y.Bb()){var B=d.B[d.g[0]],r=v.A.z$(y).j;
if(be==1&&d.g.length==1){if(B.add.vmsk)r=B.add.vmsk.a84();if(B.add.SoLd)r=X.X.R6(B.add.SoLd.nonAffineTransform);
if(B.add.TySh){r=v.A.z$(B.oR.x1).j;v.A.e(r,B.add.TySh.e,r)}}this.yx=new g6(r,!0);this.yx.QD(d,this.kO)}if(c.Tc){var x=null,g=null,N=!1;
if(d.Vj()!=-1)x=d.B[d.Vj()].ZB();else x=new a8(0,0,d.m,d.i);d.N.Tc={rR:[y],sf:[]};var Z=d.N.Tc.sf,i=y.x+y.m,k=y.y+y.i,H=y.x+Math.floor(y.m/2),V=y.y+Math.floor(y.i/2);
if(W){var C=d.root.cf(new aL(Math.floor(W.x),Math.floor(W.y)));if(C){g=v.A.zk(C.a._W(d));if(g.rC(y)){N=(g.M_(y)||y.M_(g))&&!y.zI(g);
if(!N)g=null}}}this.a0i(y,Z);if(g!=null){d.N.Tc.rR.push(g);var w=g.x+g.m,Y=g.y+g.i,U=g.x+Math.floor(g.m/2),e=g.y+Math.floor(g.i/2);
if(N){var O=H,l=V;if(y.M_(g)){O=U;l=e}Z.push(y.x,l,g.x,l);Z.push(i,l,w,l);Z.push(O,y.y,O,g.y);Z.push(O,k,O,Y)}else{this.a0i(g,Z);
var I=k<g.y||Y<y.y,s=i<g.x||w<y.x;if(i<g.x)Z.push(i,V,g.x,V);if(w<y.x)Z.push(w,V,y.x,V);if(k<g.y)Z.push(H,k,H,g.y);
if(Y<y.y)Z.push(H,Y,H,y.y);if(I&&!s){if(y.x<g.x)Z.push(y.x,e,g.x,e);if(g.x<y.x)Z.push(g.x,V,y.x,V)}}}else{if(y.y>x.y)Z.push(H,x.y,H,y.y);
if(k<x.y+x.i)Z.push(H,k,H,x.y+x.i);if(y.x>x.x)Z.push(x.x,V,y.x,V);if(i<x.x+x.m)Z.push(i,V,x.x+x.m,V)}d.ps=!0}}if(this.d==2&&this.Ul){var z=new a8(0,0,d.m,d.i),R=d.Vj();
if(R!=-1){var t=d.B5(),a=t[1][this.mh];if(a==-1)a=R;z=d.B[a].ZB()}var J=d.qx[this.mh],F=J[0],h=(F==0?"X":"Y")+": "+v.T6.By(J[1]-(F==0?z.x:z.y),d.tU,this.kO,F==0?z.m:z.i,!0);
X.dA.EA(Math.round(this.cz.x)+10,Math.round(this.cz.y)-10,[h],d);d.ps=!0}if(this.d==3&&this.Ul){var m=v.A.z$(this.Wc);
d.N._q[this.id]={fZ:m};d.ps=!0}};X.rL.prototype.a0i=function(d,W){var c=d.m,y=d.i,B=d.x+Math.floor(c*.2),r=d.y+Math.floor(y*.2);
W.push(B,d.y,B,d.y+y);W.push(d.x,r,d.x+c,r)};X.rL.prototype.E0=function(d,W){var c={d:b.H.iV,QM:d},y=new bR(b.E.V,!0);
y.data=c;W.T(y)};X.rL.prototype.Yv=function(d){var W=this.NO.YD()[0];if(W==this.vc.length){var c=new bR(b.E.V,!0);
c.data={d:b.H.eQ,Uw:"psd"};this.i7.T(c);return}var y=this.IR,B=this.vc[W];this.azP(y,B)};X.rL.prototype.hW=function(d){var W=JSON.parse(JSON.stringify(this.kO.UA));
W.Wx=this.nG.YD()[0];var c=new bR(b.E.V,!0);c.data={d:b.H.e7,au:kG.U5,z4:W};this.i7.T(c)};X.rL.prototype.AQ=function(d,W,c,y,B){if(this.Ul)this.AZ(d,W,c,y,B);
this.IR=d;this.kO=c;this.i7=W;var r=d.Q.q9(B.x,B.y),x;if(X.rL.d5(c,B,d.Q)){x=this.nG}else{if(this.NO)this.NO.removeEventListener("select",this.Yv);
var Z=[];d.root.cf(r,Z);if(Z.length==0)return;var i=[];this.vc=Z;for(var S=0;S<Z.length;S++)i.push({name:d.B[Z[S]].getName(),Zq:S==Z.length-1});
i.push({name:[1,18],xJ:!0});x=this.NO=new dK(i);x.k("select",this.Yv,this)}x.parent=W;x._();x.update(d,c);
var k=new bR(b.E.V,!0);k.data={d:b.H.oV,dD:x,x:B.$p+2,y:B.$U+1};W.T(k)};X.rL.prototype.a6U=function(d,W,c,y,B){var r=X.rL.pZ(d,B);
return r!=-1||X.rL.d5(c,B,d.Q)};X.rL.pZ=function(d,W){if(d==null||d.add.artd==null)return-1;var c=d.Q.q9(W.x,W.y),y=12*X.QX()/d.Q.O;
for(var S=0;S<d.B.length;S++){var B=d.B[S];if(!B.jF()||B.add.artb==null)continue;var r=B.ZB(),x=new a8(r.x,r.y-1.7*y,y*B.getName().length*.5,y);
if(x.Ce(c))return S}return-1};X.rL.prototype.RQ=function(d,W,c,y,B){var r=X.rL.pZ(d,B),x=X.rL.aew(d,d.Q.q9(B.x,B.y));
if(r!=-1){d.g=[r];if(c._9==X.Sj){var Z=new bR(b.E.V);Z.data={d:b.H.Fy,f:X.Xz};W.T(Z)}return}if(x!=-1){d.Q.g8=x;
d.Pm=!0;var Z=new bR(b.E.V,!0);Z.data={d:b.H.R0,vD:aA.HX.az6};W.T(Z);return}this.cz=B;this.sR.sq(B.x,B.y);
this.rQ=d.Q.q9(B.x,B.y);this.Wz=new aY(this.rQ);this.cq(d,W,y,c,!0)};X.rL.d5=function(d,W,c,y){var B=v.T6.WV,r=c.nW.i;
return d.dZ&&(0<W.x&&W.x<B||0<W.y&&W.y<B||y&&0<W.x&&W.x<4*B&&r-B<W.y&&W.y<r)};X.rL.prototype.cq=function(d,W,c,y,B,r){var x,Z=this.rQ,i=!1;
if(B){var k=y.hA&&y.UA.qx;if(X.rL.d5(y,this.sR,d.Q)){x=d.B5();var H=d.B5(),V=null;if(this.sR.x<v.T6.WV){V=[0,Z.x]}if(this.sR.y<v.T6.WV){V=[1,Z.y]}H[0].push(V);
H[1].push(d.Vj(!0));d.Pe(H);if(!k){var g=new bR(b.E.V);if(!y.UA.qx){g.data={d:b.H.e7,au:kG.q_};W.T(g)}if(!y.hA){g.data={d:b.H.e7,au:kG.gZ};
W.T(g)}k=!0}}var N=this.ain(d,Z);if(k&&N!=null&&!d.ah){this.d=2;this.ZM=x?x:d.B5();this.mh=N;this.Ul=!0;
this.md=X.X.yo(d);return}if(d.tv.length!=0){this.d=4;this.md=d.iv[d.tv[0]].rect.clone();this.Ul=!0;return}if(this.yx&&this.yx.He(Z,d.Q.O,!0,this.cz)!=null){var g=new bR(b.E.V);
g.data={d:b.H.Fy,f:X.Ee,a6F:!0};W.T(g);return}if(d.u&&d.u.rect.Ce(Z)){var C=Math.round(Z.x),w=Math.round(Z.y),Y=d.u.rect;
i=d.u.channel[(w-Y.y)*Y.m+C-Y.x]>128}if(!i&&(!this.qr&&this.bv.vs||this.qr&&this.bv.vs&&(c.S(bm.Uo)||d.g.length<2))){var U=this.aBx(d,Z,c);
if(!U){d.g=[];d.jh=null;d.Dy=d.r7=!0;this.d=3;this.Wc=new a8;this.Ul=!0;return}}if(c.S(bm.Oi)&&!i){var e=new bR(b.E.v);
e.f=X.jq;e.data={d:e8.k9,axG:!0};W.T(e)}}if(d.tv.length!=0){this.d=4;this.md=d.iv[d.tv[0]].rect.clone();
this.Ul=!0;return}this.mh=d.ys(r==null,r,null,!0);for(var S=0;S<this.mh.length;S++){var O=this.mh[S],l=d.B[O];
if(l.sx(2)||l.sx(31)||d.Yt(O)){alert(ay.get([6,57,0]));return}}if(d.add.artd&&B){var I=this.mh,s=!1;
for(var S=0;S<I.length;S++)if(d.B[I[S]].add.artb)s=!0;if(!s){this.zo=[d,d.B.slice(0),d.g.slice(0),-1];
this.mh.sort(function(m,D){return m-D})}}this.v$=X.rL.anK(d,this.mh);this.d=0;if(d.u&&(!B||i)&&d.g.length==1&&d.YH(!1)){if(!d.aoW()){this.Ul=!1;
return}var z=d.B[d.g[0]],R=c.S(bm.Oi);this.d=1;var t=d.history[d.ST];if(t.f==this&&t.data.d==1&&t.data.a==d.g[0]&&z.MM==z.Vh.MM&&!R){this.sK=t}else{var a=z.Vh,J=!1,F;
if(!z.D5(d,d.u)||R){J=!0;z.KL(d,d.u,R)}if(z.Vh.MM<=0){F=v.R(z.Vh.xt.length>>2);v.$P(z.Vh.xt,F,3)}else F=d.u.channel.slice(0);
var h={rect:z.Vh.$g.clone(),channel:F};this.sK=new aw(R?[12,53]:[12,54],this);this.sK.data={d:1,a:d.g[0],Vh:z.Vh,QA:a,Xq:J,FK:d.u,EC:h,x7:new aL(0,0)};
d.hZ(this.sK);d.u=h;d.GX=!0}}this.Ul=!0;this.md=X.X.yo(d)};X.rL.prototype.aBx=function(d,W,c){var y=d.root.cf(new aL(Math.floor(W.x),Math.floor(W.y)));
if(y){if(y.a.add.vmsk)d.ps=!0;var B=d.B.indexOf(y.a);if(this.bv.aBn==0){var r=d.root.x$(B);while(r.parent&&r.parent.depth!=0&&r.parent.a.add.artb==null)r=r.parent;
B=r.index}if(c.S(bm.Uo)){var x=d.g.indexOf(B);if(x==-1)d.g.push(B);else if(d.g.length>1)d.g.splice(x,1)}else if(d.g.indexOf(B)==-1){this.azP(d,B)}}return y!=null};
X.rL.prototype.azP=function(d,W){d.B[W].MM=0;d.g=[W];d.jh=null;d.yz();d.Xs=!0;d.Dy=!0};X.rL.aew=function(d,W){var c=d.add.Anno;
if(c==null||c.length==0)return-1;var y=30/d.Q.O;for(var S=0;S<c.length;S++)if(new a8(c[S][0],c[S][1],y,y).Ce(W))return S;
return-1};X.rL.prototype.f9=function(d,W,c,y,B){this.cz=B;var r=d.Q.q9(B.x,B.y),N,C;if(this.Wz&&this.d<2)r=this.Wz.KB(r,y);
if(!this.Ul){if(c.hA&&c.UA.qx&&d&&!d.ah){var x=this.ain(d,r),Z="default",i=X.rL.pZ(d,B);if(x!=null)Z=["col-resize","row-resize"][d.qx[x][0]];
else if(this.yx){var k=this.yx.He(r,d.Q.O,null,B);if(k)Z=k}else if(i!=-1||X.rL.aew(d,r)!=-1){Z="pointer"}this.E0(Z,W)}this.cd(d,r);
return}var H=this.rQ,V=Math.round(r.x-H.x)-this.R3.x,g=Math.round(r.y-H.y)-this.R3.y;if(this.md){if(this.d==2){var w=[];
if(d.u)w.push(d.u.rect);if(this.md)w.push(this.md);if(d.Q.iX)w.push(d.Q.iX);r=X.rL.fh(d,r,c,[!1,w,!0,!0])}else{C=this.md.clone();
C.offset(this.R3.x+V,this.R3.y+g);N=X.rL.gq(d,C,c);var Y=this.Wz.arV(y);if(Y==1){N[0]=0;N[2]=1e9}if(Y==2){N[1]=0;
N[3]=1e9}V+=Math.round(N[0]);g+=Math.round(N[1])}}this.R3.x+=V;this.R3.y+=g;var U=this.zo;if(U&&d==U[0]){d.GO(U[1]);
d.g=U[2].slice(0);U[3]=-1}this.nE(d,V,g,r,null,y.S(bm.Uo));if(U&&d==U[0]){var e=this.md.clone();e.offset(this.R3.x,this.R3.y);
var O=r,i=d.Vj(),l=-1;for(var S=0;S<d.B.length;S++){var I=d.B[S];if(!I.jF()||I.add.artb==null)continue;
var s=I.ZB();if(s.Ce(O))l=S}if(l!=-1&&l!=i){var z=X.wu.tD(d,this.mh,l,!0,null,!1);d.GO(z[0]);d.g=z[1];
U[3]=l}}this.cd(d,r);if(N)X.rL.JA(d,C,N)};X.rL.prototype.ain=function(d,W){var c=X.ap(d,this.cz);W=[W.x,W.y];
var y=d.B5(),B=d.Vj();for(var S=0;S<y[0].length;S++){var r=y[0][S],x=y[1][S];if(x!=-1&&x!=B)continue;
if(Math.abs(r[1]-W[r[0]])<c)return S}return null};X.rL.prototype.nE=function(d,W,c,y,B,r){if(this.d==0){if(B)X.rL.kr(d,this.mh,this.v$,B);
else X.rL.gs(d,this.mh,this.v$,W,c)}else if(this.d==1){var x=this.sK.data;x.x7.offset(W,c);X.rL.Tf(d,x.a,W,c)}else if(this.d==2){var Z=1e-5;
if(r)Z=d.Q.O<=1?10:1;var i=Z*Math.round(y.x/Z),k=Z*Math.round(y.y/Z),H=[i,k],V=d.qx[this.mh];V[1]=H[V[0]]}else if(this.d==3){var g=this.rQ,N=v.A.xG([g.x,g.y,y.x,y.y]);
this.Wc=N;var C=[];d.root.af8(N,C);if(JSON.stringify(d.g)!=JSON.stringify(C)){d.g=C;d.Dy=d.r7=!0}}else if(this.d==4){for(var S=0;
S<d.tv.length;S++)d.iv[d.tv[S]].rect.offset(W,c);d.ps=!0}};X.rL.Tf=function(d,W,c,y){var B=d.B[W];d.u.rect.offset(c,y);
B.VR(d,c,y,d.u);d.GX=!0;d.W()};X.rL.prototype.AZ=function(d,W,c,y,B,r){this.qj(d,B,c);this.cd(d);if(Date.now()-this.g2<300&&!r){var x=X.aE.iK(d,d.Q.q9(B.x,B.y));
if(X.rL.d5(c,B,d.Q,!0)){var Z=new bR(b.E.V);if(B.y>d.Q.nW.i-20){Z.data={d:b.H.vB,vD:"doczoom",qp:d.Q.O*100,gU:{K:b.E.v,f:X.AO,C:{d:"pzoom"}}}}else{Z.data={d:b.H.vB,vD:"preferences"}}W.T(Z)}else if(x>=0){var i=new bR(b.E.v,!0);
i.f=X.bU;i.data={d:"editCurr",hk:x};W.T(i)}}this.g2=Date.now();X.JH.je(d)};X.rL.prototype.qj=function(d,W,c,y,B){if(!this.Ul)return;
this.Ul=!1;if(this.d==0){if(y){this.atx(d,null,y,B)}else{if(this.R3.x==0&&this.R3.y==0)return;this.atx(d,this.R3.clone())}d.Pm=!0}else if(this.d==2){var r=0;
W=[W.x,W.y];var x=this.mh,Z=d.qx[x],i$=this.ZM[0].length,i=d.qx.length;if(c.dZ&&W[Z[0]]<v.T6.WV){var k=d.B5();
k[0].splice(x,1);k[1].splice(x,1);d.Pe(k);r=1;if(i$==i-1)return}if(i$<i)r=2;var H=new aw([[23,2],[23,3],[23,4]][r],this);
H.data={d:2,ZM:this.ZM,MN:d.B5()};d.hZ(H)}else if(this.d==4){var H=new aw([12,54],this);H.data={d:4,g:d.tv.slice(0),z:this.R3.clone()};
d.hZ(H)}this.R3.sq(0,0)};X.rL.prototype.z9=function(d,W,c,y){var B=y.nv(d?d.Q.Pk:0);if(d!=null&&(B.x!=0||B.y!=0)){if(y.S(bm.Oi)&&d.u==null){var r=new bR(b.E.v);
r.f=X.jq;r.data={d:e8.k9,axG:!0};W.T(r)}this.R3.sq(B.x,B.y);this.cq(d,W,y,c,!1);if(!this.Ul)return;this.nE(d,B.x,B.y);
this.qj(d,null,c);this.cd(d)}var x=y.S(bm.Z7);if(!this.qr&&this.a65!=x){if(x){this.a0k=this.bv.vs;this.bv.vs=!0}else{this.bv.vs=this.a0k}this.a65=x;
var Z=new bR(b.E.V,!0);Z.data={d:b.H.TE,f:this.id,er:this.bv};W.T(Z)}};X.rL.prototype.lL=function(d,W){if(d.d==0){var c=d.Kv;
if(c){W.GO(c.cY);W.g=c.Zh.slice(0);W.W();W.Dy=!0}X.rL.kr(W,d.g,d.BP,d.LN,!0);X.JH.je(W)}else if(d.d=="fcmy"||d.d=="fvec"){if(d.qp==0)delete W.add[d.d];
else W.add[d.d]=d.qp;W.ps=!0}else if(d.d=="pview"){W.PZ=!W.PZ;W.W()}else if(d.d==2){W.Pe(d.ZM);W.ps=!0}else if(d.d==4){for(var S=0;
S<d.g.length;S++)W.iv[d.g[S]].rect.offset(-d.z.x,-d.z.y);W.ps=!0}else{var y=W.B[d.a];if(d.Xq){y.K_(W,d.QA);
W.u=d.FK;W.GX=!0;W.W();y.W()}else{X.rL.Tf(W,d.a,-d.x7.x,-d.x7.y)}}};X.rL.prototype.To=function(d,W){if(d.d==0){X.rL.kr(W,d.g,d.BP,d.LN);
var c=d.Kv;if(c){W.GO(c.JI);W.g=c.N4.slice(0);W.W();W.Dy=!0}X.JH.je(W)}else if(d.d=="fcmy"||d.d=="fvec"){if(d.z4==0)delete W.add[d.d];
else W.add[d.d]=d.z4;W.ps=!0}else if(d.d=="pview"){W.PZ=!W.PZ;W.W()}else if(d.d==2){W.Pe(d.MN);W.ps=!0}else if(d.d==4){for(var S=0;
S<d.g.length;S++)W.iv[d.g[S]].rect.offset(d.z.x,d.z.y);W.ps=!0}else{var y=W.B[d.a];if(d.Xq){y.Vh=d.Vh;
W.u=d.EC;X.rL.Tf(W,d.a,0,0);y.W()}else{X.rL.Tf(W,d.a,d.x7.x,d.x7.y)}}};X.rL.prototype.atx=function(d,W,c,y){if(c){var B=!0;
for(var S=0;S<c.length;S++)if(c[S]!=0)B=!1;if(B)return}var r=d.history[d.ST],x=this.zo,Z=x!=null&&x[3]!=-1&&x[0]==d;
if(!Z&&c==null&&r.data&&r.f==this&&r.data.d==0&&JSON.stringify(r.data.g)==JSON.stringify(this.mh)&&JSON.stringify(r.data.BP)==JSON.stringify(this.v$)){var i=r.data.LN,k=r.data.aoJ.i9.T.v;
k.Hrzn.v.val+=W.x;k.Vrtc.v.val+=W.y;for(var S=0;S<i.length;S+=2){i[S]+=W.x;i[S+1]+=W.y}}else{if(W==null)W=new aL(c[0],c[1]);
var H={cx:"move",i9:{classID:"null",null:hC.cV("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:W.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:W.y}}}}}},V=null;
if(Z)V={cY:x[1],Zh:x[2],JI:d.B.slice(0),N4:d.g.slice(0)};this.zo=null;var g=new aw(y?y:[12,54],this);
if(c)g.data={d:0,g:this.mh,BP:this.v$,Kv:V,LN:c};else g.data={d:0,g:this.mh,BP:this.v$,Kv:V,LN:X.rL.asB(this.mh,W.x,W.y)};
g.data.aoJ=H;d.hZ(g);this.track(H)}};X.rL.asB=function(d,W,c){var y=[];for(var S=0;S<d.length;S++)y.push(W,c);
return y};X.rL.gs=function(d,W,c,y,B){X.rL.kr(d,W,c,X.rL.asB(W,y,B))};X.rL.kr=function(d,W,c,y,B){if(W.length==0)return;
if(c==null){c=[];for(var S=0;S<W.length;S++){c.push(d.B[W[S]].le(d,!0))}}var r=new a8,x=new a8(0,0,d.m,d.i);
for(var S=0;S<W.length;S++){var Z=y[2*S],i=y[2*S+1];if(B){Z=-Z;i=-i}var k=d.B[W[S]],H=c[S];if(k.add.fxrp&&(H.indexOf(0)!=-1||k.sI()))k.add.fxrp.offset(Z,i);
for(var V=0;V<H.length;V++){var g=H[V];if(g==0){k.rect.offset(Z,i);if(k.pX()&&k.WI(d))k.WI(d).rect.offset(Z,i);
if(k.add.artb){var N=k.ZB();N.offset(Z,i);k.Nn(N);var C=k.add.artb.guideIndeces;C=C?C.v:[];for(var w=0;
w<C.length;w++){var Y=d.qx[C[w].v];Y[1]+=Y[0]==0?Z:i}}if(k.add.TySh){k.add.TySh.e.translate(Z,i);if(k.add.TySh.add){k.add.TySh.add.vmsk.offset(Z,i)}}if(k.add.SoLd){var U=new dT(1,0,0,1,Z,i),e=k.add.SoLd,O=X.X.R6(e.Trnf),l=X.X.R6(e.nonAffineTransform);
v.A.e(O,U,O);v.A.e(l,U,l);e.Trnf=X.X.oY(O);e.nonAffineTransform=X.X.oY(l);X.X.arF(e,U)}}if(g==1)k.Q7().rect.offset(Z,i);
if(g==2){k.add.vmsk.offset(Z,i);if(k.add.vogk)v.dr.e(k.add.vogk,[1,0,Z,0,1,i,0,0],[]);if(k.oR.DW){var I=k.oR.DW.gr.j;
v.A.e(I,new dT(1,0,0,1,Z,i),I)}}if(g==3){k.WI(d).t.rect.offset(Z,i);if(H.length==1)k.W()}}if(H.length>0){var s=k.add.GdFl;
if(s==null)s=k.add.PtFl;if(k.sI()&&!k.U_()&&k.add.vmsk!=null&&v.o.SR(k.add.vmsk.Y)&&k.add.vmsk.it==255&&(s==null||s.Algn&&s.Algn.v)){k.rect.offset(Z,i)}else k.Ys(d);
var z=d.root.JV(k._W(d),d,W[S]);if(k.add.artb)z=z.hB(k.ZB());r=r.hB(z);z.offset(-Z,-i);r=r.hB(z);if(k.Ql()&&k.t&&k.t.color==255)r=r.hB(x);
k.aoE()}}d.W(v.A.zk(r))};X.rL.anK=function(d,W){var c=[];for(var S=0;S<W.length;S++){var y=d.B[W[S]];
c.push(y.le(d))}return c};X.rL.JA=function(d,W,c){var y={j:[],r:[]},B=W.x+c[0],r=W.y+c[1];if(c[2]!=1e9){y.r.push("M","L");
var x=r+W.i;if(c[4])y.j.push(c[2],Math.min(r,x,c[4][1]),c[2],Math.max(r,x,c[4][1]));else y.j.push(c[2],r,c[2],r+W.i)}if(c[3]!=1e9){y.r.push("M","L");
var Z=B+W.m;if(c[5])y.j.push(Math.min(B,Z,c[5][0]),c[3],Math.max(B,Z,c[5][0]),c[3]);else y.j.push(B,c[3],Z,c[3])}if(y.j.length!=0){d.N.AR=y;
d.ps=!0}};X.rL.fh=function(d,W,c,y){var B=X.rL.atD(d,[[W.x],[W.y]],c,y);return new aL(W.x+B[0],W.y+B[1])};
X.rL.gq=function(d,W,c,y,B){var r=B==!0?1:.5,x=X.rL.atD(d,[[W.x,W.x+Math.round(W.m*r),W.x+W.m],[W.y,W.y+Math.round(W.i*r),W.y+W.i]],c,y);
return x};X.rL.atD=function(d,W,c,y){if(y==null)y=[!0,null,!0];var B=[0,0,1e9,1e9,null,null];if(!c.v4)return B;
var r=JSON.parse(JSON.stringify(W));for(var x=0;x<2;x++){var Z=1e9,i=W[x],k=0,H=null;for(var V=0;V<i.length;
V++){var g=X.rL.a08(d,i[V],r[1-x][V],x,c,y),N=g[0];if(N!=1e9)r[x][V]=N;if(N!=1e9&&Math.abs(N-i[V])<Math.abs(Z)){Z=N-i[V];
k=N;H=g[1]}}if(Z!=1e9){B[x]=Z;B[x+2]=k;B[x+4]=H}}return B};X.rL.a08=function(d,W,c,y,B,r){var x=1e9,Z=null,i=B.Eq,k=B.UA,H=[d.root];
while(H.length!=0&&i[2]){var V=H.pop(),g=V.a,N=g.rect;if(!g.jF())continue;if(V.children)for(var S=0;
S<V.children.length;S++)H.push(V.children[S]);if(d.g.indexOf(V.index)!=-1||N.Bb())continue;var C=N.m,w=C>>>1,Y=N.i,U=Y>>>1,e=x;
if(y==0){if(Math.abs(N.x-W)<Math.abs(x-W))x=N.x;if(Math.abs(N.x+w-W)<Math.abs(x-W))x=N.x+w;if(Math.abs(N.x+C-W)<Math.abs(x-W))x=N.x+C}else{if(Math.abs(N.y-W)<Math.abs(x-W))x=N.y;
if(Math.abs(N.y+U-W)<Math.abs(x-W))x=N.y+U;if(Math.abs(N.y+Y-W)<Math.abs(x-W))x=N.y+Y}if(e!=x){Z=[N.x+w,N.y+U]}}var O=x;
x=1e9;if(r[0]&&i[0]&&k.qx&&B.hA){var l=d.B5(),I=l[0],s=l[1],z=d.Vj();for(var S=0;S<I.length;S++)if((s[S]==-1||s[S]==z)&&I[S][0]==y&&Math.abs(I[S][1]-W)<Math.abs(x-W))x=I[S][1]}if(i[1]&&k.M0&&B.hA){var R=Math.round(v.T6.Ho(k.$z,d.tU,d.m,k.kW));
if(y==1&&k.h7==1){var t=c*.5*Math.sqrt(4/3),a;R*=Math.sqrt(4/3);a=Math.round((W-t)/R)*R+t;if(Math.abs(a-W)<Math.abs(x-W))x=a;
a=Math.round((W+t)/R)*R-t;if(Math.abs(a-W)<Math.abs(x-W))x=a}else{var a=Math.round(W/R)*R;if(Math.abs(a-W)<Math.abs(x-W))x=a}}var J=d.nD;
if(i[3]&&k.nD&&B.hA&&J.length!=0){for(var S=0;S<J.length;S++){if(!r[2]&&d.Xr.indexOf(S)!=-1)continue;
var F=X.ju.tA(J,S);for(var h=0;h<3;h+=2)if(F[h+y]!=W&&Math.abs(F[h+y]-W)<Math.abs(x-W))x=F[h+y]}}if(r[1])for(var m=0;
m<r[1].length;m++){var N=r[1][m],C=N.m,Y=N.i,w=C>>>1,U=Y>>>1;if(r[3]){w=C/2;U=Y/2}var D=[N.x,N.y,N.x+w,N.y+U,N.x+C,N.y+Y];
for(var S=0;S<6;S+=2)if(Math.abs(D[S+y]-W)<Math.abs(x-W))x=D[S+y]}if(i[4]){var N=new a8(0,0,d.m,d.i),z=d.Vj();
if(z!=-1)N=d.B[z].ZB();var C=N.m,Y=N.i,w=C>>>1,U=Y>>>1;if(r[3]){w=C/2;U=Y/2}var D=[N.x,N.y,N.x+w,N.y+U,N.x+C,N.y+Y];
for(var S=0;S<6;S+=2)if(Math.abs(D[S+y]-W)<Math.abs(x-W))x=D[S+y]}if(Math.abs(x-W)<=Math.abs(O-W))Z=null;
else x=O;var _=Math.abs(x-W)<=4*X.QX()/d.Q.O?x:1e9;return[_,Z]};X.FI=function(){X.XC.call(this,[10,12],X.gC,"tools/mwand");
this.Zj=null};X.FI.prototype=new X.XC;X.FI.prototype.iZ=function(d,W,c,y){this.Zj=y;this.ax2=this.bv.wconf[0];
this.finish(d,W,c,y)};X.FI.prototype.S0=function(d,W,c,y,B){if(!y.HW)return;var r=new bR(b.E.v);r.f=X._X;
r.data={d:"h_stepbck"};B.T(r);var x=y.x-this.Zj.x,Z=Math.max(0,Math.min(255,Math.round(this.ax2+x/4)));
this.bv.wconf[0]=Z;this.sd(B);this.finish(d,W,c,this.Zj)};X.FI.prototype.NC=function(d,W,c,y,B){this.bv.wconf[0]=this.ax2;
this.sd(B)};X.FI.prototype.getSelection=function(d,W,c,y){var B=this.bl;B=d.Q.q9(y.x,y.y);var r=X.XC.a7H(new aL(Math.floor(B.x),Math.floor(B.y)),this.bv.wconf,this.bv.sall);
return r};X.FI.a17=function(d,W,c,y,B){if(W.x<0||W.x>d.m||W.y<0||W.y>d.i)return null;var r,x=new a8(0,0,d.m,d.i);
if(y)r=d.Li();else{var Z=d.g.length,k=null;if(Z!=1){alert(Z==0?"No layer selected.":"More than one layer selected.");
return null}var i=d.B[d.g[0]],H=i.MM<=0?null:i.MM==1?i.Q7():i.WI(d).t;if(B||H&&H.xV)k=H;if(k==null&&i.add.lsct!=null&&i.add.lsct!=aG.Jf){alert("No layer selected.");
return null}if(k==null&&x.zI(i.rect))r=i.buffer;else{r=v.R(x.P()*4);if(k==null)v.qR(i.buffer,i.rect,r,x);
else X.UZ.fj(k.channel,k.rect,k.color,r,x)}}var V=X.FI.XQ(r,x,W,null,c),g=v.wf(V,x),N=v.R(g.P());v.ZW(V,x,N,g);
return{rect:g,channel:N}};X.FI.Bs=function(d,W,c){var y=W.m,B=W.i,x=0,Z=0,i=0,k=0;d=new Uint32Array(d.buffer);
var r=[],H=c.length;for(var S=0;S<H;S++){var V=c[S],g=Math.round(V.x-.5-W.x),N=Math.round(V.y-.5-W.y);
g=Math.max(0,Math.min(y-1,g));N=Math.max(0,Math.min(B-1,N));var C=N*y+g,w=d[C];r.push([w&255,w>>8&255,w>>16&255,w>>>24])}return r};
X.FI.XQ=function(d,W,c,y,B){d=new Uint32Array(d.buffer);var r=W.m,x=W.i,Z=r*x;if(y==null)y=X.FI.Bs(d,W,[c]);
var i=Math.round(c.x-.5-W.x),k=Math.round(c.y-.5-W.y),H=k*r+i,V=Date.now(),g=v.R(r*x),N=B[0],C=1/N,w=B[1]&&N>0?255:0;
if(B[2]){var Y=v.R(g.length),U=new Uint32Array(Z),e=1;U[0]=i<<16|k;Y[H]=1;while(e>0){var O=U[e-1];e--;
var l=O>>>16,I=O&65535,S=I*r+l,s=X.FI.Yl(d[S],y);if(s>N){var z=w*(1-Math.max(0,Math.min(1,(s-N)*C)));
g[S]=~~z}else{g[S]=255;if(I!=x-1&&Y[S+r]==0){U[e++]=l<<16|I+1;Y[S+r]=1}if(I!=0&&Y[S-r]==0){U[e++]=l<<16|I-1;
Y[S-r]=1}if(l!=r-1&&Y[S+1]==0){U[e++]=l+1<<16|I;Y[S+1]=1}if(l!=0&&Y[S-1]==0){U[e++]=l-1<<16|I;Y[S-1]=1}}}}else{for(var S=0;
S<Z;S++){var s=X.FI.Yl(d[S],y);if(s<=N)g[S]=255}for(var I=0;I<x;I++)for(var l=0;l<r;l++){var S=I*r+l;
if(g[S]==0&&(l>0&&(g[S-1]==255||I>0&&g[S-r-1]==255||I<x-1&&g[S+r-1]==255)||l<r-1&&(g[S+1]==255||I>0&&g[S-r+1]==255||I<x-1&&g[S+r+1]==255)||I>0&&g[S-r]==255||I<x-1&&g[S+r]==255)){var s=X.FI.Yl(d[S],y),z=w*(1-Math.max(0,Math.min(1,(s-N)*C)));
g[S]=~~z}}}return g};X.FI.Yl=function(d,W){var c=W.length,y=X.FI.azQ(d,W[0]),S=1;while(S!=c){y=Math.min(y,X.FI.azQ(d,W[S]));
S++}return y};X.FI.azQ=function(d,W){var c=d&255,y=d>>>8&255,B=d>>>16&255,r=d>>>24&255;if(W[3]==0)return r<5?0:255;
var x=Math.max(Math.abs(c-W[0]),Math.max(Math.abs(y-W[1]),Math.abs(B-W[2])));return r==0?255:x};X.Iz=function(d,W){if(W)X.UZ.call(this);
else if(d)X.UZ.call(this,[10,49],X.Wl,"tools/camove");else X.UZ.call(this,[10,26],X.Zp,"tools/patch");
this.aA=null;this.DW=null;this.z=null;this.sZ=null;this.yT=new aL;this.W9=null;this.cH=null};X.Iz.prototype=new X.UZ;
X.Iz.prototype.RQ=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y);if(d.u&&v.cf(r,d.u.channel,d.u.rect)){var x=new a8(0,0,d.m,d.i),Z=x.nK(d.u.rect);
if(!d.YH()||Z.Bb())return;if(!0){var i=v.R(Z.P());v.ZW(d.u.channel,d.u.rect,i,Z);d.u={channel:i,rect:Z}}this.lZ(d);
this.T7(d);this.sZ=r;this.yT=new aL(r.x-d.u.rect.x,r.y-d.u.rect.y);this.cH=v.R(d.u.rect.P()*4);this.cH.fill(255);
if(this.bv.patch==1){var k=d.B[d.g[0]];k.KL(d,d.u,!0);if(k.Vh==null)this.sZ=null}this.W9=d.u.rect.clone()}else{this.DW={j:[r.x,r.y],r:["M"]};
this.aA=r}};X.Iz.prototype.f9=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y);if(this.sZ){if(this.bv.patch==1){if(d.tv.length==0){var x=d.B[d.g[0]].Vh,Z=r.x-this.yT.x,i=r.y-this.yT.y;
X.rL.Tf(d,d.g[0],Math.round(Z-x.$g.x),Math.round(i-x.$g.y))}}else this.ai4(d,r,"clone")}if(this.aA){this.DW.r.push("L");
this.DW.j.push(r.x,r.y);this.aA=r;d.N.fZ=this.DW;d.ps=!0}};X.Iz.prototype.AZ=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y);
if(this.sZ){var x=d.u.rect.clone();if(this.id==X.Wl){var Z=d.B[d.g[0]];Z.K_(d,Z.Vh);d.u.rect=this.W9.clone();
var i=v.R(d.u.rect.P()*4);v.nP(d.u.channel,i,3);this.SO(d,"sheal",i,d.u.rect,d.u.rect);d.u.rect=x;x=x.hB(this.W9)}this.ai4(d,r,"heal");
this.finish(d,x,null,null,!0);d.W(x);this.sZ=null}if(this.aA){var k=X.XC.ZE(this.bv.setop,y.S(bm.Uo),y.S(bm.Oi)),H=new bR(b.E.HQ,!0);
if(this.DW.j.length<=4)H.data=X.XC.k6();else H.data=X.XC.zq(this.DW.j,k);W.T(H);this.aA=null;d.N.fZ=null;
d.ps=!0}};X.Iz.prototype.kj=function(){return this.z};X.Iz.prototype.AE=function(d,W,c,y,B){X.UZ.prototype.AE.call(this,d,W,c,y,B);
this.E0(B,y)};X.Iz.prototype.E0=function(d,W){var c="auto;";if(W!=null&&W.S(bm.Uo)&&!W.S(bm.Oi)||this.bv.setop=="union")c="copy";
var y=new bR(b.E.V,!0);y.data={d:b.H.iV,QM:c};if(this.caller)this.caller.T(y)};X.Iz.prototype.ai4=function(d,W,c){var y=new aL(Math.round(this.sZ.x-W.x),Math.round(this.sZ.y-W.y));
if(this.bv.patch==1)y.sq(-y.x,-y.y);this.z=y;this.SO(d,c,this.cH,d.u.rect,d.u.rect);this.W(d,d.u.rect)};
X.ahG=function(){X.Iz.call(this,!0);this.bv.patch=1};X.ahG.prototype=new X.Iz(!0,!0);X.Zt=function(d){if(d)X.UZ.call(this,[10,52],X.a4J,"tools/meraser");
else X.UZ.call(this,[10,13],X.auh,"tools/pbucket");this.zp=!1;this.aAT=d};X.Zt.prototype=new X.UZ;X.Zt.prototype.enable=function(d,W,c,y){var B=new bR(b.E.V,!0);
B.data={d:b.H.iV,QM:"default"};W.T(B)};X.Zt.prototype.lz=function(d,W){};X.Zt.prototype.RQ=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B,!0))return;
this.zp=!0};X.Zt.prototype.f9=function(d,W,c,y,B){if(this.Gt(d,W,c,y,B))return};X.Zt.prototype.AZ=function(d,W,c,y,B,r){this.enable(d,W,c,y);
var x=this.zp;this.zp=!1;if(!x||r)return;if(!d.YH())return;var Z=d.Q.q9(B.x,B.y),i=X.FI.a17(d,Z,this.bv.wconf,this.bv.sall,!0);
if(i==null)return;var k=v.R(i.rect.P()*4);v.ft(k,(c.R5&255)<<16|(c.R5>>8&255)<<8|(c.R5>>16&255)<<0);
v.nP(i.channel,k,3);this.lZ(d);this.SO(d,this.aAT?"erase":"draw",k,i.rect,i.rect);this.W(d,i.rect);this.finish(d,i.rect)};
X.ne=function(){X.XC.call(this,[10,14],X.aE8,"tools/plasso");this.Or="crosshair";this.UQ=[];this.WF=null;
this.DW=null;this.aBH=0};X.ne.prototype=new X.XC;X.ne.prototype.disable=function(d,W,c,y){this.LJ(d)};
X.ne.prototype.iZ=function(d,W,c,y){this.UQ=[bm.y8,bm.Vy]};X.ne.prototype.Ea=function(d){return this.UQ.indexOf(d)!=-1};
X.ne.prototype.zh=function(d){return this.DW!=null};X.ne.prototype.uo=function(){return this.DW!=null};
X.ne.prototype.cN=function(){return this.DW!=null};X.ne.prototype.S0=function(d,W,c,y){if(this.DW==null)return;
var B=this.DW,r=B.j,x=r.length-2,Z=this.bl;if(this.PV.J$(1)&&c.S(bm.Oi)&&y.HW){r.push(0,0);B.r.push("L");
x+=2}else if(c.S(bm.Uo))Z=X.Bw.Lt(new aL(r[x-2],r[x-1]),Z);r[x]=Z.x;r[x+1]=Z.y;d.N.fZ=B;d.ps=!0};X.ne.prototype.NC=function(d,W,c,y){var B=Date.now();
if(this.DW==null)this.DW={j:[this.bl.x,this.bl.y,this.bl.x,this.bl.y],r:["M","L"]};else{this.S0(d,W,c,y);
if(B-this.aBH<250||aL.Bg(this.bl,new aL(this.DW.j[0],this.DW.j[1]))<X.ap(d,y)){this.WF=this.DW;this.finish(d,W,c,y);
this.LJ(d);return}this.DW.r.push("L");this.DW.j.push(this.bl.x,this.bl.y)}this.aBH=B;d.N.fZ=this.DW};
X.ne.prototype.LJ=function(d){this.DW=null;this.UQ=[];if(d!=null){d.N.fZ=null;d.ps=!0}};X.ne.prototype.z9=function(d,W,c,y){X.XC.prototype.z9.call(this,d,W,c,y);
if(y.S(bm.Rh)&&this.DW==null&&this.WF&&d.u!=null){var B=new bR(b.E.v);B.f=X._X;B.data={d:"h_stepbck"};
W.T(B);this.iZ(d,c,y,null);this.DW=this.WF;return}if(this.DW==null)return;if(y.S(bm.y8)||y.S(bm.Vy)){this.DW.j.pop();
this.DW.j.pop();this.DW.r.pop();this.S0(d,c,y)}if(y.S(bm.Qy)){if(this.DW.j.length>4){this.WF=this.DW;
this.finish(d,c,y)}this.DW=null}if(y.S(bm.Rh)){this.DW=null}d.N.fZ=this.DW;d.ps=!0};X.ne.prototype.getSelection=function(d,W,c,y){return X.XC.zq(this.DW.j,null,this.bv.anta)};
X.Lz=function(){X.XC.call(this,[10,10],X.akq,"tools/mlasso");this.Or="crosshair";this.UQ=[];this.Y=[];
this.VW=[];this.RV=[];this.lS=null;this.I0=null;this.VI=null;this.g2=0;this.La=0};X.Lz.prototype=new X.XC;
X.Lz.prototype.disable=function(d,W,c,y){this.clear(d)};X.Lz.prototype.zh=function(d){return this.Y.length!=0};
X.Lz.prototype.cN=function(){return this.Y.length!=0};X.Lz.prototype.Ea=function(d){return this.UQ.indexOf(d)!=-1};
X.Lz.prototype.iZ=function(d,W,c,y){this.UQ=[bm.y8,bm.Vy];var B=this.$S(this.Ks,d);if(this.Y.length!=0&&(aL.Bg(B,this.Y[0])<X.ap(d,y)||Date.now()-this.g2<300)){this.Ly(d,this.Y[0]);
this.finish(d,W,c);this.clear(d);return}this.g2=Date.now();if(this.Y.length!=0)B=this.SD(B,d);else{var r=d.m,x=d.i,Z=v.R(r*x),i=d.Li(),k=r*x*4;
for(var S=0;S<k;S+=4)Z[S>>>2]=~~(.5+v.DB(i[S],i[S+1],i[S+2])*(i[S+3]*(1/255)));this.lS=v.KF.amr(Z,r,x);
this.VI=new Uint16Array(Z.length)}this.Ly(d,B);this.La=c.S(bm.Oi)?1:0;this.me(d)};X.Lz.prototype.Ly=function(d,W){var c=this.Y;
this.VW[c.length]=this.RV.length;if(c.length!=0){v.KF.$r(this.I0,W.y*d.m+W.x);var y=this.xD(d,W);y.reverse();
var B=X.Lz.aC3(d,y);this.RV=this.RV.concat(B)}c.push(W);this.ahm(d)};X.Lz.prototype.ahm=function(d){var W=this.Y[this.Y.length-1],c=W.y*d.m+W.x;
this.I0=v.KF.alQ(this.lS.gP,this.lS.vh,c);this.VI.fill(0)};X.Lz.prototype.$S=function(d,W){return new aL(Math.floor(Math.max(0,Math.min(W.m-1,d.x))),Math.floor(Math.max(0,Math.min(W.i-1,d.y))))};
X.Lz.prototype.clear=function(d){this.RV=[];this.Y=[];this.VW=[];this.lS=null;this.I0=null;this.VI=null;
if(d!=null){d.N.fZ=null;d.N.dk=[];d.ps=!0}this.UQ=[]};X.Lz.prototype.S0=function(d,W,c,y){var B=this.Y,r=B.length;
if(r==0)return;var x=this.SD(this.$S(this.bl,d),d),Z=this.xD(d,x);for(var S=0;S<Z.length;S++){var i=Z[S],k=new aL(i%d.m,Math.floor(i/d.m));
if(this.VI[i]>30&&aL.Bg(k,B[r-1])>20){this.Ly(d,k);return}this.VI[i]++}if(this.La==1&&y.HW)this.Ly(d,x);
this.me(d)};X.Lz.prototype.me=function(d){var W=this.Y;if(W.length!=0){var c=this.SD(this.$S(this.bl,d),d),y=this.xD(d,c);
y.reverse();var B=X.Lz.aC3(d,y),r=this.RV.concat(B),x=d.N.fZ={j:r,r:["M"]};for(var S=2;S<r.length;S+=2)x.r.push("L")}d.N.dk=[];
for(var S=0;S<W.length;S++)d.N.dk.push(W[S].x+.5,W[S].y+.5);d.ps=!0};X.Lz.prototype.NC=function(d,W,c,y){};
X.Lz.prototype.z9=function(d,W,c,y){if(this.Y.length==0)return;if(y.S(bm.y8)||y.S(bm.Vy)){this.Y.pop();
this.RV=this.RV.slice(0,this.VW[this.Y.length]);this.VW.pop();if(this.Y.length==0)this.clear(d);else this.ahm(d);
this.me(d)}if(y.S(bm.Qy)){var B=this.$S(this.bl,d);this.Ly(d,B);this.finish(d,c,y);this.clear(d)}if(y.S(bm.Rh)){this.clear(d)}};
X.Lz.prototype.getSelection=function(d,W,c,y){return X.XC.zq(this.RV,null,this.bv.anta)};X.Lz.prototype.xD=function(d,W){var c=this.Y[this.Y.length-1],y=c.y*d.m+c.x,B=W.y*d.m+W.x;
if(this.La==1)return[B,y];var r=[B];while(B!=y){B=this.I0.Cw[B];r.push(B);if(r.length>5e3){console.log(r);
throw"e"}}return r};X.Lz.aC3=function(d,W){var c=[],y=d.m;for(var S=0;S<W.length;S++){var B=W[S];c.push(B%y+.5,Math.floor(B/y)+.5)}return c};
X.Lz.prototype.SD=function(d,W){var c=W.m,y=W.i,B=d.clone(),x=3;v.KF.$r(this.I0,d.y*c+d.x);var r=this.I0.At[d.y*c+d.x];
for(var Z=-x+1;Z<x;Z++)for(var i=-x+1;i<x;i++){var k=d.x+i,H=d.y+Z;if(k<0||k>=c||H<0||H>=y)continue;
v.KF.$r(this.I0,H*c+k);if(this.I0.At[H*c+k]<r)B.sq(k,H)}return B};X.Jt=function(){X.dA.call(this,[10,36],X.$T,"tools/ruler");
this.sF=null;this.Dk=null;this.WZ=null;this.Re=null;this._w=null};X.Jt.prototype=new X.dA;X.Jt.prototype.zh=function(d){return d.HW};
X.Jt.prototype.enable=function(d,W,c,y){X.dA.prototype.enable.call(this,d,W,y,c);if(d)this.cd(d)};X.Jt.prototype.disable=function(d,W,c,y){if(d)this.LJ(d)};
X.Jt.prototype.fY=function(d,W,c,y,B){this.sF=this.WZ=null;this.cd(c)};X.Jt.prototype.RQ=function(d,W,c,y,B){var r=X.ap(d,B),x=d.Q.q9(B.x,B.y);
x.x=Math.round(x.x);x.y=Math.round(x.y);var Z=this.sF;this.Dk=Z?Z.slice(0):null;var i=Z&&aL.Bg(x,Z[0])<r,k=Z&&aL.Bg(x,Z[1])<r,H=Z&&Z[2]&&aL.Bg(x,Z[2])<r;
if(i||k||H){if(y.S(bm.Oi)&&Z.length==2){if(k){var V=Z[0];Z[0]=Z[1];Z[1]=V}Z[2]=Z[0].clone();this.WZ=[2]}else this.WZ=[i?0:k?1:2]}else if(Z&&X.Jt.avZ(Z[0],Z[1],x)<r&&Math.min(Z[0].x,Z[1].x)-5<=x.x&&x.x<=Math.max(Z[0].x,Z[1].x)+5&&Math.min(Z[0].y,Z[1].y)-5<=x.y&&x.y<=Math.max(Z[0].y,Z[1].y)+5){this.WZ=[];
this._w=[];for(var S=0;S<Z.length;S++){this.WZ.push(S);this._w.push(Z[S].clone())}this.Re=x}else{this.sF=[x.clone(),x.clone()];
this.WZ=[1]}};X.Jt.prototype.f9=function(d,W,c,y,B){if(this.WZ==null)return;var r=this.sF,x=this.WZ,Z=d.Q.q9(B.x,B.y);
Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);if(x.length>1){var i=Z.x-this.Re.x,k=Z.y-this.Re.y;for(var S=0;
S<r.length;S++){r[S]=this._w[S].clone();r[S].offset(i,k)}}else{r[x[0]].sq(Z.x,Z.y);if(y.S(bm.Uo)){r[x[0]]=X.Bw.Lt(r[1-x[0]],r[x[0]])}}this.cd(d);
this.Th(W,b.E.V,{d:b.H.TE,f:this.id,arp:r[0],sr:r[1],fU:r[2],tU:d.tU,aeY:d.m});d.Q.iX=v.A.xG([r[0].x,r[0].y,r[1].x,r[1].y]);
console.log(d.Q.iX)};X.Jt.prototype.AZ=function(d,W,c,y,B,r){this.WZ=null;if(r){this.sF=this.Dk.slice(0);
this.cd(d)}};X.Jt.prototype.Th=function(d,W,c){var y=new bR(W,!0);y.data=c;d.T(y)};X.Jt.prototype.cd=function(d){var W=this.sF;
if(W==null)this.LJ(d);else{var c=[W[1].x,W[1].y,W[0].x,W[0].y],y=["M","L"];if(W.length>2){c.push(W[2].x,W[2].y);
y.push("L")}d.N.fZ={r:y,j:c};d.N.dk=c}d.ps=!0};X.Jt.prototype.LJ=function(d){d.N.fZ=null;d.N.dk=[]};
X.Jt.avZ=function(d,W,c){var y=W.x-d.x,B=W.y-d.y,r=Math.abs(B*c.x-y*c.y+W.x*d.y-W.y*d.x),x=Math.sqrt(y*y+B*B);
return x==0?0:r/x};X.qQ=function(){X.UZ.call(this,[10,19],X.il,"tools/sharpen");this.SP="copy"};X.qQ.prototype=new X.UZ;
X.qQ.prototype.RQ=function(d,W,c,y,B){var r=this.bv.pdetail?b8.t2:b8.il;if(y.S(bm.Oi))r=b8.j0;this.zj(d,c,y,B,this.bv.strn,r);
if(this.L3==null)return;this.Ch(d)};X.qQ.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);if(this.MX)this.zn(d,c,B);
if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};X.i1=function(){X.UZ.call(this,[10,24],X.Il,"tools/shbrush");
this.SP="draw";this.bv.opacity=.5};X.i1.prototype=new X.UZ;X.i1.prototype.RQ=function(d,W,c,y,B){this.zj(d,c,y,B,1);
if(this.L3==null)return;this.T7(d);this.Ch(d)};X.i1.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);
if(this.MX)this.zn(d,c,B);if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};X.i1.prototype.AZ=function(d,W,c,y,B){if(this.L3==null)return;
this.SO(d,"sheal",this.L3.JN(),this.L3.yo(),this.L3.V5(),null);this.W(d,this.L3.V5());X.UZ.prototype.AZ.call(this,d,W,c,y,B)};
X.Jb=function(){X.UZ.call(this,[10,20],X.u6,"tools/smudge");this.SP="copy"};X.Jb.prototype=new X.UZ;
X.Jb.prototype.RQ=function(d,W,c,y,B){var r=this.bv.brush.toolOptions;this.zj(d,c,y,B,this.bv.strn,b8.u6);
if(this.L3==null)return;this.Ch(d)};X.Jb.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);if(this.MX)this.zn(d,c,B);
if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};X.HG=function(){X.UZ.call(this,[10,23],X.UT,"tools/sponge");
this.SP="sponge"};X.HG.prototype=new X.UZ;X.HG.prototype.RQ=function(d,W,c,y,B){this.zj(d,c,y,B,this.bv.flow);
if(this.L3==null)return;this.Ch(d)};X.HG.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);if(this.MX)this.zn(d,c,B);
if(this.L3==null)return;if(!B.HW)return;this.fG(d,c,y,B);this.Ch(d)};X.UK=function(){X.dA.call(this,[10,17],X.AO,"tools/zoom");
this.QE=!1;this.js=!0;this.DM=!1;this.fH=0;this.oS=null;this.nk=null;this.k0=0;this.SX=null;this.aAJ=0;
this.nG=new dK([{name:[8,0],aN:"Ctrl + +"},{name:[8,1],aN:"Ctrl + -",Zq:!0},{name:[20,3],aN:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],aN:"Ctrl + 1"}],[{K:b.E.v,f:X.AO,C:{d:"zoom",js:!0}},{K:b.E.v,f:X.AO,C:{d:"zoom",js:!1}},{K:b.E.v,f:X.AO,C:{d:"adapt",b:"fitscr"}},{K:b.E.v,f:X.AO,C:{d:"adapt",b:"pixel"}}])};
X.UK.prototype=new X.dA;X.UK.prototype.AQ=function(d,W,c,y,B){var r=this.nG;r._();r.parent=W;r.update(d,c);
var x=new bR(b.E.V,!0);x.data={d:b.H.oV,dD:r,x:B.$p+2,y:B.$U+1};W.T(x)};X.UK.prototype.enable=function(d,W,c,y){this.Sr(W,y);
if(d&&Date.now()-this.fH<300)this.fY({d:"adapt",b:"pixel"},W,d,y,c);this.fH=Date.now()};X.UK.prototype.RQ=function(d,W,c,y,B){this.nk=new aL(B.x,B.y);
this.k0=d.Q.O;this.SX=d.Q.z.clone()};X.UK.prototype.f9=function(d,W,c,y,B){if(this.nk==null)return;var r=Math.exp(Math.log(this.k0)+(B.x-this.nk.x)/64);
r=Math.max(.02,Math.min(X.UK.bs[0],r));d.Q.O=this.k0;d.Q.z=this.SX.clone();this.fY({d:"zoom",O:r,cz:this.nk,DM:this.DM},W,d,y,c)};
X.UK.prototype.AZ=function(d,W,c,y,B){if(aL.Bg(this.nk,B)<4){var r=this.ard(y);this.fY({d:"zoom",js:r,cz:B,DM:this.DM},W,d,y,c)}this.nk=null};
X.UK.bs=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
X.UK.cn=function(d,W,c,y){var B=1;while(d*B*1/2>c||W*B*1/2>y)B*=1/2;if(d*B*2/3>c||W*B*2/3>y)B*=1/2;else if(d*B>c||W*B>y)B*=2/3;
return B};X.UK.amh=function(d,W){var c=X.UK.ar2(d);if(W&&c==0)return d;if(!W&&c==X.UK.bs.length-1)return d;
return X.UK.bs[W?c-1:c+1]};X.UK.ar2=function(d){var W=0;while(X.UK.bs[W]>d)W++;return W};X.UK.PH=function(d,W,c,y){var B=d.Ig;
if(y==0||y==null){y=X.UK.amh(d.O,c);if(y==d.O)return}var r=d.q9(W.x,W.y);r.x=Math.max(0,Math.min(B.m,r.x));
r.y=Math.max(0,Math.min(B.i,r.y));if(!1){}else{var x=d.Yo(),Z=d.O/y;x.translate(-r.x,-r.y);x.scale(Z,Z);
x.translate(r.x,r.y);d.ajd(x)}};X.UK.prototype.fY=function(d,W,c,y,B){if(d.d=="pzoom"){if(typeof d.b=="string")return;
d={d:"zoom",O:d.b/100}}var r=0,x=!1,Z=null;if(d.d=="adapt"){var i=0;if(d.b=="pixel")i=1;if(d.b=="fitscr"){var i=0,k=c.Q.nW.m,H=c.Q.nW.i,V=new a8(0,0,c.m,c.i),g=v.A.z$(V).j,N=new dT;
N.rotate(c.Q.Pk);v.A.e(g,N,g);var C=v.A.c7(g),w=B.dZ?v.T6.WV+4:8;i=Math.min((k-w*2)/C.m,(H-w*2)/C.i);
c.Q.z.sq(0,0)}Z=new aL(Math.round(c.Q.nW.m/2),Math.round(c.Q.nW.i/2));r=i;X.UK.PH(c.Q,Z,x,r);c.Pm=!0}if(d.d.startsWith("multi")){function Y(h){var j=h[0].x-h[1].x,T=h[0].y-h[1].y;
return Math.sqrt(j*j+T*T)}function U(h){return new aL((h[0].x+h[1].x)/2,(h[0].y+h[1].y)/2)}function e(h){var j=h[0].x-h[1].x,T=h[0].y-h[1].y;
return Math.atan2(T,j)}var O=d.BJ,l=U(O);if(d.d=="multidown"){this.oS=[O,c.Q.O,c.Q.q9(l.x,l.y),c.Q.Pk]}else{var I=X.UK.bs,a=.15;
r=this.oS[1]*Y(O)/Y(this.oS[0]);r=Math.max(I[I.length-1],Math.min(I[0],r));if(r!=c.Q.O)X.UK.PH(c.Q,l,x,r);
var s=this.oS[2],z=c.Q.Yd(s.x,s.y),R=c.Q.z;R.x=Math.round(R.x+l.x-z.x);R.y=Math.round(R.y+l.y-z.y);var t=this.oS[3]+(e(O)-e(this.oS[0]));
t=t%(2*Math.PI);while(t<0)t+=2*Math.PI;if(t<a||t>2*Math.PI-a)t=0;c.Q.Pk=t;c.Pm=!0}}if(d.d=="scroll"){Z=d.cz;
var I=X.UK.bs,J=d.ih.y,F=1+Math.abs(J)*8e-4*(d.aj7?10:1);if(J>0)F=1/F;r=c.Q.O*F;X.UK.PH(c.Q,Z,x,Math.min(I[0],Math.max(I[I.length-1],r)));
c.Pm=!0}if(d.d=="zoom"){var h=d.DM?W.Tx:[c];for(var S=0;S<h.length;S++){var m=h[S],D=m.Q;Z=d.cz?d.cz:new aL(Math.round(D.nW.m/2),Math.round(D.nW.i/2));
if(d.O!=null)r=d.O;else x=d.js;X.UK.PH(D,Z,x,r);m.Pm=!0}}if(d.d=="mskView"){var _=c.B[c.g[0]];if(_.MM<=0){_.MM=1;
c.Dy=!0}var n=_.MM==3?_.WI(c).t:_.Q7();if(d.b==0){c.Q.M=[1,1,1];n.xV=!1}if(d.b==1){c.Q.M=[1,1,1];n.xV=!0}if(d.b==2){c.Q.M=[0,0,0];
n.xV=!0}for(var S=0;S<c.iv.length;S++)c.iv[S].xV=!1;c.tv=[];c.ps=!0}};X.UK.prototype.z9=function(d,W,c,y){if(this.QE!=y.S(bm.Oi)){this.QE=y.S(bm.Oi);
var B={d:b.H.TE,f:this.id,QE:this.QE},r=new bR(b.E.V,!0);r.data=B;W.T(r);this.Sr(W,y)}};X.UK.prototype.Sr=function(d,W){var c=new bR(b.E.V,!0),y=this.ard(W);
c.data={d:b.H.iV,QM:y?"zoom-in":"zoom-out"};d.T(c)};X.UK.prototype.AE=function(d,W,c,y){this.js=d.js;
this.DM=d.DM;this.Sr(W,y)};X.UK.prototype.ard=function(d){var W=this.js;if(d.S(bm.CD)&&d.S(bm.Z7))W=!0;
if(this.QE)W=!W;return W};X.UK.akp=function(d,W){if(d.S(bm.CB)||d.S(bm.a9E)){W.f=X.AO;W.data={d:"zoom",js:!0}}if(d.S(bm.d7)){W.f=X.AO;
W.data={d:"zoom",js:!1}}if(d.S(bm.OL)){W.f=X.AO;W.data={d:"adapt",b:"fitscr"}}if(d.S(bm.qC)){W.f=X.AO;
W.data={d:"adapt",b:"pixel"}}};X.C_=function(d,W,c){X.dA.call(this,d,W,c);this.Ue=null;this.kO=null;
this.i7=null;this.aDU=0};X.C_.prototype=new X.dA;X.C_.fX=function(d,W){var c={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},y=d==null?{classID:"null",null:c,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:c,Usng:{t:"type",v:{classID:d}},__name:"Stroke"};
if(W)y.Prs={t:"bool",v:!0};return{cx:d==null?"fill":"stroke",i9:y}};X.C_.prototype.enable=function(d,W,c,y,B){this.kO=c;
var r=new bR(b.E.V,!0);r.data={d:b.H.iV,QM:"default"};W.T(r)};X.C_.prototype.AQ=function(d,W,c,y,B){var r=d.Tz(),x=r[0],Z=r[1];
if(Z.length==0)return;var i=x[Z[0]],k=i.add.vmsk,H=d.Q.q9(B.x,B.y),V=4*X.QX()/d.Q.O,g=new a8(H.x-V,H.y-V,V*2,V*2),N=v.o.rX(k.Y,g)[0];
if(N.length!=0){k.Hc=N;d.ps=!0}var C=v.o.cf(k.Y,H).Wr;if(C!=-1){k.g=[C];d.ps=!0}var w=new bR(b.E.V,!0);
w.data={d:b.H.TE,f:this.id,Sf:B,J8:d,qU:c};W.T(w)};X.C_.prototype.anw=function(d,W){var c=new bR(b.E.V,!0);
c.data={d:b.H.e7,au:kG.gZ};if(!W.hA)d.T(c);c.data={d:b.H.e7,au:kG.uY};if(!W.UA.GB)d.T(c)};X.C_.prototype.VO=function(d,W,c,y,B){if(c._9!=this.id&&B==null)return;
if(d.g.length==0)return;var r=d.B[d.g[0]],x=r.add.vmsk,Z=r.add.vstk,i=r.add.vstl;if(be==0){var k=bV.xI(r.add);
this.Ue=d;this.i7=W;if(r.sI()&&x!=null&&(JSON.stringify(Z)!=JSON.stringify(c.Mg)||JSON.stringify(k)!=JSON.stringify(c.JW))){this.aDU=Date.now();
var H=new bR(b.E.V,!0);H.data={d:b.H.e7,au:kG.nL,b:k};W.T(H);H.data={d:b.H.e7,au:kG.iE,b:Z};W.T(H)}}else if(i){var V=JSON.stringify(i);
if(V!=JSON.stringify(c.az)){var H=new bR(b.E.V,!0);H.data={d:b.H.e7,au:kG.V$,b:JSON.parse(V)};W.T(H)}}};
X.C_.prototype.lz=function(d,W){if(this.Ue==null)return;if(W==kG.yS||W==kG.nL||W==kG.iE){if(Date.now()-this.aDU<50)return;
var c=W==kG.nL,y=this.Ue,B=c?d.JW:d.Mg,r=[],x=y.g;for(var S=0;S<x.length;S++){var Z=x[S],i=y.B[Z];if(!i.sI()||i.add.vmsk==null)continue;
r.push(Z)}var k=new bR(b.E.v,!0);k.f=X.jq;k.data={d:e8.Ky,TZ:r,aG:c,b:B};if(r.length!=0)this.i7.T(k)}};
X.C_.prototype.arh=function(d){if(typeof d=="number"){var W=new bR(b.E.HQ,!0);W.data=X.Q6.yX(0);W.data.i9.Usng.v.Type.v.Clr.v=v.L.FV({Z:d>>>16&255,G:d>>>8&255,J:d>>>0&255});
this.i7.T(W)}};X.C_.prototype.fY=function(d,W,c,y,B){this.i7=W;if(d.d=="newfill"){if(d.zT==0){var r=new bR(b.E.V,!0);
r.data={d:b.H.vB,vD:"colorpicker",am:B.R5,mI:this.arh.bind(this)};W.T(r)}}else if(d.d=="smplp"){if(c==null)return;
var x=c.Tz(),Z=x[0],i=x[1];if(i.length==0){alert("No paths selected");return}var H=Z[i[0]];if(H.add.vmsk.g.length<=0){alert("No paths selected");
return}if(this.JZ==null){this.JZ=H.add.vmsk.clone();this.$y=JSON.stringify(H.add.vogk);this.DW=H;this.Ue=c}var r=new bR(b.E.V,!0);
r.data={d:b.H.vB,vD:"simplifypath",qp:100,Ws:this.aex.bind(this)};W.T(r)}else if(d.d=="pathedit"){var V=d.jK,g="",N=c.GB.slice(0),C=c.DU.slice(0),w=c.GB.slice(0),Y=c.DU.slice(0);
if(V=="rnm"){var U=-1-d.Wr,e=N[U],O=eb.gy(d.name,e.add);if(U!=0)w[U]=O;else{Y=[w.length];w.push(O);w[0]=eb.gy("Work Path")}g="Rename"}else if(V=="new"){var O=eb.gy("Path "+N.length);
if(d.arz){var x=c.Tz(),Z=x[0],i=x[1],l=Z[i[0]];O.add.vmsk=l.add.vmsk.clone();O.add.vogk=JSON.parse(JSON.stringify(l.add.vogk));
if(l.Wr==-1){var I=w[Y[0]]=eb.gy("Path "+N.length);I.name=l.name;I.Wr=l.Wr}}w.push(O);Y=[w.length-1];
g="New"}else if(V=="del"){if(Y.length==0)return;Y.sort(function(m,q){return m-q});if(Y[0]==0){w[0]=eb.gy(N[0].name);
Y=Y.slice(1)}var s=0;while(Y.length!=0){w.splice(Y[0]-s,1);Y=Y.slice(1);s++}g="Delete"}else if(V=="fromsel"){var H=w[0]=eb.gy("Work Path");
Y=[0];if(c.u==null)return;var z=c.u.channel.slice(0);for(var S=0;S<z.length;S++)z[S]=z[S]>128?2:1;var R=c.u.rect.clone();
R.Lx(1,1);var t=v.R(R.P());v.ZW(z,c.u.rect,t,R);var a=c_.AJ(t,R.m,R.i,Math.round(R.P()*5e-4)),Z=c_.Tz(a),J=new dT(1,0,0,1,-1+c.u.rect.x,-1+c.u.rect.y);
for(var S=0;S<Z.length;S++)v.A.e(Z[S].path.j,J,Z[S].path.j);for(var S=0;S<Z.length;S++){var F=Z[S];if(F.color==1&&F.parent==-1)continue;
var h=v.A.fI(Z[S].path,!1);h[2].p5=0;H.add.vmsk.Y=H.add.vmsk.Y.concat(h.slice(2))}H.add.vogk=e8.h0(H.add.vmsk.Y);
g="Selection to"}var m=new aw(g+" Path",this);m.data={Dk:N,ti:C,abp:w,Z6:Y};if(V=="fromsel"){m.data.FK=c.u;
m.data.EC=null}c.hZ(m);this.To(m.data,c)}else{var D=d.o1,x=c.Tz(d.d=="append"||d.d=="fromAction"),Z=x[0],i=x[1],H=Z[i[0]],_=H.add.vmsk,n=H.add.vogk,j=_.clone(),T=_.clone(),L=JSON.stringify(n);
if(d.d=="fromAction"){var p=d.RZ,E=p.cx,G=p.i9,A=G.T;if(E=="set"){if(A){n.push(v.dr.hi(A));T.Y.push({type:0,p5:1,length:0});
v.dr.u_(n,T);D=[12,76,0]}else throw G}else if(E=="draw"){n=[v.dr.hi(G.Shp)];T.Y.push({type:0,p5:1,length:0});
v.dr.u_(n,T);X.C_.aaK(T.Y,G.AntA.v,B.R5,W);return}else throw E}else if(d.d=="remove"){if(d.Js&&T.Hc.length!=0){T.Y=v.o.a3m(T.Y,T.Hc,n,d.avK);
var u=v.o.mQ(T.Y);for(var S=0;S<T.g.length;S++)if(T.g[S]>=u){T.g.splice(S,1);S--}T.Hc=[];D="Delete Anchors"}else{if(T.g.length==0)return;
var s=0;for(var S=0;S<T.g.length;S++){n.splice(T.g[S]+s,1);s--}T.Y=v.o.apf(T.Y,T.g);T.g=[];T.Hc=[];if(D==null)D="Delete Paths"}}if(d.d=="append"){X.C_.tS(d.au5,T,n)}this.Fi(c,H.Wr,T,n);
this.dp(c,D,H.Wr,j,T.clone(),null,L,JSON.stringify(n))}};X.C_.aaK=function(d,W,c,y){var B=new e8.vw;
B.Y=B.Y.concat(d.slice(2));var r=B.Q7();if(!W)v.round(r.channel);var x=v.R(r.rect.P()*4);v.ft(x,(c&255)<<16|(c>>8&255)<<8|(c>>16&255)<<0);
v.nP(r.channel,x,3);var Z=new bR(b.E.v,!0);Z.f=X.Bo;Z.data={d:"draw",qt:{buffer:x,rect:r.rect.clone()},o1:this.name};
y.T(Z)};X.C_.iG=function(d,W){var c=v.o.a9k(d.Y,d.g),y=[];for(var S=0;S<d.g.length;S++)y.push(JSON.parse(JSON.stringify(W[d.g[S]])));
return[c,y]};X.C_.tS=function(d,W,c){var y=v.o.mQ(W.Y),B=v.o.mQ(d[0]);W.Y=W.Y.concat(d[0].slice(2));
W.g=[];for(var S=0;S<B;S++)W.g.push(y+S);for(var S=0;S<B;S++)c.push(JSON.parse(JSON.stringify(d[1][S])))};
X.C_.prototype.Ea=function(d,W){if(W==null)return!1;var c=W.Tz(),y=c[0],B=c[1];if(B.length==0)return!1;
var r=y[B[0]],x=r.add.vmsk;if(x&&x.g.length+x.Hc.length!=0)return[bm.y8,bm.Vy].indexOf(d)!=-1};X.C_.prototype.z9=function(d,W,c,y){if(d==null)return;
var B=d.Tz(),r=B[0],x=B[1];if(x.length==0)return;var Z=r[x[0]],i=Z.add.vmsk;if(y.S(bm.Rh)||y.S(bm.Qy)||this.id==X.gL&&y.S(bm._r)&&i.Hc.length==1){i.Hc=[];
d.ps=!0}if(i.g.length!=0){var k=y.nv(d?d.Q.Pk:0);if(k.x!=0||k.y!=0){var H=i.clone(),V=i.clone(),g=new dT(1,0,0,1,k.x,k.y),N=Z.add.vogk,C=JSON.stringify(N);
if(y.S(bm.Oi)){var w=X.C_.iG(V,N);X.C_.tS(w,V,N)}v.o.hn(V.Y,g,V.g);v.dr.e(N,v.D.MK(g),V.g);this.Fi(d,Z.Wr,V,N);
this.dp(d,"Move Paths",Z.Wr,H,V.clone(),!0,C,JSON.stringify(N))}if(y.S(bm.y8)||y.S(bm.Vy))this.fY({d:"remove",Js:this.id==X.gL},W,d,y,c)}};
X.C_.prototype.dp=function(d,W,c,y,B,r,x,Z){var i=new aw(W,this);i.data={YA:c,m5:y,hH:B,atj:r,aaw:x,py:Z};
d.hZ(i)};X.C_.prototype.To=function(d,W){if(d.YA!=null)this.Fi(W,d.YA,d.hH.clone(),JSON.parse(d.py));
else{W.GB=d.abp.slice(0);W.DU=d.Z6.slice(0);W.ps=W.Dy=!0}if(d.FK||d.EC){W.u=d.EC;W.GX=!0}};X.C_.prototype.lL=function(d,W){if(d.YA!=null)this.Fi(W,d.YA,d.m5.clone(),JSON.parse(d.aaw));
else{W.GB=d.Dk.slice(0);W.DU=d.ti.slice(0);W.ps=W.Dy=!0}if(d.FK||d.EC){W.u=d.FK;W.GX=!0}};X.C_.prototype.Fi=function(d,W,c,y){var B=W<0?d.GB[-1-W]:W<1e6?d.B[W]:d.B[W-1e6].add.TySh,r=B.add.vmsk;
r.channel=null;r.Zv=!0;if(r.Y2){r.Y2.channel=null;r.Y2.Zv=!0}B.add.vmsk=c;B.add.vogk=y;if(1e6<=W){it.Dz(B);
var x=d.B[W-1e6],Z=B,i=this.kO;bQ.pp(x,i.Sm);d.W()}else if(0<=W){c.Zv=!0;B.Ys(d);d.W()}d.ps=d.Dy=!0};
X.Q6=function(d,W,c,y){X.C_.call(this,d,W,c);this.bv={shape:kt.qw(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{VQ:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.aAS=y;this.bA=null;this.Xb=null;this.Rw=null;this.PV=new f1};X.Q6.prototype=new X.C_;X.Q6.prototype.zh=function(d){return d.HW&&this.id!=X.V3};
X.Q6.prototype.enable=function(d,W,c,y,B){this.kO=c;var r=new bR(b.E.V,!0);r.data={d:b.H.iV,QM:"crosshair"};
W.T(r)};X.Q6.prototype.z9=function(d,W,c,y){X.C_.prototype.z9.call(this,d,W,c,y);this.PV.z9(y);this.Hs(W,c)};
X.Q6.prototype.Hs=function(d,W){var c=new bR(b.E.V,!0);c.data={d:b.H.TE,f:this.id,d0:this.yt(W)};d.T(c)};
X.Q6.prototype.yt=function(d){var W=this.PV.P4(0),c=this.PV.J$(0),y=X.XC.ZE(this.bv.binop,W,c);if(d.Qm==1&&y==0)y=1;
return y};X.Q6.prototype.Y0=function(d,W,c,y){};X.Q6.prototype.RQ=function(d,W,c,y,B){var r=c.Qm;if(r!=2)this.anw(W,c);
if(r==2&&!d.YH())return;var x=d.Q.q9(B.x,B.y);x=X.rL.fh(d,x,c);this.Rw=[x.x,x.y];this.bA=x;this.Xb=new aL(0,0);
this.PV.RQ(y)};X.Q6.prototype.atO=function(d,W,c,y){var B=[this.bA.clone(),W.clone()];c=this.PV.P4(1)||c.S(bm.Uo)||this.PV.J$(1)?c:null;
if(this.aAS)B=X.Q6.i8(B[0],B[1],c,!0,this.bv.cstr);if(d)d.Q.iX=new a8(B[0].x,B[0].y,B[1].x-B[0].x,B[1].y-B[0].y);
return this.Y0(B[0],B[1],this.PV.P4(1)&&c.S(bm.Uo),this.Rw,d.Q,y)};X.Q6.prototype.azK=function(d,W,c){var y=d.Q.q9(W.x,W.y);
if(this.id==X.V3)return y;var B=this.bv.cstr;if(B.VQ==2){var r=new a8(y.x-B.x,y.y-B.y,B.x,B.y),x=X.rL.gq(d,r,c);
y.x+=x[0];y.y+=x[1];X.rL.JA(d,r,x)}else y=X.rL.fh(d,y,c);return y};X.Q6.prototype.f9=function(d,W,c,y,B){if(this.bA==null)return;
var r=this.Rw,x=r.length,Z=B?this.azK(d,B,c):new aL(r[x-2],r[x-1]);if(y.S(bm.CD))this.bA=Z.Sa(this.Xb);
else this.Xb=Z.Sa(this.bA);r.push(Z.x,Z.y);if(this.bv.shape==null)this.bv.shape=c.zc[0];var i=this.atO(d,Z,y,!0)[0],k=v.A.ly(i);
d.N.fZ=k;if(this.id!=X.V3&&this.id!=X.xO&&this.id!=X.SJ)X.dA.sX(B,d.Q.iX,d,c);d.ps=!0;this.PV.f9()};
X.Q6.prototype.aap=function(d,W,c,y){var B=d[4].clone();if(y){B.x-=W/2;B.y-=c/2}if(this.id==X.xO){W/=2;
c/=2;B.x+=W;B.y+=c;c=-c;W=0}var r=this.Y0(B,new aL(B.x+W,B.y+c),!1,this.Rw);this.agi(d[0],d[1],d[2],r)};
X.Q6.prototype.agi=function(d,W,c,y){var B=c.Qm,r=new bR(b.E.HQ,!0);if(B==0)r.data=X.Q6.agP(y[1],c);
else if(B==1){var x={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:y[1]};
r.data={cx:"set",i9:x}}else{var x={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:y[1]};r.data={cx:"draw",i9:x}}W.T(r);
if(y[1].v.classID=="customShape"&&y[1].v.Nm.v.startsWith("--")){var Z=d.Tz(),i=Z[0],H=Z[1],V=i[H.pop()],g=V.add.vmsk,N=V.add.vogk;
v.dr.aC9(N);var C=g.clone();C.Y=y[0];this.Fi(d,V.Wr,C,N)}};X.Q6.prototype.AZ=function(d,W,c,y,B,r){if(this.bA==null)return;
var x=this.azK(d,B,c),Z=this.yt(c),i=c.Qm,k=this.Rw,H=k.length;if(this.id==X.V3&&H<=4){}else if(H<=4){x.x=Math.round(x.x);
x.y=Math.round(x.y);var V=new bR(b.E.V);V.data={d:b.H.vB,vD:"createshape",a3F:this.aap.bind(this),azZ:this.name,abx:[d,W,c,y,x]};
if(!r)W.T(V)}else if(H!=2){var g=this.atO(d,x,y),N=g[0],C=d.Tz(!0),w=C[0],Y=C[1],U=Y.length-1;if(i==1&&N.length>2||i==0&&Z!=0&&U!=-1&&w[Y[U]].Wr>=0){N[2].p5=[1,2,3,0][Z-1];
var e=w[Y.pop()],O=e.add.vmsk,l=e.add.vogk,I=O.clone(),s=O.clone(),z=JSON.stringify(l);s.Y=s.Y.concat(N.slice(2));
s.g=[v.o.mQ(s.Y)-1];var R=v.dr.hi(g[1]);l.push(R?R:v.dr.bL());this.Fi(d,e.Wr,s,l);this.dp(d,this.name,e.Wr,I,s,null,z,JSON.stringify(l))}else if(i==0){this.agi(d,W,c,g)}else if(i==2){X.C_.aaK(N,this.bv.anta,c.R5,W)}}this.bA=null;
d.N.fZ=null;d.N.AR=null;d.N.Te=[];d.Q.iX=null;d.ps=!0;this.PV.AZ();this.Hs(W,c)};X.Q6.prototype.AE=function(d,W,c,y,B){for(var c in d)this.bv[c]=d[c]};
X.Q6.i8=function(d,W,c,y,B){var r=d.x,x=d.y,Z=W.x,i=W.y;if(B&&B.VQ==2){if(y){Z=Math.round(Z);i=Math.round(i)}r=Z-B.x;
x=i-B.y}else{var k=0;if(B&&B.VQ==1)k=B.y/B.x;else if(c&&c.S(bm.Uo))k=1;if(k!=0){if(y){if(r<Z)r=Math.floor(r);
else r=Math.ceil(r);if(x<i)x=Math.floor(x);else x=Math.ceil(x)}var H=Math.abs(Z-r),V=Math.abs(i-x),g=H;
if(V/H<k)g*=V/H/k;Z=Z>r?r+g:r-g;i=i>x?x+g*k:x-g*k}if(c&&c.S(bm.Oi)){r-=Z-r;x-=i-x}}var d=new aL(r,x),W=new aL(Z,i);
if(y)X.Q6.alm(d,W);return[d,W]};X.Q6.alm=function(d,W){if(d.x>W.x){var c=d.x;d.x=W.x;W.x=c}if(d.y>W.y){var c=d.y;
d.y=W.y;W.y=c}d.x=Math.floor(d.x);d.y=Math.floor(d.y);W.x=Math.ceil(W.x);W.y=Math.ceil(W.y)};X.Q6.ajk=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
X.Q6.yX=function(d,W){var c=X.Q6.ajk(),y=c.Usng.v.Type;if(W==null){y.v=JSON.parse(JSON.stringify(bV.vn[d]));
y.v.classID=["solidColorLayer","gradientLayer","patternLayer"][d]}else X.wu.GL(W,y.v,d);return{cx:"make",i9:c}};
X.Q6.agP=function(d,W){var c=W.JW,y=JSON.parse(JSON.stringify(W.Mg));y.fillEnabled.v=c.pF!=0;var B=X.Q6.yX(Math.max(0,c.pF-1),c.ue);
B.i9.Usng.v.Shp=d;B.i9.Usng.v.strokeStyle={t:"Objc",v:y};return B};X.gO=function(d){X.C_.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][d],[X.gL,X.a51,X.aAm,X.agz,X.alH][d],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][d]);
this.La=d;this.Ku=null;this.ve=null;this.JZ=null;this.$y=null;this.E7=0;this.kF=null;this.PF=!1;this.Sz=!1;
this.Bl=!1;this.W7=!1;this.DK=!1;this.o0=!1;this.fH=0};X.gO.prototype=new X.C_;X.gO.prototype.zh=function(d){return this.JZ!=null};
X.gO.prototype.z9=function(d,W,c,y){if(!y.S(bm.Oi))this.DK=!1;if(this.La==1&&(y.S(bm.y8)||y.S(bm.Vy))&&this.Ea(bm.y8,d)){this.fY({d:"remove",Js:!0},W,d,y,c);
return}if(this.ve)this.E0(d,W,c,y,this.ve);X.C_.prototype.z9.call(this,d,W,c,y)};X.gO.prototype.tt=function(d,W,c,y){var B=d.Q.q9(y.x,y.y,!0),r=X.rL.fh(d,B,W),x=this.La,Z=W.Qm,i=this.E7;
if(Z==2)Z=0;var k=d.Tz(Z==1),H=k[0],V=k[1],g=H[V.pop()],N=g?g.add.vmsk:null;if(Z==0&&i!=0&&g&&g.Wr>=0)Z=1;
var C=X.ap(d,y);if(x<2&&Z==0&&(N==null||N.Hc.length==0&&v.o.cf(N.Y,B,!0,C).Wr==-1))return["new",!0];
if(N==null)return[null];var w=N.Y,Y=v.o.rX(w,new a8(B.x-C,B.y-C,C*2,C*2),N.Hc,!0),U=v.o.cf(w,B,!0,C);
if(x<3&&U.Wr!=-1&&Y[0].length==0)return["add"];if((Y[3]!=0||U.Wr!=-1)&&(c.S(bm.Oi)||x==4))return["cnv"];
var e=Y[0].length==1&&w[Y[0][0]-1]&&(w[Y[0][0]-1].I!=null||w[Y[0][0]-1].type==0||w[Y[0][0]-1].length==1);
if(e)return[x==0||x==3?"del":x==2?"mva":"mov"];if(x<2){var O=v.o.ke(w,v.o.pR(w,N.Hc[0]));if(O!=-1&&aL.Bg(B,w[O+1].I)<C)return["fin"];
if(N.Hc.length!=1)return["new"];return["nrm"]}return[null]};X.gO.prototype.RQ=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y,!0),x=X.rL.fh(d,r,c),Z=this.La,i=c.Qm,k=this.E7;
if(i==2)i=0;var H=d.Tz(i==1),V=H[0],g=H[1],N=V[g.pop()],C=N?N.add.vmsk:null;if(i==0&&k!=0&&N&&N.Wr>=0)i=1;
var w=X.ap(d,B),Y=this.tt(d,c,y,B);if(Y[0]==null)return;if(Y[1]){var U=new bR(b.E.HQ,!0),e=v.dr.wC("customShape",[0,0,1,1],null,null,null,"--");
U.data=X.Q6.agP(e,c);W.T(U);this.o0=!0;H=d.Tz(!0);V=H[0];g=H[1];N=V[g.pop()];C=N.add.vmsk;C.Y=C.Y.slice(0,2)}var O=N.add.vogk,l=C.Y;
this.JZ=C.clone();this.$y=JSON.stringify(O);this.Ku=B;this.anw(W,c);var I=v.o.rX(l,new a8(r.x-w,r.y-w,w*2,w*2),C.Hc,!0),s=v.o.cf(l,r,!0,w);
if(Y[0]=="add"){var z=v.o.ke(l,s.Wr),R=l[z].length;while(R<=s.Wq){s.Wq-=R;z+=R+1}var t={type:4,sV:x.clone(),I:x.clone(),XM:x.clone()},a=z+2+s.Wq,J=z+1+(1+s.Wq)%R,F=l[a-1],h=l[J];
if(!F.I.zI(F.XM)||!h.sV.zI(h.I)){var m=v.A.aa6(F.I,F.XM,h.sV,h.I,s.pq);F.XM=m[0];t.sV=m[1];t.I=m[2];
t.XM=m[3];h.sV=m[4]}this.W7=!0;l.splice(a,0,t);l[z].length++;C.Hc=[a];if(Z==1){t.sV.x+=2;this.rH(C)}}else if(Y[0]=="cnv"){var D=-1;
if(I[0].length!=0){D=I[0][0];var _=l[D],n=_.type>=3?3:0,j=D==l.length-1;_.type=n+1;if(!(Z==4&&y.S(bm.Oi))&&!(Z==0&&j))_.sV=_.I.clone();
_.XM=_.I.clone();this.W7=!0;if(Z==0&&!j)this.DK=!0}else if(I[1].length+I[2].length!=0){var D=I[2][0];
if(D==null){D=I[1][0];this.Sz=!0}var _=l[D],n=_.type>=3?3:0;_.type=n+2}else D=v.o.ke(l,s.Wr)+s.Wq+1;
if(D!=-1)C.Hc=[D]}else if(Y[0]=="mva"){this.Bl=!0;C.Hc=[I[0][0]]}else if(Y[0]=="mov"){var D=I[0][0],T=l[D],L=T.I,p=Math.abs(v.A.BV(T.sV.x,T.sV.y,L.x,L.y,T.XM.x,T.XM.y));
if(p>.01){T.sV=L.clone();T.XM=L.clone()}if(Date.now()-this.fH<300){var E=T.sV.zI(L)&&T.XM.zI(L);if(E)T.XM.offset(2,2);
else{T.sV=L.clone();T.XM=L.clone()}this.fH=0}else this.fH=Date.now();C.Hc=[D];this.rH(C)}else if(Y[0]=="del"){var D=I[0][0],z=v.o.ke(l,v.o.pR(l,D)),e=l[z],G=z+e.length;
if(D!=G||e.type==0){l[z].length--;l.splice(D,1);G--;if(e.length==0){l.splice(z,1);G=-1}}if(G!=-1)C.Hc=[G];
else C.Hc=[]}else if(Y[0]=="fin"){var z=v.o.ke(l,v.o.pR(l,C.Hc[0]));l[z].type=0;C.Hc=[z+1];this.kF=x;
this.PF=!0;this.W7=!0}else{var A=0;if(Y[0]=="new"){C.g=[v.o.mQ(l)];l.push({type:3,length:1,p5:[1,2,3,0][Math.max(0,k-1)],H4:0,Be:0,dO:0});
A=l.length;O.push(v.dr.bL())}if(Y[0]=="nrm"){var z=v.o.ke(l,v.o.pR(l,C.Hc[0])),T=z+l[z].length;l[z].length++;
A=T+1;if(T==z+1&&l[z].length!=2)A=z+1}if(y.S(bm.Uo)&&l[A-1]&&l[A-1].I)x=X.Bw.Lt(l[A-1].I,x);var t={type:4,sV:x.clone(),I:x.clone(),XM:x.clone()};
l.splice(A,0,t);C.Hc=[A];this.kF=x;if(this.La==1){t.sV.x+=2;this.rH(C)}this.W7=!0;this.fH=Date.now()}this.Fi(d,N.Wr,C,O);
d.ps=!0};X.gO.prototype.rH=function(d){var W=d.Y,c=d.Hc[0],y=v.o.ke(W,v.o.pR(W,c))+1,B=W[y-1].length;
if(B<3)return;var r=[],x=[];for(var S=0;S<5;S++){var Z=y+(c-y-2+S+5*B)%B;x.push(Z);var i=W[Z].I;r.push(i.x,i.y)}var k=v.A.af_(r);
for(var S=1;S<4;S++){var H=S*4,V=W[x[S]],i=V.I,g=V.sV.zI(i)&&V.XM.zI(i);if(!g){V.sV.sq(k[H],k[H+1]);
V.XM.sq(k[H+2],k[H+3])}else{V.sV=i.clone();V.XM=i.clone()}}};X.gO.prototype.E0=function(d,W,c,y,B){var r=this.tt(d,c,y,B)[0],x=null;
if(r==null)x="default";else x=X.gO.xg(r);var Z=new bR(b.E.V,!0);Z.data={d:b.H.iV,QM:x};W.T(Z)};X.gO.prototype.f9=function(d,W,c,y,B){this.ve=B;
if(this.JZ==null){this.E0(d,W,c,y,B);return}var r=this.Ku;if(r&&aL.Bg(r,B)<X.ap({Q:{O:1}},B))return;
this.Ku=null;var x=d.Q.q9(B.x,B.y),Z=X.rL.fh(d,x,c),i=d.Tz(c.Qm==1),k=i[0],H=i[1],V=k[H.pop()],g=V.add.vmsk,N=g.Y,C=N[g.Hc[0]];
if(this.La==1){var w=C.I.zI(C.sV)&&C.I.zI(C.XM);C.I=x.clone();C.sV=x.clone();C.XM=x.clone();if(!w)C.sV.x+=2;
this.rH(g)}else if(y.S(bm.CD)){if(y.S(bm.Uo))Z=X.Bw.Lt(this.kF,Z);var Y=C.I.Sa(C.XM),U=C.sV.Sa(C.I);
C.XM=Z;C.I=Z.add(Y);C.sV=C.I.add(U)}else if(this.Bl){var e=C.sV.Sa(C.I),O=C.XM.Sa(C.I);C.I=Z;C.sV=C.I.add(e);
C.XM=C.I.add(O)}else{if(y.S(bm.Uo))Z=X.Bw.Lt(C.I,Z);if(this.Sz){var l=C.sV;C.sV=C.XM;C.XM=l}if(this.PF){var I=aL.Bg(C.I,Z),s=I==0?0:aL.Bg(C.I,C.XM)/I;
C.XM.x=C.I.x+s*(Z.x-C.I.x);C.XM.y=C.I.y+s*(Z.y-C.I.y)}else C.XM=Z;var z=C.type>=3?3:0;if(this.W7&&!this.DK)C.type=z+y.S(bm.Oi)?2:1;
if(C.type-z==1){C.sV=C.I.add(C.I.Sa(Z))}this.kF=Z;if(this.Sz){var l=C.sV;C.sV=C.XM;C.XM=l}}this.Fi(d,V.Wr,g,V.add.vogk);
d.ps=!0};X.gO.prototype.AZ=function(d,W,c,y,B){if(this.JZ==null)return;var r=d.Tz(c.Qm==1),x=r[0],Z=r[1],i=x[Z.pop()],k=i.add.vmsk,H=i.add.vogk;
if(this.PF){k.Hc=[];this.Fi(d,i.Wr,k,i.add.vogk)}var V=this.JZ.Y.length,g=k.Y.length;if(!this.o0)this.dp(d,this.PF?"Close Path":(V==g?"Move":V<g?"Add":"Delete")+" Anchor Point",i.Wr,this.JZ,k.clone(),null,this.$y,JSON.stringify(H));
this.o0=!1;this.PF=!1;this.Sz=!1;this.Bl=!1;this.W7=!1;this.JZ=null};X.gO.prototype.AE=function(d,W,c,y,B){this.E7=d.binop};
X.gO.afP={};X.gO.xg=function(d){var W=X.gO.afP[d],c=64,Z=2,i=10,k=25,H=5,V=35;if(W)return W;var y=new a8(0,0,c,c),B=-.38,r=v.td(c,c);
r.clearRect(0,0,c,c);var x=X.QX();r.save();r.lineWidth=Z;r.translate(4-Z/2,4-Z/2);r.rotate(B);if(x<1.5){var g=.66;
i*=g;k*=g;H*=g;V*=g}r.lineJoin="miter";r.beginPath();if(d=="cnv"){r.moveTo(-i,k);r.lineTo(0,0);r.lineTo(i,k);
r.stroke()}else{r.moveTo(0,0);r.lineTo(i,k);r.lineTo(H,V);r.lineTo(-H,V);r.lineTo(-i,k);r.lineTo(0,0);
r.moveTo(0,0);r.lineTo(0,k);r.fillStyle="white";r.fill();r.stroke();r.fillStyle="black";r.fillRect(-H-1,V,2*H+2,6);
r.beginPath();r.arc(0,k-2,2.5,0,2*Math.PI,!1);r.fill();r.rotate(-B);r.translate(24,7);r.beginPath();
if(d=="add"||d=="del"||d=="new"){r.moveTo(-5,0);r.lineTo(5,0);if(d=="add"){r.moveTo(0,-5);r.lineTo(0,5)}if(d=="new"){r.moveTo(-2.5,-4.5);
r.lineTo(2.5,4.5);r.moveTo(2.5,-4.5);r.lineTo(-2.5,4.5)}}else if(d=="fin")r.arc(0,0,5,0,2*Math.PI,!1);
else if(d=="mov"||d=="mva"){for(var S=0;S<4;S++){r.moveTo(0,0);r.lineTo(-7,0);var N=1+Z;r.moveTo(-7+N,-N);
r.lineTo(-7,0);r.lineTo(-7+N,N);r.rotate(Math.PI/2)}}r.stroke()}r.restore();var C=new Uint8Array(r.getImageData(0,0,c,c).data.buffer),w=v.R(c*c);
v.$P(C,w,3);var Y=v.R(c*c),U=[3,5,3,4,8,4,3,5,3];U=v.H$.Vp(U);v.H$.$d(w,Y,c,c,U);for(var S=0;S<Y.length;
S++)Y[S]=Math.min(255,Y[S]*2);v.H$.$d(Y,w,c,c,U);for(var S=0;S<w.length;S++)w[S]=Math.min(255,w[S]*2);
var e=C.slice(0);C.fill(255);v.nP(w,C,3);v.l.Ip("norm",e,y,C,y,y,1);X.gO.afP[d]=W={hl:C,qe:y,Mh:new aL(4,4)};
return W};X.H0=function(){X.Q6.call(this,[10,30],X.V3,"tools/fpen",!1)};X.H0.prototype=new X.Q6;X.H0.prototype.Y0=function(d,W,c,y,B,r){var x=y.length-1,Z=Math.sqrt((y[x-1]-y[0])*(y[x-1]-y[0])+(y[x]-y[1])*(y[x]-y[1]))<6/B.O;
return[v.o.ad(y,Z,r),v.dr.wC("customShape",[0,0,1,1],null,null,null,"--")]};X.lv=function(){X.C_.call(this,[10,27],X.h9,"tools/pselect");
this.YM=null;this.tk=!1;this.DW=null;this.JZ=null;this.gR=null;this.$y=null;this.V1=null;this.md=null;
this.A5=null;this.Wz=null};X.lv.prototype=new X.C_;X.lv.prototype.zh=function(d){return d.HW};X.lv.prototype.RQ=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y),x=d.Tz(),Z=x[0],i=x[1],k,H;
for(var S=0;S<i.length;S++){var V=Z[i[S]],g=V.add.vmsk,N=v.o.cf(g.Y,r).Wr;if(N!=-1){this.DW=k=V;H=N}for(var C=0;
C<g.sF.length;C++){var w=v.o.apt(g.Y,g.sF[C]);if(w==null)continue;var Y=aL.Bg(w,r);if(Y<4*X.QX()/d.Q.O){var U=d.B[V.Wr-1e6].add.TySh,e=U.p$.Curve,O=U.e,l=e.Reversed;
e.Reversed=!1;var e=iS.jt(U.p$.Curve);e.Reversed=l;v.A.e(e[0],O,e[0]);this.A5=[e,C,O.U*O.x7-O.J*O.gp];
this.DW=k=V;H=0}}if(this.A5)break}if(k!=null){var g=k.add.vmsk;g.Hc=[];var I=g.g.indexOf(H);if(y.S(bm.Uo)){if(I==-1){g.g.push(H);
this.tk=!0}else g.g.splice(I,1)}else{if(I==-1)g.g=[H];this.tk=!0}this.md=v.o.wV(g.Y,g.g)}this.YM=r;this.Wz=new aY(r);
d.Dy=!0;d.ps=!0};X.lv.prototype.f9=function(d,W,c,y,B){if(this.YM==null)return;var r=d.Q.q9(B.x,B.y);
if(this.tk){r=this.Wz.KB(r,y);var x=this.DW;if(this.JZ==null){this.JZ=this.gR=x.add.vmsk.clone();this.$y=this.V1=JSON.stringify(x.add.vogk);
if(y.S(bm.Oi)){var Z=this.JZ.clone(),i=JSON.parse(this.$y),k=X.C_.iG(Z,i);X.C_.tS(k,Z,i);this.gR=Z;this.V1=JSON.stringify(i)}}var Z=this.gR.clone(),i=JSON.parse(this.V1);
if(this.A5){var H=this.A5,V=H[0][0],g=v.A.Gx(V,r.x,r.y);Z.sF[H[1]]=H[0][1][g];var N=V[g*2],C=V[g*2+1],w=(V[g*2+2]-N)*(r.y-C)-(V[g*2+3]-C)*(r.x-N);
if(H[2]<0)w=-w;Z.KV=w>0}else{var Y=this.md.clone(),U=Y.x,e=Y.y;Y.offset(r.x-this.YM.x,r.y-this.YM.y);
Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);var O=X.rL.gq(d,Y,c),l=new dT(1,0,0,1,Y.x-U+O[0],Y.y-e+O[1]);
v.o.hn(Z.Y,l,Z.g);v.dr.e(i,v.D.MK(l),Z.g);X.rL.JA(d,Y,O)}this.Fi(d,x.Wr,Z,i)}else{var I=this.YM;d.N.fZ=v.A.z$(new a8(I.x,I.y,r.x-I.x,r.y-I.y));
d.ps=!0}};X.lv.prototype.AZ=function(d,W,c,y,B){if(this.YM==null)return;var r=d.Q.q9(B.x,B.y),x=this.DW,Z=x?x.add.vmsk:null;
if(this.tk){var i=JSON.stringify(x.add.vogk);if(!this.YM.zI(r))this.dp(d,"Move Paths",x.Wr,this.JZ,Z,null,this.$y,i);
if(d!=null&&d.N.AR){d.N.AR=null;d.ps=!0}}else{if(Z){var k=this.YM,H=new a8(k.x,k.y,r.x-k.x,r.y-k.y),V=v.o.acO(Z.Y,H);
if(y.S(bm.Uo)){for(var S=0;S<V.length;S++)if(Z.g.indexOf(V[S])==-1)Z.g.push(V[S])}else Z.g=V}d.N.fZ=null;
d.ps=!0}this.YM=null;this.JZ=null;this.A5=null;this.tk=!1;this.Wz=null};X.lv.prototype.aex=function(d){var W=this.DW,c=this.Ue,y=W.add.vmsk,B=W.add.vogk,r=B.length;
if(d=="confirm"){if(y!=this.JZ)this.dp(c,[12,94,2],W.Wr,this.JZ,y,null,this.$y,JSON.stringify(B));this.LJ();
return}if(d=="cancel"){this.Fi(this.Ue,this.DW.Wr,this.JZ.clone(),JSON.parse(this.$y));this.LJ()}else{var y=this.JZ.clone(),B=JSON.parse(this.$y);
y.Y=v.o.a8y(y.Y,y.g,d);this.Fi(this.Ue,this.DW.Wr,y,B)}};X.lv.prototype.LJ=function(){this.DW=null;this.JZ=null;
this.YM=null;this.da=this.OX=-1;this.Wz=null};X.lv.prototype.VO=function(d,W,c,y){X.C_.prototype.VO.call(this,d,W,c,y);
if(c._9!=this.id)return;if(d.g.length==0)return;var B=d.Tz(),r=B[0],x=B[1];if(x.length==0)return;var Z=r[x[0]],i=Z.add.vmsk,k=Z.add.vstk,H=Z.add.vogk,V=new bR(b.E.V,!0);
V.data={d:b.H.TE,f:this.id,Ph:"main",wd:i?i:null,dr:H};W.T(V)};X.lv.prototype.AE=function(d,W,c,y,B){var r=d.Wa;
if(r.wd){var x=c.Tz(),Z=x[0],i=x[1];if(i.length==0)return;var k=Z[i[0]],H=k.add.vmsk.clone(),V=JSON.stringify(k.add.vogk),g=r.wd;
this.Fi(c,k.Wr,g,r.dr);var N=[18,5];if(H.Y.length==g.Y.length)N=H.g[0]==g.g[0]?"Fill Rule":"Path Order";
this.dp(c,N,k.Wr,H,g,null,V,JSON.stringify(r.dr))}};X.hw=function(){X.C_.call(this,[10,28],X.nA,"tools/dselect");
this.da=-1;this.OX=-1;this.xB=null;this.YM=null;this.DW=null;this.JZ=null;this.$y=null;this.Ue=null;
this.g2=0;this.L2={psnap:!1};this.Wz=null};X.hw.prototype=new X.C_;X.hw.prototype.zh=function(d){return d.HW};
X.hw.prototype.AE=function(d){this.L2=d};X.hw.prototype.fY=function(d,W,c,y,B){if(d.d=="crnr"){if(c==null)return;
var r=c.Tz(),x=r[0],Z=r[1];if(Z.length==0){alert("No paths selected");return}var i=x[Z[0]],k=i.add.vmsk;
if(k.Hc.length==0){alert("No corners selected");return}for(var S=0;S<k.Hc.length;S++){var H=k.Y[k.Hc[S]];
if(!H.I.zI(H.XM)||!H.I.zI(H.sV)){alert("Only sharp corners can be rounded");return}}if(this.JZ==null){this.JZ=i.add.vmsk.clone();
this.$y=JSON.stringify(i.add.vogk);this.DW=i;this.Ue=c}var V=new bR(b.E.V,!0);V.data={d:b.H.vB,vD:"cornerradius",qp:5,Ws:this.ahy.bind(this)};
W.T(V)}else X.C_.prototype.fY.call(this,d,W,c,y,B)};X.hw.prototype.ahy=function(d){if(d=="confirm"){var W=this.Ue,c=this.DW,y=c.add.vmsk,B=c.add.vogk;
this.dp(W,[12,94,0],c.Wr,this.JZ,y,null,this.$y,JSON.stringify(B));this.LJ();return}var y=this.JZ.clone(),B=JSON.parse(this.$y),r=y.Hc;
if(d=="cancel"){}else{var x=[];for(var S=0;S<r.length;S++){var Z=r[S],i=v.o.pR(y.Y,Z,!0),V=0;if(x.indexOf(i)!=-1)continue;
x.push(i);var k=v.o.ke(y.Y,i,!0),H=y.Y[k].length,g=[];for(var N=0;N<H;N++){var C=y.Hc.indexOf(k+N+1)==-1?0:d;
g.push(C);if(C!=0)V++}v.o.fw(y.Y,k,g);for(var N=0;N<r.length;N++)if(r[N]>k+H)r[N]+=V}this.iF(y,B);y.Hc=[]}this.Fi(this.Ue,this.DW.Wr,y,B);
if(d=="cancel")this.LJ()};X.hw.prototype.disable=function(d,W,c,y){this.FT(d)};X.hw.prototype.RQ=function(d,W,c,y,B){this.FT(d);
var r=d.Q.q9(B.x,B.y),V,g,N;this.xB=r.clone();var x=d.Tz(),Z=x[0],i=x[1];if(i.length==0)return;var k=X.ap(d,B),H=new a8(r.x-k,r.y-k,k*2,k*2);
for(var C=0;C<i.length;C++){V=this.DW=Z[i[C]];g=V.add.vmsk;N=v.o.rX(g.Y,H);if(N[0].length+N[1].length+N[2].length!=0)break}var w=[!1,!1,!1];
for(var S=0;S<3;S++){for(var Y=0;Y<N[S].length;Y++){var U=N[S][Y],e=g.Y[U];if(g.Hc.indexOf(U)!=-1||S==1&&g.Hc.indexOf(U-1)!=-1&&!e.I.zI(e.sV)||S==2&&g.Hc.indexOf(U+1)!=-1&&!e.I.zI(e.XM)){N[S]=[U];
w[S]=!0;break}}}if(N[0].length!=0&&(w[0]||!w[1]&&!w[2])){var O=N[0][0],l=g.Hc.indexOf(O);if(y.S(bm.Uo)){if(l==-1)g.Hc.push(O);
else{g.Hc.splice(l,1);d.ps=!0;return}}else if(l==-1)g.Hc=[O];this.da=O;this.OX=0}else if(N[1].length!=0&&w[1]){this.da=N[1][0];
this.OX=1}else if(N[2].length!=0&&w[2]){this.da=N[2][0];this.OX=2}else{var I=v.o.cf(g.Y,r,!0,k);if(I.Wr==-1)this.YM=r;
else{g.g=[I.Wr];g.Hc=[]}}if(this.JZ==null){this.JZ=V.add.vmsk.clone();this.$y=JSON.stringify(V.add.vogk)}this.Wz=new aY(r);
d.ps=!0};X.hw.prototype.f9=function(d,W,c,y,B){if(d==null)return;var r=d.Q.q9(B.x,B.y),x=this.DW;if(this.da!=-1){var Z=this.JZ.clone(),i=x.add.vogk,k=Z.Y[this.da];
k=[k.I,k.sV,k.XM][this.OX];if(y.S(bm.Uo)){if(this.OX==0){r=this.Wz.KB(r,y);r.x+=k.x-this.xB.x;r.y+=k.y-this.xB.y}else r=X.Bw.Lt(Z.Y[this.da].I,r)}else{if(this.L2.psnap){r.x=Math.round(r.x);
r.y=Math.round(r.y)}r=X.rL.fh(d,r,c)}if(this.OX==0){var H=new dT(1,0,0,1,r.x-k.x,r.y-k.y);v.o.hn(Z.Y,H,null,Z.Hc)}else{var V=Z.Y[this.da],g=V.sV,N=V.XM;
if(this.OX==2){g=V.XM;N=V.sV}if(y.S(bm.Oi)&&(V.type==1||V.type==4))V.type++;g.sq(r.x,r.y);if(V.type==1||V.type==4){var C=aL.Bg(g,V.I),w=aL.Bg(N,V.I);
if(w!=0){N.x=V.I.x-(g.x-V.I.x)*(w/C);N.y=V.I.y-(g.y-V.I.y)*(w/C)}}}this.iF(Z,i);this.Fi(d,x.Wr,Z,i)}else if(this.YM!=null){var Y=this.YM;
d.N.fZ=v.A.z$(new a8(Y.x,Y.y,r.x-Y.x,r.y-Y.y));d.ps=!0}else{var U=d.Tz(),e=U[0],O=U[1],x,Z,s;if(O.length==0)return;
var l=X.ap(d,B),I=new a8(r.x-l,r.y-l,l*2,l*2);for(var z=0;z<O.length;z++){x=e[O[z]];Z=x.add.vmsk;s=v.o.rX(Z.Y,I);
if(s[0].length+s[1].length+s[2].length!=0)break}this.FT(d);for(var S=0;S<3;S++){for(var R=0;R<s[S].length;
R++){var t=s[S][R],a=Z.Y[t];a=S==0?a.I:S==1?a.sV:a.XM;d.N.Gl.push(a.x,a.y);d.ps=!0}}}};X.hw.prototype.FT=function(d){if(d&&d.N.Gl.length!=0){d.N.Gl=[];
d.ps=!0}};X.hw.prototype.AZ=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y),x=this.DW,Z=x?x.add.vmsk:null,i=x?x.add.vogk:null;
if(this.da!=-1){if(Date.now()-this.g2<300){var k=Z.Y[this.da],H=this.OX,V=null;if(H==0){var g=k.sV.zI(k.I),N=k.XM.zI(k.I);
if(!g&&!N){V="Anchor Type";if(k.type==1||k.type==4)k.type++;else{k.type--;k.XM=k.I.add(k.I.Sa(k.sV))}}else{V="Add Handles";
if(g&&N){k.sV.x-=30;k.XM.x+=30}else if(g)k.sV=k.I.add(k.I.Sa(k.XM));else if(N)k.XM=k.I.add(k.I.Sa(k.sV))}}else{V="Remove Handle";
if(H==1)k.sV.y2(k.I);else k.XM.y2(k.I)}this.iF(Z,i);this.Fi(d,x.Wr,Z,i);this.dp(d,V,x.Wr,this.JZ,Z,null,this.$y,JSON.stringify(i))}else if(!this.xB.zI(r)){this.dp(d,"Drag Anchors",x.Wr,this.JZ,Z,null,this.$y,JSON.stringify(i))}this.g2=Date.now()}else if(this.YM!=null){var C=this.YM,w=new a8(C.x,C.y,r.x-C.x,r.y-C.y);
if(w.m<0)w.x+=w.m;if(w.i<0)w.y+=w.i;w.m=Math.abs(w.m);w.i=Math.abs(w.i);var Y=v.o.rX(Z.Y,w);Z.Hc=Y[0].concat(y.S(bm.Uo)?Z.Hc:[]);
d.N.fZ=null}this.LJ();d.ps=!0};X.hw.prototype.LJ=function(){this.DW=null;this.JZ=null;this.YM=null;this.da=this.OX=-1;
this.Wz=null};X.hw.prototype.iF=function(d,W){for(var S=0;S<d.Hc.length;S++){var c=v.o.pR(d.Y,d.Hc[S]);
v.dr.CY(W,c)}};X.hw.prototype.z9=function(d,W,c,y){if(d==null)return;var B=d.Tz(),r=B[0],x=B[1];if(x.length==0)return;
var Z=r[x[0]],i=Z.add.vmsk;if(i==null||i.Hc.length==0)return;var k=Z.add.vogk,H=JSON.stringify(k),V=y.nv(d?d.Q.Pk:0);
if(V.x!=0||V.y!=0){var g=i.clone(),N=i.clone(),C=new dT(1,0,0,1,V.x,V.y);v.o.hn(N.Y,C,null,N.Hc);this.iF(N,k);
this.Fi(d,Z.Wr,N,k);this.dp(d,"Move Anchors",d.g[0],g,N.clone(),!0,H,JSON.stringify(k))}if(y.S(bm.y8)||y.S(bm.Vy))this.fY({d:"remove",Js:!0,avK:!0},W,d,y,c)};
X.hw.prototype.dp=function(d,W,c,y,B,r,x,Z){var i=d.TP();if(r&&i!=null&&i.f==this&&i.data.atj&&i.data.YA==c&&JSON.stringify(i.data.m5.Hc)==JSON.stringify(y.Hc)){i.data.hH=B;
i.data.py=Z}else{var i=new aw(W,this);i.data={YA:c,m5:y,hH:B,atj:r,aaw:x,py:Z};d.hZ(i)}};X.Rect=function(){X.Q6.call(this,[10,32],X.rB,"tools/rect",!0)};
X.Rect.prototype=new X.Q6;X.Rect.prototype.Y0=function(d,W,c){var y=this.bv.crad,B=W.x-d.x,r=W.y-d.y;
return[v.o.GP.Rect(d.x,d.y,B,r,y),v.dr.wC("Rctn",[d.x,d.y,W.x,W.y],[y,y,y,y])]};X.a8=function(){X.Q6.call(this,[10,33],X.mK,"tools/ellipse",!0)};
X.a8.prototype=new X.Q6;X.a8.prototype.Y0=function(d,W,c){var y=W.x-d.x,B=W.y-d.y;return[v.o.GP.a8(d.x,d.y,y,B),v.dr.wC("Elps",[d.x,d.y,W.x,W.y])]};
X.F$=function(){X.Q6.call(this,[10,34],X.xO,"tools/pshape",!1);this.bv.aopts=[!1,!0,50,100,0]};X.F$.prototype=new X.Q6;
X.F$.prototype.Y0=function(d,W,c){var y=this.bv.pshape,B=this.bv.crad,r=this.bv.irad/100,x=this.bv.sides,Z=this.bv.width,i=this.bv.aopts,k=this.bv.length,Y;
W=W.clone();var H=d.x,V=d.y,g=W.x,N=W.y,C=Math.sqrt((g-H)*(g-H)+(N-V)*(N-V)),w=Math.atan2(-N+V,g-H);
if(c)w=Math.round(w*180/Math.PI/15)*15*Math.PI/180;if(y==0)Y=v.o.GP.g9(H,V,C,w,x,B);if(y==1)Y=v.o.GP.a8w(H,V,C,w,x,B,r);
if(y==2)Y=v.o.GP.X_(d.x,d.y,W.x,W.y,Z,i);if(y==3)Y=v.o.GP.a4f(H,V,C,w,k);return[Y,v.dr.wC("customShape",[d.x,d.y,W.x,W.y],null,null,null,"--")]};
X.F$.prototype.z9=function(d,W,c,y){X.Q6.prototype.z9.call(this,d,W,c,y);var B=y.nv(),r=this.bv,x,Z;
if(B.y!=0){var i=-B.y,k=r.pshape;if(k<2){x="sides";Z=Math.max(3,Math.min(100,r.sides+i))}else if(k==2){x="width";
Z=Math.max(1,Math.min(100,r.width+i))}else if(k==3){x="length";Z=Math.max(4,Math.min(40,r.length+i))}}if(B.x!=0){x="pshape";
Z=Math.max(0,Math.min(3,r.pshape+B.x))}if(x){var H=new bR(b.E.V,!0),V={};V[x]=Z;r[x]=Z;H.data={d:b.H.TE,f:this.id,jK:"vals",adG:V};
W.T(H);this.f9(d,W,c,y)}};X.gB=function(){X.Q6.call(this,[10,35],X.SJ,"tools/line",!1)};X.gB.prototype=new X.Q6;
X.gB.prototype.Y0=function(d,W,c){var y=this.bv.width,B=this.bv.aopts;W=W.clone();if(c){W=X.Bw.Lt(d,W)}return[v.o.GP.X_(d.x,d.y,W.x,W.y,y,B),v.dr.wC("Ln",null,null,[d.x,d.y,W.x,W.y],y,null,B)]};
X.h8=function(){X.Q6.call(this,[10,31],X.CE,"tools/cshape",!0)};X.h8.prototype=new X.Q6;X.h8.prototype.Y0=function(d,W,c){var y=this.bv.shape,B=y.ur.m/y.ur.i,r=e8.vw.Rl(y.Y);
W=W.clone();if(c){W.y=d.y+(W.x-d.x)/B}var x=W.x-d.x,Z=W.y-d.y;v.o.hn(r,new dT(x,0,0,Z,d.x,d.y));return[r,v.dr.wC("customShape",[d.x,d.y,W.x,W.y],null,null,null,y.XG)]};
X.X=function(d,W,c){X.dA.call(this,d,W,c);this.$o=0;this.B=null;this.t8=null;this.qU=null;this.VP=1;
this.BM=0;this.bW=!0;this.F_=!1;this.cursor=null;this.QA=null;this.FK=null;this.Xq=!1;this.c$=null;this.aw5=0;
this.FJ=null;this.La=0;this.Pa=null;this.yx=null;this.m3=null;this.Zm=null;this.arq=null;this.Qi=null};
X.X.prototype=new X.dA;X.X.lA=function(d,W,c){var y={classID:"null",null:hC.cV(c?"Lyr":"Dcmn",!0)};if(d)y.Angl={t:"UntF",v:{type:"#Ang",val:W}};
else y.Axis={t:"enum",v:{Ornt:W}};return{cx:d?"rotateEventEnum":"flip",i9:y}};X.X.prototype.AQ=function(d,W,c,y,B){var r=new bR(b.E.V,!0);
r.data={d:b.H.TE,f:this.id,Sf:B,J8:d,qU:c};W.T(r);this.Ja=!1};X.X.prototype.zh=function(d){return this.yx&&this.yx.aCg()};
X.X.prototype.fY=function(d,W,c,y,B){this.qU=B;if(d.d=="again"&&this.FJ==null)return;if(!this.Nh(c,B))return;
if(this.yx){this.abi(d,this.yx.fL(),W,c,y,B);this.dF(c,B,0,!0);this.od(c);return}this.a3H(c,d.a==null,d.a);
this.aDY(c);this.abi(d,d.ahj,W,c,y,B);this.Kf(c,W,d.o1,!1)};X.X.prototype.abi=function(d,W,c,y,B,r){var x=this.Pa;
if(W==null){var Z=d.gS!=null?d.gS:4;W=this.yx.ay5()[Z]}var i=W.x,k=W.y;if(d.d=="rot"&&d.b!=Math.PI&&(x.m+x.i&1)==1){i=Math.floor(i);
k=Math.floor(k)}var H=new dT;H.translate(-i,-k);if(d.d=="rot")H.rotate(d.b);if(d.d=="scl")H.scale(d.b.x,d.b.y);
if(d.d=="mat")H.concat(d.b);H.translate(i,k);if(d.d=="again")H=this.FJ;var V=v.D.MK(H);if(d.d=="dtr"){var g=v.D;
V=g.lU(d.b,g.R(-i,-k));V=g.lU(g.R(i,k),V)}var N=this.yx.vE();v.D.e(V,N);this.yx.X3(N);if(d.ed){var C=d.ed.v;
this.AE({Ph:"switchWarp"},c,y,B);this.AE({Ph:"wrp",ed:C},c,y,B)}};X.X.prototype.cN=function(){return!0};
X.X.prototype.Nh=function(d,W,c){if(d==null)return!1;if(this.id==X.lF)return d.u!=null;var y=d.ys(!0,null,null,!0);
if(this.id==X.F0&&d.B[y[0]].rect.Bb()){alert("Layer is empty.");return!1}for(var S=0;S<y.length;S++){var B=d.B[y[S]];
if(B.sx(2)||B.sx(31)){alert(ay.get([6,57,0]));return!1}if(B.add.artb){alert("You can not transform the whole artboard");
return!1}if(B.add.TySh)if(!bQ.GM(B.add.TySh,W.Sm))return!1;if(B.add.SoLd){if(y.length==1&&(c&&c.Gg==-1)&&(B.Q7()&&B.Q7().Ps||B.add.vmsk&&B.add.vmsk.Ps)){alert("Unlink masks before transforming Smart Object");
return!1}if(!d.a67(B.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+d.KQ(B.add.SoLd.Idnt.v).Kh+")");
return!1}}}if(d.u==null)return!0;if(!d.YH())return!1;return d.aoW()};X.X.prototype.RQ=function(d,W,c,y,B){var r=this.rv(B,d),x=r[0],Z=r[1],i=this.La==0?this.yx:this.m3;
d.Q.O*=Z;this.F_=i.RQ(d,c,y,x,null,null,B);this.od(d,x);d.Q.O/=Z;if(this.F_&&i.kP(x)){if(Date.now()-this.aw5<250)this.Kf(d,W,null,!0);
this.aw5=Date.now()}};X.X.prototype.E0=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.iV,QM:this.cursor};
d.T(W)};X.X.prototype.rv=function(d,W){var c=1;d=W.Q.q9(d.x,d.y);if(this.La==1){var y=v.D.bO(this.yx.vE(),this.Pa);
c=v.D.hM(y).dV();var B=v.D.QE(y);d=v.D.ay2(B,d)}return[d,c]};X.X.prototype.f9=function(d,W,c,y,B){var r=this.rv(B,d),x=r[0],Z=r[1],i=this.La==0?this.yx:this.m3;
if(!B.HW){var k="default";if(i){var H=i.He(x,d.Q.O*Z,null,B);if(H)k=H}if(k!=this.cursor){this.cursor=k;
this.E0(W)}if(this.m3){this.od(d,x)}}if(!this.F_)return;d.Q.O*=Z;var V=this.Pi=i.f9(d,c,y,x,this.bW);
d.Q.O/=Z;this.dF(d,c,0,!0);this.od(d,x);this.Hi(W)};X.X.prototype.AZ=function(d,W,c,y,B){var r=this.rv(B,d),x=r[0],Z=r[1];
this.yx.AZ(d,c,y,x);if(this.m3){var i=this.m3.AZ(d,c,y,x);if(i){this.Hi(W,!0);this.od(d)}}if(this.Pi){var k=this.Q3(),H=v.A.z$(this.Pa).j;
v.D.e(k,H);this.yx.X3(H);this.Pi=null}this.F_=!1};X.X.prototype.z9=function(d,W,c,y){if(y.S(bm.Qy))this.Kf(d,W,null,!0);
else if(y.S(bm.Rh))this.vT(d,W);else{var B=this.yx.z9(d,c,y);if(B){this.dF(d,c,0,!0);this.Hi(W)}}};X.X.prototype.AE=function(d,W,c,y){if(d.Ph=="commit")this.Kf(c,W,null,!0);
else if(d.Ph=="cancel")this.vT(c,W);else if(d.Ph=="switchWarp"){this.La=1-this.La;this.aeA();this.od(c);
this.Hi(W)}else if(d.Ph=="wrp"){this.m3.azx(d.ed);this.od(c);this.dF(c,this.qU,0,!0)}else if(d.Ph=="splt")this.m3.agH(d.b);
else if(d.Ph=="ctyp"){this.yx.aBM(d.t9);this.od(c);this.Hi(W)}else if(d.Ph=="cen"){this.yx.abG(d.Mh);
this.od(c);this.dF(c,this.qU,0,!0)}else if(d.Ph=="trn"){var B=v.D.MK(d.u7),r=this.Pa,x=v.D.bO(this.yx.vE(),this.Pa);
B[6]=x[6],B[7]=x[7];var Z=[r.x,r.y,r.x+r.m,r.y,r.x+r.m,r.y+r.i,r.x,r.y+r.i];v.D.e(B,Z);this.VP=d.VP;
if(d.BM!=this.BM){this.BM=d.BM;this.aaH(c)}this.bW=d.bW;this.yx.X3(Z);this.od(c);this.dF(c,this.qU,0,!0)}};
X.X.prototype.od=function(d,W){if(this.La==0)this.yx.QD(d,this.qU);else{this.m3.QD(d,W);var c=this.Q3();
v.D.e(c,d.N.vg.j);v.D.e(c,d.N.Ve);v.D.e(c,d.N.Jv)}};X.X.prototype.Kf=function(d,W,c,y){this.dF(d,this.qU,this.VP);
var B=new aw(c?c:this.name,this),I="";if(this.$o==0)B.data={type:this.$o,B:this.B,c$:this.t8,op:X.X.TF(d,this.B)};
else if(this.$o==1){var r=d.B[this.B[0]],x;if(r.Vh.MM<=0){x=v.R(r.Vh.$g.P());v.$P(r.Vh.xt,x,3)}else x=d.u.channel;
var Z={rect:r.Vh.$g.clone(),channel:x};B.data={type:this.$o,a:this.B[0],FK:this.FK,EC:Z,QA:this.QA,Xq:this.Xq,Vh:r.Vh,c$:this.c$,op:{qe:r.Vh.$g,iJ:r.Vh.xt}}}else if(this.$o==2){B.data={type:this.$o,FK:this.FK,EC:{rect:d.u.rect.clone(),channel:d.u.channel.slice(0)}}}d.hZ(B);
var i=this.Pa,k=v.D.bO(this.yx.vE(),i),H=this.t8,V=H?H[0]:null;if(H&&H.length==1&&V[4]){var g=X.X.R6(V[4].nonAffineTransform),i=v.A.c7(v.lk.yU(V[4].quiltWarp.v)[3]),N=v.D.bO(g,i);
k=v.D.lU(k,v.D.QE(N))}var C=v.D.hM(k),w=this.yx.fL(),Y=new dT;Y.translate(w.x,w.y);Y.concat(C);Y.translate(-w.x,-w.y);
C=Y.clone();var U=-Math.atan2(-C.J,C.U),e=new dT;e.rotate(U);C.concat(e);function O(a,J){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][J],val:a}}}var l=hC.cV("Lyr",!0);
if(this.id==X.lF)l.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var s=X.X.aa0;for(var z in s)if(s[z]==this.yx.aB)I=z;
if(I==""){I="Qcsi";Y.IS=Y.rk=0}var R={classID:"null",null:l,FTcs:{t:"enum",v:{QCSt:I}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:O(Y.IS,0),Vrtc:O(Y.rk,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:O(Math.atan(C.gp/C.x7)*180/Math.PI,2),Vrtc:O(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:O(100*0,1),Vrtc:O(100*0,1)}},Wdth:O(C.U*100,1),Hght:O(C.x7*100,1),Angl:O(U*180/Math.PI,2)};
if(I=="Qcsi")R.Pstn={t:"Objc",v:{Hrzn:O(w.x,0),Vrtc:O(w.y,0)}};var t=this.m3?this.m3.SI():null;if(t&&!v.lk.uP(t)){R.quiltWarp={t:"Objc",v:t}}this.i7=W;
this.track({cx:"transform",i9:R});this.escape(d,W,y)};X.X.aa0={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
X.X.prototype.vT=function(d,W){if(this.$o==0)X.X.HJ(d,this.B,this.t8);else if(this.$o==1){var c=d.B[this.B[0]];
d.u=this.FK;if(!this.Xq){c.Vh.$g=this.c$.qe;c.Vh.xt=this.c$.iJ;c.VR(d,0,0,d.u)}else{c.K_(d,this.QA)}d.W();
d.GX=!0}else if(this.$o==2){d.u=this.FK;d.GX=!0}this.escape(d,W,!0)};X.X.prototype.escape=function(d,W,c){this.yx.clear(d);
if(this.m3)this.m3.clear(d);this.yx=null;this.m3=null;this.Qi=null;this.La=0;if(c)this.Th(W,b.E.V,{d:b.H.HP})};
X.X.prototype.To=function(d,W){if(d.type==0)X.X.HJ(W,d.B,d.op);else{if(d.type==1){var c=W.B[d.a];if(d.Xq){c.Vh=d.Vh}else{c.Vh.$g=d.op.qe;
c.Vh.xt=d.op.iJ}c.VR(W,0,0,W.u);W.W()}W.u={rect:d.EC.rect.clone(),channel:d.EC.channel.slice(0)};W.GX=!0}};
X.X.prototype.lL=function(d,W){if(d.type==0)X.X.HJ(W,d.B,d.c$);else{if(d.type==1){var c=W.B[d.a];if(d.Xq){c.K_(W,d.QA)}else{c.Vh.$g=d.c$.qe;
c.Vh.xt=d.c$.iJ;c.VR(W,0,0,W.u)}W.W()}W.u=d.FK;W.GX=!0}};X.X.prototype.a3H=function(d,W,c){d.Tz();var y=[];
if(c==null)for(var S=0;S<d.DU.length;S++)if(d.GB[d.DU[S]].add.vmsk.Y.length>2)y.push(-1-d.DU[S]);var B=[],r=d.Q.M;
if(r[0]+r[1]+r[2]==3)if(c!=null||y.length==0||d.jh!=null&&d.jh.length!=0){if(d.g.length==1){var x=d.B[d.g[0]];
if(x.vS()&&x.lO)B=[d.g[0]]}if(B.length==0)B=d.ys(W,c,null,!0)}B=B.concat(y);for(var S=0;S<d.tv.length;
S++)B.push(-1e3-d.tv[S]);this.B=B};X.X.prototype.enable=function(d,W,c,y,B,r){if(this.cursor==null)this.cursor="default";
this.E0(W);if(this.yx)return;this.qU=c;this.a3H(d,!0);this.aDY(d,r&&r.Gg!=null&&r.Gg!=-1?r.Gg:null);
this.Hi(W,null,d);this.od(d);if(r&&r.Gg==-1)this.AE({Ph:"switchWarp"},W,d,y)};X.X.prototype.Yk=function(){return[this.bW?1:0]};
X.X.prototype.Iw=function(d,W,c){if(d&&d[0]!=null)this.bW=d[0]==1};X.X.prototype.Hi=function(d,W,c){var y={d:b.H.TE,f:this.id};
if(this.La==0){var B=v.D.bO(this.yx.vE(),this.Pa),r=v.D.hM(B);y.u7={Fp:r,t9:this.yx.ayb(),Mh:this.yx.fL(),qe:this.Pa.clone(),bW:this.bW}}else{y.aqG=W;
y.ed=this.m3.SI()}if(c){y.iv=["---"];for(var S=0;S<c.iv.length;S++)y.iv.push(c.iv[S].name)}y.an0=this.m3!=null;
this.Th(d,b.E.V,y)};X.X.prototype.aDY=function(d,W){var c=this.id==X.lF,y=!0,B=this.B[0],r=d.B[B],Z=null,i=null,k=null,g=null;
if(c){this.$o=2;this.FK=d.u}else if(d.u&&this.B.length==1&&B>=0&&!r.rect.Bb()){this.$o=1;this.FK=d.u;
this.QA=r.Vh;this.Xq=!1;if(!r.D5(d,d.u)){this.Xq=!0;r.KL(d,d.u,!1)}this.c$={iJ:r.Vh.xt,qe:r.Vh.$g}}else{this.$o=0;
this.t8=X.X.TF(d,this.B,null);for(var S=0;S<this.t8.length;S++)if(this.t8[S][3]!=null)y=!1}var x=this.$o==1;
if(this.t8&&this.t8.length==1){var H=this.t8[0];if(H[2]!=null)i=H[2].wd;if(H[3]==null)x=!0;if(H[3]!=null)k=H[3];
if(H[4]!=null){Z=d.B[this.B[0]].add.SoLd;if(H[1]||H[2])x=!1}}var V=c?d.u.rect.clone():X.X.yo(d,this.B);
this.Pa=V;if(!c&&i&&be==1){g=i.a84();this.Zm=v.D.bO(g,this.Pa)}else if(!c&&k&&be==1){var N=d.B[this.B[0]],k=N.add.TySh;
g=v.A.z$(N.oR.x1).j;v.A.e(g,k.e,g);this.Zm=v.D.bO(g,this.Pa)}else if(!c&&Z){g=X.X.R6(Z.nonAffineTransform);
this.Pa=v.A.c7(v.lk.yU(Z.quiltWarp.v)[3]);if(x)this.m3=new dX(Z.quiltWarp.v);this.Zm=v.D.bO(g,this.Pa)}else{if(x||c)this.m3=new dX(v.lk.R(this.Pa));
this.Zm=[1,0,0,0,1,0,0,0];if(this.id==X.F0)W=3;g=[V.x,V.y,V.x+V.m,V.y,V.x+V.m,V.y+V.i,V.x,V.y+V.i]}this.yx=new g6(g,!0,!0,y,!1,!1,W);
this.arq=[1,0,0,0,1,0,0,0];this.aaH(d)};X.X.prototype.aaH=function(d){if(this.id==X.F0){var W,c,r=null;
if(this.t8&&d.u==null){var y=this.t8[0][0],B=y.Xc;W=B[0];c=B[1]}else if(this.c$){W=this.c$.iJ;c=this.c$.qe}if(this.BM!=0)r=d.iv[this.BM-1].OU(c);
this.Qi=v.SS.a4N(W,c.m,c.i,r)}};X.X.yo=function(d,W){if(W==null)W=d.ys(!0,null,null,!0);var c=new a8,y=new a8;
if(d.u&&W.length==1&&W[0]>=0)c=d.u.rect.clone();else for(var S=0;S<W.length;S++){var B=W[S],r=0<=B?d.B[B]:-1e3<B?d.GB[-1-B]:d.iv[-1e3-B],x=r.add?r.add.vmsk:null,Z=0<=B?r._W(d,W.length==1,!1,!0):-1e3<B?v.o.wV(x.Y,W.length==1&&x.g.length!=0?x.g:null):r.rect.clone();
c=c.hB(Z);if(B>0&&r.add.artb)y=y.hB(r.ZB())}return!y.Bb()?y:c};X.X.prototype.Th=function(d,W,c,y){var B=new bR(W,!0);
B.data=c;if(y)B.f=y;d.T(B)};X.X.TF=function(d,W,c){var y=[];for(var S=0;S<W.length;S++){var B=W[S],r,x;
if(B>=0){r=d.B[B];x=r.le(d,c,!0)}else if(B>-1e3){r=d.GB[-1-B];x=[2]}else{y.push([null,null,null,null,null,null,null,d.iv[-1e3-B].clone()]);
continue}var Z=[],i=x.indexOf(0)!=-1;if(i){var k={Xc:r.add.SoLd?null:[r.buffer.slice(0),r.rect.clone()]};
Z.push(k);if(r.pX()){var H=r.WI(d);k.ap4=H.buffer.slice(0);k.aCm=H.rect.clone()}}else Z.push(null);if(x.indexOf(1)!=-1)Z.push(r.Q7().clone());
else Z.push(null);if(x.indexOf(2)!=-1)Z.push({wd:r.add.vmsk.clone(),_M:r.add.vstk?JSON.parse(JSON.stringify(r.add.vstk)):null,ue:r.add.vstk?bV.xI(d.B[B].add):null,az:r.add.vstl?JSON.stringify(r.add.vstl):null,dr:r.add.vogk?JSON.parse(JSON.stringify(r.add.vogk)):null});
else Z.push(null);if(r.add.TySh&&i){it.Dz(r.add.TySh);Z.push(r.add.TySh.e.clone())}else Z.push(null);
if(r.add.SoLd&&i)Z.push(JSON.parse(JSON.stringify(r.add.SoLd)));else Z.push(null);if(x.indexOf(3)!=-1)Z.push(r.WI(d).t.clone());
else Z.push(null);if(r.add.lmfx)Z.push(JSON.stringify(r.add.lmfx));else Z.push(null);y.push(Z)}return y};
X.X.HJ=function(d,W,c){for(var S=0;S<W.length;S++){var y=W[S],B=0<=y?d.B[y]:-1e3<y?d.GB[-1-y]:d.iv[-1e3-y],r=c[S];
if(r[0]){if(r[0].Xc){B.rect=r[0].Xc[1].clone();B.buffer=r[0].Xc[0].slice(0)}if(B.pX()){var x=B.WI(d);
x.buffer=r[0].ap4.slice(0);x.rect=r[0].aCm.clone()}}if(r[1]){B.Q7().channel=r[1].channel.slice(0);B.Q7().rect=r[1].rect.clone();
B.Q7().Zv=!0}if(r[2]){B.add.vmsk=r[2].wd.clone();if(r[2].ue)bV.D4(B.add,r[2].ue);if(r[2]._M)B.add.vstk=JSON.parse(JSON.stringify(r[2]._M));
if(r[2].dr)B.add.vogk=JSON.parse(JSON.stringify(r[2].dr));if(r[2].az)B.add.vstl=JSON.parse(r[2].az)}if(r[3]){B.add.TySh.e=r[3].clone();
it.vF(B.add.TySh)}if(r[4]){B.add.SoLd=JSON.parse(JSON.stringify(r[4]))}if(r[5]){var Z=B.WI(d).t;Z.channel=r[5].channel.slice(0);
Z.rect=r[5].rect.clone()}if(r[6]){B.add.lmfx=JSON.parse(r[6])}if(r[7]){B.channel=r[7].channel.slice(0);
B.rect=r[7].rect.clone();B.Zv=!0}if(0<=y){B.Ys(d);B.W();if(r[4])B.Hg(d,!1)}}d.W()};X.X.hv=function(d,W,c,y,B,r,x,Z,i,k){if(typeof r[0]=="number"){var H=[];
for(var S=0;S<c.length;S++)H[S]=r;r=H}for(var S=0;S<c.length;S++){var V=r[S],g=v.D.hM(V),N=g.dV(),C=c[S],w=0<=C?d.B[C]:-1e3<C?d.GB[-1-C]:d.iv[-1e3-C],Y=y[S];
if(w.add&&w.add.lmfx&&Z)eV.TU(w.add.lmfx,N);if(Y[0]&&!Y[3]&&!Y[4]&&!Y[5]){var U=Y[0].Xc;if(i){var e=i.clone(),O=v.R(e.P()*4);
v.qR(U[0],U[1],O,e);U=[O,e]}var l=X.X._B(U,B,V,x,B==0?w.buffer.buffer:null,null,null,k);if(l){w.rect=l.rect;
w.buffer=l.buffer}}if(Y[1]){var I=w.Q7();X.X.fp(d,Y[1],I,B,V,x,I.Ps&&x&&!v.lk.uP(x)&&Y[0]?Y[0].Xc[1]:null);
if(i){var e=w.rect.nK(i),s=v.R(e.P());v.ZW(I.channel,I.rect,s,e);I.channel=s;I.rect=e}}if(Y[2]){var z=x&&!v.lk.uP(x),R=Y[2].wd.clone(),t=c.length==1&&R.g.length!=0,a=c.length==1&&R.Hc.length>1;
if(a)t=!1;var J=t?R.g:null,F=a?R.Hc:null;if(z){var h=v.lk.yU(x);v.D.e(V,h[3]);v.o.afv(R.Y,h,J,F)}else v.o.aAn(R.Y,V,J,F);
if(w.add.vstk&&Z){w.add.vstk.strokeStyleLineWidth.v.val=Y[2]._M.strokeStyleLineWidth.v.val*N;var m=Y[2].ue;
if(m&&m.pF==3){m=JSON.parse(JSON.stringify(m));var D=m.ue.phase.v;m.ue.Scl.v.val=Math.round(m.ue.Scl.v.val*N);
D.Hrzn.v=Math.round(D.Hrzn.v*N);D.Vrtc.v=Math.round(D.Vrtc.v*N);bV.D4(w.add,m)}}if(w.add.vogk){w.add.vogk=JSON.parse(JSON.stringify(Y[2].dr));
if(z||a)v.dr.aC9(w.add.vogk);else v.dr.e(w.add.vogk,V,c.length>1?[]:R.g,Z)}if(w.add.vstl){var _=w.add.vstl=JSON.parse(Y[2].az);
for(var n=0;n<2;n++){var j=n==0?_.A_:_.n8;if(j==null||j[3]==null)continue;var T=j[3],L=new dT(T[0],T[1],T[2],T[3],T[4],T[5]);
L.concat(g);j[3]=[L.U,L.J,L.gp,L.x7,L.IS,L.rk]}}R.ej*=N;var p=new dT;p.rotate(R.jP);p.concat(g);R.jP=Math.atan2(-p.J,p.U);
w.add.vmsk=R;if(w.add.vogk)v.dr.u_(w.add.vogk,w.add.vmsk)}if(Y[3]){var L=Y[3].clone();L.concat(g);w.add.TySh.e=L;
it.vF(w.add.TySh);bQ.pp(w,W.Sm)}if(Y[4]){var E=w.add.SoLd,G=X.X.R6(Y[4].nonAffineTransform);v.D.e(V,G);
var A=v.A.xG(G);if(g6.dy(G)){if(x){var u=v.A.c7(v.lk.yU(Y[4].quiltWarp.v)[3]),s=v.D.bO(G,u),q=v.A.c7(v.lk.yU(x)[3]);
G=[q.x,q.y,q.x+q.m,q.y,q.x+q.m,q.y+q.i,q.x,q.y+q.i];v.D.e(s,G);E.quiltWarp.v=x}var o=v.D.bO(G),M=G;if(!v.D.eR(o)){o[6]=o[7]=0;
M=[0,0,1,0,1,1,0,1];v.D.e(o,M)}E.Trnf=X.X.oY(M);E.nonAffineTransform=X.X.oY(G);if(E.filterFX)E.filterFX=JSON.parse(JSON.stringify(Y[4].filterFX));
X.X.arF(E,g);w.Hg(d,B==0,W.Sm)}}if(Y[5])X.X.fp(d,Y[5],w.WI(d).t,B,V,x);if(Y[7])X.X.fp(d,Y[7],w,B,V,x);
if(0<=C){if(!k)w.oj();w.Ys(d);w.W()}}d.W()};X.X.o3=function(d,W){var c=W.dV(),y=0;v.UC(d);var B=v.aB2(d,W,.3,4);
y=B[0];W=B[1];var r=d[y],x=d[y+1],Z=x.m,i=x.i,k=v.A.z$(x).j;v.A.e(k,W,k);var H=v.A.xG(k),V=v.R(H.P()),g=H.x,N=H.y,C=H.m,w=H.i,Y=W.clone();
Y.QE();var U=Y.iC(new aL(0,0)),e=Y.iC(new aL(1,0)),O=e.x-U.x,l=e.y-U.y;for(var I=0;I<w;I++){var s=Y.U*(g+.5)+Y.gp*(I+N+.5)+Y.IS,z=Y.J*(g+.5)+Y.x7*(I+N+.5)+Y.rk;
for(var R=0;R<C;R++){V[I*C+R]=Math.floor(.5+v.D.aCA(s,z,r,Z,i));s+=O;z+=l}}return{rect:H,channel:V}};
X.X.Wf=function(d,W,c,y,B,r){if(c==null)c=!1;return X.X._B(d,c?0:1,v.D.MK(W),null,y,B,r,c)};X.X._B=function(d,W,c,y,B,r,x,Z){if(Z==null)Z=!1;
if(Z&&x)throw"e";var i={},H=0;if(y&&!v.lk.uP(y)){var k=v.lk.yU(y);v.D.e(c,k[3]);i.rect=v.A.xG(k[3]);
i.buffer=v.R(i.rect.P()*4);v.pK.drawImage(k,d[0],d[1].m,d[1].i,i.buffer,i.rect,W==0);return i}if(v.D.eR(c)){v.rG(d);
var V=.3,H=0,g=v.D.hM(c),N=d[1],C=N.P()*g.dV();if(Z&&C>4e6)V=C>8e6?2.2:1.2;var w=v.aB2(d,g,V,16);H=w[0];
c=v.D.MK(w[1])}var Y=d[H],N=d[H+1],U=v.D.lU(c,v.D.MK(new dT(N.m,0,0,N.i,N.x,N.y))),e=[0,0,1,0,1,1,0,1];
v.D.e(U,e);i.rect=v.A.xG(e);if(x)i.rect=i.rect.nK(x);if(Z){while((i.rect.m&3)!=0)i.rect.m++;while((i.rect.i&3)!=0)i.rect.i++}if(!g6.dy(e)||i.rect.m>1e5||i.rect.i>1e5||i.rect.P()>3e4*3e4)return null;
var O=i.rect.P()*4;if(B&&B.byteLength>=O&&O>=B.byteLength>>2){i.buffer=new Uint8Array(B)}else{i.buffer=v.R(O)}v.D.drawImage(U,Y,N.m,N.i,i.buffer,i.rect,W==0,r,Z);
if(W==2&&i.buffer){var l=i.rect.m,I=i.rect.i,s;s=[0,-1,0,-1,16,-1,0,-1,0];s=v.H$.Vp(s);var z=i.buffer.slice(0);
v.H$.sS(z,i.buffer,l,I,s,255,!1,!0)}if(i.buffer)return i};X.X.fp=function(d,W,c,y,B,r,x){var Z=W.rect,i=W.channel;
if(x){Z=x;i=W.OU(Z)}if(W.color==255)v.QE(i);var k=v.R(Z.P()*4);v.nP(i,k,3);var H=X.X._B([k,Z],y,B,r);
if(H){c.rect=H.rect;c.channel=v.R(H.rect.P());v.$P(H.buffer,c.channel,3);c.Zv=!0}if(W.color==255){v.QE(i);
if(H)v.QE(c.channel)}};X.X.arF=function(d,W){var c=d.filterFX;if(c)c=c.v.filterFXList;if(c)c=c.v;if(c)for(var y=0;
y<c.length;y++){var B=c[y].v.Fltr;if(B==null||B.v.classID!="rigidTransform")continue;B=B.v;console.log(B);
var r=[];for(var x=0;x<4;x++)r.push(B["PuX"+x].v,B["PuY"+x].v);v.A.e(r,W,r);for(var x=0;x<4;x++){B["PuX"+x].v=r[x*2];
B["PuY"+x].v=r[x*2+1]}var Z=["PinP","posFinalPins"],i=["originalVertexArray","deformedVertexArray"],k=B.puppetShapeList.v;
for(var H=0;H<k.length;H++){var V=k[H].v;for(var g=0;g<Z.length;g++){var N=X.X.R6(V[Z[g]]);v.A.e(N,W,N);
V[Z[g]]=X.X.oY(N);var C=new Uint8Array(V[i[g]].v),w=new Float32Array(C.buffer);v.A.e(w,W,w);var Y=[];
for(var U=0;U<C.length;U++)Y[U]=C[U];V[i[g]].v=Y}}}};X.X.R6=function(d){var W=[],c=d.v.length;for(var S=0;
S<c;S++)W.push(d.v[S].v);return W};X.X.oY=function(d){var W={t:"VlLs",v:[]},c=d.length;for(var S=0;S<c;
S++)W.v.push({t:"doub",v:d[S]});return W};X.X.prototype.aeA=function(){var d=v.A.c7(v.lk.yU(this.m3.SI())[3]),W=v.D.bO(this.yx.vE(),this.Pa),c=[d.x,d.y,d.x+d.m,d.y,d.x+d.m,d.y+d.i,d.x,d.y+d.i];
v.D.e(W,c);this.yx.X3(c);this.Pa=d};X.X.prototype.Q3=function(){var d=v.D.bO(this.yx.vE(),this.Pa);if(this.Pi)d=v.D.lU(d,v.D.MK(this.Pi));
return d};X.X.prototype.dF=function(d,W,c,y){var B=this.Q3();B=v.D.lU(B,v.D.QE(this.Zm));var r=this.m3?this.m3.SI():null;
if(this.$o==0){var x=this.FJ=v.D.hM(B);if(this.id==X.F0){var Z=this.t8[0][0],i=Z.Xc,k=i[1],H=~~(k.m*Math.max(0,x.U)),V=~~(k.i*Math.max(0,x.x7)),g=new a8(Math.round(x.U*k.x+x.IS),Math.round(x.x7*k.y+x.rk),H,V),N=v.SS.e(this.Qi,g),C=d.B[this.B[0]];
C.buffer=N;C.rect=g;C.W();d.W()}else X.X.hv(d,W,this.B,this.t8,c,B,r,null,null,y)}else if(this.$o==1){var w=d.B[this.B[0]],k=this.c$.qe;
if(w.MM<=0){var Y=this.c$.iJ,U=this.FK,e=null;if(r&&!v.lk.uP(r)&&!U.rect.zI(k)){var N=v.R(U.rect.P()*4);
v.qR(Y,k,N,U.rect);Y=N;k=U.rect}if(this.id==X.F0){var x=this.FJ=v.D.hM(B),H=~~(k.m*Math.max(0,x.U)),V=~~(k.i*Math.max(0,x.x7)),g=new a8(Math.round(x.U*k.x+x.IS),Math.round(x.x7*k.y+x.rk),H,V),N=v.SS.e(this.Qi,g);
e={buffer:N,rect:g}}else e=X.X._B([Y,k],c,B,r);if(e){w.Vh.xt=e.buffer;w.Vh.$g=e.rect;var O=v.R(e.rect.P());
v.$P(w.Vh.xt,O,3);d.u={channel:O,rect:w.Vh.$g.clone()}}}else{var l=v.R(k.P()*4);v.nP(this.c$.iJ,l,3);
var e=X.X._B([l,k],c,B,r);if(e){w.Vh.xt=v.R(e.rect.P());v.$P(e.buffer,w.Vh.xt,3);w.Vh.$g=e.rect}this.ab9(d,c,B,r)}w.VR(d,0,0,d.u);
if(c!=0){w.oj();v.oj(d.u)}d.GX=!0;d.W()}else if(this.$o==2)this.ab9(d,c,B,r)};X.X.prototype.ab9=function(d,W,c,y){var B=this.FK.rect,r=v.R(B.P()*4);
v.nP(this.FK.channel,r,3);var x=X.X._B([r,B],W,c,y),Z=v.R(x.rect.P());v.$P(x.buffer,Z,3);d.u={channel:Z,rect:x.rect};
d.GX=!0};X.X.prototype.disable=function(d,W,c,y){if(this.yx)this.Kf(d,W,null,!0)};X.aEc=function(){X.X.call(this,[10,16],X.Ee,"tools/transform")};
X.aEc.prototype=new X.X;X.awI=function(){X.X.call(this,[7,10],X.lF,"tools/transform")};X.awI.prototype=new X.X;
X.abu=function(){X.X.call(this,[10,48],X.F0,"tools/transform")};X.abu.prototype=new X.X;X.ql=function(d,W,c){X.dA.call(this,[10,46],X.Bp,"tools/transform");
this.Hl=[1,1,2,!0];this.Fx="rigidTransform";this.iT=null;this.a8b=null;this.xo=null;this.oA=null;this.ve=null;
this.j4=null;this.h1=[]};X.ql.prototype=new X.dA;X.ql.prototype.cN=function(){return!0};X.ql.Cv=function(d){if(d==null)return!1;
if(d.g.length!=1)return!1;var W=d.B[d.g[0]];return W.add.SoLd||d.YH(!1)};X.ql.prototype.Nh=function(d,W){return X.ql.Cv(d)};
X.ql.prototype.enable=function(d,W,c,y,B,r,x){this.a8b=r.MW;var Z=r.MW,i,w=null;if(Z){var k=d.B[Z.a];
if(k.add.SoLd.filterFX!=null){var H=k.add.SoLd.filterFX.v.filterFXList.v;if(H[Z.index])i=JSON.parse(JSON.stringify(H[Z.index].v.Fltr.v))}}var V=i==null,k=d.B[d.g[0]],g=k.buffer,N=k.rect,C=k.add.SoLd;
if(C){var Y=C.nonAffineTransform.v;w=[];for(var S=0;S<4;S++)w.push(Y[S*2].v,Y[S*2+1].v);if(V)this.w$("edit",W);
var U=k.WI(d);g=U.buffer;N=U.rect}this.iT={buffer:g.slice(0),rect:N.clone(),al8:w};if(V)i=X.ql.c4(this.iT,this.Hl);
this.xo=i;this.oA=X.ql.Zf(this.xo,this.Hl);this.$R();this.cd(d);if(V)this.xX(W);var e=new bR(b.E.V,!0);
e.data={d:b.H.TE,f:this.id,au:this.Hl};W.T(e);e.data={d:b.H.iV,QM:"default"};W.T(e)};X.ql.prototype.disable=function(d,W,c,y){if(this.oA)this.Kf(d,W,!0)};
X.ql.prototype.$R=function(d){var W=this.oA;this.h1=[];for(var S=0;S<W.length;S++){var c=W[S];for(var y=0;
y<c.g.length;y++)this.h1.push([S,c.g[S]]);c.XS=v.HF.ay4(c);if(d)v.HF.agN(c)}};X.ql.prototype.AE=function(d,W,c,y){if(d.Ph=="commit")this.Kf(c,W,!0);
else if(d.Ph=="cancel")this.vT(c,W,!0);else if(d.Ph=="prm"){var B=!1;for(var S=0;S<3;S++)if(this.Hl[S]!=d.au[S])B=!0;
this.Hl=d.au;if(B){this.xo=X.ql.c4(this.iT,this.Hl,this.xo);this.oA=X.ql.Zf(this.xo,this.Hl);this.$R(!0);
this.xX(W)}this.cd(c)}else if(d.Ph=="moveDepth"){var r=this.oA;for(var x=0;x<r.length;x++){var Z=r[x];
for(var S=0;S<Z.g.length;S++){var i=Z.g[S];Z.f3[i]+=d.a0p?1:-1}}this.xX(W)}};X.ql.prototype.Ea=function(d,W){return d==bm.y8||d==bm.Vy};
X.ql.prototype.z9=function(d,W,c,y){var B=y.nv();if(y.S(bm.Qy))this.Kf(d,W,!0);else if(y.S(bm.Rh))this.vT(d,W,!0);
else if(y.S(bm.y8)||y.S(bm.Vy)){var r=this.oA;for(var x=0;x<r.length;x++){var Z=r[x];Z.g.sort(function(H,V){return V-H});
for(var S=0;S<Z.g.length;S++){var i=Z.g[S],k=i*2;Z.f3.splice(i,1);Z.zQ.splice(i,1);Z.RB.splice(i,1);
Z.a5.splice(i,1);Z.dC.splice(k,2);Z.ww.splice(k,2)}Z.g=[];if(Z.a5.length==0){Z.lg=Z.cZ.slice(0);Z.tP=Z.cZ.slice(0)}}this.$R(!0);
this.xX(W);this.cd(d)}else if(B.x!=0||B.y!=0){this.arW(d,B.x,B.y,W);this.mC=null}};X.ql.prototype.Kf=function(d,W,c){this.w$("confirm",W);
this.escape(d,W,c)};X.ql.prototype.vT=function(d,W,c){this.w$("cancel",W);this.escape(d,W,c)};X.ql.prototype.escape=function(d,W,c){d.N.fZ=null;
d.N.Gl=[];d.N.ZS=[];d.ps=!0;this.oA=null;var y=new bR(b.E.V,!0);y.data={d:b.H.HP};if(c)W.T(y)};X.ql.prototype.RQ=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y),x=r.x,Z=r.y,i=this.oA,k=null,H=[0,2,4,1.2,1.2,1.2],V=-1,g=X.ap(d,B);
for(var S=0;S<i.length;S++){var N=i[S],C=v.A.Gx(N.ww,x,Z,g);if(C!=-1)k=[S,C];if(V==-1&&v.HF.a3s.aax(N.tP,N.DP,x,Z))V=S}if(k==null&&V!=-1){var N=i[V];
X.ql.a3B(N,x,Z,x,Z,0);k=[V,N.a5.length-1];N.XS=v.HF.ay4(N)}this.ve=r;if(k){var w=i[k[0]].g.indexOf(k[1])!=-1;
if(y.S(bm.Uo)&&!w){i[k[0]].g.push(k[1]);this.h1.push(k)}else if(!w){i[k[0]].g=[k[1]];this.h1=[k]}}this.cd(d)};
X.ql.a3B=function(d,W,c,y,B,r){var x=v.A.Gx(d.tP,W,c);d.a5.push(x);d.ww.push(y,B);d.dC.push(d.tP[x*2]-W,d.tP[x*2+1]-c);
d.RB.push(0);d.zQ.push(!1);d.f3.push(r)};X.ql.prototype.f9=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y),x=this.ve;
if(x)this.arW(d,r.x-x.x,r.y-x.y,W)};X.ql.prototype.arW=function(d,W,c,y){var B={},r=this.h1,x=this.oA;
if(this.mC==null){this.mC=[];for(var S=0;S<x.length;S++)this.mC.push(x[S].ww.slice(0))}for(var S=0;S<r.length;
S++){var Z=this.h1[S],i=Z[0],k=x[Z[0]],H=Z[1]*2;k.ww[H+0]=this.mC[i][H+0]+W;k.ww[H+1]=this.mC[i][H+1]+c;
B[i]=i}for(var i in B)v.HF.agN(this.oA[B[i]]);this.cd(d);this.xX(y)};X.ql.prototype.w$=function(d,W){var c=new bR(b.E.v,!0);
c.f=X.v5;c.data={d:d,MW:this.a8b,Fx:this.Fx,Za:this.xo};W.T(c)};X.ql.prototype.AZ=function(d,W,c,y,B){this.ve=null;
this.mC=null};X.ql.prototype.xX=function(d){X.ql.amx(this.oA,this.Hl,this.xo);this.w$("edit",d)};X.ql.prototype.cd=function(d){var W=this.oA,c=this.xo;
d.N.fZ={j:[],r:[]};d.N.Gl=[];d.N.ZS=[];for(var S=0;S<W.length;S++){var y=W[S];for(var B=0;B<y.ww.length;
B+=2){var r=d.N.ZS;if(y.g.indexOf(B>>>1)!=-1)r=d.N.Gl;r.push(y.ww[B],y.ww[B+1])}if(this.Hl[3])v.A.concat(d.N.fZ,v.A.axs(y.tP,y.DP))}d.ps=!0};
X.ql.c4=function(d,W,c){var y=d.buffer,B=d.rect,r=d.al8,x=eR.qw("rigidTransform");if(r)for(var S=0;S<4;
S++){x["PuX"+S].v=r[S*2];x["PuY"+S].v=r[S*2+1]}var Z=x.puppetShapeList.v,i=v.HF.a9j(y,B.m,B.i,W[1],W[2]),k=[];
for(var H=0;H<i.length;H++){var V={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
V.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var g=i[H];Z.push({t:"Objc",v:V});var N=g.cZ.slice(0);v.A.e(N,new dT(1,0,0,1,B.x,B.y),N);var C=g.DP;
for(var S=0;S<C.length;S+=3){var w=C[S+1];C[S+1]=C[S+2];C[S+2]=w}k.push({DP:C,cZ:N,lg:N,tP:N,a5:[],dC:[],ww:[],XS:null,g:[],RB:[],zQ:[],f3:[]})}if(c){var Y=X.ql.Zf(c,[]),U=k[0];
for(var S=0;S<Y.length;S++){var e=Y[S];for(var O=0;O<e.g.length;O++)U.g.push((U.ww.length>>>1)+e.g[O]);
for(var O=0;O<e.a5.length;O++){var l=e.a5[O]*2,I=e.cZ[l]-e.dC[O*2],s=e.cZ[l+1]-e.dC[O*2+1];X.ql.a3B(U,I,s,e.ww[O*2],e.ww[O*2+1],e.f3[O])}}}X.ql.amx(k,W,x);
return x};X.ql.Zf=function(d,W){var c=X.X.R6,y=d.puppetShapeList.v,B=[];for(var r=0;r<y.length;r++){var x=y[r].v;
W[0]=x.meshRigidity.v-1;W[1]=x.meshQuality.v-1;W[2]=x.meshExpansion.v;var Z=x.pinVertexIndices.v.length,i=x.meshBoundaryPath.v.pathComponents.v;
if(i.length!=0){var k=i[0].v.SbpL.v[0].v.Pts;k.v=[]}var H=new Uint32Array(new Uint8Array(x.indexArray.v).buffer),V=new Float32Array(new Uint8Array(x.originalVertexArray.v).buffer),g=new Float32Array(new Uint8Array(x.deformedVertexArray.v).buffer),N=[],C=[],w=[];
for(var S=0;S<H.length;S++)N.push(H[S]);for(var S=0;S<V.length;S++){C.push(V[S]);w.push(g[S])}var Y=c(x.pinVertexIndices),U=c(x.pinOffsets),e=c(x.posFinalPins),O=c(x.PnRt),l=c(x.PnOv),I=c(x.PnDp),s=c(x.selectedPin);
B.push({DP:N,cZ:C,lg:w.slice(0),tP:w,a5:Y,dC:U,ww:e,XS:null,RB:O,zQ:l,f3:I,g:s})}return B};X.ql.amx=function(d,W,c){function y(g,N){var C=[];
for(var S=0;S<g.length;S++)C.push({t:N,v:g[S]});return C}function B(g,N,C){var w=new(C?Uint32Array:Float32Array)(g),Y=new Uint8Array(w.buffer);
for(var S=0;S<Y.length;S++)N[S]=Y[S]}var r=c.puppetShapeList.v;for(var x=0;x<r.length;x++){var Z=d[x],i=r[x].v;
i.meshRigidity.v=W[0]+1;i.meshQuality.v=W[1]+1;i.meshExpansion.v=W[2];B(Z.DP,i.indexArray.v,!0);B(Z.cZ,i.originalVertexArray.v);
B(Z.tP,i.deformedVertexArray.v);var k=[];for(var S=0;S<Z.a5.length;S++){var H=Z.a5[S]*2,V=S*2;k[V]=Z.cZ[H]-Z.dC[V];
k[V+1]=Z.cZ[H+1]-Z.dC[V+1]}i.PinP.v=y(k,"doub");i.pinVertexIndices.v=y(Z.a5,"long");i.pinOffsets.v=y(Z.dC,"doub");
i.posFinalPins.v=y(Z.ww,"doub");i.PnRt.v=y(Z.RB,"long");i.PnOv.v=y(Z.zQ,"bool");i.PnDp.v=y(Z.f3,"doub");
i.selectedPin.v=y(Z.g,"long")}};X.ju=function(d,W,c){X.dA.call(this,d?d:[10,40],W?W:X.QC,c?c:"tools/slice");
this.q5=null;this.i7=null;this.d_=null;this.ahx=null;this.lc=null;this.nG=null};X.ju.prototype=new X.dA;
X.ju.cf=function(d,W){var c=-1;for(var S=0;S<d.length;S++){var y=X.ju.tA(d,S);if(y[0]<=W.x&&W.x<=y[2]&&y[1]<=W.y&&W.y<=y[3]){c=S;
break}}return c};X.ju.prototype.fY=function(d,W,c,y,B){if(c==null)return;this.Jx(c);if(d.d=="fromAction"){var r=d.RZ,x=r.cx,Z=r.i9,i=c.B5(),k=c.Vj(),H=k==-1?new a8(0,0,c.m,c.i):c.B[k].ZB();
if(x=="divide"){if(c.Xr.length!=0){var V=c.Xr[0],g=X.ju.tA(c.nD,V);H=new a8(g[0],g[1],g[2]-g[0],g[3]-g[1]);
c.nD.splice(V,1);c.Xr=[]}i=[[],[]];for(var N=0;N<2;N++){var C=["Across","Down"][N],w=Z["pixels"+C]?0:1,Y=Z[["pixels","slices"][w]+C];
if(Y==null)continue;Y=Y.v;var U=N==0?H.x:H.y,e=N==0?H.m:H.i;if(w==0)for(var S=1;S*Y<e;S++){i[0].push([N,U+S*Y]);
i[1].push(k)}else{var O=Math.floor(e/Y);for(var S=1;S<Y;S++){i[0].push([N,U+S*O]);i[1].push(k)}}}}var l=[H.x,H.x+H.m],I=[H.y,H.y+H.i];
for(var S=0;S<i[0].length;S++){var s=i[0][S],z=Math.round(s[1]),R=i[1][S];if(R!=-1&&R!=k)continue;if(s[0]==0&&l.indexOf(z)==-1)l.push(z);
if(s[0]==1&&I.indexOf(z)==-1)I.push(z)}l.sort(function(j,T){return j-T});I.sort(function(j,T){return j-T});
for(var t=1;t<I.length;t++)for(var a=1;a<l.length;a++){c.nD.push(X.ju.hC());X.ju.L4(c.nD,c.nD.length-1,[l[a-1],I[t-1],l[a],I[t]]);
c.ps=!0}}else if(d.d=="reorder"){if(c.Xr.length==0)return;var J=c.nD,F=c.Xr;F.sort(function(j,T){return j-T});
console.log(F);var h=J.slice(0),m=[],D=[];for(var S=0;S<F.length;S++){var V=F[S],_=J[V];D.push(_);h.splice(h.indexOf(_),1)}var n=Math.max(0,Math.min(h.length,F[0]-d.dir));
for(var S=0;S<D.length;S++){h.splice(n+S,0,D[S]);m.push(n+S)}c.nD=h;c.Xr=m}else if(d.d=="delete"){var J=c.nD.slice(0);
for(var S=0;S<c.Xr.length;S++)c.nD.splice(c.nD.indexOf(J[c.Xr[S]]),1);c.Xr=[]}else if(d.d=="deleteAll"){c.nD=[];
c.Xr=[]}else{c.nD[c.Xr[0]].v=d;c.ps=!0}this.fr(c)};X.ju.prototype.enable=function(d,W,c,y,B,r){X.dA.prototype.enable.call(this,d,W,c,y,B,r);
if(!c.UA.nD){var x=new bR(b.E.V,!0);x.data={d:b.H.e7,au:kG.x5};W.T(x)}};X.ju.prototype.disable=function(){this.q5=null;
this.i7=null};X.ju.prototype.AQ=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y),x=X.ju.cf(d.nD,r);if(x==-1)return;
this.q5=d;this.i7=W;d.Xr=[x];d.ps=!0;if(this.nG==null){this.nG=new dK([{name:[5,4]},{name:[8,11,1],xJ:!0}]);
this.nG.k("select",this.hW,this)}var Z=this.nG;Z.parent=W;Z._();Z.update(d,c);var i=new bR(b.E.V,!0);
i.data={d:b.H.oV,dD:Z,x:B.$p+2,y:B.$U+1};W.T(i)};X.ju.prototype.hW=function(d){var W=this.nG.YD()[0],c=this.q5;
if(W==0){this.Jx(c);c.nD.splice(c.Xr[0],1);c.Xr=[];c.ps=!0;this.fr(c)}if(W==1){var y=new bR(b.E.V,!0);
y.data={d:b.H.vB,vD:"soptions",b:c.nD[c.Xr[0]].v};this.i7.T(y)}};X.ju.prototype.RQ=function(d,W,c,y,B){if(d==null)return;
this.Jx(d);var r=d.Q.q9(B.x,B.y);r=X.rL.fh(d,r,c,[!0,null,!1]);r.x=Math.round(r.x);r.y=Math.round(r.y);
this.lc=r;d.nD.unshift(X.ju.hC());d.Xr=[0];X.ju.L4(d.nD,0,[r.x,r.y,r.x+20,r.y+20]);d.ps=!0};X.ju.prototype.f9=function(d,W,c,y,B){if(this.d_==null)return;
var r=d.Q.q9(B.x,B.y),x=this.lc;r=X.rL.fh(d,r,c,[!0,null,!1]);r.x=Math.round(r.x);r.y=Math.round(r.y);
var Z=[x.x,x.y,r.x,r.y];X.ju.aCs(Z);X.ju.L4(d.nD,0,Z);d.ps=!0};X.ju.prototype.AZ=function(d,W,c,y,B){this.fr(d);
this.lc=null};X.ju.prototype.Jx=function(d){this.d_=JSON.stringify(d.nD);this.ahx=JSON.stringify(d.Xr)};
X.ju.prototype.fr=function(d){var W=JSON.stringify(d.nD);if(W!=this.d_){var c=new aw(this.name,this);
c.data={c$:this.d_,op:W,akZ:this.ahx,a4X:JSON.stringify(d.Xr)};d.hZ(c)}this.d_=null};X.ju.prototype.lL=function(d,W){W.nD=JSON.parse(d.c$);
W.Xr=JSON.parse(d.akZ);W.ps=!0};X.ju.prototype.To=function(d,W){W.nD=JSON.parse(d.op);W.Xr=JSON.parse(d.a4X);
W.ps=!0};X.ju.prototype.Ea=function(d,W){return W!=null&&W.Xr.length!=0&&(d==bm.y8||d==bm.Vy)};X.ju.prototype.z9=function(d,W,c,y){if(d==null)return;
if(y.S(bm.y8)||y.S(bm.Vy))this.fY({d:"delete"},W,d,y,c);var B=y.nv();if(B.x!=0||B.y!=0){this.Jx(d);X.ju.A7(d,B);
this.fr(d)}};X.ju.prototype.AE=function(d,W,c,y,B){};X.ju.ah$=function(d,W,c,y){var B=new aL(-W.x,-W.y),r=W.m/c.m,x=W.i/c.i,Z=[0,0,W.m,W.i];
for(var S=0;S<d.length;S++){var i=X.ju.tA(d,S);if(y){i[0]=Math.round(i[0]*r);i[1]=Math.round(i[1]*x);
i[2]=Math.round(i[2]*r);i[3]=Math.round(i[3]*x)}else{X.ju.m9(i,B);X.ju.ayU(i,Z)}if(i[0]>=i[2]||i[1]>=i[3]){d.splice(S,1);
S--;continue}X.ju.L4(d,S,i)}};X.ju.A7=function(d,W){var c=d.nD;for(var S=0;S<d.Xr.length;S++){var y=X.ju.tA(c,d.Xr[S]);
X.ju.m9(y,W);X.ju.L4(c,d.Xr[S],y)}};X.ju.ayU=function(d,W){if(d[0]<W[0])d[0]=W[0];if(d[1]<W[1])d[1]=W[1];
if(W[2]<d[2])d[2]=W[2];if(W[3]<d[3])d[3]=W[3]};X.ju.m9=function(d,W){d[0]=Math.round(d[0]+W.x);d[2]=Math.round(d[2]+W.x);
d[1]=Math.round(d[1]+W.y);d[3]=Math.round(d[3]+W.y)};X.ju.L4=function(d,S,W){var c=d[S].v.bounds.v;c.Left.v=W[0];
c.Top.v=W[1];c.Rght.v=W[2];c.Btom.v=W[3]};X.ju.tA=function(d,S){var W=d[S].v.bounds.v;return[W.Left.v,W.Top.v,W.Rght.v,W.Btom.v,S]};
X.ju.aCs=function(d){if(d[2]<d[0]){var W=d[0];d[0]=d[2];d[2]=W}if(d[2]==d[0])d[2]++;if(d[3]<d[1]){var W=d[1];
d[1]=d[3];d[3]=W}if(d[3]==d[1])d[3]++};X.ju.c7=function(d,W){var c=1e9,y=-1e9,B=1e9,r=-1e9;for(var S=0;
S<W.length;S++){var x=X.ju.tA(d,W[S]);c=Math.min(c,x[0]);B=Math.min(B,x[1]);y=Math.max(y,x[2]);r=Math.max(r,x[3])}return[c,B,y,r]};
X.ju.hC=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
X.wg=function(){X.ju.call(this,[10,41],X.Ei,"tools/sselect");this.lc=null;this.AW=null;this.Z5=null;
this.j4=null;this.FS=!1};X.wg.prototype=new X.ju;X.wg.prototype.RQ=function(d,W,c,y,B){if(d==null)return;
var r=d.Q.q9(B.x,B.y),x=X.wg.azs(r,4/d.Q.O,d.nD,d.Xr);x.pop();if(x.length!=0){this.lc=r;this.Z5=x;this.Jx(d);
return}var Z=d.nD,i=X.ju.cf(Z,r);if(i==-1)d.Xr=[];else{var k=d.Xr.indexOf(i);if(y.S(bm.Uo)){if(k==-1)d.Xr.push(i);
else d.Xr.splice(k,1)}else{d.Xr.sort(function(w,Y){return w-Y});if(k==-1)d.Xr=[i];this.lc=r;this.Jx(d);
this.AW=X.ju.c7(Z,d.Xr);this.j4=[];for(var S=0;S<d.Xr.length;S++)this.j4.push(X.ju.tA(Z,d.Xr[S]));if(y.S(bm.Oi)){var H=Z.slice(0),V=d.Xr,g=[];
for(var S=0;S<V.length;S++){var i=V[S],N=H[i],C=Z.indexOf(N);g.push(C);Z.splice(C,0,JSON.parse(JSON.stringify(N)))}d.Xr=g}}}d.ps=!0};
X.wg.prototype.f9=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y);if(this.lc==null){var x=X.wg.azs(r,4/d.Q.O,d.nD,d.Xr),Z=x.pop(),i=x.length==0?"default":["ew","nwse","ns","nesw"][Z]+"-resize",k=new bR(b.E.V,!0);
k.data={d:b.H.iV,QM:i};W.T(k);return}if(!this.FS&&r.zI(this.lc))return;this.FS=!0;var H=d.nD,x=this.Z5;
if(x){r=X.rL.fh(d,r,c,[!0,null,!1]);var V=Math.round(r.x),g=Math.round(r.y);for(var S=0;S<x.length;S+=2){var N=X.ju.tA(H,x[S]),C=x[S+1];
N[C]=(C&1)==0?V:g;X.ju.aCs(N);X.ju.L4(H,x[S],N)}}else{var w=r.Sa(this.lc),Y=this.AW.slice(0);X.ju.m9(Y,w);
var U=new a8(Y[0],Y[1],Y[2]-Y[0],Y[3]-Y[1]),e=X.rL.gq(d,U,c,[!0,null,!1],!0);X.rL.JA(d,U,e);w.x+=e[0];
w.y+=e[1];for(var S=0;S<d.Xr.length;S++)X.ju.L4(H,d.Xr[S],this.j4[S]);X.ju.A7(d,w)}d.ps=!0};X.wg.prototype.AZ=function(d,W,c,y,B){if(this.lc==null)return;
this.fr(d);d.N.AR=null;d.ps=!0;this.lc=null;this.Z5=null;this.j4=null;this.FS=!1};X.wg.azs=function(d,W,c,y){var B=d.x,r=d.y,x=[],Z=-1,i=[];
for(var S=0;S<y.length;S++){var k=y[S],H=X.ju.tA(c,k),V=H[0],g=H[1],N=H[2],C=H[3];if(B<V-W||N+W<B||r<g-W||C+W<r)continue;
var w=[B<V+W,r<g+W,N-W<B,C-W<r],Y=-1;for(var U=0;U<4;U++){if(w[U]&&w[U+1&3])Y=1+2*(U&1);if(w[U])x.push(k,U)}if(Y==-1){if(w[0]||w[2])Y=0;
if(w[1]||w[3])Y=2}if(Y!=-1){Z=Y;i.push(k)}}var e=x.length;for(var S=0;S<e;S+=2){var k=x[S],O=x[S+1],l=X.ju.tA(c,k)[O];
for(var U=0;U<y.length;U++){var I=y[U];if(i.indexOf(I)!=-1)continue;var H=X.ju.tA(c,I);if(H[O&1]==l)x.push(I,O&1);
if(H[2+(O&1)]==l)x.push(I,2+(O&1))}}x.push(Z);return x};X.aJ=function(){X.XC.call(this,[10,44],X.a18,"tools/oselect");
this.Or="crosshair";this.aAz=0};X.aJ.prototype=new X.XC;X.aJ.prototype.iZ=function(d,W,c,y){if(Math.random()<1/(1+this.aAz)){alert("The cross should be fully inside the object.",3500);
this.aAz++}};X.aJ.prototype.S0=function(d,W,c,y){X.Hm.$G(d,X.XC._j,this.i7);if(!y.HW||!this.fv)return;
var B=this.yo(d,c,!1),r=B.m,x=B.i,Z=B.x,i=B.y,k=B.x+r,H=B.y+x,V=Z+r/2,g=i+x/2,N=X.aJ.a1J;d.N.fZ={j:[Z,i,k,i,k,H,Z,H,V-r*N,g,V+r*N,g,V,g-x*N,V,g+x*N],r:"M L L L Z M L M L".split(" ")};
d.ps=!0};X.aJ.a1J=.12;X.aJ.prototype.NC=function(d,W,c,y){d.N.fZ=null;d.ps=!0;this.finish(d,W,c,y)};
X.aJ.prototype.getSelection=function(d,W,c,y){if(this.Ks.zI(this.bl)||!this.fv)return null;var B=this.yo(d,c,!1),r=d.B[d.g[0]];
if(B.Bb()||!B.rC(r.rect))return null;return X.XC.If("ObSl",B)};X.Hm=function(){X.UZ.call(this,[10,37],X.Lr,"tools/qselect");
this.SP="qselect"};X.Hm.prototype=new X.UZ;X.Hm.prototype.RQ=function(d,W,c,y,B){X.Hm.$G(d,X.XC._j,W,!0);
this.zj(d,c,y,B,1);if(this.L3==null)return;this.Ch(d)};X.Hm.prototype.f9=function(d,W,c,y,B){this.ir(d,W,c);
X.Hm.$G(d,X.XC._j,W);if(this.MX)this.zn(d,c,B);if(this.L3==null)return;if(!B.HW)return;var r=this.fG(d,c,y,B);
if(r!=1)this.Ch(d)};X.Hm.$G=function(d,W,c,y){if(d&&W.key!=X.Hm.lW(d)){W.key=X.Hm.lW(d);var B=d.B[d.g[0]].rect.P(),x="Image Analysis ...";
if(B==0)return;var r=B>1e6&&y!=!0,Z=new bR(b.E.V,!0);Z.data={d:b.H.MJ,Aj:x};if(r)c.T(Z);var i=function(){var H=X.Hm.avT(d);
for(var V in H)W[V]=H[V];var Z=new bR(b.E.V,!0);Z.data={d:b.H.Xg,Aj:x};if(r)c.T(Z)};if(y)i();else setTimeout(i,30)}};
X.Hm.lW=function(d){var W=d.g[0],c=d.B[W],y=c.rect,B=y.m,r=y.i,x=B*r,Z=c.buffer;return[W,y.x,y.y,B,r,Z[0],Z[1],Z[2],Z[3]].join(",")};
X.Hm.avT=function(d){var W=d.g[0],c=d.B[W],y=c.rect,B=y.m,r=y.i,x=B*r,Z=c.buffer,i=Date.now(),k=v.R(x);
k.fill(128);var H=v.sB.KP(Z,B,r);console.log(Date.now()-i);var V={key:X.Hm.lW(d),mL:Z,rect:y.clone(),Kp:B,fn:r,Qw:12,kn:k,j8:H,u:v.R(x),oo:null,cc:null,lC:null};
X.Hm.XH(V,null,d);return V};X.Hm.XH=function(d,W,c){var y=d.Kp,B=d.fn,r=0,x=0,Z=Date.now(),i=d.oo!=null&&v.sB.EN(d.oo.DP,d.oo.UU,d.kn)==-1;
r=Date.now()-Z;Z=Date.now();if(!i){var k=v.sB.EN(d.j8.DP,d.j8.UU,d.kn),H=0;while(k!=-1){var V=[],g=[],N=d.j8.DP;
for(var C=0;C<B;C++)for(var w=0;w<y;w++){var S=C*y+w;if(N[S]==k){var Y=d.kn[S];if(Y==0)V.push(w,C);if(Y==255)g.push(w,C)}}var U=c.B[c.g[0]],e=U.buffer;
v.sB.KP._s(e,y,B,d.j8,V,g);k=v.sB.EN(d.j8.DP,d.j8.UU,d.kn);H++;if(H>=10){console.log("too many subdivisions");
break}}d.oo=v.sB.ad(d.j8,y,B,d.kn,d.Qw);d.cc=v.sB.ak4(d.mL,y,B,d.oo.DP,d.oo.UU);d.lC=[d.cc[0].slice(0),[]];
x=Date.now()-Z;Z=Date.now()}var Z=Date.now();if(W){d.lC[0].set(d.cc[0]);var O=d.cc[1],l=d.lC[1];for(var I=0;
I<O.length;I++)l[I]=O[I].slice(0);v.sB.aez(d.oo.DP,y,B,d.oo.UU,d.kn,d.u,d.lC)}};X.M5=function(){X.dA.call(this,[10,50],X.Xz,"tools/artb");
this.$l=null;this.NX=!1;this.yx=null;this.Ud=!1;this.a2l=null;this.ZU=100;this.V4=null;this.g2=0};X.M5.prototype=new X.dA;
X.M5.prototype.fY=function(d,W,c,y,B){this._E(c,d.atR,W,d.Gg)};X.M5.ah3=function(d,W){var c=d[0],y=0,B=0;
if(c==0)B=-1;else if(c==1)y=1;else if(c==2)B=1;else y=-1;return[20/W.cv,d[1]+y*60/W.cv,d[2]+B*60/W.cv]};
X.M5.prototype.AE=function(d,W,c,y,B){this.$l=d.au;this.g2=Date.now()};X.M5.prototype.VO=function(d,W,c,y){if(c._9!=this.id)return;
if(d==null||d.g.length!=1){this.LJ(d);return}var B=d.g[0],r=d.B[B],x=r.add.artb;if(x==null){this.LJ(d);
return}if(this.Ud)return;if(Date.now()-this.g2>50){this.$l={};var Z=["artboardBackgroundType","Clr"];
for(var S=0;S<Z.length;S++)if(x[Z[S]])this.$l[Z[S]]=JSON.parse(JSON.stringify(x[Z[S]]));var i=new bR(b.E.V,!0);
i.data={d:b.H.TE,f:this.id,er:this.$l};W.T(i)}var H=r.ZB(),V=v.A.z$(H).j,g=this.yx=new g6(V,!0,!1,!1,!0,!1,3,!1);
g.QD(d,c,!1);var N={j:[1,0],r:["M"]};for(var S=1;S<30;S++){var C=Math.PI*2*S/30;N.j.push(Math.cos(C),Math.sin(C));
N.r.push("L")}N.r.push("Z","M","L","M","L");N.j.push(-.5,0,.5,0,0,-.5,0,.5);var w=H.x+H.m/2,Y=H.y+H.i/2,U=this.ZU*1.1,e=this.a2l=[w,H.y,H.x+H.m,Y,w,H.y+H.i,H.x,Y],O=[0,-U,U,0,0,U,-U,0],l=d.root.children;
d.N.my=[];for(var S=0;S<4;S++){var I=new aL(e[S*2]+O[S*2],e[S*2+1]+O[S*2+1]),s=!1;for(var z=0;z<l.length;
z++){var r=l[z].a;if(r.add.artb==null)continue;var H=r.ZB();if(H.Ce(I))s=!0}if(s){e[S*2]=1e9;continue}d.N.my.push([S,e[S*2],e[S*2+1]])}};
X.M5.prototype.disable=function(d,W,c,y,B){this.LJ(d)};X.M5.prototype.LJ=function(d){if(this.yx){this.yx.clear(d);
this.yx=null;d.N.my=null}};X.M5.prototype.RQ=function(d,W,c,y,B){this.g2=Date.now();var r=d.Q.q9(B.x,B.y),x=this.yx;
if(x){var Z=new bR(b.E.v),i=x.tt(null,r,d,B);if(i<9){this.Ud=x.RQ(d,c,y,r,null,!0,B);return}else if(x.kP(r)){Z.f=X.Sj;
Z.data={d:"disabAuto"};W.T(Z);var H=new bR(b.E.V);H.data={d:b.H.Fy,f:X.Sj,a6F:!0};W.T(H);return}else{var V=-1,g=d.N.my;
for(var S=0;S<g.length;S++){var N=X.M5.ah3(g[S],d.Q);if(aL.Bg(r,new aL(N[1],N[2]))<N[0])V=g[S][0]}if(V!=-1){var C=d.B[d.g[0]].ZB(),w=C.clone(),Y=(V==0||V==2?C.i:C.m)+this.ZU;
if(V==0||V==3)Y=-Y;if(V==0||V==2)C.y+=Y;else C.x+=Y;if(y.S(bm.Oi)){var U=new a8(0,0,d.m,d.i);Z.f=X.jq;
Z.data={d:e8.k9};W.T(Z);X.rL.gs(d,d.ys(null,d.g[0],null,!0),null,C.x-w.x,C.y-w.y);d.g=d.g.slice(d.g.length-1);
var e=X.JH.je(d);if(e){var O=d.TP();O.data.Pa=U;O.data.zR=e;O.data.N4=d.g}}else this._E(d,C,W);return}}}this.V4=X.rL.fh(d,r,c)};
X.M5.prototype._E=function(d,W,c,y){if(y==null)y=0;var B=d.B.slice(0),r=[d.B.length+1],x=d.jb();x.AP(ay.get([1,16,0])+" "+(d.add.artd==null?1:d.root.children.length+1));
x.add.lsct=aG.ED;x.Nn(W);if(this.$l){var Z=x.add.artb,i=this.$l;for(var k in i)Z[k]=i[k]}x.E9="pass";
x.xy=24;if(y==0){if(d.add.artd||W.nK(new a8(0,0,d.m,d.i)).Bb())B.push(d.b7());else B.unshift(d.b7())}else{var H=d.ys();
H.sort(function(w,Y){return w-Y});var V=X.wu.tD(d,H,B.length-1,!1,null,!1),g=V.pop(),N=V.pop();B=V.pop();
B.splice(d.B.length-H.length,0,d.b7())}B.push(x);var C=new bR(b.E.v);C.f=X.jq;C.data={d:e8.VA,JI:B,EC:r,o1:[1,16,2]};
c.T(C)};X.M5.prototype.f9=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y),x=this.yx,Z=this.V4;if(x){if(this.Ud){x.f9(d,c,y,r)}else{var i=x.He(r,d.Q.O,null,B);
if(i==null)i="default";var k=new bR(b.E.V,!0);k.data={d:b.H.iV,QM:i};W.T(k)}}if(Z){var H=this.tA(d,r,y,c);
d.N.fZ=v.A.z$(H);d.ps=!0;X.dA.sX(B,H,d,c)}};X.M5.prototype.AZ=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y),x=this.V4;
if(this.Ud){this.yx.AZ(d,c,y,r);this.Ud=!1;var Z=v.A.xG(this.yx.vE()),i=e8.zY(Z),k=d.B[d.g[0]],H=JSON.parse(JSON.stringify(k.add.artb));
H.artboardRect.v=i;var V=new bR(b.E.v,!0);V.f=X.jq;V.data={d:e8.Oy,U3:H};W.T(V)}if(x){var g=this.tA(d,r,y,c);
if(g.P()>20)this._E(d,g,W);d.N.fZ=null;d.ps=!0;this.V4=null;d.N.Te=[]}};X.M5.prototype.tA=function(d,W,c,y){var B=this.V4,r=X.rL.fh(d,W,y),x=X.Q6.i8(B,r,c,!0);
B=x[0];r=x[1];return v.A.xG([B.x,B.y,r.x,r.y])};function g6(d,W,c,y,B,r,x,Z){this.Dk=null;this.sF=d?d.slice(0):null;
this.ai=1;this.aB=4;this.bl=null;this.cr=null;this.Md=null;this.y_=-1;this.NV=null;this.aws=!1;this.avR=[];
for(var S=0;S<8;S++)this.avR.push(fd.a6v(0,PIMG.rotate,-.5,-.5,-45-S*45));this.a6P=W;this.aiL=c;this.ap0=y;
this.amj=B;this.a7c=r;this.Gg=x;this.alr=Z==null?1:Z}g6.prototype.aCg=function(){return this.y_!=-1};
g6.prototype.vE=function(){return this.sF.slice(0)};g6.prototype.X3=function(d){this.sF=d};g6.prototype.ay5=function(){return this.hc(this.sF)};
g6.prototype.ayb=function(){return this.aB};g6.prototype.aBM=function(d){this.aB=d};g6.prototype.fL=function(d){if(d==null)d=this.sF;
if(this.aB==9)return this.bl;else return this.hc(d)[this.aB]};g6.prototype.abG=function(d){if(this.aB==9)this.bl=d.clone();
else{var W=this.fL(),c=new dT(1,0,0,1,d.x-W.x,d.y-W.y);v.A.e(this.sF,c,this.sF)}};g6.prototype.vt=function(d){this.ai=d};
g6.prototype.He=function(d,W,c,y,B){var r=this.nt(null,d,W,y),x;if(r==9)return"default";if(r==10){if(c)return null;
return!this.a6P?"move":null}if(r==-1||r==4)return null;if(r==11){var Z=this.fL().Sa(d);if(B==null)B=Math.atan2(Z.y,Z.x);
x=90-B*180/Math.PI;var i=Math.round(8*(x/360));i=(i+8)%8;return this.avR[i]}else{var k=this.yn(d,this.sF);
x=[135,90,45,180,0,0,225,270,315][r]*Math.PI/180;var H=v.D.bO(this.sF);return g6.aqd(H[0],H[3],x)}};
g6.aqd=function(d,W,c){var y=Math.atan2(-W,d);if(c)y+=c;var B="ew nesw ns nwse ew nesw ns nwse".split(" "),r=Math.round(8*(y/(2*Math.PI)));
r=(r+8)%8;return B[r]+"-resize"};g6.prototype.yn=function(d,W){var c=v.D.QE(v.D.bO(W)),y=new Float64Array(2);
v.D.Pp(d.x,d.y,c,y);return new aL(y[0],y[1])};g6.prototype.kP=function(d){var W=this.yn(d,this.sF);return 0<=W.x&&W.x<=1&&0<=W.y&&W.y<=1};
g6.prototype.RQ=function(d,W,c,y,B,r,x,Z){this.aws=r;this.NV=y;var i=d.Q.O,k;if(this.sF==null)y=X.rL.fh(d,y,W);
this.Md=y.clone();if(this.sF==null){if(Z==null)Z=0;var H=new dT;H.rotate(Z);var V=H.iC(new aL(1,1));
this.Md.offset(V.x,V.y);var g=B==null?1:1/B,N=this.sF=[0,0,1,0,1,g,0,g];H.translate(y.x,y.y);v.A.e(this.sF,H,this.sF);
k=8}else{k=this.nt(c,y,i,x);if(0<=k&&k<=8)this.Md=this.hc(this.sF)[k];if(k==9){this.aB=9;this.bl=y.clone()}}this.Dk=this.sF.slice(0);
this.y_=k;this.QD(d,W);this.cr=this.fL();return k!=-1};g6.prototype.tt=function(d,W,c,y){return this.nt(d,W,c.Q.O,y)};
g6.prototype.nt=function(d,W,c,y){var B=-1,r=this.hc(),x=[0,2,6,8,1,3,5,7],Z=y?X.ap({Q:{O:c}},y):8*X.QX()/c,i=aL.Bg(r[0],r[2]),k=aL.Bg(r[0],r[6]),H=this.yn(W,this.sF);
H.x*=i;H.y*=k;var V=new a8(0,0,i,k);V.Lx(Z,Z);if(B==-1)if(aL.Bg(this.fL(),W)<Z)B=9;if(B==-1)for(var S=0;
S<x.length;S++)if(aL.Bg(r[x[S]],W)<Z)B=x[S];if(B==-1&&V.Ce(H)){if(Math.abs(H.y-0)<Z)B=1;if(Math.abs(H.x-0)<Z)B=3;
if(Math.abs(H.y-k)<Z)B=7;if(Math.abs(H.x-i)<Z)B=5}if(B==-1&&d&&d.S(bm.Oi))B=9;if(B==-1||this.Gg==4){if(this.kP(W)){if(this.a6P)B=10}else{var g=[3,.85][be];
V.Lx(g*Z,g*Z);B=V.Ce(H)&&this.Gg!=3?11:10}}return B};g6.prototype.f9=function(d,W,c,y,B){if(this.y_==-1)return;
this.NV=y;var r=c&&c.S(bm.Uo),x=c&&c.S(bm.Oi),Z=c&&c.S(bm.Z7),i=d.Q.O,k=this.Md,H=this.y_,V=this.hc(),g=X.rL.fh(d,k,W),N=X.rL.fh(d,y,W),C,w;
if(H==9){var V=this.hc(),Y=-1;for(var S=0;S<V.length;S++)if(aL.Bg(V[S],N)*i<10)Y=S;this.aB=Y==-1?9:Y;
this.bl=r?X.Bw.Lt(g,N):N.clone()}else if(H==10){w=v.A.c7(this.Dk);var U=w.x,e=w.y;w.offset(y.x-k.x,y.y-k.y);
if(this.a44()){w.x=Math.round(w.x);w.y=Math.round(w.y)}C=X.rL.gq(d,w,W);var O=new dT(1,0,0,1,w.x-U+C[0],w.y-e+C[1]);
v.A.e(this.Dk,O,this.sF)}else if(H==11){var l=this.fL(this.Dk),I=l.Sa(y),s=l.Sa(k),z=Math.atan2(I.y,I.x),R=Math.atan2(s.y,s.x),O=new dT(1,0,0,1,-l.x,-l.y),t=Math.PI/12;
if(r)O.rotate(Math.round((R-z)/t)*t);else O.rotate(R-z);O.translate(l.x,l.y);v.A.e(this.Dk,O,this.sF)}else{var a=r,J;
if(B&&!Z)a=!a;if(this.a7c)a=!0;var F=this.Dk,h=H==0||H==2||H==6||H==8;if(this.Gg==1){if(h)r=x=Z=!0}else if(this.Gg==2&&h&&this.aws!=!0)Z=!0;
if(this.Gg==3)Z=!1;else if(this.Gg==5){r=Z=!0}if(this.ap0&&h&&Z){var S=[0,0,2,0,0,0,6,0,4,0][H],m=-1,D=N.x,_=N.y;
if(r){var n=S+6&7,j=S+10&7,T=g6.a93(F[S],F[S+1],F[n],F[n+1],N.x,N.y),L=g6.a93(F[S],F[S+1],F[j],F[j+1],N.x,N.y),p=T[2]<L[2]?T:L;
D=p[0];_=p[1];if(x)m=T[2]<L[2]?n:j}else if(x)m=S+4&7;J=F.slice(0);if(m!=-1){var E=F[m],G=F[m+1],A=(F[S]+E)/2,u=(F[S+1]+G)/2;
J[m]=A-(D-A);J[m+1]=u-(_-u)}J[S]=D;J[S+1]=_}else if(h&&x){var l=this.cr,q=l.x,o=l.y,M=g.x-q,$=g.y-o,Q=1,kF=1;
if(Math.abs(M)>=1)Q=(N.x-q)/M;if(Math.abs($)>=1)kF=(N.y-o)/$;if(a)Q=kF=(Q+kF)/2;var O=new dT;O.translate(-q,-o);
O.scale(Q,kF);O.translate(q,o);J=F.slice(0);v.A.e(J,O,J)}else{if(this.a44()){N.x=Math.round(N.x);N.y=Math.round(N.y)}var P=[0,1,2,5,8,7,6,3],bM=P[(P.indexOf(H)+4)%8],jW=[];
for(var S=0;S<3;S++)for(var m=0;m<3;m++)jW.push(new aL(m/2,S/2));var l=this.cr,fX=this.yn(N,F),bX=this.yn(k,F),ao=x&&(this.aB==4||this.aB==9)?this.yn(l,F):jW[bM],en=new dT,fK=new dT,Q=(fX.x-ao.x)/(bX.x-ao.x);
if(Q==0)Q=1e-4;var kF=(fX.y-ao.y)/(bX.y-ao.y);if(kF==0)kF=1e-4;if(this.amj){Q=Math.max(Q,0);kF=Math.max(kF,0)}if(H==0||H==2||H==6||H==8){if(a)en.scale(Q,Q);
else en.scale(Q,kF)}if(H==1||H==3||H==5||H==7){var bO=a,b9=Z&&r;if(b9)bO=!1;if(H==1||H==7)en.scale(bO?kF:1,b9?1:kF);
else en.scale(b9?1:Q,bO?Q:1);if(this.aiL&&Z){if(H==1||H==7)fK.gp=(fX.x-ao.x)/(fX.y-ao.y);else fK.J=(fX.y-ao.y)/(fX.x-ao.x)}}var O=new dT;
O.translate(-ao.x,-ao.y);O.concat(en);O.concat(fK);O.translate(ao.x,ao.y);J=[0,0,1,0,1,1,0,1];v.A.e(J,O,J);
var p=v.D.bO(F);v.D.e(p,J)}if(g6.dy(J))this.sF=J}this.QD(d,W);if(C)X.rL.JA(d,w,C)};g6.a93=function(d,W,c,y,B,r){var x=c-d,Z=y-W,i=B-d,k=r-W,H=x*x+Z*Z,V=i*x+k*Z,g=V/H,N=d+g*x,C=W+g*Z,w=B-N,Y=r-C;
return[N,C,Math.sqrt(w*w+Y*Y)]};g6.prototype.a44=function(){var d=this.sF;return Math.abs(d[1]-d[3])<1e-6&&Math.abs(d[2]-d[4])<1e-6||Math.abs(d[0]-d[2])<1e-6&&Math.abs(d[3]-d[5])<1e-6};
g6.dy=function(d){return v.A.a89(d)||v.A.a89([d[6],d[7],d[4],d[5],d[2],d[3],d[0],d[1]])};g6.prototype.AZ=function(d,W,c,y){this.y_=-1;
this.NV=null;d.N.AR=null;d.N.Te=[];d.ps=!0};g6.prototype.z9=function(d,W,c){var y=c.nv(d?d.Q.Pk:0);if(y.x||y.y){var B=new dT(1,0,0,1,y.x,y.y);
v.A.e(this.sF,B,this.sF);this.QD(d,W);return!0}return!1};g6.prototype.hc=function(d){if(d==null)d=this.sF;
var W=d[6]-d[0],c=d[7]-d[1],y=d[4]-d[2],B=d[5]-d[3],r=[d[0],d[1],d[2],d[3],d[0]+W/2,d[1]+c/2,d[2]+y/2,d[3]+B/2,d[6],d[7],d[4],d[5]],x=[];
for(var S=0;S<3;S++){var Z=S*4,i=r[Z+0],k=r[Z+1],H=r[Z+2],V=r[Z+3];x.push(new aL(i,k));x.push(new aL(i+(H-i)/2,k+(V-k)/2));
x.push(new aL(H,V))}return x};g6.prototype.QD=function(d,W,c){if(d.N==null)return;if(c==null)c=!1;var y=this.ai,B=this.hc(),r=B[0],x=B[2],Z=B[6],i=B[8],k={r:[],j:[]};
if(y==0)d.N.fZ=k;else d.N.vg=k;k.r.push("M","L","L","L","Z");k.j.push(r.x,r.y,x.x,x.y,i.x,i.y,Z.x,Z.y);
var H=this.alr;if(H>1){d.N.gV=JSON.parse(JSON.stringify(k));var V=x.Sa(r),g=Z.Sa(r),N=i.Sa(x),C=i.Sa(Z);
for(var S=1;S<H;S++){k.r.push("M","L","M","L");var w=S/H;k.j.push(r.x+V.x*w,r.y+V.y*w,Z.x+C.x*w,Z.y+C.y*w);
k.j.push(r.x+g.x*w,r.y+g.y*w,x.x+N.x*w,x.y+N.y*w)}}d.Q.iX=new a8(0,0,aL.Bg(B[0],B[2]),aL.Bg(B[0],B[6]));
if(this.y_!=-1&&this.y_<9&&this.NV){var Y=d.Q.Yd(this.NV.x,this.NV.y);X.dA.sX(Y,d.Q.iX,d,W)}if(!c){var U=[];
if(y==0)d.N.dk=U;else d.N.Ve=U;for(var S=0;S<B.length;S++)if(S!=4)U.push(B[S].x,B[S].y);var e=this.fL();
U.push(e.x,e.y)}d.ps=!0};g6.prototype.clear=function(d){d.Q.iX=null;d.N.AR=null;d.N.fZ=null;d.N.vg=null;
d.N.gV=null;d.N.dk=[];d.N.Ve=[];d.ps=!0};function dX(d){this.lk=null;this.y_=-1;this.sY=null;this.aqe=null;
this.J6=null;this.ll=-1;this.abw=null;this.azx(d)}dX.prototype.SI=function(){return JSON.parse(JSON.stringify(this.lk))};
dX.prototype.azx=function(d){this.lk=JSON.parse(JSON.stringify(d))};dX.prototype.agH=function(d){this.ll=d};
dX.prototype.kP=function(d){return!0};dX.prototype.He=function(d,W,c,y){var B=this.nt(d,W,y);if(B==-1)return"default";
return"pointer"};dX.prototype.RQ=function(d,W,c,y,B,r,x){if(this.ll!=-1)return!0;this.y_=this.nt(y,d.Q.O,x);
var Z=v.lk.yU(this.lk),i=v.pK.LX(Z,y),k=0<i[0]&&i[0]<1&&0<i[1]&&i[1]<1;this.sY=k?i:null;this.aqe=JSON.stringify(Z);
this.abw=JSON.stringify(this.lk);this.J6=y;return this.y_!=-1||k};dX.prototype.nt=function(d,W,c){var y=c?X.ap({Q:{O:W}},c)*2:20*X.QX()/W,B=this.lk,r=dX.abV(B),x=-1;
if(r){x=v.A.Gx(r,d.x,d.y,y);if(x!=-1)x+=1e6}else{var Z=v.lk.yU(B);x=v.A.Gx(Z[3],d.x,d.y,y);if(x!=-1&&this.ZA(Z,x)==null)x=-1}return x};
dX.prototype.f9=function(d,W,c,y){if(this.ll!=-1)return;var B=this.lk,r=this.y_,x=this.sY,Z=JSON.parse(this.aqe),i=Z[0],k=Z[1],H=Z[3];
if(r>=1e6){var V=B.warpStyle.v.warpStyle,g=v.lk.yo(B);if(V=="warpCylinder"){this.lk=B=JSON.parse(this.abw);
var N=X.X.R6(B.warpValues),C=(N[2]-N[0])/(N[1]-N[3]),w=N[4]*C*g.i,Y=N[5]*C*g.i,U=y.x-this.J6.x,e=y.y-this.J6.y;
N[0]=g.x;N[1]=g.y+g.i;N[2]=g.x+g.m;N[3]=g.y;r-=1e6;if(r==0){N[0]+=U;N[1]+=e}if(r==1){N[2]+=U;N[3]+=e}if(r==2){w+=2*e;
Y+=2*e}if(r==3){Y+=2*e}if(r==4){N[6]=Math.max(0,Math.min(1,N[6]-2*U/g.m))}var O=v.A.c7(N.slice(0,4)),l=O.m/g.m,I=O.i/g.i;
N[4]=w/O.m;N[5]=Y/O.m;B.warpValues=X.X.oY(N);var s=new dT;s.translate(-g.x,-g.y);s.scale(l,I);s.translate(O.x,O.y);
if(r<4)return s}else{var z=B.warpRotate.v.Ornt,R=z=="Vrtc",t=v.lk.akH[V],a=R?-y.x/g.m:-y.y/g.i;a+=t[1];
if(t[1]>.5)a=-a;a/=t[2];var l=g.m/g.i;if(R)l=1/l;if(t[3])a/=l;B.warpValue.v=100*Math.max(-1,Math.min(1,a))}}else if(r!=-1){var J=[r],U=y.x-H[r*2],e=y.y-H[r*2+1];
if(i*k>16){var F=this.ZA(Z,r);if(F[0]==0){var h=Math.floor(r/i),m=r-h*i;if(m>0)J.push(r-1);if(m<i-1)J.push(r+1);
if(h>0)J.push(r-i);if(h<k-1)J.push(r+i)}}for(var S=0;S<J.length;S++){H[J[S]*2]+=U;H[J[S]*2+1]+=e}v.lk.dz(B,Z)}else if(x){v.pK.ava(Z,x[0],x[1],y.x-this.J6.x,y.y-this.J6.y);
v.lk.dz(B,Z)}};dX.prototype.AZ=function(d,W,c,y){var B=this.ll;this.sY=null;this.ll=-1;if(B!=-1){var r=v.lk.yU(this.lk),x=v.pK.LX(r,y);
if(B==0||B==1)v.pK.split(r,0,x[0]);if(B==0||B==2)v.pK.split(r,1,x[1]);v.lk.dz(this.lk,r)}d.ps=!0;return B!=-1};
dX.prototype.z9=function(d,W,c){var y=c.nv();if(y.x||y.y){var B=new dT(1,0,0,1,y.x,y.y);v.A.e(this.sF,B,this.sF);
this.QD(d)}};dX.prototype.ZA=function(d,S){var W=d[0],c=d[1],y=this.y_,B=Math.floor(y/W),r=y-B*W,x=y%3,Z=y%3,i=x==0&&Z==0,B=Math.floor(S/W),r=S-B*W,x=r%3,Z=B%3;
if(x!=0&&Z!=0)return null;if(x==0&&Z==0)return[0];else{var k=0;if(Z==0)k=x==1?S-1:S+1;if(x==0)k=Z==1?S-W:S+W;
if(W*c>16){var H=y==S||y==S+1||y==S-1||y==S+W||y==S-W;if(i&&(H||y==S+2||y==S-2||y==S+2*W||y==S-2*W)){}else if(!i&&H){}else return null}return[1,k]}};
dX.abV=function(d,W){var W=d.warpStyle.v.warpStyle,y;if(W=="warpCustom"||W=="warpNone")return null;var c=v.lk.yU(d);
if(W=="warpCylinder"){var B=d.warpValues.v;y=[0,1,1,0,.5,0,.5,1,.75-.25*B[6].v,.5]}else{var r=d.warpRotate.v.Ornt,x=v.lk.akH[W];
y=r=="Hrzn"?[x[0],x[1]]:[x[1],x[0]]}v.pK.e(c,y,new a8(0,0,1,1));return y};dX.prototype.QD=function(d,W){var c=this.lk,y=c.warpStyle.v.warpStyle,B=v.lk.yU(c),r=B[0],x=B[1],Z=B[3],i=d.N.vg={r:[],j:[]},k=d.N.Ve=[],H=d.N.Jv=[],V=this.y_;
if(y=="warpCustom")for(var g=0;g<x;g++)for(var N=0;N<r;N++){var S=g*r+N,C=this.ZA(B,S);if(C==null)continue;
var w=Z[2*S],Y=Z[2*S+1],U=H;if(C[0]==0)U=S==V&&r*x>16?H:k;else{var e=C[1];i.r.push("M","L");i.j.push(w,Y,Z[2*e],Z[2*e+1])}U.push(w,Y)}else{var O=dX.abV(c);
if(O)for(var S=0;S<O.length;S++)k.push(O[S])}for(var g=0;g+1<x;g+=3)for(var N=0;N+1<r;N+=3){i.r.push("M","C","C","C","C");
var S=g*r+N,l=S+r+r,I=[S,S+1,S+2,S+3,S+r+3,l+3,l+r+3,l+r+2,l+r+1,l+r,l,S+r,S];for(var S=0;S<I.length;
S++){var w=Z[I[S]*2],Y=Z[I[S]*2+1];i.j.push(w,Y)}}var s=[],z=[];function R(t,N,F){for(var I=0;I<=F;I++){z.push(I==0?"M":"L");
if(t==0)s.push(N,I/F);else s.push(I/F,N)}}if(W)W=v.pK.LX(B,W);for(var t=0;t<2;t++){var a=B[2][t],J=t==0?r:x,F=J*5;
for(var h=1;h<J;h++){var m=Math.floor((h-1)/3),D=h-(1+m*3);if(D==0)continue;var N=a[m]+D/3*(a[m+1]-a[m]);
R(t,N,F)}var _=this.ll;if(W&&_!=-1&&(_==0||_-1==t))R(t,W[t],F)}v.pK.e(B,s,new a8(0,0,1,1));v.A.concat(i,{j:s,r:z});
d.ps=!0};dX.prototype.clear=function(d){d.N.vg=null;d.N.Ve=[];d.N.Jv=[];d.ps=!0};function f1(){this.tR=!1;
this.ny=!1;this.apx=!1;this.arX=!1;this.l$=!1;this.WP=!1;this.Ev=0;this.Bj=0}f1.prototype.RQ=function(d){this.tR=!0;
this.ny=!1;this.l$=d.S(bm.Uo);this.WP=d.S(bm.Oi);this.Ev=this.l$?0:1;this.Bj=this.WP?0:1};f1.prototype.z9=function(d){var W=this.arX=d.S(bm.Uo),c=this.apx=d.S(bm.Oi);
if(this.ny){if(this.Ev==0&&!W)this.Ev++;if(this.Ev==1&&W)this.Ev++;if(this.Bj==0&&!c)this.Bj++;if(this.Bj==1&&c)this.Bj++}};
f1.prototype.f9=function(){this.ny=!0};f1.prototype.AZ=function(){this.tR=!1};f1.prototype.J$=function(S){if(S==0)return this.tR?this.WP:this.apx;
if(S==1)return this.ny?this.Bj==2:!1};f1.prototype.P4=function(S){if(S==0)return this.tR?this.l$:this.arX;
if(S==1)return this.ny?this.Ev==2:!1};X.History=function(){X.dA.call(this,"History",X._X);this.Ok=!0;
this.ano=0};X.History.prototype=new X.dA;X.History.prototype.fY=function(d,W,c,y){c.Pm=!0;if(d.d=="h_itemchange"){if(d.index<c.ST)for(var S=c.ST;
S>d.index;S--)this.kI(c);if(d.index>c.ST)for(var S=c.ST;S<d.index;S++)this.ao(c)}if(d.d=="h_stepfwd")this.ao(c);
if(d.d=="h_stepbck")this.kI(c);if(d.d=="h_undoredo"){var B=this.Ok||this.ano!=c.ST;if(B){this.kI(c);
B=!1}else{this.ao(c);B=!0}this.Ok=B;this.ano=c.ST}if(d.d=="h_clear"){if(d.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
c.history=[new aw([1,0],null)];c.ST=0}else this.Ok=!0};X.History.prototype.kI=function(d){if(d.ST==0)return;
var W=d.history[d.ST];W.f.lL(W.data,d);d.ST--};X.History.prototype.ao=function(d){if(d.ST==d.history.length-1)return;
var W=d.history[d.ST+1];W.f.To(W.data,d);d.ST++};X.wu=function(){X.dA.call(this,"Layers",X.jq);this.i7=null};
X.wu.prototype=new X.dA;X.wu.prototype.fY=function(d,W,c,y,B){this.i7=W;var r=d.d,x=d.a!=null?d.a:c.g.length!=0?c.g[0]:c.B.length-1,Z=c.B[x];
c.Dy=!0;var i=y.S(bm.Oi),k=y.S(bm.Uo),H=y.S(bm.Z7);if(r==e8.p0&&c.u==null&&(c.g.length>1||!c.YH(!1)))r=e8.k9;
if(r==e8.Mc){var V=new aw([6,33],this),g=Z.vS()?["pass"].concat(dB.s0):dB.s0,N=g[d.z4],C=d.a!=null?[d.a]:c.g,w=JSON.stringify(C),Y=[];
for(var S=0;S<C.length;S++)Y.push(c.B[C[S]].E9);V.data={d:r,TZ:w,KS:Y,z4:N};c.hZ(V);this.To(V.data,c);
this.track(hC.px("Md",{t:"enum",v:{BlnM:dB.XT(N)}}))}if(r==e8.aU){var V,U=c.TP(),C=d.a!=null?[d.a]:c.g,w=JSON.stringify(C);
if(U&&U.data&&U.data.d==r&&U.data.TZ==w)V=U;else{var e=hC.px("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(e);var Y=[];for(var S=0;S<C.length;S++)Y.push(c.B[C[S]].opacity);V=new aw([6,32],this);V.data={d:r,TZ:w,KS:Y,z4:d.z4,d6:e.i9};
c.hZ(V)}V.data.z4=d.z4;V.data.d6.T.v.Opct.v.val=Math.round(d.z4*100/255);this.To(V.data,c)}if(r==e8.fV){if(Z.add.iOpa==null)Z.add.iOpa=255;
var V,U=c.TP();if(U&&U.data&&U.data.d==r&&U.data.a==x)V=U;else{V=new aw("Fill Opacity Change",this);
V.data={d:r,a:x,KS:Z.add.iOpa,z4:d.z4};c.hZ(V)}V.data.z4=d.z4;this.To(V.data,c)}if(r==e8.PJ){var O=d.z4,l=d.a!=null?[d.a]:c.g.slice(0),I=[],s=[],V;
for(var z=0;z<l.length;z++){var R=c.B[l[z]];if(R.add.lspf==null)R.add.lspf=0;var Y=R.add.lspf,N=Y;for(var S=0;
S<O[0].length;S++){var t=O[1][S],a=1<<t;if((N&a)==0&&O[0][S])N^=a;else if((N&a)!=0&&!O[0][S])N^=a}I.push(Y);
s.push(N)}var U=c.TP(),C=JSON.stringify(l);if(U&&U.data&&U.data.d==r&&JSON.stringify(U.data.TZ)==C){V=U;
V.data.z4=s}else{var V=new aw([6,57,1],this);V.data={d:r,TZ:C,KS:I,z4:s};c.hZ(V)}this.To(V.data,c)}if(r==e8.GN){var J="----",F=d.QH,N=null;
for(var S=0;S<gq.Dr.iP.length;S++)if(Z.add[gq.Dr.iP[S]])J=gq.Dr.iP[S];var h=Z.add[J];if(F=="TySh")N=it.De(50,50,B.WK);
var V=new aw("Layer Type",this);V.data={d:r,a:x,aat:[J,h],QH:[F,N]};c.hZ(V);this.To(V.data,c)}if(r==e8.DC){var l=[];
if(i){var m=c.TP(),D=m?m.data:null;if(m!=null&&m.f==this&&D.d==e8.DC&&D.TZ.length!=1){var _=new bR(b.E.v);
_.f=X._X;_.data={d:"h_stepbck"};W.T(_);if(D.a==x)return}var n=c.root.x$(x),j=n,T=[d.a];while(j.parent!=c.root){T.push(j.parent.index);
j=j.parent}for(var S=0;S<c.B.length;S++){var L=c.B[S],j=c.root.x$(S),p=T.indexOf(S)!=-1?!0:L.jF()&&n.depth<j.depth;
if(p!=L.jF())l.push(S)}}else if(d.TZ)l=d.TZ;else{l.push(x);var E=c.B[x].jF(),e={cx:E?"hide":"show",i9:{classID:E?"Hd":"Shw",null:{t:"VlLs",v:[hC.cV("Lyr",!0)]}}};
this.track(e)}var V=new aw("Layer visibility",this,!0);V.data={d:r,TZ:l,a:x};c.hZ(V);this.To(V.data,c)}if(r==e8.In){if(B._9==X.Xz){var G=new bR(b.E.V);
G.data={d:b.H.Fy,f:X.Sj};W.T(G)}var A=d.az9,u=d.BL,M,escape=!1,$=!1;if(d.cC){if(H&&(u==0||u==1||u==2)){var q=0;
if(k)q++;if(i)q+=2;var o=new bR(b.E.v,!0);o.f=X.Ai;o.data={d:"fromlayer",Wa:[d.a,u,q]};W.T(o);return}}var e={cx:"select",i9:{classID:"null",MkVs:{t:"bool",v:!1}}};
c.akS();if(y.S(bm.Z7)||d.Yy==0){var Q=c.g.indexOf(x);if(Q==-1)c.g.push(x);else if(c.g.length>1){if(d.Yy!=0)c.g.splice(Q,1)}c.g.sort(function(V,gh){return V-gh});
e.i9.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};M=x}else if(k&&!i&&u>0){r=u==1?e8.lG:u==2?e8._a:e8.yg;
escape=!0}else if((k||d.Yy==1)&&c.g.length>0){var kF=Math.min(x,c.g[0]),P=Math.max(x,c.g[c.g.length-1]);
c.g=[];for(var S=kF;S<=P;S++)if(c.B[S].add.lsct!=aG.Ni)c.g.push(S);e.i9.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
M=x}else{M=x;if(x>=c.B.length)return;var L=c.B[x];if(L&&L.vS()&&d.a3y)L.add.lsct=aG.ED;else if(c.g.length==1&&c.g[0]==x&&Math.max(0,u)==L.MM){$=!0;
c.Dy=!1}if(!$){c.g=[x];c.yz()}}if(!$){if(M!=null&&M<c.B.length){e.i9.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:c.B[M].getName()}}]},this.track(e)}if(!escape){console.log("no escape");
if(c.g.length==1){var bM=c.g[0];for(var S=0;S<c.B.length;S++){if(S==bM)continue;var R=c.B[S];R.MM=0;
R.lO=!1}var Z=c.B[bM];if(u==2){Z.lO=!Z.lO;c.DU=[]}else if(Z){Z.MM=u<=0?0:u}}else for(var S=0;S<c.B.length;
S++){var R=c.B[S];R.MM=0;R.lO=!1}c.jh=null;c.Pm=!0}}if(d.cC&&i){if((u==1||u==3)&&A!=null){var o=new bR(b.E.v,!0);
o.f=X.AO;o.data={d:"mskView",b:A!=0?0:k?1:2};W.T(o)}else{this.fY({d:e8.U1,a:d.a},W,c,y,B)}}}if(r==e8.lG||r==e8.yg){var jW=r==e8.lG,fX=jW?Z.Q7():Z.WI(c).t;
if(fX==null)return;var V=new aw(fX.isEnabled?jW?[6,15]:[6,42]:jW?[6,14]:[6,41],this);V.data={d:r,a:x};
c.hZ(V);this.To(V.data,c)}if(r==e8._a){var fX=Z.add.vmsk;if(fX==null)return;var V=new aw(fX.isEnabled?[6,17]:[6,16],this);
V.data={d:r,a:x};c.hZ(V);this.To(V.data,c)}if(r==e8.a5R){var bX=Z.add.lsct==aG.ED?aG.tV:aG.ED,j=c.root.x$(c.B.indexOf(Z)),fK=!1;
if(y.S(bm.Z7)){var ao=j.parent;for(var S=0;S<ao.children.length;S++){var en=ao.children[S].a;if(en.vS())en.add.lsct=bX}}else Z.add.lsct=bX;
for(var S=0;S<c.g.length;S++){var bO=c.g[S];if(j.pu<bO&&bO<j.index)fK=!0}if(fK)c.g=[j.index];c.Pm=!0}if(r==e8.U1){if(!c.OE(x))return;
var V=new aw(Z.TA?[6,19]:[6,18],this);V.data={d:r,a:x};c.hZ(V);if(d.z4==null||d.z4!=Z.TA)this.To(V.data,c)}if(r==e8.arU){if(Z.Rm())Z.xy-=32;
else Z.xy+=32;c.Pm=!0}if(r==e8.Ii||r==e8.aS){var V;if(r==e8.Ii)V=new aw(Z.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(r==e8.aS)V=new aw(Z.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);V.data={d:r,a:x};c.hZ(V);this.To(V.data,c)}if(r==e8.mF||r==e8.XY){var bM=d.index,V;
if(r==e8.mF)V=new aw(Z.add.lmfx[bV.Fb[bM[0]]].v[bM[1]].v.enab.v?[6,30,0]:[6,29],this);if(r==e8.XY)V=new aw(Z.add.SoLd.filterFX.v.filterFXList.v[bM].v.enab.v?[6,44]:[6,43],this);
V.data={d:r,a:x,index:d.index};c.hZ(V);this.To(V.data,c)}if(r==e8.uC){if(d.src==d.kT)return;var b9=c.B[d.src],bK=c.B[d.kT],f0=b9.add.lmfx?JSON.stringify(b9.add.lmfx):"",hn=bK.add.lmfx?JSON.stringify(bK.add.lmfx):"";
if(bK.add.lmfx==null){bK.add.lmfx=JSON.parse(bV.default);for(var S=0;S<bV.order.length;S++)bK.add.lmfx[bV.Fb[S]]={t:"VlLs",v:[]}}if(d.pG==null){bK.add.lmfx=JSON.parse(f0);
if(!i)delete b9.add.lmfx}else{var hX=d.pG[0],gR=bV.Fb[hX];if(bV.aus.indexOf(bV.order[hX])==-1)bK.add.lmfx[gR].v=[];
bK.add.lmfx[gR].v.push(b9.add.lmfx[gR].v[d.pG[1]]);if(!i)b9.add.lmfx[gR].v.splice(d.pG[1],1)}var ib=b9.add.lmfx?JSON.stringify(b9.add.lmfx):"",gU=bK.add.lmfx?JSON.stringify(bK.add.lmfx):"";
if(!bK.Rm())bK.xy+=32;var V=new aw("Move Layer Styles",this);V.data={d:r,P9:d.src,io:d.kT,adO:f0,aoO:hn,a9W:ib,aai:gU};
c.hZ(V);this.To(V.data,c)}if(r==e8.XZ){if(d.src!=null)x=d.src;var R=c.B[x],hq=JSON.stringify(R.add.SoLd),ip=JSON.parse(hq),aW=ip.filterFX.v.filterFXList.v;
aW.splice(d.pG,1);var V=new aw([6,53],this);V.data={d:e8.wj,BP:[{YA:x,Oq:[hq,JSON.stringify(ip)]}]};
c.hZ(V);this.To(V.data,c)}if(r==e8.a91){var kN=i,b9=c.B[d.src],bK=c.B[d.kT],hW=[];if(b9!=bK&&bK.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(b9==bK&&!kN&&d.pG==d.uT)return;if(b9==bK&&d.pG==-1)return;var jH=b9.WI(c),hq=JSON.stringify(b9.add.SoLd),ip=JSON.parse(hq),aW=ip.filterFX.v.filterFXList.v;
if(b9==bK){aW.splice(d.uT,0,aW[d.pG]);if(!kN)aW.splice(d.pG+(d.pG<d.uT?0:1),1);hW.push({YA:d.src,Oq:[hq,JSON.stringify(ip)]})}else if(d.pG==-1){var g0=ip.filterFX;
if(!kN){delete ip.filterFX;hW.push({YA:d.src,Oq:[hq,JSON.stringify(ip)],H_:[jH,null]})}var gC=bK.pX()?bK.WI(c):null,jL=eb.aw9(jH),jf=JSON.stringify(bK.add.SoLd),cm=JSON.parse(jf);
cm.placed.v=jL.id;cm.filterFX=g0;hW.push({YA:d.kT,Oq:[jf,JSON.stringify(cm)],H_:[gC,jL]})}else{var eh=aW[d.pG];
if(!kN){aW.splice(d.pG,1);hW.push({YA:d.src,Oq:[hq,JSON.stringify(ip)]})}var jf=JSON.stringify(bK.add.SoLd),cm=JSON.parse(jf);
if(cm.filterFX==null)cm.filterFX=eR.sg();var bu=cm.filterFX.v.filterFXList.v;bu.splice(d.uT,0,eh);var eJ={YA:d.kT,Oq:[jf,JSON.stringify(cm)]};
if(!bK.pX()){var jL=eb.azu(bK.add.SoLd.placed.v);eJ.H_=[null,jL]}hW.push(eJ)}var V=new aw([6,52],this);
V.data={d:e8.wj,BP:hW};c.hZ(V);this.To(V.data,c)}if(r==e8.n_){var fX=Z.Q7(),V=new aw(fX.Ps?[6,26]:[6,25],this);
V.data={d:r,a:x};c.hZ(V);this.To(V.data,c);this.track({cx:"set",i9:{classID:"setd",null:{t:"obj ",v:[hC.cV("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:fX.Ps}}}}})}if(r==e8.IL){var fX=Z.add.vmsk,V=new aw(fX.Ps?[6,28]:[6,27],this);
V.data={d:r,a:x};c.hZ(V);this.To(V.data,c)}if(r==e8.pT){var V=new aw("Variables / Datasets",this),eZ=JSON.stringify([c.eS,c.ZH]);
if(eZ==d.b)return;V.data={d:r,a3h:eZ,alI:d.b};c.hZ(V);this.To(V.data,c)}if(r==e8.C2){var a0=[],V;for(var S=0;
S<c.g.length;S++){var z=c.g[S],L=c.B[z];if(L.add.vogk)a0.push(z,JSON.stringify(L.add.vogk))}for(var S=0;
S<c.DU.length;S++){var z=c.DU[S],L=c.GB[z];if(L.add.vogk)a0.push(-1-z,JSON.stringify(L.add.vogk))}v.dr.aba(c,d.b,d.akx);
var gZ=[];for(var S=0;S<c.g.length;S++){var z=c.g[S],L=c.B[z];if(L.add.vogk)gZ.push(z,JSON.stringify(L.add.vogk))}for(var S=0;
S<c.DU.length;S++){var z=c.DU[S],L=c.GB[z];if(L.add.vogk)gZ.push(-1-z,JSON.stringify(L.add.vogk))}var U=c.TP();
if(U&&U.data&&U.data.d==r){var bt=!0;for(var S=0;S<a0.length;S+=2)if(a0[S]!=U.data.AD[S])bt=!1;if(bt){V=U;
V.data.OW=gZ}}if(V==null){var V=new aw([12,91,1],this);V.data={d:r,AD:a0,OW:gZ};c.hZ(V)}this.To(V.data,c)}if(r==e8.Oy){var dp=JSON.stringify(Z.add.artb),gb=JSON.stringify(d.U3),V;
c.B[x].add.artb=JSON.parse(gb);var e_=new a8(0,0,c.m,c.i),dO=X.JH.qH(c),U=c.TP();if(U&&U.data&&U.data.d==r&&U.data.a==x){V=U;
V.data.U3=gb}if(V==null){var V=new aw("Editing Artboard",this);V.data={d:r,a:x,a5F:dp,U3:gb,Pa:e_};c.hZ(V)}V.data.zR=dO;
this.To(V.data,c)}if(r==e8.iq){var gZ=c.iv.slice(0),dC=c.tv.slice(0),kc=c.u,ia=c.u,p=c.Q.M.slice(0);
if(d.jK=="seltochannel"){var hO=d.Wa[0],cj=gZ[hO]=gZ[hO].clone(),j=v.Jd.Mq(c.u,cj,d.Wa[1]);cj.channel=j.channel;
cj.rect=j.rect}if(d.jK=="fromAction"){var bA=d.b.cx,bg=d.b.i9;if(bA=="make"||bA=="duplicate"){var cX=gZ.length,fJ=!1,iu=!1;
if(c.z6())cX--;var i4=new e8.JO;i4.name="Alpha "+(cX+1);if(bA=="make"){var hV=bg.Nw.v;i4.color=0;dC=[cX];
i4.xV=!0;i4.pk=hV.Opct.v;if(hV.Nm)i4.name=hV.Nm.v;if(hV.classID=="SCch"){fJ=!0;ia=null;i4.zT=1}for(var S=0;
S<c.iv.length;S++)c.iv[S].xV=!1;p=[0,0,0]}else{var L=c.B[c.g[0]],f$=L.MM==1?L.Q7():L.MM==3?L.WI(c).t:null,kg=bg.null.v[0].v;
if(bg.Nm)i4.name=bg.Nm.v;if(kg.keyID=="fsel")fJ=!0;else if(f$){i4.channel=f$.channel.slice(0);i4.rect=f$.rect.clone();
i4.color=f$.color}else{var jy=X.XC.amS(c);ia=X.XC.aur(c,jy);i4.color=0;i4.rect=ia.rect;i4.channel=ia.channel}}if(fJ){i4.color=0;
if(c.u){i4.rect=c.u.rect.clone();i4.channel=c.u.channel.slice(0)}if(iu){i4.color=255-i4.color;v.QE(i4.channel)}}gZ.splice(cX,0,i4)}else if(bA=="delete"){if(Z&&Z.Q7()&&Z.MM==1){this.fY({d:e8.gK},W,c,y,B);
return}var iM=c.tv;iM.sort(function(V,gh){return gh-V});if(iM.length==0)return;for(var S=0;S<iM.length;
S++)gZ.splice(iM[S],1);dC=[];p=[1,1,1]}else if(bA=="show"||bA=="hide"){var hI=bg.null.v,cd=null,jZ=!1;
for(var S=0;S<hI.length;S++){var hz=hI[S].v[0].v,jv=hz.enum;if(jv=="Trgt"){if(gZ[dC[0]]==null)continue;
gZ[dC[0]]=gZ[dC[0]].clone();gZ[dC[0]].xV=bA=="show";jZ=!0}else{var hO=["Rd","Grn","Bl"].indexOf(jv);
if(cd==null)cd=c.Q.M.slice(0);cd[hO]=bA=="show"?1:0}}if(cd){var _=new bR(b.E.v,!0);_.f=X.XU;_.data={d:"setcls",M:cd};
W.T(_);if(!jZ)return}}}if(d.jK=="rnm"){gZ[d.Wr]=gZ[d.Wr].clone();gZ[d.Wr].name=d.name}var V=new aw("Channel Edit",this);
V.data={d:r,AD:c.iv.slice(0),ti:c.tv.slice(0),OW:gZ,Z6:dC,FK:kc,EC:ia,agQ:c.Q.M.slice(0),aa7:p};this.To(V.data,c);
c.hZ(V)}if(r==e8.VA){var eI=new a8(0,0,c.m,c.i),V=new aw(d.o1,this);V.data={d:e8.VA,cY:c.B.slice(0),JI:d.JI,Zh:c.g.slice(0),N4:d.EC};
c.hZ(V);this.To(V.data,c);var j2=X.JH.je(c);if(j2){V.data.Pa=eI;V.data.zR=j2}}if(r==e8.Mr){var fM=c.ys(null,d.a),c4=1e10;
if(fM.length==0)return;if(c.B.length==fM.length){alert("Project must have at least 1 layer");return}var gY=[];
for(var S=0;S<c.B.length;S++)if(fM.indexOf(S)==-1)gY.push(c.B[S]);for(var S=0;S<fM.length;S++)c4=Math.min(c4,fM[S]);
c4=Math.max(c4-1,0);while(gY[c4].name=="</Layer group>")c4++;this.track({cx:"delete",i9:{classID:"Dlt",null:hC.cV("Lyr",!0)}});
var e_=new a8(0,0,c.m,c.i),V=new aw([6,31],this);V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:[c4]};
c.hZ(V);this.To(V.data,c);var dO=X.JH.qH(c);if(dO){V.data.zR=dO;V.data.Pa=e_;X.JH.je(c)}}if(r==e8.Lk){if(!y.S(bm.Uo))return;
var V=new aw("Switch Layer Link",this);V.data={d:r,a:d.a};c.hZ(V);this.To(V.data,c)}if(r==e8.Bm){var iM=d.aup?d.aup:c.g,fI=0,ir=!1;
if(iM.length==0)return;if(iM.length==1&&c.B[iM[0]].ks==0){alert(ay.get([15,7,5]));return}var jq=[];for(var S=0;
S<c.B.length;S++){var e1=c.B[S].ks;jq.push(e1);fI=Math.max(fI,e1)}var fy=-1,fO=-1;for(var S=0;S<iM.length;
S++){var e1=c.B[iM[S]].ks;if(e1==0)ir=!0;else if(fy==-1||fy==e1)fy=e1;else fO=e1}if(!ir)for(var S=0;
S<iM.length;S++)c.B[iM[S]].ks=0;else if(fy!=-1&&fO==-1)for(var S=0;S<iM.length;S++)c.B[iM[S]].ks=fy;
else for(var S=0;S<iM.length;S++)c.B[iM[S]].ks=fI+1;var kI=[];for(var S=0;S<c.B.length;S++){var e1=c.B[S].ks;
if(kI[e1]==null)kI[e1]=0;kI[e1]++}for(var S=0;S<c.B.length;S++){var e1=c.B[S].ks;if(kI[e1]==1)c.B[S].ks=0}var fF=jq;
jq=[];for(var S=0;S<c.B.length;S++){var e1=c.B[S].ks;jq.push(e1);fI=Math.max(fI,e1)}var V=new aw(ir?[6,54,0]:[6,54,1],this);
V.data={d:e8.Bm,an8:fF,aoe:jq};c.hZ(V);this.To(V.data,c)}if(r==e8.k9&&(d.a!=null||c.g.length!=0)||r==e8.Hb){var d6=c.GR(r==e8.k9?d.a:x,null,d.axG),bn;
if(r==e8.Hb){var R=d6[0],bA=R.add.SoLd.Idnt.v,aZ=c.KQ(bA).clone();R.add.SoLd.Idnt.v=aZ.QY=eb.Oe()+bA.slice(8);
c.add.lnk2.push(aZ)}if(r==e8.k9){var ai={cx:"duplicate",i9:{classID:"null",null:hC.cV("Lyr",!0)}};if(d.Su){d6[d6.length-1].AP(d.Su);
ai.Nm={t:"TEXT",v:d.Su}}this.track(ai);d.awO=d.a}r=e8.ID;d.B=d6;d.Q9=c;d.Yr=c}if(r==e8.ID){var bk,cr,cN=d.Q9,hK=d.Yr,cT=0,iZ=0,fL=cN.Vj(),kM=!1,dY,cI=0,jN=0;
if(cN!=hK){console.log("ADDLAYERS different projs");var bk=new a8(0,0,cN.m,cN.i),cr=new a8(0,0,hK.m,hK.i),d5=[],b_=[],da=new a8;
for(var S=0;S<d.B.length;S++){var R=d.B[S];da=da.hB(R.rect);if(R.add.SoLd==null)continue;var bA=R.add.SoLd.Idnt.v;
if(d5.indexOf(bA)==-1){d5.push(bA);b_.push(eb.Oe()+bA.slice(8))}R.add.SoLd.Idnt.v=b_[d5.indexOf(bA)];
var jH=R.WI(cN);if(jH){cN.LK(jH);hK.k8(jH)}}if(fL==-1&&!d.wR&&d.al5&&!cr.rC(da)){cT=-da.x;iZ=-da.y}if(d5.length>0){if(hK.add.lnk2==null)hK.add.lnk2=[];
for(var S=0;S<d5.length;S++){var df=cN.KQ(d5[S]),aZ=df.clone();aZ.QY=b_[S];hK.add.lnk2.push(aZ)}}}var kc=hK.g.slice(0);
kc.sort(function(V,gh){return V-gh});var gY=hK.B.slice(0),ia=[],aC=-1;for(var S=0;S<kc.length;S++)aC=Math.max(aC,kc[S]);
if(d.awO!=null)aC=d.awO;if(d.wR){aC=d.wR-1;var ez=hK.B[d.wR].ZB();cT+=ez.x;iZ+=ez.y}if(fL!=-1&&(cN!=hK||d.wR)){var di=cN.B[fL].ZB();
cT-=di.x;iZ-=di.y}var ko=hK.B5();for(var S=0;S<ko[0].length;S++){var fV=ko[1][S];if(fV!=-1)ko[1][S]=gY[fV]}aC++;
for(var S=0;S<d.B.length;S++){var L=d.B[S],gm=L.add.artb;gY.splice(aC,0,L);ia.push(aC);aC++;if(gm){dY=!0;
var gi=gm.guideIndeces;if(gi){gi=gi.v;for(var iw=0;iw<gi.length;iw++){ko[0].push(cN.qx[gi[iw].v].slice(0));
ko[1].push(L);kM=!0}}}}for(var S=0;S<ko[0].length;S++){var fV=ko[1][S];if(fV!=-1)ko[1][S]=gY.indexOf(fV)}for(var S=0;
S<d.B.length;S++){var L=d.B[S];if(L.add.lsct==aG.Ni){if(cI==0)jN++;cI++}else if(L.vS())cI--}if(jN==1)ia=[aC-1];
var V=new aw([6,0],this);V.data={d:e8.VA,cY:hK.B.slice(0),JI:gY,Zh:kc,N4:ia};if(kM){V.data.ox=[hK.B5(),ko]}hK.hZ(V);
this.To(V.data,hK);if(cT!=0||iZ!=0)X.rL.gs(hK,hK.ys(),null,cT,iZ);if(dY){V.data.Pa=new a8(0,0,hK.m,hK.i);
V.data.zR=X.JH.qH(hK);X.JH.je(hK)}}if(r==e8.c2){var j1=d.a!=null?[d.a]:c.ys(),gY=c.B.slice(0);for(var S=0;
S<j1.length;S++){var L=c.B[j1[S]].clone();L.jm(c);gY.splice(j1[S],1,L)}var V=new aw([6,8],this);V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:c.g.slice(0)};
c.hZ(V);this.To(V.data,c)}if(r==e8.aaN){var gY=c.B.slice(0),L=gY[c.g[0]]=gY[c.g[0]].clone(),ih=L.add.lmfx,gM,ez;
delete L.add.lmfx;var c8=c.g[0],ja=c8+1;if(L.vS()){var j6=c.B[c.g[0]].oR;ez=j6.a6h;gM=j6.I3;var j=c.root.x$(c8);
c8=j.pu}else{ez=L.rect;gM=v.R(ez.P());v.$P(L.buffer,gM,3)}var fD=eV.sb(ih,L.add.fxrp,gM,ez,c,ez).type;
for(var S=0;S<bV.order.length;S++){var hP=bV.order[S],i0=fD[hP];i0.reverse();for(var iw=0;iw<i0.length;
iw++){var jO=i0[iw],C=c.jb(),b7=S>7;if(hP=="ebbl"){if(jO.Rt||jO.Na){var kp=jO.Rt?jO.Rt:jO.Na;if(jO.Rt)delete jO.Rt;
else delete jO.Na;if(jO.Na||jO.Ct)iw--}else if(jO.Ct||jO.Jy){var kp=jO.Jy?jO.Jy:jO.Ct;if(jO.Jy){delete jO.Jy;
if(jO.Ct)iw--}b7=!0}jO=kp}C.E9=jO.wN;C.opacity=Math.round(255*jO.d0);C.buffer=jO.Gq;C.rect=jO.jI.clone();
C.rect.offset(ez.x,ez.y);if(hP=="FrFX"){C.buffer=C.buffer.slice(0);v.nP(jO.cD?jO.cD:jO.wU,C.buffer,3);
if(jO.cD){b7=!0;delete jO.cD;if(jO.wU)iw--}}C.TA=!b7;C.AP(L.getName()+"'s "+ay.get(bV.names[S]));gY.splice(b7?c8:ja,0,C);
if(b7)ja++}}var V=new aw("Styles to Layers",this);V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:[ja-1]};
c.hZ(V);this.To(V.data,c)}if(r==e8.av7){var j1=c.ys(),gY=c.B.slice(0),co=new a8(0,0,c.m,c.i);for(var S=0;
S<j1.length;S++){var e5=c.B[j1[S]],iR=e5.jF();e5.vI(!0);var i9=c.root.x$(j1[S]);if(e5.vS())continue;
if(i9==null)continue;var L=e5.clone();L.jm(c);var hl=i9.yo(c,!0),jA=c.B;c.GO([e5]);c.W();c.pM();L.buffer=v.R(hl.P()*4);
v.qR(c.Li(),co,L.buffer,hl);L.rect=hl;L.opacity=255;L.add.iOpa=255;L.E9="norm";L.W();L.oR.Ot=!0;c.GO(jA);
if(L.add.lmfx)delete L.add.lmfx;L.t=L.Y2=null;gY.splice(j1[S],1,L);L.vI(iR);e5.vI(iR)}var V=new aw([6,34],this);
V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:c.g.slice(0)};c.hZ(V);this.To(V.data,c)}if(r==e8.afk){var j1=c.ys(),gY=c.B.slice(0);
for(var S=0;S<j1.length;S++){var L=c.B[j1[S]],iA=L.add.TySh;if(iA==null)continue;var R=new iS(iA.p$,B.Sm,iA.wy),gl=v.A.Kr(bQ.Xw(R,iA,!0));
for(var dh in gl){var aK=gl[dh],en=L.clone();delete en.add.TySh;en.xy=en.xy|1<<4;en.add.SoCo=JSON.parse(JSON.stringify(bV.vn[0]));
var hR=en.add.SoCo.Clr.v;hR.Rd.v=parseInt(dh.slice(1,3),16);hR.Grn.v=parseInt(dh.slice(3,5),16);hR.Bl.v=parseInt(dh.slice(5,7),16);
var a3=new e8.vw;a3.Y=v.A.fI(aK,!1);if(en.add.vmsk!=null){en.add.vmsk.at6();a3.concat(en.add.vmsk)}en.add.vmsk=a3;
en.add.vstk=bV._M.qw(!0);en.h0();en.Ys(c);gY.splice(gY.indexOf(L),0,en)}gY.splice(gY.indexOf(L),1)}var ia=c.g.slice(0);
for(var S=ia.length-1;S>=0;S--)if(ia[S]>=gY.length)ia.splice(S,1);var V=new aw([6,40],this);V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:ia};
c.hZ(V);this.To(V.data,c)}if(r==e8.Er){var fg=c.g.length,jh,h2;if(fg<2){alert("Select two or more layers.");
return}for(var S=0;S<fg;S++){var di=c.B[c.g[S]].rect;jh=S==0?di:jh.nK(di);h2=S==0?di:h2.hB(di)}if(jh.P()*1.2>h2.P()){alert("stacking images");
var cP=[],jU=[];for(var S=0;S<fg;S++){var L=c.B[c.g[S]];cP.push(L.buffer);jU.push(L.rect)}var jV=v.a1s.BX(cP,jU),kz=jV[0],hi=jV[1],aV=[];
for(var S=0;S<fg;S++){var fX=new e8.JO;fX.color=255;fX.rect=hi;fX.channel=kz[S];aV.push(c.g[S],null,fX)}var V=new aw("Focus-Stack",this);
V.data={d:e8.Sg,Oh:aV};c.hZ(V);this.To(V.data,c);return}if(!c.kZ())return;var en=c.B[c.g[0]].clone(),gY=[];
for(var S=0;S<c.B.length;S++)if(c.g.indexOf(S)==-1)gY.push(c.B[S]);gY.splice(c.g[0],0,en);for(var S=1;
S<fg;S++)if(c.B[c.g[S]].rect.P()>2e6){alert("Blended areas are too large.");return}for(var S=1;S<fg;
S++){var L=c.B[c.g[S]],hi=L.rect.clone();hi.Lx(1,1);var gh=v.R(hi.P()*4);v.qR(L.buffer,L.rect,gh,hi);
en.extend(hi);var kf=v.R(hi.P()*4);v.qR(en.buffer,en.rect,kf,hi);var V=v.R(hi.P());v.$P(gh,V,3);v.round(V,200);
v.nP(V,gh,3);v.l.Ip("norm",gh,hi,kf,hi,hi,1);v.Vl.eZ(kf,V,hi);v.qR(kf,hi,en.buffer,en.rect)}var V=new aw([2,10,0],this);
V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:[c.g[0]]};c.hZ(V);this.To(V.data,c)}if(r==e8.UH){var gY=c.B.slice(0),dC=c.g.slice(0);
for(var S=0;S<gY.length;S++){var L=gY[S],a9=L.add.vmsk;if(L.sI()&&a9&&L.add.vstk.strokeEnabled.v&&!L.add.vstk.fillEnabled.v){var g8=a9.Y,kd=0,g1=-1;
for(var iw=0;iw<g8.length;iw++){if((g8[iw].type==0||g8[iw].type==3)&&g8[iw].p5!=-1){kd++;if(g8[iw].type==3&&g1==-1){g8[iw].H4=g8[iw].p5=1;
g1=iw}}}if(kd>1&&g1!=-1&&kd<10){console.log("separating an open path into a new layer");L=L.clone();
a9=L.add.vmsk;g8=a9.Y;var C=g8[g1].length,dZ=L.clone();dZ.add.lyid=c.Eu();a9.Y=g8.slice(0,2).concat(g8.slice(g1,g1+C+1));
a9.g=[];L.Ys(c);L.W();var f3=dZ.add.vmsk.Y;dZ.add.vmsk.Y=f3.slice(0,g1).concat(f3.slice(g1+C+1,f3.length));
dZ.add.vmsk.g=[];dZ.Ys(c);gY[S]=L;gY.splice(S+1,0,dZ);for(var iw=0;iw<dC.length;iw++)if(dC[iw]>S)dC[iw]++;
var c2=dC.indexOf(S);if(c2!=-1){dC.splice(c2+1,0,S+1)}}}}if(gY.length!=c.B.length){var V=new aw("Splitting open paths",this);
V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:dC};c.hZ(V);this.To(V.data,c)}}if(r==e8.hS){this.fY({d:e8.UH},W,c,y,B);
var kc=c.g.slice(0),jA=c.B.slice(0),j1=c.ys();if(j1.length==0)return;c.ati(j1,!1,d.Uw);var V=new aw([6,36,0],this);
V.data={d:e8.VA,cY:jA,JI:c.B.slice(),Zh:kc,N4:c.g.slice(0)};c.hZ(V);this.To(V.data,c)}if(r==e8.aeO){var hq=Z.add.SoLd;
if(hq==null)return;var bA=hq.Idnt.v,eH=c.KQ(bA);eH.Li(!1);var ea=eH.Ma[0],hi=eH.Ma[1];if(v._Q(ea)){alert("The smart object contains transparency.");
return}var iL=fd.Ay("jpg").Cy([[ea.buffer]],hi.m,hi.i,[90]);this.fY({d:e8.OY,data:new Uint8Array(iL),Kh:"image.jpg"},W,c,y,B);
console.log(c.add);return}if(r==e8.OY){var co=d.Ig,bA=d.id;if(co==null)co=c;if(bA==null)bA=Z.add.SoLd.Idnt.v;
var df=co.KQ(bA),aZ=df.clone();aZ.raw=d.data;aZ.Kh=d.Kh;var kJ=fd.$Z(d.data.buffer);if(kJ=="psd"){aZ.CX="8BIM";
aZ.pF="8BPB"}else{aZ.CX="    ";aZ.pF="    "}aZ.Li(!1);df.Li(!1);var V=new aw([6,36,1],this);V.data={d:e8.OY,id:bA,kG:df,K9:aZ};
co.hZ(V);this.To(V.data,co)}if(r==e8.zK){var V=new aw([6,36,4],this);V.data={d:r,a:x,qp:Z.add.SoLd.Impr.v.classID,z4:d.z4};
c.hZ(V);this.To(V.data,c)}if(r==e8.agj){var ju,i6;if(d.NH){ju=d.Ig;i6=d.NH}else{d.Ig.zv();d.Ig.L0();
d.Ig.W();d.Ig.pM();d.Ig.Li();ju=fd.Ay("PSD").Cy(d.Ig,0,0,[!0,!0]);i6=d.Ig.name}if(!(ju instanceof ArrayBuffer))throw"e";
ju=new Uint8Array(ju);var Q=d.hk;if(Q==null){if(c.g.length==0)Q=c.g.length;else{var bO=c.g[c.g.length-1],C=c.B[bO];
Q=C.vS()?bO:bO+1}}var cE=new a8(0,0,c.m,c.i),b1=c.Vj();if(b1!=-1)cE=c.B[b1].ZB();var f9=c.GC(ju,i6,null,null,cE,B.Sm,W),gY=c.B.slice(0);
gY.splice(Q,0,f9);var V=new aw([6,36,2],this);V.data={d:e8.VA,cY:c.B.slice(),JI:gY,Zh:c.g.slice(0),N4:[gY.indexOf(f9)]};
c.hZ(V);this.To(V.data,c)}if(r==e8._v&&d.jK=="merge"){var cO=[],hB=c.root.children,fi=0;for(var S=0;
S<hB.length;S++){var j=hB[S],L=j.a,dr=j.children,c6=!0;if(!L.vS()||dr.length==0)continue;for(var iw=0;
iw<dr.length;iw++)if(!dr[iw].a.getName().startsWith("_a_")){c6=!1;break}if(c6)cO.push(c.B.indexOf(L))}var hT=[];
for(var S=0;S<cO.length;S++)if(c.g.indexOf(cO[S])!=-1)hT.push(cO[S]);if(hT.length>=2)cO=hT;if(cO.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var c1=[];for(var S=0;S<cO.length;S++)c1.push(c.B[cO[S]].getName());var i0=[];for(var gT=0;gT<cO.length;
gT++){var j=c.root.x$(cO[gT]),eJ=[[],[],0,gT];i0.push(eJ);for(var S=0;S<j.children.length;S++){var z=j.children[S].index,L=j.children[S].a,i4=L.getName(),hu=20,gr=i4.split(",");
if(gr.length>1){var an=parseInt(gr.pop());if(!isNaN(an)&&an!=0)hu=an}if(hu<17)hu=17;eJ[0].push(L);eJ[1].push(hu);
eJ[2]+=hu}}i0.sort(function(V,gh){return gh[2]-V[2]});if(i0[0][2]>2e3){var ku=0,dG=0;for(var S=0;S<i0.length;
S++){var hp=i0[S][1].length/i0[S][2];if(hp>dG){dG=hp;ku=S}}var hh=(i0[0][2]/1e3).toFixed(1),kw=window.confirm("- \""+c1[i0[0][3]]+"\" is "+hh+" seconds long\n"+"- \""+c1[i0[ku][3]]+"\" is playing at "+Math.round(dG*1e3)+" frames per second\n"+"A merged animation must be "+hh+" sec, up to "+Math.round(i0[0][2]*dG)+" frames. Proceed?");
if(!kw)return}var ec=i0[0],e2=ec[2];for(var fV=1;fV<i0.length;fV++){var eJ=i0[fV],fu=1,aJ=eJ[1].slice(0),hj=0;
while((fu+1)*eJ[2]<=ec[2]){fu++;aJ=aJ.concat(eJ[1])}eJ[1]=aJ;eJ[2]*=fu;var j_=ec[2]/eJ[2];for(var S=0;
S<eJ[1].length;S++){var cb=Math.floor(eJ[1][S]*j_);eJ[1][S]=cb;hj+=cb}while(hj<e2){hj++;eJ[1][eJ[1].length-1]++}eJ[2]=hj}var fH=[],gg=[],cb=[];
for(var S=0;S<i0.length;S++){fH.push(0);gg.push(0)}while(fi<e2){var db=1e9,cX=-1;for(var S=0;S<i0.length;
S++){var c7=i0[S][1],c8=fH[S];if(c8!=c7.length&&gg[S]+c7[c8]<fi+db){cX=S;db=gg[S]+c7[c8]-fi}}gg[cX]+=i0[cX][1][fH[cX]];
fH[cX]++;if(db!=0){cb.push(db);fi+=db}}for(var S=1;S<cb.length;S++){var d0=cb[S];if(d0<16&&(cb[S-1]<16||S<cb.length-1&&16<=cb[S+1])){cb[S-1]+=d0;
cb.splice(S,1);S--}}var iR=[],co=new a8(0,0,c.m,c.i);for(var S=0;S<c.B.length;S++){iR[S]=c.B[S].jF();
c.B[S].vI(!1)}var iJ=c.g.slice(0);c.g=cO;var fM=c.ys();fM.sort(function(V,gh){return V-gh});var gY=[];
for(var S=0;S<c.B.length;S++){if(fM.indexOf(S)==-1)gY.push(c.B[S])}i0.sort(function(V,gh){return V[3]-gh[3]});
function jG(c7,gv){var S=0,hM=0;while(hM+c7[S]<=gv){hM+=c7[S];S++}return S}fi=0;gY.splice(fM[0],0,c.b7());
for(var jS=0;jS<cb.length;jS++){var l=[];for(var S=0;S<i0.length;S++){var c8=jG(i0[S][1],fi)%i0[S][0].length,L=i0[S][0][c8];
l.push(L)}var L=c.jb();for(var S=0;S<i0.length;S++){var aP=l[S],ao=c.B[cO[S]];aP.vI(!0);ao.vI(!0)}c.W();
c.pM();var ea=c.Li();L.rect=v.Cl(ea,co,2);L.buffer=v.R(L.rect.P()*4);v.qR(ea,co,L.buffer,L.rect);for(var S=0;
S<i0.length;S++){var aP=l[S],ao=c.B[cO[S]];aP.vI(!1);ao.vI(!1)}L.vI(jS==0);L.AP("_a_frm"+jS+","+cb[jS]);
gY.splice(fM[0]+1+jS,0,L);fi+=cb[jS]}var L=c.jb();L.AP(c1.join(" + "));L.E9="pass";L.add.lsct=aG.tV;
L.xy=24;gY.splice(fM[0]+1+cb.length,0,L);for(var S=0;S<c.B.length;S++)c.B[S].vI(iR[S]);var V=new aw([6,12,0],this);
V.data={d:e8.VA,cY:c.B,JI:gY,Zh:iJ,N4:[fM[0]+1+cb.length]};c.hZ(V);this.To(V.data,c)}if(r==e8.e4||r==e8.XN){var bj=c.g.length==1&&!c.B[c.g[0]].vS(),jB=!0,f9=null,ia;
if(bj&&c.g[0]==0)return;var jA=c.B.slice(0),kc=c.g.slice(0);if(bj)c.g=[x,x-1];if(r==e8.XN){c.g=[];for(var S=0;
S<c.B.length;S++)if(c.B[S].jF())c.g.push(S)}var j1=c.ys();j1.sort(function(V,gh){return V-gh});var gD=new a8,co=new a8(0,0,c.m,c.i);
for(var S=0;S<j1.length;S++){var z=j1[S],L=c.B[z];if(L.vS()||L.getName()=="</Layer group>")continue;
jB=jB&&L.sI()&&L.add.vmsk!=null;gD=gD.hB(c.root.x$(z).yo(c,!0))}if(d.Jd!=null&&!jB){alert("Select shape layers only.");
return}if(jB){var a9=null,hx=d.Jd;for(var S=0;S<j1.length;S++){var C=c.B[j1[S]];if(C.rect.P()==0)continue;
if(f9==null){f9=C.clone();a9=f9.add.vmsk}else{var C=c.B[j1[S]],f3=e8.vw.Rl(C.add.vmsk.Y);if(hx!=null)for(var iw=0;
iw<f3.length;iw++)if(f3[iw].p5!=null&&f3[iw].p5!=-1)f3[iw].p5=[1,2,3,0][hx];a9.Y=a9.Y.concat(f3.slice(2));
f9.add.vogk=f9.add.vogk.concat(JSON.parse(JSON.stringify(C.add.vogk)))}}f9.add.vmsk.Zv=!0;f9.Ys(c)}else if(co.M_(gD)){f9=c.jb();
f9.AP(c.B[j1[j1.length-1]].getName());f9.rect=gD;f9.buffer=v.R(gD.P()*4);var j4=c.add.artd;delete c.add.artd;
var he=c.Li(j1);if(j4)c.add.artd=j4;v.qR(he,co,f9.buffer,gD);f9.oj();f9.W()}else{c.ati(j1,!0);f9=c.B[c.g[0]];
c.B.splice(c.g[0],1);var aI=c.KQ(f9.add.SoLd.Idnt.v);c.add.lnk2.splice(c.add.lnk2.indexOf(aI),1);delete f9.add.SoLd}var hS=i,iG=-1;
if(d.i9&&d.i9.Dplc&&d.i9.Dplc.v)hS=!0;if(hS&&r==e8.XN&&kc.length!=0&&c.B[kc[0]].TT()&&c.B[kc[0]].rect.Bb()){iG=kc[0]}if(iG!=-1||bj){var eT=c.B[iG!=-1?iG:x-1];
f9.AP(eT.getName());f9.add.lclr=eT.add.lclr}var gY=[];for(var S=0;S<c.B.length;S++)if(hS||j1.indexOf(S)==-1)if(S!=iG)gY.push(c.B[S]);
var aX=j1[j1.length-1],jM=aX==c.B.length-1?null:c.B[aX+1],g$=jM?gY.indexOf(jM):gY.length;gY.splice(g$,0,f9);
ia=[g$];var V=new aw([6,12,0],this);V.data={d:e8.VA,cY:jA,JI:gY,Zh:kc,N4:ia};c.hZ(V);this.To(V.data,c)}if(r==e8.adE){var en=c.jb();
en.rect=new a8(0,0,c.m,c.i);en.buffer=v.R(en.rect.P()*4);v.ft(en.buffer,4294967295);v.l.Ip("norm",c.Li(),en.rect,en.buffer,en.rect,en.rect,1);
en.AP("Background");en.add.lspf=1<<2;var V=new aw([6,12,1],this);V.data={d:e8.VA,cY:c.B.slice(),JI:[en],Zh:c.g.slice(0),N4:[0]};
c.hZ(V);this.To(V.data,c)}var gL=r==e8.p0||r==e8.KN;if(r==e8.qI||r==e8.db||r==e8.br||r==e8.ra||gL){var L=gL?c.GR()[0]:c.jb(),is=ay.get([0,3]),hD=d.Su,el=!1,dH,iH;
if(r==e8.br)is=ay.get([12,76,1]);if(gL){if(c.u){var e5=c.B[c.g[0]],fP=e5.AY(c,c.u);if(fP==null){alert("Copied area is empty");
return}L.rect=fP.rect;L.buffer=fP.iJ;L.jm(c);L.vI(!0)}else hD=L.getName();L.add.lspf=0;L.TA=!1;if((L.xy&1)!=0)L.xy--}if(r==e8.ra){L.rect=X.wu.aqb(d.qt,c);
L.buffer=d.qt.buffer.slice(0);if(d.ca&&c.u){L.t=new e8.JO;L.t.rect=c.u.rect;L.t.color=0;L.t.channel=c.u.channel.slice(0)}}if(r==e8.qI){this.track({cx:"make",i9:{classID:"Mk",null:hC.cV("Lyr")}})}if(r==e8.db){L.xy|=16;
var cy=d.i9.Usng.v,eX=cy.Type.v,kn=bN.dg[eX.classID];is=ay.get(bN.names[kn]);if(cy.Nm)hD=cy.Nm.v;L.add[kn]=eR.qw(kn);
if(L.add[kn]==null)L.add[kn]={};for(var cC in eX)L.add[kn][cC]=JSON.parse(JSON.stringify(eX[cC]));L.t=X.wu.aDF(c);
L.MM=1}if(r==e8.br){L.xy|=16;var bg=d.i9,cy=bg.Usng.v,jt=cy.Type.v,cF=cy.Shp;if(cy.Nm)hD=cy.Nm.v;if(cF==null){var hJ=c.Tz(),gl=hJ[0],kH=hJ[1];
if(kH.length!=0&&gl[kH[0]].Wr<0){var e6=gl[kH[0]].add;L.add.vmsk=e6.vmsk.clone();L.add.vstk=bV._M.qw(!0);
L.add.vogk=JSON.parse(JSON.stringify(e6.vogk));c.DU=[]}else L.t=X.wu.aDF(c)}else{L.add.vmsk=new e8.vw;
L.add.vstk=JSON.parse(JSON.stringify(cy.strokeStyle?cy.strokeStyle.v:bV._M.qw(!0)));L.add.vogk=[];if(cF){var aU=v.dr.hi(cF);
if(aU){L.add.vogk=[aU];L.add.vmsk.Y.push({type:0,p5:1,length:0});v.dr.u_(L.add.vogk,L.add.vmsk)}else{cF=cF.v;
var hY=cF.classID;if(hY=="Plgn"){var hz=cF.Cntr.v,di=cF.corner.v;hz=new aL(hz.Hrzn.v.val,hz.Vrtc.v.val);
di=new aL(di.Hrzn.v.val,di.Vrtc.v.val);L.add.vmsk.Y=v.o.GP.g9(hz.x,hz.y,Math.sqrt(di.x*di.x+di.y*di.y),Math.atan2(di.y,di.x),cF.sides.v,0)}else if(hY=="customShape"){var eF=v.dr.vJ(cF),cV=eF[2]-eF[0],aE=eF[3]-eF[1],fz=B.zc,h9,ac;
for(var S=0;S<fz.length;S++)if(fz[S].XG==cF.Nm.v)h9=fz[S];if(h9){ac=e8.vw.Rl(h9.Y);v.o.hn(ac,new dT(cV,0,0,aE,eF[0],eF[1]))}else ac=v.o.GP.Rect(eF[0],eF[1],cV,aE,0);
L.add.vmsk.Y=ac}L.h0()}}}var iQ={solidColorLayer:0,gradientLayer:1,patternLayer:2}[jt.classID],ek=["SoCo","GdFl","PtFl"][iQ];
L.add[ek]=JSON.parse(JSON.stringify(bV.vn[iQ]));if(iQ==0)L.add[ek].Clr.v=v.L.FV(v.S4(B.R5));X.wu.GL(jt,L.add[ek],iQ);
if(cF==null)is=ay.get([6,48,0,iQ]);if(ek=="PtFl"){var ce=L.add[ek].Ptrn.v,gr=eV.Nf(ce,B._m);if(gr==null)gr=eV.Nf(ce,c.add.Patt);
ce.Idnt.v=gr.id;c.j9(gr)}L.Ys(c)}var fg=X.wu.EH(c,is+" ");L.AP(is+" "+(fg+1));if(hD)L.AP(hD);var ik=c.g.length==0?c.B.length-1:c.g[c.g.length-1],eN=c.B[ik];
if(r==e8.br&&eN.TT()&&eN.rect.Bb()){el=!0;L.AP(eN.getName());dH=ik}else{dH=ik+(r==e8.qI&&H&&!k?0:1);
if(eN&&eN.add.lsct==aG.ED)dH--}if(d.a8C)dH=Math.max(0,dH-1);var gY=c.B.slice(0);if(r==e8.KN){var ii=gY[c.g[0]]=gY[c.g[0]].clone(),fw=c.u.channel.slice(0);
v.QE(fw);v.WW(fw,c.u.rect,ii.buffer,ii.rect)}gY.splice(dH,el?1:0,L);var hE=[5,2];if(r==e8.qI)hE=[6,13];
if(r==e8.db)hE=[6,1];if(r==e8.br){hE=[6,48,1];var cF=d.i9.Usng.v.Shp;if(cF){var b3={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[cF.v.classID];
if(b3)hE=b3}}if(gL){hE=[6,49,r==e8.p0?0:1]}if(gL||r==e8.br||r==e8.ra||r==e8.db)if(c.u)iH=[c.u,null];
var V=new aw(hE,this);V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:[dH],hz:iH};c.hZ(V);this.To(V.data,c);
if(r==e8.br&&cF==null&&iQ!=0||r==e8.db){var G=new bR(b.E.V);G.data={d:b.H.R0,vD:aA.HX.xK};W.T(G)}}if(r==e8.hd){var L=c.jb(),is=ay.get([0,4]),fg=X.wu.EH(c,is+" ");
L.AP(is+" "+(fg+1));L.E9="pass";L.add.lsct=aG.ED;L.xy=24;if(d.Su)L.AP(d.Su);if(d._n!=null)L.add.lclr=d._n;
var eQ=c.b7(),ik=x,dH=ik+(H?0:1),gY=c.B.slice(0);gY.splice(dH,0,eQ,L);var V=new aw([6,20],this);V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:[dH+1]};
c.hZ(V);this.To(V.data,c)}if(r==e8.ZQ||r==e8.xQ){var cq=r==e8.ZQ?d.source:c.g[0],iK,dl,a4=c.g.indexOf(cq)!=-1,ck=i|d.aE9,bC,db=null;
if(a4)bC=c.ys();else bC=c._3(cq);bC.sort(function(V,gh){return V-gh});if(r==e8.ZQ){iK=d.target;dl=d.c9>.5}else if(d.target!=null){iK=Math.min(d.target,c.B.length-1);
dl=d.target<c.B.length;c.Xs=!0}else{var dE=d.jK;dl=dE>1;if(dE==0){iK=c.B.length-1}if(dE==1){iK=bC[bC.length-1]+1;
var C=c._3(iK);if(C.indexOf(cq)==-1)iK+=C.length-1}if(dE==2){iK=bC[0]-1;var C=c._3(iK);if(C.indexOf(cq)==-1)iK-=C.length-1}if(dE==3){iK=0;
if(c.B[0].add.lnsr=="bgnd")iK++}if(iK<0||iK>c.B.length-1)return;c.Xs=!0}if(bC.indexOf(iK)!=-1&&!ck)return;
var gt=X.wu.tD(c,bC,iK,dl,ck?c.GR(a4?null:cq):null,r==e8.ZQ&&d.c9>.8),dc=gt.pop(),dC=gt.pop(),gY=gt.pop(),k4=c.g;
c.g=[cq];var fL=c.Vj();c.g=[iK];var fY=c.Vj();if(fY==iK&&!dl)fY=-1;c.g=k4;if(cq==fL){}else if(fL!=fY){var db=new aL(0,0);
if(fL!=-1){var hi=c.B[fL].ZB();db.x-=hi.x;db.y-=hi.y}if(fY!=-1){var hi=c.B[fY].ZB();db.x+=hi.x;db.y+=hi.y}}var V=new aw(ck?[6,0]:[6,35],this);
V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:dC,iM:db};c.hZ(V);this.To(V.data,c);var bg={classID:"move",null:hC.cV("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:dc+(dl?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:ck}};
this.track({cx:"move",i9:bg})}if(r==e8.af){if(d.HZ){if(Z==null||!Z.vS())return;var j=c.root.x$(x),fG=c.B.indexOf(j.a7Y),gY=c.B.slice(0);
gY.splice(x,1);gY.splice(fG,1);var dC=[];for(var S=fG;S<x-1;S++)dC.push(S);var V=new aw("Ungroup Layers",this);
V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:dC};c.hZ(V);this.To(V.data,c)}else{var L=c.jb(),h5=ay.get([0,4])+" ";
L.AP(h5+(X.wu.EH(c,h5)+1));L.E9="pass";if(d.Su)L.AP(d.Su);if(d._n!=null)L.add.lclr=d._n;L.add.lsct=c.g.length==1?aG.ED:aG.tV;
L.xy=24;var eQ=c.b7(),bC=c.ys();if(bC.length==0)return;bC.sort(function(V,gh){return V-gh});var gY=[];
for(var S=0;S<c.B.length;S++)if(bC.indexOf(S)==-1)gY.push(c.B[S]);var ik=c.g[c.g.length-1]-bC.length;
gY.splice(ik+1,0,eQ);for(var S=0;S<bC.length;S++)gY.splice(ik+2+S,0,c.B[bC[S]]);gY.splice(ik+2+bC.length,0,L);
var V=new aw([6,9],this);V.data={d:e8.VA,cY:c.B.slice(0),JI:gY,Zh:c.g.slice(0),N4:[gY.indexOf(L)]};c.hZ(V);
this.To(V.data,c);var e={cx:"make",mP:!0};e.i9={classID:"Mk",null:hC.cV("layerSection"),From:hC.cV("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:L.getName()}}}};
this.track(e)}}if(r==e8.ajs){if(c.g.length!=1)return;var Q=c.g[0],i8=i;if(c.B[Q].Q7()==null&&!y.S(bm.Z7)){r=e8.jV;
d.Gg=c.u?!i8?"RvlS":"HdSl":!i8?"RvlA":"HdAl"}else{r=e8.Bu;d.aDG=!0}}if(r==e8.jV){if(c.g.length!=1)return;
var Q=c.g[0],L=c.B[Q];if(L.add.vmsk&&L.t==null)L.Ys(c);var fa=L.Q7();if(fa==null||d.a7y){var V=new aw(d.Su?d.Su:[6,21],this),gE=new e8.JO,gu=d.Gg,as=gu=="RvlS"||gu=="HdSl";
if(gu=="RvlS"||gu=="HdAl"||gu=="Trns")gE.color=0;if(as){gE.channel=c.u.channel.slice(0);gE.rect=c.u.rect.clone();
if(gu=="HdSl")v.QE(gE.channel)}if(gu=="Trns"){gE.rect=L.rect.clone();gE.channel=v.R(L.rect.P());v.$P(L.buffer,gE.channel,3)}V.data={d:e8.Sg,Oh:[Q,fa,gE],hz:as?[c.u,null]:null,aeh:gu=="Trns"};
c.hZ(V);this.To(V.data,c);c.B[Q].MM=1;this.track({cx:"make",i9:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:gu}}}})}}else if(r==e8.apB){var b9=c.B[d.src],bK=c.B[d.kT],V=new aw([6,21],this),kq=b9.Q7(),ax=bK.Q7(),fX=[d.src,kq,null,d.kT,ax,kq];
if(i||k){var i4=kq.clone();if(i)fX=[d.kT,ax,i4];else fX[5]=i4;if(k){v.QE(i4.channel);i4.color=255-i4.color}}V.data={d:e8.Sg,Oh:fX};
c.hZ(V);this.To(V.data,c)}if(r==e8.gK){if(c.g.length!=1)return;var Q=x,fC=c.B[Q].Q7();if(fC!=null){var V=new aw([6,22],this);
V.data={d:e8.Sg,Oh:[x,fC,null]};c.hZ(V);this.To(V.data,c)}}if(r==e8.vb){var jA=c.B.slice(0),en=Z.clone(),f$=en.Q7();
v.WW(f$.OU(en.rect),en.rect,en.buffer,en.rect);X.wu.xe(c,en);en.oj();c.B[c.g[0]]=en;var V=new aw([5,8],this);
V.data={d:e8.VA,cY:jA,JI:c.B.slice(),Zh:c.g.slice(0),N4:c.g.slice(0)};c.hZ(V);this.To(V.data,c)}if(r==e8._u){if(c.g.length!=1)return;
var Q=c.g[0];if(c.B[Q].WI(c).t==null){var V=new aw([6,45],this);V.data={d:r,a:Q,t:new e8.JO};c.hZ(V);
this.To(V.data,c)}}if(r==e8.oF){if(c.g.length!=1)return;var Q=c.g[0];if(c.B[Q].WI(c).t!=null){var V=new aw([6,46],this);
V.data={d:r,a:Q,t:c.B[Q].WI(c).t};c.hZ(V);this.To(V.data,c)}}if(r==e8.Ff){if(d.src==null&&c.g.length!=1)return;
if(d.src!=null)x=d.src;if(c.B[x].pX()){var V=new aw([6,47],this),hq=JSON.stringify(c.B[x].add.SoLd),ip=JSON.parse(hq);
delete ip.filterFX;V.data={d:e8.wj,BP:[{YA:x,Oq:[hq,JSON.stringify(ip)],H_:[c.B[x].WI(c),null]}]};c.hZ(V);
this.To(V.data,c)}}if(r==e8.Bu){if(c.g.length!=1)return;if(Z.add.vmsk==null){var V=new aw([6,23],this),g8=c.Tz(),iM=g8[1],g8=g8[0],gE,aU;
if(d.aDG&&iM.length!=0){var e6=g8[iM[0]].add;gE=e6.vmsk.clone();aU=e6.vogk}else{gE=new e8.vw;aU=[];gE.Y[1].all=d.o2?0:1}V.data={d:r,a:x,Xm:!0,t:gE,dr:JSON.stringify(aU),_M:null};
if(Z.sI()){V.data._M=Stroke._M.qw(!0)}c.hZ(V);this.To(V.data,c)}}if(r==e8.LO){var b9=c.B[d.src],bK=c.B[d.kT];
if(bK.add.vmsk)return;var V=new aw([6,23],this),a9=b9.add.vmsk;V.data={a:d.kT,Xm:b9.lO,t:a9.clone(),dr:JSON.stringify(b9.add.vogk),_M:b9.add.vstk?JSON.stringify(b9.add.vstk):null};
if(i){V.data.d=e8.Bu}else{V.data.d=r;V.data.src=d.src;V.data.kT=d.kT}c.hZ(V);this.To(V.data,c)}if(r==e8.fB||r==e8.oh){if(c.g.length!=1)return;
var L=c.B[x],a9=L.add.vmsk;if(a9!=null){var cD=r==e8.oh,V=new aw(cD?[6,8]:[6,24],this);V.data={d:e8.fB,a:x,Xm:L.lO,t:a9,dr:JSON.stringify(L.add.vogk),_M:L.add.vstk?JSON.stringify(L.add.vstk):null};
if(cD){V.data.Y2=a9.Q7(L.add.vstk)}c.hZ(V);this.To(V.data,c)}}if(r==e8.Xk){var V=new aw("Metadata",this);
V.data={d:r,c$:JSON.stringify(c.RO),op:JSON.stringify(d.op)};c.hZ(V);this.To(V.data,c)}if(r==e8.zH){var f4=d.kT?d.kT:c,fx=f4.name,hD=d.b+".psd";
if(fx==hD)return;var V=new aw([6,37],this);V.data={d:r,a7Z:fx,Su:hD};if(d.a1Q!=!0)f4.hZ(V);this.To(V.data,f4)}if(r==e8._v&&d.jK.endsWith("makeframes")){var cK=[],d7=d.jK.startsWith("make");
for(var S=0;S<c.g.length;S++){var z=c.g[S],L=c.B[z],ep=L.getName(),bb=ep.startsWith("_a_");if(d7==bb||L.add.lsct==aG.Ni)continue;
var d2=d7?"_a_"+ep:ep.slice(3);cK.push([z,ep,d2,L.add.lnsr,null])}var V=new aw([6,37],this);V.data={d:e8.gh,au:cK};
c.hZ(V);this.To(V.data,c)}if(r==e8.gh){var fx=Z.getName(),hD=d.name.substring(0,255);if(fx==hD)return;
var V=new aw([6,37],this);V.data={d:r,au:[[x,fx,hD,Z.add.lnsr,null]]};c.hZ(V);this.To(V.data,c);this.track(hC.px("Nm",{t:"TEXT",v:hD}))}if(r==e8.eN){var c3=c.ys(),bS=[],gn=[];
for(var S=0;S<c3.length;S++){bS.push(c.B[c3[S]].add.lclr);gn.push(d.agL)}var V=new aw([6,38],this);V.data={d:r,B:c3,aiq:bS,_n:gn};
c.hZ(V);this.To(V.data,c)}if(r==e8.JL){var V=c.history[c.ST];if(V!=null&&V.f==this&&V.data.d==r&&V.data.a==d.W2&&V.data.z4.bQ==d.tp.bQ)V.data.z4=d.tp;
else{V=new aw("Mask Density / Feather",this);V.data={d:r,a:d.W2,qp:c.B[d.W2].oC(d.tp.bQ),z4:d.tp};c.hZ(V)}this.To(V.data,c)}if(r==e8.Ky){var g_=JSON.stringify(d.b),jT=JSON.parse(g_),V=c.history[c.ST];
if(V!=null&&V.f==this&&V.data.d==r&&V.data.aG==d.aG&&V.data.TZ.join(",")==d.TZ.join(",")){for(var S=0;
S<d.TZ.length;S++)V.data.E2[S]=jT;if(V.data.i9&&jT.pF!=0)X.wu.GL(jT.ue,V.data.i9.T.v,jT.pF-1)}else{V=new aw([11,6],this);
V.data={d:r,TZ:d.TZ,aG:d.aG,a0a:[],E2:[]};var kr=!1;for(var S=0;S<d.TZ.length;S++){var z=d.TZ[S],L=c.B[z],iq=d.aG?bV.xI(L.add):JSON.parse(JSON.stringify(L.add.vstk));
V.data.a0a.push(iq);V.data.E2.push(jT);if(JSON.stringify(iq)!=g_)kr=!0}if(!kr)return;c.hZ(V);if(d.aG&&jT.pF>0){var bg=V.data.i9={classID:"setd",null:hC.cV("contentLayer",!0),T:{t:"Objc",v:{}}};
X.wu.GL(jT.ue,bg.T.v,jT.pF-1);this.track({cx:"set",i9:bg})}}if(d.aG&&jT.pF==3)c.j9(eV.Nf(jT.ue.Ptrn.v,B._m));
if(!d.aG){var cp=jT.strokeStyleContent.v;if(cp.classID==bV._M.sy[2])c.j9(eV.Nf(cp.Ptrn.v,B._m))}this.To(V.data,c)}};
X.wu.tD=function(d,W,c,y,B,r){var x=d.B[c],Z=[];if(B)Z=d.B.slice(0);else for(var S=0;S<d.B.length;S++)if(W.indexOf(S)==-1)Z.push(d.B[S]);
var i=Z.indexOf(x);if(r&&x.vS()&&x.add.lsct==aG.tV)i-=d._3(c).length-1;var k=[];for(var S=0;S<W.length;
S++){var H=i+(y?0:1)+S,V=B?B[S]:d.B[W[S]];Z.splice(H,0,V);k.push(H)}return[Z,k,i]};X.wu.GL=function(d,W,c){var y=[bV.Ak,bV.n1,bV.DX][c];
if(W.classID==null)W.classID=["solidColorLayer","gradientLayer","patternLayer"][c];for(var S=0;S<y.length;
S++)if(d[y[S]])W[y[S]]=JSON.parse(JSON.stringify(d[y[S]]))};X.wu.aDF=function(d){var W=new e8.JO;if(d.u!=null){W.color=0;
W.channel=d.u.channel.slice(0);W.rect=d.u.rect.clone()}return W};X.wu.qc=function(d,W,c,y,B){var r=y.m/c.m,x=y.i/c.i,Z=y.m/2,i=y.i/2,k=v.A.z$(y).j;
for(var S=0;S<d.B.length;S++){var H=d.B[S],V=H.add.SoLd;if(V==null||V.Idnt.v!=W)continue;var g=r!=1||x!=1;
if(g){var N=X.X.R6(V.nonAffineTransform),C=v.D.bO(N,y),w=new dT;w.translate(-Z,-i);w.scale(r,x);w.translate(Z,i);
var Y=v.D.lU(C,v.D.MK(w)),U=k.slice(0);v.D.e(Y,U);V.Trnf=X.X.oY(U);V.nonAffineTransform=X.X.oY(U);if(v.lk.uP(V.quiltWarp.v)){var e=V.quiltWarp.v.bounds.v;
e.Rght.v.val=y.m;e.Btom.v.val=y.i}}H.Hg(d,null,B,!g)}d.W()};X.wu.a0m=function(d,W,c){W.color=255-W.color;
v.QE(W.channel);W.Zv=!0;d.Ys(c);c.W()};X.wu.prototype.lL=function(d,W){var c=d.d,y=W.B[d.a];W.Dy=!0;
if(c==e8.OY){W.add.lnk2.splice(W.add.lnk2.indexOf(d.K9),1,d.kG);X.wu.qc(W,d.id,d.K9.Ma[1],d.kG.Ma[1])}if(c==e8.zK){y.add.SoLd.Impr.v.classID=d.qp;
y.Hg(W)}if(c==e8.Mc){var B=JSON.parse(d.TZ);for(var S=0;S<B.length;S++)W.B[B[S]].E9=d.KS[S];W.W()}if(c==e8.aU){var B=JSON.parse(d.TZ);
for(var S=0;S<B.length;S++)W.B[B[S]].opacity=d.KS[S];W.W()}if(c==e8.PJ){var B=JSON.parse(d.TZ);for(var S=0;
S<B.length;S++)if(W.B[B[S]].add.lsct!=aG.Ni)W.B[B[S]].add.lspf=d.KS[S]}if(c==e8.GN){var r=d.QH,x=d.aat;
delete y.add[r[0]];if(x[0]!="----")y.add[x[0]]=x[1]}if(c==e8.fV){y.add.iOpa=d.KS;W.W()}if(c==e8.DC){for(var S=0;
S<d.TZ.length;S++){var Z=W.B[d.TZ[S]];Z.vI(!Z.jF())}W.W()}if(c==e8.lG){var i=y.Q7();i.isEnabled=!i.isEnabled;
y.Ys(W);W.W()}if(c==e8.yg){var i=y.WI(W).t;i.isEnabled=!i.isEnabled;y.W();W.W()}if(c==e8._a){var i=y.add.vmsk;
i.isEnabled=!i.isEnabled;if(!i.isEnabled){if(y.Y2){y.t=y.Y2;y.Y2=null}else y.t=null}else if(y.t){y.Y2=y.t;
y.t=null}y.Ys(W);W.W()}if(c==e8.U1){y.TA=!y.TA;W.W()}if(c==e8.Ii){y.add.lmfx.masterFXSwitch.v=!y.add.lmfx.masterFXSwitch.v;
y.oR.Ot=!0;W.W()}if(c==e8.aS){y.add.SoLd.filterFX.v.enab.v=!y.add.SoLd.filterFX.v.enab.v;y.WT(W);W.W()}if(c==e8.mF){var k=d.index,H=y.add.lmfx[bV.Fb[k[0]]].v[k[1]].v;
H.enab.v=!H.enab.v;y.oR.Ot=!0;W.W()}if(c==e8.uC){var V=W.B[d.P9],g=W.B[d.io],N=d.adO,C=d.aoO;if(N=="")delete V.add.lmfx;
else V.add.lmfx=JSON.parse(N);if(C=="")delete g.add.lmfx;else g.add.lmfx=JSON.parse(C);V.oR.Ot=!0;g.oR.Ot=!0;
W.W()}if(c==e8.XY){var w=y.add.SoLd.filterFX.v.filterFXList.v[d.index].v;w.enab.v=!w.enab.v;y.WT(W);
W.W()}if(c==e8.aCM){y.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(d.awE));y.WT(W);W.W()}if(c==e8.n_){var i=y.Q7();
i.Ps=!i.Ps}if(c==e8.IL){var i=y.add.vmsk;i.Ps=!i.Ps}if(c==e8.pT){var Y=JSON.parse(d.a3h);W.eS=Y[0];W.ZH=Y[1]}if(c==e8.C2){var Y=d.AD;
for(var S=0;S<Y.length;S+=2){var U=Y[S],Z=U>=0?W.B[U]:W.GB[-1-U];Z.add.vogk=JSON.parse(Y[S+1]);v.dr.u_(Z.add.vogk,Z.add.vmsk);
if(U>=0)Z.Ys(W)}W.W()}if(c==e8.Oy){y.add.artb=JSON.parse(d.a5F);W.W();X.JH.Pz(W,d)}if(c==e8.iq){W.u=d.FK;
if(d.agQ)W.Q.M=d.agQ.slice(0);W.iv=d.AD.slice(0);W.tv=d.ti.slice(0);W.ps=W.Pm=!0}if(c==e8.Lk){y.EP=!y.EP}if(c==e8.Bm){var e=d.an8;
for(var S=0;S<e.length;S++)W.B[S].ks=e[S]}if(c==e8.VA){if(d.iM)X.rL.gs(W,W.g,null,-d.iM.x,-d.iM.y);if(d.Zh)W.g=d.Zh;
if(d.hz)W.u=d.hz[0];W.jh=null;W.W();X.JH.Pz(W,d);W.GO(d.cY);if(d.ox)W.Pe(d.ox[0])}if(c==e8.Sg){for(var S=0;
S<d.Oh.length;S+=3)X.wu.xe(W,W.B[d.Oh[S]],d.Oh[S+1]);if(d.hz){var O=d.hz[0];if(O==null)delete W.u;else W.u=O}if(d.aeh){var Z=W.B[d.Oh[0]];
v.nP(d.Oh[2].channel,Z.buffer,3)}}if(c==e8._u){y.WI(W).t=null;y.W();W.W()}if(c==e8.oF){y.WI(W).t=d.t;
y.W();W.W()}if(c==e8.wj){X.wu.a1h(W,d.BP,0)}if(c==e8.Bu){X.wu.G8(W,y,!0)}if(c==e8.LO){X.wu.G8(W,W.B[d.kT],d.t.isEnabled);
X.wu.IU(W,W.B[d.src],d)}if(c==e8.fB){if(d.Y2)X.wu.xe(W,y,null);X.wu.IU(W,y,d)}if(c==e8.Xk){W.RO=JSON.parse(d.c$)}if(c==e8.zH){W.name=d.a7Z}if(c==e8.gh){for(var S=0;
S<d.au.length;S++){var l=d.au[S],Z=W.B[l[0]];Z.AP(l[1]);if(l[3])Z.add.lnsr=l[3];else delete Z.add.lnsr}}if(c==e8.eN){for(var S=0;
S<d.B.length;S++)W.B[d.B[S]].add.lclr=d.aiq[S]}if(c==e8.Ky){var I=d.a0a;for(var S=0;S<d.TZ.length;S++){var Z=W.B[d.TZ[S]],s=I[S];
if(!d.aG)Z.add.vstk=JSON.parse(JSON.stringify(s));else bV.D4(Z.add,JSON.parse(JSON.stringify(s)));Z.gn(W)}W.W()}if(c==e8.JL){y.a6L(d.qp);
y.Ys(W);W.W()}W.Pm=!0};X.wu.prototype.To=function(d,W){var c=d.d,y=W.B[d.a];W.Dy=!0;if(c==e8.OY){W.add.lnk2.splice(W.add.lnk2.indexOf(d.kG),1,d.K9);
X.wu.qc(W,d.id,d.kG.Ma[1],d.K9.Ma[1])}if(c==e8.zK){y.add.SoLd.Impr.v.classID=d.z4;y.Hg(W)}if(c==e8.Mc){var B=JSON.parse(d.TZ);
for(var S=0;S<B.length;S++)W.B[B[S]].E9=d.z4;W.W()}if(c==e8.aU){var B=JSON.parse(d.TZ);for(var S=0;S<B.length;
S++)W.B[B[S]].opacity=d.z4;W.W()}if(c==e8.PJ){var B=JSON.parse(d.TZ);for(var S=0;S<B.length;S++)if(W.B[B[S]].add.lsct!=aG.Ni)W.B[B[S]].add.lspf=d.z4[S]}if(c==e8.GN){var r=d.aat,x=d.QH;
delete y.add[r[0]];if(x[0]!="----")y.add[x[0]]=x[1]}if(c==e8.fV){y.add.iOpa=d.z4;W.W()}if(c==e8.DC){for(var S=0;
S<d.TZ.length;S++){var Z=W.B[d.TZ[S]];Z.vI(!Z.jF())}W.W()}if(c==e8.lG){var i=y.Q7();i.isEnabled=!i.isEnabled;
y.Ys(W);W.W()}if(c==e8.yg){var i=y.WI(W).t;i.isEnabled=!i.isEnabled;y.W();W.W()}if(c==e8._a){var i=y.add.vmsk;
i.isEnabled=!i.isEnabled;if(!i.isEnabled){if(y.Y2){y.t=y.Y2;y.Y2=null}else y.t=null}else if(y.t){y.Y2=y.t;
y.t=null}y.Ys(W);W.W()}if(c==e8.U1){y.TA=!y.TA;W.W()}if(c==e8.Ii){y.add.lmfx.masterFXSwitch.v=!y.add.lmfx.masterFXSwitch.v;
y.oR.Ot=!0;W.W()}if(c==e8.aS){y.add.SoLd.filterFX.v.enab.v=!y.add.SoLd.filterFX.v.enab.v;y.WT(W);W.W()}if(c==e8.mF){var k=d.index,H=y.add.lmfx[bV.Fb[k[0]]].v[k[1]].v;
H.enab.v=!H.enab.v;y.oR.Ot=!0;W.W()}if(c==e8.uC){var V=W.B[d.P9],g=W.B[d.io],N=d.a9W,C=d.aai;if(N=="")delete V.add.lmfx;
else V.add.lmfx=JSON.parse(N);if(C=="")delete g.add.lmfx;else g.add.lmfx=JSON.parse(C);V.oR.Ot=!0;g.oR.Ot=!0;
W.W()}if(c==e8.XY){var w=y.add.SoLd.filterFX.v.filterFXList.v[d.index].v;w.enab.v=!w.enab.v;y.WT(W);
W.W()}if(c==e8.aCM){y.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(d.aom));y.WT(W);W.W()}if(c==e8.n_){var i=y.Q7();
i.Ps=!i.Ps}if(c==e8.IL){var i=y.add.vmsk;i.Ps=!i.Ps}if(c==e8.pT){var Y=JSON.parse(d.alI);W.eS=Y[0];W.ZH=Y[1]}if(c==e8.C2){var Y=d.OW;
for(var S=0;S<Y.length;S+=2){var U=Y[S],Z=U>=0?W.B[U]:W.GB[-1-U];Z.add.vogk=JSON.parse(Y[S+1]);v.dr.u_(Z.add.vogk,Z.add.vmsk);
if(U>=0)Z.Ys(W)}W.W()}if(c==e8.Oy){y.add.artb=JSON.parse(d.U3);W.W();X.JH.et(W,d)}if(c==e8.iq){W.u=d.EC;
if(d.aa7)W.Q.M=d.aa7.slice(0);W.iv=d.OW.slice(0);W.tv=d.Z6.slice(0);W.ps=W.Pm=!0}if(c==e8.Lk){y.EP=!y.EP}if(c==e8.Bm){var e=d.aoe;
for(var S=0;S<e.length;S++)W.B[S].ks=e[S]}if(c==e8.VA){W.akS();var O=d.JI,l=0,I;for(var S=0;S<O.length;
S++){var Z=O[S],s=Z.add.lsct;if(s==aG.Ni)l++;else if(s==aG.ED||s==aG.tV)l--;if(Z.add.artb&&l!=0)I="Artboards can not be inside folders."}if(I){W.history.pop();
W.ST--;alert(I);return}if(d.N4)W.g=d.N4;if(d.hz)W.u=d.hz[1];W.jh=null;W.W();W.GO(d.JI);X.JH.et(W,d);
if(d.iM)X.rL.gs(W,W.g,null,d.iM.x,d.iM.y);if(d.ox)W.Pe(d.ox[1])}if(c==e8.Sg){for(var S=0;S<d.Oh.length;
S+=3)X.wu.xe(W,W.B[d.Oh[S]],d.Oh[S+2]);if(d.hz){var z=d.hz[1];if(z==null)delete W.u;else W.u=z}if(d.aeh){var Z=W.B[d.Oh[0]],R=Z.buffer;
for(var S=0;S<R.length;S+=4)R[S+3]=255}}if(c==e8._u){y.WI(W).t=d.t;y.MM=0;y.W();W.W()}if(c==e8.oF){y.WI(W).t=null;
y.MM=0;y.W();W.W()}if(c==e8.wj){X.wu.a1h(W,d.BP,1)}if(c==e8.Bu){X.wu.IU(W,y,d)}if(c==e8.LO){X.wu.G8(W,W.B[d.src],d.t.isEnabled);
X.wu.IU(W,W.B[d.kT],d)}if(c==e8.fB){X.wu.G8(W,y,d.t.isEnabled);if(d.Y2)X.wu.xe(W,y,d.Y2)}if(c==e8.Xk){W.RO=JSON.parse(d.op)}if(c==e8.zH){W.name=d.Su}if(c==e8.gh){for(var S=0;
S<d.au.length;S++){var t=d.au[S],Z=W.B[t[0]];Z.AP(t[2]);if(t[4])Z.add.lnsr=t[4];else delete Z.add.lnsr}}if(c==e8.eN){for(var S=0;
S<d.B.length;S++)W.B[d.B[S]].add.lclr=d._n[S]}if(c==e8.Ky){var a=d.E2;for(var S=0;S<d.TZ.length;S++){var Z=W.B[d.TZ[S]],J=a[S];
if(!d.aG)Z.add.vstk=JSON.parse(JSON.stringify(J));else bV.D4(Z.add,JSON.parse(JSON.stringify(J)));Z.gn(W)}W.W()}if(c==e8.JL){y.a6L(d.z4);
y.Ys(W);W.W()}W.Pm=!0};X.wu.EH=function(d,W){var c=0;for(var S=0;S<d.B.length;S++){var y=d.B[S].getName();
if(y.startsWith(W)){var B=y.slice(W.length).trim(),r=parseInt(B);if(!isNaN(r)&&r+""==B&&r>c)c=r}}return c};
X.wu.a1h=function(d,W,c){for(var S=0;S<W.length;S++){var y=W[S],B=d.B[y.YA];if(y.Oq){B.add.SoLd=JSON.parse(y.Oq[c])}if(y.H_){if(y.H_[1-c]!=null)d.LK(y.H_[1-c]);
if(y.H_[c]!=null)d.k8(y.H_[c]);else B.MM=0}B.Hg(d)}};X.wu.aqb=function(d,W){var c=d.II,y=d.rect.clone();
if(c!=null&&(c.x!=W.m||c.y!=W.i)){y.x=Math.floor((W.m-y.m)/2);y.y=Math.floor((W.i-y.i)/2)}else if(c==null){var B=new a8(0,0,W.m,W.i),r=W.Vj();
if(r!=-1)B=W.B[r].ZB();y.x+=B.x;y.y+=B.y}return y};X.wu.a6I=function(d,W){if(W.Y2)W.Y2=null;else W.t=null;
W.Ys(d);d.W();W.MM=0};X.wu.xe=function(d,W,c){var y=W.Q7();if(y==null&&c==null)return;if(y)X.wu.a6I(d,W);
if(c==null)return;if(W.t)W.Y2=c;else W.t=c;W.Ys(d);d.W()};X.wu.G8=function(d,W,c){if(W.Y2&&c){W.t=W.Y2;
W.Y2=null}else if(W.t&&c){W.t=null}delete W.add.vogk;delete W.add.vstk;delete W.add.vmsk;W.Ys(d);W.lO=!1;
d.jh=[];d.W()};X.wu.IU=function(d,W,c){W.add.vogk=JSON.parse(c.dr);if(c._M)W.add.vstk=JSON.parse(c._M);
else delete W.add.vstk;W.add.vmsk=c.t.clone();if(W.t&&W.add.vmsk.isEnabled)W.Y2=W.t;W.Ys(d);W.lO=c.Xm;
d.jh=[d.B.indexOf(W)];d.DU=[];d.W()};X.M1=function(){X.dA.call(this,"Layer Styles",X.tm);this.xP=null;
this.X7=null;this.MT=null;this._R=[];this.X8=null};X.M1.prototype=new X.dA;X.M1.prototype.fY=function(d,W,c,y,B){var r=d.a;
if(r==null)r=c.g[0];var x=c.B[r],Z=d.Wr;if(this.xP==null){this.MT=X.M1.by(c,x);this.xP=JSON.stringify(this.MT);
if(x.add.lmfx)this.X7=JSON.stringify(x.add.lmfx)}if(x.add.lmfx==null){x.add.lmfx=JSON.parse(bV.default);
for(var S=0;S<bV.order.length;S++)x.add.lmfx[bV.Fb[S]]={t:"VlLs",v:[]}}if(d.d=="scaleeffects"){if(d.b=="confirm"||d.b=="cancel"){this.fY({d:d.b},W,c,y,B);
return}x.add.lmfx=JSON.parse(this.X7);eV.TU(x.add.lmfx,d.b/100)}else if(d.d=="changeprop"){var i=null;
if(Z!=0){var k=this._R[Z[0]];if(k==null)k=bV._R[Z[0]];k=JSON.parse(k);var H=x.add.lmfx[bV.Fb[Z[0]]].v;
if(H[Z[1]]==null)H[Z[1]]={t:"Objc",v:k};i=H[Z[1]].v;for(var V in k)if(i[V]==null)i[V]=k[V]}if(d.d=="changeprop"){if(Z==0){this.MT[d.Nb].v=d.b;
X.M1.EB(c,x,this.MT)}else if(d.Nb=="lagl"){if(i.uglg&&i.uglg.v){c.Ms(d.b.val);this.MT.gagl.v.val=c.ws()}else i[d.Nb].v=d.b}else if(d.Nb=="Lald"){if(i.uglg.v){c.mj(d.b.val);
this.MT.af7=c.E6()}else i[d.Nb].v=d.b}else if((Z[0]==3||Z[0]==8)&&(d.Nb=="Clr"||d.Nb=="Grad")){if(d.Nb=="Clr"){i.Clr={t:"Objc",v:d.b};
delete i.Grad}if(d.Nb=="Grad"){i.Grad={t:"Objc",v:d.b};delete i.Clr}}else{i[d.Nb].v=d.b}if(Z!=0)this._R[Z[0]]=JSON.stringify(i)}if(Z!=0)if(i.Ptrn)c.j9(eV.Nf(i.Ptrn.v,B._m))}else if(d.d=="setstl"){var g=d.b.Lefx;
if(g)eV.ayo(g,c,B._m);eV.agJ(d.b,x,null,c);this.MT=X.M1.by(c,x)}else if(d.d=="st_dupsingle"){var N=x.add.lmfx[bV.Fb[d.Q2[0]]].v;
if(N[d.Q2[1]]==null)return;var C=JSON.parse(JSON.stringify(N[d.Q2[1]]));N.splice(d.Q2[1],0,C)}else if(d.d=="st_movsingle"){var w=d.Q2[1],N=x.add.lmfx[bV.Fb[d.Q2[0]]].v;
if(N[d.Q2[1]]==null)return;var Y=Math.max(0,Math.min(N.length-1,w+d.ayW)),U=N[Y];N[Y]=N[w];N[w]=U}else if(d.d=="cancel"){if(this.X7==null)delete x.add.lmfx;
else x.add.lmfx=JSON.parse(this.X7);X.M1.EB(c,x,JSON.parse(this.xP));this.xP=null;this.X7=null}else if(d.d=="confirm"){var e=JSON.stringify(x.add.lmfx),O=new aw([11,6],this);
O.data={B:[r],Fj:[this.X7],mp:[e],Lf:[this.xP],BN:[JSON.stringify(this.MT)]};c.hZ(O);this.xP=null;this.X7=null;
if(e!=null){var l=JSON.parse(e);dy.ME(l);l.classID="Lefx";delete l.masterFXSwitch;var I=new bR(b.E.HQ);
I.vd=!0;I.data={cx:"set",mP:!0};var s=hC.cV("Lyr",!0);s.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
I.data.i9={__name:"Set",classID:"setd",null:s,T:{t:"Objc",v:l}};W.T(I)}}else if(d.d=="st_copy"){this.X8=[this.xP,this.X7];
this.xP=null;this.X7=null}else if(d.d=="st_paste"||d.d=="st_clear"){if(d.d=="st_paste"&&this.X8==null)return;
var z=d.a!=null?[d.a]:c.g.slice(0),R=[],t=[],a=[],J=[];for(var S=0;S<z.length;S++){var x=c.B[z[S]],F=X.M1.by(c,x);
R.push(x.add.lmfx?JSON.stringify(x.add.lmfx):null);a.push(JSON.stringify(F));if(d.d=="st_paste"){t.push(this.X8[1]);
J.push(this.X8[0])}else{t.push(null);F.lrMd.v=0;F.Opct.v.val=100;F.iOpa.v.val=100;F.blIf={v:[]};for(var h=0;
h<10;h++)F.blIf.v.push(0,0,255,255);J.push(JSON.stringify(F))}}var O=new aw([11,6],this);O.data={B:z,Fj:R,mp:t,Lf:a,BN:J};
this.To(O.data,c);c.hZ(O);this.xP=null;this.X7=null}else{var m=this.MT,l=null;if(d.d=="st_delsingle"){l=JSON.parse(this.X7);
l[bV.Fb[d.Q2[0]]].v.splice(d.Q2[1],1);l=JSON.stringify(l)}if(l==null)delete x.add.lmfx;else x.add.lmfx=JSON.parse(l);
if(m!=null)X.M1.EB(c,x,m);var O=new aw([11,6],this);O.data={B:[d.a],Fj:[this.X7],mp:[l],Lf:[this.xP],BN:[JSON.stringify(m)]};
c.hZ(O);this.xP=null;this.X7=null}x.oR.Ot=!0;c.Dy=!0;c.W()};X.M1.by=function(d,W){if(W.add.iOpa==null)W.add.iOpa=255;
if(W.add.brst==null)W.add.brst=[1,1,1];var c=W.vS()?["pass"].concat(dB.s0):dB.s0;return{lrMd:{v:c.indexOf(W.E9)},Opct:{v:{type:"#Prc",val:Math.round(W.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(W.add.iOpa*100/255)},t:"UntF"},blIf:{v:W.pm.slice(0)},brst:{v:W.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:d.ws()}},af7:d.E6(),vS:W.vS()}};
X.M1.EB=function(d,W,c){var y=W.vS()?["pass"].concat(dB.s0):dB.s0;W.E9=y[c.lrMd.v];W.opacity=Math.round(c.Opct.v.val*255/100);
W.add.iOpa=Math.round(c.iOpa.v.val*255/100);W.pm=c.blIf.v.slice(0);W.add.brst=c.brst.v.slice(0);d.Ms(c.gagl.v.val);
d.mj(c.af7)};X.M1.prototype.lL=function(d,W){for(var S=0;S<d.B.length;S++){var c=W.B[d.B[S]],y=d.Fj[S];
if(y==null)delete c.add.lmfx;else c.add.lmfx=JSON.parse(y);X.M1.EB(W,c,JSON.parse(d.Lf[S]));c.oR.Ot=!0}W.Dy=!0;
W.W()};X.M1.prototype.To=function(d,W){for(var S=0;S<d.B.length;S++){var c=W.B[d.B[S]],y=d.mp[S];if(y==null)delete c.add.lmfx;
else c.add.lmfx=JSON.parse(y);X.M1.EB(W,c,JSON.parse(d.BN[S]));c.oR.Ot=!0}W.Dy=!0;W.W()};X.JK=function(){X.dA.call(this,"Layer Comps",X.mw)};
X.JK.prototype=new X.dA;X.JK.prototype.fY=function(d,W,c,y){var B=JSON.parse(JSON.stringify(c.qv)),r=JSON.parse(JSON.stringify(c.qv)),x=null,Z=null,i=null,k=-1,H=!1;
if(d.d=="delLC"){var V=X.JK.w0(c.qv,d.Wr),g=c.qv.lastAppliedComp?c.qv.lastAppliedComp.v:0;r.list.v.splice(V,1);
if(g==d.Wr)delete r.lastAppliedComp;x="Delete Layer Comp"}if(d.d=="editLC"){var V=X.JK.w0(c.qv,d.Wr),N=r.list.v[V].v;
if(d.Su!=null)N.Nm.v=d.Su;if(d.as0!=null){var C=d.as0,w=N.capturedInfo.v,Y=w&(1<<C)-1;w=w>>C;if((w&1)==1)w--;
else w++;N.capturedInfo.v=(w<<C)+Y}x="Layer Comp properties"}if(d.d=="setLC"){X.JK.DZ(c);if(d.Wr==0)delete r.lastAppliedComp;
else r.lastAppliedComp={t:"long",v:d.Wr};x="Switch Layer Comp";H=!0}if(d.d=="updLC"){X.JK.DZ(c);Z=X.JK.ap2(c,d.Wr);
i=X.JK.Tj(c,d.Wr);r.lastAppliedComp={t:"long",v:d.Wr};x="Update Layer Comp";k=d.Wr;H=!0}if(d.d=="addLC"){X.JK.DZ(c);
var U=1;for(var S=0;S<r.list.v.length;S++)U=Math.max(U,r.list.v[S].v.compID.v)+1;U+=Math.floor(Math.random()*1e4);
var e={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(r.list.v.length+1)},compID:{t:"long",v:U},capturedInfo:{t:"long",v:7}}};
r.list.v.push(e);r.lastAppliedComp={t:"long",v:U};x="New Layer Comp";var O=X.JK.Tj(c,U);X.JK.gW(c,O,U)}var l=new aw(x,this);
l.data={a0y:B,aBe:r,axr:Z,ara:i,Wr:k,me:H};this.To(l.data,c);c.hZ(l)};X.JK.prototype.To=function(d,W){W.qv=d.aBe;
W.Dy=!0;if(d.ara)X.JK.gW(W,d.ara,d.Wr);if(d.me){var c=W.qv.lastAppliedComp?W.qv.lastAppliedComp.v:0,y=X.JK.w0(W.qv,c),B=y==-1?null:W.qv.list.v[y].v,r=B?B.capturedInfo.v:7;
X.JK.Vs(W,c,r);W.W()}};X.JK.prototype.lL=function(d,W){W.qv=d.a0y;W.Dy=!0;if(d.axr)X.JK.gW(W,d.axr,d.Wr);
if(d.me){var c=W.qv.lastAppliedComp?W.qv.lastAppliedComp.v:0,y=X.JK.w0(W.qv,c),B=y==-1?null:W.qv.list.v[y].v,r=B?B.capturedInfo.v:7;
X.JK.Vs(W,c,r);W.W()}};X.JK.DZ=function(d){if(d.qv.lastAppliedComp!=null||!d.ux)return;var W=X.JK.Tj(d,0);
X.JK.gW(d,W,0);d.ux=!1};X.JK.QG=function(d,W,c){d.v.Hrzn.v+=W;d.v.Vrtc.v+=c};X.JK.w0=function(d,W){var c=d.list.v;
for(var S=0;S<c.length;S++)if(c[S].v.compID.v==W)return S;return-1};X.JK.aAp=function(d){var W=d.layerSettings.v,B=null;
if(W.length==0)return;var c="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),y=W[0].v;
if(y.enab==null)y.enab={t:"bool",v:!0};if(y.Ofst==null)y.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var S=0;S<W.length;S++){var r=W[S].v;if(B==null)B=JSON.parse(JSON.stringify(r));else for(var x=0;
x<c.length;x++){var Z=c[x];if(r[Z])B[Z]=JSON.parse(JSON.stringify(r[Z]))}W[S].v=JSON.parse(JSON.stringify(B))}};
X.JK.aaR=function(d,W){var c=d.add.shmd.cmls,y=c.layerSettings.v;for(var B=0;B<y.length;B++){var r=y[B].v,x=r.compList.v[0].v;
if(x==W)return B}return-1};X.JK.auG=function(d,W){var c=X.JK.aaR(d,W);return c==-1?null:d.add.shmd.cmls.layerSettings.v[c].v};
X.JK.Vs=function(d,W,c){for(var S=0;S<d.B.length;S++){var y=d.B[S],B=y.add.shmd.cmls;if(B==null)continue;
var r=B.layerSettings.v,x=X.JK.auG(y,W);if(x==null){y.vI(!1);continue}if((c&1)!=0){if(x.enab)y.vI(x.enab.v);
else y.vI(!0)}if((c&2)!=0){if(x.Ofst){var Z=x.Ofst.v,i=y._W(d),k=Math.round(Z.Hrzn.v-i.x),H=Math.round(Z.Vrtc.v-i.y);
if(k!=0||H!=0)X.rL.gs(d,[S],null,k,H)}}if((c&4)!=0){if(x.Lefx){var V=JSON.parse(JSON.stringify(x.Lefx.v));
dy.k$(V);if(JSON.stringify(V)!=JSON.stringify(y.add.lmfx)){y.add.lmfx=V;y.oR.Ot=!0}}else delete y.add.lmfx;
if(x.blendOptions){var g=x.blendOptions.v;if(g.Opct)y.opacity=Math.round(255*g.Opct.v.val/100);if(g.fillOpacity)y.add.iOpa=Math.round(255*g.fillOpacity.v.val/100);
if(g.Md)y.E9=y.add.lsct==aG.Ni?"norm":dB.Aa(g.Md.v.BlnM)}else{y.opacity=255;y.E9=y.vS()?"pass":"norm";
y.add.iOpa=255}}}};X.JK.ap2=function(d,W){var c={};for(var S=0;S<d.B.length;S++){var y=d.B[S];if(y.add.shmd==null||y.add.shmd.cmls==null)continue;
c["l"+y.add.lyid]=JSON.parse(JSON.stringify(X.JK.auG(y,W)))}return c};X.JK.Tj=function(d,W){var c={};
for(var S=0;S<d.B.length;S++){var y=d.B[S],B=y.add.lyid;c["l"+B]=X.JK.ag9(d,y,W)}return c};X.JK.ag9=function(d,W,c){var y=W.add.shmd?W.add.shmd.cmls:null,B={classID:"null"},r=W._W(d),x={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:r.x},Vrtc:{t:"long",v:r.y}}};
B.compList={t:"VlLs",v:[{t:"long",v:c}]};B.enab={t:"bool",v:W.jF()};B.Ofst=JSON.parse(JSON.stringify(x));
B.FXRefPoint=JSON.parse(JSON.stringify(y&&y.origFXRefPoint?y.origFXRefPoint:x));B.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:dB.XT(W.E9)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*W.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:W.add.iOpa!=null?100*W.add.iOpa/255:100}}}};
if(W.add.vmsk){B.vectorMask={t:"Objc",v:{classID:"null"}};B.vectorMask.v.Ofst=JSON.parse(JSON.stringify(x))}if(W.add.lmfx){B.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(W.add.lmfx))};
dy.ME(B.Lefx.v)}return B};X.JK.at4=function(d,W){var c=W.add.lyid;if(W.add.shmd==null)W.add.shmd={};
if(W.add.shmd.cmls==null){W.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:c},layerSettings:{t:"VlLs",v:[{t:"Objc",v:X.JK.ag9(d,W,0)}]}}}};
X.JK.gW=function(d,W,c){for(var S=0;S<d.B.length;S++){var y=d.B[S],B=y.add.lyid;X.JK.at4(d,y);var r=y.add.shmd.cmls,x=r.layerSettings.v,Z=W["l"+B];
if(Z!=null)Z={t:"Objc",v:JSON.parse(JSON.stringify(Z))};var i=X.JK.aaR(y,c);if(i==-1){if(Z==null)continue;
else x.push(Z)}else{if(Z==null)x.splice(i,1);else x[i]=Z}}};X.JK.S6=function(d,W){for(var S=0;S<d.B.length;
S++){var c=d.B[S],y=c.add.lyid;if(c.add.shmd==null||c.add.shmd.cmls==null)continue;var B=c._W(d),r=Math.round(B.x),x=Math.round(B.y);
if(!W){r=-r;x=-x}var Z=c.add.shmd.cmls,i=Z.layerSettings.v;if(Z.origFXRefPoint)X.JK.QG(Z.origFXRefPoint,-r,-x);
for(var k=0;k<i.length;k++){var H=i[k].v;X.JK.QG(H.Ofst,r,x);var V=H.imageMask,g=H.vectorMask;if(V&&V.v.Ofst)X.JK.QG(V.v.Ofst,r,x);
if(g&&g.v.Ofst)X.JK.QG(g.v.Ofst,r,x)}}};X.Zo=function(){X.dA.call(this,"Adjust Edit",X.Me);this.op=null;
this.Bz=null};X.Zo.prototype=new X.dA;X.Zo.HO=function(d,W,c,y){if(y)W/=4;var B=0,r=0,x=255,Z=0,i=0,k=255;
while(r+d[B]<W){r+=d[B];B++}while(Z+d[x]<W){Z+=d[x];x--}if(y){B-=Math.round(d[B]/(c/32));x+=Math.round(d[x]/(c/32));
if(B<0)i=Math.round(-B*255/(x-B));if(x>255)k=255-Math.round((x-255)*255/(x-B))}return[Math.max(B,0),Math.min(x,255),i,k,100]};
X.Zo.prototype.fY=function(d,W,c,y,B){var r=d.d;if(r=="auto"){var x=d.Kk,Z=X.Zo.getData(c);for(var S=0;
S<Z.length;S++){var i=Z[S],k;if(x<3){}else{var H=eR.qw("hue2");fA.wz(H,0,[0,-100,0]);k=bN.iA("hue2",H)}bN.xh(k,i.iJ,i.n3,i.qe)}X.Zo.$C(c,Z);
X.Zo.ua(c,Z,x<3?[4,16,x]:[19,7,0],this);c.W()}if(r=="edit_layer")this.ahQ(d,W,c,y);if(r=="edit"||r=="confirm"||r=="cancel")this.jL(d,W,c,B,!0);
if(r=="start"){if(c.g.length==0)return;var V=c.B[c.g[0]];if(V.add.SoLd&&V.MM<=0&&c.tv.length==0){var g=new bR(b.E.v,!0);
g.f=X.v5;g.data={d:"start",Fx:d.dH,Za:d.Za};W.T(g);return}if(!c.kZ(W,null,!0))return;if(f7[d.dH]&&d.Za==null){if(c.g.length!=1)alert("Will be applied to "+c.g.length+" layers.");
var g=new bR(b.E.V,!0);g.data={d:b.H.vB,vD:"afw_"+d.dH};W.T(g)}else{this.jL({d:"edit",Za:d.Za,Fx:d.dH},W,c,B);
this.jL({d:"confirm",Fx:d.dH},W,c,B)}}};X.Zo.prototype.ahQ=function(d,W,c,y){var B=d.d,r=c.g[0],x=c.B[r],Z=bN.get(x.add),g;
if(x.add[Z]==null)return;var i=JSON.parse(JSON.stringify(x.add[Z]));for(var k in d.b)i[k]=d.b[k];var H=JSON.parse(JSON.stringify(i));
for(var k in bN.dg)if(bN.dg[k]==Z)H.classID=k;var V=c.history[c.ST];if(V&&V.f==this&&V.data.qp!=null&&V.data.a==r)g=V;
else{var N=new bR(b.E.HQ,!0),C={classID:"setd",null:hC.cV("AdjL",!0),T:{t:"Objc",v:H}};N.data={mP:!0,cx:"set",i9:C};
W.T(N);var g=new aw([6,39],this);g.data={a:r,qp:x.add[Z],z4:i,d6:C};c.hZ(g)}g.data.z4=i;g.data.d6.T.v=H;
this.To(g.data,c)};X.Zo.getData=function(d,W,c){var y=[],B=new a8(0,0,d.m,d.i),r=d.tv.length!=0?[-1-d.tv[0]]:d.g;
for(var S=0;S<r.length;S++){var x=r[S],Z=x<0?null:d.B[x],i={a:x,Bq:x<0?1:Z.MM};y.push(i);var k=d.iv[-1-x];
if(0<=x)k=Z.MM<=0?null:Z.MM==1?Z.Q7():Z.WI(d).t;var H=k?k.rect:Z.rect;if(d.u){i.qe=d.u.rect.nK(W||k!=null?B:H)}else i.qe=W||k!=null?H.hB(B):H.clone();
if(c)i.qe=c[S].qe.clone();var V=i.qe.P();i.iJ=v.R(V*4);if(k)X.UZ.fj(k.channel,k.rect,k.color,i.iJ,i.qe);
else v.qR(Z.buffer,H,i.iJ,i.qe);i.n3=i.iJ.slice(0);if(d.u){i.Oh=v.R(V);v.ZW(d.u.channel,d.u.rect,i.Oh,i.qe)}}return y};
X.Zo.axo=function(d,W,c){if(W==null)return W;var y=bN.tM(d,W),r;if(y==-1)return W;var B=c.length>>>2,x=v.kb(c),Z=.001*B;
if(y==0||y==2)r=[[0,255,0,255,100],X.Zo.HO(x[1],Z,B,y==2),X.Zo.HO(x[2],Z,B,y==2),X.Zo.HO(x[3],Z,B,y==2)];
if(y==1)r=[X.Zo.HO(x[0],Z*.33,B,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var i=eR.qw("levl");
for(var S=0;S<4;S++)fr.wz(i,S,r[S]);return i};X.Zo.a6l=function(d,W,c,y){var B,r;if(c.t=="name"){var x=0;
for(var Z=0;Z<d.B.length;Z++)if(d.B[Z].getName()==c.v.val)x=Z;if(d==W&&x==y.a){B=y.iJ;r=y.qe}else{var i=d.B[x];
B=i.buffer;r=i.rect}}else{r=new a8(0,0,d.m,d.i);B=d==W?y.hl:d.Li()}return[B,r]};X.Zo.prototype.jL=function(d,W,c,y){if(this.op==null){if(d.Fx=="aply")c.B[c.g[0]].extend(new a8(0,0,c.m,c.i));
this.op=X.Zo.getData(c,null,d.Fx=="fade"?c.TP().data:null);if(d.Fx=="aply"||d.Fx=="matc")this.op[0].hl=c.Li()}if(d.d=="edit"){this.Bz=[d.Fx,d.Za];
var B=this.op[0],r=X.Zo.axo(d.Fx,d.Za,B.iJ),x=bN.iA(d.Fx,r);if(d.Fx=="fade"||d.Fx=="matc"||d.Fx=="aply")x=d.Za;
if(x!=null){for(var Z=0;Z<this.op.length;Z++){var i=this.op[Z];if(d._U)v.PY(i.iJ,i.n3);else if(d.Fx=="fade"){var k=dB.Aa(d.Za.Md.v.BlnM),H=d.Za.Opct.v.val/100,V=c.TP().data[Z];
v.PY(V.iJ,i.n3);if(k=="norm")v.l.lf(i.iJ,i.qe,i.n3,i.qe,null,null,null,i.qe,H);else{var g=eV.aP();g.EX=!0;
for(var S=0;S<V.iJ.length;S+=4)if(V.iJ[S+3]!=i.iJ[S+3]){g=null;break}v.l.Ip(k,i.iJ,i.qe,i.n3,i.qe,i.qe,H,g)}}else if(d.Fx=="matc"){var N;
if(x.noReference&&x.noReference.v)N=i.iJ;else{var C=x.Srce.v,w=C[1].v.val,Y=W.Tx,U=c;for(var S=0;S<Y.length;
S++)if(Y[S].name==w)U=Y[S];var e=X.Zo.a6l(U,c,C[0],i);N=e[0]}hy(i.iJ,i.qe.m,i.qe.i,N,i.n3,[x.Lght.v,x.ClrR.v,x.Fade.v,x.neutralizeColor?x.neutralizeColor.v:!1])}else if(d.Fx=="aply"){x=x.With.v;
var O=x.T.v,e=X.Zo.a6l(c,c,O[1],i),N=e[0],l=e[1],I=x.Clcl?x.Clcl.v.Clcn:null,k=I?dB.Aa(I):"norm",H=x.Opct?x.Opct.v.val/100:1,s=["RGB","Rd","Grn","Bl","Trsp"].indexOf(O[0].v.enum),r=x.Invr&&x.Invr.v;
if(r||s!=0){N=N.slice(0);if(r)v.ab7(N);if(s!=0){var z=v.R(l.P());v.$P(N,z,s-1);if(s==4)v.QE(z);for(var R=0;
R<3;R++)v.nP(z,N,R)}}if(I=="Add"||I=="Sbtr"){var t=1/x.Scl.v,a=x.Ofst.v,J=I=="Add"?1:-1,F=new Uint8ClampedArray(i.n3.buffer);
for(var S=0;S<N.length;S+=4){F[S]=(i.iJ[S]+J*N[S])*t+a;F[S+1]=(i.iJ[S+1]+J*N[S+1])*t+a;F[S+2]=(i.iJ[S+2]+J*N[S+2])*t+a}}else{var g=eV.aP();
g.EX=x.PrsT&&x.PrsT.v;i.n3.fill(0);i.n3.set(i.iJ);v.l.Ip(k,N,l,i.n3,i.qe,i.qe,H,g)}}else bN.xh(x,i.iJ,i.n3,i.qe)}X.Zo.$C(c,this.op)}}if(d.d=="cancel"){X.Zo.aCS(c,this.op);
this.op=null}if(d.d=="confirm"){var h={fade:[2,11],aply:[2,12],matc:[4,18]},m=h[d.Fx];if(m==null)m=bN.names[d.Fx];
var D=bN.tM(d.Fx,this.Bz[1]);if(D!=-1)m=[4,16,D];X.Zo.ua(c,this.op,m,this);this.op=null;if(D==-1)X.Zo.nz(W,this.Bz)}c.W()};
X.Zo.nz=function(d,W){var c=W[0],y=W[1],B,r;if(bN._A[c]){B=bN._A[c];if(f7[c])r=y}if(eR._A[c]){B=eR._A[c];
if(f7[c])r=y}if(c=="fade"){B="fade";r=y}if(c=="matc"){B="matchColor";r=y}if(c=="aply"){B="applyImageEvent";
r=y}if(c=="GEfc"){if(r.GEfs)r=r.GEfs.v[0].v}if(B==null)return;var x=new bR(b.E.HQ,!0);x.data={mP:!0,cx:B};
if(r){r=JSON.parse(JSON.stringify(r));x.data.i9=r}d.T(x)};X.Zo.aCS=function(d,W){X.Zo.xq(d,W)};X.Zo.ua=function(d,W,c,y){for(var S=0;
S<W.length;S++){var B=W[S],r=d.B[B.a],x=B.a<0?d.iv[-1-B.a]:B.Bq<=0?null:B.Bq==1?r.Q7():r.WI(d).t;if(x){x.oj();
x.Zv=!0;if(r)r.Ys(d)}else{r.oj();r.W()}delete B.n3;delete B.Oh}var Z=new aw(c,y);Z.data=W;d.hZ(Z);d.Dy=!0};
X.Zo.$C=function(d,W,c){for(var S=0;S<W.length;S++){var y=W[S],B=d.B[y.a],r=c?y.iJ:y.n3,x=y.qe;if(y.Bq==0){B.extend(x);
if(y.Oh){v.qR(y.iJ,x,B.buffer,B.rect);v.l.lf(r,x,B.buffer,B.rect,y.Oh,x,0,x,1)}else v.qR(r,x,B.buffer,B.rect)}else{var Z=y.a<0?d.iv[-1-y.a]:y.Bq==1?B.Q7():B.WI(d).t;
Z.extend(x);if(y.Oh){var i=v.R(x.P()*4);v.PY(y.iJ,i);v.l.lf(r,x,i,x,y.Oh,x,0,x,1);X.UZ.KT(i,x,Z)}else X.UZ.KT(r,x,Z);
Z.Zv=!0;if(B)B.Ys(d)}if(B)B.W()}if(!c)X.Zo.avJ(d,W)};X.Zo.xq=function(d,W){for(var S=0;S<W.length;S++){var c=W[S],y=d.B[c.a],B=c.qe,r=v.R(B.P()*4);
if(c.Bq==0){v.qR(y.buffer,y.rect,r,B);y.extend(B);v.qR(c.iJ,B,y.buffer,y.rect);y.oj()}else{var x=c.a<0?d.iv[-1-c.a]:c.Bq==1?y.Q7():y.WI(d).t;
X.UZ.fj(x.channel,x.rect,x.color,r,B);x.extend(B);X.UZ.KT(c.iJ,B,x);x.oj();x.Zv=!0;if(y)y.Ys(d)}c.iJ=r;
if(y)y.W()}d.Dy=!0};X.Zo.$A=function(d){var W=0;for(var S=0;S<d.length;S++)W+=d[S].iJ.length;return W};
X.Zo.avJ=function(d,W){var c=X.Zo.ayj(d),y=~c;if(c==16777215)return;for(var S=0;S<W.length;S++){var B=W[S],r=d.B[B.a],x=B.qe;
if(B.Bq!=0)continue;r.extend(x);var Z=x.x-r.rect.x,i=x.y-r.rect.y,k=r.rect.m,H=new Uint32Array(B.iJ.buffer),V=new Uint32Array(r.buffer.buffer);
for(var g=0;g<x.i;g++)for(var N=0;N<x.m;N++){var C=g*x.m+N,w=(g+i)*k+(N+Z);V[w]=V[w]&c|H[C]&y}r.oj();
r.W()}d.W()};X.Zo.ayj=function(d){var W=d.Q.M;return W[2]*16711680|W[1]*65280|W[0]*255};X.Zo.prototype.lL=function(d,W){var c=W.B[d.a];
if(d.qp!=null)c.add[bN.get(c.add)]=d.qp;else X.Zo.xq(W,d);W.W()};X.Zo.prototype.To=function(d,W){var c=W.B[d.a];
if(d.qp!=null)c.add[bN.get(c.add)]=d.z4;else X.Zo.xq(W,d);W.W()};X.Zo.prototype.$A=function(d){return d.qp==null?X.Zo.$A(d):0};
X.oG=function(){X.dA.call(this,"Filter Edit",X.v5);this.op=null;this.El=null;this.d=null;this.Bz=null};
X.oG.prototype=new X.dA;X.oG.prototype.fY=function(d,W,c,y,B){if(d.d=="start"){if(c.g.length==0)return;
var r=c.B[c.g[0]];if(r.add.SoLd&&r.MM<=0&&c.tv.length==0){}else if(!c.kZ(W,null,!0))return;var x=d.Fx;
if((f7[x]||eR.s[x])&&d.Za==null){if(c.g.length!=1)alert("Will be applied to "+c.g.length+" layers.");
var Z=new bR(b.E.V,!0);Z.data=X.oG.a1B(x,this.MY(c,x));W.T(Z)}else{var i={d:"edit",Fx:x,Za:d.Za,MW:this.MY(c)};
this.fY(i,W,c,y,B);i.d="confirm";delete i.Za;this.fY(i,W,c,y,B)}}if(d.d=="edit"||d.d=="cancel"||d.d=="confirm"){if(d.d=="edit")this.Bz=[d.Fx,d.Za];
if(d.MW)this.anE(d,W,c,B);else this.a2j(d,W,c,B)}if(d.d=="applylast"&&this.Bz!=null){var i={d:"edit",Fx:this.Bz[0],Za:this.Bz[1],MW:this.MY(c)};
this.fY(i,W,c,y,B);i.d="confirm";delete i.Za;this.fY(i,W,c,y,B)}};X.oG.a1B=function(d,W){var c=eR.s[d];
if(c)return{d:b.H.Fy,f:c,er:{MW:W}};else return{d:b.H.vB,vD:"afw_"+d,MW:W}};X.oG.prototype.MY=function(d,W){var c=d.B[d.g[0]],y;
if(c.add.SoLd&&c.MM<=0&&d.tv.length==0){y={a:d.g[0],index:0};if(c.add.SoLd.filterFX!=null){var B=c.add.SoLd.filterFX.v.filterFXList.v;
y.index=B.length;for(var S=0;S<B.length;S++)if(eR.a_(B[S].v)==W&&eR.s[W])y.index=S}}return y};X.oG.prototype.anE=function(d,W,c,y){var B=c.B[d.MW.a],r=d.Fx;
if(d.d=="edit"){if(this.d==null){var x=eR.names[r];if(x==null)x=bN.names[r];if(r=="blendOptions")x=[14,10];
this.d=new aw(x,this);this.d.data={MW:d.MW,agY:JSON.parse(JSON.stringify(B.add.SoLd))}}if(!B.pX()){B.add.SoLd.filterFX=eR.sg();
var Z=this.d.data.H_=eb.azu(B.add.SoLd.placed.v);c.k8(Z);if(c.u){Z.t.channel=c.u.channel.slice(0);Z.t.rect=c.u.rect.clone();
Z.t.color=0;this.d.data.FK=c.u;c.u=null}B.Hg(c)}var i=B.add.SoLd.filterFX.v.filterFXList.v;if(i[d.MW.index]==null){i.push(eR.X6(r,y))}if(d.Za){i[d.MW.index].v.enab.v=d._U!=!0;
if(r=="blendOptions")i[d.MW.index].v.blendOptions.v=d.Za;else i[d.MW.index].v.Fltr.v=d.Za}this.d.data.aag=JSON.parse(JSON.stringify(B.add.SoLd));
this.To(this.d.data,c)}if(d.d=="cancel"){if(this.d)this.lL(this.d.data,c);this.d=null}if(d.d=="confirm"){if(this.d)c.hZ(this.d);
X.Zo.nz(W,this.Bz);this.d=null}};X.oG.prototype.Nc=function(d){return{Z:d>>>16,G:d>>>8&255,J:d&255}};
X.oG.prototype.a2j=function(d,W,c,y){if(this.op==null){var B=eR.ak(d.Fx,d.Za);this.op=X.Zo.getData(c,B.x!=0||B.y!=0,d.Fx=="VaPo"?[{qe:d.hl[1]}]:null)}if(d.d=="edit"){var r=JSON.stringify(d.Za);
if((d.Za==null||r!=this.El)&&d._U!=!0)for(var S=0;S<this.op.length;S++){var x=this.op[S],Z={rect:x.qe,buffer:x.iJ},i={rect:x.qe,buffer:x.n3};
if(d.Fx=="Avrg"&&x.Oh){Z.buffer=x.iJ.slice(0);v.sl(x.Oh,Z.buffer)}eR.xh(d.Fx,Z,d.Za,this.Nc(y.R5),this.Nc(y.qX),i,[c.add.lnk2?c.add.lnk2:[],c.B[c.g[0]].Q7(),c.iv,c.Tz()]);
if(d.Fx=="VaPo"){v.qR(d.hl[0],d.hl[1],i.buffer,i.rect)}if(d.Fx=="Avrg"&&x.Oh){var k=x.iJ.length;for(var S=0;
S<k;S+=4)x.n3[S+3]=x.iJ[S+3]}this.El=r}X.Zo.$C(c,this.op,d._U)}if(d.d=="cancel"){X.Zo.aCS(c,this.op);
this.op=null;this.El=null}if(d.d=="confirm"){if(d.Fx=="VaPo"){this.op.aCP=JSON.stringify(c.$k);this.op.Gn=JSON.stringify(d.b);
c.$k=d.b}X.Zo.ua(c,this.op,eR.names[d.Fx],this);this.op=null;this.El=null;X.Zo.nz(W,this.Bz)}c.W();c.Dy=!0};
X.oG.prototype.lL=function(d,W){if(d.Gn)W.$k=JSON.parse(d.aCP);if(d.MW){var c=W.B[d.MW.a];if(d.H_)W.LK(d.H_);
if(d.FK)W.u=d.FK;c.add.SoLd=JSON.parse(JSON.stringify(d.agY));if(c.pX())c.WT(W);else{c.Hg(W);c.MM=0}}else X.Zo.xq(W,d);
W.W();W.Dy=!0};X.oG.prototype.To=function(d,W){if(d.Gn)W.$k=JSON.parse(d.Gn);if(d.MW){var c=W.B[d.MW.a];
if(d.H_)W.k8(d.H_);if(d.FK)W.u=null;c.add.SoLd=JSON.parse(JSON.stringify(d.aag));if(c.pX())c.WT(W);else c.Hg(W);
if(!c.Rm())c.xy+=32}else X.Zo.xq(W,d);W.W();W.Dy=!0};X.oG.prototype.$A=function(d){return d.MW==null?X.Zo.$A(d):0};
var kG={yS:"0",Bo:"1",n6:"2",Vo:"3",oc:"3.5",T$:"4",XX:"5",jY:"6",E1:"7",v:"8",tf:"8.5",w4:"8.8",Fc:"9",hF:"10",xM:"11",nL:"12",iE:"13",cE:"14",P7:"15",SG:"16",u$:"17",V$:"18",kg:"21",jo:"22",gZ:"23",U5:"23.0",q_:"23.1",Bc:"23.2",uY:"23.3",Mo:"23.4",x5:"23.5",sD:"23.6",aa$:"30",L$:"31",K0:"40",pr:"41",mz:"42"};
kG.uh={};kG.uh[kG.Bo]=["abr","brushes",ew,[9,3],3];kG.uh[kG.n6]=["grd","gradients",bs,[12,37],4];kG.uh[kG.Vo]=["shc","contours",ct,[12,21],0];
kG.uh[kG.oc]=["acv","curves",d8,[4,2],0];kG.uh[kG.T$]=["asl","styles",eL,[12,22],5];kG.uh[kG.XX]=["pat","patterns",ca,[12,62],6];
kG.uh[kG.jY]=["csh","shapes",kt,[12,77],7];kG.uh[kG.E1]=["aco","swatches",fk,[9,8],0];kG.uh[kG.v]=["atn","actions",iY,[9,9],2];
kG.uh[kG.tf]=["tpl","tpresets",ft,[9,12],0];kG.uh[kG.w4]=["icc","profiles",e7,"LUTs",8];function aw(d,W,c){if(c==null)c=!1;
this.name=d;this.f=W;this.G7=c;this.data=null;this.a6i=Date.now()}aw.prototype.$A=function(){return this.f?this.f.$A(this.data):0};
var hC={};hC.cV=function(d,W){var c={t:"Clss",v:{classID:d}};if(W)c={t:"Enmr",v:{classID:d,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[c]}};hC.px=function(d,W){var c={classID:"Lyr"};c[d]=W;return{cx:"set",i9:{classID:"null",null:hC.cV("Lyr",!0),T:{t:"Objc",v:c}}}};
hC.a4g=function(d,W,c,y,B){var r=new bR(b.E.HQ,!0),x=[],S=0,Z=hC.bt(W,c,y,x);while(x.length!=0){var i=x.pop();
S++;if(!i.w)continue;console.log(S-1);if(i.cx=="conditional"){var k=d.B[d.g[0]],H=i.i9.null.v.Cndt,V=!1;
if(H=="Bckg")V=!1;else if(H=="Pxel"&&d.YH(!1))V=!0;else if(H=="Adjs"&&bN.get(k.add))V=!0;else if(H=="Shp"&&k.add.vogk)V=!0;
else if(H=="Grup"&&k.vS())V=!0;else if(H=="Opn"&&d!=null)V=!0;else if(H=="32Bt")V=!1;else if(H=="RGB")V=!0;
var g=i.i9.then,N=i.i9.else;if(V&&g)hC.bt(W,g.v[0].v.val,g.v[1].v.val,x);if(!V&&N)hC.bt(W,N.v[0].v.val,N.v[1].v.val,x)}else if(i.cx=="stop"){if(i.i9.Cntn&&i.i9.Cntn.v==!0)window.confirm(i.i9.Msge.v);
else{alert(i.i9.Msge.v);break}}else if(i.cx=="play"){var C=i.i9.null.v,w=new bR(b.E.V,!0);w.data={d:b.H.d2,Wa:[C[0].v.val,C[1].v.val]};
B.T(w)}else{r.data={cx:i.cx,i9:i.i9};B.T(r)}}};hC.qm=function(d,W,c){var y;for(var S=0;S<d.length;S++){if(d[S].o1!=c)continue;
var B=d[S].nW;for(var r=0;r<B.length;r++){if(B[r].o1!=W)continue;y=B[r]}}return y};hC.bt=function(d,W,c,y){var B=hC.qm(d,W,c).nW,r=B.length;
for(var S=0;S<r;S++)y.push(B[r-1-S])};hC.an$=function(d){var W=d.cx,c=d.i9,y,x,Z,i,k;if(c&&c.null)y=c.null.v[0];
if(c&&y==null&&c.At)y=c.At.v[0];if(y&&y.t=="obj ")y=y.v[0];var B=y&&y.v?y.v.classID:null,r=["purge"];
if(r.indexOf(W)!=-1)return W[0].toUpperCase()+W.slice(1);if(W=="GEfc"||W=="paintDaubs")return ar.names[c.GEfk.v.GEft][1];
k=bN._A;for(x in k)if(k[x]==W)Z=x;k=eR._A;for(x in k)if(k[x]==W)i=x;k=eR._A;for(x in k)if(x==W)i=x;if(Z){var H=bN.tM(Z,c);
if(H!=-1)return[4,16,H];return bN.names[Z]}if(i)return eR.names[i];var V=hC.a5n;if(W=="make"){if(y){if(B=="AdjL")return[6,1];
else if(B=="layerSection")return c.From?[6,9]:[6,20];else if(B=="Lyr")return[6,13];else if(B=="Chnl"&&y.v.enum=="Msk")return[6,2];
else if(B=="contentLayer")return[6,48,1];else if(B=="BckL")return"Make Background Layer";else if(B=="Path")return"Make Path";
else if(B=="TxLr")return"Make Text Layer";else if(B=="slice")return"Make Slices";else if(B=="Dcmn")return[11,7];
else if(B=="Gd")return[23,4]}if(c.Nw){B=c.Nw.v.classID;if(B=="Dcmn")return[11,7];else if(B=="Chnl"||B=="SCch")return"New Channel"}}else if(W=="deselect"){if(B=="Path")return"Deselect current path";
else throw B}else if(W=="draw"){return"Draw"}else if(W=="select"){if(B=="Chnl"){var g={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[y.v.enum];
if(g==null)g="";return"Select "+g+" Channel"}else if(B=="Mn")return"Select Panel \""+y.v.enum+"\"";else if(B=="Lyr"){if(y.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[y.v.enum]+" Layer";
return"Select Layer \""+y.v.val+"\""}else if(B=="Path")return"Select Path";else if(B=="Brsh")return"Select Brush";
else if(B=="Dcmn")return"Select Document"}else if(V[W]&&B=="Chnl"){var N=y.v.keyID=="fsel";return V[W]+" "+(N?"Selection":"Channel")}else if(W=="set"){if(B=="Lyr")return"Set Current Layer";
else if(B=="AdjL")return[6,39];else if(B=="contentLayer")return[6,48,2];else if(B=="Prpr"){var C=y.v.keyID;
if(C=="TxtS")return"Set Text Style";else if(C=="paragraphStyle")return"Set Paragraph Style";else if(C=="Lefx")return[11,6];
else console.log(C)}else if(B=="Clr")return"Set "+(y.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(B=="Brsh")return"Set Brush";else if(B=="Path")return"Set Work Path";else console.log(B)}else if(W=="move"){if(B=="Lyr")return"Move Layer";
else if(B=="Chnl"&&y.v.keyID=="fsel")return[7,7];else console.log(B)}else if(W=="show"||W=="hide"){var w="";
if(B=="Lyr")w="Layer";if(B=="Chnl")w="Channel";if(B=="filterFX")w="Filter Effect";return(W=="show"?"Show":"Hide")+" "+w}else if(W=="reset"){if(B=="Clr")return"Reset Colors"}else if(W=="exchange"){if(B=="Clr")return[22,7,0]}else if(W=="rotateEventEnum")return[2,5];
else if(W=="flip"){var Y=c.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,Y?2:3]]}if(W=="duplicate"&&B=="Dcmn")return"Duplicate first document";
if(B=="Chnl"){if(W=="duplicate"){if(y.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(W=="delete")return"Delete Channel"}if(W=="transform")return y&&y.v.keyID=="fsel"?[7,10]:[10,16];
var U={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:c?B=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},e=U[W];
if(e==null)e=hC.aAB[W];if(e)return e;return W};hC.aAB={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
hC.a5n={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
hC.aq7=function(d,W,c,y){var B=d.cx,r=d.i9,x=!1,Z=new bR(b.E.v,!0),g,N,C,w;Z.f=X.jq;var i=new bR(b.E.V,!0),H=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(H.indexOf(B)!=-1)return;var V=B;while(V.length<4)V+=" ";w=bN._A;for(g in w)if(w[g]==V)N=g;w=eR._A;
for(g in w)if(w[g]==V)C=g;w=eR._A;for(g in w)if(g==V)C=g;if(B=="fade")N=B;if(B=="matchColor")N="matc";
if(B=="applyImageEvent")N="aply";if(N){Z.f=X.Me;Z.data={d:"start",dH:N,Za:r}}else if(C){Z.f=X.v5;Z.data={d:"start",Fx:C,Za:r}}else if(B=="GEfc"||B=="paintDaubs"){Z.f=X.v5;
Z.data={d:"start",Fx:"GEfc",Za:r}}else if(B=="imageSize"||B=="canvasSize"||B=="revealAll"||B=="trim"||B=="crop"){Z.f=X.Rz;
Z.data={d:"fromAction",RZ:d}}else if(B=="fill"||B=="stroke"||B=="delete"&&r==null){var Y=null;if(y.g.length!=0)Y=y.B[y.g[0]];
var U=v.S4(c.R5);if(Y!=null&&B=="fill"&&Y.add.TySh){var e="var c = new SolidColor();  c.rgb.red="+U.Z+";  c.rgb.green="+U.G+";  c.rgb.blue="+U.J+";  app.activeDocument.activeLayer.textItem.color = c;";
i.data={d:b.H.r3,za:e}}else if(Y!=null&&B=="delete"&&Y.add.TySh){Z.f=X.bU;Z.data={d:"insertText",b:""}}else if(Y!=null&&B=="fill"&&Y.sI()){var Z=new bR(b.E.HQ,!0),r={classID:"setd",null:hC.cV("contentLayer",!0),T:{t:"Objc",v:{}}};
X.wu.GL({Clr:{t:"Objc",v:v.L.FV(v.S4(c.R5))}},r.T.v,0);Z.data={cx:"set",i9:r};W.T(Z);return}else if(B=="stroke"&&r&&r.null==null){Z.f=X.NT;
Z.data={d:"stroke",amp:r}}else{if(B=="stroke"&&r&&r.Usng)Z.f=X._A[r.Usng.v.classID];else Z.f=c._9==X.Go?X.Go:X.Bo;
Z.data={d:"fromAction",RZ:d}}}else if(B=="colorRange"||B=="grow"||B=="similar"){Z.f=X.gC;Z.data={d:"fromAction",RZ:d}}else if(B=="set"&&r&&r.T&&r.T.v.Ordn=="Al"&&c._9==X.bU&&W.Ds().cN()){Z.f=X.bU;
Z.data={d:"selectAll"}}else if(hC.aAB[B]||hC.a5n[B]&&(!1||r.With&&r.With.v[0].v.keyID=="fsel"||r.From&&r.From.v[0].v.keyID=="fsel"||r.null&&r.null.v[0].v.keyID=="fsel"||r.T.v[0]&&r.T.v[0].v.keyID=="fsel")){Z.f=X.Ai;
Z.data={d:"fromAction",RZ:d}}else if(B=="rasterizeLayer"){Z.data={d:r.What?e8.av7:e8.c2}}var O={copyToLayer:e8.p0,cutToLayer:e8.KN,mergeLayersNew:e8.e4,mergeVisible:e8.XN,flattenImage:e8.adE,newPlacedLayer:e8.hS};
if(O[B])Z.data={d:O[B],i9:r};if(Z.data){W.T(Z);return}if(B=="collapseAllGroupsEvent"){for(var S=0;S<y.B.length;
S++){var Y=y.B[S];if(Y.vS())Y.add.lsct=aG.tV}y.Pm=!0;return}if(B=="desaturate"||B=="Dstt"){Z.f=X.Me;
Z.data={d:"auto",Kk:3};if(y&&y.B[y.g[0]].add.SoLd==null)W.T(Z);return}if(B=="close"){if(r&&r.Svng.v.YsN=="Ys"){i.data={d:b.H.DN};
W.T(i)}i.data={d:b.H.ku,Y1:y};W.T(i);return}if(B=="save"){i.data={d:b.H.DN};W.T(i);return}if(B=="copyMerged"){i.data={d:b.H.w_,J0:!0,QB:!0};
W.T(i);return}if(B=="placedLayerReplaceContents")i.data={d:b.H.xz,Mb:!0};var O={placedLayerEditContents:b.H.aBs,placedLayerExportContents:b.H.a3g,copyEvent:b.H.w_,paste:b.H.mn};
if(O[B])i.data={d:O[B],QB:!0};if(i.data){W.T(i);return}var l=r.null?r.null.v:null,I=l?l[0].v.classID:"";
if(B=="make"){if(r.null==null&&r.Nw)I=r.Nw.v.classID;if(I=="AdjL"){Z.data={d:e8.db,i9:r}}else if(I=="layerSection"){Z.data=r.From?{d:e8.af}:{d:e8.hd};
if(r.Usng){var s=r.Usng.v;if(s.Nm)Z.data.Su=s.Nm.v;if(s.Clr)Z.data._n=hC.$D(s)}}else if(I=="Lyr"){if(r.Usng&&r.Usng.v.length==2)Z.data={d:e8.aaN};
else{Z.data={d:e8.qI};if(r.Usng)Z.data.Su=r.Usng.v.Nm.v;if(r.below&&r.below.v)Z.data.a8C=!0}}else if(I=="Chnl"&&r.At&&r.At.v[0].v.enum=="Msk"){Z.data={d:e8.jV,Gg:r.Usng.v.UsrM}}else if(I=="Chnl"||I=="SCch"){Z.data={d:e8.iq,jK:"fromAction",b:d}}else if(I=="contentLayer"){Z.data={d:e8.br,i9:r}}else if(I=="BckL"){y.B[y.g[0]].ayS();
return}else if(I=="Dcmn"){if(r.Nw==null)return;var z=r.Nw.v;i.data={d:b.H._I,Ig:eb.a2Q(z,c)}}else if(I=="Ptrn")i.data={d:b.H.h3,au:0};
else if(I=="Path"){var R=r.At;if(R&&R.v&&R.v[0]&&R.v[0].v&&R.v[0].v.enum=="vectorMask"){Z.f=X.jq;var t=r&&r.Usng&&r.Usng.v.vectorMaskEnabled=="RvlA";
Z.data={d:e8.Bu,o2:!t}}else{Z.f=X.h9;Z.data={d:"pathedit",jK:"fromsel"}}}else if(I=="TxLr"){Z.f=X.bU;
Z.data={d:"fromAction",RZ:d}}else if(I=="slice"){Z.f=X.QC;Z.data={d:"fromAction",RZ:d}}else if(I=="Gd"){var a=[[],[]],z=r.Nw.v;
a[z.Ornt.v.Ornt=="Vrtc"?0:1].push(z.Pstn.v.val);var J=fS.ix(a);X.rL.gH(J,y.B5());Z.f=X.Sj;Z.data={d:"gids",MN:J}}else{console.log(B,I,r);
throw"e"}}else if(B=="divide"){Z.f=X.QC;Z.data={d:"fromAction",RZ:d}}else if(B=="deselect"){if(I=="Path"){y.DU=[];
y.jh=[];y.Pm=y.ps=!0;return}else throw I}else if(B=="selectNoLayers"){y.g=[];y.Dy=!0}else if(B=="selectAllLayers"){y.g=[];
for(var S=0;S<y.B.length;S++)y.g.push(S);y.Dy=!0;return}else if(B=="select"){var F=X._A;if(I=="Lyr"){var h=r.selectionModifier,m=h?h.v.selectionModifierType:null,D=hC.vj(y,l[0]),_=0;
if(D==-1){alert("Layer "+l[0].v.val+" does not exist.");return}var Y=y.B[D];if(Y.vS()&&Y.Q7()&&h==null)_=1;
Z.data={d:e8.In,a:D,Yy:m?["addToSelection","addToSelectionContinuous"].indexOf(m):null,BL:_}}else if(I=="Path"){if(l[0].v.keyID=="WrPt"){y.DU=[0];
y.Pm=y.ps=!0;return}else throw l[0]}else if(I=="Chnl"){var n=l?l[0].v.enum:"",j=["Rd","Grn","Bl"].indexOf(n);
if(j!=-1){var T=r.Extd&&r.Extd.v?y.Q.M.slice(0):[0,0,0];T[j]=1;Z.f=X.XU;Z.data={d:"setcls",M:T}}else Z.data={d:e8.In,a:D,BL:n=="RGB"?0:1}}else if(I=="Dcmn"){if(W.Tx.length<2)return;
i.data={d:b.H.a5d,dir:r.null.v[0].v.val}}else if(I=="Brsh"){var L=c.sa.list,p;for(var S=0;S<L.length;
S++){if(L[S].v.Nm.v.split("/").pop()==l[0].v.val)p=L[S].v}if(c._9==X.Sj){i.data={d:b.H.Fy,f:X.Bo};W.T(i)}i.data={d:b.H.e7,au:kG.cE,jl:p}}else if(I=="Mn"){if(l[0].v.enum=="Scl")i.data={d:b.H.Fy,f:X.Ee,er:{Gg:3}};
if(l[0].v.enum=="Plce")i.data={d:b.H.xz,a77:!0};if(l[0].v.enum=="ZmIn"){Z.f=X.AO;Z.data={d:"zoom",js:!0}}if(l[0].v.enum=="ZmOt"){Z.f=X.AO;
Z.data={d:"zoom",js:!1}}if(l[0].v.enum=="FtOn"){Z.f=X.AO;Z.data={d:"adapt",b:"fitscr"}}}else if(F[I]){i.data={d:b.H.Fy,f:F[I]}}else throw I}else if(B=="draw"){Z.f=X.h9;
Z.data={d:"fromAction",RZ:d}}else if(B=="gradientClassEvent"){Z.f=X.YQ;Z.data={d:"fromAction",RZ:d}}else if((B=="set"||B=="reset"||B=="exchange")&&I=="Clr"){i.data={d:b.H.e7,au:kG.kg,jK:B=="reset"?3:2};
if(B=="set"){i.data.jK=l[0].v.keyID=="FrgC"?0:1;var E=v.L.E5(r.T.v);i.data.b=E.Z<<16|E.G<<8|E.J}}else if(B=="set"){if(I=="AdjL"){var G=r.T.v.classID;
G=bN.dg[G];Z.f=X.Me;if(G)Z.data={d:"edit_layer",b:r.T.v}}else if(I=="Lyr"){var A=r.T.v,D=hC.vj(y,l[0]);
for(var u in A){if(u=="classID")continue;Z.f=X.jq;if(u=="Nm")Z.data={d:e8.gh,name:A.Nm.v};else if(u=="Opct")Z.data={d:e8.aU,z4:Math.round(A.Opct.v.val*255/100)};
else if(u=="fillOpacity")Z.data={d:e8.fV,z4:Math.round(A.fillOpacity.v.val*255/100)};else if(u=="Md")Z.data={d:e8.Mc,z4:dB.CL.indexOf(A.Md.v.BlnM)+(y.B[D].vS()?1:0)};
else if(u=="Usrs")Z.data={d:e8.n_,a:D};else if(u=="Blnd"){Z.f=X.tm;Z.data={d:"setstl",a:D,b:{blendOptions:{t:"objc",v:A}}};
W.T(Z);Z.data={d:"confirm",a:D}}else if(u=="userMaskFeather"||u=="userMaskDensity"){var q=A.userMaskFeather,o=A.userMaskDensity,D=y.g[0],M=y.B[D].oC(0);
if(q)M.Np=q.v.val;if(o)M.lV=o.v.val;Z.data={d:e8.JL,W2:D,tp:M}}else if(u=="Clr"){var U=hC.$D(A);Z.data={d:e8.eN,agL:U}}else if(u=="Lefx")hC.a0O(W,D,A.Lefx.v,c);
else{console.log(r);throw u}if(Z.data){W.T(Z);delete Z.data}}Z.data={};var Y=y.B[D];Y.axi()}else if(I=="Prpr"){var A=JSON.parse(JSON.stringify(r.T.v)),D=hC.vj(y,r.null.v[1]),Y=y.B[D],$=l[0].v.keyID;
if($=="TxtS"||$=="paragraphStyle"){var Q=Y.add.TySh,kF=JSON.parse(JSON.stringify(Q.p$)),P=it.H5(kF),bM=it.tO(kF,0,P.length-2);
if($=="TxtS")it.a9n(A,bM);else it.abb(A,bM);it.ml(kF,0,P.length-1,bM);Z.f=X.bU;Z.data={d:"newED",Mx:D,DR:kF}}else if($=="Lefx"){for(var jW in A)if(A[jW].v){if(jW=="Scl")A[jW].v.val=100}hC.a0O(W,D,A,c);
Z.data={}}else throw $}else if(I=="contentLayer"){var D=hC.vj(y,l[0]),A=r.T.v,fX=!0;if(A.classID=="shapeStyle"){if(A.strokeStyle){A=A.strokeStyle.v;
fX=!1}else A=A.FlCn.v}if(fX){var bX={solidColorLayer:0,gradientLayer:1,patternLayer:2}[A.classID],ao=bV.xI(y.B[D].add),C=ao.pF==bX+1?ao.ue:bV.vn[bX];
C=JSON.parse(JSON.stringify(C));X.wu.GL(A,C,bX);Z.data={d:e8.Ky,TZ:[D],aG:!0,b:{pF:bX+1,ue:C}}}else{var en=JSON.parse(JSON.stringify(y.B[D].add.vstk));
for(var jW in A)en[jW]=A[jW];Z.data={d:e8.Ky,TZ:[D],aG:!1,b:en}}}else if(I=="Brsh"){var p=JSON.parse(JSON.stringify(c.sa.WU)),fK=r.T.v;
if(fK.masterDiameter)p.Brsh.v.Dmtr.v.val=fK.masterDiameter.v.val;else console.log("unknown brush parameters");
i.data={d:b.H.e7,au:kG.cE,jl:p}}else if(I=="Path"){Z.f=X.h9;Z.data={d:"fromAction",RZ:d}}else{console.log(l[0],r);
throw I}}else if(B=="move"){if(I=="Lyr"){var A=r.T.v;if(A.classID=="Ofst"){Z.data={d:"trsl",eg:A.Hrzn.v.val,Tt:A.Vrtc.v.val};
Z.f=X.Sj}else{var b9,bK;if(A[0].t=="Enmr"){if(A[0].v.enum=="Frnt")bK=0;else if(A[0].v.enum=="Nxt")bK=1;
else if(A[0].v.enum=="Prvs")bK=2;else if(A[0].v.enum=="Back")bK=3;else throw"e"}else b9=A[0].v.val;Z.data={d:e8.xQ,target:b9,jK:bK,aE9:r.Dplc?r.Dplc.v:!1}}}else if(I=="Chnl"&&l[0].v.keyID=="fsel"){Z.f=X.Ai;
Z.data={d:"fromAction",RZ:d}}}else if(B=="groupEvent"||B=="ungroup")Z.data={d:e8.U1};else if(B=="show"||B=="hide"){var f0=r.null.t;
if(f0=="obj "){if(l[0].v.val!=null)Z.data={d:e8.XY,index:l[0].v.val-1};else Z.data={d:e8.aS}}else if(f0=="VlLs"){var I=l[0].v[0].v.classID;
if(I=="Chnl")Z.data={d:e8.iq,jK:"fromAction",b:d};else{var hn=I=="filterFX"?l:l[0].v;for(var S=0;S<hn.length;
S++){if(I=="filterFX")Z.data={d:e8.XY,index:hn[S].v[0].v.val-1};else{var D=hC.vj(y,hn[S]),hX=y.B[D].jF();
if(B=="show"&&hX||B=="hide"&&!hX)continue;Z.data={d:e8.DC,TZ:[D]}}W.T(Z)}return}}else throw f0}else if(B=="rotateEventEnum"){Z.f=I=="Lyr"?X.Ee:X.Rz;
var gR=r.Angl.v.val;Z.data={d:"rot",o1:[2,5],b:-gR*Math.PI/180}}else if(B=="flip"){Z.f=I=="Lyr"?X.Ee:X.Rz;
var ib=r.Axis.v.Ornt=="Hrzn",gU=ib?new aL(-1,1):new aL(1,-1);Z.data={d:"scl",o1:[[2,6],[22,4,ib?2:3]],b:gU}}else if(B=="transform"){var hq=1,ip=1,aW=0,kN=0,hW=0,jH=0,g0=0,eh=null,bu=null;
if(r.Wdth)hq=r.Wdth.v.val/100;if(r.Hght)ip=r.Hght.v.val/100;if(r.Skew){var gC=r.Skew.v;aW=gC.Hrzn.v.val;
kN=gC.Vrtc.v.val}if(r.Ofst){var jL=r.Ofst.v;jH=jL.Hrzn.v.val;g0=jL.Vrtc.v.val}if(r.Angl)hW=r.Angl.v.val;
var jf=new dT;jf.concat(new dT(hq,hq*Math.tan(kN*Math.PI/180),ip*Math.tan(aW*Math.PI/180),ip,0,0));jf.rotate(-hW*Math.PI/180);
jf.translate(jH,g0);var cm=v.D.MK(jf);if(r.Usng){var jL=r.Usng.v;cm[6]=jL.Hrzn.v.val/100;cm[7]=jL.Vrtc.v.val/100}var eJ=r.FTcs.v.QCSt;
if(eJ=="Qcsi"){var eZ=r.Pstn.v;eh=new aL(eZ.Hrzn.v.val,eZ.Vrtc.v.val)}else bu=X.X.aa0[eJ];var l=r.null;
if(l&&l.v instanceof Array)l=l.v[0];var D=l?hC.vj(y,l):null;if(D==-1)D=null;Z.f=l&&l.v.keyID=="fsel"?X.lF:X.Ee;
Z.data={d:"dtr",gS:bu,b:cm,ed:r.warp,ahj:eh}}else if(B=="duplicate"){if(I=="Chnl")Z.data={d:e8.iq,jK:"fromAction",b:d};
else if(I=="Dcmn"){var a0=fd.Ay("PSD").Cy(y);bw.Ro({url:y.name},a0,W);return}else if(I=="Actn"){var gZ=c.HV,bt=l[1].v.val,dp=null;
for(var S=0;S<gZ.length;S++)if(gZ[S].o1==bt)dp=gZ[S];var gb=hC.qm(gZ,l[0].v.val,bt);gb=JSON.parse(JSON.stringify(gb));
gb.o1+=" copy";dp.nW.push(gb);return}else Z.data={d:e8.k9,Su:r.Nm?r.Nm.v:null}}else if(B=="delete"){if(I=="filterFX"){if(l[0].v.val!=null)Z.data={d:e8.XZ,pG:l[0].v.val-1};
else Z.data={d:e8.Ff}}else if(I=="Path"){Z.f=X.h9;Z.data={d:"pathedit",jK:"del"}}else if(I=="Lyr")Z.data={d:e8.Mr};
else if(I=="Chnl"&&l[0].v.enum=="Msk")Z.data={d:e8.gK};else if(I=="Chnl")Z.data={d:e8.iq,jK:"fromAction",b:d};
else if(I=="Cmnd"){var gZ=c.HV,bt=l[2].v.val,gb=hC.qm(gZ,l[1].v.val,bt);gb.nW.splice(l[0].v.val-1,1);
return}else if(I=="Actn"){var gZ=c.HV,bt=l[1].v.val,dp=null;for(var S=0;S<gZ.length;S++)if(gZ[S].o1==bt)dp=gZ[S];
var gb=hC.qm(gZ,l[0].v.val,bt);dp.nW.splice(dp.nW.indexOf(gb),1);return}else throw I}else if(B=="align"){if(r.Aply&&r.Aply.v.projection=="Auto"){Z.f=X.Rz;
Z.data={d:"auto-align"}}else{Z.f=X.Sj;var e_=r.Usng.v.ADSt,N={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[e_];
if(N==null)throw e_;Z.data={d:"algn",b:N}}}else if(B=="applyLocking"){var dO=r.layerLocking.v,dC;if(dO.protectTransparency)dC=[[dO.protectTransparency.v],[0]];
else if(dO.protectNone)dC=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(dO);throw"e"}Z.data={d:e8.PJ,z4:dC}}if(Z.data)W.T(Z);
else if(i.data)W.T(i);else{console.log(d);alert("Unknown action \""+B+"\"");throw"e"}};hC.a0O=function(d,W,c,y){c=JSON.parse(JSON.stringify(c));
dy.k$(c);if(c.masterFXSwitch==null)c.masterFXSwitch={t:"bool",v:!0};console.log(c);var B=bV.Fb;for(var r=0;
r<B.length;r++)if(c[B[r]]){for(var S=0;S<c[B[r]].v.length;S++){var x=c[B[r]].v[S].v;for(var Z=0;Z<2;
Z++){var i=x[Z==0?"TrnS":"MpgS"];if(i&&i.v.Crv==null){var k=i.v,H=k.Nm.v.split("=").pop(),V=y._C;for(var g=0;
g<V.length;g++){var N=V[g].Nm.v.split("=").pop();if(N==H)k.Crv=JSON.parse(JSON.stringify(V[g].Crv))}if(i.v.Crv==null){console.log(i);
throw"e"}}}}}var C=new bR(b.E.v,!0);C.f=X.tm;C.data={d:"setstl",a:W,b:{Lefx:{t:"objc",v:c}}};d.T(C);
C.data={d:"confirm",a:W};d.T(C)};hC.$D=function(d){var W={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[d.Clr.v.Clr];
if(W==null)throw d.Clr.v.Clr;return W};hC.vj=function(d,W){var c=1e6,y=0,B=d.B.length;for(var S=0;S<d.g.length;
S++){c=Math.min(c,d.g[S]);y=Math.max(y,d.g[S])}var r=W.t,x=-1;if(r=="name"){var Z=W.v.val,x=-1;for(var S=0;
S<B;S++)if(d.B[S].getName()==Z){x=S;break}}else if(r=="Enmr"){if(d.g.length!=0)x=d.g[0];if(W.v.enum=="Frwr")x=y+1;
if(W.v.enum=="Bckw")x=c-1;if(W.v.enum=="Back")x=0;if(W.v.enum=="Frnt")x=B-1;x=(x+B)%B}else if(r=="prop"){if(W.v.keyID=="Bckg")x=0}else if(r=="indx")x=W.v.val-1;
return x};var bN={};bN.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
bN.a0G=["expA","clrL","selc"];bN.gf=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];bN.apl=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
bN.S7=[[13,1,1],[13,1,4],[13,1,5]];bN.ae={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
bN.dg=function(){var d=JSON.parse(JSON.stringify(bN.ae));delete d.GrMp;d.GdMp="grdm";return d}();bN._A={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
bN.keys={levl:[bm.Z7,bm.ns],curv:[bm.Z7,bm.wH],hue2:[bm.Z7,bm.hq],nvrt:[bm.Z7,bm.kf],blnc:[bm.Z7,bm.dG]};
bN.aCt=function(d){var W=eR.qw("mixr");W.Mnch={t:"bool",v:d.pO};function c(y,S){var B={classID:"ChMx"},r={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var x in r)B[x]={t:"UntF",v:{type:"#Prc",val:y[S+r[x]]}};return{t:"Objc",v:B}}if(d.pO)W.Gry=c(d.b,0);
else{W.Rd=c(d.b,0);W.Grn=c(d.b,5);W.Bl=c(d.b,10)}return W};bN.zF=function(d){function W(y,B,S){var r={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var x in r)if(y[x])B[S+r[x]]=y[x].v.val}var c={pO:!1,b:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(d.Mnch&&d.Mnch.v)c.pO=!0;if(c.pO)W(d.Gry.v,c.b,0);else{W(d.Rd.v,c.b,0);W(d.Grn.v,c.b,5);W(d.Bl.v,c.b,10)}return c};
bN.get=function(d){for(var W in bN.names)if(d[W]!=null)return W;return null};bN.iA=function(d,W){var c=bN.WG,y;
if(d=="brit"){var B=W.Brgh?W.Brgh.v:0,r=W.Cntr?W.Cntr.v:0,x=W.useLegacy?W.useLegacy.v:!1;if(x){var Z=B/255,i=1+r/100;
if(i>1)i=1+Math.tan(Math.PI/2*r/101);var k=(1-i)/2,H=v.hu.nO(Z,Z,Z),V=[i,0,0,k,0,i,0,k,0,0,i,k,0,0,0,1],g=v.hu.multiply(V,H),N=new v.ii(256);
for(var S=0;S<256;S++)N.Z[S]=S;v.hu.transform(N,N,g);y={type:c.Bh,Rp:N.Z,qP:N.Z,wN:N.Z,_y:!1,QL:!1}}else{var C=1024,w=-30+60*(r+100)/200,Y=[];
for(var S=0;S<4;S++)Y.push(v.YF.la(S/3*255,S/3*255,!0));Y[1].v.Hrzn.v=64;Y[1].v.Vrtc.v=64-w;Y[2].v.Hrzn.v=128+64;
Y[2].v.Vrtc.v=128+64+w;Y.sort(function(cr,cN){return cr.v.Hrzn.v-cN.v.Hrzn.v});var U=v.YF.Gy(Y,C);function e(cr,C){var Y=[],bd=3;
for(var S=0;S<bd+1;S++)Y.push(v.YF.la(S/bd*255,S/bd*255,!0));Y[1].v.Hrzn.v=130-cr*26;Y[1].v.Vrtc.v=130+cr*51;
Y[2].v.Hrzn.v=233-cr*48;Y[2].v.Vrtc.v=233+cr*10;return v.YF.Gy(Y,C)}var O=e(Math.abs(B)/100,C);if(B<0){var l=[],I=1/C;
for(var S=0;S<C;S++){var s=S*I,z=S;while(O[z]>s&&z>1)z--;l[S]=z*I}O=l}var R=new Uint8Array(C);for(var S=0;
S<C;S++){var t=Math.round((C-1)*O[S]);R[S]=Math.round(255*U[t])}y={type:c.Bh,Rp:R,qP:R,wN:R,_y:!1,QL:!1}}}if(d=="levl"){var a=[],J,F,H,h,m,D;
for(var S=0;S<4;S++)a.push(fr.ar(W,S));J=-a[0][0]/255;F=1/(a[0][1]/255-a[0][0]/255);H=v.hu.multiply(v.hu.at(F,F,F),v.hu.nO(J,J,J));
h=v.hu.at(1/(a[1][1]/255-a[1][0]/255),1/(a[2][1]/255-a[2][0]/255),1/(a[3][1]/255-a[3][0]/255));m=v.hu.nO(-a[1][0]/255,-a[2][0]/255,-a[3][0]/255);
D=v.hu.multiply(h,m);var R=new v.ii(256);for(var S=0;S<256;S++)R.Z[S]=R.G[S]=R.J[S]=S;var _=1/(a[0][4]/100),n=1/(a[1][4]/100),j=1/(a[2][4]/100),T=1/(a[3][4]/100);
v.hu.transform(R,R,D);for(var S=0;S<256;S++){R.Z[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.Z[S]/255,n))));
R.G[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.G[S]/255,j))));R.J[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.J[S]/255,T))))}v.hu.transform(R,R,H);
for(var S=0;S<256;S++){R.Z[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.Z[S]/255,_))));R.G[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.G[S]/255,_))));
R.J[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.J[S]/255,_))))}J=a[0][2]/255;F=a[0][3]/255-a[0][2]/255;
H=v.hu.multiply(v.hu.nO(J,J,J),v.hu.at(F,F,F));h=v.hu.at(a[1][3]/255-a[1][2]/255,a[2][3]/255-a[2][2]/255,a[3][3]/255-a[3][2]/255);
m=v.hu.nO(a[1][2]/255,a[2][2]/255,a[3][2]/255);D=v.hu.multiply(m,h);v.hu.transform(R,R,v.hu.multiply(H,D));
y={type:c.Bh,Rp:R.Z,qP:R.G,wN:R.J,_y:!1,QL:!1}}if(d=="curv"){var L=d8.ar(W,0).length==256?1:0,p=[];if(L==0){var E=v.YF.fc(d8.ar(W,0),256);
for(var S=1;S<4;S++){var G=v.YF.fc(d8.ar(W,S),256);p.push(v.YF.auS(G,E))}}else{var A=[];for(var S=0;
S<4;S++){var u=new Uint8Array(256);A.push(u);var q=d8.ar(W,S);for(var z=0;z<256;z++)u[z]=q[z]}for(var S=1;
S<4;S++)p.push(v.YF.auS(A[S],A[0]))}y={type:c.Bh,Rp:p[0],qP:p[1],wN:p[2],_y:!1,QL:!1}}if(d=="expA"){var o=W.Exps,M=W.Ofst,$=W.gammaCorrection,Q=o?o.v:0,kF=M?M.v:0,P=$?$.v:1,R=new Uint8Array(256);
for(var S=0;S<256;S++){var W=S/255,bM=Math.pow(Math.abs(kF),1/(Math.PI/2));if(kF>0){W=Math.max(kF/Math.E,W);
W=W*Math.exp(kF/1.75+Q/Math.PI);W=(1-bM)*W+bM*1}else{W=W*Math.exp(-kF*1.75+Q/Math.PI);W=W+-bM*1.14}W=Math.pow(W,1/P);
W=Math.max(0,Math.min(1,W));R[S]=Math.round(W*255)}y={type:c.Bh,Rp:R,qP:R,wN:R,_y:!1,QL:!1}}if(d=="vibA"){var jW=(W.vibrance?W.vibrance.v:0)/100,fX=(W.Strt?W.Strt.v:0)/100,bM=1+jW*(jW>0?.25:.5),bX=.8+.2/bM;
y={type:c.sC,au:[jW,fX,bX,bM]}}if(d=="hue2"){var ao=[],en=[],fK=[],bO=W.Clrz?W.Clrz.v:!1;for(var S=0;
S<256;S++){ao[S]=S/255;en[S]=0;fK[S]=0}var b9=fA.ar(W,0),bK=bN.yc(b9[1]/100);if(bO){var f0=b9[0]/360;
for(var S=0;S<256;S++){ao[S]=f0;en[S]=bK}}else{for(var S=0;S<256;S++){var hn=ao[S],hX=en[S];ao[S]+=b9[0]/360;
for(var z=0;z<6;z++){var gR=fA.ar(W,z+1),ib=gR.KC,gU=gR.LT,bM=0;for(var hq=1;hq<4;hq++)if(gU[hq]<gU[0])gU[hq]+=360;
var ip=gU[0],aW=gU[1],kN=gU[2],hW=gU[3],jH=hn*360;if(jH<gU[0])jH+=360;var g0=(jH-ip)/(aW-ip),gC=(jH-kN)/(hW-kN);
if(g0<0)bM=0;else if(g0<1)bM=g0;else if(gC<0)bM=1;else if(gC<1)bM=1-gC;else bM=0;var i=bN.yc(ib[1]/100);
ao[S]+=bM*ib[0]/360;en[S]+=bM*i;fK[S]+=bM*ib[2]/100}}for(var S=0;S<256;S++){en[S]=(1+en[S])*(1+bK)-1;
fK[S]=Math.max(-1,Math.min(1,fK[S]))}}var jL=new Uint8Array(256),jf=new Uint8Array(256),cm=new Uint8Array(256);
for(var S=0;S<256;S++){var eh=ao[S],fX=en[S],bu=fK[S];if(eh>1)eh--;if(eh<0)eh++;fX=bN.aq1(fX);fX=(1+fX)*.5;
bu=(1+bu)*.5;jL[S]=Math.round(255*eh);jf[S]=Math.round(255*fX);cm[S]=Math.round(255*bu)}var eJ=b9[2]/100,eZ=eJ<0?-eJ:eJ,a0=eJ<0?0:1;
y={type:c.lx,a5k:jL,gD:jf,a32:cm,ah6:eZ*a0,bm:1-eZ,a4T:b9[2]/100,aBg:bO?1:0}}if(d=="nvrt"){var R=new Uint8Array(256);
for(var S=0;S<256;S++)R[S]=255-S;y={type:c.Bh,Rp:R,qP:R,wN:R,_y:!1,QL:!1}}if(d=="post"){var gZ=W.Lvls.v,R=new Uint8Array(256),bM=gZ/255.001,bt=255/(gZ-1);
for(var S=0;S<256;S++)R[S]=Math.floor(S*bM)*bt;y={type:c.Bh,Rp:R,qP:R,wN:R,_y:!1,QL:!1}}if(d=="grdm"){var dp=W.Grad.v,gb=W.Rvrs,C=1024,e_;
if(dp.Clrs){var dO=v.L.rW(dp,0,0);e_=v.L.alo(dp,dO,C,gb?gb.v:!1)}else{e_=v.L.a7U(dp,C,gb?gb.v:!1)}var dC=v.R(C),kc=v.R(C),ia=v.R(C);
v.$P(e_,dC,0);v.$P(e_,kc,1);v.$P(e_,ia,2);y={type:c.Bh,Rp:dC,qP:kc,wN:ia,_y:!0,QL:!1}}if(d=="selc"){var hO=new Float32Array(9*3*2),cj=W.Rk,bA=W.Mthd?W.Mthd.v.CrcM=="Absl":!1;
for(var z=0;z<9;z++){var bg=z*6,cX=je.ar(W,z),i4=cX[0]/100,fJ=cX[1]/100,iu=cX[2]/100,hV=cX[3]/100;if(bA){hO[bg]=hO[bg+1]=hO[bg+2]=1;
hO[bg+3]=i4*(1+hV)+hV;hO[bg+4]=fJ*(1+hV)+hV;hO[bg+5]=iu*(1+hV)+hV}else{hO[bg+0]=(1+i4)*(1+hV);hO[bg+1]=(1+fJ)*(1+hV);
hO[bg+2]=(1+iu)*(1+hV)}}y={type:c.W0,ane:hO}}if(d=="blwh"){var f$="Rd Yllw Grn Cyn Bl Mgnt".split(" "),y=[],cd=0,jZ=0;
for(var S=0;S<6;S++)y.push(W[f$[S]].v);y.push(W.useTint.v,W.tintColor.v);var kg=[];for(var S=0;S<6;S++)kg.push((y[S]-50)/50);
var jy=v.L.E5(y[7]);jy.Z/=255;jy.G/=255;jy.J/=255;var iM=v.CG(jy.Z,jy.G,jy.J),bu=v.K1(v.Ml(iM.fn,1,.5)),hI=iM.Td*iM.Za;
if(bu==.5)cd=jZ=.5;else{cd=hI*(.5-bu)/(.5/bu-1);jZ=1-hI*(.5-bu)-1/(2*(1-bu));jZ/=1-1/(2*(1-bu))}y={type:c.gi,aDd:kg,f_:y[6]?1:0,ayN:iM.fn,K1:bu,adk:hI,hP:cd,a35:jZ}}if(d=="blnc"){var a=[],hz=["ShdL","MdtL","HghL"];
for(var S=0;S<3;S++){if(W[hz[S]]==null){a[S]=[0,0,0];continue}var gZ=W[hz[S]].v,jv=gZ[0].v/100,eI=gZ[1].v/100,j2=gZ[2].v/100,fM=W.PrsL==null||W.PrsL.v?(Math.min(jv,eI,j2)+Math.max(jv,eI,j2))/2:0;
a[S]=[jv-fM,eI-fM,j2-fM]}var p=[v.R(256),v.R(256),v.R(256)];for(var z=0;z<3;z++)for(var S=0;S<256;S++){var s=S*(1/255),gY=0,w=0,c4=0;
w=a[2][z];c4=Math.abs(w);if(w<0)gY=Math.pow(s,Math.SQRT2);else gY=1.63*(Math.pow(s+.04,.5)-.2);s=c4*gY+(1-c4)*s;
w=a[1][z];c4=Math.abs(w);if(w<0)gY=Math.pow(s,2);else gY=Math.min(2.35*(Math.pow(s+.09,.5)-.3),Math.pow(s,1/2));
s=c4*gY+(1-c4)*s;w=a[0][z];c4=Math.abs(w);if(w<0)gY=s<.4?0:Math.pow((s-.4)/.6,Math.SQRT2);else gY=Math.pow(s,Math.SQRT2/2);
s=c4*gY+(1-c4)*s;s=Math.max(0,Math.min(1,s));p[z][S]=Math.round(s*255)}y={type:c.Bh,Rp:p[0],qP:p[1],wN:p[2],_y:!1,QL:!1}}if(d=="phfl"){var fI=v.L.E5(W.Clr.v),jq=[fI.Z/255,fI.G/255,fI.J/255],e1=W.Dnst.v/100,p=[v.R(256),v.R(256),v.R(256)];
for(var z=0;z<3;z++)for(var S=0;S<256;S++){var s=S*(1/255),ir=s*jq[z];ir=Math.max(0,Math.min(1,ir));
s=e1*ir+(1-e1)*s;p[z][S]=Math.round(s*255)}y={type:c.Bh,Rp:p[0],qP:p[1],wN:p[2],_y:!1,QL:W.PrsL.v}}if(d=="thrs"){var R=v.R(256);
for(var S=W.Lvl.v;S<256;S++)R[S]=255;y={type:c.Bh,Rp:R,qP:R,wN:R,_y:!0,QL:!1}}if(d=="mixr"){var fy=bN.zF(W),g=[];
for(var S=0;S<fy.b.length;S++)if(S%5!=3)g.push(fy.b[S]/100);if(fy.pO){for(var kI=1;kI<3;kI++)for(var s=0;
s<4;s++)g[kI*4+s]=g[s]}y={type:c.DF,Fp:g}}if(d=="rplc"){var fF=W.Mnm.v,d6=W.Mxm.v;y={type:c.Ob,C5:[fF.Lmnc.v,fF.A.v,fF.B.v],hb:[d6.Lmnc.v,d6.A.v,d6.B.v],shift:[W.H.v/360,W.Strt.v/100,W.Lght.v/100],Qw:W.Fzns.v/150}}if(d=="clrL"&&W.profile){var bn=new Uint8Array(W.profile.v),aZ=ICC.R(bn.buffer),ai=[],bk=17,ai=ICC.U.sampleLUT(aZ,bk);
y={type:c.Ko,iJ:ICC.U.lutToRGBA8(ai,bk),a1E:ai,gP:bk}}return y};bN.tM=function(d,W){var c=-1;if(d!="levl"||W==null)c=-1;
else if(W.Auto)c=0;else if(W.AuCo)c=1;else if(W.autoBlackWhite)c=2;return c};bN.WG={Bh:0,lx:1,sC:2,W0:3,gi:4,DF:5,Ob:6,Ko:7};
bN.yc=function(d){if(d<0)return d;return Math.pow(Math.tan(Math.PI/2*d),1.3)};bN.aq1=function(d){if(d<0)return d;
d=Math.pow(d,1/1.3);return Math.atan2(d,1)/(Math.PI/2)};bN.xh=function(d,W,c,y){var B=bN.WG,r=Date.now();
if(d1.ZV&&y.P()>300*300&&d.type!=B.Bh&&d.type!=B.Ko){y=y.clone();y.x=y.y=0;var x=d1._V(0,y.m,y.i);x.set(W);
d1.QO(x,y);x.Yf(y);bN.SF(d,x._Y,y);x.get(c);return}if(d.type==B.Ko){var Z=d.a1E,i=d.gP;ICC.U.applyLUT(Z,i,W,c);
var k=W.length;for(var S=0;S<k;S+=4)c[S+3]=W[S+3]}if(d.type==B.DF)v.hu.aC_(W,c,d.Fp);if(d.type==B.gi){var H=d.adk,V=d.K1,g=d.hP,N=d.a35,k=W.length;
for(var S=0;S<k;S+=4){var y=W[S]*(1/255),C=W[S+1]*(1/255),w=W[S+2]*(1/255),Y=v.p8(y,C,w),U=0;for(var e=0;
e<6;e++)U+=Math.min(1,1.7*(1-Y.vh))*Y.Td*d.aDd[e]*bN.axA(Y.fn,e*(1/6));var O=Math.max(0,Math.min(1,Y.vh*(1+U)));
if(d.f_==1){var l=0;if(O<g)l=O*(.5/V);else if(O<N)l=O+H*(.5-V);else l=1-(1-O)*.5/(1-V);Y.fn=d.ayN;Y.Td=Math.min(1,H+3*H*Math.abs(O-.5*(g+N)));
Y.vh=l}else{Y.fn=0;Y.Td=0;Y.vh=O}var I=v.Ml(Y.fn,Y.Td,Y.vh);c[S]=Math.round(I.Z*255);c[S+1]=Math.round(I.G*255);
c[S+2]=Math.round(I.J*255)}}if(d.type==B.W0){var s=d.ane,k=W.length,z=1/255;for(var S=0;S<k;S+=4){var y=W[S]*z,C=W[S+1]*z,w=W[S+2]*z,Y=v.p8(y,C,w),R=Math.max(y,Math.max(C,w)),t=Math.min(y,Math.min(C,w)),a=1-y,J=1-C,F=1-w,h=0,m=0,D=0;
for(var e=0;e<9;e++){var _=e*6,L=0;if(s[_]==1&&s[_+1]==1&&s[_+2]==1&&s[_+3]==0&&s[_+4]==0&&s[_+5]==0)continue;
var n=a*s[_]+s[_+3],j=J*s[_+1]+s[_+4],T=F*s[_+2]+s[_+5];if(e<6)L=bN.axA(Y.fn,e*(1/6))*Y.Td*2*Math.min(Y.vh,1-Y.vh);
else if(e==6)L=Math.max(0,t-.5)*2;else if(e==7)L=1-(Math.abs(R-.5)+Math.abs(t-.5));else L=Math.max(0,.5-R)*2;
h+=(Math.max(0,Math.min(1,n))-a)*L;m+=(Math.max(0,Math.min(1,j))-J)*L;D+=(Math.max(0,Math.min(1,T))-F)*L}a=Math.max(0,Math.min(1,a+h));
J=Math.max(0,Math.min(1,J+m));F=Math.max(0,Math.min(1,F+D));y=1-a;C=1-J;w=1-F;c[S]=Math.round(y*255);
c[S+1]=Math.round(C*255);c[S+2]=Math.round(w*255)}}if(d.type==B.Bh){v.a2S(W,c,d.Rp,d.qP,d.wN,d._y,d.QL)}if(d.type==B.lx){var p=new Uint32Array(W.buffer),E=new Uint32Array(c.buffer),k=p.length;
if(bN.gm==null){bN.gm=new Float64Array(256);for(var S=0;S<256;S++)bN.gm[S]=bN.yc(-1+2*S/255)}var G=bN.gm;
for(var S=0;S<k;S++){var A=p[S],y=(A&255)*(1/255),C=(A>>>8&255)*(1/255),w=(A>>>16&255)*(1/255),u=A>>>24,q=Math.min(y,C,w),o=Math.max(y,C,w),M=0,$=0,Q=0;
M=v.p8(y,C,w).fn;var kF=~~(M*255+.5),P=d.a5k[kF]*(1/255),bM=d.gD[kF]*(1/255)*2-1,jW=d.a32[kF]*(1/255)*2-1,U=-jW,fX=q;
if(0<jW){U=jW;fX=o}var bX=d.ah6+d.bm*U*fX,ao=d.bm*(1-U);y=bX+ao*y;C=bX+ao*C;w=bX+ao*w;o=Math.max(y,C,w);
q=Math.min(y,C,w);Q=(o+q)*.5;if(o!=q){var en=o-q;$=Q>.5?en/(2-(o+q)):en/(o+q)}var fK=bM;if(d.aBg==0){bM=G[Math.floor((1+bM)*127.5)];
fK=Math.min($*(1+bM),1)}var I=v.Ml(P,fK,Q);y=I.Z;C=I.G;w=I.J;E[S]=u<<24|w*255<<16|C*255<<8|y*255}}if(d.type==B.Ob){v.PY(W,c);
var p=new Uint32Array(W.buffer),E=new Uint32Array(c.buffer),k=p.length,bO=d.Qw,b9=1/bO,bK={ns:d.C5[0],U:d.C5[1],J:d.C5[2]},f0={ns:d.hb[0],U:d.hb[1],J:d.hb[2]};
for(var S=0;S<k;S++){var A=p[S],hn=A&255,hX=A>>>8&255,gR=A>>>16&255,y=hn*(1/255),C=hX*(1/255),w=gR*(1/255),u=A>>>24,ib=v.Xx(hn,hX,gR),gU=v.a8h(ib,bK,f0,bO,b9);
if(gU==0)continue;var Y=v.p8(y,C,w),P=2+Y.fn+d.shift[0];Y.fn=P-~~P;Y.Td=Math.max(0,Math.min(1,Y.Td+d.shift[1]));
Y.vh=Math.max(0,Math.min(1,Y.vh+d.shift[2]));var I=v.Ml(Y.fn,Y.Td,Y.vh);y=(1-gU)*y+gU*I.Z;C=(1-gU)*C+gU*I.G;
w=(1-gU)*w+gU*I.J;E[S]=u<<24|w*255<<16|C*255<<8|y*255}}if(d.type==B.sC){var p=new Uint32Array(W.buffer),E=new Uint32Array(c.buffer),k=p.length,hq=d.au[0],ip=d.au[1],aW=d.au[2],U=d.au[3],kN=v.hu.qs([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),hW=v.hu.QE(kN),jH=2.4;
function i(cm){return Math.max(0,Math.min(1,cm))}function g0(cm){return Math.pow(cm,jH)}function gC(cm){return Math.pow(cm,1/jH)}function jL(y,C,w,cm){y=g0(y);
C=g0(C);w=g0(w);var eh=v.hu.ul(kN,[y,C,w,1]);eh[0]*=aW;eh[1]*=U;eh[2]*=U;var I=v.hu.ul(hW,eh);I[0]=gC(i(I[0]));
I[1]=gC(i(I[1]));I[2]=gC(i(I[2]));return I}for(var S=0;S<k;S++){var A=p[S],y=(A&255)*(1/255),C=(A>>>8&255)*(1/255),w=(A>>>16&255)*(1/255),u=A>>>24,I=jL(y,C,w,hq);
y=I[0];C=I[1];w=I[2];var jf=v.p8(y,C,w);jf.Td=Math.max(0,Math.min(1,jf.Td*(1+ip)));I=v.Ml(jf.fn,jf.Td,jf.vh);
y=I.Z;C=I.G;w=I.J;E[S]=u<<24|w*255<<16|C*255<<8|y*255}}};bN.SF=function(d,W,c){d1.dH.SF(d,W)};bN.axA=function(d,W){var c=v.Fe(W,d)*6;
return Math.max(0,Math.min(1,c<0?1+c:1-c))};var eR={};eR.a_=function(d){var W=d.filterID.v;return W>16777215?K.a86(W):d.Fltr.v.classID};
eR.L1=[{ue:"GEfc"},{ue:"LnCr"},{ue:"Adobe Camera Raw Filter"},{ue:"LqFy"},{ue:"VaPo",Zq:!0},{hY:"3D",Dx:["lightFilterGradient","Dila"]},{hY:[24,2],Dx:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{hY:[24,4],Dx:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{hY:[24,6],Dx:["AdNs","Dspc","DstS","Mdn ","denoise"]},{hY:[24,8],Dx:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{hY:[24,10],Dx:["Flam","Clds","DfrC","Fbrs","LnsF"]},{hY:[24,12],Dx:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{hY:[24,14],Dx:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{hY:[24,16],Dx:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{hY:"Fourier",Dx:["dDFT","iDFT"]}];
eR._A={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
eR.UD={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
eR.s={rigidTransform:X.Bp};eR.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
eR.qw=function(d){var W=null;if(d=="GEfc")W={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:ar.qw("GlwE")}]}};
if(d=="LqFy"){var c={Kp:5,fn:5,map:new Float32Array(5*5*2)},y=new Uint8Array(eo.Fm(c)),B=[];for(var S=0;
S<y.length;S++)B.push(y[S]);W={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:B}}}if(d=="rigidTransform"){W={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(d=="LnCr")W={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(d=="adaptCorrect")W={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(d=="Dfs ")W={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(d=="Fbrs")W={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(d=="Embs")W={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(d=="oilPaint")W={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(d=="TrcC")W={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(d=="Wnd ")W={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(d=="lightFilterGradient")W={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(d=="boxblur")W={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(d=="GsnB")W={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(d=="Bokh")W={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(d=="MtnB")W={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(d=="RdlB")W={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(d=="surfaceBlur")W={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(d=="denoise")W={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(d=="Dspl")W={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(d=="Pnch")W={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(d=="Plr ")W={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(d=="Rple")W={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(d=="Shr ")W={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(d=="Sphr")W={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(d=="Twrl")W={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(d=="Wave")W={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(d=="ZgZg")W={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(d=="AdNs")W={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(d=="DstS")W={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(d=="Mdn ")W={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(d=="ClrH")W={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(d=="Crst")W={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(d=="Mztn")W={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(d=="Msc ")W={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(d=="Pntl")W={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(d=="LnsF")W={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(d=="Dthr")W={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(d=="Part")W={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(d=="Adobe Camera Raw Filter")W={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(d=="smartSharpen")W={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(d=="UnsM")W={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(d=="HghP")W={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(d=="HsbP")W={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(d=="Mxm ")W={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(d=="Mnm ")W={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(d=="Ofst")W={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(d=="Kale")W={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(d=="Rept")W={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(d=="Flam")W={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(d=="Ctoa")W={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(d=="brit")W={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(d=="levl")W={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(d=="curv")W={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(d=="expA")W={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(d=="vibA")W={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(d=="hue2")W={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(d=="blnc")W={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(d=="blwh")W={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(d=="phfl")W={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(d=="grdm")W={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(bV._R[6]).Grad};
if(d=="selc")W={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(d=="thrs")W={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(d=="mixr")W={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(d=="clrL")W={__name:"Color Lookup",classID:"colorLookup"};if(d=="post")W={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(d=="rplc")W={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(d=="fade")W={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(d=="aply")W={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(d=="matc"){W={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(d=="Dila")W={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(d=="blendOptions")W={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return W};eR.uA={sFlam:function(d,W){W[0]=d.Type.v;W[1]=d.Leng.v;W[2]=d.RndL.v;W[3]=d.Widt.v;W[4]=d.Angl.v;
W[5]=d.Intr.v;W[6]=d.Adpt.v;W[7]=d.Clr.v;W[8]=d.Qual.v;W[9]=d.Turb.v;W[10]=d.Jag.v;W[11]=d.Opct.v.val;
W[12]=d.Lins.v;W[13]=d.Botm.v;W[14]=d.Styl.v;W[15]=d.Shap.v;W[16]=d.RnSh.v;W[17]=d.Arng.v},gFlam:function(d,W){d.Type.v=W[0];
d.Leng.v=W[1];d.RndL.v=W[2];d.Widt.v=W[3];d.Angl.v=W[4];d.Intr.v=W[5];d.Adpt.v=W[6];d.Clr.v=W[7];d.Qual.v=W[8];
d.Turb.v=W[9];d.Jag.v=W[10];d.Opct.v.val=W[11];d.Lins.v=W[12];d.Botm.v=W[13];d.Styl.v=W[14];d.Shap.v=W[15];
d.RnSh.v=W[16];d.Arng.v=W[17]},sAdNs:function(d,W){W[0]=d.Nose.v.val;W[1]=["Gsn","Unfr"].indexOf(d.Dstr.v.Dstr);
W[2]=d.Mnch.v},gAdNs:function(d,W){d.Nose.v.val=W[0];d.Dstr.v.Dstr=["Gsn","Unfr"][W[1]];d.Mnch.v=W[2]},sDstS:function(d,W){W[0]=d.Rds.v;
W[1]=d.Thsh.v},gDstS:function(d,W){d.Rds.v=W[0];d.Thsh.v=W[1]},sGsnB:function(d,W){W[0]=d.Rds.v.val},gGsnB:function(d,W){d.Rds.v.val=W[0]},sDila:function(d,W){W[0]=d.Crop.v.val;
W[1]=d.Rds.v.val},gDila:function(d,W){d.Crop.v.val=W[0];d.Rds.v.val=W[1]},sHghP:function(d,W){W[0]=d.Rds.v.val},gHghP:function(d,W){d.Rds.v.val=W[0]},sHsbP:function(d,W){var c=["RGBC","HSBl","HSLC"];
W[0]=c.indexOf(d.Inpt.v.ClrS);W[1]=c.indexOf(d.Otpt.v.ClrS)},gHsbP:function(d,W){var c=["RGBC","HSBl","HSLC"];
d.Inpt.v.ClrS=c[W[0]];d.Otpt.v.ClrS=c[W[1]]},"sMxm ":function(d,W){var c="preserveShape";W[0]=d.Rds.v.val;
W[1]=d[c]?["squareness","Rndn"].indexOf(d[c].v[c]):0},"gMxm ":function(d,W){var c="preserveShape";d.Rds.v.val=W[0];
d[c]={t:"enum",v:{preserveShape:["squareness","Rndn"][W[1]]}}},"sMnm ":function(d,W){var c="preserveShape";
W[0]=d.Rds.v.val;W[1]=d[c]?["squareness","Rndn"].indexOf(d[c].v[c]):0},"gMnm ":function(d,W){var c="preserveShape";
d.Rds.v.val=W[0];d[c]={t:"enum",v:{preserveShape:["squareness","Rndn"][W[1]]}}},sMtnB:function(d,W){W[0]=[d.Angl.v];
W[1]=d.Dstn.v.val;console.log(W)},gMtnB:function(d,W){d.Angl.v=typeof W[0]=="number"?W[0]:W[0][0];d.Dstn.v.val=W[1]},sOfst:function(d,W){W[0]=d.Hrzn.v;
W[1]=d.Vrtc.v;W[2]=["Rpt","Bckg","Wrp"].indexOf(d.Fl.v.FlMd)},gOfst:function(d,W){d.Hrzn.v=W[0];d.Vrtc.v=W[1];
d.Fl.v.FlMd=["Rpt","Bckg","Wrp"][W[2]]},sPnch:function(d,W){W[0]=d.Amnt.v},gPnch:function(d,W){d.Amnt.v=W[0]},"sPlr ":function(d,W){W[0]=["RctP","PlrR"].indexOf(d.Cnvr.v.Cnvr)},"gPlr ":function(d,W){d.Cnvr.v.Cnvr=["RctP","PlrR"][W[0]]},sRple:function(d,W){W[0]=d.Amnt.v;
W[1]=["Sml","Mdm","Lrg"].indexOf(d.RplS.v.RplS)},gRple:function(d,W){d.Amnt.v=W[0];d.RplS.v.RplS=["Sml","Mdm","Lrg"][W[1]]},sTwrl:function(d,W){W[0]=d.Angl.v},gTwrl:function(d,W){d.Angl.v=W[0]},sZgZg:function(d,W){W[0]=d.Amnt.v;
W[1]=d.NmbR.v;W[2]=["ArnC","OtFr","PndR"].indexOf(d.ZZTy.v.ZZTy)},gZgZg:function(d,W){d.Amnt.v=W[0];
d.NmbR.v=W[1];d.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][W[2]]},sUnsM:function(d,W){W[0]=d.Amnt.v.val;W[1]=d.Rds.v.val;
W[2]=d.Thsh.v},gUnsM:function(d,W){d.Amnt.v.val=W[0];d.Rds.v.val=W[1];d.Thsh.v=W[2]},sWave:function(d,W){W[0]=d.NmbG.v;
W[1]=d.WLMn.v;W[2]=d.WLMx.v;W[3]=d.AmMn.v;W[4]=d.AmMx.v;W[5]=d.SclH.v;W[6]=d.SclV.v;W[7]=["WvSn","WvTr","WvSq"].indexOf(d.Wvtp.v.Wvtp);
W[8]=["WrpA","RptE"].indexOf(d.UndA.v.UndA);W[9]=d.RndS.v},gWave:function(d,W){d.NmbG.v=W[0];d.WLMn.v=W[1];
d.WLMx.v=W[2];d.AmMn.v=W[3];d.AmMx.v=W[4];d.SclH.v=W[5];d.SclV.v=W[6];d.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][W[7]];
d.UndA.v.UndA=["WrpA","RptE"][W[8]];if(W[9]!=null){var c=parseInt(W[9]);if(isNaN(c))c=248325464;c=Math.max(0,Math.min(268435455,c));
d.RndS.v=c}},sDspl:function(d,W){W[0]=d.HrzS.v;W[1]=d.VrtS.v;W[2]=0;W[3]=["WrpA","RptE"].indexOf(d.UndA.v.UndA)},gDspl:function(d,W){d.HrzS.v=W[0];
d.VrtS.v=W[1];d.UndA.v.UndA=["WrpA","RptE"][W[3]];d.DspF.v.pth=W[4]},sbrit:function(d,W){W[0]=d.Brgh?d.Brgh.v:0;
W[1]=d.Cntr?d.Cntr.v:0;W[2]=d.useLegacy?d.useLegacy.v:!1},gbrit:function(d,W){d.Brgh.v=W[0];d.Cntr.v=W[1];
if(W[2]!=null)d.useLegacy.v=W[2]}};eR.a9r=function(d){var W=new aL(0,0);if(d.enab.v==!1)return W;var c=d.filterFXList.v;
for(var S=0;S<c.length;S++){var y=c[S].v;if(y.enab.v==!1)continue;var B=eR.a_(y),r=eR.ak(B,y.Fltr?y.Fltr.v:null);
if(r.x>W.x)W.x=r.x;if(r.y>W.y)W.y=r.y}return W};eR.ak=function(d,W){var c=0,y=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(d)!=-1){var B=W.Rds?W.Rds.v.val:1;
c=y=B*2.57}if(d=="MtnB")c=y=W.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(d)!=-1){c=y=1e4}if(d=="GEfc")return ar.ak(W);
return new aL(Math.ceil(c),Math.ceil(y))};eR.sg=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
eR.X6=function(d,W){var c={Z:W.R5>>16,G:W.R5>>8&255,J:W.R5&255},y={Z:W.qX>>16,G:W.qX>>8&255,J:W.qX&255},B=eR.names[d];
if(B==null)B=bN.names[d];var r=d;for(var x in bN.ae)if(bN.ae[x]==d)r=x;var Z={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:ay.get(B)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:v.L.FV(c)},BckC:{t:"Objc",v:v.L.FV(y)},filterID:{t:"long",v:r.length==4?K.aA2(r):777}}},i=eR.qw(d);
if(i)Z.v.Fltr={t:"Objc",v:i};return Z};eR.jB=function(d,W,c,y){var B=Date.now(),r=d1.ZV&&Math.max(y.m,y.i)<=d1.bN.getParameter(d1.bN.MAX_TEXTURE_SIZE);
if(d<1){var x=Math.round(d*5),Z=[1,2,1,2,[40,26,13,6,4,2][x],2,1,2,1];Z=v.H$.Vp(Z);if(!r){v.Ew(c);var i=c.slice(0);
v.H$.sS(i,c,y.m,y.i,Z,255);v.nF(c)}else{var k=y.m,H=y.i,V=d1._V(0,k,H);V.set(c);var g=d1._V(1,k,H),N=new Float32Array([1/k,1/H]);
d1.QO(g);d1.filter.SF({type:d1.filter.avW,ci:N,atU:new Float32Array(Z)},V.yd);g.get(c)}}else{var C=W==v.yG.GF?0:W==v.yG.aDn?1:2,w=[];
while(C!=2&&d*[1,2.4][C]>20&&w.length<4){var Y=v.hG(c,y);w.push(c,y);c=Y.Gq;y=Y.rect;d/=2}var k=y.m,H=y.i;
if(!r||C==2&&d>15){v.Ew(c);W(c,y,d);v.nF(c)}else{var V=d1._V(0,k,H);V.set(c);var g=d1._V(1,k,H),N=new Float32Array([1/k,1/H]);
if(C==0){var U=1;while(U<d)U<<=1;d1.QO(g);d1.filter.SF({type:d1.filter.j0,ci:N,k1:d,er:[0,0,U]},V.yd);
d1.QO(V);d1.filter.SF({type:d1.filter.j0,ci:N,k1:d,er:[0,1,U]},g.yd);V.get(c)}else if(C==1){var e=3,O=v.yG.mu(d,e);
for(var S=0;S<e;S++){var l=O[S]>>>1,I=1;while(I<l)I<<=1;if(l==0)continue;d1.QO(g);d1.filter.SF({type:d1.filter.j0,ci:N,k1:l,er:[0,0,I]},V.yd);
d1.QO(V);d1.filter.SF({type:d1.filter.j0,ci:N,k1:l,er:[0,1,I]},g.yd)}V.get(c)}else{var U=1;while(U<d)U<<=1;
d1.QO(g);d1.filter.SF({type:d1.filter.j0,ci:N,k1:d,er:[0,0,U]},V.yd);g.get(c)}}var s=Date.now();while(w.length!=0){var z=w.pop(),R=w.pop();
v.scale.aDA(c,y.m,y.i,R,z.m,z.i);c=R;y=z}}};eR.a2d=function(d,W,c,y){for(var S=0;S<d.length;S++){c[S]=d[S]*(1/255);
y[S]=0}FFT.fft2d(c,y);var B=W>>>1,r=16384,x=128,i=100;while(x<W){x<<=1;r<<=2}var Z=255/Math.log(r),k=-100;
for(var H=0;H<W;H++)for(var V=0;V<B;V++){var g=W+B+H&W-1,N=c[g*W+V],C=y[g*W+V],w=Math.sqrt(N*N+C*C),Y=Math.atan2(C,N);
d[H*W+V]=Math.round(Z*Math.log(w+1));d[H*W+B+V]=Math.round((Math.PI+Y)*(255*.5/Math.PI))}};eR.ahD=function(d,W,c,y){c.fill(0);
y.fill(0);var B=W>>>1,r=16384,x=128;while(x<W){x<<=1;r<<=2}var Z=255/Math.log(r),i=[],k=[],H=[];for(var S=0;
S<256;S++){i[S]=Math.exp(S/Z)-1;var V=S*(2*Math.PI/255)-Math.PI;k[S]=Math.sin(V);H[S]=Math.cos(V)}for(var g=0;
g<W;g++)for(var N=0;N<B;N++){var C=W+B+g&W-1,w=i[d[g*W+N]],V=d[g*W+B+N],Y=w*H[V],U=w*k[V];c[C*W+N]=Y;
y[C*W+N]=U;if(N!=0){var e=C==0?C*W+W-N:(W-C)*W+(W-N);c[e]=Y;y[e]=-U}}FFT.ifft2d(c,y);for(var S=0;S<d.length;
S++){d[S]=Math.max(0,Math.min(255,~~(.5+255*c[S])))}};eR.a6H=new ArrayBuffer(512);eR.afC=function(d){var W=eR.a6H,c=d.length;
if(W.byteLength<c)eR.a6H=W=new ArrayBuffer(c);var y=new Uint8Array(W);for(var S=0;S<c;S+=4){y[S]=d[S];
y[S+1]=d[S+1];y[S+2]=d[S+2];y[S+3]=d[S+3]}return W};eR.xh=function(d,W,c,y,B,r,x){if(r==null)r={buffer:v.R(W.buffer.length),rect:W.rect.clone()};
r.buffer.set(W.buffer);var Z=c&&c.RndS?c.RndS.v>>>1:0;if(d=="GEfc"){var i=[];if(c.GEfs){var k=c.GEfs.v;
for(var S=0;S<k.length;S++){var H=k[S].v;if(H.GELv&&H.GELv.v==!1)continue;i.push(H)}}else i=[c];for(var S=0;
S<i.length;S++){var V;if(S==0)ar.xh(d,W,i[S],y,B,r,x);else{if(V==null)V={buffer:v.R(W.buffer.length),rect:W.rect.clone()};
v.PY(r.buffer,V.buffer);ar.xh(d,V,i[S],y,B,r,x)}}}if(d=="Dila"){var g=c.Crop.v.val,N=c.Rds.v.val+g;N=N*N;
if(N==0)return;var C=W.rect,w=C.m,Y=C.i,U=w*Y,e=W.buffer,V=r.buffer,O=v.R(U);v.$P(e,O,3);if(g!=0){var l=C.clone();
l.Lx(1,1);var I=v.R(l.P());v.ZW(O,C,I,l);v.QE(I);v.style.stroke(I,I,l,g);v.QE(I);v.ZW(I,l,O,C)}var s=v.style.Ng(O,w,Y);
V.fill(0);for(var z=0;z<Y;z++)for(var R=0;R<w;R++){var S=z*w+R,t=S<<1,a=S<<2,J=s[t],F=s[t+1];if(J*J+F*F<N){var h=(z+F)*w+(R+J)<<2;
V[a]=e[h];V[a+1]=e[h+1];V[a+2]=e[h+2];V[a+3]=255}}}if(d=="Adobe Camera Raw Filter"){var C=W.rect,w=C.m,Y=C.i,U=w*Y,m=U*4,D=U*3,_=new Float32Array(w*Y*3),n=W.buffer;
for(var S=0;S<U;S++){var j=S*3,a=S*4;_[j]=n[a]*(1/255);_[j+1]=n[a+1]*(1/255);_[j+2]=n[a+2]*(1/255)}var T=JSON.parse(JSON.stringify(c));
delete T.Upri;delete T.GuUr;var L=_.slice(0);d$(_,w,Y,L,T);_=L;n=r.buffer;for(var S=0;S<U;S++){var j=S*3,a=S*4;
n[a]=255*Math.max(0,Math.min(1,_[j]));n[a+1]=255*Math.max(0,Math.min(1,_[j+1]));n[a+2]=255*Math.max(0,Math.min(1,_[j+2]))}}if(d=="Fct "){var C=W.rect,w=C.m,Y=C.i,U=w*Y,m=U*4;
function p(ac){var hW=ac.slice(0);for(var z=0;z<3;z++)for(var R=0;R<3;R++)hW[z*3+R]=ac[(2-R)*3+z];return hW}function E(hx,h3,iK,dl){var cP=0;
for(var z=0;z<3;z++)for(var R=0;R<3;R++)cP+=h3[z*3+R]*hx[(dl-1+z)*w+iK-1+R];return cP}var G=[8,5,2,5,2,-1,2,-1,-4],A=[5,5,5,2,2,2,-1,-1,-1],u=[2,2,2,2,2,2,2,2,2],q=[];
q.push(G);for(var S=0;S<3;S++)q.push(p(q[q.length-1]));q.push(A);for(var S=0;S<3;S++)q.push(p(q[q.length-1]));
q.push(u);for(var S=0;S<9;S++)q[S]=v.H$.Vp(q[S]);var o=[-w-1,-w,-w+1,-1,0,1,w-1,w,w+1],M=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],$=v.R(U),Q=new Float32Array(U),L=v.R(U);
for(var kF=0;kF<3;kF++){v.$P(W.buffer,$,kF);for(var P=0;P<1;P++){for(var z=1;z<Y-1;z++)for(var R=1;R<w-1;
R++){var bM=z*w+R,jW=$[bM];Q[bM]=1e9;for(var S=0;S<9;S++){var fX=E($,q[S],R,z),bX=(fX-jW)*(fX-jW);if(bX<Q[bM])Q[bM]=bX}}for(var z=1;
z<Y-1;z++)for(var R=1;R<w-1;R++){var ao=0,fK=1e9;for(var S=0;S<9;S++){var bO=z*w+R+o[S],bX=Q[bO];if(bX<fK){fK=bX;
ao=$[bO]}}L[z*w+R]=ao}$.set(L)}v.nP(L,r.buffer,kF)}}if(d=="adaptCorrect"){var C=W.rect,w=C.m,Y=C.i,U=w*Y,m=U*4,b9=c.sdwM.v,bK=b9.Amnt.v.val/100,f0=b9.Wdth.v.val/100,hn=b9.Rds.v,hX=c.hglM.v,gR=hX.Amnt.v.val/100,ib=hX.Wdth.v.val/100,gU=hX.Rds.v;
v.ask.BX(W.buffer,r.buffer,w,Y,bK,f0,hn,gR,ib,gU,c.ClrC.v/100,c.Cntr.v/100)}if(d=="denoise"){var C=W.rect,w=C.m,Y=C.i,hq=c.channelDenoise.v[0].v;
v.auu.axB(W.buffer,w,Y,r.buffer,hq.Amnt.v/10,hq.EdgF.v/100)}if(d=="HsbP"){var ip=c.Inpt.v.ClrS,aW=c.Otpt.v.ClrS,C=W.rect,w=C.m,Y=C.i,U=w*Y;
for(var S=0;S<U;S++){var a=S*4,P=W.buffer[a]*(1/255),kN=W.buffer[a+1]*(1/255),hW=W.buffer[a+2]*(1/255);
if(ip=="RGBC"){}else if(ip=="HSLC"){var L=v.Ml(P,kN,hW);P=L.Z;kN=L.G;hW=L.J}else if(ip=="HSBl"){var L=v.aDE(P,kN,hW);
P=L.Z;kN=L.G;hW=L.J}var jH=P,g0=kN,gC=hW;if(aW=="RGBC"){}else if(aW=="HSLC"){var L=v.p8(P,kN,hW);jH=L.fn;
g0=L.Td;gC=L.vh}else if(aW=="HSBl"){var L=v.a6B(P,kN,hW);jH=L.fn;g0=L.Td;gC=L.J}r.buffer[a]=~~(255*jH);
r.buffer[a+1]=~~(255*g0);r.buffer[a+2]=~~(255*gC)}}if(d=="Fbrs"){var C=W.rect,w=C.m,Y=C.i;v.$.at5(W.buffer,w,Y,r.buffer,[c.Vrnc.v,c.Strg.v,Z]);
var jL=v.R(w*Y);v.$P(r.buffer,jL,0);v.QE(jL);ar.Ji(jL,r.buffer,y,B)}if(d=="Frgm"){var C=W.rect,w=C.m,Y=C.i,jf=W.buffer.slice(0);
v.Ew(jf);v.$.acn(jf,w,Y,r.buffer);v.nF(r.buffer)}if(d=="Flam"){var C=W.rect,w=C.m,Y=C.i,cm=c.Clr.v,eh={type:c.Type.v+1,length:c.Leng.v,a6N:c.RndL.v,nI:c.Widt.v,azG:c.Angl.v,atg:c.Intr.v,awi:c.Adpt.v,color:{Z:cm.Rd.v,G:cm.Grn.v,J:cm.Bl.v},t7:c.Qual.v+1,lp:c.Turb.v,zf:c.Jag.v,opacity:c.Opct.v.val,CF:c.Lins.v,as4:c.Botm.v,style:c.Styl.v+1,shape:c.Shap.v+1,au4:c.RnSh.v,aan:c.Arng.v,abU:!1},bu=x[3],eJ=bu[0],eZ=bu[1],a0=eJ[eZ.length!=0?eZ[0]:0];
if(a0==null){alert("Make a path first");return}var gZ=a0.add.vmsk.Y,bt=v.o.mQ(gZ),dp=[];for(var h=0;
h<bt;h++){var gb=v.o.ke(gZ,h),e_=gZ[gb];if(e_.length<2)continue;var dO=[];dp.push(dO);var dC=e_.length-(e_.type==3?1:0);
for(var bM=0;bM<dC;bM++){var kc=gZ[gb+1+bM],ia=bM==e_.length-1?gZ[gb+1]:gZ[gb+1+bM+1],hO=kc.I,cj=kc.XM,G=ia.sV,bA=ia.I,bg=Math.round(aL.Bg(hO,bA)/5);
for(var cX=0;cX<bg;cX++){var i4=cX/bg,fJ=1-i4,R=fJ*fJ*fJ*hO.x+3*fJ*fJ*i4*cj.x+3*fJ*i4*i4*G.x+i4*i4*i4*bA.x,z=fJ*fJ*fJ*hO.y+3*fJ*fJ*i4*cj.y+3*fJ*i4*i4*G.y+i4*i4*i4*bA.y;
dO.push(R,z)}}}var iu=[dp,eh],hV=Date.now(),f$=gS(iu);jI(W.buffer,w,Y,r.buffer,f$,iu)}if(d=="Dfs "){var C=W.rect,w=C.m,Y=C.i,kg=["Nrml","DrkO","LghO","anisotropic"].indexOf(c.Md.v.DfsM);
if(kg<3)v.$.aeX(W.buffer,w,Y,r.buffer,[kg]);else{var iu=[1.4,1.6,1,4,!1,2,[0,0,.001]],C=W.rect.clone();
C.x=C.y=0;v.Ye.filter(W.buffer,C,r.buffer,iu)}}if(d=="TrcC"){var C=W.rect,w=C.m,jy=w<<2,Y=C.i,iM=c.Lvl.v,hI=c.Edg.v.CntE=="Lwr",cd=W.buffer,jZ=r.buffer;
v.ft(jZ,16777215,4278190080);function hz(cy,eX){eI(cy,eX);eI(cy+1,eX+1);eI(cy+2,eX+2)}function jv(cy,eX){j2(cy,eX);
j2(cy+1,eX+1);j2(cy+2,eX+2)}function eI(cy,eX){var jH=cd[cy],g0=cd[eX];if(jH>=iM&&g0<iM)jZ[cy]=0;if(jH<iM&&g0>=iM)jZ[eX]=0}function j2(cy,eX){var jH=cd[cy],g0=cd[eX];
if(jH>iM&&g0<=iM)jZ[eX]=0;if(jH<=iM&&g0>iM)jZ[cy]=0}if(hI)for(var z=1;z<Y;z++)for(var R=1;R<w;R++){var a=z*w+R<<2;
hz(a,a-4);hz(a,a-jy)}else for(var z=1;z<Y;z++)for(var R=1;R<w;R++){var a=z*w+R<<2;jv(a,a-4);jv(a,a-jy)}}if(d=="Embs"){var C=W.rect,w=C.m,Y=C.i,fM=-c.Angl.v*Math.PI/180,gY=c.Hght.v,c4=c.Amnt.v/100;
gY/=2;var J=Math.cos(fM)*gY,F=Math.sin(fM)*gY,cd=W.buffer,jZ=r.buffer;jZ.fill(0);var fI=new Uint32Array(cd.buffer),L=new Uint8Array(4),jq=new Uint32Array(L.buffer);
for(var z=0;z<Y;z++)for(var R=0;R<w;R++){var e1=0,ir=0,fy=0;if(0<=R+J&&R+J<w&&0<=z+F&&z+F<Y){v.D.fa(R+J+.5,z+F+.5,fI,w,Y,jq,0,0);
e1+=L[0]-128;ir+=L[1]-128;fy+=L[2]-128}if(0<=R-J&&R-J<w&&0<=z-F&&z-F<Y){v.D.fa(R-J+.5,z-F+.5,fI,w,Y,jq,0,0);
e1-=L[0]-128;ir-=L[1]-128;fy-=L[2]-128}var a=z*w+R<<2;jZ[a]=Math.max(0,Math.min(255,e1*c4+128));jZ[a+1]=Math.max(0,Math.min(255,ir*c4+128));
jZ[a+2]=Math.max(0,Math.min(255,fy*c4+128));jZ[a+3]=cd[a+3]}}if(d=="ShrE"){var C=W.rect,w=C.m,Y=C.i;
v.$.ahH(W.buffer,w,Y,r.buffer)}if(d=="Dspc"){var C=W.rect,w=C.m,Y=C.i;v.$.aA1(W.buffer,w,Y,r.buffer)}if(d=="Slrz"){var fO=r.buffer,kI=128;
for(var S=0;S<fO.length;S+=4){if(fO[S]>kI)fO[S]=255-fO[S];if(fO[S+1]>kI)fO[S+1]=255-fO[S+1];if(fO[S+2]>kI)fO[S+2]=255-fO[S+2]}}if(d=="Wnd "){var C=W.rect,w=C.m,Y=C.i,fF=["Wnd","Blst","Stgr"],d6=c.WndM.v.WndM;
v.$.vD(W.buffer,w,Y,r.buffer,[fF.indexOf(d6),c.Drct.v.Drct!="Left"])}if(d=="Bokh"){var C=W.rect,w=C.m,Y=C.i,U=w*Y,m=U*4,bn=W.buffer.slice(0),aZ=c.BkDi.v.BtDi,ai=c.BkDc,bk=c.BkDs.v,cr=c.BkDp.v/255;
if(aZ=="BeIn")cr=0;var cN=57*(.3+.7*((w+Y)/2)/1750)*(c.BkIb.v/100)*(1+.2*Math.pow(cr,.1)),bd=parseInt(c.BkIs.v.BtIs.slice(3)),hK=-c.BkIr.v*Math.PI/180,cT=[];
for(var S=0;S<8;S++){var iZ=hK+S*(Math.PI*2/bd),fL=hK+(S+1)*(Math.PI*2/bd),d5=Math.cos(iZ),bP=Math.sin(iZ),b_=Math.cos(fL),da=Math.sin(fL),df=[0,0,0];
v.Fp.Sc([[d5,bP,1,0],[b_,da,1,0],[1,1,1,1]],df);if(df[2]>0){df[0]*=-1;df[1]*=-1;df[2]*=-1}cT.push(df[0],df[1],df[2],0)}if(aZ=="BeIn"){v.ft(bn,0,16777215);
cr=1}else if(aZ=="BeIt"&&ai.v.BtDc=="BeCt"){}else{var aC;if(aZ=="BeIt"&&ai.v.BtDc=="BeCm")aC=x[1];else if(aZ=="BeIa")aC=x[2][ai.v];
if(aC==null){v.ft(bn,0,16777215)}else{var $;if(aC.rect.zI(C))$=aC.channel;else $=aC.OU(C);v.nP($,bn,3)}}if(bk)for(var S=0;
S<m;S+=4)bn[S+3]=255-bn[S+3];if(d1.ZV){var ez=bn,di=w,ko=Y,kM=1,dY=(c.BkSb.v==0||c.BkSt.v==255)&&aZ=="BeIn";
if(!dY){var fV=0;for(var S=0;S<m;S+=4)fV+=Math.abs(cr-bn[S+3]*(1/255));fV=fV/U*cN;var gm=3.14*fV*fV*w*Y/3e6;
if(gm>2e3){alert("too large radius");return}}while(dY&&3*(cN/kM)*(cN/kM)*w*Y>500*2e3*2e3){var gi=v.alZ(bn,new a8(0,0,di,ko));
bn=gi.Gq;di=gi.rect.m;ko=gi.rect.i;kM*=2}var hV=Date.now(),e=d1._V(0,di,ko);e.set(bn);var iw=d1._V(1,w,Y);
d1.QO(iw);d1.filter.SF({type:d1.filter.anX,ci:new Float32Array([1/di,1/ko]),awj:cr,EL:cN/kM,ahE:new Float32Array([c.BkSb.v/100,c.BkSt.v/255]),a7z:new Float32Array([c.BkNa.v/100,c.BkNt.v.BtNt=="BeNu"?0:1,c.BkNm.v?1:0]),awu:new Float32Array(cT.slice(0,16)),ay0:new Float32Array(cT.slice(16))},e.yd);
iw.get(r.buffer);var cI=r.buffer;for(var S=0;S<m;S+=4)cI[S+3]=W.buffer[S+3]}}if(d=="rigidTransform"){var hV=Date.now(),jN=eR.afC,e=W.buffer.slice(0),j6=0,fD=0;
v.Ew(e);v.ft(r.buffer,0);var w=W.rect.m,Y=W.rect.i,j1=c.puppetShapeList.v,ih=[],gM=[],c8=[],ja=[];for(var bM=0;
bM<j1.length;bM++){var hP=j1[bM].v,t=j6*2,j=fD*3,i0=hP.originalVertexArray.v.length>>>2,jO=hP.indexArray.v.length>>>2,b7=new Float32Array(jN(hP.originalVertexArray.v));
for(var S=0;S<i0;S++)ih[t+S]=b7[S];var kp=new Float32Array(jN(hP.deformedVertexArray.v));for(var S=0;
S<i0;S++)gM[t+S]=kp[S];var co=new Uint32Array(jN(hP.indexArray.v));for(var S=0;S<jO;S++)c8[j+S]=j6+co[S];
var e5=[],iR=[],i9=hP.PnDp.v;for(var S=0;S<i9.length;S++){e5.push(hP.pinVertexIndices.v[S].v);iR.push(i9[S].v)}var hl=v.HF.a4I(b7,co,e5,iR);
for(var S=0;S<hl.length;S++)ja[j6+S]=hl[S];j6+=i0>>>1;fD+=~~(jO/3)}var P=W.rect,w=P.m,Y=P.i;v.HF.J5(e,w,Y,r.buffer,w,Y,ih,gM,ja,c8);
v.nF(r.buffer)}if(d=="lightFilterGradient"){function jA(hO){var h3=1/Math.sqrt(hO[0]*hO[0]+hO[1]*hO[1]+hO[2]*hO[2]);
hO[0]*=h3;hO[1]*=h3;hO[2]*=h3}var w=W.rect.m,Y=W.rect.i,U=w*Y,hV=Date.now(),iA=v.R(U),g0=.3,gC=.7;v.ou(r.buffer,iA);
var gl=v.R(U);v.yG.GH(iA,gl,r.rect,16);var dh=v.R(U);v.yG.GH(iA,dh,r.rect,8);var aK=iA,hR=new Float32Array(U),a3=c.Dtl.v,fg=a3[2].v,jh=a3[1].v,h2=a3[0].v,cP=c.Scl.v*40*c.textureScale.v/(fg+jh+h2);
fg*=cP;jh*=cP;h2*=cP;for(var S=0;S<U;S++){var jU=gl[S]*(1/255),jV=dh[S]*(1/255),kz=aK[S]*(1/255);kz=kz*kz;
hR[S]=fg*jU+jh*jV+h2*kz}var hi=c.blur.v;if(hi!=0){v.yG.Fg(hR,r.rect,hi)}var aV=w-1,gh=Y-1;for(var z=0;
z<Y;z++)for(var R=0;R<w;R++){var S=z*w+R,a=S*4,kf=hR[S],J=g0*(hR[S+(R==aV?0:1)]-kf)+gC*(kf-hR[S-(R==0?0:1)]),F=g0*(hR[S+(z==gh?0:w)]-kf)+gC*(kf-hR[S-(z==0?0:w)]),hO=[1,0,J],cj=[0,1,F];
jA(hO);jA(cj);var fL=hO[0],a9=hO[2],g8=cj[1],kd=cj[2],dZ=-a9*g8,f3=-fL*kd,c2=fL*g8;r.buffer[a]=~~(127.5+dZ*127.5);
r.buffer[a+1]=~~(127.5+f3*127.5);r.buffer[a+2]=~~(127.5+c2*127.5)}}if(d=="defr"){var w=W.rect.m,Y=W.rect.i;
e3(W.buffer,w,Y,r.buffer)}if(d=="dDFT"||d=="iDFT"){function eH(bd){if(bd==0)return 1;bd--;bd|=bd>>1;
bd|=bd>>2;bd|=bd>>4;bd|=bd>>8;bd|=bd>>16;return bd+1}var w=W.rect.m,Y=W.rect.i,ea=eH(Math.max(w,Y)),iL=ea>>>1,kJ=new a8(0,0,ea,ea),ju=new a8(0,0,w,Y);
ju.y=ea-Y>>>1;var i6=w>>>1,cE=new a8(0,ju.y,i6,Y),f9=new v.ii(w*Y);v.AH(W.buffer,f9);var cO=new Float64Array(ea*ea),hB=new Float64Array(ea*ea),$=v.R(ea*ea);
FFT.init(ea);var dr=[f9.Z,f9.G,f9.J];for(var S=0;S<3;S++){var c6=dr[S];$.fill(0);if(d=="dDFT"){v.ZW(c6,ju,$,kJ);
eR.a2d($,ea,cO,hB);v.ZW($,kJ,c6,ju,cE);cE.x+=i6;kJ.x-=iL-i6;v.ZW($,kJ,c6,ju,cE);cE.x-=i6;kJ.x+=iL-i6}else{v.ZW(c6,ju,$,kJ,cE);
cE.x+=iL;ju.x+=iL-i6;v.ZW(c6,ju,$,kJ,cE);cE.x-=iL;ju.x-=iL-i6;eR.ahD($,ea,cO,hB);v.ZW($,kJ,c6,ju)}}v.KU(f9,r.buffer)}if(d=="Avrg"){var hT=0,c1=0,gT=0,hu=0,gr=1;
for(var S=0;S<W.buffer.length;S+=4){var O=W.buffer[S+3];gT+=W.buffer[S]*O;c1+=W.buffer[S+1]*O;hT+=W.buffer[S+2]*O;
hu+=O}var an=1/hu;hT=Math.round(gr*(hT*an)+(1-gr)*255);c1=Math.round(gr*(c1*an)+(1-gr)*255);gT=Math.round(gr*(gT*an)+(1-gr)*255);
v.ft(r.buffer,hT<<16|c1<<8|gT,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(d)!=-1){var ku=c.Rds?c.Rds.v.val:1,dG=d=="boxblur"?v.yG.GF:v.yG.aDn;
eR.jB(ku,dG,r.buffer,r.rect);if(d=="UnsM"||d=="smartSharpen"){var c4=(c.Amnt?c.Amnt.v.val:200)/100,hp=0;
if(d=="UnsM")hp=c.Thsh.v;else c4*=.75;for(var S=0;S<W.buffer.length;S++){if((S&3)==3){r.buffer[S]=W.buffer[S];
continue}var jW=W.buffer[S],fX=r.buffer[S],hh=c4*(jW-fX);if(hh>0)hh=Math.max(0,hh-hp);else hh=Math.min(0,hh+hp);
r.buffer[S]=Math.max(0,Math.min(255,jW+hh))}}if(d=="HghP")for(var S=0;S<W.buffer.length;S++){if((S&3)==3){r.buffer[S]=W.buffer[S];
continue}var jW=W.buffer[S],fX=r.buffer[S];r.buffer[S]=Math.max(0,Math.min(255,128+jW-fX))}}if(d=="AdNs"){var kw=new Uint8ClampedArray(r.buffer.buffer),ec=255*c.Nose.v.val/100,e2;
if(c.Dstr.v.Dstr=="Gsn")e2=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else e2=function(){return Math.random()*2-1};for(var S=0;S<kw.length;S+=4){var P=kw[S],kN=kw[S+1],hW=kw[S+2],fu,aJ,j_;
if(c.Mnch.v){fu=aJ=j_=e2()}else{fu=e2();aJ=e2();j_=e2()}P+=ec*fu;kN+=ec*aJ;hW+=ec*j_;kw[S]=P;kw[S+1]=kN;
kw[S+2]=hW}}var hV=Date.now();if(d=="Mdn "||d=="DstS"||d=="Mxm "||d=="Mnm "||d=="surfaceBlur"){var P=0,hj=c.Thsh,hP=0;
if(hj)hj=hj.v;else hj=0;if(d=="Mdn "||d=="Mxm "||d=="Mnm "||d=="surfaceBlur")P=c.Rds.v.val;else P=c.Rds.v;
var cb=10*Math.ceil(P/10),w=W.rect.m,Y=W.rect.i,fi=["Mnm ","Mxm ","surfaceBlur"].indexOf(d),gg=(hP==0?1:.75)*[.73,.73,1.2][fi]*(w*Y*Math.pow(cb*cb,1.05))/6022387,c7=.6*(w*Y*Math.pow(P,1/2.6))/6500;
if(d=="Mxm "||d=="Mnm ")c7=w*Y/13e3;var d0=c.preserveShape;if(d0&&d0.v.preserveShape=="Rndn")hP=1;if(d1.ZV&&fi!=-1&&(gg<c7||hP==1)&&gg<500){var e=d1._V(0,w,Y);
e.set(W.buffer);var V=d1._V(1,w,Y);d1.QO(V);d1.filter.SF({type:d1.filter.ahF,ci:new Float32Array([1/w,1/Y]),EL:P,aDP:hj/255,er:[hP,fi,cb]},e.yd);
V.get(r.buffer)}else if(d=="Mxm "||d=="Mnm "){var w=W.rect.m,Y=W.rect.i;v.SV.a0r(W.buffer,r.buffer,w,Y,1+Math.floor(c.Rds.v.val)*2,d=="Mxm ")}else{P=Math.round(P);
v.MV.vv=.5;v.MV.Fn=hj;var dG=d=="surfaceBlur"?1:0;v.MV.JY(W.buffer,r.buffer,w,Y,P,dG);if(d=="DstS")for(var S=0;
S<w*Y*4;S++){var iJ=Math.abs(W.buffer[S]-r.buffer[S]);if(iJ<=hj)r.buffer[S]=W.buffer[S]}}}if(d=="ClrH"){var cE=W.rect.clone(),dg=0;
cE.x=cE.y=0;var P=c.Rds.v;P=P*Math.sqrt(2);var w=cE.m,Y=cE.i,jG=v.td(w,Y),jS=new Float32Array(256);for(var S=0;
S<256;S++){var cm=S/255,ku=Math.sqrt(cm*(1/Math.PI));if(ku>.5)ku=.5+Math.pow((ku-.5)/(.564-.5),1.35)*.2;
jS[S]=P*ku}var aP=Math.floor(2*w/P),bj=Math.floor(2*Y/P),jB=10-(P-54*Math.sqrt(2))*1.5,gW=[W.buffer,cE];
v.rG(gW);while(gW[dg*2+1].m>1.5*w/P)dg++;var e1=gW[dg*2+1],fy=gW[dg*2],gD=v.R(e1.P()),kM=1/(1<<dg),di=e1.m,ko=e1.i,$=v.R(w*Y);
for(var hx=0;hx<3;hx++){v.$P(fy,gD,hx);v.QE(gD);var fM=Math.PI*c["Ang"+(hx+1)].v/180,j4=new dT;j4.translate(-w/2,-Y/2);
j4.rotate(-fM);j4.translate(w/2,Y/2);jG.clearRect(0,0,w,Y);for(var z=-(bj>>>2);z<bj;z++)for(var R=-(aP>>>2);
R<aP;R++){var he=j4.iC(new aL((R+.5)*P-jB,(z+.5)*P-jB)),aI=Math.max(0,Math.min(he.x*kM,di-.51)),hS=Math.max(0,Math.min(he.y*kM,ko-.51)),U=~~v.D.Yx(aI,hS,gD,di,ko);
jG.beginPath();jG.arc(he.x,he.y,jS[U],0,2*Math.PI);jG.fill()}var iG=jG.getImageData(0,0,w,Y);v.$P(iG.data,$,3);
v.QE($);v.nP($,r.buffer,hx)}}if(d=="Crst"||d=="Pntl"){var w=W.rect.m,Y=W.rect.i,dG=d=="Crst"?v.__.awJ:v.__.aiA;
dG(W.buffer,w,Y,r.buffer,c.ClSz.v,[Math.round(B.Z),Math.round(B.G),Math.round(B.J)])}if(d=="Mztn"){var w=W.rect.m,Y=W.rect.i,U=w*Y,f9=new v.ii(U),eT=[f9.Z,f9.G,f9.J];
v.AH(W.buffer,f9);var d6=c.MztT.v.MztT,g$={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[d6],hV=Date.now(),k9=[];
for(var S=0;S<U;S++){k9[S]=Math.random()}var U=w*Y,gL=Math.round(U*g$[0]),is=U-w-1;for(var S=0;S<gL;
S++){var hD=Math.random(),fP=1;if(hD<.5){fP=w;hD*=2}else hD=2*(hD-.5);var cy=Math.floor(hD*is),eX=cy+fP;
k9[cy]=k9[eX]}var kn=Math.round(w*g$[1]);for(var z=0;z<Y;z++)for(var S=0;S<kn;S++){var hD=v.l.VC(z*U+S),cy=z*w+Math.floor(hD*(w-1));
k9[cy]=k9[cy+1]}var jt=new Float64Array(256);for(var S=0;S<256;S++){var cF=S/255,hJ=2*(cF<.5?cF:1-cF);
hJ=g$[2]+Math.pow(hJ,g$[3])*(1-g$[2]);cF=cF<.5?hJ*.5:1-hJ*.5;jt[S]=cF}for(var kF=0;kF<3;kF++){var $=eT[kF];
for(var z=0;z<Y;z++){for(var R=0;R<w;R++){var S=z*w+R,eS=$[S],cF=jt[eS],hD=k9[S];$[S]=hD>cF?0:255}}}v.KU(f9,r.buffer)}if(d=="Msc "){var bt=c.ClSz.v.val,w=W.rect.m,Y=W.rect.i,kH=Math.ceil(w/bt),aU=Math.ceil(Y/bt),eF=v.R(kH*aU*4);
v.scale.hK(W.buffer,w,Y,eF,kH,aU,1/bt);v.scale.hK(eF,kH,aU,r.buffer,w,Y,bt)}if(d=="Clds"||d=="DfrC"){var w=r.rect.m,Y=r.rect.i,U=w*Y,fz=v.R(U);
if(d=="Clds")v.ft(r.buffer,4278190080);var h9=v.R(256*4);for(var S=0;S<256;S++){var a=S<<2,ac=S/255,co=1-ac;
h9[a]=Math.round(ac*y.Z+co*B.Z);h9[a+1]=Math.round(ac*y.G+co*B.G);h9[a+2]=Math.round(ac*y.J+co*B.J)}v.$.a9_(W.buffer,w,Y,fz);
var iQ=r.buffer;for(var S=0;S<U;S++){var a=S<<2,kF=fz[S]<<2,P=h9[kF],kN=h9[kF+1],hW=h9[kF+2];if(d=="Clds"){iQ[a]=P;
iQ[a+1]=kN;iQ[a+2]=hW}else{iQ[a]=Math.abs(iQ[4*S]-P);iQ[a+1]=Math.abs(iQ[4*S+1]-kN);iQ[a+2]=Math.abs(iQ[4*S+2]-hW)}}}if(d=="LnsF"){var w=W.rect.m,Y=W.rect.i,d6=["Zm","Nkn","Nkn1","PnVs"].indexOf(c.Lns.v.Lns),ek=c.FlrC.v,ce=[Math.min(d6,2),c.Brgh.v/100,ek.Hrzn.v,ek.Vrtc.v],hV=Date.now();
v.axR(W.buffer,w,Y,r.buffer,ce)}var ik=["Blr ","BlrM","Shrp","ShrM"].indexOf(d);if(ik!=-1){var eN=ik>1,w=W.rect.m,Y=W.rect.i,el=v.H$.t0[ik],dH=W.buffer.slice(0);
if(!eN)v.Ew(dH);v.H$.sS(dH,r.buffer,w,Y,el,255,!1,eN);if(!eN)v.nF(r.buffer)}if(d=="MtnB"){var ii=-c.Angl.v*Math.PI/180,fw=c.Dstn.v.val/2,hV=Date.now(),w=W.rect.m,Y=W.rect.i,C=W.rect.clone();
C.x=C.y=0;if(d1.ZV){var hV=Date.now(),hE=r.buffer;hE.set(W.buffer);v.Ew(hE);var iH=d1._V(0,w,Y);iH.set(hE);
var cd=v.R(4);cd[0]=Math.round(128+127*Math.cos(ii));cd[1]=Math.round(128+127*Math.sin(ii));new Uint32Array(hE.buffer).fill(new Uint32Array(cd.buffer)[0]);
var b3=d1._V(1,w,Y);b3.set(hE);d1.QO(iH,C);iH.Yf(C);d1.filter.SF({type:d1.filter.Jl,eK:b3.yd,ci:new Float32Array([1/w,1/Y]),a3d:fw/2,al0:1},iH._Y);
iH.get(hE);v.nF(hE)}else{var eQ=new dT;eQ.rotate(ii);var L=X.X.Wf([W.buffer,W.rect],eQ,!1,null,!0);eR.jB(fw,v.yG.an5,L.buffer,L.rect);
eQ.QE();L=X.X.Wf([L.buffer,L.rect],eQ,!1,r.buffer.buffer,!0,r.rect)}console.log(Date.now()-hV)}if(d=="RdlB"){var w=W.rect.m,Y=W.rect.i,c4=c.Amnt.v,cq=c.BlrM.v.BlrM=="Zm",hx=c.Cntr.v,iK=hx.Hrzn.v,dl=hx.Vrtc.v,J=Math.max(iK,1-iK)*w,F=Math.max(dl,1-dl)*Y,ku=Math.sqrt(J*J+F*F),a4=2*Math.PI*ku*1.5,ck=Math.round(a4),bC=Math.round(ku),cE=new a8(0,0,ck,bC),dE=v.R(ck*bC*4),gt=cq?4:1,dc=cq?.6:8*((w+Y)/2)/1400,k4=.1,kM=1,aP=1;
v.D.a7r(W.buffer,w,Y,dE,ck,bC,iK,dl,gt,k4,kM,aP);var fY=cq?v.R(ck*bC*4):null;if(cq){v.D.VT(dE,fY,ck,bC);
var i4=fY;fY=dE;dE=i4;cE.m=bC;cE.i=ck}eR.jB(dc*c4,v.yG.an5,dE,cE);if(cq){v.D.VT(dE,fY,bC,ck);var i4=fY;
fY=dE;dE=i4;cE.m=ck;cE.i=bC}v.D.avf(dE,ck,bC,r.buffer,w,Y,iK,dl,gt,k4,kM,aP)}if(d=="Plr "){var w=W.rect.m,Y=W.rect.i;
if(c.Cnvr.v.Cnvr=="RctP")v.D.avf(W.buffer,w,Y,r.buffer,w,Y,.5,.5,1,0,2,w/Y);else v.D.a7r(W.buffer,w,Y,r.buffer,w,Y,.5,.5,1,0,2,w/Y)}if(d=="FndE"){var w=W.rect.m,Y=W.rect.i;
v.H$.a8p(W.buffer,r.buffer,w,Y)}if(d=="oilPaint"){var fM=c.LghD.v*Math.PI/180,fG=[Math.cos(fM),Math.sin(fM),.001],iu=[c.stylization.v,c.cleanliness.v,c.brushScale.v,c.microBrush.v,c.lightingOn.v,c.specularity.v,fG],C=W.rect.clone();
C.x=C.y=0;v.Ye.filter(W.buffer,C,r.buffer,iu)}if(d=="Ofst"){var w=W.rect.m,Y=W.rect.i,h5=new Uint32Array(W.buffer.buffer),i8=new Uint32Array(r.buffer.buffer),fa=c.Hrzn.v,gE=c.Vrtc.v,gu=c.Fl.v.FlMd;
v.ft(i8,0);if(gu=="Bckg"||gu=="Rpt"){var cE=W.rect.clone();cE.offset(fa,gE);v.qR(h5,cE,i8,r.rect)}if(gu=="Rpt"){var d5,bP,b_,da,as;
fa=Math.max(-w,Math.min(w,fa));gE=Math.max(-Y,Math.min(Y,gE));d5=fa>0?fa:0;b_=fa>0?w:w+fa;bP=gE>0?0:gE+Y;
da=gE>0?gE:Y;as=gE>0?0:w*(Y-1);for(var z=bP;z<da;z++)for(var R=d5;R<b_;R++)i8[z*w+R]=h5[as+R-fa];d5=fa>0?0:w+fa;
b_=fa>0?fa:w;bP=gE>0?gE:0;da=gE>0?Y:Y+gE;as=fa>0?0:w-1;for(var z=bP;z<da;z++)for(var R=d5;R<b_;R++)i8[z*w+R]=h5[as+w*(z-gE)];
if(fa>=0&&gE>=0){d5=0;b_=fa;bP=0;da=gE;as=0}if(fa>=0&&gE<0){d5=0;b_=fa;bP=Y+gE;da=Y;as=w*(Y-1)}if(fa<0&&gE>=0){d5=w+fa;
b_=w;bP=0;da=gE;as=w-1}if(fa<0&&gE<0){d5=w+fa;b_=w;bP=Y+gE;da=Y;as=w*Y-1}for(var z=bP;z<da;z++)for(var R=d5;
R<b_;R++)i8[z*w+R]=h5[as]}if(gu=="Wrp"){fa=(fa+100*w)%w;gE=(gE+100*Y)%Y;var cE=new a8(fa-w,gE-Y,w,Y);
v.qR(h5,cE,i8,r.rect);cE.offset(w,0);v.qR(h5,cE,i8,r.rect);cE.offset(0,Y);v.qR(h5,cE,i8,r.rect);cE.offset(-w,0);
v.qR(h5,cE,i8,r.rect)}}if(d=="Rept"){var kq=c.Rsft.v.val/100,ax=c.SpcX.v.val/100;ax=Math.max(ax,-.99);
var fC=c.SpcY.v.val/100;fC=Math.max(fC,-.99);var kM=c.Scl.v.val/100,eQ=new dT;eQ.rotate(c.Angl.v*Math.PI/180);
eQ.scale(kM,kM);var cD={buffer:W.buffer,rect:W.rect};v.eW(cD);if(cD.rect.Bb()){cD.buffer=W.buffer;cD.rect=W.rect}var iQ=cD.buffer,cE=cD.rect,f4=v.Cl(iQ,cE,0),fx=new Uint32Array(iQ.buffer)[0];
if(!f4.Bb()&&!f4.zI(cE)){var cK=v.R(f4.P()*4);v.qR(iQ,cE,cK,f4);iQ=cK;cE=f4}cE.x=cE.y=0;fx=ax==0&&fC==0||c.SpcC.v?fx:0;
function d7(R){return R<0?Math.ceil(R):Math.floor(R)}var ep=eQ.iC(new aL(cE.m,0));ep.x=d7(ep.x);ep.y=d7(ep.y);
var bb=eQ.iC(new aL(0,cE.i));bb.x=d7(bb.x);bb.y=d7(bb.y);var L=X.X.Wf([iQ,cE],eQ,!1),ju=L.rect,jZ=L.buffer,d2=Math.round(ju.x),c3=Math.round(ju.y),bS=Math.max(r.rect.m,r.rect.i)/Math.min(cE.m*kM*(1+ax),cE.i*kM*(1+fC));
bS=Math.ceil(bS*1.7);v.ft(r.buffer,fx);for(var z=-bS;z<bS;z++){for(var R=-bS;R<bS;R++){var gn=(R+z*kq)*(1+ax),g_=z*(1+fC);
ju.x=d2+Math.round(gn*ep.x+g_*bb.x);ju.y=c3+Math.round(gn*ep.y+g_*bb.y);if(ju.rC(r.rect))v.l.Ip("norm",jZ,ju,r.buffer,r.rect,ju,1)}}}if(d=="Ctoa"){var B=v.L.E5(c.Clr.v),hj=c.Trsp.v.val/100,jT=c.Opct.v.val/100;
hj=jT==0?0:hj/jT;var w=W.rect.m,Y=W.rect.i,kr=~~B.Z,iq=~~B.G,cp=~~B.J,as=W.buffer,bO=r.buffer;for(var z=0;
z<Y;z++)for(var R=0;R<w;R++){var S=z*w+R,a=S<<2,cE=as[a],gv=as[a+1],iQ=as[a+2],hM=Math.abs(kr-cE),fe=Math.abs(iq-gv),fE=Math.abs(cp-iQ),gy=Math.max(hM,fe,fE)*(1/255);
gy=Math.max(0,Math.min(1,gy/jT));var aD=gy==0?0:1/gy,b4=hj==1?1:Math.max(0,Math.min(1,(gy-hj)/(1-hj)));
bO[a]=Math.max(0,Math.min(255,(cE-kr*(1-gy))*aD));bO[a+1]=Math.max(0,Math.min(255,(gv-iq*(1-gy))*aD));
bO[a+2]=Math.max(0,Math.min(255,(iQ-cp*(1-gy))*aD));bO[a+3]=Math.min(bO[a+3],~~(.5+b4*255))}}if(d=="Dthr"){function gx(R){return~~(.5+255*v.c1(R/255))}var bM=c.Plte.v,cQ;
if(bM==0)cQ=[4278190080,4294967295];else{var hv=[[1,1,1],[2,2,2],[3,3,2]][bM-1],fl=[1<<hv[0],1<<hv[1],1<<hv[2]],de=[~~(255/(fl[0]-1)),~~(255/(fl[1]-1)),~~(255/(fl[2]-1))];
cQ=[];for(var P=0;P<fl[0];P++)for(var kN=0;kN<fl[1];kN++)for(var hW=0;hW<fl[2];hW++)cQ.push(255<<24|gx(hW*de[2])<<16|gx(kN*de[1])<<8|gx(P*de[0]))}var w=W.rect.m,Y=W.rect.i,U=w*Y,km=U*4,fy=W.buffer.slice(0),jR=r.buffer;
for(var S=0;S<km;S++)fy[S]=~~(.5+255*v.c1(fy[S]/255));var il=v.R(w*Y);UPNG.encode.dither(fy,w,Y,cQ,jR,il,c.Mthd?c.Mthd.v:1);
for(var S=0;S<km;S++)jR[S]=~~(.5+255*v.dM(jR[S]/255))}if(d=="Part"){var eA=[c.RndS.v,c.Cont.v/100,c.Size.v,c.Dpth.v/100,c.Brgh.v/100,v.L.E5(c.Clr.v),c.Time.v,c.Blnk.v,c.Fall.v,c.Turb.v/100];
v.RD.so(r.buffer,W.rect.m,W.rect.i,eA)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(d)!=-1){var fW=x[0],w=W.rect.m,Y=W.rect.i,jt,bq=0;
if(d=="LqFy")jt=eo.Nr(new Uint8Array(c.LqMe.v).buffer);else{var gA=3;if(d=="Wave")gA=Math.min(3,c.WLMn.v);
jt={Kp:Math.floor(w/gA),fn:Math.floor(Y/gA)};jt.map=new Float32Array(jt.Kp*jt.fn*2);if(d=="LnCr"){var iK=.5*(jt.Kp-1),dl=.5*(jt.fn-1),au=Math.max(Math.abs(0-iK),Math.abs(1-iK)),iC=Math.max(Math.abs(0-dl),Math.abs(1-dl)),j4=Math.sqrt(au*au+iC*iC),gp=0,gN=0,e4=-1,aq=2,kM=c.LnSi.v/100,cq=1/kM,ho=c.LnIa.v/100,fT=ho==0?1e-6:ho*4.6,ba=cq/j4;
for(var z=0;z<jt.fn;z++){for(var R=0;R<jt.Kp;R++){var J=(R-iK)*ba,F=(z-dl)*ba,P=Math.sqrt(J*J+F*F)*fT,cH=Math.atan(P),c$=ho>0?cH/P:P/cH,aP=iK+j4*c$*J,bj=dl+j4*c$*F,S=z*jt.Kp+R<<1;
jt.map[S]=aP-R;jt.map[S+1]=bj-z}}}else if(d=="Kale"){var kH=jt.Kp,aU=jt.fn,gc=(kH-1)*.5,gh=(aU-1)*.5,k5=c.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,bL=c.Mirr.v,gH=Math.PI*2/bL,jl=.5*gH;
for(var z=0;z<aU;z++)for(var R=0;R<kH;R++){var J=R-gc,F=z-gh,az=Math.sqrt(J*J+F*F),fM=Math.atan2(F,J)+k5;
fM=fM%gH;if(fM>jl)fM=gH-fM;var aP=gc+Math.cos(fM-k5)*az,bj=gh+Math.sin(fM-k5)*az,S=(z*kH+R)*2;jt.map[S]=aP-R;
jt.map[S+1]=bj-z}}else if(d=="Dspl"&&fW.length!=0){bq=c.UndA.v.UndA=="WrpA"?2:1;var ky=c.DspF.v.pth,cR,dD=c.DspD,jY,eD,hf;
if(dD){var hT=dD.v;jY=hT[1]*256+hT[0];eD=hT[5]*256+hT[4];hf=new Uint8Array(hT.slice(10,10+jY*eD))}else{for(var S=0;
S<fW.length;S++)if(fW[S].QY==ky)cR=fW[S];if(cR==null)cR=fW[0];cR.Li();var hM=cR.Ma[1],hf=v.R(hM.P());
v.ou(cR.Ma[0],hf);jY=hM.m;eD=hM.i}jt={Kp:jY,fn:eD};jt.map=new Float32Array(jt.Kp*jt.fn*2);var gP=2.54*c.HrzS.v*jY/w,ji=2.54*c.VrtS.v*eD/Y;
for(var z=0;z<jt.fn;z++){for(var R=0;R<jt.Kp;R++){var iJ=-.5+hf[z*jY+R]*(1/255),S=z*jt.Kp+R<<1;jt.map[S]=iJ*gP;
jt.map[S+1]=iJ*ji}}}else if(d=="Pnch"||d=="Twrl"||d=="Sphr"||d=="ZgZg"){var c4=1,ii=Math.PI,kE=0,ht=1,h$=0,hx=3,bt=1.53,c$=1;
if(d=="Pnch"||d=="Sphr"||d=="ZgZg")c4=c.Amnt.v/100;if(d=="ZgZg"){ht=c.NmbR.v;h$=["ArnC","OtFr","PndR"].indexOf(c.ZZTy.v.ZZTy)}if(d=="Twrl")ii=c.Angl.v*Math.PI/180;
if(d=="Sphr")kE=["Nrml","HrzO","VrtO"].indexOf(c.SphM.v.SphM);function dG(R){R=Math.pow(R,1-R*.3-R*R*(R*R)*.5);
return-.225*Math.sin(R*Math.PI)}function go(Y,h3,P,d5,bP,b_,da,c$){var J=b_-d5,F=da-bP,fh=d5-Y,et=bP-h3,ac=J*J+F*F,hW=2*(J*fh+F*et),hx=fh*fh+et*et-P*P,k6=Math.sqrt(hW*hW-4*ac*hx),eG=c$/(2*ac),kl=(-hW+k6)*eG,aN=(-hW-k6)*eG;
return c$*Math.min(kl,aN)}var kH=jt.Kp,aU=jt.fn,gc=jt.Kp/2,gh=jt.fn/2,kA=1/gc,P=Math.sqrt(hx*hx+1)/hx,c6=hx+Math.sqrt(1/(hx*hx));
if(c4<0){hx=1.72;P=1;c6=hx;bt=-1;c$=-1}for(var z=0;z<aU;z++){var F=(z-gh)/gh;for(var R=0;R<kH;R++){var J=(R-gc)*kA;
if(kE==1)F=0;else if(kE==2)J=0;var bF=Math.sqrt(J*J+F*F);if(bF<1&&bF!=0){var S=z*jt.Kp+R<<1;if(d=="Pnch"){var br=-c4*dG(bF)/bF;
jt.map[S]=J*br*gc;jt.map[S+1]=F*br*gh}else if(d=="Sphr"){var i4=go(0,c6,P,0,0,bF,hx,c$),jB=bt*c4*(i4-1);
jt.map[S]=J*jB*gc;jt.map[S+1]=F*jB*gh}else if(d=="Twrl"){var fM=Math.atan2(F,J)-ii*(1-bF)*(1-bF),im=Math.cos(fM),eE=Math.sin(fM);
jt.map[S]=(bF*im-J)*gc;jt.map[S+1]=(bF*eE-F)*gh}else if(d=="ZgZg"){var im=0,eE=0,id=c4*(.5-.5*Math.cos(bF*ht*2*Math.PI))*(1-bF);
if(h$==0){var fM=Math.atan2(F,J)-3.5*id;im=bF*Math.cos(fM);eE=bF*Math.sin(fM)}if(h$==1){id=100/w*id/bF;
im=(1-id)*J;eE=(1-id)*F}if(h$==2){var u=512/w*id*Math.PI/4;im=u+J;eE=u+F}jt.map[S]=(im-J)*gc;jt.map[S+1]=(eE-F)*gh}}}}}else if(d=="Shr "){var gZ=JSON.parse(JSON.stringify(c.ShrP.v));
v.YF.e(gZ,new dT(0,255/127,255/127,0,-2,0));var fq=v.YF.Gy(gZ,jt.fn,!0);bq=c.UndA.v.UndA=="WrpA"?2:1;
for(var z=0;z<jt.fn;z++){var J=-fq[z]*jt.Kp;for(var R=0;R<jt.Kp;R++){var S=z*jt.Kp+R<<1;jt.map[S]=J}}}else if(d=="Wave"){var ks=c.NmbG.v,bx=c.WLMn.v,gz=c.WLMx.v,hw=c.AmMn.v*(Math.PI/4),j$=c.AmMx.v*(Math.PI/4),iO=c.SclH.v/100,bf=c.SclV.v/100,d6=c.Wvtp.v.Wvtp,id=Math.sin;
if(d6=="WvTr")id=function(R){R*=2/Math.PI;return-.5+Math.abs(R%2-1)};if(d6=="WvSq")id=function(R){R*=2/Math.PI;
return 1+2*Math.floor(R%2-1)};var jp=[],dA=new v.l.kl(c.RndS.v);for(var S=0;S<ks;S++){jp.push(dA.get()*10);
jp.push(Math.PI*gA/(bx+dA.get()*(gz-bx)));jp.push(iO*(hw+dA.get()*(j$-hw))/gA);jp.push(dA.get()*10);
jp.push(Math.PI*gA/(bx+dA.get()*(gz-bx)));jp.push(bf*(hw+dA.get()*(j$-hw))/gA)}var i_=[],aB=[],cB=Math.max(jt.Kp,jt.fn);
for(var S=0;S<cB;S++){var J=0,F=0;for(var cX=0;cX<ks;cX++){var iT=cX*6;J+=jp[iT+2]*id(jp[iT]+S*jp[iT+1]);
F+=jp[iT+5]*id(jp[iT+3]+S*jp[iT+4])}i_[S]=F;aB[S]=J}for(var z=0;z<jt.fn;z++){for(var R=0;R<jt.Kp;R++){var S=z*jt.Kp+R<<1;
jt.map[S]=aB[z];jt.map[S+1]=i_[R]}}bq=c.UndA.v.UndA=="WrpA"?2:1}else if(d=="Rple"){bq=1;var c4=c.Amnt.v/100,cS=4,a7=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],dI=1,g3=1,fh=0,iV=["Sml","Mdm","Lrg"].indexOf(c.RplS.v.RplS);
if(iV==0){dI=1;g3=.2;fh=3}if(iV==2){dI=1;g3=2;fh=-1;a7=a7.reverse()}var cs=function(R,z){var hx=Math.cos,cP=0;
for(var S=0;S<cS;S++)for(var cX=0;cX<cS;cX++)cP+=a7[S*cS+cX]*hx(R*(S+fh)-z*(cX+fh));return cP},jX=Math.floor(50/gA),jb=new Float32Array(jX*jX*2),jk=g3*c4*.5/gA;
for(var z=0;z<jX;z++)for(var R=0;R<jX;R++){var iK=dI*R*2*Math.PI/jX,dl=dI*z*2*Math.PI/jX,ci=cs(iK,dl),J=(cs(iK+.01,dl)-ci)*100,F=(cs(iK,dl+.01)-ci)*100,S=(z*jX+R)*2;
jb[S]=J*jk;jb[S+1]=F*jk}for(var z=0;z<jt.fn;z++)for(var R=0;R<jt.Kp;R++){var eE=z%jX,im=R%jX,S=z*jt.Kp+R<<1,kx=eE*jX+im<<1;
jt.map[S]=jb[kx];jt.map[S+1]=jb[kx+1]}}}v.Iv.qG(W.buffer,r.buffer,w,Y,null,jt.map,jt.Kp,jt.fn,bq)}return r};
var ar={};ar.acX="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");ar.bD="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
ar.Pq=["ScrC","ScrD","ScrL"];ar.nS=["SDRD","SDHz","SDLD","SDVt"];ar.oN="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
ar.zd="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");ar.mf="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
ar.L1=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];ar.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
ar.qw=function(d){var W;if(d=="ClrP")W={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(d=="Ct")W={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(d=="DryB")W={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(d=="FlmG")W={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(d=="Frsc")W={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(d=="NGlw")W={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(d=="PntD")W={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(d=="PltK")W={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(d=="PlsW")W={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(d=="PstE")W={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(d=="RghP")W={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(d=="SmdS")W={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(d=="Spng")W={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(d=="Undr")W={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(d=="Wtrc")W={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(d=="AccE")W={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(d=="AngS")W={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(d=="Crsh")W={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(d=="DrkS")W={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(d=="InkO")W={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(d=="Smie")W={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(d=="Spt")W={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(d=="SprS")W={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(d=="DfsG")W={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(d=="Gls")W={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(d=="OcnR")W={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(d=="BsRl")W={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(d=="ChlC")W={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(d=="Chrc")W={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(d=="Chrm")W={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(d=="CntC")W={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(d=="GraP")W={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(d=="HlfS")W={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(d=="NtPr")W={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(d=="Phtc")W={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(d=="Plst")W={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(d=="Rtcl")W={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(d=="Stmp")W={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(d=="TrnE")W={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(d=="WtrP")W={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(d=="GlwE")W={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(d=="Crql")W={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(d=="Grn")W={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(d=="MscT")W={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(d=="Ptch")W={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(d=="StnG")W={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(d=="Txtz")W={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
W.__name="Filter Gallery";W.classID="GEfc";W.GEfk={t:"enum",v:{GEft:d}};W.GELv={t:"bool",v:!0};return W};
ar._y=function(d,W){for(var S=0;S<W.length;S++)~~(W[S]=(d[4*S]+d[4*S+1]+d[4*S+2])*(1/3))};ar.am2=function(d,W,c,y,B,r){var x=UPNG.quantize(d,W);
x={DP:x.inds,oo:x.plte};if(r){var Z=new Uint32Array(x.oo.length);for(var S=0;S<Z.length;S++)Z[S]=x.oo[S].est.rgba;
x.DP=v.a3j(new Uint8Array(d),c,y,new Uint8Array(Z.buffer))}var i=Math.floor((c+y)*.015);if(i!=0&&B)v.sB.ajX(x.DP,c,y,i);
return x};ar.xh=function(d,W,c,y,B,r,x){d=c.GEfk.v.GEft;var Z=W.rect,i=Z.m,k=Z.i,H=i*k,V=c.FlRs?c.FlRs.v>>>1:0;
function g(I){return I.Z<<24|I.G<<16|I.J<<8|255}if(d=="ClrP")v.$.ate(W.buffer,i,k,r.buffer,[c.Pncl.v,c.StrP.v,c.PprB.v]);
if(d=="Ct"){var N=c.NmbL.v,C=c.EdgS.v,w=ar.am2(W.buffer.buffer,N*2,i,k,!0);for(var S=0;S<w.DP.length;
S++)w.DP[S]++;var Y=new Uint8Array((i+2)*(k+2));v.ZW(w.DP,new a8(1,1,i,k),Y,new a8(0,0,i+2,k+2));var U=v.A.aok(Y,i+2,k+2,C,!1),e=new dT(1,0,0,1,-1,-1);
for(var S=0;S<U.length;S++)v.A.e(U[S].path.j,e,U[S].path.j);var O=[],l=w.oo;for(var S=0;S<l.length;S++){var I=l[S].est.q;
O.push({Z:Math.round(255*I[0]),G:Math.round(255*I[1]),J:Math.round(255*I[2]),U:Math.round(255*I[3])})}var s=v.td(i,k);
for(var S=0;S<U.length;S++){var z=U[S],I=O[z.color-1];if(I.U==0)continue;s.fillStyle="rgba("+I.Z+","+I.G+","+I.J+","+I.U/255+")";
s.beginPath();Typr.U.pathToContext({crds:z.path.j,cmds:z.path.r},s);s.fill()}if(!Z.Bb()){var R=s.getImageData(0,0,i,k);
v.PY(R.data,r.buffer)}}if(d=="DryB")v.$.agT(W.buffer,i,k,r.buffer,[c.BrsS.v,c.BrsD.v,c.Txtr.v]);if(d=="FlmG")v.$.azg(W.buffer,i,k,r.buffer,[c.Grn.v,c.HghA.v,c.Intn.v,V]);
if(d=="Frsc")v.$.aAN(W.buffer,i,k,r.buffer,[c.BrsS.v,c.BrsD.v,c.Txtr.v]);if(d=="NGlw")v.$.a4Y(W.buffer,i,k,r.buffer,[c.Sz.v,c.Brgh.v,g(v.L.E5(c.Clr.v)),g(y),g(B)]);
if(d=="PltK")v.$.a2n(W.buffer,i,k,r.buffer,[c.StrS.v,c.StDt.v,c.Sftn.v]);if(d=="PstE")v.$.a5W(W.buffer,i,k,r.buffer,[c.EdgT.v,c.EdgI.v,c.Pstr.v]);
if(d=="RghP")v.$.aDf(W.buffer,i,k,r.buffer,[c.StrL.v,c.StDt.v,ar.oN.indexOf(c.TxtT.v.TxtT),c.Scln.v,c.Rlf.v,ar.bD.indexOf(c.LghD.v.LghD),c.InvT.v]);
if(d=="SmdS")v.$.acb(W.buffer,i,k,r.buffer,[c.StrL.v,c.HghA.v,c.Intn.v,c.FlRs?c.FlRs.v:0,V]);if(d=="Spng")v.$.aqS(W.buffer,i,k,r.buffer,[c.BrsS.v,c.Dfnt.v,c.Smth.v,c.FlRs?c.FlRs.v:0,V]);
if(d=="Undr")v.$.aD$(W.buffer,i,k,r.buffer,[c.BrsS.v,c.TxtC.v,ar.oN.indexOf(c.TxtT.v.TxtT),c.Scln.v,c.Rlf.v,ar.bD.indexOf(c.LghD.v.LghD),c.InvT.v]);
if(d=="Wtrc")v.$.aBv(W.buffer,i,k,r.buffer,[c.BrsD.v,c.ShdI.v,c.Txtr.v]);if(d=="AccE")v.$.awA(W.buffer,i,k,r.buffer,[c.EdgW.v,c.EdgB.v,c.Smth.v]);
if(d=="AngS")v.$.apA(W.buffer,i,k,r.buffer,[c.DrcB.v,c.StrL.v,c.Shrp.v]);if(d=="Crsh")v.$.aC2(W.buffer,i,k,r.buffer,[c.StrL.v,c.Shrp.v,c.Strg.v]);
if(d=="DrkS")v.$.axL(W.buffer,i,k,r.buffer,[c.Blnc.v,c.BlcI.v,c.WhtI.v]);if(d=="InkO")v.$.aBO(W.buffer,i,k,r.buffer,[c.StrL.v,c.DrkI.v,c.LghI.v]);
if(d=="Smie")v.$.amA(W.buffer,i,k,r.buffer,[c.StrW.v,c.StrP.v,c.Cntr.v]);if(d=="DfsG")v.$.asY(W.buffer,i,k,r.buffer,[c.Grns.v,c.GlwA.v,c.ClrA.v,g(B),V]);
if(d=="CntC")v.$.att(W.buffer,i,k,r.buffer,[c.FrgL.v,c.BckL.v,ar.oN.indexOf(c.TxtT.v.TxtT),c.Scln.v,c.Rlf.v,ar.bD.indexOf(c.LghD.v.LghD),c.InvT.v,g(B),g(y)]);
if(d=="ChlC")v.$.ait(W.buffer,i,k,r.buffer,[c.ChrA.v,c.ChlA.v,c.StrP.v,V,g(B),g(y)]);var t=d=="GraP"||d=="Chrc"||d=="Plst"||d=="Rtcl"||d=="Stmp"||d=="TrnE";
if(t){var a=v.R(i*k);if(d=="GraP")v.$.anc(W.buffer,i,k,r.buffer,[c.StrL.v,c.LgDr.v,ar.nS.indexOf(c.SDir.v.StrD),V]);
if(d=="Chrc")v.$.ave(W.buffer,i,k,r.buffer,[c.ChAm.v,c.Dtl.v,c.LgDr.v]);if(d=="Plst")v.$.a6o(W.buffer,i,k,r.buffer,[c.ImgB.v,ar.zd.indexOf(c.LghP.v.LghP),c.Smth.v]);
if(d=="Rtcl")v.$.a8A(W.buffer,i,k,r.buffer,[c.Dnst.v,c.BlcL.v,c.WhtL.v,V]);if(d=="Stmp")v.$.aaP(W.buffer,i,k,r.buffer,[c.LgDr.v,c.Smth.v]);
if(d=="TrnE")v.$.a7h(W.buffer,i,k,r.buffer,[c.ImgB.v,c.Smth.v,c.Cntr.v,V]);v.$P(r.buffer,a,0);ar.Ji(a,r.buffer,y,B)}if(d=="NtPr")v.$.aiB(W.buffer,i,k,r.buffer,[c.ImgB.v,c.Grns.v,c.Rlf.v,g(y),g(B),V]);
if(d=="WtrP")v.$.ayL(W.buffer,i,k,r.buffer,[c.FbrL.v,c.Brgh.v,c.Cntr.v,V>>>1]);if(d=="Crql")v.$.aD4(W.buffer,i,k,r.buffer,[c.CrcS.v,c.CrcD.v,c.CrcB.v,V]);
if(d=="Grn")v.$.aqP(W.buffer,i,k,r.buffer,[c.Intn.v,ar.mf.indexOf(c.Grnt.v.Grnt),c.Cntr.v,g(y),g(B),V]);
if(d=="MscT")v.$.ad$(W.buffer,i,k,r.buffer,[c.TlSz.v,c.GrtW.v,c.LghG.v,V]);if(d=="Ptch")v.$.aAe(W.buffer,i,k,r.buffer,[c.SqrS.v,c.Rlf.v,V]);
if(d=="Phtc"){function J(gZ,bt,Z,fM){v.yG.aM(gZ,bt,Z,fM);for(var S=0;S<H;S++)bt[S]=Math.max(0,Math.min(255,128+gZ[S]-bt[S]))}var F=c.Dtl.v,h=c.Drkn.v,m=v.R(H);
v.ou(W.buffer,m);var D=v.R(H);J(m,D,Z,1);if(F==1){F=2;h=Math.round(h/4)}var _=v.R(H);J(m,_,Z,F);for(var S=0;
S<H;S++)m[S]=Math.max(0,Math.min(255,255-(D[S]-_[S])*h));ar.Ji(m,r.buffer,y,B)}if(d=="Spt"||d=="SprS"){var n,j=1,T=1;
n={Kp:Math.floor(i/T),fn:Math.floor(k/T)};n.map=new Float32Array(n.Kp*n.fn*2);var L=new v.l.kl(V),p=new Float32Array(8192),E=c.SprR.v,G=E<20?.018*E:.36+(E-20)*.128;
if(d=="SprS"){G=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][E]}for(var S=0;
S<8192;S++)p[S]=(-1+2*L.get())*G*70;for(var A=0;A<k;A++)for(var u=0;u<i;u++){var q=A*i+u<<1;n.map[q]=p[q%7919];
n.map[q+1]=p[(q+1)%7919]}var o=n.map.slice(0),M=d=="Spt"?c.Smth.v-1:1;if(d=="Spt"&&M!=0){ar.aAV(n.map,o,i,k,M);
ar.ajM(o,n.map,i,k,M)}if(d=="SprS"){var $=c.StrL.v>>>1,Q=$==0?2:1;ar.aAV(n.map,o,i,k,Q);ar.ajM(o,n.map,i,k,Q);
if($!=0){var kF=ar.nS.indexOf(c.SDir.v.StrD),P=[1,1,1,0][kF],bM=[-1,0,1,1][kF],jW=2*$+1,fX=1/jW;for(var A=0;
A<k;A++)for(var u=0;u<i;u++){var q=A*i+u<<1,bX=0,ao=0;for(var S=0;S<jW;S++){var fK=Math.max(0,Math.min(i-1,u-($+S)*P)),bO=Math.max(0,Math.min(k-1,A-($+S)*bM)),b9=bO*i+fK<<1;
bX+=n.map[b9];ao+=n.map[b9+1]}o[q]=bX*fX;o[q+1]=ao*fX}n.map=o}}v.Iv.qG(W.buffer,r.buffer,i,k,null,n.map,n.Kp,n.fn,j)}if(d=="BsRl"||d=="PlsW"||d=="Chrm"){var bK=Date.now(),f0=v.R(H),hn=f0.slice(0);
v.ou(W.buffer,f0);var F=c.Dtl.v,hX=c.Smth.v;if(F!=15){v.yG.GH(f0,hn,Z,Math.round((15-F)*.5));v.PY(hn,f0)}var gR=1.4/i,ib=1.4/k,gU=new Float32Array(H),hq=new Float32Array(H),ip=new Float32Array(r.buffer.buffer);
for(var A=0;A<k;A++)for(var u=0;u<i;u++){var S=A*i+u,P=u==i-1?f0[S]-f0[S-1]:f0[S+1]-f0[S],bM=A==k-1?f0[S]-f0[S-i]:f0[S+i]-f0[S],aW=u*gR-.7,kN=A*ib-.7;
gU[S]=P==0?aW:P*.4;hq[S]=bM==0?kN:bM*.4}if(d=="BsRl"){var hW=(2+ar.bD.indexOf(c.LghD.v.LghD))*Math.PI*.25,bX=Math.cos(hW);
if(Math.abs(bX)<.1)bX=0;bX=Math.sign(bX);var ao=Math.sin(hW);if(Math.abs(ao)<.1)ao=0;ao=Math.sign(ao);
var jH=1/(bX*bX+ao*ao);for(var A=0;A<k;A++)for(var u=0;u<i;u++){var S=A*i+u,g0=Math.max(-1,Math.min(1,bX*gU[S])),gC=Math.max(-1,Math.min(1,ao*hq[S]));
hn[S]=128+127*(g0+gC)*jH}if(hX!=1){v.yG.GH(hn,f0,Z,Math.round((hX-1)*.5));v.PY(f0,hn)}ar.Ji(hn,r.buffer,y,B)}else{if(d=="Chrm")hX=5+hX;
if(hX>1)ar.jB(gU,hq,ip,Z,hX-1);if(d=="PlsW"){var jL=new Uint8Array(gU.buffer);for(var S=0;S<H;S++){var jf=S<<2,P=gU[S],bM=hq[S],cm=1/(Math.sqrt(1+P*P)*Math.sqrt(1+bM*bM)),eh=cm*cm,bu=eh*eh,I=~~(255*(bu*bu*eh));
jL[jf+0]=I;jL[jf+1]=I;jL[jf+2]=I;jL[jf+3]=I}r.buffer.set(W.buffer);v.l.Ip("norm",jL,Z,r.buffer,Z,Z,c.HghS.v/20)}else if(d=="Chrm"){var eJ=r.buffer,eZ=i>>>1,a0=k>>>1;
for(var S=0;S<H;S++){var jf=S<<2,P=gU[S],bM=hq[S],gZ={x:1,y:0,SZ:P};eV.cp(gZ);var bt={x:0,y:1,SZ:bM};
eV.cp(bt);var dp=eV.a28(gZ,bt),gb=1/dp.SZ,e_=~~Math.max(0,Math.min(i-1,eZ-dp.x*gb*eZ)),dO=~~Math.max(0,Math.min(k-1,a0-dp.y*gb*a0)),I=f0[dO*i+e_];
eJ[jf+0]=I;eJ[jf+1]=I;eJ[jf+2]=I}}}}if(d=="Gls"||d=="OcnR"||d=="Txtz"){var dC=d=="OcnR"?2:ar.oN.indexOf(c.TxtT.v.TxtT),kc=ar.m4(dC),ia=kc[0],f0=kc[1],hO=ia.m,cj=ia.i,jW=24,kg=0,jy,iM;
function bA(aC,ez,di){return~~(bg*(aC+ez)+8192)&127}var gU=new Float32Array(H),hq=new Float32Array(H),ip=new Float32Array(r.buffer.buffer),bg=d=="OcnR"?1/(1+(c.RplS.v-1)*.1):100/c.Scln.v;
if(dC==3)bg*=32/22.2;var bK=Date.now(),cX=bg,gR=1.4/i,ib=1.4/k;if(d=="Txtz"){cX*=1/255;jW=256}for(var A=0;
A<k;A++){var i4=bA(A,Z.y,cj),bO=i4+1&127;for(var u=0;u<i;u++){var S=A*i+u,fJ=bA(u,Z.x,hO),fK=fJ+1&127,iu=0,hV=0,f$=0;
if(d=="Txtz"){iu=v.D.Yx(bg*u,bg*A,f0,128,128);hV=v.D.Yx(bg*u,bg*A+1,f0,128,128);f$=v.D.Yx(bg*u+1,bg*A,f0,128,128)}else{iu=f0[i4*hO+fJ];
hV=f0[bO*hO+fJ];f$=f0[i4*hO+fK]}gU[S]=Math.max(-jW,Math.min((f$-iu)*cX,jW));hq[S]=Math.max(-jW,Math.min((hV-iu)*cX,jW))}}if(d=="Txtz")ar.ahJ(gU,hq,ip,Z,6);
else ar.jB(gU,hq,ip,Z,d=="Txtz"?1:d=="OcnR"?3.5/bg:c.Smth.v);if(d=="Txtz")kg=c.InvT.v?-1:1;else if(d=="Gls"){kg=[1,.4,.5,.5,.5,.5,.5][dC]*(Math.exp(c.Dstr.v*.155)-1);
if(c.InvT.v)kg=-kg}else{kg=.5*(Math.exp(c.RplM.v*.155)-1)}var eJ=r.buffer;if(d=="Txtz"){var hW=(2+ar.bD.indexOf(c.LghD.v.LghD))*Math.PI*.25,bX=Math.cos(hW),ao=Math.sin(hW);
jy={x:bX,y:ao,SZ:0};eV.cp(jy);iM=c.Rlf.v;iM=iM/4+Math.max(0,(iM-35)*2)}function hI(gZ,bt,jZ){var ir=v.l.overF(bt,gZ,1),aC=(1-jZ)*gZ+jZ*(jZ*bt+(1-jZ)*ir);
return aC*255}for(var A=0;A<k;A++)for(var u=0;u<i;u++){var S=A*i+u,jf=S<<2,P=gU[S],bM=hq[S],gZ={x:1,y:0,SZ:P};
eV.cp(gZ);var bt={x:0,y:1,SZ:bM};eV.cp(bt);var dp=eV.a28(gZ,bt);if(d=="Txtz"){var cd=eV.aBi(dp,jy)*kg,jZ=1,I=1;
if(cd<0){I=0;cd=-cd}jZ=Math.min(1,cd*iM);eJ[jf+0]=~~hI(W.buffer[jf]*(1/255),I,jZ);eJ[jf+1]=~~hI(W.buffer[jf+1]*(1/255),I,jZ);
eJ[jf+2]=~~hI(W.buffer[jf+2]*(1/255),I,jZ)}else{var gb=kg/dp.SZ,e_=~~Math.max(0,Math.min(i-1,u-dp.x*gb)),dO=~~Math.max(0,Math.min(k-1,A-dp.y*gb)),hz=dO*i+e_<<2;
eJ[jf+0]=W.buffer[hz];eJ[jf+1]=W.buffer[hz+1];eJ[jf+2]=W.buffer[hz+2]}}}if(d=="PntD"){var jv=c.Shrp.v*.4,eI=c.BrsT.v.BrsT,j2={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[eI],fM=Math.round(c.Sz.v*.5);
v.MV.vv=j2[0];v.MV.JY(W.buffer,r.buffer,i,k,fM,0,[]);var gY=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];gY=v.H$.Vp(gY);
var c4=r.buffer.slice(0);v.H$.sS(c4,r.buffer,i,k,gY,0);for(var S=0;S<W.buffer.length;S++){var fI=r.buffer[S]-c4[S];
r.buffer[S]=Math.max(0,Math.min(255,c4[S]+jv*fI))}}if(d=="GlwE"){var jq=r.buffer.slice(0);v.MV.vv=.5;
v.MV.JY(W.buffer,jq,i,k,c.Smth.v>>>1,0,[]);v.H$.a8p(jq,r.buffer,i,k);v.PY(r.buffer,jq);v.QE(jq);v.ft(jq,4278190080,16777215);
v.SV.a0r(jq,r.buffer,i,k,(c.EdgW.v>>>1)*2+1,!0);var e1=c.EdgB.v/10;for(var S=0;S<jq.length;S++){if((S&3)==3)continue;
var ir=r.buffer[S];r.buffer[S]=Math.max(0,Math.min(255,ir*e1))}}if(d=="StnG"){v.__.aAD(W.buffer,i,k,r.buffer,c.ClSz.v,[Math.round(y.Z),Math.round(y.G),Math.round(y.J)],c.BrdT.v)}if(d=="HlfS"){var fy=c.HlSz.v,fO=fy*2+1,kI=c.Cntr.v,fF=ar.Pq.indexOf(c.ScrT.v.ScrT),H=i*k,d6=H*4,bn=v.R(H),aZ=W.buffer,hK=0,cT=0;
ar._y(aZ,bn);var ai=bn.slice(0);v.yG.are(ai,bn,Z,fy);var bk=Math.PI/fO,cr=new Float64Array(i),bX=new Float64Array(i),cN=new Float64Array(2*i);
for(var u=0;u<i;u++){var fJ=(u-(i>>>1))*bk;cr[u]=fJ*fJ;bX[u]=Math.cos(fJ);var P=u<<1;cN[P]=Math.sin(P*(1/4.5));
cN[P+1]=Math.sin((P+1)*(1/4.5))}for(var A=0;A<k;A++){var i4=(A-(k>>>1))*bk,ao=Math.cos(i4),iZ=i4*i4;
for(var u=0;u<i;u++){var I=ao;if(fF==0){var fL=.5+Math.sqrt(cr[u]+iZ)*4.5;I=cN[~~fL]}else if(fF==1){I=bX[u]*ao}var S=A*i+u,d5=bn[S]*(.75+.25*I),jZ=aZ[(S<<2)+3]*(1/255),b_=Math.max(0,Math.min(255,~~d5));
hK+=b_*jZ,cT+=jZ;bn[S]=b_}}hK/=cT;var da=128+1.26*(hK-128),e1=.08+.25*Math.abs((128-hK)/128),df=1+e1*kI;
for(var S=0;S<H;S++){var d5=da+(bn[S]-da)*df;bn[S]=Math.max(0,Math.min(255,~~d5))}if(kI>46)v.round(bn);
ar.Ji(bn,r.buffer,y,B)}for(var S=0;S<W.buffer.length;S+=4)r.buffer[S+3]=W.buffer[S+3]};ar.Ji=function(d,W,c,y){var B=d.length,r=c.Z,x=c.G,Z=c.J,i=y.Z,k=y.G,H=y.J;
for(var S=0;S<B;S++){var V=d[S]*(1/255),g=1-V,N=S<<2;W[N]=~~(r*g+i*V);W[N+1]=~~(x*g+k*V);W[N+2]=~~(Z*g+H*V)}};
ar.m4=function(d){if(d==6)d=2;var W="blocks canvas frosted tinylens brick burlap".split(" ")[d];if(ar.iu==null)ar.iu=[];
if(ar.iu[d]==null){var c,y;if(d==2){y=new a8(0,0,128,128);var B=eR.qw("AdNs");B.Mnch.v=!0;B.Dstr.v.Dstr="Gsn";
B.Nose.v.val=50;var c=v.R(y.P()*4),r=c.slice(0);new Uint32Array(r.buffer).fill(4286611584);eR.xh("AdNs",{buffer:r,rect:y},B,0,0,{buffer:c,rect:y})}else{var x=fd.bj.get("tex/"+W,!0)[0];
y=x.H2;c=new Uint8Array(x.data)}var Z=v.R(y.P());v.$P(c,Z,0);ar.iu[d]=[y,Z]}return ar.iu[d]};ar.jB=function(d,W,c,y,B){if(B<=1){B=Math.round(B);
ar.ahJ(d,W,c,y,[1,16,4][B]);return}var r=B*.42;if(d){v.yG.Fg(d,y,r,3)}if(W){v.yG.Fg(W,y,r,3)}};ar.ahJ=function(d,W,c,y,B){var r=v.H$.Vp([1,2,1,2,B,2,1,2,1]);
if(d){c.set(d);v.H$.ake(d,c,y.m,y.i,r);d.set(c)}if(W){c.set(W);v.H$.ake(W,c,y.m,y.i,r);W.set(c)}};ar.ak=function(d){if(d==null)return new aL(0,0);
var W=0,c=d.GEfs?d.GEfs.v:[{v:d}];for(var S=0;S<c.length;S++){var y=c[S].v,r=1e4;if(y.GELv&&!y.GELv.v)continue;
var B=y.GEfk.v.GEft;if(B=="GlwE"||B=="Phtc"||B=="BsRl"||B=="PlsW"||B=="Chrm"||B=="Gls"||B=="OcnR"||B=="InkO")r=0;
W=Math.max(W,r)}return new aL(W,W)};ar.aks=function(d){var W=[0,0,0,0,0,0,0,0,0,0,0,0,0],c=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][d];
for(var S=0;S<13;S++){var y=S-6;W[S]=1/(c*Math.sqrt(2*Math.PI))*Math.exp(-.5*(y/c)*(y/c))}return W};
ar.aAV=function(d,W,c,y,B){var r=ar.aks(B),x=6,Z=13;for(var i=0;i<y;i++)for(var k=0;k<c;k++){var H=i*c+k<<1,V=0,g=0;
for(var S=0;S<Z;S++){var N=k+S-x,C=N<0?0:N>=c?c-1:N,w=(i*c+C)*2,Y=r[S];V+=Y*d[w];g+=Y*d[w+1]}W[H]=V;
W[H+1]=g}};ar.ajM=function(d,W,c,y,B){var r=ar.aks(B),x=6,Z=13;for(var i=0;i<y;i++)for(var k=0;k<c;k++){var H=i*c+k<<1,V=0,g=0;
for(var S=0;S<Z;S++){var N=i+S-x,C=N<0?0:N>=y?y-1:N,w=(C*c+k)*2,Y=r[S];V+=Y*d[w];g+=Y*d[w+1]}W[H]=V;
W[H+1]=g}};function dB(){}dB.Pu=[2,5,5,7,4,4];dB.s0="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
dB.CL="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
dB.mX=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
dB.S1=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
dB.Aa=function(d){if(d=="passThrough")return"pass";return dB.s0[dB.CL.indexOf(d)]};dB.XT=function(d){if(d=="pass")return"passThrough";
return dB.CL[dB.s0.indexOf(d)]};dB.getName=function(d){return dB.mX[dB.s0.indexOf(d)]};function e8(){this.rect=null;
this.buffer=null;this.E9="norm";this.opacity=255;this.TA=!1;this.A1=!1;this.xy=0;this.ks=0;this.EP=!0;
this.pm=[];for(var S=0;S<10;S++)this.pm.push(0,0,255,255);this.name=null;this.add={};this.$w=null;this.eV=null;
this.t=null;this.Y2=null;this.afI=30;this.xZ=null;this.yF=null;this.Jm=null;this.ac=null;this.MM=0;this.lO=!1;
this.Vh=null;this.oR=new e8.ru}e8.ru=function(){this.BQ=!0;this.Ot=!0;this.I3=v.R(0);this.axm=v.R(0);
this.$W=null;this.C$={};this.auc=null;this.ij=null;this.JU=null;this.P6=null;this.jp=null;this.gA=null;
this.wk=null;this.su=null;this.dc=null;this.Hv=null;this.Bi=null;this.oD=null;this.gd=!1};e8.ru.prototype.ap5=function(){this.BQ=null;
this.Ot=!1;this.$W=null;this.gd=d1.ZV};e8.ru.prototype.aAl=function(){eV.aB0(this.C$);this.I3=v.R(0);
this.axm=v.R(0);if(this.P6)this.P6.delete();if(this.jp)this.jp.delete();this.P6=null;this.jp=null;var d=[this.gA,this.wk,this.su,this.dc,this.Hv,this.Bi];
for(var S=0;S<6;S++)if(d[S]!=null&&d[S]instanceof d1.ii)d[S].delete();this.gA=null;this.wk=null;this.su=null;
this.dc=null;this.Hv=null;this.Bi=null};e8.prototype.W=function(d){if(d==null)d=this.rect.clone();if(this.oR.$W==null)this.oR.$W=d;
else this.oR.$W=this.oR.$W.hB(d)};e8.prototype.vS=function(){return this.add.lsct==aG.ED||this.add.lsct==aG.tV};
e8.prototype.sI=function(){var d=this.add;return d.SoCo!=null||d.GdFl!=null||d.PtFl!=null||d.vstl!=null};
e8.prototype.aoE=function(){var d=this.add.lmfx;if(d==null)return;var W=["GrFl","patternFill"];for(var S=0;
S<W.length;S++){var c=bV.Fb[bV.order.indexOf(W[S])],y=d[c].v;if(y.length==0)continue;for(var B=0;B<y.length;
B++){var r=y[B].v;if(r.enab.v&&(r.Algn==null||!r.Algn.v))this.oR.Ot=!0}}};e8.prototype.aqp=function(){var d=this.t,W=this.oR.BQ;
if(this.sI())d=this.Q7();if(!d1.ZV)return d.GQ();if(this.oR.jp==null||W||d1.ZV!=this.oR.gd){var c=d.yo(),y=this.oR.jp,B=null;
if(W!=!0&&W!=null){B=W.clone();B.offset(-c.x,-c.y)}if(y==null||y.m!=c.m||y.i!=c.i){y=this.oR.jp=new d1.S2(c.m,c.i);
B=null}y.set(d.GQ(),B)}return this.oR.jp};e8.prototype.aht=function(d){var W=this.rect,c=this.buffer;
if(!d1.ZV){var y=this.xU(d,c,W);if(y){c=y.Gq;W=y.rect}return c}if(this.oR.$W!=null||d1.ZV!=this.oR.gd){var y=this.xU(d,c,W);
if(y){c=y.Gq;W=y.rect}var B=W;if(d1.ZV!=this.oR.gd||this.oR.P6==null||this.oR.P6.m!=B.m||this.oR.P6.i!=B.i){if(this.oR.P6)this.oR.P6.delete();
this.oR.P6=new d1.ii(B.m,B.i);this.oR.P6.set(c)}else{var r=this.oR.$W.clone();r.offset(-W.x,-W.y);this.oR.P6.set(c,r)}}return this.oR.P6};
e8.prototype.U_=function(){var d=this.t;if(this.sI())d=this.Q7();return d!=null&&d.isEnabled&&(!d.rect.Bb()||d.E5()!=255)};
e8.prototype.xU=function(d,W,c){if(this.pX()){var y=this.WI(d);if(y.t&&y.t.isEnabled&&(!y.t.rect.Bb()||y.t.color==0)){var B=this.add.SoLd.filterFX.v;
y.t.it=B.filterMaskDensity?B.filterMaskDensity.v:255;y.t.ej=B.filterMaskFeather?B.filterMaskFeather.v:0;
var r=y.buffer,x=y.rect;if(x.P()<c.P()){x=c;r=v.R(x.P()*4);v.qR(y.buffer,y.rect,r,x)}var Z=y.t.OU(c);
v.QE(Z);W=W.slice(0);v.l.lf(r,x,W,c,Z,c,0,c,1);return{Gq:W,rect:c}}}};e8.prototype.atp=function(){var d={w5:!1,NS:!1,dQ:0,s8:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)d.NS=!0;if(this.Q7()&&this.Q7().isEnabled)d.w5=!0;if(d.w5&&d.NS){d.dQ=this.Q7().rect.x-this.add.vmsk.Q7().rect.x;
d.s8=this.Q7().rect.y-this.add.vmsk.Q7().rect.y}return d};e8.prototype.Ys=function(d,W){if(be!=0)return;
if(W&&this.Q7().ej!=0){W=W.clone();var c=Math.round(this.Q7().ej*2.4);W.Lx(c,c)}var y=!1;if(this.add.lsct==aG.Ni)return;
var B=this,r=this.Q7()!=null&&this.Q7().Zv,x=this.add.vmsk!=null&&this.add.vmsk.Zv,Z=this.atp(),i=JSON.stringify(Z)!=this.oR.auc||Z.w5&&r||Z.NS&&x;
if(i){if(Z.NS){var k=this.add.vmsk.Q7();if(Z.w5){this.t=this.Q7().lU(k);this.oR.ij=new aL(this.t.rect.x-this.Q7().rect.x,this.t.rect.y-this.Q7().rect.y)}else this.t=k}if(this.t)y=!0;
if(this.t)this.oR.JU=new aL(this.rect.x-this.t.rect.x,this.rect.y-this.t.rect.y);if(Z.w5)this.Q7().Zv=!1;
if(Z.NS)this.add.vmsk.Zv=!1;this.W(W)}else{if(Z.w5&&Z.NS){this.t.rect.x=this.Q7().rect.x+this.oR.ij.x;
this.t.rect.y=this.Q7().rect.y+this.oR.ij.y}}if(B.sI()){this.gn(d)}if(B.TT()){var H;if(this.t)H=new aL(this.rect.x-this.t.rect.x,this.rect.y-this.t.rect.y);
if(this.t&&this.t.isEnabled&&(this.oR.JU==null||!H.zI(this.oR.JU))){this.oR.JU=H;this.W(W);y=!0}}if(bN.get(B.add)!=null)y=!0;
if(y){var V=this.oR.BQ;if(W&&V&&V!=!0)V=V.hB(W);else V=W?W:!0;this.oR.BQ=V}this.oR.auc=JSON.stringify(Z)};
e8.prototype.gn=function(d){if(be!=0)return;var W=this,c=W.add.vstk,y=new a8(0,0,d.m,d.i),B,r=W.add.vmsk?this.add.vmsk.Q7():null,i=!0,V;
if(r&&r.isEnabled&&r.E5()==0)B=r.yo().clone();else B=y;var x=W.Q7();if(x&&x.isEnabled&&x.E5()==0)B=B.nK(W.t.yo());
var Z=r&&c;if(c&&(!c.strokeEnabled.v||c.strokeStyleLineWidth.v.val==0))Z=!1;if(c&&!c.fillEnabled.v&&Z)i=!1;
var k=v.R(B.P()*4);if(i){if(W.add.SoCo)eV.uE(k,W.add.SoCo.Clr.v);if(W.add.GdFl){var H=r&&r.color==0?v.o.wV(W.add.vmsk.Y,null,!0):null;
eV.lQ(W.add.GdFl,k,B,d,null,H)}if(W.add.PtFl)eV.jZ(W.add.PtFl,k,B,d.add.Patt,W.add.fxrp)}if(Z)V=bV._M.IC.indexOf(c.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(r){var g=r.it;if(Z)r.it=255;var N=v.R(B.P());if(r.E5()!=0)N.fill(Math.round(r.E5()));if(r&&r.isEnabled){var C=r.yo(),w=r.GQ();
if(C.zI(B))v.PY(w,N);else v.ZW(w,C,N,B)}if(Z&&V==2){}else{if(W.add.SoCo&&i){v.nP(N,k,3)}else v.WW(N,B,k,B)}if(Z)r.it=g}W.buffer=k;
W.rect=B;if(Z){var Y=c.strokeStyleContent.v,U=bV._M.sy.indexOf(Y.classID),e=this.add.vmsk.Q7(c);if(V!=0&&!W.rect.zI(y))W.extend(W.rect.hB(e.yo()));
var g=e.it;e.it=255;var O=e.OU(W.rect);e.it=g;if(e.color==255)v.QE(O);var l=v.R(W.rect.P()*4);if(U==0)eV.uE(l,Y.Clr.v);
if(U==1)eV.lQ(Y,l,W.rect,d,null,r.color==0?r.rect:null);if(U==2)eV.jZ(Y,l,W.rect,d.add.Patt,W.add.fxrp);
var I=c.strokeStyleOpacity.v.val/100;if(I!=1)v.bB(O,I);if(e.color==255)V=2-V;if(V<2){v.l.lf(l,W.rect,W.buffer,W.rect,O,W.rect,255,W.rect,1,!1);
if(V==0)v.sl(N,W.buffer)}if(V==2){v.sl(O,l);v.QE(N);v.l.lf(l,W.rect,W.buffer,W.rect,N,B,255,W.rect,1,!1);
v.QE(N)}if(e.it!=255){var s=l.slice(0);v.ft(s,4278190080,16777215);v.l.Ip("norm",s,W.rect,W.buffer,W.rect,W.rect,1-e.it/255)}g=r.it;
r.it=255;this.axm=r.OU(W.rect);r.it=g}this.W()};e8.prototype.Hg=function(d,W,c,y){var B=this,r=B.add.SoLd.Idnt.v,x=B.add.SoLd,Z=X.X.R6(x.nonAffineTransform),i=v.A.c7(Z),k=d.Zg(r,x.Crop?x.Crop.v:null,[i.m,i.i],x.Impr.v.classID,c),e=null;
if(k==null)return;var H=k.Ma;x.Sz.v.Wdth.v=H[1].m;x.Sz.v.Hght.v=H[1].i;if(be!=0)return;var V=k.tU==null?x.Rslt.v.val:k.tU,g=x.quiltWarp.v;
if(v.lk.uP(g))g=null;var N=v.D.bO(Z,H[1]);if(g){var i=v.A.c7(v.lk.yU(g)[3]),C=i.x,w=i.y,Y=1/i.m,U=1/i.i;
N=v.D.bO(Z);N=v.D.lU(N,[Y,0,-C*Y,0,U,-w*U,0,0])}if(!W&&!B.pX()&&g==null){var O=d.B.indexOf(B),l=e8.vy(B);
for(var S=0;S<O;S++){var I=d.B[S];if(I.add.SoLd&&!I.pX()&&e8.vy(I)[0]==l[0]){var s=e8.vy(I);e={buffer:I.buffer.slice(0),rect:I.rect.clone()};
e.rect.offset(Math.round(l[1]-s[1]),Math.round(l[2]-s[2]));break}}}if(e==null)e=X.X._B(H,W?0:1,N,g,null,null,null,W);
if(e==null){B.buffer=v.R();B.rect=new a8}else if(B.pX()){var z=B.WI(d);if(y){z.buffer.fill(0);v.qR(e.buffer,e.rect,z.buffer,z.rect)}else{z.buffer=e.buffer;
z.rect=e.rect.clone()}this.WT(d,W)}else{B.buffer=e.buffer;B.rect=e.rect}B.Ys(d);B.W();d.W()};e8.vy=function(d){var W=d.add.SoLd,c=W.Idnt.v,y=X.X.R6(W.nonAffineTransform),B=v.D.bO(y,new a8(0,0,1e3,1e3)),r=W.quiltWarp.v;
if(v.lk.uP(r))r=null;return[[c,B[0],B[1],B[3],B[4],B[6],B[7],r==null].join(":"),B[2],B[5]]};e8.prototype.WT=function(d,W){if(W==null)W=!1;
var c=this.WI(d),y=this.add.SoLd.filterFX.v,B=eR.a9r(y),r=new a8(0,0,d.m,d.i),x=c.rect.hB(r),Z=c.rect.clone();
Z.Lx(B.x,B.y);var i={buffer:null,rect:x.nK(Z)};i.buffer=v.R(i.rect.P()*4);v.qR(c.buffer,c.rect,i.buffer,i.rect);
if(y.enab.v&&W==!1){var k=y.filterFXList.v;for(var S=0;S<k.length;S++){var H=k[S].v;if(H.enab.v==!1)continue;
var V=H.blendOptions.v,g=dB.Aa(V.Md.v.BlnM),N=V.Opct.v.val/100,C=v.L.E5(H.FrgC.v),w=v.L.E5(H.BckC.v),Y=eR.a_(H),U={buffer:v.R(i.buffer.length),rect:i.rect.clone()},e=H.Fltr?H.Fltr.v:null;
if(bN.ae[Y]!=null){var O=bN.ae[Y],l=bN.iA(O,e);if(l)bN.xh(l,i.buffer,U.buffer,i.rect)}else eR.xh(Y,i,e,C,w,U,[d.add.lnk2?d.add.lnk2:[],this.Q7(),d.iv]);
if(g=="norm"&&N==1)i=U;else if(g=="norm"){v.l.lf(U.buffer,U.rect,i.buffer,i.rect,null,null,null,i.rect,N)}else{v.l.Ip(g,U.buffer,U.rect,i.buffer,i.rect,i.rect,N)}}}this.rect=i.rect;
this.buffer=i.buffer;this.oj();this.W();d.W()};e8.prototype.KL=function(d,W,c){this.Vh=this.a8U(d,W,c)};
e8.prototype.AY=function(d,W){var c=this.a8U(d,W,!0);if(c==null)return null;var y={BL:c.MM,iJ:c.xt,rect:c.$g};
if(y.BL==1||y.BL==3){var B=y.rect,r=v.R(B.m*B.i*4);v.nP(y.iJ,r,0);v.nP(y.iJ,r,1);v.nP(y.iJ,r,2);v.av8(d.u.channel,d.u.rect,r,B);
y.iJ=r}return y};e8.prototype.a8U=function(d,W,c){var y,B,r,x,Z,i,k;if(this.MM<=0){var H=v.R(this.rect.P());
v.$P(this.buffer,H,3);y=v.Jd.Mq(W,{channel:H,rect:this.rect},3);if(y==null)return null;var V=v.wf(y.channel,y.rect);
x=y.rect.clone();Z=this.rect.clone();B=v.R(x.P()*4);v.qR(this.buffer,Z,B,x);v.nP(y.channel,B,3);r=this.buffer.slice(0);
if(!c){var g=W.channel.slice(0);v.QE(g);v.WW(g,W.rect,r,Z)}i=this.buffer.slice(0);k=this.rect.clone()}if(this.MM==1||this.MM==3){var N=this.MM==1?this.Q7():this.WI(d).t;
x=W.rect.clone();Z=N.rect.clone();B=N.ig(x);var r=N.channel.slice(0);if(!c)v.l.D7(N.color==255?v.fJ(x.P()):v.bL(x.P()),x,r,Z,W.channel,x,1);
i=N.channel.slice(0);k=N.rect.clone()}return{MM:this.MM,xt:B,$g:x,ur:r,Vc:Z,Zb:i,sG:k}};e8.prototype.K_=function(d,W){var c=this.Vh;
if(c.MM==0){this.rect=c.sG;this.buffer=c.Zb;this.W()}if(c.MM==1||c.MM==3){var y=c.MM==1?this.Q7():this.WI(d).t;
y.channel=c.Zb;y.rect=c.sG;if(this.MM==1){y.Zv=!0;this.Ys(d)}if(this.MM==3)this.W()}this.Vh=W};e8.prototype.D5=function(d,W){if(this.MM<=0&&W.rect.zI(this.rect)){var c=v.R(this.rect.P());
v.$P(this.buffer,c,3);if(v.zI(d.u.channel,c)){var y=this.rect,B=this.buffer;this.Vh={MM:this.MM,xt:B.slice(0),$g:y.clone(),ur:v.R(0),Vc:new a8,Zb:v.R(0),sG:new a8};
return!0}}var r=this.Vh;if(r==null)return!1;if(r.MM!=this.MM)return!1;if(!W.rect.zI(r.$g))return!1;var x=r.Vc.hB(r.$g);
if(r.MM<=0){if(!x.zI(this.rect))return!1;var Z=v.R(r.xt.length>>2);v.$P(r.xt,Z,3);if(!v.zI(W.channel,Z))return!1;
var i=v.R(x.m*x.i*4);v.qR(r.ur,r.Vc,i,x);v.l.Ip("norm",r.xt,r.$g,i,x,x,1);return v.zI(i,this.buffer)}if(r.MM==1||r.MM==3){var k=r.MM==1?this.Q7():this.WI(d).t;
if(!x.zI(k.rect))return!1;var H=v.R(x.P());H.fill(k.color);v.ZW(r.ur,r.Vc,H,x);v.l.D7(r.xt,r.$g,H,x,W.channel,x,1);
return v.zI(H,k.channel)}};e8.prototype.VR=function(d,W,c,y){var B=this.Vh;B.$g.offset(W,c);var r=B.Vc.hB(B.$g);
if(B.MM<=0){var x=v.R(r.P()*4);v.qR(B.ur,B.Vc,x,r);v.l.Ip("norm",B.xt,B.$g,x,r,r,1);this.buffer=x;this.rect=r;
this.W()}else{var Z=this.MM==1?this.Q7():this.WI(d).t,i=v.R(r.P());i.fill(Z.color);v.ZW(B.ur,B.Vc,i,r);
v.l.D7(B.xt,B.$g,i,r,y.channel,r,1);Z.channel=i;Z.rect=r.clone();if(this.MM==1){Z.Zv=!0;this.Ys(d)}if(this.MM==3)this.W()}};
e8.prototype.afN=function(d){var W=[-1,0,1,2];if(d)W.push(3);if(this.t)W.push(-2);if(this.Y2)W.push(-3);
return W};e8.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};e8.prototype.AP=function(bd){this.add.luni=this.name=bd};
e8.prototype.Qt=function(d){var W=this.add.lnsr,c=this.add.TySh;if(W=="rend"&&c){var y=it.H5(c.p$);this.AP(y.slice(0,y.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
e8.prototype.jF=function(){return(this.xy&1<<1)==0};e8.prototype.TT=function(){return(this.xy&1<<4)==0};
e8.prototype.Rm=function(){return(this.xy&1<<5)!=0};e8.prototype.ayS=function(){var d=this;if(d.add.lnsr!="bgnd"){d.add.lnsr="bgnd";
d.AP("Background");d.add.lspf=1<<2}};e8.prototype.axi=function(){var d=this;if(d.add.lnsr=="bgnd"){delete d.add.lnsr;
d.AP("Layer 0");d.add.lspf=0}};e8.prototype.sx=function(d){var W=this.add.lspf;return W==null?!1:(W>>d&1)!=0};
e8.prototype.vI=function(d){if(d&&!this.jF())this.xy-=2;if(!d&&this.jF())this.xy+=2};e8.prototype.Yj=function(){var d=this.add.lmfx;
if(d==null)return!1;for(var W in d){if(W=="masterFXSwitch")continue;if(W=="Scl")continue;if(W=="classID")continue;
if(d[W].v.length>0)return!0}return!1};e8.prototype.pX=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
e8.prototype.Ql=function(){var d=this.add.lmfx;if(d==null)return!1;if(!d.masterFXSwitch.v)return!1;for(var W in d){if(W=="masterFXSwitch")continue;
if(W=="Scl")continue;if(W=="classID")continue;var c=d[W].v;for(var S=0;S<c.length;S++)if(c[S].v.enab.v)return!0}return!1};
e8.prototype.Tp=function(){var d=this,W=d.add.SoLd,c=d.add.TySh,y=d.add.vmsk,B=[];if(W)B=X.X.R6(W.nonAffineTransform);
if(c&&this.oR.x1){B=v.A.z$(d.oR.x1).j;v.A.e(B,c.e,B)}if(y)B=v.A.z$(y.a1m()).j;return B};e8.prototype._W=function(d,W,c,y){if(be==1)return v.A.c7(this.Tp());
var B=new a8,r=this.le(d,c,y);if(r.indexOf(0)!=-1)B=B.hB(this.rect);if(r.indexOf(1)!=-1){var x=this.Q7(),Z=x.yo();
B=c&&x.E5()==0?B.Bb()?Z:B.nK(Z):B.hB(Z)}if(r.indexOf(2)!=-1){var i=this.add.vmsk,k=this.add.vstk,H;if(W){if(i.Hc.length>1){var V=v.o.Ls(i.Y,null,i.Hc);
H=v.A.c7(V);if(H.Bb())H=null}if(H==null)H=v.o.wV(i.Y,i.g.length!=0?i.g:null)}else H=v.o.wV(i.Y);if(!y&&k&&k.strokeEnabled.v){var g=k.strokeStyleLineAlignment.v.strokeStyleLineAlignment,N=k.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(g!="strokeStyleAlignInside"){var C=k.strokeStyleLineWidth.v.val;if(N=="strokeStyleMiterJoin")H=new a8(0,0,d.m,d.i);
else H.Lx(C,C)}}B=B.hB(H)}if(r.indexOf(3)!=-1)B=B.hB(this.WI(d).t.yo());if(r.length==0&&this.sI())B=y?new a8(0,0,0,0):new a8(0,0,d.m,d.i);
return B};e8.prototype.OM=function(){var d=this.add.artb,W=d.artboardBackgroundType.v,c=0;if(W==1)c=4294967295;
else if(W==2)c=4278190080;else if(W==3)c=0;else if(W==4){c=d.Clr.v;c=255<<24|c.Bl.v<<16|c.Grn.v<<8|c.Rd.v}else throw W;
return c};e8.prototype.ZB=function(){var d=this.add.artb.artboardRect.v,W=d.Btom.v,c=d.Left.v,y=d.Rght.v,top=d.Top.v;
return new a8(c,top,y-c,W-top)};e8.prototype.Nn=function(d){var W=e8.zY(d);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=W};e8.zY=function(d){var W={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
W.Btom.v=d.y+d.i;W.Left.v=d.x;W.Rght.v=d.x+d.m;W.Top.v=d.y;return W};e8.prototype.le=function(d,W,c){var y=[],B=this;
if(!W&&B.lO&&c){y.push(2)}else if(B.MM<=0||W){if(B.TT()){if(be==1&&B.add.TySh)y.push(0);if(be==1&&B.add.SoLd)y.push(0);
else if(!this.rect.Bb()||B.add.SoLd)y.push(0)}if(B.Q7()&&!B.Q7().rect.Bb())if(B.Q7().Ps||W)y.push(1);
if(B.add.vmsk)if(B.add.vmsk.Ps||W)y.push(2);if(B.pX()&&B.WI(d).t&&!B.WI(d).t.rect.Bb())y.push(3)}else if(B.MM==1){y.push(1);
if(B.Q7().Ps&&!B.Q7().rect.Bb()){if(B.TT())if(!this.rect.Bb())y.push(0);if(B.add.vmsk)if(B.add.vmsk.Ps)y.push(2)}}else if(B.MM==3&&!B.WI(d).t.rect.Bb())y.push(3);
if(B.add.artb&&y.indexOf(0)==-1)y.push(0);y.sort();return y};e8.prototype.Q7=function(){var d=this;return d.Y2?d.Y2:d.add.vmsk&&d.add.vmsk.isEnabled?null:d.t};
e8.prototype.WI=function(d){var W=this.add.SoLd.placed.v,c=d.add.FEid;if(c==null)return null;for(var S=0;
S<c.length;S++)if(c[S].id==W)return c[S];return null};e8.prototype.extend=function(d){v.axv(this,d)};
e8.prototype.atw=function(d,W,c){var y=d.clone();if(this.Ql()){var B=this.add.lmfx,r=W.root.x$(W.B.indexOf(this)),x=B.gradientFillMulti.v,Z=!1;
for(var S=0;S<x.length;S++)if(x[S].v.enab.v&&x[S].v.Algn.v)Z=!0;if(Z)y=y.hB(r.yo(W,!1));var i=eV.a7o(this.add.lmfx,W,c);
y.offset(i.x,i.y);y.m+=i.m;y.i+=i.i}return y};e8.prototype.oj=function(){if(this.TT())v.eW(this);var d=this.Q7();
if(d)d.oj()};e8.prototype.clone=function(){var d=new e8;d.rect=this.rect.clone();d.buffer=this.buffer.slice(0);
d.E9=this.E9;d.opacity=this.opacity;d.TA=this.TA;d.xy=this.xy;d.name=this.name;d.pm=this.pm.slice(0);
if(this.t)d.t=this.t.clone();if(this.Y2)d.Y2=this.Y2.clone();for(var W in this.add)d.add[W]=dy.clone(W,this.add[W]);
return d};e8.prototype.jm=function(d){var W=this;if(W.add.TySh)delete W.add.TySh;if(W.add.SoLd){var c=this.xU(d,this.buffer,this.rect);
if(c){this.buffer=c.Gq;this.rect=c.rect;this.W()}delete W.add.SoLd}if(W.add.SoCo||W.add.GdFl||W.add.PtFl){if(W.add.vogk)delete W.add.vogk;
if(W.add.SoCo)delete W.add.SoCo;if(W.add.GdFl)delete W.add.GdFl;if(W.add.PtFl)delete W.add.PtFl;if(W.add.vmsk){console.log(W.Y2,W.t);
delete W.add.vmsk;if(W.Y2==null&&W.t)delete W.t;else if(W.Y2!=null&&W.t!=null){W.t=W.Y2;delete W.Y2}}}if(!W.vS()&&bN.get(W.add)==null&&!this.TT())this.xy-=16};
e8.prototype.oC=function(d){var W=255,c=0;if(d==2){var y=this.add.SoLd.filterFX.v;if(y.filterMaskDensity)W=y.filterMaskDensity.v;
if(y.filterMaskFeather)c=y.filterMaskFeather.v}else{var B=d==0?this.Q7():this.add.vmsk;W=B.it;c=B.ej}return{bQ:d,lV:W,Np:c}};
e8.prototype.a6L=function(d){if(d.bQ==2){var W=this.add.SoLd.filterFX.v;if(d.lV==255)delete W.filterMaskDensity;
else W.filterMaskDensity={t:"long",v:d.lV};if(d.Np==0)delete W.filterMaskFeather;else W.filterMaskFeather={t:"doub",v:d.Np};
this.W()}else{var c=d.bQ==0?this.Q7():this.add.vmsk;c.it=d.lV;c.ej=d.Np;c.Zv=!0}};e8.prototype.h0=function(){var d=this,W=d.add.vmsk;
if(W==null)return;d.add.vogk=v.dr.apq(W.Y)};e8.h0=function(d){var W=[],c=v.o.mQ(d);for(var y=0;y<c;y++)W.push(v.dr.bL());
return W};var aG={Jf:0,ED:1,tV:2,Ni:3};e8.JO=function(){this.name="Mask";this.xV=!1;this.am={Z:255,G:0,J:0};
this.pk=50;this.zT=0;this.color=255;this.Ps=!0;this.isEnabled=!0;this.MF=!1;this.it=255;this.ej=0;this.rect=new a8;
this.channel=v.R(0);this.K6=null;this.aro=null;this.Zv=!0};e8.JO.prototype.lU=function(d){if(!this.isEnabled)return d;
var W=new e8.JO;W.color=Math.round(this.E5()*d.E5()/255);if(this.E5()==0&&d.E5()==0)W.rect=this.yo().nK(d.yo());
else if(d.E5()==0)W.rect=d.yo().clone();else if(this.E5()==0)W.rect=this.yo().clone();else W.rect=this.yo().hB(d.yo());
W.channel=this.OU(W.rect);W.it=255;W.ej=0;var c=d.OU(W.rect);v.anj(c,W.rect,W.channel,W.rect);return W};
e8.JO.prototype.yo=function(){if(this.ej==0)return this.rect;var d=Math.ceil(this.ej*2.2),W=this.rect.clone();
if(W.y==0){if(W.x==0)W.m+=d;else W.Lx(d,0);W.i+=d}else W.Lx(d,d);return W};e8.JO.prototype.GQ=function(){if(this.ej==0&&this.it==255)return this.channel;
if(this.ej==0){var d=this.channel.slice(0);v.QE(d);v.bB(d,this.it/255);v.QE(d);return d}var W=this.yo(),c=this.ig(W),d=v.R(W.P());
v.yG.GH(c,d,W,this.ej);if(this.it!=255){v.QE(d);v.bB(d,this.it/255);v.QE(d)}return d};e8.JO.prototype.E5=function(){return Math.round(255-(255-this.color)*(this.it/255))};
e8.JO.prototype.extend=function(d){v.extend(this,d,this.color)};e8.JO.prototype.oj=function(){if(this.color==255)v.QE(this.channel);
v.oj(this);if(this.color==255)v.QE(this.channel)};e8.JO.prototype.clone=function(){var d=new e8.JO;d.name=this.name;
d.xV=this.xV;d.am=this.am;d.pk=this.pk;d.zT=this.zT;d.color=this.color;d.Ps=this.Ps;d.isEnabled=this.isEnabled;
d.MF=this.MF;d.it=this.it;d.ej=this.ej;d.rect=this.rect.clone();d.channel=this.channel.slice(0);return d};
e8.JO.prototype.ig=function(d,W){if(W==null)W=v.R(d.P());W.fill(this.color);v.ZW(this.channel,this.rect,W,d);
return W};e8.JO.prototype.OU=function(d,W){var c=this.yo(),y=this.GQ();if(W==null)W=v.R(d.P());W.fill(this.E5());
v.ZW(y,c,W,d);return W};e8.vw=function(){this.Ps=!0;this.isEnabled=!0;this.it=255;this.ej=0;this.jP=0;
this.p5=0;this.Y=[{type:6},{type:8,all:0}];this.sF=[-3,-3];this.KV=!1;this.Y2=null;this.Zv=!0;this.g=[];
this.Hc=[]};e8.vw.prototype.a1m=function(d){var W=e8.vw.Rl(this.Y),c=new dT;if(d)c.rotate(-this.jP);
v.o.hn(W,c);return v.o.wV(W)};e8.vw.prototype.a84=function(){var d=this.a1m(!0),W=v.A.z$(d).j,c=new dT;
c.rotate(this.jP);v.A.e(W,c,W);return W};e8.vw.prototype.offset=function(d,W){this.Y2=this.Q7();v.o.hn(this.Y,new dT(1,0,0,1,d,W));
this.Y2.rect.offset(d,W)};e8.vw.prototype.Q7=function(d){if(!this.Zv&&this.Y2&&d==null){this.Y2.isEnabled=this.isEnabled;
return this.Y2}var W=v.o.wV(this.Y),c="strokeStyleLineAlignment",y="strokeStyleLineJoinType";if(W.P()>2e4*2e4)W=new a8(0,0,100,100);
if(d&&d[c].v[c]!="strokeStyleAlignInside"){var B=1;if(d[y].v[y]=="strokeStyleMiterJoin"){var r=v.o.aBm(this.Y),x=r/2,Z=Math.sin(x),i=Math.cos(x);
i/=Z;Z=1;var B=Math.sqrt(i*i+Z*Z);if(isNaN(B)||B<1)B=1}B*=d[c].v[c]=="strokeStyleAlignOutside"?1:.5;
var k=Math.ceil(d.strokeStyleLineWidth.v.val*B);k=Math.min(k,600);W.Lx(k,k)}W=v.A.zk(W);var H=new e8.JO;
H.color=v.o.SR(this.Y)?0:255;H.Ps=this.Ps;H.isEnabled=this.isEnabled;H.MF=!0;H.rect=W;H.it=this.it;H.ej=this.ej;
H.channel=v.R(H.rect.P());if(!W.Bb())v.o.aBP(this.Y,H.channel,H.rect,d);if(d==null){this.Y2=H;this.Zv=!1}return H};
e8.vw.prototype.clone=function(){var d=new e8.vw;d.Ps=this.Ps;d.isEnabled=this.isEnabled;d.it=this.it;
d.ej=this.ej;d.jP=this.jP;d.Y=e8.vw.Rl(this.Y);d.sF=this.sF.slice(0);d.KV=this.KV;d.g=this.g.slice(0);
d.Hc=this.Hc.slice(0);return d};e8.vw.prototype.concat=function(d){var W=d.Y.slice(2);if(W.length==0)return;
W[0].p5=3;this.Y=this.Y.concat(W)};e8.vw.Rl=function(d){var W=[];for(var S=0;S<d.length;S++){var c=d[S];
if(c.type>5||c.type==0||c.type==3)W.push(JSON.parse(JSON.stringify(c)));else W.push({type:c.type,sV:c.sV.clone(),I:c.I.clone(),XM:c.XM.clone()})}return W};
e8.vw.aA4=function(d,W,c){if(d.length!=W.length)return!1;for(var S=2;S<d.length;S++){var y=d[S],B=W[S];
if(y.type!=B.type)return!1;if(y.type==0||y.type==3){if(y.length!=B.length||!c&&y.p5!=B.p5)return!1}else if(!y.sV.zI(B.sV)||!y.I.zI(B.I)||!y.XM.zI(B.XM))return!1}return!0};
e8.vw.prototype.at6=function(){var d=this.Y;for(var S=3;S<d.length;S++)if(d[S].type==0||d[S].type==3)d[S].p5=-1};
e8.Wh=function(){this.type=null;this.se=2;this.QY=null;this.Kh="";this.pF="";this.CX="";this.open=0;
this.raw=null;this.Ma=null;this.axD="";this.O5=!1};e8.Wh.prototype.clone=function(){var d=new e8.Wh;
d.type=this.type;d.se=this.se;d.QY=this.QY;d.Kh=this.Kh;d.pF=this.pF;d.CX=this.CX;d.open=this.open;d.raw=new Uint8Array(this.raw.buffer.slice(0));
return d};e8.Wh.prototype.Li=function(d,W,c,y,B){if(c==null)c="none";var r=this,x=fd.$Z(r.raw.buffer),Z=x=="svg"||x=="pdf"||x=="ai";
if(r.Ma){var i=W&&Z&&Math.max(r.Ma[1].m,r.Ma[1].i)<Math.max(W[0],W[1]);if(!i&&c==this.axD&&!r.O5)return}this.axD=c;
if(!Z)d=0;if(x==null){alert("Unsupported format: "+K.xA(r.raw,0,4));return null}var k=fd.Ay(x);if(k.IX){var H=new eb(name+(x=="psd"?"":"-"+x)+".psd"),V;
k.Pd(r.raw.buffer,H,W);var g=new a8(0,0,H.m,H.i);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(c)!=-1){var N=[];
for(var S=0;S<H.B.length;S++){var C=H.B[S],w=C.buffer;if(!C.rect.zI(g)){w=v.R(g.P()*4);v.qR(C.buffer,C.rect,w,g);
console.log("resizing")}N.push(w)}V=v.R(g.P()*4);v.stack.stack(N,V,c)}else{for(var S=0;S<H.B.length;
S++)if(H.B[S].sI())H.B[S].Ys(H);if(y&&H.O5){var Y=bQ.Q0(H,y,B);r.O5=!Y;if(Y)bQ.bn(H,y,B)}H.zv();H.W();
H.pM();V=H.Li()}r.Ma=[V,g];r.tU=H.tU!=null&&H.tU!=0?H.tU:72}else if(k){var U=k.Pd(r.raw.buffer)[0];r.Ma=[new Uint8Array(U.data),U.H2];
r.tU=U.tU!=null&&U.tU!=0?U.tU:72}if(r.Ma){if(d==1){var w=r.Ma[0],e=r.Ma[1],O=v.R(e.P());v.$P(w,O,3);
var l=v.wf(O,e),I=v.R(l.P()*4);v.qR(w,e,I,l);l.x=l.y=0;r.Ma=[I,l]}v.rG(r.Ma)}};e8.k9="0";e8.Mr="2";e8.Bm="2.5";
e8.Lk="2.6";e8.hS="3";e8.OY="4";e8.zK="4.5";e8.aeO="4.6";e8.agj="5";e8.Hb="5.5";e8.c2="6";e8.av7="7";
e8.aaN="8";e8.e4="9";e8.XN="9.3";e8.adE="9.5";e8._v="9.6";e8.lG="10";e8._a="11";e8.yg="12";e8.jV="13";
e8.gK="13.1";e8.apB="13.2";e8.vb="13.3";e8.Sg="13.4";e8.Bu="14";e8.fB="14.1";e8.LO="14.2";e8.oh="14.3";
e8.n_="17";e8.IL="18";e8.ajs="19";e8.C2="19.5";e8.iq="19.6";e8.Oy="19.7";e8.pT="19.8";e8.Mc="20";e8.aU="21";
e8.PJ="21.5";e8.fV="22";e8.GN="22.5";e8.DC="23";e8.ajb="24";e8.In="25";e8.a5R="26";e8.arU="27";e8.Ii="28";
e8.mF="29";e8.ID="30";e8.U1="31";e8.qI="32";e8.hd="33";e8.db="34";e8.ra="35";e8.ZQ="36";e8.uC="36.5";
e8.af="37";e8.xQ="37.5";e8.aDx="37.6";e8.gh="38";e8.zH="38.5";e8.Xk="38.6";e8.VA="39";e8.eN="40";e8.afk="41";
e8.Er="42";e8.aS="50";e8.XY="51";e8._u="52";e8.oF="53";e8.Ff="54";e8.a91="54.5";e8.XZ="54.6";e8.aCM="54.7";
e8.wj="54.8";e8.Ky="55";e8.br="56";e8.p0="57";e8.KN="58";e8.JL="59";e8.UH="60";function cl(){this.depth=0;
this.index=-1;this.a=null;this.a7Y=null;this.pu=-1;this.children=null;this.parent=null;this.jx=null}cl.prototype.anR=function(d,W){if(this.depth!=0)d.push(this.a.getName());
if(this.children)for(var S=0;S<this.children.length;S++)this.children[S].anR(d,W);if(d.length>W.Za.length)W.Za=d.slice(0);
if(this.depth!=0)d.pop()};cl.prototype.apT=function(){var d=0;if(this.a.vS()){for(var S=0;S<this.children.length;
S++)d+=this.children[S].apT()}else if(this.a.buffer)d+=this.a.buffer.length;return d};cl.prototype.x$=function(d){var W=this.jx[d];
return this.jx[d]};cl.prototype.af8=function(d,W){var c=this.a;if(!c.jF()||c.sx(2)||c.sx(31))return null;
if(c.U_()){var y=c.t.rect.rC(d);if(!y&&c.t.color==0)return}if(c.vS()){for(var S=0;S<this.children.length;
S++){var bd=this.children[S];bd.af8(d,W)}}else if(be==1){var B=c.Tp();if(d.rC(v.A.c7(B))&&W.indexOf(this.index)==-1)W.push(this.index)}else if(c.rect.rC(d))W.push(this.index)};
cl.prototype.cf=function(d,W){var c=this.a;if(!c.jF()||c.sx(2)||c.sx(31))return null;if(c.U_()){if(c.t.rect.Ce(d)){if(!v.cf(d,c.t.channel,c.t.rect))return null}else if(c.t.color==0)return null}if(c.vS()){if(c.add.artb&&!c.ZB().Ce(d))return null;
for(var S=this.children.length-1;S>=0;S--){var bd=this.children[S],y=bd.cf(d,W);if(y&&W==null)return y}return null}else if(be==1){if(c.add.vmsk){var B=c.add.vstk,r=!B.fillEnabled.v&&!c.A1,x=B.strokeStyleLineWidth.v.val*.5,Z=v.o.cf(c.add.vmsk.Y,d,r,x);
return Z.Wr==-1?null:this}var i=c.Tp();if(c_.Hq(i,d.x,d.y))return this}else if(c.add.TySh&&c.rect.Ce(d)||v.agC(d,c.buffer,c.rect)){if(W==null)return this;
else W.push(this.index)}return null};cl.prototype.ajK=function(d){var W=this.a;if(!W.jF()||W.sx(2)||W.sx(31))return null;
var c=W.add.vmsk;if(c&&c.isEnabled){var y=v.o.cf(c.Y,d).Wr;if(y!=-1)return{aov:this,aCK:y}}if(W.vS()){if(W.add.artb&&!W.ZB().Ce(d))return null;
for(var S=this.children.length-1;S>=0;S--){var bd=this.children[S],B=bd.ajK(d);if(B)return B}return null}return null};
cl.prototype.O0=function(d,W){d.push(this.index);if(this.a.vS()){d.push(this.pu);if(W)if(this.a.MM==1&&this.a.Q7().Ps==!1)return;
for(var S=0;S<this.children.length;S++)this.children[S].O0(d)}};cl._o=function(){var d=document.createElement("canvas");
return d.getContext("2d")};cl.a5M=function(d,W){var c,y;if(d.m>d.i){c=W;y=Math.floor(W*(d.i/d.m))}else{c=Math.floor(W*(d.m/d.i));
y=W}return new aL(c,y)};cl.no=32;cl.bY=1;cl.prototype.pL=function(d,W,c){var y=cl.bY,B=this.a;if(B.vS()&&B.add.artb!=null)W=B.ZB();
var r=y==0?B.rect:W;if(r.Bb()||B.add.TySh)r=W;var x=cl.no*X.QX(),Z=cl.a5M(r,x),i=Z.x,k=Z.y,H=cl.a5M(W,x);
if(B.sI()&&B.add.vmsk==null||B.add.TySh)i=k=Math.max(k,16);else if(B.vS()){i=k=Math.round(18*X.QX())}else{i=Math.max(i,6);
k=Math.max(k,6)}if(c&&B.xZ==null){B.xZ=cl._o();B.yF=cl._o();B.Jm=cl._o();B.ac=cl._o()}var V=B.sI()&&B.add.vmsk;
if(V){if(c&&B.add.vstk)v.Ox.Ug(B.xZ,i,k,r,B.buffer,B.rect,!1,null,!B.add.vstk.fillEnabled.v&&!B.add.vstk.strokeEnabled.v);
if(c)v.Ox.adh(B.xZ,i,k)}else if(B.add.TySh){if(c)v.Ox.ayd(B.xZ,k,k,B.add.TySh)}else if(B.add.SoCo){if(c)v.Ox.atH(B.xZ,k,k,B.add.SoCo)}else if(B.add.GdFl){if(c)v.Ox.a9m(B.xZ,k,k,B.add.GdFl)}else if(B.add.PtFl){if(c)v.Ox.aBt(B.xZ,k,k,B.add.PtFl,d)}else if(bN.get(B.add)!=null){if(c)v.Ox.aDI(B.xZ,k,k,B.add)}else if(B.add.SoLd){if(c)v.Ox.Ug(B.xZ,i,k,r,B.buffer,B.rect,!1);
if(c)v.Ox.ako(B.xZ,i,k,B.add.SoLd)}else if(B.vS()){}else{if(c){if(B.TT())v.Ox.Ug(B.xZ,i,k,r,B.buffer,B.rect,!1);
else{v.Ox.agI(B.xZ,k,k)}}}var g=B.Q7();if(c){if(g)v.Ox.RN(B.yF,H.x,H.y,W,g);if(B.pX()&&B.WI(d)&&B.WI(d).t){var N=B.WI(d).t;
v.Ox.RN(B.ac,H.x,H.y,W,N)}if(!V&&B.add.vmsk){v.Ox.RN(B.Jm,H.x,H.y,W,B.add.vmsk.Q7(),!0)}}if(g||B.add.vmsk)k=Math.max(k,H.y);
B.afI=Math.max(k,16);if(c!=!0&&B.vS()&&(B.add.lsct==aG.ED||d.B.length<4e3))for(var S=0;S<this.children.length;
S++)this.children[S].pL(d,W)};cl.prototype.ak2=function(d,W,c,y){this.depth=c;var B=d[W];if(y==null)y=[];
this.jx=y;if(B.add.lsct==aG.Ni){this.a7Y=B;this.pu=W-1;this.children=[];var S=W+1;while(!0){var r=d[S];
if(r==null)console.log(S,d.length);if(r.add.lsct==aG.ED||r.add.lsct==aG.tV){if(B.add.lyid==r.add.lyid)B.add.lyid+=16777215;
this.a=r;this.index=S-1;y[this.index]=this;y[W-1]=this;break}var x=new cl;x.parent=this;S=x.ak2(d,S,c+1,y);
this.children.push(x)}return S+1}else{this.a=B;this.index=W-1;y[this.index]=this;return W+1}};cl.prototype.JV=function(d,W,c,y){var B=this.x$(c),r=d;
while(B.parent!=null){r=B.a.atw(r,W,y);B=B.parent}return r};cl.prototype.yo=function(d,W){var c=this.a,y=new a8;
if(!c.jF())return y;var B=c.Q7();if(c.vS())for(var S=0;S<this.children.length;S++){var r=this.children[S].yo(d,!0);
y=y.hB(r)}else if(bN.get(c.add)!=null)y=c.U_()&&c.t.color==0?c.t.yo().clone():new a8(0,0,d.m,d.i);else if(c.sI()&&c.add.vmsk&&c.add.vmsk.isEnabled&&c.add.vstk){y=c.rect.clone()}else if(c.sI()&&B&&B.isEnabled&&B.E5()!=0)y=new a8(0,0,d.m,d.i);
else{y=c._W(d,!1,!0);if(c.add.vmsk)y=v.A.zk(y)}return W?c.atw(y,d):y};cl.hq={delete:function(d){if(d&&d.m)d.delete()},R:function(d,W){return d1.ZV?new d1.ii(d,W):v.R(d*W*4)},pB:function(d,W,c){if(d1.ZV){if(d==null||d.m!=W||d.i!=c){cl.hq.delete(d);
return new d1.ii(W,c)}}else{if(d==null||!(d instanceof Uint8Array)||d.length!=W*c*4){cl.hq.delete(d);
return v.R(W*c*4)}}return d},ZW:function(d,W,c,y,B){(d1.ZV?d1.w3:v.qR)(d,W,c,y,B)},lf:function(d,W,c,y,B,r,x,Z,S,i,k){(d1.ZV?d1.l.Sy:v.l.lf)(d,W,c,y,B,r,x,Z,S,i,k)},aBV:function(d,W,c,y,B,r,x,Z){var i=c.clone(),k=B.m,H=B.i,V=i.x,g=i.y,N=i.x+i.m>k?-1:0,C=i.x<0?2:1,w=i.y+i.i>H?-1:0,Y=i.y<0?2:1;
for(var U=w;U<Y;U++)for(var e=N;e<C;e++){i.x=V+e*k;i.y=g+U*H;cl.hq.Ip(d,W,i,y,B,r,x,Z)}},Ip:function(d,W,c,y,B,r,x,Z){if(d1.ZV)d1.l.a0J(d,W,c,y,B,r,x,Z);
else v.l.Ip(d,W,c,y,B,r,x,Z)},ft:function(d,W,c){if(d1.ZV){d1.QO(d);d1.S9(W,c)}else v.ft(d,W,c)},aru:function(d,W,c,y,B){if(d1.ZV){d1.l.Sy(null,null,y,B,d,W,c,B,1,!1)}else{if(c==255)v.WW(d,W,y,B);
else{var r=v.R(W.P());v.mE(y,B,r,W);v.iY(d,r);v.ft(y,0,16777215);v.av8(r,W,y,B)}}},KZ:function(d,W,c,y){if(d1.ZV)d1.l.Sy(null,null,c,y,d,W,0,y,1,!1);
else v.KZ(d,W,c,y)}};cl.prototype.OV=function(d,W,c,y,B,r){var x=typeof r=="number";if(!this.a.vS()&&(x&&this.index>r||!x&&r.indexOf(this.index)==-1)){return}var Z=this.a,i=eV.by(Z),k=cl.hq,H=Z.sI()?Z.Q7():Z.t;
if(!Z.jF())return;if(Z.U_()&&H.rect.Bb()&&H.E5()==0){return}if(Z.add.vstk==null&&this.yo(y,!1).Bb()){return}if(Z.sI()&&Z.rect.Bb())return;
var V=this.yo(y,!0).nK(c);if(!W.zI(c)&&!c.rC(V))return;if(Z.vS()&&Z.add.artb){var g=Z.ZB();c=c.nK(g)}var N=cl.aqL(Z,B,i);
if(!N){this.aCD(d,W,c,y,B,r);return}Z.oR.gA=k.pB(Z.oR.gA,V.m,V.i);k.ZW(d,W,Z.oR.gA,V,c);this.aCD(Z.oR.gA,V,c,y,B,r);
k.lf(Z.oR.gA,V,d,W,null,null,0,c,Z.opacity/255,Z.E9=="diss",i.pE)};cl.aqL=function(d,W,c){if(c.pE[0]*c.pE[1]*c.pE[2]==0)return!0;
return d.opacity!=255&&(W.length!=0||d.vS()||d.Ql())};cl.aab={oR:{}};cl.prototype.aCD=function(d,W,c,y,B,r){var x=this.a,Z=eV.by(x),i=bN.get(x.add)!=null,k=cl.hq,H=cl.aqL(x,B,Z),V=H?1:x.opacity/255,g=x.sI()?x.Q7():x.t,N=x.vS()&&Z.Db==null&&(x.E9=="pass"||x.add.artb)&&!(B.length>0||Z.fill!=1||x.Ql()),C=!x.vS()&&!i&&!x.Ql()&&B.length==0,w=i&&!x.Ql()&&B.length==0,I=null,s=null,z=null,F;
if(N||C||w){var Y=d,U=W;if(x.U_()){U=this.yo(y,!1);Y=x.oR.dc=k.pB(x.oR.dc,U.m,U.i);k.ZW(d,W,x.oR.dc,U)}if(N)this.Kj(Y,U,c,y,r);
if(C)k.Ip(x.E9,x.aht(y),x.rect,Y,U,c,V,Z);if(w){var e=x.U_()&&g.E5()==0?g.yo().clone():U.clone(),O=x.oR;
if(e.zI(new a8(0,0,y.m,y.i)))O=cl.aab;O.su=this.a5_(Y,U,O.su,e,x.add);Z.EX=!0;k.Ip(x.E9,O.su,e,Y,U,c,V,Z)}if(x.U_())k.lf(Y,U,d,W,x.aqp(),g.yo(),g.E5(),c,1,x.E9=="diss");
x.oR.ap5();return}var l=x.vS()&&x.E9=="pass"&&(B.length>0||Z.fill!=1||x.Ql()),e=x.rect;if(x.vS()){e=this.yo(y,!1);
z=x.oR.su=k.pB(x.oR.su,e.m,e.i);k.ft(z,0);this.Kj(z,e,e,y,r);s=k.pB(x.oR.wk,e.m,e.i);k.ZW(z,e,s,e)}else if(i){e=x.U_()&&g.E5()==0?g.yo().clone():W.clone();
s=k.pB(x.oR.wk,e.m,e.i);k.ft(s,4294967295)}else{e=x.rect;I=x.aht(y);s=k.pB(x.oR.wk,e.m,e.i);k.ZW(I,e,s,e)}x.oR.wk=s;
if(x.U_())k.aru(x.aqp(),g.yo(),g.E5(),s,e);if(x.Ql())if(x.oR.$W||x.oR.Ot||x.oR.gd!=d1.ZV||x.oR.BQ||x.vS()){var R=x.add.vmsk,t=v.R(e.P());
if(eV.auA(x.add.lmfx)){if(d1.ZV){if(!x.vS()&&x.Q7()==null&&x.rect.zI(e)&&R==null)v.$P(x.buffer,t,3);
else{var a=v.R(e.P()*4);s.get(a);v.$P(a,t,3)}}else v.$P(s,t,3)}if(x.oR.Ot||x.oR.gd!=d1.ZV||!v.zI(t,x.oR.I3)){var J=null;
if(x.sI()&&R&&R.isEnabled&&R.Q7().color==0)J=R.Q7().rect;eV.aB0(x.oR.C$);x.oR.C$=eV.aku(t,e,x.add.lmfx,x.add.fxrp,y,J);
x.oR.I3=t;x.oR.a6h=e}}if(x.Ql())eV.asi(x.add.lmfx,x.oR.C$,e,d,W,c);if(x.vS()){I=k.pB(x.oR.dc,e.m,e.i);
k.ft(I,0);if(x.E9=="pass")k.ZW(d,W,I,e);if(l)k.KZ(z,e,I,e);this.Kj(I,e,c,y,r);x.oR.dc=I}if(i){I=x.oR.dc=this.a5_(d,W,x.oR.dc,e,x.add)}if(x.vS()||i)F=I;
else{F=k.pB(x.oR.dc,e.m,e.i);k.ZW(I,e,F,e,c);x.oR.dc=F}k.ft(F,4278190080,16777215);for(var S=0;S<B.length;
S++)B[S].OV(F,e,c,y,[],r);var h=x.oR.Hv=k.pB(x.oR.Hv,e.m,e.i);k.ZW(d,W,h,e,c);if(i)Z.EX=!0;k.Ip(x.E9=="pass"?"norm":x.E9,F,e,h,e,c,1,Z);
if(x.Ql()){var m=x.oR.C$.type.FrFX,D=null;if(m.length!=0){D=m[0];for(var S=0;S<m.length;S++)if(m[S].PC.m>D.PC.m)D=m[S];
x.oR.Bi=k.pB(x.oR.Bi,D.PC.m,D.PC.i);k.ZW(d,W,x.oR.Bi,D.PC,c);x.oR.oD=k.pB(x.oR.oD,D.PC.m,D.PC.i)}eV.axy(x.add.lmfx,x.oR.C$,e,d,W,c,h,x.oR.Bi,x.oR.oD,D?D.PC:null)}if(!d1.ZV){var _=v.R(e.P());
v.$P(s,_,3);s=_}k.lf(h,e,d,W,s,e,0,c,1,x.E9=="diss");x.oR.ap5()};cl.prototype.a5_=function(d,W,c,y,B){var r=bN.get(B),x;
if(r)x=bN.iA(r,B[r]);var Z=cl.hq;c=Z.pB(c,y.m,y.i);if(!(d1.ZV&&W.zI(y)))Z.ZW(d,W,c,y);if(x){if(d1.ZV){var i=y.clone();
i.x=i.y=0;if(W.zI(y)){d1.QO(c,i);bN.SF(x,d.yd,i)}else{d1.QO(c,y);c.Yf(y);bN.SF(x,c._Y,i)}}else bN.xh(x,c,c,y)}return c};
cl.prototype.Kj=function(d,W,c,y,B){var r=W.m,x=W.i,Z=W.x,i=W.y,bd=c,k=bd.x,H=bd.y,V=-1,g=-1,N=2,C=2;
if(!y.PZ){V=g=0;N=C=1}var w=this.children;for(var S=0;S<w.length;S++){var Y=bN.get(w[S].a.add)!=null,U=[];
for(var e=S+1;e<w.length;e++)if(w[e].a.TA)U.push(w[e]);else break;for(var O=g;O<C;O++)for(var l=V;l<N;
l++){W.x=Z+l*r;W.y=i+O*x;bd.x=k+l*r;bd.y=H+O*x;if((l!=0||O!=0)&&Y)continue;w[S].OV(d,W,bd,y,U,B)}S+=U.length}W.x=Z;
W.y=i;bd.x=k;bd.y=H};(function(){cl.prototype.ho=function(r,x,Z,i){var k=this.a,H=k.add.lmfx,V=k.add.TySh,g=k.add.SoLd,C=null;
if(!k.jF())return;x.save();var N=k.opacity/255*(k.add.iOpa?k.add.iOpa/255:1);x.globalAlpha*=N;x.globalCompositeOperation=dB.S1[dB.s0.indexOf(k.E9)];
var w=eV.aeQ(k,!1);if(w){C=x;var Y=document.createElement("canvas");Y.width=x.canvas.width;Y.height=x.canvas.height;
var U=x.getTransform();x=Y.getContext("2d");x.setTransform(U.a,U.b,U.c,U.d,U.e,U.f)}if(k.vS()){var e=this.children,O=null;
for(var S=0;S<e.length;S++)if(e[S].a.A1)O=e[S].a;if(O){x.beginPath();W(O,x);x.clip()}for(var S=0;S<e.length;
S++)e[S].ho(r,x,Z,i)}else if(V){var l=!0;if(k.oR.path==null){l=bQ.GM(V,Z.Sm);if(l)bQ.pp(k,Z.Sm,!1)}if(l){{var I=V.e;
x.save();d(x,I);bQ.aeI(k.oR.path,x);x.restore()}}}else if(k.sI()&&k.add.vmsk&&!k.A1){var s=k.add.vmsk;
if(s.ej!=0)x.filter="blur("+s.ej*r.Q.O+"px)";x.beginPath();W(k,x);var z=k.add.vstl;if(z.A_){var R=y(z.A_,s.Y,r,x);
if(R[1]){x.save();d(x,R[1])}x.fillStyle=R[0];x.fill(["nonzero","evenodd"][s.p5]);if(R[1]){x.restore()}}if(z.n8){v.o.J4(z,x);
x.strokeStyle=y(z.n8,s.Y,r,x,!0)[0];x.stroke()}}else if(g){var t=g.filterFX;if(t){var R=t.v.filterFXList.v;
for(var S=0;S<R.length;S++){var a=R[S].v;if(!a.enab.v)continue;var J=eR.a_(a);if(J=="GsnB"){x.filter="blur("+a.Fltr.v.Rds.v.val*r.Q.O+"px)"}}}var F=g.Idnt.v,h=r.Zg(F,g.Crop?g.Crop.v:null),I=v.D.s2(g),m=h.Ma;
B(r,k,x,I,m)}if(w){C.save();C.setTransform(1,0,0,1,0,0);C.drawImage(x.canvas,0,0);C.restore();x=C}x.globalAlpha/=N;
x.globalCompositeOperation="source-over";x.restore()};function d(r,x){r.transform(x.U,x.J,x.gp,x.x7,x.IS,x.rk)}function W(r,x){var Z=r.add.vmsk.Y;
for(var S=0;S<Z.length;S++){if(Z[S].type>5)continue;var i=Z[S].length;if(i==0)continue;var k=Z[S].type==3;
v.o.atQ(x,Z,S+1,i,0,0,k);if(!k)x.closePath();S+=i}}function c(r,x){return CSS.Yb({Z:r[0]*255,G:r[1]*255,J:r[2]*255},x)}function y(r,x,Z,i,k){if(r.length==3)return[c(r),null];
else if(r.length==2){var H=Z.Ny[r[0]],V=1,g=H.aA3;if(g==null){var N=document.createElement("canvas"),C=N.getContext("2d");
N.width=Math.round(H.m*V);N.height=Math.round(H.i*V);C.scale(V,V);H.root.ho(H,C,{},null);g=H.aA3=i.createPattern(N,"repeat")}var w=new dT(1/V,0,0,1/V,0,0),Y=Z.tU/72,U=new dT;
U.concat(w);var e=r[1][1];U.concat(new dT(e[0],e[1],e[2],e[3],Y*e[4],Y*e[5]));U.scale(1,-1);return[g,U]}else{var O=r[0],l=r[1],I=r[2],s=-I[5]*Math.PI/180,z=bW.DA(r,x),R,w;
if(O==0){var t=[0,0,1,0];v.A.e(t,z,t);R=i.createLinearGradient(t[0],t[1],t[2],t[3])}else{var t=[Math.cos(s)*I[6],Math.sin(s)*I[6],0,0,1,0],a=Math.abs(z.U*z.J+z.gp*z.x7)<1e-9,J=Math.abs(z.U*z.U+z.J*z.J-z.gp*z.gp-z.x7*z.x7)<1e-9,F=a&&J;
if(F||k){if(!F)console.log("non-orthonormal matrix for a radial gradient stroke");v.A.e(t,z,t);var h=t[4]-t[2],m=t[5]-t[3];
R=i.createRadialGradient(t[0],t[1],0,t[2],t[3],Math.sqrt(h*h+m*m))}else{R=i.createRadialGradient(t[0],t[1],0,0,0,1);
w=z}}for(var S=0;S<l.length;S++)R.addColorStop(l[S][0],c(l[S][1],l[S][2]));return[R,w]}}function B(r,x,Z,i,k){if(i==null)i=new dT;
var H=x.buffer,V=x.rect;if(k){var g=i.dV()*r.Q.O,N=0;while(1<<N/2<.5/g&&N+2<k.length)N+=2;H=k[N];V=k[N+1];
V=V.clone();V.x=V.y=0;var g=1<<N/2,C=new dT;C.scale(g,g);C.concat(i);i=C}if(V.Bb())return;var w=document.createElement("canvas");
w.width=V.m;w.height=V.i;var Y=w.getContext("2d");Y.putImageData(new ImageData(new Uint8ClampedArray(H.buffer),V.m,V.i),0,0);
Z.transform(i.U,i.J,i.gp,i.x7,i.IS,i.rk);Z.drawImage(w,V.x,V.y);i.QE();Z.transform(i.U,i.J,i.gp,i.x7,i.IS,i.rk)}}());
function eb(d){this.i5="psd";this.U8=!1;this.name=d;this._b=-1;this.PZ=!1;this.K3=null;this.Fk=null;
this.vK=null;this.hs=null;this.m=0;this.i=0;this.buffer=null;this.B=[];this.lw={};this.add={};this.Fw=[];
this.Ny={};this.W8=4;this.P3=null;this.tU=72;this.RO={};this.g=[];this.qx=[];this.ah=!1;this.nD=[];this.Xr=[];
this.GB=[eb.gy("Work Path")];this.DU=[];this.jh=null;this.qv={classID:"CompList",list:{t:"VlLs",v:[]}};
this.$k=[];this.eS=[];this.ZH=[];this.root=null;this.xf=null;this.O5=!1;this.aCz=!1;this.aiE=!1;this.ux=!1;
this.GX=!1;this.ps=!1;this.Pm=!1;this.Dy=!1;this.r7=!1;this.Xs=!1;this.$W=null;this.Qe=null;this.u=null;
this.iv=[];this.tv=[];this.N={_q:{},dk:[],Ve:[],Jv:[],Gl:[],ZS:[],fZ:null,vg:null,SM:null,AR:null,gV:null,Tc:null,rU:[],Te:[],my:null};
this.history=[new aw([1,0],null)];this.ST=0;this.d8=0;this.pY=0;this.Z3=0;this.Q=new dS(this);this.Ed=null;
this.dv=null}eb.prototype.uX=function(d){if(d){if(d.length==30240){this.uX(null);return}this.lw.r1039=d;
var W=ICC.R(d.buffer),B=null,r=17,i,k;if(W==null){this.uX(null);return}var c=W.header.spaceIn.toLowerCase(),y=JSON.stringify(W.tags.desc).toLowerCase();
try{B=ICC.U.profileName(W)}catch(jj){}if(c!="rgb "||B==null||y.indexOf("srgb")!=-1||c=="rgb "&&this.add.fcmy==1){this.uX(null);
return}console.log("We got an ICC profile!",W,B);try{var x=ICC.U.sampleLUT(W,r)}catch(jj){this.uX(null);
return}var Z=x.slice(0),H=v.R(4),V=v.k5("rgbToRgbC"),g=V[2],N=V[3];for(var S=0;S<x.length;S+=3){H[0]=x[S]*255;
H[1]=x[S+1]*255;H[2]=x[S+2]*255;ICC.U.applyLUT(N,g,H,H);Z[S]=H[0]/255;Z[S+1]=H[1]/255;Z[S+2]=H[2]/255}if(d1.ZV){i=new d1.ii(r,r*r);
i.set(ICC.U.lutToRGBA8(x,r));k=new d1.ii(r,r*r);k.set(ICC.U.lutToRGBA8(Z,r))}this.Ed=[d,W,r,x,i,Z,k]}else{delete this.lw.r1039;
this.Ed=null}};eb.prototype.iB=function(){return this.Ed};eb.prototype.ds=function(){if(this.Ed)return this.Ed;
if(this.add.fcmy==1){if(this.dv==null){var d=v.k5("rgbToRgbC"),W=d[2],c=d[3],y;if(d1.ZV){y=new d1.ii(W,W*W);
y.set(ICC.U.lutToRGBA8(c,W))}this.dv=[null,null,W,null,null,c,y]}return this.dv}};eb.prototype.akS=function(){var d=this;
if(d.Q.M.join("")!="111"){d.Q.M=[1,1,1];d.ps=!0}for(var S=0;S<d.B.length;S++){var W=d.B[S],c=W.add.vmsk;
if(W.pX()){var y=W.WI(d);if(y&&y.t&&y.t.xV){y.t.xV=!1;d.ps=!0}}var B=W.Q7();if(B&&B.xV){B.xV=!1;d.ps=!0}if(c){if(c.g.length!=0)c.g=[];
if(c.Hc.length!=0)c.Hc=[]}}};eb.prototype.us=function(){var d=this;return d.u!=null||d.Tz()[1].length!=0||d.g.length>1};
eb.prototype.B5=function(){var d=this.qx,W=[];for(var S=0;S<d.length;S++)W[S]=-1;var c=this.root.children;
for(var S=0;S<c.length;S++){var y=c[S],B=y.a.add.artb;if(B==null)continue;var r=B.guideIndeces;r=r?r.v:[];
for(var x=0;x<r.length;x++)W[r[x].v]=y.index}return[JSON.parse(JSON.stringify(d)),W]};eb.prototype.Pe=function(d){this.qx=JSON.parse(JSON.stringify(d[0]));
var W=d[1],c=this.root.children;for(var S=0;S<c.length;S++){var y=c[S],B=y.a.add.artb;if(B==null)continue;
B.guideIndeces={t:"VlLs",v:[]}}for(var S=0;S<W.length;S++)if(W[S]!=-1)this.B[W[S]].add.artb.guideIndeces.v.push({t:"long",v:S})};
eb.prototype.apo=function(d){var W=this;if(d[0])W.add.lnk2=d[0];else delete W.add.lnk2;if(d[1])W.add.FEid=d[1];
else delete W.add.FEid;if(d[2])W.add.Patt=d[2];else delete W.add.Patt};eb.prototype.auR=function(d){var W=this,c=[],y=[],B=[],C=null,w=null,Y=null;
for(var S=0;S<d.length;S++){var r=d[S];if(r.add.SoLd){c.push(r.add.SoLd.Idnt.v);y.push(r.add.SoLd.placed.v)}if(r.add.PtFl)B.push(r.add.PtFl.Ptrn.v.Idnt.v);
if(r.add.lmfx){for(var x=0;x<bV.Fb.length;x++){var Z=r.add.lmfx[bV.Fb[x]].v;for(var i=0;i<Z.length;i++)if(Z[i].v.Ptrn){var k=Z[i].v;
if(k.classID=="FrFX"&&k.PntT.v.FrFl!="Ptrn")continue;B.push(k.Ptrn.v.Idnt.v)}}}var H=r.add.vstk;if(H&&H.strokeStyleContent.v.classID=="patternLayer"){B.push(H.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var V=W.add.lnk2,g=W.add.FEid,N=W.add.Patt;
if(V){C=[];for(var S=0;S<V.length;S++)if(c.indexOf(V[S].QY)!=-1)C.push(V[S]);if(C.length==0)C=null}if(g){w=[];
for(var S=0;S<g.length;S++)if(y.indexOf(g[S].id)!=-1)w.push(g[S]);if(w.length==0)w=null}if(N){Y=[];for(var S=0;
S<N.length;S++)if(B.indexOf(N[S].id)!=-1)Y.push(N[S]);if(Y.length==0)Y=null}return[C,w,Y]};eb.prototype.Yt=function(d){var W=this,c=W.root.x$(d==null?W.g[0]:d),y=!1;
while(c.parent!=null){y=y||c.a.sx(31);c=c.parent}return y};eb.prototype.z6=function(){var d=this.iv,W=this.iv.length;
if(W!=0&&d[W-1].name=="Quick Mask")return d[W-1]};eb.prototype.LW=function(){return this.i5==dQ.Fu("% |/!)")||this.i5==dQ.QW("gP")};
eb.prototype.AF=function(d){var W=this.add.artd;if(d!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:d},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};eb.prototype.k8=function(d){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(d)==-1)this.add.FEid.push(d)};
eb.prototype.LK=function(d){var W=this.add.FEid.indexOf(d);this.add.FEid.splice(W,1);if(this.add.FEid.length==0)delete this.add.FEid};
eb.prototype.W=function(d){if(d==null)d=new a8(0,0,this.m,this.i);if(this.$W==null)this.$W=d;else this.$W=this.$W.hB(d)};
eb.prototype.abX=function(d){return this.$W!=null};eb.prototype.OE=function(d){var W=this.B[d],c=this.root.x$(d);
if(c==null)return!1;if(W.vS()||c.parent.children.indexOf(c)==0)return!1;return!0};eb.arv=function(d){if(d.add.lnk2)for(var S=0;
S<d.add.lnk2.length;S++){var W=d.add.lnk2[S].QY;d.add.lnk2[S].QY=eb.Oe()+W.slice(8);for(var c=0;c<d.B.length;
c++){var y=d.B[c].add.SoLd;if(y&&y.Idnt.v==W)y.Idnt.v=d.add.lnk2[S].QY}}};eb.prototype.ei=function(d,W,c){d.sort(function(V,g){return V-g});
var top=d[d.length-1],y=this.B.slice(0),B=this.g.slice(0),r=[],x=[];for(var S=0;S<this.B.length;S++){if(d.indexOf(S)!=-1)x.push(this.B[S]);
else r.push(this.B[S])}this.GO(x);this.g=[];var Z=this.root.yo(this,!0);if(W)Z=Z.nK(W);if(c)Z=Z.hB(c);
if(Z.Bb())Z=new a8(0,0,100,100);var i=new a8(-Z.x,-Z.y,this.m,this.i),k=new Uint8Array(fd.Ay("PSD").Cy(this,0,0,[!0,!1]));
this.GO(y);this.g=B;var H=new eb(this.B[top].getName());fd.Ay("PSD").Pd(k.buffer,H);delete H.add.artd;
H.nD=[];H.GO(H.B);H.Pe([[],[]]);eb.arv(H);X.JH.Zw(H,Z);H.W();H.pM();H.Li();return[H,Z,r,top]};eb.prototype.ati=function(d,W,c){var y=this.ei(d),B=y[0],r=y[1],x=y[2],top=y[3],Z;
if(c=="jpg")Z=new Uint8Array(fd.Ay("JPG").Cy([[B.Li().buffer]],B.m,B.i,[80]));else Z=new Uint8Array(fd.Ay("PSD").Cy(B,null,null,[!0,!1]));
if(W)x=this.B.slice(0);var i=this.GC(Z,B.name,r.x,r.y);if(top==this.B.length-1)x.push(i);else x.splice(W?top+1:top-d.length+1,0,i);
this.GO(x);this.g=[x.indexOf(i)]};eb.Oe=function(d){if(d==null)d="";var W="";while(W==""||W==d){W="";
for(var S=0;S<8;S++)W+=Math.floor(Math.random()*16).toString(16)}return W};eb.prototype.j9=function(d){if(d==null)return;
if(this.add.Patt==null)this.add.Patt=[];var W=this.add.Patt;for(var S=0;S<W.length;S++)if(W[S].id==d.id)return;
W.push(d)};eb.prototype.GC=function(d,W,c,y,B,r,x){if(this.add.lnk2==null)this.add.lnk2=[];var Z=null;
for(var S=0;S<this.add.lnk2.length;S++)if(v.zI(d,this.add.lnk2[S].raw)){Z=this.add.lnk2[S].QY;break}if(Z==null){var i=fd.$Z(d.buffer);
Z=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f";var k=new e8.Wh;k.QY=Z;k.CX=i=="psd"?"8BIM":"    ";k.Kh=W+"."+i;
k.pF=i=="psd"?"8BPB":"    ";k.open=0;k.raw=d;k.type="liFD";k.se=2;this.add.lnk2.push(k)}var H=this.Zg(Z,null,null,null,r,x),V=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f",g=this.jb(),N=H?H.Ma[1]:new a8;
g.AP(W);g.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:Z},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:V},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:v.lk.R(N)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:N.m},Hght:{t:"doub",v:N.i}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:H?H.tU:72}}};
var C=N.clone();if(c!=null)C.offset(c,y);if(H!=null&&B){var i=fd.$Z(d.buffer),w=B.x,Y=B.y,U=B.m,e=B.i;
C=H.Ma[1].clone();C.offset(w+c,Y+y);var O=O=this.tU/(i=="pdf"?144:H.tU?H.tU:this.tU);C.m=C.m*O;C.i=C.i*O;
var l=Math.max(C.m/U,C.i/e);if(l>1.0001){C.m=C.m/l;C.i=C.i/l}C.x=Math.round(w+(U-C.m)/2);C.y=Math.round(Y+(e-C.i)/2)}var I=v.A.z$(C).j;
g.add.SoLd.Trnf=X.X.oY(I);g.add.SoLd.nonAffineTransform=X.X.oY(I);if(H){if(B)g.Hg(this,!1);else if(be==0){g.rect=C;
g.buffer=H.Ma[0].slice(0)}}return g};eb.prototype.a7$=function(d,W,c){var y=v.td(d,W);y.save();y.scale(d/this.m,W/this.i);
this.root.ho(this,y,c,new a8(0,0,d,W));y.restore();return y.getImageData(0,0,d,W).data.buffer};eb.prototype.Li=function(d){if(d!=null){this.W();
this.pM(d);var W=this.buffer;if(d1.ZV)this.xf.get(W);else W=W.slice(0);this.W();this.pM();return W}if(this.$W){this.pM();
this.$W=null}if(d1.ZV&&this.Qe){this.xf.get(this.buffer);this.Qe=null;this.Pm=!0}return this.buffer};
eb.prototype.ayk=function(){for(var S=0;S<this.B.length;S++)this.B[S].aoE();this.W()};eb.prototype.a4E=function(){for(var S=0;
S<this.B.length;S++)if(this.B[S].add.lmfx)this.B[S].oR.Ot=!0};eb.prototype.Eu=function(){var d=this.lw.r1044;
if(d==null){d=this.lw.r1044=new Uint8Array(4);var W=0;for(var S=0;S<this.B.length;S++)W=Math.max(W,this.B[S].add.lyid);
K.Kz(d,0,W)}var c=K.q(d,0);K.Kz(d,0,c+1);return c+1};eb.prototype.YH=function(d,W,c){if(d==null)d=!0;
var y=this;if(y.tv.length!=0)return!0;if(y.g.length!=1){if(d)alert(y.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.kZ(d,W,c)};eb.prototype.kZ=function(d,W,c){if(d==null)d=!0;if(W==null)W=!1;var y=this;
if(y.tv.length!=0)return!0;for(var S=0;S<y.g.length;S++){var B=y.B[y.g[S]],r=W||B.MM<=0;if(B.add.lsct!=null&&B.add.lsct!=aG.Jf&&B.MM!=1){if(d)alert(ay.get([15,7,2]));
return!1}if(r&&!B.TT()){if(d)alert(ay.get([15,7,2]));return!1}if(r&&B.add.TySh){return this.a5y(d,[15,7,3],c)}if(r&&B.add.SoLd){return this.a5y(d,[15,7,4],c)}if(B.sx(1)||y.Yt(y.g[S])){if(d)alert(ay.get([6,57,0]));
return!1}}return!0};eb.prototype.a5y=function(d,W,c){if(d&&typeof d=="object"){var y=new bR(b.E.V);y.data={d:b.H.vB,vD:"confirm"};
y.data.b=ay.get(W)+". "+ay.get([6,8])+"?";var B=d;y.data.Ws=function(){var r=new bR(b.E.HQ,!0);r.data={cx:"rasterizeLayer",i9:{classID:"rasterizeLayer",null:hC.cV("Lyr",!0)}};
B.T(r)};d.T(y);return!1}if(d)alert(ay.get(W));return!1};eb.prototype.apY=function(d){var W=this.root.x$(d);
if(W.parent)return W.a.jF()&&this.apY(W.parent.index);else return W.a.jF()};eb.prototype.Vj=function(d){var W=this;
if(d){var c=0;for(var S=0;S<W.g.length;S++)if(W.B[W.g[S]].add.artb)c++;if(c>1)return-1}if(W.add.artd&&W.g.length!=0){var y=W.root.x$(W.g[0]);
while(y.parent.parent)y=y.parent;if(y.a.add.artb)return y.index}return-1};eb.prototype.z_=function(){var d=this.Vj();
if(d!=-1){var W=this.B[d].ZB();return new aL(W.x,W.y)}return new aL(0,0)};eb.prototype.aoW=function(){var d=this.B[this.g[0]];
if(d.MM<=0&&!d.rect.rC(this.u.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.u){var W=v.R(this.u.channel.length);
v.mE(d.buffer,d.rect,W,this.u.rect);v.iY(this.u.channel,W);if(v.uy(W,0)){alert("Selected area is empty.");
return!1}}return!0};eb.prototype.ws=function(){if(this.lw["r"+1037]==null)this.Ms(30);return K.OC(this.lw["r"+1037],0)};
eb.prototype.Ms=function(d){if(this.lw["r"+1037]==null)this.lw["r"+1037]=new Uint8Array(4);if(K.OC(this.lw["r"+1037],0)==d)return;
K.ie(this.lw["r"+1037],0,d);this.a4E()};eb.prototype.E6=function(){if(this.lw["r"+1049]==null)this.mj(30);
return K.OC(this.lw["r"+1049],0)};eb.prototype.mj=function(d){if(this.lw["r"+1049]==null)this.lw["r"+1049]=new Uint8Array(4);
if(K.OC(this.lw["r"+1049],0)==d)return;K.ie(this.lw["r"+1049],0,d);this.a4E()};eb.prototype.KQ=function(d){if(this.add.lnk2==null)return null;
for(var S=0;S<this.add.lnk2.length;S++)if(this.add.lnk2[S].QY==d)return this.add.lnk2[S];return null};
eb.prototype.a67=function(d){var W=this.KQ(d);if(W==null)return!1;var c=fd.$Z(W.raw.buffer);if(c==null)return!1;
if(fd.Ay(c)!=null||c=="psd")return!0;return!1};eb.prototype.Zg=function(d,W,c,y,B,r){var x=this.KQ(d);
if(x==null)return null;x.Li(W,c,y,B,r);if(x.Ma)return x};eb.prototype.al1=function(){var d=this.m,W=this.i;
if(d1.ZV&&this.xf==null)this.xf=new d1.ii(d,W,!0);if(this.buffer==null||this.buffer.length!=d*W*4||d1.ZV&&(this.xf.m!=d||this.xf.i!=W)){this.buffer=v.R(d*W*4);
if(this.xf)this.xf.delete();if(d1.ZV)this.xf=new d1.ii(d,W,!0)}};eb.prototype.ant=function(){this.al1();
if(d1.ZV){this.xf.set(this.buffer)}};eb.prototype.pM=function(d){if(be!=0)throw"redrawing in vector mode";
var W=this.m,c=this.i,y=new a8(0,0,W,c),B=this.PZ?y:y.nK(this.$W);this.al1();if(B.Bb())return;if(!B.zI(y)){if(!d1.ZV){var r=v.bL(B.P()*4);
v.qR(r,B,this.buffer,y)}if(d1.ZV){d1.QO(this.xf,B);d1.S9(0)}}else{if(d1.ZV){this.xf.set(null)}else{this.buffer.fill(0)}}var x=Date.now(),Z=d1.ZV?this.xf:this.buffer;
if(d==null)d=1e9;var i=this.root.children;for(var S=0;S<i.length;S++){var k=i[S].a;if(k.jF()&&k.add.artb&&this.add.artd){var H=k.ZB(),V=B.nK(H),g=k.OM();
if(g!=0){if(d1.ZV){d1.QO(Z,V);d1.S9(g);d1.S9(g)}else v.air(Z,y,V,g)}}}this.root.OV(Z,y,B,this,[],d);
this.Qe=this.$W.clone()};eb.prototype.jb=function(d){var W=new e8;W.rect=new a8(0,0,0,0);W.buffer=v.R(1);
W.add.luni=new aL(0,0);if(d!=!0)W.add.lyid=this.Eu();W.add.lsct=aG.Jf;W.add.lclr=0;W.add.fxrp=new aL(0,0);
return W};eb.prototype.b7=function(d){var W=this.jb(d);W.AP("</Layer group>");W.add.lsct=aG.Ni;W.xy=24;
return W};eb.prototype.l3=function(){return this.ST!=this.d8};eb.prototype.hZ=function(d){while(this.history.length>this.ST+1)this.history.pop();
if(this.d8>this.ST)this.d8=-1;if(d.f.id!=X.mw){this.ux=!0;if(this.qv.lastAppliedComp){delete this.qv.lastAppliedComp;
this.Pm=!0}}this.history.push(d);this.ST++;this.Pm=!0;var W=jj.Xf()?60:30,c=0;for(var S=this.history.length-1;
S>=0;S--){var y=this.history[S];if(y.G7)continue;c++;if(c==W){this.ST-=S;this.history=this.history.slice(S);
break}}};eb.prototype.TP=function(){if(this.ST!=this.history.length-1)return null;return this.history[this.history.length-1]};
eb.prototype.ys=function(d,W,c,y){if(d==null)d=!1;var B=W!=null?[W]:this.g.slice(0);if(y){var r=[];for(var S=0;
S<B.length;S++){var x=this.B[B[S]],Z=x.ks;if(x.EP&&Z!=0&&r.indexOf(Z)==-1)r.push(Z)}if(r.length!=0)for(var S=0;
S<this.B.length;S++){var x=this.B[S],Z=x.ks;if(x.EP&&Z!=0&&r.indexOf(Z)!=-1&&B.indexOf(S)==-1)B.push(S)}}var i=[];
for(var S=0;S<B.length;S++){var k=this._3(B[S],d);for(var H=0;H<k.length;H++)if(i.indexOf(k[H])==-1)i.push(k[H]);
if(c){var bd=this.root.x$(B[S]);while(bd.parent!=null&&bd.parent.parent!=null){bd=bd.parent;if(i.indexOf(bd.index)==-1){i.push(bd.index,bd.pu)}}}}return i};
eb.prototype.GR=function(d,W,c){var y=this,B=y.ys(!1,d,null,c);B.sort(function(O,l){return O-l});var r={};
for(var x=0;x<y.B.length;x++){var Z=y.B[x].getName();r[Z]=!0}var i=[];for(var S=0;S<B.length;S++){var k=y.B[B[S]].clone(),Y,U;
k.add.lyid=y.Eu();k.add.lspf=0;if(k.pX()){var H=k.WI(y),V=eb.aw9(H);y.k8(V);k.add.SoLd.placed.v=V.id}else if(k.add.SoLd){var g=k.add.SoLd.placed.v;
k.add.SoLd.placed.v=eb.Oe(g.slice(0,8))+g.slice(8)}k.Ys(y);var N=k.getName(),C=N.length;while(48<=N.charCodeAt(C-1)&&N.charCodeAt(C-1)<=57)C--;
var w=parseInt(N.slice(C));if(isNaN(w)){if(N.endsWith(" copy")){w=1;Y=N.slice(0,N.length-5)}else{w=0;
Y=N}}else if(N.slice(0,C).endsWith(" copy ")){w=w;Y=N.slice(0,C-6)}else{w=0;Y=N}w++;while(!0){U=Y+" copy"+(w==1?"":" "+w);
if(r[U]==null)break;w++}var e=B.indexOf(this.root.x$(B[S]).parent.index)!=-1;if(N=="Background"&&y.B.length==1)U="Layer 1";
if(W!=!0&&!e)k.AP(U);r[U]=!0;i.push(k)}return i};eb.aw9=function(d){return{id:eb.Oe(d.id.slice(0,8))+d.id.slice(8),buffer:d.buffer.slice(0),rect:d.rect.clone(),t:d.t?d.t.clone():null}};
eb.azu=function(d){return{id:d,rect:new a8,buffer:v.R(1),t:new e8.JO}};eb.gy=function(d,W){if(W==null)W={vmsk:new e8.vw};
if(W.vogk==null){W.vogk=[];var c=v.o.mQ(W.vmsk.Y);for(var y=0;y<c;y++)W.vogk.push(v.dr.bL())}return{name:d,Wr:0,add:W}};
eb.prototype.Tz=function(d){var W=[],c=[],y=this;for(var S=1;S<y.GB.length;S++){var B=y.GB[S];B.Wr=-1-S;
W.push(B);if(y.DU.indexOf(S)!=-1)c.push(W.length-1)}if(y.GB[0].add.vmsk.Y.length>2){var B=y.GB[0];B.Wr=-1;
W.push(B);if(y.DU.indexOf(0)!=-1)c.push(W.length-1)}var r=y.jh==null;if(r)y.jh=[];for(var S=y.g.length-1;
S>=0;S--){var x=y.g[S],Z=y.B[x],i=Z.add.TySh;if(Z.add.vmsk!=null){var B=eb.gy("\""+Z.getName()+"\" Shape Path",Z.add);
B.Wr=x;W.push(B);if(r&&(Z.lO||Z.sI()))y.jh.push(x);if(y.jh.indexOf(x)!=-1)c.push(W.length-1)}if(d!=!0&&i&&i.add&&v.lk.uP(i.uI)){var B=eb.gy("\""+Z.getName().slice(0,10)+"..\" Text Path",i.add);
B.Wr=1e6+y.g[S];W.push(B);c.push(W.length-1)}}if(c.length==0&&d){y.GB[0].Wr=-1;y.DU=[0];c.push(W.length);
W.push(y.GB[0])}return[W,c]};eb.prototype._3=function(S,d){var W=[],bd=this.root.x$(S);if(bd)bd.O0(W,d);
return W};eb.prototype.L0=function(){this.root.pL(this,new a8(0,0,this.m,this.i))};eb.prototype.GO=function(d){for(var S=0;
S<this.B.length;S++){var W=this.B[S];if(d.indexOf(W)==-1){W.oR.aAl();W.W()}}var c=0;for(var S=0;S<d.length;
S++)if(d[S].add.artb)c++;this.AF(c);this.B=d.slice(0);this.zv()};eb.prototype.zv=function(){var d=this.B,W=d.length;
this.root=new cl;var c=this.jb(!0);c.E9="pass";c.add.lsct=aG.ED;c.AP("");var y=this.b7(!0),B=[y];for(var S=0;
S<W;S++)B.push(d[S]);B.push(c);this.root.ak2(B,0,0);if(this.g.length==0)this.g=[W-1]};eb.prototype.yz=function(){if(this.g.length!=1)return;
var d=this.root.x$(this.g[0]);while(d.parent!=null){var W=d.parent.a;W.add.lsct=aG.ED;d=d.parent}this.ps=this.anU=!0};
eb.prototype.auZ=function(){this.zv();var d=[this.root],i$=0;while(d.length!=0){var top=d.pop();i$++;
if(top.a.add.lsct==aG.ED)for(var S=0;S<top.children.length;S++)d.push(top.children[S])}if(i$>1e3){var W=this.root.children;
for(var S=0;S<W.length;S++)if(W[S].a.add.lsct==aG.ED)W[S].a.add.lsct=aG.tV}};eb.qW=function(d,W,c,y,B,r,x,Z){if(Z==null)Z="sRGB IEC61966-2.1";
var i={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:y},artboard:{t:"bool",v:r},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:d*72/c}},Hght:{t:"UntF",v:{type:"#Rlt",val:W*72/c}},Rslt:{t:"UntF",v:{type:"#Rsl",val:c}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:B}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:Z}}}};
if(B=="Clr")i.Nw.v.FlCl={t:"Objc",v:x};return{cx:"make",i9:i}};eb.a2Q=function(d,W){var c=0,y=0,B=72,r=W.aAK,x=d.preset&&d.preset.v=="Clipboard";
if(x){c=r.m;y=r.i}else{c=d.Wdth.v.val;y=d.Hght.v.val;B=d.Rslt.v.val;c=Math.round(c*B/72);y=Math.round(y*B/72)}var Z=new eb((d.Nm?d.Nm.v:ay.get([11,7]))+".psd");
Z.m=c;Z.i=y;Z.tU=B;var i=d.Fl?d.Fl.v.Fl:"Wht";if(d.artboard&&d.artboard.v){var k=Z.jb();k.AP(ay.get([1,16,0])+" 1");
k.add.lsct=aG.ED;k.Nn(new a8(0,0,c,y));k.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[i]};
if(i=="Clr")k.add.artb.Clr={t:"Objc",v:v.L.FV(v.L.E5(d.FlCl.v))};k.E9="pass";k.xy=24;var H=Z.jb();H.AP("Layer 1");
Z.GO([Z.b7(),H,k]);Z.AF(1);Z.g=[1]}else{var V=Z.jb(),g=0;V.AP("Background");Z.GO([V]);V.add.lspf=1<<2;
if(i=="Clr"){g=v.L.E5(d.FlCl.v);g=255<<24|Math.round(g.J)<<16|Math.round(g.G)<<8|Math.round(g.Z)}else{var N=W.qX;
N=(N&255)<<16|(N>>>8&255)<<8|N>>>16;g={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|N}[i]}V.rect=new a8(0,0,c,y);
V.buffer=v.R(c*y*4);v.ft(V.buffer,g)}Z.buffer=v.R(c*y*4);var C=d.profile;if(C){var w={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[C.v];
if(w)Z.uX(fd.bj.get(w))}return Z};eb.prototype.amH=function(){var d=this,W=d.add.arts=[];if(d.add.artd){delete d.add.artd;
for(var S=0;S<d.B.length;S++){var c=d.B[S],y=c.add.artb;if(y==null)continue;var B=c.ZB();delete c.add.artb;
W.push({_S:c.getName(),ur:[B.x,B.y,B.x+B.m,B.y+B.i],g:!1})}}else W.push({_S:"Artboard",ur:[0,0,d.m,d.i],g:!1});
if(d.buffer)d.buffer=null;for(var S=0;S<d.B.length;S++){var c=d.B[S],B=c.rect;if(c.vS()&&c.add.vmsk){var r=d.jb();
d.B.splice(S,0,r);r.AP("<Clipping Path>");r.A1=!0;r.add.vogk=c.add.vogk;delete c.add.vogk;r.add.vmsk=c.add.vmsk;
delete c.add.vmsk;r.add.vstk=bV._M.qw();r.add.SoCo=JSON.parse(bV._R[bV.order.indexOf("SoFi")]);r.add.vstl={};
console.log("mask here!")}else if(c.sI()&&c.add.vstl==null){var x=c.add.vstl=eb.arK(c.add)}if(c.add.SoLd||c.add.TySh||c.add.vmsk||B.Bb())continue;
var Z=B.m,i=B.i,k=v.u2(c.buffer,Z,i)?"JPG":"PNG";if(Z*i<700*700)k="PNG";var H=fd.Ay(k).Cy([[c.buffer.buffer]],Z,i);
d.B[S]=d.GC(new Uint8Array(H),"<Image>",0,0)}};eb.arK=function(d){var W=bV._M.jS(d.vstk),c=bV.xI(d),y=bV.x2(d.vstk);
for(var B=0;B<2;B++){var r=B==0?c:y,x=null;if(r.pF==1)x=aS.TC(r.ue.Clr.v);if(r.pF==2){x=bW.va(r.ue,v.o.wV(d.vmsk.Y));
if(d._fstl)x=d._fstl}if(B==0)W.A_=x;else W.n8=x}return W};function dS(d){this.Ig=d;this.O=0;this.cv=1;
this.z=new aL(0,0);this.RE=new aL(0,0);this.Pk=0;this.M=[1,1,1];this.g8=0;this.nW=new a8(0,0,1,1);this.anD=new a8(0,0,d.m,d.i);
this.iX=null;this.ET=null;this.V2=new Uint32Array(0);this.N9=null;this.UG=null;this.nf=v.R(0);this.OS=null;
this.IP=null}dS.prototype.Yo=function(d){var W=new dT,c=this.nW,y=this.Ig,B=d?this.cv:this.O,r=d?this.RE:this.z,x=Math.round((c.m-y.m*B)/2+r.x),Z=Math.round((c.i-y.i*B)/2+r.y);
W.translate(-x,-Z);W.scale(1/B,1/B);var i=y.m/2,k=y.i/2;W.translate(-i,-k);W.rotate(this.Pk);W.translate(i,k);
return W};dS.prototype.ajd=function(d){var W=this.nW,c=this.Ig,y=Math.atan2(-d.J,d.U),B=c.m/2,r=c.i/2;
d.translate(-B,-r);d.rotate(-y);d.translate(B,r);var x=1/d.dV();d.scale(x,x);var Z=-d.IS,i=-d.rk,k=Math.round(Z-(W.m-c.m*x)/2),H=Math.round(i-(W.i-c.i*x)/2);
if(Math.abs(x-Math.round(x))<1e-6)x=Math.round(x);this.Pk=y;this.O=x;this.z=new aL(k,H)};dS.prototype.q9=function(d,W,c){var y=this.Yo(),B=y.iC(new aL(d,W));
if(c){B.x=Math.round(B.x);B.y=Math.round(B.y)}return B};dS.prototype.Yd=function(d,W){var c=this.Yo();
c.QE();return c.iC(new aL(d,W))};function bV(){}bV.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
bV.Fb="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
bV.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];bV.aus=["DrSh","IrSh","SoFi","GrFl","FrFX"];
bV.Ak=["Clr"];bV.n1="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");bV.DX=["Ptrn","Angl","Scl","Algn","phase"];
bV.We={CV:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",ahf:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",akv:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",a9K:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",pf:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
bV.We.CV="\"Clr\": "+bV.We.CV;bV.We.L="\"Grad\":"+bV.We.ahf+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
bV.We.pf="\"Ptrn\":"+bV.We.pf+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
bV.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
bV._R=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+bV.We.CV+","+bV.We.L+","+bV.We.pf+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+bV.We.CV+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+bV.We.L+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+bV.We.pf+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
bV.L={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
bV.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],tT:["SClr","GrFl","Ptrn"],a55:[[13,0],[12,37],[12,62]]};
bV.SU={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],axf:["SrcC","SrcE"],auf:[[19,5,1],[12,69]]};bV.X9={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],aqI:["SfBL","PrBL","Slmt"],a4x:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
bV._M={Lw:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],IC:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],sy:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+bV.We.CV+"}")},strokeStyleResolution:{t:"doub",v:72}},qw:function(d,W){var c=JSON.parse(bV._M.acP);
if(d)c.fillEnabled.v=!0;if(W)c.strokeEnabled.v=!0;return c},jS:function(d,W,c){if(W==null)W={};if(c==null)c=1;
var y=d.strokeStyleLineDashSet.v,B=W.jW=d.strokeStyleLineWidth.v.val*c;W.dL=d.strokeStyleMiterLimit.v;
W.wW=d.strokeStyleLineDashOffset.v.val;W.T1=bV._M.join.indexOf(d.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
W.jf=bV._M.Lw.indexOf(d.strokeStyleLineCapType.v.strokeStyleLineCapType);W.b3=bV._M.IC.indexOf(d.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
W.Pn=[];for(var S=0;S<y.length;S++)W.Pn.push(y[S].v.val*B);if(W.Pn.length==1&&W.Pn[0]==0)W.Pn=[];return W},write:function(d,W,c){if(c==null)c=1;
var y=W.jW,B=W.dL,r=W.Pn,x=W.wW,Z=W.T1,i=W.jf;if(y!=null)y=d.strokeStyleLineWidth.v.val=Math.max(.4,y*c);
else y=d.strokeStyleLineWidth.v.val;if(B!=null)d.strokeStyleMiterLimit.v=B;if(r!=null)d.strokeStyleLineDashSet.v=eV.pa(r,c/y);
if(x!=null)d.strokeStyleLineDashOffset.v.val=x;if(Z!=null)d.strokeStyleLineJoinType.v.strokeStyleLineJoinType=bV._M.join[Z];
if(i!=null)d.strokeStyleLineCapType.v.strokeStyleLineCapType=bV._M.Lw[i]}};bV._M.acP=JSON.stringify(bV._M.default);
bV.az={qw:function(){return{A_:[1,1,1],n8:[0,0,0],jW:1,dL:0,Pn:[],wW:0,T1:0,jf:0,b3:1}}};bV.x2=function(d){var W=d.strokeEnabled.v,c=d.strokeStyleContent.v;
return W?{pF:1+bV._M.sy.indexOf(c.classID),ue:c}:{pF:0}};bV.J4=function(d,W){var c=W.pF;d.strokeEnabled.v=c!=0;
if(c!=0){d.strokeStyleContent.v=W.ue;W.ue.classID=bV._M.sy[c-1]}};bV.xI=function(d){var W=d.vstk,c=null;
if(W&&!W.fillEnabled.v)c={pF:0};else if(d.SoCo)c={pF:1,ue:d.SoCo};else if(d.GdFl)c={pF:2,ue:d.GdFl};
else if(d.PtFl)c={pF:3,ue:d.PtFl};return c};bV.D4=function(d,W){var c=d.vmsk,y=d.vstk,B=W.pF;if(y)y.fillEnabled.v=B!=0;
if(B>0){var r=["SoCo","GdFl","PtFl"][B-1];for(var S=0;S<3;S++)delete d[["SoCo","GdFl","PtFl"][S]];d[r]=W.ue}};
bV.vn=[{classID:"null",Clr:JSON.parse(bV._R[5]).Clr},{classID:"null",Grad:JSON.parse(bV._R[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(bV._R[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var eV={};eV.MH=function(d,W){function c(d,g){if(d==null||!d.masterFXSwitch.v)return null;var N=d[g].v,C;
if(N.length!=0){C=N[0].v;if(!C.enab.v)C=null}return C}var y=W.SoCo,B=W.GdFl,r=c(d,"solidFillMulti"),x=c(d,"gradientFillMulti");
if(r==null&&x==null)return[y,B];var Z=eV.a42;if(y&&r&&x==null){var i=JSON.parse(JSON.stringify(y));i.Clr.v=Z(r.Clr.v,y.Clr.v,r);
return[i,null]}if(B&&r&&x==null){var k=JSON.parse(JSON.stringify(B)),H=k.Grad.v.Clrs.v;for(var S=0;S<H.length;
S++){var V=H[S].v.Clr;V.v=Z(r.Clr.v,V.v,r)}return[null,k]}if(y&&x){var k=JSON.parse(JSON.stringify(x)),H=k.Grad.v.Clrs.v;
for(var S=0;S<H.length;S++){var V=H[S].v.Clr;V.v=Z(V.v,y.Clr.v,x)}return[null,k]}return[r,x]};eV.mx={on:v.R(4),OF:v.R(4),Z:new a8(0,0,1,1)};
eV.a42=function(d,W,c){var y=dB.Aa(c.Md.v.BlnM),B=c.Opct.v.val/100,r=eV.mx;d=v.L.E5(d);W=v.L.E5(W);r.on[0]=d.Z;
r.on[1]=d.G;r.on[2]=d.J;r.on[3]=255;r.OF[0]=W.Z;r.OF[1]=W.G;r.OF[2]=W.J;r.OF[3]=255;v.l.Ip(y,r.on,r.Z,r.OF,r.Z,r.Z,B);
return{classID:"RGBC",Rd:{t:"doub",v:r.OF[0]},Grn:{t:"doub",v:r.OF[1]},Bl:{t:"doub",v:r.OF[2]}}};eV.a04=function(d,W,c){var y=d;
d=d.slice(0);var B=dB.s0[dB.CL.indexOf(W.Md.v.BlnM)],r=v.L.E5(W.Clr.v),x=4278190080|Math.round(r.J)<<16|Math.round(r.G)<<8|Math.round(r.Z),Z=v.R(c.P()*4);
v.ft(Z,x);v.l.Ip(B,Z,c,d,c,c,W.Opct.v.val/100);for(var S=0;S<d.length;S+=4)d[S+3]=y[S+3];return d};eV.TU=function(d,W){var c=["Sz","blur","Sftn","Dstn"];
for(var S=0;S<bV.order.length;S++){var y=bV.order[S],B=d[bV.Fb[S]].v;for(var r=0;r<B.length;r++){var x=B[r].v;
for(var Z=0;Z<c.length;Z++){var i=x[c[Z]];if(i){var k=i.v.val,H=k;H=Math.max(k==0?0:1,H*W);if(y=="ChFX")H=Math.min(H,250);
if(y=="ebbl"){if(c[Z]=="blur")H=Math.min(H,250);if(c[Z]=="Sftn")H=Math.min(H,16)}i.v.val=Math.round(H)}}if(y=="ebbl"||y=="patternFill"||y=="FrFX")if(x.Ptrn&&x.Scl)x.Scl.v.val=Math.max(1,Math.min(1e3,x.Scl.v.val*W))}}};
eV.a7o=function(d,W,c){var y=new a8(-.5,-.5,1,1);for(var S=0;S<bV.order.length;S++){var B=bV.order[S],r=d[bV.Fb[S]].v;
for(var x=0;x<r.length;x++){var Z=r[x].v,V;if(!Z.enab.v)continue;var i=Z.blur?Z.blur.v.val+1:0,k=Z.Ckmt?Z.Ckmt.v.val/100:0,H=Math.round(i*k);
if(B=="DrSh"||B=="IrSh"&&c){V=new a8(-.5,-.5,1,1);V.Lx(i,i);eV.rn(V,Z,W,0)}if(B=="St3D"){V=new a8(-.5,-.5,1,1);
eV.rn(V,Z,W,Math.PI,"Angl")}if(B=="OrGl"||B=="IrGl"&&c){V=new a8(-.5,-.5,1,1);V.Lx(i,i)}if(B=="FrFX"){var g=eV.Uf(Z),N=g[1];
if(c)N=Math.max(g[0],N);V=new a8(-.5,-.5,1,1);V.Lx(Math.ceil(N),Math.ceil(N))}if(B=="ebbl"){var i=Z.blur.v.val,C=Z.bvlS.v.BESl;
if(C=="Embs"||C=="PlEb")i/=2;var w=["OtrB","InrB","Embs","PlEb","strokeEmboss"],Y=["SfBL","PrBL","Slmt"],U=["In","Out"],e=Z.bvlT.v.bvlT!="SfBL"?i:i*.43,O=Math.round(i);
V=new a8(-O-1,-O-1,2*O+2,2*O+2)}if(c&&B=="ChFX"){V=new a8(-.5,-.5,1,1);V.Lx(i,i);var l=V.clone();eV.rn(V,Z,W,0);
eV.rn(l,Z,W,Math.PI);V=V.hB(l)}if(V)y=y.hB(V)}}if(y.x!=Math.ceil(y.x)){y.x=Math.ceil(y.x);y.m-=1}if(y.y!=Math.ceil(y.y)){y.y=Math.ceil(y.y);
y.i-=1}y.m=Math.floor(y.m);y.i=Math.floor(y.i);return y};eV.Uf=function(d){var W,c,y=0,B=0;if(d.Sz){W=d.Sz.v.val;
c=bV.stroke.types.indexOf(d.Styl.v.FStl)}else{W=d.Wdth.v;c=["Insd","Cntr","Otsd"].indexOf(d.Lctn.v.StrL)}if(c==0)y=W;
if(c==1)y=B=W/2;if(c==2)B=W;return[y,B]};eV.a0K=function(d){if(d1.ZV&&d.Jn==null){d.Jn=new d1.ii(d.jI.m,d.jI.i);
d.Jn.set(d.Gq);delete d.Gq;if(d.wU){d.ow=new d1.S2(d.jI.m,d.jI.i);d.ow.set(d.wU);delete d.wU}if(d.cD){d.EZ=new d1.S2(d.jI.m,d.jI.i);
d.EZ.set(d.cD);delete d.cD}}};eV.aqX=function(d){if(d.Jn)d.Jn.delete();if(d.ow)d.ow.delete();if(d.EZ)d.EZ.delete()};
eV.aB0=function(d){if(d.all==null)return;for(var S=0;S<d.all.length;S++){eV.aqX(d.all[S])}};eV.aku=function(d,W,c,y,B,r){var x=eV.sb(c,y,d,W,B,r);
for(var S=0;S<x.all.length;S++)eV.a0K(x.all[S]);return x};eV.auA=function(d){for(var S=0;S<bV.order.length;
S++){var W=bV.order[S],c=bV.Fb[S],y=d[c].v;for(var B=0;B<y.length;B++){var r=y[B].v;if(r.enab.v&&["patternFill","GrFl","SoFi"].indexOf(W)==-1)return!0}}return!1};
eV.sb=function(d,W,c,y,B,r){if(r==null)r=y;var x=0,Z=0;for(var S=0;S<bV.order.length;S++){var i=bV.order[S],k=bV.Fb[S],H=d[k].v;
for(var V=0;V<H.length;V++){var g=H[V].v;if(i=="DrSh"&&g.enab.v&&g.Ckmt.v.val>0&&g.blur.v.val>0)x=Math.max(x,Math.ceil(g.Ckmt.v.val*g.blur.v.val/100));
if(i=="OrGl"&&g.enab.v&&g.Ckmt.v.val>0&&g.blur.v.val>0&&g.GlwT.v.BETE=="SfBL")x=Math.max(x,Math.ceil(g.Ckmt.v.val*g.blur.v.val/100));
if(i=="OrGl"&&g.enab.v&&g.blur.v.val>0&&g.GlwT.v.BETE=="PrBL")x=Math.max(x,g.blur.v.val);if(i=="FrFX"&&g.enab.v&&g.Sz.v.val>0){if(g.Styl.v.FStl=="OutF")x=Math.max(x,g.Sz.v.val);
if(g.Styl.v.FStl=="CtrF")x=Math.max(x,Math.ceil(g.Sz.v.val/2));Z=Math.max(Z,eV.Uf(g)[1])}}}var N=new eV.wm(c,y,x,eV.auA(d)),C=-y.x,w=-y.y,Y={type:{},all:[]};
for(var U=0;U<bV.order.length;U++){var i=bV.order[U],k=bV.Fb[U];Y.type[i]=[];for(var e=d[k].v.length-1;
e>=0;e--){var O=d[k].v[e].v,z;if(!O.enab.v)continue;var l=O.blur?O.blur.v.val:0,I=O.Ckmt?O.Ckmt.v.val/100:0,s=l*I;
if(i=="St3D"){var R=Math.max(1e-4,1-O.Srnk.v.val/100),m=2,ao=0;function t(a,bK,O){var fO=O.Angl.v.val;
fO*=Math.PI/180;var E=O.Dstn.v.val,c2=Math.cos(fO)*E,eH=-Math.sin(fO)*E,ea=R+bK*(1-R),hn=new dT;hn.translate(-a.m/2,-a.i/2);
hn.scale(ea,ea);hn.translate(a.m/2,a.i/2);hn.translate((1-bK)*c2,(1-bK)*eH);return hn}var a=y.clone(),J=c;
a.x=a.y=0;var F=Date.now(),h=a.clone();h.Lx(m,m);var D=v.R(h.P());v.ZW(J,a,D,h);h.x=h.y=0;v.yG.GH(D,D,h,2);
var _=v.R(h.P()*4);_.fill(255);v.ta(D,_);var n=v.R(a.P()),j=a.m,T=a.i,L=h.m,p=eV.akf(O,B),E=Math.cos(p[1]),G=-Math.cos(p[0])*E,A=Math.sin(p[0])*E;
if(Math.abs(G)<.001&&Math.abs(A)<.001)G=A=0;for(var u=0;u<T;u++)for(var q=0;q<j;q++){var S=(u+m)*L+q+m,o=D[S+1]-D[S-1],M=D[S+L]-D[S-L],$=o*o+M*M;
if($>10){var Q=1/Math.sqrt($);n[u*j+q]=Math.max(0,Math.min(255,128+127*(G*Q*o+A*Q*M)))}}var kF=[J,a],P=t(a,0,O),bM=v.A.z$(a).j,jW=bM.slice(0);
v.A.e(bM,P,jW);var fX=a.hB(v.A.xG(jW)),bX=v.R(fX.P()*4);for(var S=0;S<8;S+=2){var o=bM[S]-jW[S],M=bM[S+1]-jW[S+1];
ao=Math.max(ao,Math.sqrt(o*o+M*M))}var en=Math.round(ao/2),fK=v.L.E5(O.Clr.v);fK.Z/=255;fK.G/=255;fK.J/=255;
var bO=O.Drkn.v.val/100;for(var b9=0;b9<en;b9++){var bK=b9/en,f0=1-bO+bK*bO,hn=t(a,bK,O),hX=a.clone(),gR=J;
if(R!=1){var ib=X.X.o3(kF,hn);hX=ib.rect;gR=ib.channel}else{var gU=hn.iC(new aL(0,0));hX.x+=Math.round(gU.x);
hX.y+=Math.round(gU.y)}var hq=v.R(hX.P()*4);if(G!=0||A!=0){var ip=hX.m,aW=hX.i,kN=fK.Z,hW=fK.G,jH=fK.J,g0=hn.clone();
g0.QE();var gC=g0.iC(new aL(.5,.5)),jL=g0.iC(new aL(1.5,1.5)),o=jL.x-gC.x,M=jL.y-gC.y;for(var u=0;u<aW;
u++){for(var q=0;q<ip;q++){var S=u*ip+q,jf=S*4,cm=Math.max(0,Math.min(j-1,~~(.5+o*q))),eh=Math.max(0,Math.min(T-1,~~(.5+M*u))),bu=n[eh*j+cm],eJ=-1+2*bu*(1/255),eZ=-eJ,a0=0;
if(eJ>0){eZ=0;a0=eJ}hq[jf]=255*(1-eZ)*(a0+(1-a0)*kN)*f0;hq[jf+1]=255*(1-eZ)*(a0+(1-a0)*hW)*f0;hq[jf+2]=255*(1-eZ)*(a0+(1-a0)*jH)*f0}}}else eV.uE(hq,O.Clr.v,null,f0);
v.nP(gR,hq,3);v.l.Ip("norm",hq,hX,bX,fX,hX,1)}z={Gq:bX,jI:fX}}else if(i=="DrSh"){var gZ=N.ZZ(s,l-s,!0),bt=gZ.jE,dp=gZ.qe.clone();
eV.O8(bt,O,!1);if(O.Cntn&&O.Cntn.v){var gb=new a8;eV.rn(gb,O,B,0);var e_=dp.clone();e_.offset(-gb.x,-gb.y);
e_=e_.hB(dp);var dO=v.R(e_.P());v.ZW(bt,dp,dO,e_);var dC=Math.sqrt(gb.x*gb.x+gb.y*gb.y),kc=bt.slice(0);
for(var S=0;S<dC-1;S++){var o=Math.round(-gb.x*S/dC),M=Math.round(-gb.y*S/dC),ia=gZ.qe.clone();ia.offset(o,M);
v.akJ(kc,ia,dO,e_)}bt=dO;dp=e_}dp.offset(C,w);eV.rn(dp,O,B,0);var bX=v.R(dp.P()*4);eV.uE(bX,O.Clr.v);
v.nP(bt,bX,3);z={Gq:bX,jI:dp,alE:O.layerConceals.v}}else if(i=="IrSh"){var gZ=N.ZZ(s,l-s,!1);eV.rn(gZ.qe,O,B,0);
var dp=N.rect().clone(),bt=v.R(dp.P());bt.fill(255);v.ZW(gZ.jE,gZ.qe,bt,dp);eV.O8(bt,O,!0,!0);var bX=v.R(dp.P()*4);
eV.uE(bX,O.Clr.v);v.nP(bt,bX,3);dp.offset(C,w);z={Gq:bX,jI:dp}}else if(i=="GrFl"){var bX=v.R(N.rect().P()*4);
eV.lQ(O,bX,N.rect(),B,null,r);var dp=N.rect().clone();dp.offset(C,w);z={Gq:bX,jI:dp}}else if(i=="SoFi"){var bX=v.R(N.jE().length*4);
eV.uE(bX,O.Clr.v);var dp=N.rect().clone();dp.offset(C,w);z={Gq:bX,jI:dp}}else if(i=="ebbl"){var hO=!1;
if(hO)console.log(O);var F=Date.now(),cj=F,bA=O.bvlS.v.BESl;if(bA=="strokeEmboss"){var bg=d.frameFXMulti.v;
if(bg.length==0)continue;bg=bg[0].v;if(!bg.enab.v)continue;var cX=bg.Styl.v.FStl;if(cX=="OutF")bA="OtrB";
if(cX=="CtrF")bA="Embs";if(cX=="InsF")bA="InrB"}var l=O.blur.v.val;if(l==0)l=.7;if(bA=="Embs"||bA=="PlEb")l/=2;
var i4=["OtrB","InrB","Embs","PlEb","strokeEmboss"],fJ=["SfBL","PrBL","Slmt"],iu=["In","Out"],hV=O.bvlT.v.bvlT!="SfBL"?l:l*.45,f$=Math.round(l),kg=N.rect().clone(),jy=kg.clone();
jy.Lx(f$,f$);var j=jy.m,T=jy.i,iM=j*T,hI=v.R(iM);v.ZW(N.jE(),kg,hI,jy);var cd=v.style.xa(hI,j,T);v.QE(hI);
var jZ=v.style.xa(hI,j,T);if(hO)console.log("distTransform computed",Date.now()-F);F=Date.now();for(var S=0;
S<iM;S++){var hz=jZ[S]-cd[S];if(hz<-hV)hz=-hV;else if(hz>hV)hz=hV;jZ[S]=hz}if(hO)console.log("summing + cropping",Date.now()-F);
F=Date.now();if(O.bvlT.v.bvlT=="SfBL"){var jv=Math.pow(l*.21,1.22);if(!0)jv=Math.max(jv,2);v.yG.Fg(jZ,jy,jv,2)}if(hO)console.log("blurring",Date.now()-F);
F=Date.now();var eI=jZ,j2=cd;j2.set(eI);if(O.useShape.v){var fM=Math.min(100,O.Inpr.v.val+1)/100;if(bA!="OtrB"&&bA!="InrB")fM=1;
var gY=v.YF.Gy(O.MpgS.v.Crv.v,2e3),c4=Math.round(2e3/fM);gY=v.YF.axM(gY,c4,bA=="InrB");var fI=.5/hV;
for(var S=0;S<iM;S++){var jq=eI[S],e1=.99999*(jq+hV)*fI;eI[S]=-hV+2*hV*gY[~~(e1*(c4-1))]}if(hO)console.log("applying shape",Date.now()-F);
F=Date.now()}if(O.useTexture.v){var hq=v.R(j*T*4);eV.jZ(O,hq,jy,B.add.Patt,W);var ir=v.R(j*T);v.ou(hq,ir);
v.yG.are(ir,ir,jy,1);var fy=l*O.textureDepth.v.val*(1/100)*(1/255);if(O.InvT.v)fy=-fy;for(var S=0;S<iM;
S++)eI[S]+=-fy*ir[S];if(hO)console.log("applying texture",Date.now()-F);F=Date.now()}var p=eV.akf(O,B),fO=p[0],kI=p[1],G=Math.cos(fO)*Math.cos(kI),A=-Math.sin(fO)*Math.cos(kI),fF=Math.sin(kI),d6=bA=="PlEb",bn=new Float32Array(iM),aZ=bn;
bn.fill(fF);if(d6){aZ=new Float32Array(iM);aZ.fill(fF)}var ai=(O.bvlT.v.bvlT=="SfBL"?1:.5)*(O.bvlD.v.BESs=="In"?1:-1)*O.srgR.v.val/100,bk=-.125*ai;
for(var u=0;u<T;u++){var cr=u==0?0:-j,cN=u==T-1?0:j,S=u*j;for(var q=0;q<j;q++,S++){var hK=q==0?S:S-1,cT=q==j-1?S:S+1,o=eI[cT]-eI[hK],M=eI[S+cN]-eI[S+cr],df=1;
if(o==0&&M==0)continue;var iZ=eI[hK+cr],fL=eI[cT+cr],d5=eI[hK+cN],bP=eI[cT+cN],b_=bk*(fL+2*o+bP-iZ-d5),da=bk*(d5+2*M+bP-iZ-fL),aC=1/Math.sqrt(b_*b_+da*da+1);
b_*=aC;da*=aC;df*=aC;var ez=b_*G+da*A+df*fF;bn[S]=Math.max(0,ez);if(!d6)continue;var di=-b_*G-da*A+df*fF;
aZ[S]=Math.max(0,di)}}if(hO)console.log("raycasting",Date.now()-F);F=Date.now();if(O.Sftn.v.val!=0){v.yG.Fg(bn,jy,O.Sftn.v.val*.43,2);
if(d6)v.yG.Fg(aZ,jy,O.Sftn.v.val*.43,2)}if(hO)console.log("softening",Date.now()-F);F=Date.now();var ko=eV.vi(O.hglC.v,0),kM=eV.vi(O.sdwC.v,0),dY=new Uint8Array(bn.buffer),fV=new Uint32Array(dY.buffer),gm=new Uint8Array(eI.buffer),gi=new Uint32Array(gm.buffer),iw=dY,cI=gm,jN=fV,j1=gi;
if(d6){iw=new Uint8Array(aZ.buffer);jN=new Uint32Array(iw.buffer);cI=new Uint8Array(j2.buffer);j1=new Uint32Array(cI.buffer)}var ih=1/fF,gM=1/(1-fF),fI=1/hV,gY=v.YF.Gy(O.TrnS.v.Crv.v,1024),c8=new Float32Array(2500);
for(var S=0;S<2500;S++){var q=Math.max(0,Math.min(1,(S-500)*.001));c8[S]=Math.pow(q,.2)}for(var u=0;
u<T;u++)for(var q=0;q<j;q++){var S=u*j+q,ja=4*S+3,j6=~~(bn[S]*1023),fD=gY[j6],hP=(j2[S]+hV*.993)*fI,i0=c8[~~(500+hP*1e3)],jO=i0*(1-Math.min(1,fD*ih)),b7=i0*(1-Math.min(1,(1-fD)*gM));
gi[S]=~~(.5+255*jO)<<24|kM;fV[S]=~~(.5+255*b7)<<24|ko;if(!d6)continue;var kp=gY[~~(aZ[S]*1023)],co=i0*(1-Math.min(1,kp*ih)),aW=i0*(1-Math.min(1,(1-kp)*gM));
j1[S]=~~(.5+255*co)<<24|kM;jN[S]=~~(.5+255*aW)<<24|ko}if(hO)console.log("baking textures",Date.now()-F);
F=Date.now();jy=N.rect().clone();jy.Lx(f$,f$);jy.offset(C,w);z={aB6:O.bvlS.v.BESl=="strokeEmboss"};var e5=dB.Aa(O.hglM.v.BlnM),iR=O.hglO.v.val/100,i9=dB.Aa(O.sdwM.v.BlnM),hl=O.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(bA)!=-1){z.Na={Gq:dY,jI:jy,wN:e5,d0:iR};z.Rt={Gq:gm,jI:jy,wN:i9,d0:hl}}if(["OtrB","Embs","PlEb"].indexOf(bA)!=-1){z.Ct={Gq:iw,jI:jy,wN:e5,d0:iR};
z.Jy={Gq:cI,jI:jy,wN:i9,d0:hl}}if(hO)console.log(Date.now()-cj)}else if(i=="patternFill"){var jA=N.rect(),bX=v.R(jA.P()*4);
eV.jZ(O,bX,jA,B.add.Patt,W);var dp=jA.clone();dp.offset(C,w);z={Gq:bX,jI:dp}}else if(i=="ChFX"){var bX=v.R(N.jE().length*4);
eV.uE(bX,O.Clr.v);var l=O.blur.v.val,iA=N.rect().clone();iA.Lx(l,l);var gl=v.R(iA.P()),dh=v.R(iA.P());
v.ZW(N.jE(),N.rect(),dh,iA);v.yG.GH(dh,gl,iA,l*.43);var aK=v.YF.fc(O.MpgS.v.Crv.v,256,!0);v.aAj(gl,aK);
var hR=v.R(N.jE().length),a3=v.R(N.jE().length),fg=N.rect().clone();eV.rn(fg,O,B,0);v.ZW(gl,iA,hR,fg);
fg=N.rect().clone();eV.rn(fg,O,B,Math.PI);v.ZW(gl,iA,a3,fg);var jh=hR.length;for(var S=0;S<jh;S++)bX[4*S+3]=Math.abs(hR[S]-a3[S]);
if(O.Invr.v)for(var S=0;S<jh;S++)bX[4*S+3]=255-bX[4*S+3];var dp=N.rect().clone();dp.offset(C,w);z={Gq:bX,jI:dp}}else if(i=="OrGl"){var gZ;
if(O.GlwT.v.BETE=="SfBL")gZ=N.ZZ(s,l-s,!0);else gZ=N.afL(l,I,!0);var bt=gZ.jE,dp=gZ.qe,h2=bt.slice(0);
eV.api(bt,O);var bX=v.R(dp.P()*4);if(O.Grad==null){eV.uE(bX,O.Clr.v);eV.O8(bt,O,!1)}else{eV.O8(bt,O,null);
var cP={ZU:bt,h4:255,Ki:0,xn:dp};eV.lQ(O,bX,dp,B,cP);var jU=O.Nose.v.val/100,jV=dp.m;for(var S=0;S<h2.length;
S++){var kz=255,hi=h2[S];if(hi<32){var hP=(hi+h2[S-1]+h2[S+1]+h2[S-jV]+h2[S+jV])*.2-1;kz=Math.min(255,Math.round(Math.max(0,hP)*8))}bt[S]=kz}eV.az8(bt,O)}v.nP(bt,bX,3);
dp.offset(C,w);z={Gq:bX,jI:dp}}else if(i=="IrGl"){var gZ;if(O.GlwT.v.BETE=="SfBL")gZ=N.ZZ(s,l-s,!1);
else gZ=N.afL(l,I,!1);var bt=gZ.jE,dp=gZ.qe;eV.api(bt,O);if(O.glwS.v.IGSr=="SrcC")v.QE(bt);var bX=v.R(dp.P()*4);
if(O.Grad==null){eV.uE(bX,O.Clr.v);eV.O8(bt,O,!0)}else{eV.O8(bt,O,null);var cP={ZU:bt,h4:255,Ki:0,xn:dp};
eV.lQ(O,bX,dp,B,cP);bt.fill(255);eV.az8(bt,O)}v.nP(bt,bX,3);dp.offset(C,w);z={Gq:bX,jI:dp}}else if(i=="FrFX"){var aV=eV.Uf(O),gh=aV[0],kf=aV[1],dp=N.rect().clone(),a9=null,g8=null;
dp.Lx(Math.ceil(Z),Math.ceil(Z));if(kf>0){var gZ=N.ZZ(kf,0,!0);g8=gZ.jE;if(g8.length<dp.P()){g8=v.R(dp.P());
v.ZW(gZ.jE,gZ.qe,g8,dp)}}if(gh>0){var gZ=N.ZZ(gh,0,!1);a9=v.R(dp.P());a9.fill(255);v.ZW(gZ.jE,gZ.qe,a9,dp)}dp.offset(C,w);
var bX=v.R(dp.P()*4),kd=O.PntT.v.FrFl;if(kd=="SClr")eV.uE(bX,O.Clr.v);if(kd=="GrFl")eV.lQ(O,bX,dp,B,N.a7D(gh,kf));
if(kd=="Ptrn")eV.jZ(O,bX,dp,B.add.Patt,W);var g1=O.overprint,dZ=g1?g1.v:!1;if(dZ){var f3=a9?a9:g8;if(a9&&g8)v.Jd.nK(a9,g8,f3);
v.nP(f3,bX,3)}z={Gq:bX,jI:dp,cD:g8,wU:a9,abL:dZ}}Y.type[i].push(z);if(i=="ebbl"){if(z.Na)Y.all.push(z.Na,z.Rt);
if(z.Ct)Y.all.push(z.Ct,z.Jy)}else{z.wN=dB.Aa(O.Md.v.BlnM);z.d0=O.Opct.v.val/100,Y.all.push(z)}}}return Y};
eV.cp=function(d){var W=1/Math.sqrt(d.x*d.x+d.y*d.y+d.SZ*d.SZ);d.x*=W;d.y*=W;d.SZ*=W};eV.a28=function(d,W){return{x:d.y*W.SZ-d.SZ*W.y,y:d.SZ*W.x-d.x*W.SZ,SZ:d.x*W.y-d.y*W.x}};
eV.aBi=function(d,W){return d.x*W.x+d.y*W.y+d.SZ*W.SZ};eV.az8=function(d,W){var c=W.Nose.v.val/100;if(c>0)for(var S=0;
S<d.length;S++){var y=d[S];y=Math.min(510-(1+c)*v.style.VC(S),y);d[S]=y}};eV.by=function(d){var W=eV.aP(),c=d.pm,y=!1;
for(var S=0;S<32;S+=8)if(c[S]+c[S+1]+c[S+4]+c[S+5]!=0||c[S+2]+c[S+3]+c[S+6]+c[S+7]!=1020)y=!0;if(y){c=c.slice(0);
for(var S=0;S<40;S+=4){var B=c[S]/255,r=c[S+1]/255,x=c[S+2]/255,Z=c[S+3]/255;c[S]=B-.001;c[S+1]=B==r?1e6:1/(r-B);
c[S+2]=x==Z?-1e6:1/(x-Z);c[S+3]=Z+.001}}var i=d.add.iOpa!=null?d.add.iOpa/255:W.fill,k=d.add.vstk;if(k&&!k.fillEnabled.v&&(!k.strokeEnabled.v||k.strokeStyleLineWidth.v.val==0))i=0;
return{fill:i,Db:y?c:null,pE:d.add.brst!=null?d.add.brst:W.pE,aui:d.add.knko!=null?d.add.knko:W.aui,style:!1,EX:!1}};
eV.aP=function(){return{fill:1,Db:null,pE:[1,1,1],aui:0,style:!1,EX:!1}};eV.aBa=function(d,W,c,y,B,r,x,Z){if(Z==null)Z=1;
if(x==null)x=new dT;var i=d.Q$[1].m,k=d.Q$[1].i,H=new dT,V=B<2;if(V)H.translate(-i/2,-k/2);if(B==0){Z*=Math.max(c/i,y/k)}else if(B==1){Z*=Math.min(c/i,y/k)}else if(B==2){H.scale(1/i,1/k);
H.concat(x);H.scale(c,y)}else if(B==3){Z=Z}H.scale(Z,Z);if(V)H.translate(c/2,y/2);H.concat(r);W.Ptrn.v.Idnt.v=d.id;
W.Scl.v.val=Math.round(100*H.dV());W.Angl.v.val=Math.round(180*Math.atan2(-H.J,H.U)/Math.PI);W.Algn.v=!0;
var g=W.phase.v;g.Hrzn.v=Math.round(H.IS);g.Vrtc.v=Math.round(H.rk)};eV.Nf=function(d,W){if(W==null)return null;
var c=d.Idnt.v,y=d.Nm.v;for(var S=0;S<W.length;S++)if(W[S].id==c)return W[S];for(var S=0;S<W.length;
S++)if(W[S].name==y)return W[S];return null};eV.ayo=function(d,W,c){var y=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var S=0;S<y.length;S++){var B=d.v[y[S]].v;for(var r=0;r<B.length;r++)if(B[r].v.Ptrn)W.j9(eV.Nf(B[r].v.Ptrn.v,c))}};
eV.a9w=function(d,W,c){var y=["patternFillMulti","ebblMulti","frameFXMulti"];for(var S=0;S<y.length;
S++){var B=d.v[y[S]].v;for(var r=0;r<B.length;r++)if(B[r].v.Ptrn){var x=B[r].v.Ptrn.v,Z=eV.Nf(x,c),i=eV.Nf(x,W.add.Patt);
if(Z==null&&i)c.push(i)}}};eV.jZ=function(d,W,c,y,B){var r=eV.Nf(d.Ptrn.v,y);if(r!=null&&!c.Bb()){var x=r.Q$,Z=x[0],i=x[1],k=0;
v.rG(x);var H=(d.Scl?d.Scl.v.val:100)/100;while((H<.3||H==.5)&&x[k+2]){H*=i.m/x[k+3].m;k+=2;Z=x[k];i=x[k+1]}var V=v.scale.jZ(Z,i.m,i.i),g=d.phase?d.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},N=d.Angl?d.Angl.v.val:0,C=-c.x+g.Hrzn.v-1,w=-c.y+g.Vrtc.v-1;
if(d.Algn!=null&&!d.Algn.v){}else{C+=B.x;w+=B.y}if(W)v.scale.aA7(V,W,c.m,c.i,H,H,C+1,w+1,N*Math.PI/180);
else return[V,H,C+1,w+1,N*Math.PI/180]}};eV.lQ=function(d,W,c,y,B,r){if(r==null)r=c;var x=d.Type?d.Type.v.GrdT:"shapeburst",Z=d.Algn&&d.Algn.v?r:new a8(0,0,y.m,y.i),i=d.Angl?v.L.bM(d,Z):[new aL(0,0),new aL(100,0)],k=i[0].x,H=i[0].y,V=i[1].x-k,g=i[1].y-H,N=Math.sqrt(V*V+g*g);
N=1/(2*N*N);var C=[V*N,g*N,-g*N,V*N],w=d.Rvrs?d.Rvrs.v:!1,Y=d.Dthr?d.Dthr.v:!1;v.L.cR(d.Grad.v,W,c,C,k,H,w,bV.L.types.indexOf(x),0,0,B,Y)};
eV.asN=function(d,W,c){for(var S=0;S<d.all.length;S++){var y=d.all[S];y.PC=y.jI.clone();y.PC.offset(W,c)}};
eV.asi=function(d,W,c,y,B,r){var x=d1.ZV?eV.aug:eV.arC;eV.asN(W,c.x,c.y);var Z=W.type.DrSh;for(var S=0;
S<Z.length;S++)if(!Z[S].alE)x(Z[S],y,B,r)};eV.axy=function(d,W,c,y,B,r,x,Z,i,k){var H=c,V=d1.ZV?eV.aug:eV.arC,g=d1.ZV?d1.l.Sy:v.l.lf,N;
N=W.type.DrSh;for(var S=0;S<N.length;S++)if(N[S].alE)V(N[S],y,B,r);N=W.type.St3D;for(var S=0;S<N.length;
S++)V(N[S],y,B,r);N=W.type.OrGl;for(var S=0;S<N.length;S++)V(N[S],y,B,r);var C="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var w=0;w<C.length;w++){var N=W.type[C[w]];for(var S=0;S<N.length;S++)V(N[S],x,H,r)}var Y=W.type.ebbl[0],U=Y!=null&&Y.aB6;
N=W.type.FrFX;for(var S=0;S<N.length;S++){var e=N[S];cl.hq.ZW(Z,k,i,k,r);V(e,i,k,r);if(U&&S==N.length-1){if(Y.Jy)V(Y.Jy,i,k,r);
if(Y.Ct)V(Y.Ct,i,k,r);if(Y.Rt)V(Y.Rt,i,k,r);if(Y.Na)V(Y.Na,i,k,r)}if(e.abL){if(e.wU||e.ow){V(e,x,H,r)}if(e.cD||e.EZ){V(e,y,B,r)}}else{if(e.wU||e.ow)g(i,k,x,H,d1.ZV?e.ow:e.wU,e.PC,0,r,1);
if(e.cD||e.EZ)g(i,k,y,B,d1.ZV?e.EZ:e.cD,e.PC,0,r,1)}}if(!U&&Y!=null){if(Y.Jy)V(Y.Jy,y,B,r);if(Y.Ct)V(Y.Ct,y,B,r);
if(Y.Rt)V(Y.Rt,x,H,r);if(Y.Na)V(Y.Na,x,H,r)}};eV.arC=function(d,W,c,y){var B=eV.aP();B.fill=d.d0;B.style=!0;
v.l.Ip(d.wN,d.Gq,d.PC,W,c,y,1,B)};eV.aug=function(d,W,c,y){var B=eV.aP();B.fill=d.d0;B.style=!0;d1.l.a0J(d.wN,d.Jn,d.PC,W,c,y,1,B)};
eV.api=function(d,W){var c=1-W.Inpr.v.val/100,y=1+Math.tan(c*(Math.PI/2)),B=d.length;for(var S=0;S<B;
S++)d[S]=Math.min(255,Math.round(d[S]*y))};eV.O8=function(d,W,c,y){var B=W.blur.v.val,r=Math.round(B*(W.Ckmt.v.val/100));
if(B>r){var x=v.YF.fc(W.TrnS.v.Crv.v,256,y!=!0);v.aAj(d,x)}if(c!=null&&W.Nose.v.val>0)v.style.z3(d,W.Nose.v.val/100,c)};
eV.vi=function(d,W,c){if(W==null)W=255;var y=v.L.E5(d);if(c!=null){y.Z=Math.round(y.Z*c);y.G=Math.round(y.G*c);
y.J=Math.round(y.J*c)}return W<<24|y.J<<16|y.G<<8|y.Z};eV.uE=function(d,W,c,y){var B=new Uint32Array(d.buffer);
B.fill(eV.vi(W,c,y))};eV.rn=function(d,W,c,y,B){var r=W.uglg&&W.uglg.v?c.ws():W[B?B:"lagl"].v.val;r=r*Math.PI/180+y;
var x=Math.cos(r)*W.Dstn.v.val,Z=Math.sin(r)*W.Dstn.v.val;d.x-=Math.round(x);d.y+=Math.round(Z)};eV.akf=function(d,W){var c=d.uglg&&d.uglg.v?W.ws():d.lagl.v.val;
c=c*(Math.PI/180);var y=d.uglg&&d.uglg.v?W.E6():d.Lald.v.val;y=y*(Math.PI/180);return[c,y]};eV.E_=function(d){if(d==null)return null;
var W=d.frameFXMulti.v;if(W.length==0)return null;W=W[0].v;var c=bV._M.qw();eV.a6R(W,c);return c};eV.a6R=function(d,W){var c=bV.stroke.tT.indexOf(d.PntT.v.FrFl),y=[bV.Ak,bV.n1,bV.DX][c],B=W.strokeStyleContent.v={classID:bV._M.sy[c]};
for(var S=0;S<y.length;S++)B[y[S]]=d[y[S]];W.strokeEnabled=d.enab;W.strokeStyleLineWidth=d.Sz;W.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bV._M.IC[bV.stroke.types.indexOf(d.Styl.v.FStl)];
W.strokeStyleOpacity=d.Opct;W.strokeStyleBlendMode=d.Md;W.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
eV.pa=function(d,W){var c=[];for(var S=0;S<d.length;S++)c.push({t:"UntF",v:{type:"#Nne",val:d[S]*W}});
return c};eV.aeQ=function(d,W){var c=d.opacity/255*(d.add.iOpa?d.add.iOpa/255:1),y=d.add.TySh,B=d.vS()||d.sI()&&d.add.vmsk&&d.add.vstk.fillEnabled.v&&d.add.vstk.strokeEnabled.v;
if(y){var r=y.p$.EngineDict.StyleRun.RunArray,x=r[0].StyleSheet.StyleSheetData,Z=0;if(x.FillFlag)Z++;
if(x.StrokeFlag)Z++;if(x._FillBackgroundFlag)Z++;if(Z>1)B=!0}return B&&(W||c!=1||d.E9!="pass"&&d.E9!="norm")};
eV.wm=function(d,W,c,y){this.YI=W.clone();this.adD=W.clone();this.adD.Lx(c,c);if(y){this.YI.Lx(1,1);
this.o$=v.R(this.YI.P());v.ZW(d,W,this.o$,this.YI)}else this.o$=d;this.as=null;this.kz=null;this.vG=null};
eV.wm.prototype.jE=function(){return this.o$};eV.wm.prototype.rect=function(){return this.YI};eV.wm.prototype.MS=function(){return this.adD};
eV.wm.prototype.HZ=function(){if(this.as)return this.as;this.as=this.jE().slice(0);v.QE(this.as);return this.as};
eV.wm.prototype.HE=function(){if(this.kz)return this.kz;this.kz=v.style.xa(this.HZ(),this.rect().m,this.rect().i);
return this.kz};eV.wm.prototype.UP=function(){if(this.vG)return this.vG;var d=this.MS(),W=v.R(d.P());
v.ZW(this.jE(),this.rect(),W,d);var c=Date.now();this.vG=v.style.xa(W,d.m,d.i);return this.vG};eV.wm.prototype.a7D=function(d,W){var c={h4:-W,Ki:d,xn:null,ZU:null};
if(W==0){c.xn=this.rect();c.ZU=this.HE();return c}var y=this.UP().slice(0),B=this.MS();c.xn=B;c.ZU=y;
for(var S=0;S<y.length;S++)y[S]=-y[S];if(d==0)return c;var r=this.HE(),x=this.rect();for(var Z=0;Z<x.i;
Z++)for(var i=0;i<x.m;i++){var k=Z*x.m+i,H=(Z+x.y-B.y)*B.m+i+x.x-B.x;y[H]+=r[k]}return c};eV.wm.prototype.ZZ=function(d,W,c){var y=Math.ceil(d+W),B={qe:this.rect().clone(),jE:null};
B.qe.Lx(y,y);B.jE=v.R(B.qe.P());if(d==0&&W==0)v.PY(c?this.jE():this.HZ(),B.jE);else{var r=v.R(B.qe.P());
v.ZW(this.jE(),this.rect(),r,B.qe);if(!c)v.QE(r);if(d!=0){if(c)v.style.Ll(r,B.qe,this.UP(),this.MS(),d);
else v.style.Ll(r,B.qe,this.HE(),this.rect(),d)}if(W!=0)v.yG.GH(r,B.jE,B.qe,Math.max(1,W*.43));else B.jE=r}return B};
eV.wm.prototype.afL=function(d,W,c){var y=d*(W-.5),B={qe:this.rect().clone(),jE:null};if(c)B.qe.Lx(d,d);
B.jE=v.R(B.qe.P());var r=B.qe.m,x=B.qe.i,Z=c?this.UP():this.HE(),i=c?this.MS():this.rect(),k=B.qe,H=k.nK(i),r=H.m,x=H.i,V=H.x-k.x,g=H.y-k.y,N=H.x-i.x,C=H.y-i.y,w=1-W*2;
for(var Y=0;Y<x;Y++)for(var U=0;U<r;U++){var e=Z[(Y+C)*i.m+U+N],O=e/d;B.jE[(Y+g)*k.m+U+V]=Math.max(0,Math.min(255,255-255*((O+w)/(1+w))))}return B};
eV.agJ=function(d,W,c,y){var B=d.Lefx,r=d.blendOptions;if(B){var x=W.add.lmfx;if(c==null)c=x?x.Scl.v.val:100;
W.add.lmfx=JSON.parse(JSON.stringify(B.v));if(W.add.lmfx.Scl==null)W.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
eV.TU(W.add.lmfx,c/W.add.lmfx.Scl.v.val);if(x)W.add.lmfx.Scl.v.val=x.Scl.v.val;var Z=B.v.gagl;if(Z&&y)y.Ms(Z.v.val)}else delete W.add.lmfx;
if(r){r=r.v;if(r.Md)W.E9=dB.Aa(r.Md.v.BlnM);if(r.Opct)W.opacity=Math.round(r.Opct.v.val*255/100);if(r.fillOpacity)W.add.iOpa=Math.round(r.fillOpacity.v.val*255/100);
if(r.Blnd){var i=[];for(var S=0;S<10;S++)i.push(0,0,255,255);var k=r.Blnd.v,H="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var S=0;S<k.length;S++){var V=k[S].v,g=8*["Gry","Rd","Grn","Bl"].indexOf(V.Chnl.v[0].v.enum);for(var N=0;
N<8;N++){i[g+N]=V[H[N]].v}}W.pm=i}}};eV.alS=function(d){var W="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),c=[],y=d.pm;
for(var S=0;S<4;S++){var B=S*8;if(y[B]+y[B+1]+y[B+4]+y[B+5]==0&&y[B+2]+y[B+3]+y[B+6]+y[B+7]==4*255)continue;
var r={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][S]}}]}}};
c.push(r);for(var x=0;x<8;x++)r.v[W[x]]={t:"long",v:y[S*8+x]}}var Z={classID:"blendOptions"};if(d.E9!="norm")Z.Md={t:"enum",v:{BlnM:dB.XT(d.E9)}};
if(d.opacity!=255)Z.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(d.opacity*100/255)}};if(d.add.iOpa!=null)Z.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(d.add.iOpa*100/255)}};
if(c.length!=0)Z.Blnd={t:"VlLs",v:c};var i={A6:{classID:"null",Idnt:{t:"TEXT",v:eb.Oe()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},r1:{classID:"Styl",blendOptions:{t:"Objc",v:Z}}},k=d.add.lmfx;
if(k)i.r1.Lefx={t:"Objc",v:k};return i};function bB(){}bB.kX=function(d){return JSON.parse(JSON.stringify(d))};
bB.S5=function(d){var W=bB.kX(bB.aaL),c=W.Brsh.v;if(d!=null){delete c.Hrdn;c.classID="sampledBrush";
c.sampledData={t:"TEXT",v:d}}return W};bB.aaL={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
bB.aml=function(d,W){var c=["opVr","szVr"],y=["usePaintDynamics","useTipDynamics"];for(var S=0;S<2;S++){var B=c[S];
if(d[B]==null)d[B]=JSON.parse(bB.cp.qz[B]);d[B].v.bVTy.v=W[S]?2:0;if(W[S])d[y[S]].v=!0}bB.cp.axC(d)};
bB.cp={};bB.cp.check=function(d){var W=bB.cp.jO;for(var S=0;S<W.length;S++)if(d[W[S]]==null)d[W[S]]=JSON.parse(bB.cp.qz[W[S]]);
var c=[];for(var S=0;S<W.length;S++)c.push(W[S]);var y=bB.cp.a2b;for(var S=0;S<y.length;S++){var B=y[S][0],r=y[S][1],x=!0;
for(var Z=0;Z<B.length;Z++)x=x&&d[B[Z]].v==!0;if(x)for(var Z=0;Z<r.length;Z++){if(d[r[Z]]==null)console.log("Missing conditional parameter "+r[Z]);
else c.push(r[Z])}}for(var i in d)if(c.indexOf(i)==-1&&i!="toolOptions")console.log("Extra parameter "+i);
d=d.Brsh.v;W=bB.cp.jl.jO;for(var S=0;S<W.length;S++)if(d[W[S]]==null)d[W[S]]=JSON.parse(bB.cp.jl.qz[W[S]]);
c=[];for(var S=0;S<W.length;S++)if(d[W[S]])c.push(W[S]);else console.log("Missing default parameter "+W[S]);
y=bB.cp.jl.acC[d.classID];for(var S=0;S<y.length;S++)if(d[y[S]]==null&&y[S]!="dtipsGridSize"&&y[S]!="dtipsErodibleTipHeightMap"&&d.auL!=1)console.log("Missing conditional parameter "+y[S]);
else c.push(y[S]);for(var i in d)if(c.indexOf(i)==-1)console.log("Extra parameter "+i)};bB.cp.axC=function(d){var W=bB.cp.a2b;
for(var S=0;S<W.length;S++){var c=W[S][0],y=W[S][1],B=!0;for(var r=0;r<c.length;r++)B=B&&d[c[r]]&&d[c[r]].v==!0;
if(B){for(var r=0;r<y.length;r++)if(d[y[r]]==null){d[y[r]]=JSON.parse(bB.cp.qz[y[r]])}}else for(var r=0;
r<y.length;r++)if(d[y[r]]!=null){delete d[y[r]]}}};bB.cp.jl={};bB.cp.jl.jO="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
bB.cp.jl.qz={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};bB.cp.jl.acC={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
bB.cp.a2b=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
bB.cp.jO="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
bB.cp.qz={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function aY(d,W){this.ak$=d;this.Pk=W==null?0:W;this.dir=0}aY.prototype.KB=function(d,W){var c=this.ak$,y=new aL(d.x-c.x,d.y-c.y),B=new dT;
B.rotate(-this.Pk);y=B.iC(y);if(this.dir==0&&!c.zI(d))this.dir=Math.abs(y.x)<Math.abs(y.y)?1:2;if(W.S(bm.Uo)){if(this.dir==1)y.x=0;
if(this.dir==2)y.y=0}B.QE();y=B.iC(y);var r=new aL(c.x+y.x,c.y+y.y);return r};aY.prototype.arV=function(d){if(d.S(bm.Uo))return this.dir;
return 0};var i1=function(){function d(){this.agx={}}d.anC=function(W,c){var y=W.clone();y.IS-=Math.floor(y.IS);
y.rk-=Math.floor(y.rk);var B=new aL(c,0),r=new aL(0,c),x=y.iC(B),Z=y.iC(r),i=new aL(y.IS,y.rk);return[x,Z,i]};
d.a2I=function(W,c){var y=aL.Bg;return y(W[0],c[0])+y(W[1],c[1])+y(W[2],c[2]);return dsum};d.prototype.a8e=function(W){var c=this.agx,y=c[W];
if(y==null)y=c[W]={yu:[],nT:0,P:0,ax0:0,ank:0};y.nT=Date.now();while(Object.keys(c).length>3){var B="",r=Date.now();
for(var x in c){var Z=c[x].nT;if(Z<r){r=Z;B=x}}delete c[B]}return y};d.prototype.a85=function(W,c){var y=W.yu,B,r=1e6;
for(var S=0;S<y.length;S++){var x=y[S],Z=d.a2I(x.ej,c);if(Z<r){B=x;r=Z}}return B};d.prototype.amL=function(W,c){var y=W.yu;
y.push(c);W.P+=c.rect.P();if(y.length>1e3||W.P>100*100*1600){console.log("pruning",W.P,y.length);y.sort(function(r,x){return x.nT-r.nT});
while(y.length>500||W.P>100*100*800){var B=y.pop();W.P-=B.rect.P()}}};return d}();function b8(d,W,c,y,B,r,x,Z,i){this.pb=W;
this.An=c;this.qX=r;this.Wa=y;this.ZO=null;this.Yw=null;this.O9=0;this.a5Z=0;this.atM=0;this.Uq=0;this.Rb=0;
this.yC=i==null?Math.floor(Math.random()*16777215):i;this.T3=i==null?Math.floor(Math.random()*16777215):i;
this.H2=new a8;this.I9=new a8;if(Z!=null){this.Gq=Z}else{var k=b8.a4a;if(k.length!=x.P()*4)k=v.R(x.P()*4);
else k.fill(0);this.Gq=b8.a4a=k}this.rect=x.clone();this.aV=[];this.Jh=[];this.bl=null;this.R5=0;this.J=null;
this.acW="";this.PM=null;this.auz(d,B)}b8.a4a=v.R(16);b8.prototype.auz=function(d,W){this.R5=W;this.J=d;
this.acW=JSON.stringify(d)+JSON.stringify(this.Wa.yJ);this.PM=b8.aj8(this.J,this.pb,this.An)};b8.prototype.moveTo=function(d,W,c){c=this.a23(c);
this.O9=c;var y=new aL(d,W),B=this.J.Brsh.v.Dmtr.v.val;this.ZO=y.clone();this.Yw=y.clone();this.bl=y.clone();
this.aV=[d,W];this.Jh=[c];if(this.Wa.Gi!=b8.u6){var r=this.J.angleDynamics,x=r?r.v.bVTy.v==6:!1;this.yP(x?new a8:this.azX(y,this.ayz(c),c,new aL(0,0)))}this.Uq=y.clone()};
b8.prototype.lineTo=function(d,W,c){c=this.a23(c);var y=this.aV,B=y.length,r=y[B-2],x=y[B-1];if(d==r&&W==x)return;
var Z=this.J.Brsh.v.Dmtr.v.val,i=Math.ceil(Z)+1,k=new a8(Math.round(r),Math.round(x),0,0);k.Lx(i,i);
var H=new a8(Math.round(d),Math.round(W),0,0);H.Lx(i,i);this.aV.push(d,W);this.Jh.push(c);B+=2;if(B>=6)this.yP(this.aiv(B))};
b8.prototype.a23=function(d){if(d==null)d=1;d=Math.max(.05,Math.min(5,d));if(isNaN(d)){alert("Pressure is not a number");
throw"e"}return d};b8.prototype.yP=function(d){this.H2=d;this.I9=this.I9.hB(d)};b8.prototype.finish=function(){var d=this.aV,W=d.length,c;
if(W==4)c=this.P1(d[W-2],d[W-1],this.Jh[(W>>1)-1],!0);if(W>4)c=this.aiv(W+2);if(c)this.yP(c)};b8.prototype.yo=function(){return this.rect.clone()};
b8.prototype.wh=function(){return this.H2.nK(this.rect)};b8.prototype.V5=function(){return this.I9.nK(this.rect)};
b8.prototype.JN=function(){return this.Gq};b8.prototype.aiv=function(d){var W=this.aV,c=this.Jh,y=W[d-6],B=W[d-5],r=W[d-4],x=W[d-3],Z=c[(d>>1)-3],i=c[(d>>1)-2],k=new aL(0,0),H=new aL(0,0);
if(8<=d)k=b8.at3(W[d-8],W[d-7],y,B,r,x);if(d<=W.length)H=b8.at3(W[d-2],W[d-1],r,x,y,B);var V=y+k.x,g=B+k.y,N=r+H.x,C=x+H.y,w=new a8,Y=this.a1k()?1:10;
for(var S=0;S<Y;S++){var U=(S+1)/Y,e=1-U,O=e*e*e*y+3*U*e*e*V+3*U*U*e*N+U*U*U*r,l=e*e*e*B+3*U*e*e*g+3*U*U*e*C+U*U*U*x,I=this.P1(O,l,Z+U*(i-Z));
w=w.hB(I)}return w};b8.at3=function(d,W,c,y,B,r){var x=d-c,Z=W-y,i=B-c,k=r-y,H=Math.sqrt(x*x+Z*Z),V=Math.sqrt(i*i+k*k),g=Math.acos((x*i+Z*k)/(H*V))/Math.PI,N=.35,C=.1;
g=C+g*(N-C);var w=B-d,Y=r-W,U=Math.sqrt(w*w+Y*Y),e=g*V/U;return new aL(w*e,Y*e)};b8.prototype.P1=function(d,W,c,y){var B=new a8,r=this.Wa.aD5;
if(r==null)r=0;if(r==0||y){B=this.ar5(d,W,c);return B}var x=this.bl,Z=d-x.x,i=W-x.y,k=Math.sqrt(Z*Z+i*i);
Z/=k;i/=k;if(k>r){var H=x.x+Z*(k-r),V=x.y+i*(k-r);B=this.ar5(H,V,c);this.bl.sq(H,V)}return B};b8.prototype.a1k=function(){var d=this.J,W=d.Brsh.v.Dmtr.v.val;
return this.Wa.yJ&&W==1};b8.prototype.ar5=function(d,W,c){var y=new a8,B=new aL(d,W),r=this.Wa.Gi,x=B.Sa(this.Yw);
x.normalize(1);var Z=aL.Bg(this.Yw,B),i=-this.a5Z,k=this.Yw.clone();if(this.a1k()){if(Z>.99){var H=this.Yw;
b8.abI(H,B,this.Gq,this.rect,this.$D(this.J));y=v.A.xG([H.x,H.y,B.x,B.y]);i=Z}else B=this.Yw}else while(!0){var V=this.O9+(c-this.O9)*(Math.max(0,i)/Z),g=this.ayz(V),N=this.awT()*(g+this.atM)/2*this.PM.a31;
if(r==b8.u6)N=1;N=Math.max(N,.5);if(i+N<Z){i+=N;this.Rb+=N;var C=new aL(this.Yw.x+x.x*i,this.Yw.y+x.y*i),U=1;
if(r==b8.u6){var w=k.clone();w.x+=x.x>0?1:-1;var Y=k.clone();Y.y+=x.y>0?1:-1;if(aL.Bg(w,C)<aL.Bg(Y,C))C=w;
else C=Y;i=aL.Bg(C,this.Yw)}if(this.J.useScatter.v==!0){U=this.J.Cnt.v;var e=this.J.countDynamics.v.jitter.v.val/100,O=e*(-1+2*this.kv());
U+=Math.round(U*O)}for(var S=0;S<U;S++){var l=this.azX(C,g,c,x);y=y.hB(l)}k=C}else break}this.a5Z=Z-i;
this.Yw=B;this.O9=c;return y};b8.prototype.awT=function(){var d=this.J.Brsh.v,W=d.Spcn.v.val,c=Math.max(5,d.Rndn.v.val);
return c/100*(W/100)};b8.prototype.ayz=function(d){var W=this.J,c=W.Brsh.v.Dmtr.v.val;if(W.useTipDynamics.v){var y=c*(W.minimumDiameter.v.val/100);
c=y+(c-y)*(1-this.kv(this.T3)*(W.szVr.v.jitter.v.val/100));c*=b8.g5(W,"szVr",d,this.Rb)}return c};b8.g5=function(d,W,c,y){var B=1,r=d[W].v,x=r.bVTy.v,Z=r.fStp.v;
if(x==1)B*=Math.max(0,(Z-y)/Z);if(x==2)B*=c;return B};b8.prototype.azX=function(d,W,c,y){var B=this.Wa.M4,w=0;
B=Math.min(1,B);var r=this.J,x=this.J.Brsh.v,Z=x.Dmtr.v.val,i=this.Wa,k=i.Gi,H=i.ag4,V=this.PM.Q$[1],g=new dT;
g.translate(-V.m/2,-V.i/2);g.scale(1/this.PM.a3K,1/this.PM.a3K);g.scale(W/Z,W/Z);g.scale(1,Math.max(5,x.Rndn.v.val)/100);
if(r.usePaintDynamics&&r.usePaintDynamics.v){var N=r.opVr.v.jitter.v.val/100,C=r.prVr.v.jitter.v.val/100;
B*=1-this.kv()*N;B*=1-this.kv()*C;B*=b8.g5(r,"opVr",c,this.Rb)*b8.g5(r,"prVr",c,this.Rb)}if(r.useTipDynamics.v){var Y=r.angleDynamics.v,U=r.minimumRoundness.v.val/100;
g.scale(1,U+(1-U)*Math.round(100-this.kv()*r.roundnessDynamics.v.jitter.v.val)/100);w+=(-.5+this.kv())*4*Math.PI*(Y.jitter.v.val/100);
w+=b8.g5(r,"angleDynamics",c,this.Rb)*2*Math.PI;if(Y.bVTy.v==6)w+=Math.atan2(-y.y,y.x)}w+=x.Angl.v.val*(Math.PI/180);
g.rotate(w);if(r.useScatter.v){var e=(-1+2*this.kv())*r.scatterDynamics.v.jitter.v.val/100;g.translate(-e*W*y.y,e*W*y.x)}g.translate(d.x,d.y);
var O=this.atX(g,d,W),l=O.rect.clone();if(k==null){var I=this.$D(r);v.ft(O.N7,Math.round(I.J*255)<<16|Math.round(I.G*255)<<8|Math.round(I.Z*255)<<0,4278190080);
if(this.I9.Bb()&&this.rect.zI(O.rect)&&B==1)this.Gq=O.N7.slice(0);else{var s=-1,z=2,R=-1,t=2;if(!i.PZ){s=R=0;
z=t=1}for(var a=R;a<t;a++)for(var J=s;J<z;J++){var F=O.rect.clone();F.x+=J*this.rect.m;F.y+=a*this.rect.i;
if(F.rC(this.rect)){l=l.hB(F);v.l.aB5(O.N7,F,this.Gq,this.rect,F,B)}}}}if(k==b8.u6){var h=new aL(O.rect.x+O.rect.m/2,O.rect.y+O.rect.i/2),m=Math.round(h.x-this.Uq.x),D=Math.round(h.y-this.Uq.y),_=O.rect.clone();
_.offset(-m,-D);var n=_.nK(this.rect);n.offset(m,D);v.qR(this.Gq,this.rect,O.N7,_);v.l.a2h(O.N7,O.rect,this.Gq,this.rect,O.kn,O.rect,B)}if(k==b8.j0||k==b8.il||k==b8.t2){var j=O.rect.nK(this.rect),T;
if(j.zI(O.rect))T=O.kn;else{T=v.R(j.P());v.ZW(O.kn,O.rect,T,j)}var L=v.R(j.P()*4);v.qR(this.Gq,this.rect,L,j);
if(k==b8.il){var p=L.slice(0),E=v.H$.Vp([-1,-1,-1,-1,25,-1,-1,-1,-1]);v.H$.sS(L,p,j.m,j.i,E,0);v.PY(p,L)}else if(k==b8.t2){var G=eR.qw("UnsM");
G.Amnt.v.val=15;G.Thsh.v=0;G.Rds.v.val=5;var p=v.R(L.length);eR.xh("UnsM",{buffer:L,rect:j},G,0,0,{buffer:p,rect:j});
v.PY(p,L)}else{eR.jB(1,v.yG.GF,L,j)}v.l.a2h(L,j,this.Gq,this.rect,T,j,B)}this.atM=W;this.Uq=h;this.T3++;
return l};b8.prototype.$D=function(d){var W=b8.amt(this.R5);if(d.useColorDynamics&&d.useColorDynamics.v){var c=1-this.kv()*d.clVr.v.jitter.v.val/100,y=b8.amt(this.qX);
W.Z=c*W.Z+(1-c)*y.Z;W.G=c*W.G+(1-c)*y.G;W.J=c*W.J+(1-c)*y.J;var B=(-.5+this.kv())*d.H.v.val/100,r=(-1+2*this.kv())*d.Strt.v.val/100,x=(-1+2*this.kv())*d.Brgh.v.val/100,Z=v.CG(W.Z,W.G,W.J);
Z.fn=(Z.fn+B+1)%1;Z.Td=Z.Td+r;if(Z.Td<0)Z.Td=-Z.Td;if(Z.Td>1)Z.Td=1-(Z.Td-1);Z.Za=Z.Za+x;if(Z.Za<0)Z.Za=-Z.Za;
if(Z.Za>1)Z.Za=1-(Z.Za-1);W=v.JB(Z.fn,Z.Td,Z.Za)}return W};b8.prototype.cp=function(d){return Math.max(0,Math.min(1,d))};
b8.prototype.kv=function(d){if(d==null){d=this.yC++}return b8.hash(d)};b8.amt=function(d){return{Z:(d>>16&255)/255,G:(d>>8&255)/255,J:(d>>0&255)/255}};
b8.hash=function(d){d=d^61^d>>16;d=d+(d<<3);d=d^d>>4;d=d*668265261;d=d^d>>15;return(d&16777215)/16777215};
b8.aif=new i1;b8.prototype.atX=function(d,W,c){var y=Math.sqrt(this.PM.Q$[1].P()),B=y*d.dV(),r=B<10?1:B<50?1.5:B<200?3:8;
if(B<30)r=0;var x=b8.aif,Z=x.a8e(this.acW),i=this.Wa.yJ,k=i1.anC(d,y),H=x.a85(Z,k);if(H&&i1.a2I(H.ej,k)>r)H=null;
if(H){H.rect.x=Math.round(H.awM.x+d.IS);H.rect.y=Math.round(H.awM.y+d.rk);H.nT=Date.now()}else{var V=Math.round(this.J.Brsh.v.Dmtr.v.val),g;
if(i&&V<=3){g={channel:v.R(V*V),rect:new a8(Math.round(W.x-V/2),Math.round(W.y-V/2),V,V)};g.channel.fill(255)}else if(d.U==1&&d.J==0&&d.gp==0&&d.x7==1){g={channel:this.PM.Q$[0],rect:this.PM.Q$[1].clone()};
g.rect.x=Math.round(d.IS);g.rect.y=Math.round(d.rk)}else{if(d.dV()>1e-4)g=X.X.o3(this.PM.Q$,d)}if(i){for(var S=0;
S<g.channel.length;S++)g.channel[S]=g.channel[S]>127?255:0}if(g==null)g={channel:v.R(0),rect:new a8};
H={N7:v.R(g.rect.P()*4),kn:g.channel,rect:g.rect,awM:new aL(g.rect.x-d.IS,g.rect.y-d.rk),ej:k,nT:Date.now()};
v.nP(H.kn,H.N7,3);if(Z)x.amL(Z,H)}return H};b8.aj8=function(d,W,c){var y,B,r,x=d.Brsh.v.Dmtr.v.val,Z=d.Brsh.v.classID;
if(Z=="computedBrush"){var i=d.Brsh.v.Hrdn.v.val/100;B=x<100?1.4:1;r=1;y=v.anM.abA(x,i,B)}if(Z=="sampledBrush"){var k;
for(var S=0;S<W.length;S++)if(W[S].id==d.Brsh.v.sampledData.v)k=W[S];y=k.Q$;var H=y[1];B=Math.max(H.m,H.i)/x;
r=Math.min(H.m,H.i)/Math.max(H.m,H.i)}return{a3K:B,a31:r,Q$:y}};b8.YW=null;b8.bN=null;b8.pL=function(d,W,c,y,B,r){var x=b8.YW,Z=b8.bN;
if(x==null){b8.YW=x=document.createElement("canvas");b8.bN=Z=x.getContext("2d")}if(r==null)r=y;if(x.width!=r||x.height!=B){x.width=r;
x.height=B}else Z.clearRect(0,0,r,B);Z.fillStyle="#000000";Z.font=Math.floor(10*X.QX())+"px sans-serif";
var i=d.Brsh.v.Dmtr.v.val,k=""+i,V=d.useBrushSize;if(V&&V.v)k="---";var g=Z.measureText(k);Z.fillText(k,(y-g.width)/2,B-2);
var N=y,C=B-10*X.QX(),w=Math.min(N,C),Y=d.Brsh.v.classID;if(Y=="computedBrush"){Z.translate(N/2,C/2);
Z.rotate(-d.Brsh.v.Angl.v.val*Math.PI/180);Z.scale(1,.1+.9*d.Brsh.v.Rndn.v.val/100);var U=Math.min(.95*w/2,i/2)+.5,e=.9*d.Brsh.v.Hrdn.v.val/100,O=Z.createRadialGradient(0,0,0,0,0,U);
O.addColorStop(e,"rgba(0,0,0,1)");O.addColorStop((.5+e)/1.5,"rgba(0,0,0,.5)");O.addColorStop(1,"rgba(0,0,0,0)");
Z.fillStyle=O;Z.fillRect(-U,-U,2*U,2*U);Z.setTransform(1,0,0,1,0,0)}else if(Y=="sampledBrush"){var l,t=0;
for(var S=0;S<W.length;S++)if(W[S].id==d.Brsh.v.sampledData.v)l=W[S];var I=l.Q$;v.UC(I);var s=I[0],z=I[1].m,R=I[1].i;
while((z>N||R>C)&&I[t+2]){t+=2;s=I[t];z=I[t+1].m;R=I[t+1].i}if(z*R!=0){var a=v.R(z*R*4);v.nP(s,a,3);
var J=new ImageData(new Uint8ClampedArray(a.buffer),z,R);Z.putImageData(J,Math.round((N-z)/2),Math.round((C-R)/2))}}else{}return x.toDataURL()};
b8.tN=function(d,W,c,y){if(c==0)c=1;var B=d.Brsh.v,r=B.Dmtr.v.val,x=B.Dmtr.v.val=Math.min(y!=null?Math.round(y*2.6):3e3,r*c),Z=B.Hrdn?B.Hrdn.v.val/100:1,i=y!=null?y:Math.round(x*(1+.55*(1-Z)))+4,V;
i=Math.max(15,Math.min(i,3e3));var k=new a8(0,0,i,i),H=new b8(d,W,null,{M4:1},16711712,0,k);B.Dmtr.v.val=r;
H.moveTo(k.m/2,k.i/2);var g=H.JN(),N=H.yo();if(k.zI(N))V=g;else{V=v.R(k.P()*4);v.qR(g,N,V,k)}return[V,k,x]};
b8.aoN=function(d,W,c,y){var B=W.m,r=B>>>1;for(var S=0;S<4;S++){var x=6-S;d[B*(r-x)+r-1]=y;d[B*(r-x)+r]=c;
d[B*(r-x)+r+1]=y;d[B*(r+x)+r-1]=y;d[B*(r+x)+r]=c;d[B*(r+x)+r+1]=y;d[B*(r-1)+r-x]=y;d[B*r+r-x]=c;d[B*(r+1)+r-x]=y;
d[B*(r-1)+r+x]=y;d[B*r+r+x]=c;d[B*(r+1)+r+x]=y}};b8.xg=function(d,W,c,y){var B=b8.tN(d,W,c),r=B[0].slice(0),x=B[1],Z=B[2],i=x.P(),k=v.R(i);
v.$P(r,k,3);var H=v.R(i);v.u.a82(k,H,x,X.QX()>1.9);if(Z<3||v.uy(H,0)||y&&Z>12){b8.aoN(H,x,255,0)}var V=[3,5,3,4,8,4,3,5,3];
V=v.H$.Vp(V);v.H$.$d(H,k,x.m,x.i,V);v.ft(r,4294967295);v.nP(k,r,3);for(var S=0;S<i;S++)if(H[S]==255){r[S<<2]=r[(S<<2)+1]=r[(S<<2)+2]=0;
r[(S<<2)+3]=255}return{hl:r,qe:x,Mh:new aL(x.m/2,x.i/2)}};b8.abI=function(d,W,c,y,B){var r=4278190080|Math.round(B.J*255)<<16|Math.round(B.G*255)<<8|Math.round(B.Z*255)<<0;
c=new Uint32Array(c.buffer);var x=Math.floor(d.x),Z=Math.floor(d.y),i=Math.floor(W.x),k=Math.floor(W.y),H=Math.abs(i-x),V=Math.abs(k-Z),g=x<i?1:-1,N=Z<k?1:-1,C=H-V;
while(!0){c[Z*y.m+x]=r;if(x==i&&Z==k)break;var w=2*C;if(w>-V){C-=V;x+=g}if(w<H){C+=H;Z+=N}}};b8.u6="0";
b8.j0="1";b8.il="2";b8.t2="3";var bQ={};bQ.pp=function(d,W,c){if(c==null)c=!0;var y=d.add.TySh,B=y.p$,r=new iS(B,W,y.wy);
d.oR.x1=r.kt();var x=d.oR.path=bQ.Xw(r,y);if(be!=0)return[x,r,null];var Z=bQ.J5(x,y.e,it.O_(y));if(c){d.rect=Z.qe;
d.buffer=Z.Gq;d.W()}return[x,r,Z]};bQ.J5=function(d,W,c){d={r:d.r,j:d.j.slice(0)};v.A.e(d.j,W,d.j);var y=v.A.xG(d.j),B=0;
for(var S=0;S<d.r.length;S++){var r=d.r[S];if(r[0]=="O"&&r[1]=="-")B=Math.max(B,parseFloat(r.split("-").pop()))}B=Math.ceil(B*W.dV()/2);
y.Lx(B,B);if(y.Bb())return{Gq:v.R(0),qe:new a8};var x=v.td(y.m,y.i);x.translate(-y.x,-y.y);bQ.aeI(d,x);
var Z=x.getImageData(0,0,y.m,y.i),i=new Uint8Array(Z.data.buffer);if(c==0)for(var S=0;S<i.length;S+=4)i[S+3]=i[S+3]>80?255:0;
if(c==3)for(var S=0;S<i.length;S+=4)i[S+3]=Math.min(255,i[S+3]*1.5);x.resetTransform();x.beginPath();
return{Gq:i,qe:y}};bQ.Xw=function(d,W,c){var y=W.e,B=W.p$;bQ.uH=y.dV();var r=it.O_(W),x=Math.max(y.J*y.J,y.gp*y.gp)<1e-9?y:null;
if(r==3||r==4)x=null;var Z={r:[],j:[]};bQ.ap3(d,Z,x,!0);bQ.ap3(d,Z,x,!1);Z=bQ.cW(Z,W,d,c);return Z};
bQ.uH=1;bQ.cW=function(d,W,c,y){if(d==null)return d;if(c&&c.Rp)v.A.e(d.j,c.Rp,d.j);if(c&&!v.lk.uP(W.uI)){var B=it.yo(W,c);
if(!B.Bb()){if(d.r){d=v.A.Oc(d);var r=Math.min(B.m,B.i)/8;if(r<1)r=1;d=v.A._s(d,r)}var x=v.lk.yU(W.uI,B);
v.pK.e(x,d.j,B)}}var Z=W.e;if(y)v.A.e(d.j,Z,d.j);return d};bQ.aeI=function(d,W){W.save();W.miterLimit=2;
Typr.U.pathToContext({crds:d.j,cmds:d.r},W);W.restore()};bQ.GM=function(d,W,c){var y=iS.aBq(c),B=d.p$,r=B.ResourceDict.FontSet,x=B.ResourceDict.StyleSheetSet[0].StyleSheetData,Z=B.EngineDict.StyleRun.RunLengthArray,i=B.EngineDict.StyleRun.RunArray,k=it.H5(B),H=!0,V={},g=0;
for(var S=0;S<i.length;S++){var N=i[S].StyleSheet.StyleSheetData.Font;if(N==null)N=x.Font;for(var C=0;
C<Z[S];C++){var w=k.charCodeAt(g+C),Y=N+","+(w>128?w:-1);if(V[Y]==null){V[Y]=1;if(W.FP(r[N].Name,w)==null)H=!1}}g+=Z[S]}return H&&y};
bQ.Q0=function(d,W,c){var y=!0;for(var B=0;B<d.B.length;B++){var r=d.B[B],x=r.add.TySh;if(x!=null&&!bQ.GM(x,W,c))y=!1}return y};
bQ.bn=function(d,W,c){for(var y=0;y<d.B.length;y++){var B=d.B[y],r=B.add.TySh;if(r!=null&&bQ.GM(r,W,c)){bQ.pp(B,W);
d.W()}}};bQ.ap3=function(d,W,c,y){var B=new dT;for(var S=0;S<d.a0.length;S++)bQ.aBI(d.Cr,d.a0[S],W,B,c,y)};
bQ.aBI=function(d,W,c,y,B,r){y.translate(W.sZ.x,W.sZ.y);for(var S=0;S<W.RV.length;S++){var x={},Z=W.RV[S];
if(!Z.Cj)break;var i=y.clone();i.translate(Z.sZ.x,Z.sZ.y);if(B){var k=B.rk+i.rk*B.x7;i.rk=(Math.round(k)-B.rk)/B.x7}for(var H=Z.start;
H<Z.end;H++)bQ.aAF(d,W.Tl[H],W,x,c,i,r)}y.translate(-W.sZ.x,-W.sZ.y)};bQ.aAF=function(d,W,c,y,B,r,x){r.translate(W.sZ.x,W.sZ.y);
for(var Z=W.Cm;Z<=W.Iq;Z++){var i=c.A0[Z],k=i.qe.m,H=d[c.awQ+i.ld],V=H.cw._FillBackgroundFlag;if(H.PW=="\n"||x&&!V)continue;
var g=H.cw.FontSize/H.Da.head.unitsPerEm,N=r.clone();N.translate(i.sZ.x+i.dQ*g,i.sZ.y-i.s8*g);var C=new dT;
C.scale(g,-g);if(H.cw.FauxItalic)C.concat(new dT(1,0,-Math.tan(.18),1,0,0));C.translate(0,H.xc);C.scale(H.scale.x,H.scale.y);
if(H.cw.BaselineShift!=null)C.translate(0,-H.cw.BaselineShift);if(i.Pk!=0){C.rotate(-i.Pk)}C.concat(N);
var w=(H.cw._LineWidth?H.cw._LineWidth:1)*bQ.uH;if(x){B.r.push(bQ.$D(H.cw._FillBackgroundColor));var Y=1.005*i.qe.i/g,U=new a8(-i.dQ,-Y*.27,1.03*i.qe.m/(g*H.scale.x),Y);
if(H.cw.StrokeFlag)U.Lx(w/g,w/g);v.A.concat(B,v.A.z$(U),C);B.r.push("X");continue}if(H.cw.FillFlag)B.r.push(bQ.$D(H.cw.FillColor));
if(H.cw.StrokeFlag)B.r.push("O-"+bQ.$D(H.cw.StrokeColor)+"-"+w);if(i.path.r.length!=0&&H.PW!="\t"){if(H.cw.FauxBold){var e=H.cw.FontSize/2048*27*H.scale.x,O=Math.cos(i.Pk)*e,l=Math.sin(i.Pk)*e;
C.IS+=O;C.rk+=l;v.A.concat(B,i.path,C);C.IS-=O+O;C.rk-=l+l;v.A.concat(B,i.path,C)}else v.A.concat(B,i.path,C)}if(H.PW!="\n"){var I=i.qe.m/g;
if(H.cw.Underline){if(y.ev==null)y.ev=H.Da.post.underlineThickness;if(y.adb==null)y.adb=H.Da.post.underlinePosition;
var s=0,z=y.adb-y.ev/2,R=-y.ev;v.A.concat(B,{r:["M","L","L","L","Z"],j:[s,z,s+I,z,s+I,z+R,s,z+R]},C)}if(H.cw.Strikethrough){var t=H.Da["OS/2"].yStrikeoutSize,a=H.Da["OS/2"].yStrikeoutPosition,s=0,z=a+t/2,R=-t;
v.A.concat(B,{r:["M","L","L","L","Z"],j:[s,z,s+I,z,s+I,z+R,s,z+R]},C)}}if(H.cw.FillFlag)B.r.push("X");
if(H.cw.StrokeFlag)B.r.push("OX")}r.translate(-W.sZ.x,-W.sZ.y)};bQ.$D=function(d){var W=it.E5(d),c=(Math.round(W.Z)<<16)+(Math.round(W.G)<<8)+Math.round(W.J);
return"#"+v.Wb(c)};function iS(d,W,c){var y=it.$_(d),B,r,x=it.kq(d),Z=d._LineOrientation==2?new dT:null,V,N;
if(d.Curve)r=iS.jt(d.Curve);if(y!=0){B=new a8(x[0],x[1],x[2],x[3]);if(Z){var i=B.m;B.m=B.i;B.i=i;Z.translate(0,-x[2])}if(y==2){B.m=r[5]-r[4];
B.i=9999}}this.a0=[];this.Cr=[];this.zT=y;this.Rp=Z;var k=this.aBT=it.H5(d),H=-1,g=-1;for(var S=0;S<k.length;
S++){var C=V,w=it.aa8(d,S);if(w!=H){H=w;C=V=it.a9S(d,w)}var Y=N,w=it.abE(d,S);if(w!=g){g=w;Y=N=it.a3A(d,w)}var U={PW:k.charAt(S),cw:C,Da:null,mU:-1,I2:it.a8D(d,S),xc:0,scale:new aL(0,0),ZD:0,lineHeight:0,jc:0},e=d.ResourceDict.FontSet[C.Font].Name,O=U.Da=W.FP(e,k.charCodeAt(S));
U.scale.x=C.HorizontalScale==null?1:C.HorizontalScale;U.scale.y=C.VerticalScale==null?1:C.VerticalScale;
var l=O["OS/2"],I=O.hhea;if(C.FontCaps==1&&U.PW!=U.PW.toUpperCase()){var s=l.sxHeight?l.sxHeight/l.sTypoAscender:.76;
U.scale.x*=s;U.scale.y*=s}var z=1/O.head.unitsPerEm*C.FontSize;if(C.FontBaseline==1){var s=d.ResourceDict.SuperscriptSize;
U.scale.x*=s;U.scale.y*=s;U.xc-=d.ResourceDict.SuperscriptPosition*C.FontSize}if(C.FontBaseline==2){var s=d.ResourceDict.SubscriptSize;
U.scale.x*=s;U.scale.y*=s;U.xc+=d.ResourceDict.SubscriptPosition*C.FontSize}U.ZD=iS.ZD(O)*C.FontSize;
var R=Y.AutoLeading;U.lineHeight=C.FontSize*(R==null?1.2:R);if(C.AutoLeading==!1)U.lineHeight=C.Leading;
if(U.lineHeight==0)U.lineHeight=.01;this.Cr.push(U)}var t=this.a0,a=[0];for(var S=0;S<d.EngineDict.ParagraphRun.RunLengthArray.length;
S++){var J=new iS.f1(d,W,this.Cr,S,B,a,y==1?r:null);t.push(J)}if(Z){if(y==0)Z.translate(0,t[0].Tl[0].ZD/2);
Z.rotate(-Math.PI/2)}if(y==2){var F=d.Curve.Points,h=r[0],m=r[1],D=r[2],_=r[3],n=r[4],j=r[5];for(var S=0;
S<t.length;S++)for(var T=0;T<t[S].RV.length;T++)if(!(S==0&&T==0))t[S].RV[T].Cj=!1;var J=t[0],L=J.RV[0];
J.sZ.sq(0,0);L.sZ.sq(0,0);for(var T=L.start;T<L.end;T++){var p=J.Tl[T],E=p.sZ.x;p.sZ.x=0;for(var G=p.Cm;
G<=p.Iq;G++){var A=J.A0[G],u=A.qe.m/2;A.sZ.x+=E;var q=iS.az_(h,(n+A.sZ.x+u)%_);A.sZ.x=q[0]-u*q[2];A.sZ.y=q[1]-u*q[3];
A.Pk=Math.atan2(q[3],q[2])}}}if(c){var o=c.VAlign.v;if(o!=0&&it.$_(d)==1){var M=it.kq(d)[3],$=this.kt().i,Q=0;
if(o==1)Q=M-$;if(o==2)Q=(M-$)/2;for(var S=0;S<this.a0.length;S++)this.a0[S].sZ.y+=Q}}}iS.ZD=function(d){var W=d._hhhh;
if(W==null){var c=Typr.U,y=c.codeToGlyph(d,104),B=v.A.c7(Typr.U.glyphToPath(d,y).crds).i;W=d._hhhh=B*(1/d.head.unitsPerEm)}return W};
iS.prototype.aCI=function(){return!this.a5Y(0)};iS.prototype.axY=function(){return this.a5Y(1)};iS.prototype.a5Y=function(d){var W=this.a0,c=!0,y=0;
for(var S=0;S<W.length;S++){var B=W[S].RV,r=B.length;y+=r;for(var x=0;x<r;x++)c&=B[x].Cj}return[c,y][d]};
iS.jt=function(d,W,c){if(W==null)W=.25;var y=d.Points,B=y.length,r=B>>>3,x=d.TextOnPathTRange,Z=d.Reversed,g=0,N=0;
if(Z){var i=y.slice(0);for(var S=0;S<B;S+=2){i[S]=y[B-2-S];i[S+1]=y[B-1-S]}y=i;x=[r-x[1]%r,r-x[0]%r]}var k=[],H=[0],V=[0];
for(var S=0;S<B;S+=8){var C=y[S+6]-y[S+0],w=y[S+7]-y[S+1],Y=Math.round(Math.sqrt(C*C+w*w)/W),U=c&&S==B-8?Y+1:Y;
for(var e=0;e<U;e++){var O=e/Y,l=1-O,I=l*l*l*y[S+0]+3*l*l*O*y[S+2]+3*l*O*O*y[S+4]+O*O*O*y[S+6],s=l*l*l*y[S+1]+3*l*l*O*y[S+3]+3*l*O*O*y[S+5]+O*O*O*y[S+7];
k.push(I,s);if(S+e!=0){var C=I-g,w=s-N;V.push(V[V.length-1]+Math.sqrt(C*C+w*w));H.push((S>>>3)+O)}g=I;
N=s}}var W=V.length,z=V[W-1],R=iS.a7(x[0]%r,H),t=iS.a7(x[1]%r,H),a=V[R%W],J=V[t%W];if(a>=J)J+=z;return[k,H,V,z,a,J]};
iS.a7=function(d,W){var S=0;while(W[S]<d)S++;return S};iS.az_=function(d,W){var c=0,S=0,y,B,r;while(c<W){y=d[S+2]-d[S];
B=d[S+3]-d[S+1];r=Math.sqrt(y*y+B*B);c+=r;S+=2}return[d[S],d[S+1],y/r,B/r]};iS.prototype.atn=function(d){return this.Cr[d]};
iS.prototype.asA=function(d){for(var W=0;W<this.a0.length;W++){var c=this.a0[W];for(var y=0;y<c.RV.length;
y++){var B=c.RV[y],r=c.Tl[B.start].start,x=c.Tl[B.end-1].end;if(r<d&&d<x)return[r,x-1]}}return[0,1]};
iS.prototype.ar8=function(d,W){var c=-1,y=this.a0;if(this.zT==2){var B=1e9,r=0,x=y[0],Z=x.RV[0];for(var i=Z.start;
i<Z.end;i++){var k=x.Tl[i];for(var H=k.Cm;H<=k.Iq;H++){var V=x.A0[H],g=V.qe.m,N=d.x-V.sZ.x,C=d.y-V.sZ.y,w=N*N+C*C;
if(w<B){B=w;r=V.ld}}}if(r!=0&&this.aBT.codePointAt(r-1)>65535)r--;return r}for(var Y=0;Y<y.length;Y++){var x=y[Y];
for(var U=0;U<x.RV.length;U++){c++;var Z=x.RV[U],e=x.RV[U+1];if(e==null&&Y<y.length-1)e=y[Y+1].RV[0];
if(W!=null){if(c!=W)continue}else{if(e!=null&&x.sZ.y+Z.sZ.y<d.y)continue}for(var i=Z.start;i<Z.end;i++){var k=x.Tl[i];
for(var H=k.Cm;H<=k.Iq;H++){var V=x.A0[H],g=V.qe.m,O=x.sZ.x+Z.sZ.x+k.sZ.x,l=O+V.sZ.x,I=O+(H<k.Iq?x.A0[H+1].sZ.x:V.sZ.x+g);
if(d.x<=I||i+1==Z.end&&H==k.Iq){var s=x.awQ+V.ld,z=this.Cr[s],R=z.jc&1;if(z.PW!="\n"&&(R==0&&d.x>l+g/2||R==1&&d.x<l+g/2))s+=this.aBT.codePointAt(s)>65535?2:1;
return s}}}}}};iS.prototype.rF=function(d){var W={qe:new a8,Qu:0},c=0;for(var y=0;y<this.a0.length;y++){var B=this.a0[y];
for(var r=0;r<B.RV.length;r++){var x=B.RV[r];W.Qu=c;c++;for(var Z=x.start;Z<x.end;Z++){var i=B.Tl[Z];
for(var k=i.start;k<i.end;k++){if(k==d){var H=this.Cr[k],V=H.mU,g=B.A0[V].ld,N=1;while(B.A0[V]!=null&&B.A0[V].ld==g){var C=B.A0[V],w=B.sZ.x+x.sZ.x+i.sZ.x+C.sZ.x,Y=B.sZ.y+x.sZ.y+i.sZ.y+C.sZ.y;
W.qe=W.qe.hB(new a8(w,Y-H.lineHeight,C.qe.m,H.lineHeight));W.Pk=C.Pk;V+=N}return W}}}}}};iS.prototype.kt=function(){var d=Infinity,W=Infinity,c=-Infinity,y=-Infinity;
for(var S=0;S<this.a0.length;S++){var B=this.a0[S];for(var r=0;r<B.RV.length;r++){var x=B.RV[r];if(!x.Cj)break;
for(var Z=x.start;Z<x.end;Z++){var i=B.Tl[Z];for(var k=i.Cm;k<=i.Iq;k++){var H=B.A0[k],V=H.qe,g=B.sZ.x+x.sZ.x+i.sZ.x+H.sZ.x,N=B.sZ.y+x.sZ.y+i.sZ.y+H.sZ.y;
d=Math.min(d,g+V.x);W=Math.min(W,N+V.y);c=Math.max(c,g+V.x+V.m);y=Math.max(y,N+V.y+V.i)}}}}return new a8(d,W,c-d,y-W)};
iS.WN=function(d){return 19968<=d&&d<=40959||12288<=d&&d<=12543};iS.ll=function(d,W,c,y,B,r,x){var Z=[r],i=0;
for(var S=r;S<x;S++){if(c[S]==null)console.log(S,r,x,c);var k=c[S].PW,H=k.charCodeAt(0);if(H==32||H==9){Z.push(i,S,1,S+1);
i=0}else if(H==3851){Z.push(i+1,S+1);i=0}else if(iS.WN(H)){Z.push(i,S);i=1}else if(S!=r&&c[S].jc!=c[S-1].jc){Z.push(i,S);
i=1}else i++}Z.push(i);var V=[];for(var S=0;S<Z.length;S+=2){var g=Z[S],N=Z[S+1];if(N==0)continue;V.push(new iS.aek(d,W,c,y,B,g,N))}return V};
iS.a1C=function(d,W,c,y,B,r,x){var Z=[0,W?W.m:1e9],i=[];if(y){var k=d[r].ZD,H=B+(B==0?k:d[r].lineHeight),V=H-k*.9,g=v.A.af2(y[0],V),N=g.length,C=v.A.af2(y[0],H),w=C.length;
if(N!=0&&w!=0){var Y=0,U=0,e=[];while(Y<N&&U<w){var O=Math.max(g[Y],C[U]),l=g[Y+1],I=C[U+1],s=Math.min(l,I);
if(O<s)e.push(O,s);if(l<I)Y+=2;else U+=2}if(e.length!=0)Z=e}}for(var z=0;z<Z.length;z+=2){var R=0,t=r,a=W?Z[z+1]-Z[z]-c.StartIndent-c.EndIndent-(r==0?c.FirstLineIndent:0):Infinity;
while(r!=d.length){var J=d[r],F=R==0||(J.f4||J.aq)||R+J.qe.m<a;if(!F)break;R+=J.qe.m;r++}i.push(r-t)}x[0]=i;
x[1]=Z;x[2]=r};iS.a9e=function(d,W){var c=d.length,y=new Uint32Array(c),B=new Uint8Array(c),r=0;for(var S=0;
S<c;S++){B[S]=0;var x=d.charCodeAt(S);y[S]=x;if(x>r)r=x}if(r>1424)B=iS.aaI(y,W);return B};iS.aaF=function(d){return d=="ß"?d:d.toUpperCase()};
iS.f1=function(d,W,c,y,B,r,x){this.Tl=[];this.RV=[];this.sZ=new aL(0,0);this.A0=null;this.Tl=null;this.cw=it.a3A(d,y);
var Z=this.cw,V=0,C="",O=0,l=1,G=0;if(y!=0){var i=Z.SpaceBefore;if(i!=null)r[0]+=i}var k=d.EngineDict.ParagraphRun.RunLengthArray,H=k[y];
for(var S=0;S<y;S++)V+=k[S];var g=Z._Direction?Z._Direction:0;this.awQ=V;var N=it.H5(d).slice(V,V+H);
for(var w=0;w<N.length;w++){var Y=N.charAt(w);C+=c[V+w].cw.FontCaps==0?Y:iS.aaF(Y)}N=C;var U=iS.a9e(N,g),e=[],I=U[S]&1,s=c[V].Da;
c[V].jc=U[0];for(var S=1;S<N.length;S++){var Y=c[V+S],z=U[S];Y.jc=z;if(z!=I||Y.Da!=s){e.push(O,l);O=S;
l=1;I=z;s=Y.Da}else l++}e.push(O,l);var R=this.A0=[];for(var S=0;S<e.length;S+=2){var t=e[S],a=e[S+1],J=(c[V+t].jc&1)==0,F=N.slice(t,t+a),h=Typr.U.shapeHB(c[V+t].Da,F,J),m=[],n=0;
for(var w=0;w<h.length;w++){var D=h[w];m.push({G:D.g,ld:D.cl,$p:D.ax,$U:D.ay,dQ:D.dx,s8:D.dy})}h=m;var _=h.slice(0);
if(!J)_.reverse();for(var w=0;w<F.length;w++){while(n+1<_.length&&_[n+1].ld<=w){n++}while(n>0&&_[n-1].ld==w)n--;
c[V+t+w].mU=R.length+(J?n:_.length-n-1)}for(var w=0;w<h.length;w++){R.push(h[w]);h[w].ld+=t;var Y=c[V+h[w].ld];
if(Y.I2!=-1&&Y.I2<Y.Da.maxp.numGlyphs){h[w].G=Y.I2;var j=Y.Da.hmtx;if(j){var T=Object.keys(j)[0];h[w].$p=j[T][Y.I2]}}if(Y.PW=="\n")h[w].$p=0;
if(Y.PW=="\t")h[w].$p=Y.Da.head.unitsPerEm*36/Y.cw.FontSize}}var L=it.UN(Z),p=this.Tl=iS.ll(d,W,c,V,R,V,V+H),E=this.RV,A=-1,C=[null,null,0];
while(G<p.length){iS.a1C(p,B,Z,x,r[0],G,C);A++;var u={start:G,end:0,qe:new a8,sZ:new aL(0,0),Cj:!0},b9=0,bK=0;
E.push(u);u.end=C[2];if(u.start==u.end)throw"e";var q=u.end==p.length;function o(_,t,hX){var gR=hX-t>>>1;
for(var S=0;S<gR;S++){var ib=_[t+S];_[t+S]=_[hX-1-S];_[hX-1-S]=ib}}for(var M=1;M<5;M++){var $=-1;for(var S=u.start;
S<u.end;S++){var z=c[p[S].start].jc;if($==-1&&z>=M)$=S;else if($!=-1&&z<M){o(p,$,S);$=-1}}var Q=u.end;
if(g==0&&p[Q-1].f4)Q--;if($!=-1)o(p,$,Q)}var kF=C[0],P=C[1],$=G,bM=G;for(var jW=0;jW<P.length;jW+=2){var fX=B?P[jW+1]-P[jW]-Z.StartIndent-Z.EndIndent-(G==0?Z.FirstLineIndent:0):Infinity,bX=0;
$=bM;bM+=kF[jW>>>1];var ao=this.azn($,bM,p,g,B!=null);if(B){if(L==1||q&&L==4)bX=ao[1]+(fX-ao[0]);if(L==2||q&&L==5)bX=ao[1]+(fX-ao[0])/2;
if(bM-$==1&&p[$].qe.m>fX)bX=0;if(A==0)bX+=Z.FirstLineIndent;bX+=Z.StartIndent}else{if(L==0)bX=Z.StartIndent+Z.FirstLineIndent;
if(L==1)bX=-ao[0]-Z.EndIndent;if(L==2)bX=-ao[0]/2}bX+=P[jW];if(B&&L>2&&(L==6||!q))this.auo($,bM,p,fX,g,bX);
else{var en=bX;for(var S=$;S<bM;S++){var fK=p[S],bO=fK.qe.m;fK.sZ.x=en;if(fK.Y4=="\t")bO=Math.ceil((en+4)/36)*36-en;
en+=bO}}}G=u.end;for(var S=u.start;S<u.end;S++){var f0=p[S].qe.clone();f0.en(p[S].sZ);u.qe=u.qe.hB(f0);
b9=Math.max(b9,p[S].ZD);bK=Math.max(bK,p[S].lineHeight)}u.sZ.y=A==0?0:E[A-1].sZ.y+bK;if(A==0){if(y==0&&B)r[0]+=b9;
if(y!=0)r[0]+=bK;this.sZ.y=r[0]}else r[0]+=bK;if(B)u.Cj=this.sZ.y+u.sZ.y<B.y+B.i||y==0&&A==0}var hn=Z.SpaceAfter;
if(hn!=null)r[0]+=hn};iS.f1.prototype.azn=function(d,W,c,y,B){var r=0,x=0;for(var S=d;S<W;S++)r+=c[S].qe.m;
if(B){if(y==0)for(var S=W-1;S>=d;S--)if(c[S].f4||c[S].aq)r-=c[S].qe.m;else break;if(y==1)for(var S=d;
S<W;S++)if(c[S].f4||c[S].aq){var Z=c[S].qe.m;r-=Z;x-=Z}else break}return[r,x]};iS.f1.prototype.auo=function(d,W,c,y,B,r){var x=0,Z=0,i=0,k=0;
for(var S=d;S<W;S++)if(c[S].f4)i++;else{x+=c[S].qe.m;Z++}if(B==0)for(var S=W-1;S>=d;S--)if(c[S].f4||c[S].aq){if(c[S].f4){i--}}else break;
if(B==1)for(var S=d;S<W;S++)if(c[S].f4||c[S].aq){if(c[S].f4){i--;k++}}else break;if(Z<=1||i==0){if(Z==1)c[d].sZ.x=r;
return}var H=(y-x)/i,V=-k*H;for(var S=d;S<W;S++){if(c[S].f4)this.A0[c[S].Cm].qe.m=c[S].qe.m=H;c[S].sZ.x=r+V;
V+=c[S].qe.m}};iS.aek=function(d,W,c,y,B,r,x){this.Y4="";for(var S=0;S<x;S++)this.Y4+=c[r+S].PW;this.f4=x==1&&(c[r].PW==" "||c[r].PW=="\t");
this.aq=x==1&&c[r].PW=="\n";this.start=r;this.end=r+x;this.qe=new a8;this.sZ=new aL(0,0);this.ZD=0;this.lineHeight=0;
var Z=0,i=0;if(x==0){this.lineHeight=c[r].lineHeight;this.ZD=c[r].ZD;this.qe=new a8(0,-c[r].lineHeight,0,c[r].lineHeight)}var k=c[r].mU,H=c[r+x-1].mU;
if(H<k){var V=k;k=H;H=V}while(H+1<B.length&&B[H].ld==B[H+1].ld){H++}this.Cm=k;this.Iq=H;for(var g=k;
g<=H;g++){var N=B[g],C=c[y+N.ld],w=d._LineOrientation==2&&(C.cw.BaselineDirection!=2||iS.WN(C.PW.charCodeAt(0))),Y=Typr.U.glyphToPath(C.Da,N.G),I=0;
N.path={r:Y.cmds,j:Y.crds};var U=C.cw.FontSize,e=1/C.Da.head.unitsPerEm*U;if(!C.cw.AutoKerning)Z+=C.cw.Kerning*2*e*C.scale.x;
N.sZ=new aL(Z,0);N.Pk=0;if(w&&N.path.j.length>0){N.Pk=-Math.PI/2;N.sZ.x+=U*.83;N.sZ.y=-U*.3+N.$p*e/2;
N.$p=U/e}var O=N.$p*e*C.scale.x;N.qe=new a8(0,-C.lineHeight,O,C.lineHeight);var l=N.qe.clone();l.en(N.sZ);
if(C.cw.Tracking!=null)I=C.cw.Tracking*.001*U;if(C.cw.FauxBold==!0)I+=.027*U;Z+=O+I;if(g<B.length-2)N.qe.m+=I;
if(x==1&&C.PW==" "){l.m+=2*I;N.sZ.x+=I}else if(x==1&&C.PW!=null&&iS.WN(C.PW.charCodeAt(0)))l.m+=I;this.qe=this.qe.hB(l);
this.ZD=Math.max(this.ZD,C.ZD);this.lineHeight=Math.max(this.lineHeight,C.lineHeight)}};iS.nU=0;iS.aBq=function(d){if(iS.nU==2)return!0;
if(iS.nU==1)return!1;iS.nU=1;function W(){fetch("code/ext/fribidi.wasm").then(function(c){return c.arrayBuffer()}).then(function(c){return WebAssembly.instantiate(c)}).then(function(c){var y=c.instance.exports,B=y.memory,r=16,x=256,Z=1,i=r|x,k=r|x|Z;
iS.aaI=function(V,g){var N=V.length,C=N*4+4+N*4+N*4+N;fd._f(y,C+N+1e7);var w=new Uint8Array(B.buffer),Y=new Uint32Array(B.buffer),U=y.calloc(C,1),e=U+N*4,O=e+4,l=O+N*4,I=l+N*4;
Y.set(V,U>>>2);Y[e>>>2]=g==0?i:k;y.fribidi_get_bidi_types(U,N,O);y.fribidi_get_bracket_types(U,N,O,l);
y.fribidi_get_par_embedding_levels_ex(O,l,N,e,I);var s=w.slice(I,I+N);y.free(U);return s};iS.nU=2;var H=new bR(b.E.V,!0);
H.data={d:b.H.e7,K3:"add",au:kG.hF,U0:null};d.T(H)})}Typr.U.initHB("code/ext/hb.wasm",W);return!1};function it(){}it.kX=function(d){return JSON.parse(JSON.stringify(d))};
it.k_=function(d,W){for(var c in W)d[c]=W[c]};it.De=function(d,W,c,y){var B=it.a3T();if(c)it.ml(B,0,0,c);
var r=new dT;if(y!=null)r.rotate(y);r.translate(Math.round(d),Math.round(W));var x={e:r,p$:B};x.wy=it.aeV();
x.uI=v.lk.R();x.Nz=new a8;return x};it.a2G=function(d){var W=["CharacterDirection",0];for(var S=0;S<W.length;
S+=2){if(d[W[S]]!=null&&d[W[S]]!=W[S+1]){throw"e";console.log(W[S],d[W[S]])}}if(d instanceof Array)for(var S=0;
S<d.length;S++)it.a2G(d[S]);else if(d instanceof Object)for(var c in d)it.a2G(d[c])};it.UN=function(d,W){if(W==null)W=d.Justification;
var c=d._Direction?d._Direction:0;if(c==1){if(W==0||W==3)W++;else if(W==1||W==4)W--}return W};it.Dz=function(d){if(d.add==null)return;
var W=d.p$,c=W.Curve,y=d.add.vmsk,B=y.Y,r=v.A.ly(B,2).j,x=d.e.clone();x.QE();v.A.e(r,x,r);var Z=r.slice(0,8);
for(var i=8;i<r.length;i+=6)Z.push(r[i-2],r[i-1],r[i],r[i+1],r[i+2],r[i+3],r[i+4],r[i+5]);c.Points=Z;
c.TextOnPathTRange=y.sF.slice(0);c.Reversed=y.KV;if(it.$_(W)==1){var c=iS.jt(W.Curve),k=v.A.c7(c[0]);
it.r_(W,[0,0,k.m,k.i].map(Math.round));for(var S=0;S<Z.length;S+=2){Z[S]-=k.x;Z[S+1]-=k.y}var H=new dT(1,0,0,1,k.x,k.y);
H.concat(d.e);d.e=H}};it.vF=function(d){if(d.add==null)return;var W=d.add.vmsk,c=d.p$.Curve,y=c.Points,B={r:["M"],j:[y[0],y[1]]};
for(var S=0;S<y.length;S+=8){B.r.push("C");B.j.push(y[S+2],y[S+3],y[S+4],y[S+5],y[S+6],y[S+7])}v.A.e(B.j,d.e,B.j);
var r=v.A.fI(B,!0);W.Y=r;W.KV=c.Reversed;W.sF=c.TextOnPathTRange.slice(0);d.add.vogk=e8.h0(r)};it.E5=function(d){var W={Z:0,G:0,J:0};
if(d){var c=d.Values;if(d.Type==1)W={Z:c[1]*255,G:c[2]*255,J:c[3]*255};else if(d.Type==2){var y={classID:"CMYC",Cyn:{t:"doub",v:c[1]*100},Mgnt:{t:"doub",v:c[2]*100},Ylw:{t:"doub",v:c[3]*100},Blck:{t:"doub",v:c[4]*100}};
W=v.L.E5(y)}else console.log("Unknown color type")}return W};it.abt=function(d){for(var S=0;S<d.length;
S++){var W=d[S].StyleSheet.StyleSheetData,c=W.FillColor;if(c&&c.Type==2){var y=it.E5(c);c.Type=1;c.Values=[1,y.Z/255,y.G/255,y.J/255]}}};
it.yo=function(d,W){var c;if(it.$_(d.p$)==1){var y=it.kq(d.p$);c=new a8(0,0,y[2]-y[0],y[3]-y[1])}else{c=W.kt();
if(W.Rp){var B=W.Rp.clone(),r=v.A.z$(c);v.A.e(r.j,B,r.j);c=v.A.c7(r.j)}}return c};it.lU=function(d){var W=d[0];
for(var S=0;S<d.length;S++)W=it.azF(W,d[S]);return W};it.azF=function(d,W){var c={};for(var y in d)if(JSON.stringify(d[y])==JSON.stringify(W[y]))c[y]=d[y];
return c};it.nn=function(d,W){var c=d.Xt,y=-1;for(var S=0;S<c.length;S++)if(c[S].Name==W)y=S;if(y==-1){y=c.length;
c.push({FontType:1,Name:W,Script:0,Synthetic:0})}d.Cr.Font=y};it.H5=function(d){return d.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
it.fl=function(d,W){d.EngineDict.Editor.Text=W.replace(/\n/g,"\r")};it.$_=function(d){return d.Curve&&d.Curve.TextOnPathTRange[0]>=0?2:d.EngineDict.Rendered.Shapes.Children[0].ShapeType};
it.gF=function(d,W){var c=d.EngineDict.Rendered.Shapes.Children[0];c.ShapeType=W;var y=c.Cookie.Photoshop;
y.ShapeType=W;y.Base.ShapeType=W;if(W==0){delete y.BoxBounds;y.PointBase=[0,0]}if(W==1){delete y.PointBase;
y.BoxBounds=[0,0,1,1]}};it.kq=function(d){return d.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
it.r_=function(d,W){d.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=W};it.a8D=function(d,W){var c=d.EngineDict.AlternateGlyphRun;
if(c==null)return-1;var y=it.qq(c.RunLengthArray,W).L9;if(c.RunArray[y]==null)return-1;var B=c.RunArray[y].Glyph;
return B==null?-1:B};it.aD3=function(d,W,c){var y=d.EngineDict.AlternateGlyphRun;if(y==null){y=d.EngineDict.AlternateGlyphRun=it.aiO();
y.RunArray.push({});y.RunLengthArray.push(it.H5(d).length)}var B=it.qq(y.RunLengthArray,W),r=B.L9,x=W-B.bx,Z=y.RunArray[r],i=JSON.stringify(Z),k=y.RunLengthArray[r];
if(x!=0){y.RunArray.splice(r,0,JSON.parse(i));y.RunLengthArray.splice(r,0,x);y.RunLengthArray[r+1]-=x;
r++;k-=x;x=0}if(k!=1){y.RunArray.splice(r+1,0,JSON.parse(i));y.RunLengthArray.splice(r+1,0,k-1);y.RunLengthArray[r]=1;
k=1}Z.Glyph=c};it.aa8=function(d,W){var c=d.EngineDict.StyleRun.RunLengthArray;return it.qq(c,W).L9};
it.a9S=function(d,W){var c=d.ResourceDict.StyleSheetSet[0].StyleSheetData,y={};for(var B in c)y[B]=c[B];
var r=d.EngineDict.StyleRun.RunArray[W].StyleSheet.StyleSheetData;it.k_(y,r);return y};it.abE=function(d,W){var c=d.EngineDict.ParagraphRun.RunLengthArray;
return it.qq(c,W).L9};it.a3A=function(d,W){var c=d.ResourceDict.ParagraphSheetSet[0].Properties,y={};
for(var B in c)y[B]=c[B];var r=d.EngineDict.ParagraphRun.RunArray[W].ParagraphSheet.Properties;it.k_(y,r);
var x=["StartIndent","EndIndent","FirstLineIndent"];for(var S=0;S<3;S++)if(y[x[S]]==null)y[x[S]]=0;return y};
it.kL=function(d,W,c){if(c=="")return;var y=it.H5(d);it.fl(d,y.substring(0,W)+c+y.substring(W,y.length));
var B=d.EngineDict.StyleRun,r=B.RunLengthArray,x=it.qq(r,W-1);r[x.L9]+=c.length;var Z=d.EngineDict.AlternateGlyphRun;
if(Z){var r=Z.RunLengthArray,x=it.qq(r,W-1);r[x.L9]+=c.length}var i=d.EngineDict.ParagraphRun,r=i.RunLengthArray,k=it.qq(r,W),H=c.split("\n");
if(H.length==1){r[k.L9]+=c.length;return}r.splice(k.L9+1,0,r[k.L9]-(W-k.bx));i.RunArray.splice(k.L9+1,0,it.kX(i.RunArray[k.L9]));
r[k.L9]-=r[k.L9+1];r[k.L9]+=H[0].length+1;for(var S=1;S<H.length-1;S++){i.RunArray.splice(k.L9+S,0,it.kX(i.RunArray[k.L9+S-1]));
i.RunLengthArray.splice(k.L9+S,0,H[S].length+1)}r[k.L9+H.length-1]+=H[H.length-1].length};it.iI=function(d,W,c){var y=it.H5(d);
it.fl(d,y.substring(0,W)+y.substring(c,y.length));it.cI(d.EngineDict.ParagraphRun,W,c,!0);it.cI(d.EngineDict.StyleRun,W,c,!1);
var B=d.EngineDict.AlternateGlyphRun;if(B)it.cI(B,W,c,!1)};it.cI=function(d,W,c,y){var B=d.RunLengthArray,r=it.qq(B,W),x=it.qq(B,c),Z=[];
for(var S=0;S<B.length;S++)for(var i=0;i<B[S];i++)Z.push(S);Z.splice(W,c-W);var k=[];for(var S=0;S<B.length;
S++)k.push(0);for(var S=0;S<Z.length;S++)k[Z[S]]++;for(var S=0;S<B.length;S++){if(k[S]==0){k.splice(S,1);
B.splice(S,1);d.RunArray.splice(S,1);S--}else if(k[S]<B[S])B[S]=k[S]}if(y&&r.L9!=x.L9&&r.bx!=W){B[r.L9]+=B[r.L9+1];
B.splice(r.L9+1,1);d.RunArray.splice(r.L9+1,1)}};it.ml=function(d,W,c,y){var B=d.EngineDict.Editor.Text.length;
if(c==B-2)c++;if(y.Cr.Font!=null)d.ResourceDict.FontSet=y.Xt.slice(0);if(W<=c)it.aqn(d.EngineDict.StyleRun,y.Cr,W,c,!0);
it.aqn(d.EngineDict.ParagraphRun,y.a0,W,c,!1)};it.tO=function(d,W,c){var y={Xt:d.ResourceDict.FontSet.slice(0),Cr:[],a0:[]},B=d.EngineDict.StyleRun.RunLengthArray,r=it.qq(B,W).L9,x=it.qq(B,c).L9;
for(var S=r;S<=x;S++){var Z=it.kX(d.ResourceDict.StyleSheetSet[0].StyleSheetData),i=d.EngineDict.StyleRun.RunArray;
if(i.length==0)continue;var k=i[S].StyleSheet.StyleSheetData;it.k_(Z,k);y.Cr.push(Z)}var H=d.EngineDict.ParagraphRun.RunLengthArray,V=it.qq(H,W).L9,g=it.qq(H,c).L9;
for(var S=V;S<=g;S++){var N=d.EngineDict.ParagraphRun.RunArray;if(N.length==0)continue;y.a0.push(it.kX(N[S].ParagraphSheet.Properties))}y.Cr=y.Cr.length==0?{}:it.lU(y.Cr);
y.a0=y.a0.length==0?{}:it.lU(y.a0);return y};it.aqn=function(d,W,c,y,B){var r=d.RunLengthArray;if(B){var x=it.qq(r,c);
if(x.bx!=c){var Z=r[x.L9];r.splice(x.L9,0,c-x.bx);r[x.L9+1]=Z-r[x.L9];d.RunArray.splice(x.L9+1,0,it.kX(d.RunArray[x.L9]))}var i=it.qq(r,y);
if(i.bx+r[i.L9]-1!=y){var Z=r[i.L9];r.splice(i.L9,0,y-i.bx+1);r[i.L9+1]=Z-r[i.L9];d.RunArray.splice(i.L9+1,0,it.kX(d.RunArray[i.L9]))}}var x=it.qq(r,c),i=it.qq(r,y);
if(B)for(var S=x.L9;S<=i.L9;S++)it.k_(d.RunArray[S].StyleSheet.StyleSheetData,W);else for(var S=x.L9;
S<=i.L9;S++)it.k_(d.RunArray[S].ParagraphSheet.Properties,W)};it.a50=function(d,W,c){var y=d.EngineDict.StyleRun.RunLengthArray,B=[],r=0;
for(var S=0;S<y.length;S++){var x=y[S];for(var Z=0;Z<x;Z++)if(W<=r+Z&&r+Z<c)B.push(S);r+=x}var i=B[0],k=[];
for(var S=0;S<B.length;S++){var H=B[S]-i;if(H==k.length)k.push(0);k[H]++}return k};it.ajt=function(d){var W=d.EngineDict.StyleRun,c=W.RunArray,y=W.RunLengthArray;
for(var S=0;S<y.length-1;S++){var B=c[S].StyleSheet.StyleSheetData,r=c[S+1].StyleSheet.StyleSheetData;
if(JSON.stringify(B)==JSON.stringify(r)){c.splice(S+1,1);y[S]+=y[S+1];y.splice(S+1,1);S--}}};it.O_=function(d){var W=d.wy.AntA.v.Annt;
W=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(W);if(W==-1)W=1;return W};it.u0=function(d,W){d.wy.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][W]};
it.bG=function(d,W){var c,y;c=["FontSize","Leading","BaselineShift","_LineWidth"];y=d.Cr;for(var S=0;
S<c.length;S++)if(y[c[S]]!=null)y[c[S]]*=W;c=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
y=d.a0;for(var S=0;S<c.length;S++)if(y[c[S]]!=null)y[c[S]]*=W};it.acu=function(){return it.tO(it.kX(it.auN),0,0)};
it.aeV=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
it.qq=function(d,W){var c=0,S=0;while(c+d[S]<=W){c+=d[S];S++}return{L9:S,bx:c}};it.a3T=function(){var d=it.kX(this.auN);
return d};it.abb=function(d,W){var c=W.a0};it.a9n=function(d,W){var c=W.Cr,y;y=d.Undl;if(y&&y.v.Undl=="underlineOnLeftInVertical")c.Underline=!0;
y=d.syntheticItalic;if(y)c.FauxItalic=y.v};it.a8t={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
it.atv={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
it.aiO=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};it.auN={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(it.a8t))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(it.a8t))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(it.atv))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var jr={};jr.anB=function(d){var W=jr.a3J(d._0,d._1);jr.a26(W,d._0);return W};jr.a2$=function(d,W,c){var y={};
y._98={_0:"i7"};y._0=jr.a5V(d,W,c?c._0:null);y._1=jr.ayV(d,W,y._0,c?c._1:null);return y};jr.a5V=function(d,W,c){var y={};
y._1=jr.acj(d,c?c._1:null);y._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};y._3=JSON.parse(JSON.stringify(jr.aqg));
y._4=JSON.parse(JSON.stringify(jr.afa));y._5=jr.ayi(d,y._1._0,c?c._5:null);y._6=jr.a83(d,c?c._6:null);
y._8=jr.acH(d,W,c?c._8:null);y._9=jr.arI;return y};jr.a26=function(d,W){jr.aDc(d,W._5,W._1._0)};jr.acj=function(d,W){var c=[],y=[];
for(var S=0;S<d.length;S++){var B=d[S].ResourceDict.FontSet;for(var r=0;r<B.length;r++){var x=B[r];if(y.indexOf(x.Name)!=-1)continue;
c.push(x);y.push(x.Name)}}var Z={_0:[]};for(var S=0;S<c.length;S++){var i=c[S],k={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+i.Name,_1:"i"+i.Script,_2:"i"+i.FontType}}};
if(i.Script==0)delete k._0._0._1;Z._0.push(k)}return Z};jr.ayi=function(d,W,c){var y={_0:[],_1:[]},B={_0:JSON.parse(JSON.stringify(jr.aik))};
jr.ahT(B._0,d[0].ResourceDict.StyleSheetSet[0],W,d[0].ResourceDict.FontSet);y._0.push(B);y._1.push({_0:"i0"});
y._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});y._1.push({_0:"i1"});return y};jr.aDc=function(d,W,c){var y=W._0[0];
for(var S=0;S<d.length;S++)jr.axQ(y._0,d[S].ResourceDict.StyleSheetSet[0],c,d[S].ResourceDict.FontSet)};
jr.a83=function(d,W){var c={_0:[],_1:[]},y={_0:JSON.parse(JSON.stringify(jr.f8))};jr.aW(y._0,d[0].ResourceDict.ParagraphSheetSet[0]);
c._0.push(y);c._1.push({_0:"i0"});y={_0:JSON.parse(JSON.stringify(jr.f8))};jr.aW(y._0,d[0].ResourceDict.ParagraphSheetSet[0]);
y._0._0="sBasic Paragraph";y._0._6="i0";c._0.push(y);c._1.push({_0:"i1"});return c};jr.acH=function(d,W,c){var y={_0:[]};
for(var S=0;S<d.length;S++){var B=d[S].Curve,r={};y._0.push({_0:r});var x=it.$_(d[S]);r._1={};r._2={};
r._2._0="i"+x;if(d[S]._LineOrientation==2)r._2._1="i2";if(x==0){delete r._1;r._2._6=["f-1","f-1"];r._2._11={_4:"i-1",_7:!1}}else if(x==1&&B==null){var Z=it.kq(d[S]),i=Z[2],k=Z[3];
r._1._0=jr.mv("f",[0,0,0,0,i,0,i,0,i,0,i,0,i,k,i,k,i,k,i,k,0,k,0,k,0,k,0,k,0,0,0,0]);r._2._6=["f-2","f-2"];
r._2._11={_4:"i-2",_7:!1}}else if(x==1){var Z=it.kq(d[S]),i=Z[2],k=Z[3];r._1._0=jr.mv("f",B.Points);
r._2._6=["f-3","f-3"];r._2._11={_4:"i-3",_7:!1}}else if(x==2){r._1._0=jr.mv("f",B.Points);r._2._6=jr.mv("f",B.TextOnPathTRange);
r._2._11={_0:B.Reversed,_3:"i0",_5:"f0",_7:!1}}}return y};jr.ayV=function(d,W,c,y){var B={};B._0=JSON.parse(JSON.stringify(jr.adY));
B._1=jr.asD(d,W,c,y?y._1:null);B._2=JSON.parse(JSON.stringify(jr.aik._6));B._3=JSON.parse(JSON.stringify(jr.f8._5));
return B};jr.a3J=function(d,W){return jr.afW(d,W._1)};jr.asD=function(d,W,c,y){var B=[],r=c._1._0;for(var S=0;
S<d.length;S++){var x=d[S],Z={_0:{}};B.push(Z);Z._0._0="s"+x.EngineDict.Editor.Text;Z._0._0=Z._0._0;
var i=Z._0._5={_0:[]},k=x.EngineDict.ParagraphRun;for(var H=0;H<k.RunArray.length;H++){var V={_0:{}};
i._0.push(V);V._0._0={_0:"s",_5:{},_6:"i1"};jr.aW(V._0._0,k.RunArray[H].ParagraphSheet);V._1="i"+k.RunLengthArray[H]}var g=Z._0._6={_0:[]};
k=x.EngineDict.StyleRun;for(var H=0;H<k.RunArray.length;H++){var N={_0:{}};g._0.push(N);N._0._0={_0:"s",_5:"i1",_6:{}};
jr.ahT(N._0._0,k.RunArray[H].StyleSheet,r,x.ResourceDict.FontSet);N._1="i"+k.RunLengthArray[H]}k=x.EngineDict.AlternateGlyphRun;
if(k){var C=Z._0._9={_0:[]};for(var H=0;H<k.RunArray.length;H++){var w={_0:{}};C._0.push(w);var Y=k.RunArray[H];
if(Y.Glyph!=null){w._0._0={_0:"i"+Y.Glyph,_1:"e"}}w._1="i"+k.RunLengthArray[H]}}Z._0._10={_0:"i4",_2:!0};
Z._1=jr.view.abJ(x,null,S,null)}return B};jr.afW=function(d,W){var c=[],y=d._1._0;if(W)for(var S=0;S<W.length;
S++){var B=it.a3T();c.push(B);var r=W[S];B.EngineDict.Editor.Text=r._0._0.slice(1);var x=B.EngineDict.ParagraphRun.RunArray[0],Z=B.EngineDict.ParagraphRun,i=r._0._5;
if(i)for(var k=0;k<i._0.length;k++){var H=i._0[k];Z.RunLengthArray[k]=parseInt(H._1.slice(1));Z.RunArray[k]=JSON.parse(JSON.stringify(x));
jr.ag_(H._0._0,Z.RunArray[k].ParagraphSheet)}else{Z.RunLengthArray[0]=it.H5(B).length}var V=r._0._6;
Z=B.EngineDict.StyleRun;if(V)for(var k=0;k<V._0.length;k++){var g=V._0[k];Z.RunLengthArray[k]=parseInt(g._1.slice(1));
Z.RunArray[k]={StyleSheet:{StyleSheetData:{}}};jr.axQ(g._0._0,Z.RunArray[k].StyleSheet,y,B.ResourceDict.FontSet)}else{Z.RunLengthArray[0]=it.H5(B).length;
Z.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return c};jr.ahT=function(d,W,c,y,B){d._0="s"+(W.Name?W.Name:"");
var r=d._6,x=B?B._6:null,Z=W.StyleSheetData;if(Z.Font!=null){var i=y[Z.Font].Name,k=-1;for(var S=0;S<c.length;
S++)if("s"+i==c[S]._0._0._0){k=S;break}r._0="i"+k}if(Z.FontSize!=null)r._1="f"+Z.FontSize;if(Z.FauxBold!=null)r._2=Z.FauxBold;
if(Z.FauxItalic!=null)r._3=Z.FauxItalic;if(Z.AutoLeading!=null)r._4=Z.AutoLeading;if(Z.Leading!=null)r._5="f"+Z.Leading;
if(Z.HorizontalScale!=null)r._6="f"+Z.HorizontalScale;if(Z.VerticalScale!=null)r._7="f"+Z.VerticalScale;
if(Z.Tracking!=null)r._8="i"+Z.Tracking;if(Z.BaselineShift!=null)r._9="f"+Z.BaselineShift;if(Z.AutoKerning!=null)r._11="i"+(Z.AutoKerning?1:0);
if(Z.FontCaps!=null)r._12="i"+Z.FontCaps;if(Z.FontBaseline!=null)r._13="i"+Z.FontBaseline;if(Z.Strikethrough!=null)r._15="i"+(Z.Strikethrough?1:0);
if(Z.Underline!=null)r._16="i"+(Z.Underline?2:0);if(Z.Ligatures!=null)r._18=Z.Ligatures;if(Z.DLigatures!=null)r._19=Z.DLigatures;
if(Z.BaselineDirection!=null)r._35="i"+Z.BaselineDirection;if(Z.Language!=null)r._38="i"+Z.Language;
if(Z.FillColor!=null)r._53=jr.$D(Z.FillColor);if(Z.StrokeColor!=null)r._54=jr.$D(Z.StrokeColor);if(Z.FillFlag!=null)r._56=Z.FillFlag;
if(Z.StrokeFlag!=null)r._57=Z.StrokeFlag;if(Z._LineWidth!=null)r._63="f"+Z._LineWidth;if(Z._FillBackgroundColor!=null)r._79=jr.$D(Z._FillBackgroundColor);
if(Z._FillBackgroundFlag!=null)r._80=Z._FillBackgroundFlag};jr.$D=function(d){return{_99:"/SimplePaint",_0:{_0:"i1",_1:jr.mv("f",d.Values)}}};
jr.axQ=function(d,W,c,y){var B=d._6;if(B==null)return;var r=W.StyleSheetData;if(B._0){var x=parseInt(B._0.slice(1)),Z=c[x]._0._0._0.slice(1);
it.nn({Cr:r,Xt:y},Z)}if(B._1!=null)r.FontSize=parseFloat(B._1.slice(1));if(B._2!=null)r.FauxBold=B._2;
if(B._3!=null)r.FauxItalic=B._3;if(B._4!=null)r.AutoLeading=B._4;if(B._5!=null)r.Leading=parseFloat(B._5.slice(1));
if(B._6!=null)r.HorizontalScale=parseFloat(B._6.slice(1));if(B._7!=null)r.VerticalScale=parseFloat(B._7.slice(1));
if(B._8!=null)r.Tracking=parseFloat(B._8.slice(1));if(B._9!=null)r.BaselineShift=parseFloat(B._9.slice(1));
if(B._11!=null)r.AutoKerning=parseFloat(B._11.slice(1))==1;if(B._12!=null)r.FontCaps=parseFloat(B._12.slice(1));
if(B._13!=null)r.FontBaseline=parseFloat(B._13.slice(1));if(B._15!=null)r.Strikethrough=parseFloat(B._15.slice(1))==1;
if(B._16!=null)r.Underline=parseFloat(B._16.slice(1))==1;if(B._18!=null)r.Ligatures=B._18;if(B._19!=null)r.DLigatures=B._19;
if(B._35!=null)r.BaselineDirection=parseFloat(B._35.slice(1));if(B._38!=null)r.Language=parseFloat(B._38.slice(1));
if(B._53!=null)r.FillColor=jr.gc(B._53);if(B._54!=null)r.StrokeColor=jr.gc(B._54);if(B._56!=null)r.FillFlag=B._56;
if(B._57!=null)r.StrokeFlag=B._57;if(B._63!=null)r._LineWidth=parseFloat(B._63.slice(1));if(B._79!=null)r._FillBackgroundColor=jr.gc(B._79);
if(B._80!=null)r._FillBackgroundFlag=B._80};jr.gc=function(d){var W=d._0._0,c=d._0._1,y=[1,0,0,0],B=[];
for(var S=0;S<c.length;S++)B[S]=parseFloat(c[S].slice(1));if(W=="i0")y[1]=y[2]=y[3]=B[1];else if(W=="i1")y=B;
else if(W=="i2")y=[1].concat(UDOC.C.cmykToRgb(B.slice(1)));else console.log("unknown color type",W,B);
return{Type:1,Values:y}};jr.aW=function(d,W){d._0="s"+(W.Name?W.Name:"");var c=d._5,y=W.Properties;if(y.Justification!=null)c._0="i"+y.Justification;
if(y.FirstLineIndent!=null)c._1="f"+y.FirstLineIndent;if(y.StartIndent!=null)c._2="f"+y.StartIndent;
if(y.EndIndent!=null)c._3="f"+y.EndIndent;if(y.SpaceBefore!=null)c._4="f"+y.SpaceBefore;if(y.SpaceAfter!=null)c._5="f"+y.SpaceAfter;
if(y.AutoLeading!=null)c._7="f"+y.AutoLeading;if(y.AutoHyphenate!=null)c._9=y.AutoHyphenate;if(y._Direction!=null)c._33="i"+y._Direction;
if(y._ComposerEngine!=null)c._35="i"+y._ComposerEngine};jr.ag_=function(d,W){var c=d._5;if(c==null)return;
var y=W.Properties;if(c._0)y.Justification=parseInt(c._0.slice(1))};jr.mv=function(d,W){var c=[];for(var S=0;
S<W.length;S++)c.push(d+W[S]);return c};jr.aqg={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
jr.afa={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
jr.aik={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
jr.f8={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
jr.arI={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
jr.adY={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var cf={};cf.arm=function(d){return cf.kB(d,cf.Ex,0)};cf.aDL=function(d){return cf.WY(d,cf.Ex)};cf.kB=function(d,W,c){var y;
if(typeof d=="string")return d;if(d instanceof Array){y=[];for(var S=0;S<d.length;S++)y[S]=cf.kB(d[S],W,c+1)}else{y={};
var B={};for(var r in W){var x=W[r],Z="_"+x[0];if(d[Z]!=null){y[r]=x[1]?cf.kB(d[Z],x[1],c+1):d[Z];B[Z]=!0}}for(var r in d){if(B[r]==null){if(r.length>3)continue;
console.log(W,B);console.log(r,d);throw"e"}}}return y};cf.WY=function(d,W){var c;if(typeof d=="string")return d;
else if(d instanceof Array){c=[];for(var S=0;S<d.length;S++)c[S]=cf.WY(d[S],W)}else{c={};var y={};for(var B in W){var r=W[B],x="_"+r[0];
if(d[B]!=null){c[x]=r[1]?cf.WY(d[B],r[1]):d[B];y[B]=!0}}for(var B in d){if(y[B]==null){console.log(W,y);
console.log(B,d);throw"e"}}}return c};cf.ai={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
cf.CL={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,cf.ai],_StrokeColor:[54,cf.ai],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,cf.ai],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
cf.ajf={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,cf.CL],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
cf.auy={_Name:[0],_Features:[5,cf.ajf],_Parent:[6],_UUID:[97]};cf.a0Y={_Name:[0],_Parent:[5],_Features:[6,cf.CL],_UUID:[97]};
cf.Ex={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,cf.a0Y]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,cf.auy]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,cf.auy]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,cf.a0Y]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,cf.CL],_OriginalNormalParagraphFeatures:[3,cf.ajf],_4:[4]}]};
jr.view={};jr.view.abJ=function(d,W,c,y){var B={},r=it.$_(d);B._0=[{_0:"i"+c}];return B};function CSS(){}CSS.ala=function(d,W){var c=d.add,y=c.vmsk,B=c.vstk,r=c.lmfx,x=c.TySh,Z=[],i=CSS.xI(r,c),k=d.opacity/255*(d.add.iOpa!=null?d.add.iOpa/255:1);
if(k!=1)Z.push("opacity: "+k.toFixed(3));if(d.sI()&&y){var H=v.o.wV(y.Y);if(!H.Bb()){Z.push("width: "+Math.round(H.m)+"px");
Z.push("height: "+Math.round(H.i)+"px")}var V=v.o.am5(y.Y);if(V>0)Z.push("border-radius: "+Math.round(V)+"px")}else if(x){var g=x.p$;
if(it.$_(g)==1){var H=it.kq(g);Z.push("width: "+Math.round(H[2])+"px");Z.push("height: "+Math.round(H[3])+"px")}CSS.agS(Z,it.tO(g,0,0),x.e,!1,!1,i[0])}CSS.abS(W,r,Z);
if(x==null)CSS.aBG(i,Z);if(B==null||!B.strokeEnabled.v)B=eV.E_(r);if(B&&B.strokeEnabled.v){var N=B.strokeStyleContent.v,C=N.classID,w=B.strokeStyleOpacity.v.val/100,Y=B.strokeStyleLineWidth.v.val,U="";
if(C=="solidColorLayer")U=CSS.rt(N.Clr.v,w);Z.push("border: "+Y+"px solid "+U)}return Z};CSS.abS=function(d,W,c){if(W==null||!W.masterFXSwitch.v)return;
var y=W.dropShadowMulti.v.concat(W.innerShadowMulti.v);for(var S=0;S<y.length;S++){var B=y[S].v;if(B.enab.v){var r=B.classID=="IrSh",x=B.Dstn.v.val,Z=B.lagl.v.val*Math.PI/180;
if(B.uglg&&B.uglg.v)Z=d.ws()*Math.PI/180;var i=x*Math.cos(Z),k=x*Math.sin(Z),H=(i==0?"0 ":CSS.ayq(-i)+"px ")+(k==0?"0 ":CSS.ayq(k)+"px ")+B.blur.v.val/2+"px "+CSS.rt(B.Clr.v,B.Opct.v.val/100);
if(r)c.push("box-shadow: inset "+H);else c.push("filter: drop-shadow("+H+")")}}};CSS.xI=function(d,W){var c=eV.MH(d,W),y=c[0],B=c[1],r,x;
if(y){r=CSS.rt(y.Clr.v,W.iOpa!=null?W.iOpa/255:1)}else if(B){x=CSS.va(B)}return[r,x]};CSS.aBG=function(d,W){if(d[0])W.push("background-color: "+d[0]);
if(d[1])W.push("background-image: "+d[1])};CSS.tc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.ayq=function(bd){return""+parseFloat(bd.toFixed(3))};CSS.I8=function(d){if(d==null)return{Z:0,G:0,J:0};
var W=d.indexOf("(");if(W!=-1){var c=d.slice(W+1,d.length-1).split(",");for(var S=0;S<c.length;S++){var y=c[S].trim();
c[S]=parseFloat(y)*(y.endsWith("%")?255/100:1)}return{Z:c[0],G:c[1],J:c[2]}}if(d.charAt(0)!="#"){var B=CSS.tc;
if(B[d])d=B[d];else console.log("unknown color "+d)}d=d.slice(1);if(d.length==4)d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2]+d[3]+d[3];
if(d.length==3)d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2];var r=-1;if(d.length==8){r=parseInt(d.slice(6),16);d=d.slice(0,6)}d=parseInt(d,16);
var x={Z:d>>16&255,G:d>>8&255,J:d&255};if(r!=-1)x.U=r;return x};CSS.rt=function(d,W){return CSS.Yb(v.L.E5(d),W)};
CSS.Yb=function(d,W){if(W==null)W=1;var c=Math.round(d.Z),y=Math.round(d.G),B=Math.round(d.J),r=c<<16|y<<8|B;
return W==1?"#"+v.Wb(r):"rgba("+c+","+y+","+B+","+W+")"};CSS.va=function(d){var W=d.Grad.v;if(W.Clrs==null)return"";
var c=W.Clrs.v.slice(0),y=W.Trns.v.slice(0),B=d.Ofst.v,r=d.Type.v.GrdT=="Rdl"?1:0,x=(r==1?"radial":"linear")+"-gradient",Z=r==0?Math.round(-d.Angl.v.val+90)+"deg":"circle at center",i=d.Rvrs.v,k=v.L.qK(W,i);
for(var S=0;S<k.length;S++){var H=k[S],V=H[1];Z+=", "+CSS.Yb({Z:V[0]*255,G:V[1]*255,J:V[2]*255},H[2])+" "+Math.round(H[0]*100)+"%"}return x+"("+Z+")"};
CSS.agS=function(d,W,c,y,B,r){var x=W.Cr,Z=y?1:c.dV(),i=Math.round(x.FontSize*Z);d.push("font-size: "+i+"px");
var k=x.Tracking;if(!y&&k!=null&&k!=0)d.push("letter-spacing: "+Math.round(k*i/1e3)+"px");if(!x.AutoLeading)d.push("line-height: "+Math.round(x.Leading*Z)+"px");
if(x.Strikethrough)d.push("text-decoration: line-through");if(x.Underline)d.push("text-decoration: underline");
if(x.FontCaps==2)d.push("text-transform: uppercase");var H=it.E5(x.FillColor);H=[H.Z,H.G,H.J].map(Math.round);
d.push((y?"fill: ":"color: ")+(r?r:"#"+v.Wb(H[0]<<16|H[1]<<8|H[2])));var V=W.Xt[x.Font].Name;if(V){var g=eM.Qs.FP(V),N="",C=null,w=null;
if(g!=null&&V!=eM.s9(g))g=null;if(B&&g)N+="\""+V+"\", ";var Y=V.toLowerCase();if(g){C=eM.sL(g)[0];if(g["OS/2"])w=g["OS/2"].usWeightClass}else{C=CSS.aka(V);
if(Y.indexOf("light")!=-1)w=300;else if(Y.indexOf("medium")!=-1)w=500;else if(Y.indexOf("black")!=-1||Y.indexOf("extrabold")!=-1)w=800;
else if(Y.indexOf("bold")!=-1)w="bold"}if(C!=null)N+="\""+C+"\"";if(w!=null)d.push("font-weight: "+w);
if(Y.indexOf("italic")!=-1||Y.indexOf("oblique")!=-1)d.push("font-style: italic");if(N)d.push("font-family: "+N)}var U=W.a0.Justification;
if(U!=null&&U!=0)if(y){}else d.push("text-align: "+["left","right","center"][U%3])};CSS.aka=function(d){d=d.split("-")[0];
while(d.endsWith("MT")||d.endsWith("PS"))d=d.slice(0,d.length-2);var W=!0;for(var S=0;S<d.length;S++){var c=d.charAt(S);
if(!W&&c.toLowerCase()!=c){d=d.slice(0,S)+" "+d.slice(S);S++;W=!0}else W=!1}return d};function gq(){}gq.kH={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
gq.kM=function(d,W){var c=Date.now(),y=d.split("\n"),B;if(y.length==1)y=d.split("\r");for(var S=0;S<y.length;
S++)if(y[S].trim()[0]=="#"){y[S]=""}d=y.join("\n");try{B=acorn.parse(d)}catch(jj){console.log(jj);return}var r=JSON.parse(JSON.stringify(gq.Dr.GU));
r.__return=!1;r.__continue=!1;r.__break=!1;r.__throw=!1;r.__fs={};r.__window={};gq.eval(B,W,r);var x=r.__fs;
if(Object.keys(x).length!=0){var Z=UZIP.encode(x);bw.save(Z,"output.zip")}};gq.eval=function(d,W,c){var y=d.type;
if(!1){}else if(y=="Program"||y=="BlockStatement"){var B=d.body;for(var S=0;S<B.length;S++){var r=B[S].type;
if(r=="FunctionDeclaration")c[B[S].id.name]=B[S]}for(var S=0;S<B.length;S++){var r=B[S].type,x=gq.eval(B[S],W,c);
if(c.__continue&&c.__pif==null){c.__continue=!1;return x}if(c.__return||c.__break||c.__throw)return x}}else if(y=="ReturnStatement"){c.__return=!0;
return d.argument?gq.hf(d.argument,W,c):null}else if(y=="BreakStatement"){c.__break=!0}else if(y=="ContinueStatement"){c.__continue=!0}else if(y=="VariableDeclaration"){var Z=d.declarations;
for(var S=0;S<Z.length;S++)gq.eval(Z[S],W,c)}else if(y=="VariableDeclarator"){c[d.id.name]=d.init?gq.hf(d.init,W,c):null}else if(y=="FunctionDeclaration"){c[d.id.name]=d}else if(y=="MemberExpression"){var i=gq.hf(d.object,W,c),x;
if(c.__throw)return;var k=d.computed?gq.hf(d.property,W,c):gq.eval(d.property,W,c);if(i.M!=null)x=gq.Dr.Nb(i,k,W,c);
else if(i==window&&gq.kH[k]){}else x=i[k];return x}else if(y=="ArrayExpression"){var H=[],V=d.elements;
for(var S=0;S<V.length;S++)H.push(gq.hf(V[S],W,c));return H}else if(y=="ObjectExpression"){var H={},V=d.properties;
for(var S=0;S<V.length;S++){var g=V[S],N=V[S].key.name?V[S].key.name:V[S].key.value;H[N]=gq.hf(V[S].value,W,c)}return H}else if(y=="ExpressionStatement"){return gq.eval(d.expression,W,c)}else if(y=="NewExpression"){var C=d.arguments,w=d.callee,Y=w.type,U=w.name,e=[],H=null;
for(var S=0;S<C.length;S++)e.push(gq.hf(C[S],W,c));if(U=="Array")H=new window[U];else if(Y=="Identifier")H=gq.Dr.aiN(U,e,W,c);
else throw"e";if(H==null)throw"new "+U;return H}else if(y=="CallExpression"){var C=d.arguments,w=d.callee,Y=w.type,O={};
for(var l in c)O[l]=c[l];var e=[];for(var S=0;S<C.length;S++)e.push(gq.hf(C[S],W,c));if(Y=="Identifier"){var I=w.name,s=c[I];
if(s&&s.M=="AppFunc"){I=s._S;s=null}if(s){if(s.params){var z=s.params;for(var S=0;S<z.length;S++)O[z[S].name]=e[S];
return gq.eval(s.body,W,O)}else{return s.apply(null,e)}}else if(gq.Dr.a5a.indexOf(I)!=-1)return gq.Dr.mg({M:"Application"},I,e,W,c);
else if(window[I]==null)console.log("Unknown function "+I);else if(gq.kH[I])alert(I+"() not available");
else{var R=window[I].apply(window,e);return R}}else if(Y=="MemberExpression"){var i=gq.hf(w.object,W,c),k=w.computed?gq.hf(w.property,W,c):gq.eval(w.property,W,c);
if(i==window&&gq.kH[k])return;if(i.M!=null)return gq.Dr.mg(i,k,e,W,c);else if(k=="sort"&&i[0]&&i[0].M=="Layer"){return i.sort(function(q,o){return q.b.getName()>o.b.getName()?1:-1})}else if(k=="toSource")return JSON.stringify(i);
else return i[k].apply(i,e)}else if(Y=="FunctionExpression"){return gq.eval(w.body,W,c)}else console.log(d)}else if(y=="AssignmentExpression"){var t=d.operator,a=d.left,J=a.type,F=gq.hf(a,W,c),h=gq.hf(d.right,W,c),x=null;
if(!1){}else if(t=="=")x=h;else if(t=="+=")x=F+h;else if(t=="-=")x=F-h;else if(t=="*=")x=F*h;else if(t=="/=")x=F/h;
else if(t=="%=")x=F%h;else if(t=="&=")x=F&h;else if(t=="|=")x=F|h;else if(t=="&&=")x=F&&h;else if(t=="||=")x=F||h;
else console.log(d);if(J=="Identifier"){var m=a.name;if(c.hasOwnProperty(m))c[m]=x;else c.__window[m]=x}else if(J=="MemberExpression"){var D=gq.eval(a.property,W,c),_=gq.hf(a.object,W,c);
if(_.M!=null)gq.Dr.aDZ(_,D,x,W,c);else _[D]=x}else console.log(d);return x}else if(y=="Identifier")return d.name;
else if(y=="Literal")return d.value;else if(y=="UpdateExpression"){var t=d.operator,n=d.argument.name,H=gq.hf(d.argument,W,c),j=c;
if(j[n]==null)j=c.__window;if(!1){}else if(t=="++"){j[n]++;return d.prefix?j[n]:j[n]-1}else if(t=="--"){j[n]--;
return d.prefix?j[n]:j[n]+1}else console.log(d)}else if(y=="UnaryExpression"){var t=d.operator,T=gq.hf(d.argument,W,c);
if(T&&T.M=="UnitValue"){if(t=="-")return-T.b;else return gq.aCr(T.b,t)}else return gq.aCr(T,t)}else if(y=="BinaryExpression"||y=="LogicalExpression"){var t=d.operator,a=gq.hf(d.left,W,c);
if(y=="LogicalExpression"&&t=="&&"&&!a)return a;var T=gq.hf(d.right,W,c);if(a==null||T==null)return gq.MO(a,T,t);
else if(a.M=="UnitValue"&&T.M=="UnitValue")return gq.MO(a.b,T.b,t);else if(a.M=="UnitValue")return gq.MO(a.b,T,t);
else if(T.M=="UnitValue"){if(t=="-")return-(a-T.b);else return gq.MO(a,T.b,t)}else return gq.MO(a,T,t)}else if(y=="IfStatement"){var L=gq.hf(d.test,W,c),p=c.__pif,x=null;
c.__pif=!0;if(L)x=gq.eval(d.consequent,W,c);else if(d.alternate)x=gq.eval(d.alternate,W,c);c.__pif=p;
return x}else if(y=="ConditionalExpression"){var L=gq.hf(d.test,W,c);if(L)return gq.hf(d.consequent,W,c);
else if(d.alternate)return gq.hf(d.alternate,W,c)}else if(y=="ForInStatement"){gq.eval(d.left,W,c);var E=d.left.declarations[0].id.name,G=gq.hf(d.right,W,c);
for(var l in G){c[E]=l;var A=gq.eval(d.body,W,c);if(c.__break)break;if(c.__return)return A}c.__break=!1}else if(y=="ForStatement"){gq.eval(d.init,W,c);
while(gq.eval(d.test,W,c)){var A=gq.eval(d.body,W,c);if(c.__break)break;if(c.__return)return A;gq.eval(d.update,W,c)}c.__break=!1}else if(y=="WhileStatement"){while(gq.eval(d.test,W,c)){var A=gq.eval(d.body,W,c);
if(c.__break)break;if(c.__return)return A}c.__break=!1}else if(y=="DoWhileStatement"){do{var A=gq.eval(d.body,W,c);
if(c.__break)break;if(c.__return)return A}while(gq.eval(d.test,W,c));c.__break=!1}else if(y=="TryStatement"){gq.eval(d.block,W,c);
if(c.__throw){var u=d.handler;c[u.param.name]=c.__throw;c.__throw=!1;gq.eval(u.body,W,c);delete c[u.param.name]}}else if(y=="EmptyStatement"){}else console.log(d)};
gq.MO=function(d,W,c){if(c=="+")return d+W;else if(c=="-")return d-W;else if(c=="*")return d*W;else if(c=="/")return d/W;
else if(c=="%")return d%W;else if(c=="^")return d^W;else if(c=="&")return d&W;else if(c=="&&")return d&&W;
else if(c=="|")return d|W;else if(c=="||")return d||W;else if(c=="<")return d<W;else if(c==">")return d>W;
else if(c=="=="){if(d!=null&&W!=null&&d.M&&W.M)return d.b==W.b;return d==W}else if(c=="===")return d===W;
else if(c=="<=")return d<=W;else if(c==">=")return d>=W;else if(c=="!=")return d!=W;else if(c=="!==")return d!==W;
else if(c=="<<")return d<<W;else if(c==">>")return d>>W;else console.log(c)};gq.aCr=function(d,W){if(W=="-")return-d;
else if(W=="!")return!d;else if(W=="~")return~d;else if(W=="+")return d;else if(W=="typeof")return typeof d;
else console.log(W,d)};gq.hf=function(d,W,c){var y=d.type;if(y=="Identifier")return gq.aDj(d.name,W,c);
else return gq.eval(d,W,c)};gq.aDj=function(d,W,c){if(d=="undefined")return undefined;else if(c.hasOwnProperty(d))return c[d];
else if(d=="app")return{M:"Application"};else if(d=="Folder")return{M:"Folder"};else if(d=="File")return{M:"File"};
else if(d=="$")return{M:"$"};else if(gq.Dr.aim.indexOf(d)!=-1)return gq.Dr.Nb({M:"Application"},d,W,c);
else if(gq.Dr.a5a.indexOf(d)!=-1)return{M:"AppFunc",_S:d};else if(c.__window.hasOwnProperty(d))return c.__window[d];
else if(window[d]&&!gq.kH[d])return window[d];else{c[d]=null;return null}};gq.Dr={};gq.Dr.aiN=function(d,W,c,y){var B;
if(d=="SolidColor")B={M:d,b:[1,0,0,0]};if(d=="RGBColor")B={M:d,b:[1,0,0,0]};if(d=="Window")B={M:d,b:new gG(W[0],W[1],W[2])};
if(d=="ExportOptionsSaveForWeb")B={M:d,b:{Uw:"png",vO:100}};if(d=="PhotoshopSaveOptions")B={M:d,b:{Uw:"psd"}};
if(d=="PNGSaveOptions")B={M:d,b:{Uw:"png",vO:100}};if(d=="JPEGSaveOptions")B={M:d,b:{Uw:"jpg",vO:100}};
if(d=="PDFSaveOptions")B={M:d,b:{Uw:"pdf",ag1:""}};if(d=="File")B={M:d,b:W[0]};if(d=="ActionReference")B={M:d,b:{t:"obj ",v:[]}};
if(d=="ActionDescriptor")B={M:d,b:{t:"Objc",v:{classID:"null"}}};if(d=="ActionList")B={M:d,b:{t:"VlLs",v:[]}};
if(d=="UnitValue")B={M:d,b:W.length==0?0:parseFloat(W[0])};return B};gq.Dr.aim="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
gq.Dr.a5a="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
gq.Dr.Nb=function(d,W,c,y){var B=c.Ln,r=c.LM();if(!1){}else if(W=="typename"){if(d.M=="Layer")return d.b.vS()?"LayerSet":"ArtLayer";
else return d.M}else if(["Document","Layer"].indexOf(d.M)!=-1&&["layers","artLayers","layerSets"].indexOf(W)!=-1){var x=r;
if(d.M=="Document")x=d.b;else x=d.rh;var Z=x.root,i={M:"Layers",aw4:W,b:[],rh:x};if(d.M=="Layer")Z=x.root.x$(x.B.indexOf(d.b));
if(Z.children==null)return null;for(var S=0;S<Z.children.length;S++){var k=Z.children[S].a,H=k.vS();
if(H&&W=="artLayers"||!H&&W=="layerSets")continue;i.b.push({M:"Layer",b:k,rh:x})}i.b.reverse();return i}else if(d.M=="Documents"||d.M=="Layers"||d.M=="HistoryStates"||d.M=="LayerComps"){if(!1){}else if(W=="length")return d.b.length;
else if(Number.isInteger(W))return d.b[W];else console.log(d.M+": unknown property ",W)}else if(d.M=="Application"){if(!1){}else if(W=="activeDocument")return{M:"Document",b:c.LM()};
else if(W=="documents"){var i={M:"Documents",b:[]};for(var S=0;S<c.Tx.length;S++)i.b.push({M:"Document",b:c.Tx[S]});
return i}else if(W=="fonts")return{M:"TextFonts"};else if(W=="preferences")return{M:"Preferences"};else if(W=="displayDialogs")return{M:"DialogModes"};
else if(W=="foregroundColor"||W=="backgroundColor"){var V=W[0]=="f"?B.R5:B.qX;return{M:"SolidColor",b:[1,(V>>>16&255)/255,(V>>>8&255)/255,(V>>>0&255)/255]}}else if(W=="UI")return{M:"UI"};
else if(W=="version")return 30;else console.log(d,W)}else if(d.M=="Document"){var r=d.b;if(!1){}else if(W=="activeLayer"){var k=r.B[r.g[0]];
return{M:"Layer",b:k,rh:r}}else if(W=="resolution")return r.tU;else if(W=="width")return r.m;else if(W=="height")return r.i;
else if(W=="name")return r.name;else if(W=="saved")return!r.l3();else if(W=="selection")return{M:"Selection"};
else if(W=="activeHistoryState")return{M:"HistoryState",Wr:r.ST};else if(W=="source")return r.Fk;else if(W=="layerComps"){var g=r.qv.list.v,N=[];
for(var S=0;S<g.length;S++)N.push({M:"LayerComp",b:S});return{M:"LayerComps",b:N}}else if(W=="historyStates"){var C=[];
for(var S=0;S<r.history.length;S++)C.push({M:"HistoryState",Wr:S});return{M:"HistoryStates",b:C}}else if(W=="mode")return 7;
else if(W=="colorSamplers"){var i={M:"ColorSamplers",aw4:W,b:r.Fw.slice(0),rh:r};return i}else console.log(d,W)}else if(d.M=="LayerComp"){if(W=="name")return r.qv.list.v[d.b].v.Nm.v;
else throw W}else if(d.M=="ColorSamplers"){if(Number.isInteger(W))return{M:"ColorSampler",b:d.b[W]};
else if(W=="length")return r.Fw.length}else if(d.M=="ColorSampler"){if(W=="color"){var V=X.tX.uO(r,r.Q.Yd(d.b.x,d.b.y),1,2);
return{M:"SolidColor",b:[1,(V>>>16&255)/255,(V>>>8&255)/255,(V>>>0&255)/255]}}else if(W=="position")return[d.b.x,d.b.y]}else if(d.M=="Layer"){var w={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},k=d.b;
if(!1){}else if(W=="visible")return k.jF();else if(W=="selected")return r.g.indexOf(r.B.indexOf(k))!=-1;
else if(W=="grouped")return k.TA;else if(w[W]!=null)return k.sx(w[W]);else if(W=="opacity")return k.opacity*100/255;
else if(W=="fillOpacity")return(k.add.iOpa==null?255:k.add.iOpa)*100/255;else if(W=="blendMode")return k.E9;
else if(W=="name")return k.getName();else if(W=="textItem")return{M:"TextItem",b:k};else if(W=="bounds"){var Y=X.X.yo(r,[r.B.indexOf(k)]);
return gq.Dr.a09(Y,r)}else if(W=="parent"){var U=c.Tx,x;for(var S=0;S<U.length;S++)if(U[S].B.indexOf(k)!=-1)x=U[S];
var e=x.root.x$(x.B.indexOf(k)).parent;return e.depth==0?{M:"Document",b:x}:{M:"Layer",b:e.a,rh:x}}else if(W=="kind"){var O=gq.Dr.iP;
for(var S=0;S<O.length;S++)if(k.add[O[S]]!=null)return S;return 0}else if(W=="isBackgroundLayer")return k.add.lnsr="bgnd";
else if(W=="itemIndex")return r.B.indexOf(k)+1;else console.log(d,W)}else if(d.M=="Selection"){if(!1){}else if(W=="bounds"){if(r.u==null)y.__throw={message:"no selection"};
else return gq.Dr.a09(r.u.rect,r)}else console.log(d,W)}else if(d.M=="TextItem"){var l=d.b.add.TySh,I=l.p$,s=it.H5(I),z=l.e.dV(),R=it.tO(I,0,0);
if(W=="contents")return s.slice(0,s.length-1).replace(/\n/g,"\r");else if(W=="font")return R.Cr.Font!=null?R.Xt[R.Cr.Font].Name:null;
else if(W=="size")return gq.Dr.Qb(R.Cr.FontSize*z,r);else if(W=="leading")return gq.Dr.Qb(R.Cr.Leading*z,r);
else if(W=="tracking")return gq.Dr.Qb(R.Cr.Tracking);else if(W=="baselineShift")return gq.Dr.Qb(R.Cr.BaselineShift);
else if(W=="fauxBold")return R.Cr.FauxBold;else if(W=="fauxItalic")return R.Cr.FauxItalic;else if(W=="kind")return 1-it.$_(I);
else if(W=="useAutoLeading")return R.a0.AutoLeading;else if(W=="hyphenation")return R.a0.AutoHyphenate;
else if(W=="justification")return gq.Dr.Qb(R.a0.Justification);else if(W=="color")return{M:"SolidColor",b:R.Cr.FillColor.Values.slice(0)};
else if(W=="width"||W=="height"){var t=it.kq(I),a=(t[2]-t[0])*z,J=(t[3]-t[1])*z;return gq.Dr.Qb(W=="width"?a:J,r)}else if(W=="position"){var F=l.e;
return gq.Dr.aw8([F.IS,F.rk],r)}else if(W=="horizontalScale"||W=="verticalScale"){var h=W[0].toUpperCase()+W.slice(1);
return Math.round(R.Cr[h]*100)}else if(W=="antiAliasMethod")it.O_(l);else if(W=="totalTextStyle"){var i={};
for(var m=0;m<2;m++){var D=["Style","Paragraph"][m],_=I.EngineDict[D+"Run"].RunLengthArray,n=[],j=0;
for(var S=0;S<_.length;S++){var T=it.tO(I,j,Math.min(j+_[S],s.length-2));j+=_[S];n.push(m==0?T.Cr:T.a0);
i.fontSet=T.Xt}i[D]={runs:_,styles:n}}return JSON.stringify(i)}else if(W=="transform"){var F=l.e;return JSON.stringify([F.U,F.J,F.gp,F.x7,F.IS,F.rk])}else console.log(d,W)}else if(d.M=="Preferences"){if(W=="rulerUnits")return B.UA.Wx;
else console.log(d,W)}else if(d.M=="SolidColor"){if(W=="rgb")return{M:"RGBColor",b:d.b};if(W=="cmyk")return{M:"CMYKColor",b:v.YP(d.b.slice(1))};
else console.log(d,W)}else if(d.M=="RGBColor"){var Y=Math.round(255*d.b[1]),L=Math.round(255*d.b[2]),p=Math.round(255*d.b[3]);
if(!1){}else if(W=="red")return Y;else if(W=="green")return L;else if(W=="blue")return p;else if(W=="hexValue")return"#"+v.Wb(Y<<16|L<<8|p).toUpperCase();
else console.log(d,W)}else if(d.M=="CMYKColor"){var E=[];for(var S=0;S<4;S++)E.push(Math.round(d.b[S]*100));
var G=["cyan","magenta","yellow","black"].indexOf(W);if(G!=-1)return E[G];else console.log(d,W)}else if(d.M=="UnitValue"){if(W=="value")return d.b;
else throw"e"}else if(d.M=="ExportOptionsSaveForWeb"){if(W=="format")return d.b.Uw;else if(W=="PNG8"||W=="interlaced")return!1;
else if(W=="quality")return d.b.vO;else if(W=="transparency")return!0;else throw W}else if(d.M=="PNGSaveOptions"||d.M=="JPEGSaveOptions"||d.M=="PDFSaveOptions"){return 0}else if(d.M=="$"){if(W=="localize")return!1;
else if(W=="os")return"Windows";else throw W}else if(d.M=="ActionList"){if(W=="count")return d.b.v.length;
else throw W}else console.log(d,W)};gq.Dr.a09=function(d,W){return gq.Dr.aw8([d.x,d.y,d.x+d.m,d.y+d.i],W)};
gq.Dr.aw8=function(d,W){var c=[];for(var S=0;S<d.length;S++)c.push(gq.Dr.Qb(d[S],W));return c};gq.Dr.if=function(d){var W=[];
for(var S=0;S<d.length;S++)W.push(d[S].M?d[S].b:d[S]);return W};gq.Dr.Qb=function(d,W){return{M:"UnitValue",b:d}};
gq.Dr.ass=function(d,W){if(d.M=="UnitValue")return d.b;return d};gq.Dr.aDZ=function(d,W,c,y,B){var r=new bR(b.E.v,!0),x=new bR(b.E.V,!0),Z=y.LM(),i=y.Ln;
if(!1){}else if(d.M=="Application"){if(!1){}else if(W=="activeDocument"){x.data={d:b.H._I,Ig:c.b};y.T(x)}else if(W=="displayDialogs"){}else if(W=="foregroundColor"||W=="backgroundColor"){var H=c.b,V=H[1]*255<<16|H[2]*255<<8|H[3]*255<<0;
x.data={d:b.H.e7,au:kG.kg,jK:W=="foregroundColor"?0:1,b:V};y.T(x)}else console.log(d,W,c)}else if(d.M=="Document"){var g=d.b;
if(!1){}else if(W=="name"){r.f=X.jq;r.data={d:e8.zH,b:c,a1Q:!0,kT:g};Z.Pm=!0}else if(W=="source")g.Fk=c;
else if(W=="activeLayer"){g.g=[g.B.indexOf(c.b)]}else if(W=="activeHistoryState"){r.f=X._X;r.data={d:"h_itemchange",index:c.Wr}}else console.log(d,W)}else if(d.M=="Layer"){r.f=X.jq;
var N={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},C=d.b,w=Z.B.indexOf(C);
if(!1){}else if(W=="visible"){if(C.jF()!=c)r.data={d:e8.DC,a:w}}else if(W=="opacity"){r.data={d:e8.aU,a:w,z4:Math.round(255*c/100)}}else if(W=="fillOpacity"){r.data={d:e8.fV,a:w,z4:Math.round(255*c/100)}}else if(W=="blendMode"){r.data={d:e8.Mc,a:w,z4:dB.s0.indexOf(c)}}else if(W=="name"){r.data={d:e8.gh,a:w,name:c}}else if(N[W]!=null){r.data={d:e8.PJ,a:w,z4:[[c],[N[W]]]}}else if(W=="kind"){r.data={d:e8.GN,a:w,QH:gq.Dr.iP[c]}}else if(W=="grouped"){r.data={d:e8.U1,a:w,z4:c}}else console.log(d,W,c)}else if(d.M=="TextItem"){r.f=X.bU;
var C=d.b,Y=C.add.TySh,U=JSON.parse(JSON.stringify(Y.p$)),e=Y.e.clone(),O=Y.e.dV(),l=it.H5(U),I=it.tO(U,0,l.length-2),s=!1;
if(!1){}else if(W=="contents"){it.iI(U,0,l.length-1);it.kL(U,0,c.replace(/\r/g,"\n"))}else if(W=="size"){I.Cr.FontSize=(c.b!=null?c.b:c)/O;
s=!0}else if(W=="leading"){I.Cr.Leading=(c.b!=null?c.b:c)/O;s=!0}else if(W=="tracking"){I.Cr.Tracking=c.b!=null?c.b:c;
s=!0}else if(W=="baselineShift"){I.Cr.BaselineShift=c.b!=null?c.b:c;s=!0}else if(W=="fauxBold"){I.Cr.FauxBold=c;
s=!0}else if(W=="fauxItalic"){I.Cr.FauxItalic=c;s=!0}else if(W=="kind"){var z=it.$_(U);if(z==1&&c==1){var R=new iS(U,y.Ln.Sm,Y.wy).a0[0],t=R.RV[0].end,a=R.Tl[t-1].end;
it.iI(U,0,l.length-1);it.kL(U,0,l.slice(0,a-1))}if(z==c)it.gF(U,1-c)}else if(W=="useAutoLeading"){I.a0.AutoLeading=c;
s=!0}else if(W=="hyphenation"){I.a0.AutoHyphenate=c;s=!0}else if(W=="justification"){I.a0.Justification=c;
s=!0}else if(W=="font"){it.nn(I,c);s=!0}else if(W=="color"){I.Cr.FillColor.Values=c.b.slice(0);s=!0}else if(W=="width"||W=="height"){var J=it.kq(U).slice(0),F=gq.Dr.ass(c);
if(W=="width")J[2]=Math.round(J[0]+F/O);else J[3]=Math.round(J[1]+F/O);it.r_(U,J)}else if(W=="position"){e.IS=c[0];
e.rk=c[1]}else if(W=="horizontalScale"||W=="verticalScale"){var h=W[0].toUpperCase()+W.slice(1);I.Cr[h]=c/100;
s=!0}else if(W=="antiAliasMethod")it.u0(Y,c);else console.log(d,W,c);if(s)it.ml(U,0,l.length-1,I);r.data={d:"newED",Mx:Z.B.indexOf(C),DR:U,e:e}}else if(d.M=="Preferences"){if(!1){}else if(W=="rulerUnits"){var m=JSON.parse(JSON.stringify(i.UA));
m.Wx=c;x.data={d:b.H.e7,au:kG.U5,z4:m};y.T(x)}else console.log(d,W,c)}else if(d.M=="SolidColor"){if(W=="rgb")d.b=c.b;
else throw W}else if(d.M=="RGBColor"){if(!1){}else if(W=="red")d.b[1]=c/255;else if(W=="green")d.b[2]=c/255;
else if(W=="blue")d.b[3]=c/255;else if(W=="hexValue"){var D=v.aq9(c.slice(1));d.b[1]=(D>>>16&255)/255;
d.b[2]=(D>>>8&255)/255;d.b[3]=(D>>>0&255)/255}else console.log(d,W)}else if(d.M=="ExportOptionsSaveForWeb"){if(W=="format")d.b.Uw=c;
else if(W=="PNG8"||W=="transparency"||W=="interlaced"){}else if(W=="quality")d.b.vO=c;else throw W}else if(d.M=="PNGSaveOptions"||d.M=="JPEGSaveOptions"){if(W=="quality")d.b.vO=Math.round(100*c/12)}else if(d.M=="PDFSaveOptions"){if(W=="preset")d.b.ag1=c}else if(d.M=="$"){if(W=="localize"){}}else console.log(d,W,c);
if(r.data!=null)y.T(r)};gq.Dr.mg=function(d,W,c,y,B){var r=d.M,x=null,Z=new bR(b.E.v,!0),i=new bR(b.E.HQ,!0),H=new bR(b.E.V,!0),V=y.LM(),g=y.Tx;
if(!1){}else if(r=="Application"){if(!1){}else if(W=="charIDToTypeID"){var N=c[0].trim(),C={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return C[N]?C[N]:N}else if(W=="stringIDToTypeID"){var w=c[0].trim(),C={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},Y=C[w];
return Y==null?w:Y}else if(W=="typeIDToStringID"){return c[0].trim()}else if(W=="executeAction"){var U;
if(c[1]){U=c[1].b.v;U.classID=c[0]}var e={setd:"set"},O=e[c[0]];if(O==null)O=c[0];var l=bN.ae[c[0]];
if(l&&bN._A[l])O=bN._A[l];i.data={cx:O,i9:U}}else if(W=="executeActionGet"){var I=c[0].b.v,x={};if(I.length==1){var s=x.classID=I[0].v.classID;
if(s=="Lyr"){var z=hC.vj(V,I[0]),R=V.B[z],t=R.add.SoLd,a=R.add.SoCo;if(t)x.smartObjectMore={t:"Objc",v:{transform:t.nonAffineTransform}};
if(a)x.adjustment={t:"VlLs",v:[{t:"Objc",v:JSON.parse(JSON.stringify(a))}]}}return{M:"ActionDescriptor",b:{t:"null",v:x}}}if(I.length==2){var s=x.classID=I[1].v.classID,w=I[0].v.keyID;
if(s=="Dcmn"){var J=V;if(w=="numberOfLayers")x[w]={t:"long",v:J.B.length};else throw w}else if(s=="Lyr"){var z=hC.vj(V,I[1]),R=V.B[z],F=R.add.TySh;
if(w=="textKey"){if(F){var h=F.p$.EngineDict.StyleRun.RunArray,m=F.p$.ResourceDict.FontSet,D=[];for(var S=0;
S<h.length;S++){var _=h[S].StyleSheet.StyleSheetData,n=m[_.Font].Name,j=y.Ln.Sm.FP(n);if(j&&j.name.postScriptName!=n)j=null;
D.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:j!=null},fontPostScriptName:{t:"TEXT",v:n}}}}})}x[w]={t:w,v:{textStyleRange:{t:"obj ",v:D}}}}}else throw w}else if(s=="ASet"){var T=y.Ln.HV,L=x.classID=I[0].v.classID;
if(L=="Actn"){x.NmbC={t:"long",v:hC.qm(T,I[0].v.val,I[1].v.val).nW.length}}else throw L}else throw s;
return{M:"ActionDescriptor",b:{t:"null",v:x}}}}else if(W=="doAction"){H.data={d:b.H.d2,Wa:[c[0],c[1]]}}else if(W=="bringToFront"){}else if(W=="open"){H.data={d:b.H.Gf,au:{url:c[0]}};
if(c[2]&&g.length!=0)H.data.au.E8=g.indexOf(V)}else if(W=="echoToOE"){H.data={d:b.H.ub,au:c[0]}}else if(W=="showWindow"){H.data={d:b.H.vB,vD:c[0]}}else if(W=="UnitValue"){return c[0]+" "+c[1]}else console.log(W)}else if(r=="LayerComp"){if(W=="apply"){Z.f=X.mw;
Z.data={d:"setLC",Wr:V.qv.list.v[d.b].v.compID.v}}else throw W}else if(r=="Document"){var V=d.b;if(!1){}else if(W=="crop"){var p=c[0];
i.data=X.JH.acY([p[0],p[1],p[2]-p[0],p[3]-p[1]])}else if(W=="trim"){var E=[];for(var S=0;S<4;S++)E.push(c[S+1]!=null?c[S+1]:!0);
i.data=X.JH.Bv(c[0]!=null?c[0]:0,E)}else if(W=="suspendHistory"){var G=acorn.parse(c[1]);gq.eval(G,y,B)}else if(W=="save"){H.data={d:b.H.DN}}else if(W=="saveToOE"){H.data={d:b.H.DN,Et:c}}else if(W=="rotateCanvas"){i.data=X.X.lA(!0,c[0])}else if(W=="resizeImage"||W=="resizeCanvas"){var A=c[0],u=c[1];
if(typeof A!="number"){A=V.m*parseFloat(A.slice(0,A.length-1))/100;u=V.i*parseFloat(u.slice(0,u.length-1))/100}if(W=="resizeCanvas")i.data=X.JH.am8(Math.round(A),Math.round(u),c[2]);
else i.data=X.JH.aEa(Math.round(A),Math.round(u),null,1)}else if(W=="paste"){H.data={d:b.H.mn,ca:c.length!=0&&c[0],QB:!0}}else if(W=="close"){H.data={d:b.H.ku,Y1:V}}else if(W=="exportDocument"||W=="saveAs"){var q=B.__fs,o=W=="exportDocument"?c[2].b:c[1].b,M=c[0].b.replace(":","").replace("~/","");
if(!M.toLowerCase().endsWith("."+o.Uw))M+="."+o.Uw;var $=fd.OR(V,o.Uw,null,null,o.Uw=="pdf"?null:[o.vO],y.Ln);
q[M]=new Uint8Array($)}else if(W=="flatten"){i.data={cx:"flattenImage"}}else if(W=="clearHistory"){Z.f=X._X;
Z.data={d:"h_clear",force:!0}}else console.log(d,W,c)}else if(r=="Layer"){var Q=d.b,z=V.B.indexOf(Q);
if(!1){}else if(W=="copy"){gq.Dr.Ax(V,y,0);H.data={d:b.H.w_,J0:c[0],YA:z,QB:!0};y.T(H);delete H.data;
gq.Dr.Ax(V,y,1)}else if(W=="clear"){gq.Dr.Ax(V,y,0);i.data={cx:"delete"};y.T(i);delete i.data;gq.Dr.Ax(V,y,1)}else if(W=="duplicate"){if(c.length==0){var kF=V.g.slice(0);
Z.data={d:e8.k9,a:z};Z.f=X.jq;y.T(Z);Z.data=null;x={M:"Layer",b:V.B[V.g[0]],rh:d.rh};V.g=kF}else if(c[0].M=="Document"){Z.data={d:e8.ID,B:V.GR(z),Q9:V,Yr:c[0].b};
Z.f=X.jq}if(Z.data){y.T(Z);Z.data=null;return{M:"Layer",b:V.B[V.g[0]],rh:V}}}else if(W=="merge"||W=="remove"){Z.data={d:W=="merge"?e8.e4:e8.Mr,a:z};
Z.f=X.jq;if(W!="remove")x={M:"Layer",b:V.B[V.g[0]],rh:d.rh}}else if(W=="move"){Z.data={d:e8.ZQ,source:z,target:V.B.indexOf(c[0].b),c9:c[1]!=3?.6:.3};
Z.f=X.jq}else if(W=="rasterize"){Z.f=X.jq;Z.data={d:e8.c2,a:z};y.T(Z);Z.data=null;d.b=V.B[z]}else if(W=="rotate"){Z.data={d:"rot",o1:[2,5],b:-c[0]*Math.PI/180,gS:c[1],a:z};
Z.f=X.Ee}else if(W=="resize"){Z.data={d:"scl",o1:[2,4],b:new aL(c[0]/100,c[1]/100),gS:c[2],a:z};Z.f=X.Ee}else if(W=="translate"){var P=gq.Dr.if(c);
Z.data={d:"trsl",a:z,eg:P[0],Tt:P[1]};Z.f=X.Sj}else if(W=="link"){Z.data={d:e8.Bm,aup:[z,V.B.indexOf(c[0].b)]};
Z.f=X.jq}else if(W=="invert"){Z.f=X.Me;Z.data={d:"start",dH:"nvrt"}}else if(W=="desaturate"){i.data={cx:"desaturate"}}else if(W.startsWith("apply")&&eR.UD[W.slice(5)]||W.startsWith("adjust")&&eR.UD[W.slice(6)]){var bM=W.startsWith("apply"),P=gq.Dr.if(c),jW=eR.UD[W.slice(bM?5:6)];
if(jW=="Dspl"){for(var S=0;S<V.B.length;S++)if(V.B[S].getName()==P[4]){P[4]=V.B[S].add.SoLd.Idnt.v;break}}i.data={cx:bM?eR._A[jW]:bN._A[jW]};
var U=eR.qw(jW);if(U){V.g=[z];eR.uA["g"+jW](U,P);i.data.i9=U}}else if(W=="applyStyle"){var fX=y.Ln.C$,_=null;
for(var S=0;S<fX.length;S++)if(fX[S].A6.Nm.v.split("/").pop()==c[0])_=fX[S];if(_==null){alert("Style not found!");
return}Z.f=X.tm;Z.data={d:"setstl",b:_.r1,a:z};y.T(Z);Z.data={d:"confirm",a:z}}else console.log(d,W,c)}else if(r=="Documents"){if(W=="getByName"){for(var S=0;
S<g.length;S++)if(g[S].name==c[0])return{M:"Document",b:g[S]};return null}else if(W=="add"){if(c.length==0)c=[100,100,72,"New Project"];
var bX=c[5];if(bX==null)bX=1;i.data=eb.qW(c[0],c[1],c[2],c[3],["Wht","Trns","BckC"][bX],!1);y.T(i);i.data=null;
return{M:"Document",b:y.LM()}}else throw"e"}else if(r=="Layers"){if(W=="getByName"){for(var S=0;S<d.b.length;
S++)if(d.b[S].b.getName()==c[0]){x=d.b[S];break}if(x==null)B.__throw={message:"No layer with a name "+c[0]}}else if(W=="add"){Z.data={d:d.aw4=="layerSets"?e8.hd:e8.qI};
Z.f=X.jq;y.T(Z);Z.data=null;x={M:"Layer",b:V.B[V.g[0]],rh:d.rh}}else console.log(d,W,c)}else if(d.M=="Selection"){if(W=="select"){var ao=c[0],en=[];
for(var S=0;S<ao.length;S++)en.push(ao[S][0],ao[S][1]);i.data=X.XC.zq(gq.Dr.if(en),c[1])}else if(W=="clear"){i.data={cx:"delete"}}else if(W=="selectAll"){i.data=X.XC.k6(!0)}else if(W=="invert"){i.data={cx:"inverse"}}else if(W=="copy"){H.data={d:b.H.w_}}else if(W=="deselect"){i.data=X.XC.k6()}else if(W=="fill"){var fK=c[0].b;
fK=v.L.FV({Z:fK[1]*255,G:fK[2]*255,J:fK[3]*255});i.data=X.UZ.yX("Clr",c[1],c[2]==null?1:c[2]/100,fK)}else if(W=="grow"||W=="similar"){var U={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(c[0]!=null)U.Tlrn={t:"long",v:c[0]};i.data={cx:W,i9:U}}else if(W=="expand"||W=="contract"||W=="feather"){i.data=X.XC.H3(W,c[0],!0)}else if(W=="translate"){var U={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[1]}}}}};
i.data={cx:"move",i9:U}}else if(W=="smooth"){i.data=X.XC.H3("smoothness",c[0],!1)}else if(W=="stroke"){var _=JSON.parse(bV._R[1]),bO=_.Clr.v,fK=c[0].b;
bO.Rd.v=fK[1]*255;bO.Grn.v=fK[2]*255;bO.Bl.v=fK[3]*255;_.Sz.v.val=c[1];_.Styl.v.FStl=bV.stroke.types[c[2]];
console.log(_,c);Z.f=X.NT;Z.data={d:"stroke",amp:_}}else console.log(d,W,c)}else if(d.M=="Window"){if(W=="show"){H.data={d:b.H.vB,vD:d.b}}else throw"e"}else if(d.M=="ActionReference"){if(W=="putProperty"){d.b.v.push({t:"prop",v:{classID:c[0],keyID:c[1]}})}else if(W=="putClass"){d.b.v.push({t:"Clss",v:{classID:c[0]}})}else if(W=="putEnumerated"){d.b.v.push({t:"Enmr",v:{classID:c[0],typeID:c[1],enum:c[2]}})}else if(W=="putName"){d.b.v.push({t:"name",v:{classID:c[0],val:c[1]}})}else if(W=="putIndex"){d.b.v.push({t:"indx",v:{classID:c[0],val:c[1]}})}else console.log(W,c)}else if(d.M=="ActionDescriptor"||d.M=="ActionList"){var b9=d.M=="ActionList";
if(W.startsWith("put")){var bK=b9?c:c.slice(1),Y=null;if(W=="putReference"){Y=bK[0].b}else if(W=="putObject"){Y=bK[1].b;
Y.v.classID=bK[0]}else if(W=="putList"){Y=bK[0].b}else if(W=="putDouble"){Y={t:"doub",v:bK[0]}}else if(W=="putUnitDouble"){Y={t:"UntF",v:{type:bK[0],val:bK[1]}}}else if(W=="putBoolean"){Y={t:"bool",v:bK[0]}}else if(W=="putInteger"){Y={t:"long",v:bK[0]}}else if(W=="putString"){Y={t:"TEXT",v:bK[0]}}else if(W=="putClass"){Y={t:"type",v:{classID:bK[0]}}}else if(W=="putEnumerated"){var f0=c[0].split("+");
if(f0.length==2&&c[1]==null){c[0]=f0[0];c[1]=bK[0]=f0[1]}var hn={};hn[bK[0]]=bK[1];Y={t:"enum",v:hn}}else throw W;
if(b9)d.b.v.push(Y);else d.b.v[c[0]]=Y}else if(W=="hasKey"){return d.b.v[c[0]]!=null}else if(W=="getEnumerationValue"){if(c[0]=="layerSection")x="layerSectionContent";
else console.log(c)}else if(W=="getBoolean"){x=d.b.v[c[0]].v}else if(W=="getString"){x=d.b.v[c[0]].v}else if(W=="getObjectValue"){var x=d.b.v[c[0]];
return{M:"ActionDescriptor",b:x}}else if(W=="getList"){var x=d.b.v[c[0]];return{M:"ActionList",b:x}}else if(W=="getInteger"||W=="getDouble"){return d.b.v[c[0]].v}else console.log(W,c)}else if(d.M=="$"){if(W=="writeln"){console.log(c[0])}else throw W}else if(d.M=="UI"){if(W=="scroll"||W=="scrollTo"){var hX=c[0],gR=c[1],ib=V.Q.O;
if(W=="scrollTo"){hX=(-V.m/2+hX)*ib+V.Q.z.x;gR=(-V.i/2+gR)*ib+V.Q.z.y}Z.f=X.XU;Z.data={d:"scroll",ih:new aL(Math.round(hX),Math.round(gR))}}else{var gU;
if(W=="zoomIn"||W=="zoomOut"){gU={d:"zoom",js:W=="zoomIn"}}else if(W=="fitTheArea"){gU={d:"adapt",b:"fitscr"}}else if(W=="pixelToPixel"){gU={d:"adapt",b:"pixel"}}Z.f=X.AO;
Z.data=gU;if(W=="switchFullscreen"){var ip=y.Ln.KW,aW=document.fullscreenElement!=null==(ip==2);H.data={d:b.H.Rd,b:ip==0?2:0,A$:aW}}}}else if(d.M=="ColorSamplers"){if(W=="removeAll")V.Fw=[];
else if(W=="add"){var kN={x:c[0][0],y:c[0][1]};V.Fw.push(kN);var x={M:"ColorSampler",b:kN}}}else if(d.M=="ColorSampler"){if(W=="move"){var hW=V.Fw.indexOf(d.b);
kN=V.Fw[hW];kN.x=c[0][0];kN.y=c[0][1]}else if(W=="remove"){var hW=V.Fw.indexOf(d.b);V.Fw.splice(hW,1)}}else if(d.M=="Folder"){if(W=="selectDialog")x="img";
else throw W}else if(d.M=="File"){if(W=="openDialog")alert("A website can not show the Open dialog from a script");
else throw W}else console.log(d,W,c);if(Z.data)y.T(Z);if(i.data)y.T(i);if(H.data)y.T(H);return x};gq.Dr.Ax=function(d,W,c){var y=new bR(b.E.v,!0);
y.f=X.Ai;var B=new bR(b.E.HQ,!0);if(c==0){gq.Dr.aBf=d.u;B.data=X.XC.k6(!0)}else{var r=gq.Dr.aBf;if(r)y.data={d:"setsel",o1:"Restore Selection",u:{rect:r.rect.clone(),channel:r.channel.slice(0)}};
else B.data=X.XC.k6()}W.T(y.data?y:B)};gq.Dr.aBf=null;gq.Dr.GU={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3}};
gq.Dr.GU.ColorBlendMode=gq.Dr.GU.BlendMode;gq.Dr.iP="---- SoLd TySh SoCo GdFl PtFl".split(" ");function dP(){}dP.I6={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
dP.UF={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
dP.afg=function(d,W){if(W==null)W={};var c=dP.UF,y=[],B=[],r="";for(var S=0;S<d.length;S++){var x=d[S],Z=c[x[0]+""];
if(Z&&W[Z]==null)W[Z]=x[1];else if(x[0]==12)B.push(x[1]);else if(x[0]==25)y.push(x[1]);else if(x[0]==55)r=x[1];
else if(x[0]==60)r+=";"+x[1]}if(r!=""&&W["exif:DateTimeOriginal"]==null)W["exif:DateTimeOriginal"]=r;
if(B.length!=0&&W["Iptc4xmpCore:SubjectCode"]==null)W["Iptc4xmpCore:SubjectCode"]=B.join(";");if(y.length!=0&&W["dc:Keywords"]==null)W["dc:Keywords"]=y.join(";");
return W};dP.auD=function(d){var W=dP.UF,c=[];for(var y in W)if(d[W[y]])c.push([parseInt(y),d[W[y]]]);
if(d["Iptc4xmpCore:SubjectCode"]){var B=d["Iptc4xmpCore:SubjectCode"].split(";");for(var S=0;S<B.length;
S++)c.push([12,B[S].trim()])}if(d["dc:Keywords"]){var B=d["dc:Keywords"].split(";");for(var S=0;S<B.length;
S++)c.push([25,B[S].trim()])}c.sort(function(r,x){return r[0]-x[0]});return c};dP.ZY=function(d,W){if(W==null)W={};
var c=new DOMParser,y=c.parseFromString(d,"image/svg+xml"),B=y.getElementsByTagName("rdf:Description")[0];
if(B==null)return W;var r=dP.I6;for(var x in r){var Z=r[x][2];if(Z==null)continue;var i=B.getElementsByTagName(Z)[0];
if(i==null)continue;var k=i.getElementsByTagName("rdf:li"),H=[];for(var S=0;S<k.length;S++)H.push(k[S].textContent);
W[x]=H.join("; ")}return W};dP.yb=function(d){var W=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],c=dP.I6;
for(var y in c){var B=d[y],r=c[y][2],x="Seq",Z="";if(B==null||r==null)continue;if(r=="dc:title"||r=="dc:description"){x="Alt";
Z=" xml:lang=\"x-default\""}if(r=="dc:subject")x="Bag";W.push("\t<"+r+"><rdf:"+x+">");var i=r=="dc:subject"?B.split(";").join(",").split(","):[B];
for(var S=0;S<i.length;S++)W.push("\t\t<rdf:li"+Z+">"+i[S].trim()+"</rdf:li>");W.push("\t</rdf:"+x+"></"+r+">")}W.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return W.join("\n")};dP.aub=function(d){var W=[];for(var S=0;S<d.length;S++)W[S]=d[S][1]==0?0:d[S][0]/d[S][1];
return W};dP.aoZ=function(d){var W=[];for(var S=0;S<d.length;S++){var c=d[S],y=1;if(c!=Math.round(c)){y=1e3;
c=Math.round(c*y)}W[S]=[c,y]}return W};dP.R$=function(d,W){var c=dP.I6;if(W==null)W={};for(var y in c){var B=c[y][1],r="t"+B;
if(B!=null&&d[r]!=null){var x=d[r];if(B==0)x=x.join(".");else if(B==2||B==4){var Z=d["t"+(B-1)];if(Z==null)Z=[B==2?"N":"E"];
x=dP.aub(x).join(",")+Z[0]}else if(B==42034)x=dP.aub(x).join(" ");else if(B==270||B==315){var i=x[0],k=new Uint8Array(i.length);
K.sv(k,0,i);x=K.uw(k)}else x=x[0];W[y]=x}}if(d.exifIFD)dP.R$(d.exifIFD,W);if(d.gpsiIFD)dP.R$(d.gpsiIFD,W);
return W};dP.y1=function(d,W,c){var y=dP.I6,r=0,Z=0;if(W==null)W={};var B={},x={};for(var i in y){if(d[i]==null||y[i][1]==null)continue;
var k=y[i][1],H="t"+k,V=W;if(i.startsWith("exif:")){V=B;r++;if(i.startsWith("exif:GPS")){V=x;Z++}}var g=d[i];
if(k==0)g=new Uint8Array(g.split(".").map(parseFloat));else if(k==2||k==4){var N=g.length;V["t"+(k-1)]=[g.slice(g.length-1)];
g=dP.aoZ(g.split(",").map(parseFloat))}else if(k==42034)g=dP.aoZ(g.split(" ").map(parseFloat));else if(k==270||k==315){var C=K.$N(g);
g=[K.xA(C,0,C.length)]}else g=[g];V[H]=g}if(r!=0){W.exifIFD=B;W.t34665=[0]}if(Z!=0){W.gpsiIFD=x;W.t34853=[0]}var w=new Date,Y=[w.getFullYear(),w.getMonth()+1,w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds()];
for(var S=0;S<6;S++)Y[S]=(Y[S]+"").padStart(2,"0");W.t305=["Photopea Editor (www.photopea.com)"];if(c!=!0)W.t306=[Y[0]+":"+Y[1]+":"+Y[2]+" "+Y[3]+":"+Y[4]+":"+Y[5]];
return W};function iE(){}iE.Nr=function(d){var W={aue:",",WQ:"\r\n",YC:"\""},c=[[""]],y,B,r,x,Z;for(y=B=r=x=0;
r<d.length;r++){switch(Z=d.charAt(r)){case W.YC:if(x&&d.charAt(r+1)==W.YC){c[y][B]+=W.YC;++r}else{x^=1}break;
case W.aue:if(!x){c[y][++B]=""}else{c[y][B]+=Z}break;case W.WQ.charAt(0):if(!x&&(!W.WQ.charAt(1)||W.WQ.charAt(1)&&W.WQ.charAt(1)==d.charAt(r+1))){c[++y]=[""];
c[y][B=0]="";if(W.WQ.charAt(1)){++r}}else{c[y][B]+=Z}break;default:c[y][B]+=Z}}if(c[c.length-1].length<c[0].length)c.pop();
return c};var f={};f.atd=0;f.a_=function(){f.atd++;return f.atd};f.asb="uint8";f.eb=function(d){d.n.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
d.n.style.opacity="1";d.n.style.transform="scale(1)"};f.b2=function(d,W){d.n.style.opacity="0";d.n.style.transform="scale(0.95)";
if(W)setTimeout(function(){W.removeChild(d.n)},100)};f.anh=function(){var d=f.pW();if(d=="")return 0;
if(d!=f.QW("_TXZRPB;d7@;")){var W=f.YX[dQ.VX][dQ.C0],c=W.indexOf(String.fromCharCode(35)),y;if(c==-1)return 0;
try{y=JSON.parse(f.YX[dQ.a0R](W.slice(c+1)))}catch(jj){return 0}var B=y[f.QW("bQ[ODL<E<M")];if(B==null||B.length<<2!=64)return 0;
var r=dQ.nT(),x=parseInt(B.slice(3*4).split("").reverse().join(""),16)<<16;if(x<r||B!=dQ.ay$(x,d))return 0;
return 2}return 1};f.pW=function(){var d=f.YX[f.Fu("}$z{2*35")][f.QW("W[\\ZQAJ?")],W=String.fromCharCode(46),c=d.split(W);
if(c.length<2)return"";var y=c.pop();y=c.pop()+W+y;return y};f.kS=function(){return f.pW()==dQ.QW("_TXZRPB;d7@;")||f.pW()==dQ.QW("~yy")};
f.axE=function(){if(f.YX[dQ.aDM][dQ.alx]){var d=new f.YX[dQ.qy];d[dQ.Jj](dQ.a2F,f.QW("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+f.pW());
d[dQ.og]()}};f.BA=function(){if(window.top!=window.self)return!1;var d=navigator.userAgent.toLowerCase();
if(d.indexOf("safari")!=-1&&d.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};f._6=function(d){this.Ke=d;
this.Xd=f.F("img");this.Px=f.F("canvas");this.oL=null;this.FE="";this.BI=null;this.rs=new aL(0,0);this.NX=!0;
f.kk(this.Ke,this.U2.bind(this))};f._6.prototype.M7=function(d,W){this.oL=d;if(W)this.FE=W;this.U2()};
f._6.prototype.OB=function(d){this.NX=d;this.U2()};f._6.prototype.U2=function(d){if(d)this.rs=f.Ne(d,this.Ke);
var W=this.NX?this.oL:"auto",c=typeof W=="string";if(!c){var y=f.QX(),B=this.rs,r=W.qe.m,x=W.qe.i,Z=typeof W.hl=="string",i=Z?this.Xd:this.Px;
if(Z)i.setAttribute("src",W.hl);else{i.width=r;i.height=x;var k=i.getContext("2d"),H=new ImageData(new Uint8ClampedArray(W.hl.buffer),r,x);
k.putImageData(H,0,0)}i.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(B.y-W.Mh.y/y)+"px; left:"+(B.x-W.Mh.x/y)+"px; width:"+r/y+"px; height:"+x/y+"px");
var V=this.BI;if(V==null||V!=i){if(V)this.Ke.removeChild(V);this.Ke.appendChild(i);this.BI=i}}else if(this.BI){this.Ke.removeChild(this.BI);
this.BI=null}this.Ke.setAttribute("style","cursor:"+(c?W:"none")+"; "+this.FE)};f.DQ=function(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
f.YV=function(d,W){d.N2(ay.get([12,41]).charAt(0)+":");W.N2(ay.get([12,42]).charAt(0)+":")};f.F=function(d,W){var c=document.createElement(d);
if(W!=null)c.className=W;return c};f.qf=function(d){while(d.firstChild)d.removeChild(d.firstChild)};
f.CH=function(d,W){var c=d.className;c=c.split(" ");if(c.indexOf(W)==-1)c.push(W);d.className=c.join(" ")};
f.V6=function(d,W){var c=d.className;if(c=="")return;c=c.split(" ");if(c.indexOf(W)!=-1)c.splice(c.indexOf(W),1);
d.className=c.join(" ")};f.ni=function(d){while(!0){if(d==document)return!0;if(d==null)return!1;d=d.parentNode}};
f.MZ=function(d){d.appendChild(f.F("br"))};f.WH=function(d){d.appendChild(f.F("hr"))};f.GA=function(d,W,c){var y=new gs([1,12,1],c==null?!0:c,null,!0);
if(d)y.k("click",d.pn,d);if(W)W.appendChild(y.n);return y};f.YX=document;f.qg=function(d){var W=0;for(var S=0;
S<d;S++)W+=Math.random();return W/d<Math.PI/4};f.QW=function(d){var W="";if(!f.qg(28))d+="-3";for(var S=0;
S<d.length;S++){var c=d.charCodeAt(S);if(c<32||126<c)throw"e";W+=String.fromCharCode(32+(c-32+17+3*S)%95)}return W};
f.Fu=function(d){var W="";if(!f.qg(28))d+="-1";for(var S=0;S<d.length;S++){var c=d.charCodeAt(S);c-=32;
c+=95e4;c-=17+3*S;c=c%95;W+=String.fromCharCode(32+c)}return W};f.vP=function(d){var W=Math.random();
f.asb="uint"+(3+W);return new d};(function(){var d=window.PointerEvent,W=d?"pointer":"mouse",c=W+"down",y=W+"move",B=W+"up",r=!1;
f._0=function(x,Z){x.addEventListener(c,Z,r);if(!d)x.addEventListener("touchstart",Z,r)};f.kk=function(x,Z){x.addEventListener(y,Z,r);
if(!d)x.addEventListener("touchmove",Z,r)};f.OD=function(x,Z){x.addEventListener(B,Z,r);if(!d)x.addEventListener("touchend",Z,r)};
f.atr=function(x,Z){x.removeEventListener(c,Z,r);if(!d)x.removeEventListener("touchstart",Z,r)};f.jU=function(x,Z){x.removeEventListener(y,Z,r);
if(!d)x.removeEventListener("touchmove",Z,r)};f.Ra=function(x,Z){x.removeEventListener(B,Z,r);if(!d)x.removeEventListener("touchend",Z,r)}}());
f.g0=function(d){d.addEventListener("touchstart",f.jT,!1);d.addEventListener("touchmove",f.jT,!1);d.addEventListener("touchend",f.jT,!1);
d.addEventListener("gesturestart",f.jT,!1);d.addEventListener("gesturechange",f.jT,!1);d.addEventListener("gestureend",f.jT,!1)};
f.acL=function(d){var W=d.sourceCapabilities;if(W)return W.firesTouchEvents;return!1};f.GS=function(d,W,c,y){var B=f.QX();
d.width=Math.floor(W*B);d.height=Math.floor(c*B);if(y)y.scale(B,B);f.$E(d)};f.$E=function(d){var W=f.QX();
d.style.width=d.width/W+"px";d.style.height=d.height/W+"px"};f.lE=function(d,W,c){d.setAttribute("style","width:"+W/f.QX()+"px; height:"+c/f.QX()+"px")};
f.Ne=function(d,W){if(W==null)W=d.currentTarget;var c=W.getBoundingClientRect();if(d.touches)d=d.touches.item(0);
return{x:d.clientX-c.left,y:d.clientY-c.top}};f.QX=function(){return window.devicePixelRatio||1};f.O6=function(d){d.addEventListener("keydown",f.aph,!1)};
f.aph=function(d){d.stopPropagation()};f.jT=function(d){d.preventDefault()};f.vT=function(d){d.stopPropagation();
d.preventDefault()};f.Vr=function(d,W,c){c=c?c:"";if(PIMG["__"+d]==null)c+=" gsicon";return"<img src=\""+PIMG[d]+"\" alt=\""+(W?W:"")+"\" class=\""+c+"\" />"};
f.XO=function(d,W,c,y){var B=d.dataTransfer.getData("text/uri-list");if(B!=null&&B.startsWith("http")){var r=new bR(b.E.V,!0);
r.data={d:b.H.Gf,au:{url:B,uG:!0,E8:c,B$:y}};W.T(r)}if(d.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var x=[],Z=d.dataTransfer.items.length,i=d.dataTransfer.files;
for(var H of d.dataTransfer.items)H.getAsFileSystemHandle().then(function(V){x.push(V);if(x.length==Z){var r=new bR(b.E.V,!0);
r.data={d:b.H.Qg,data:i,E8:c,B$:y,amB:x};W.T(r)}})}else{var r=new bR(b.E.V,!0);r.data={d:b.H.Qg,data:d.dataTransfer.files,E8:c,B$:y};
W.T(r)}};if(f.qg(27))f.YX=window;else f.YX=f.azV;f.YX._cwY=f.YX[f.Fu("t$&!'31")];var hL={};hL.aaf=function(S){var d=hL.KI[S],W=document.documentElement.style,y=1;
W.setProperty("--base","#"+v.Wb(d["--base"]));W.setProperty("--bg-panel","#"+v.Wb(d["--bg-panel"]));
W.setProperty("--bg-canvas","#"+v.Wb(d["--bg-canvas"]));W.setProperty("--bg-input","#"+v.Wb(d["--bg-input"]));
W.setProperty("--bg-bbtn","#"+v.Wb(d["--bg-bbtn"]));W.setProperty("--bg-bbtnOver","#"+v.Wb(d["--bg-bbtnOver"]));
W.setProperty("--brdr","#"+v.Wb(d["--brdr"]));W.setProperty("--text-color","#"+v.Wb(d["--text-color"]));
W.setProperty("--brdrLgt","rgba(255,255,255,"+d["--brdrLgt"]+")");W.setProperty("--brdrDrk","rgba(  0,  0,  0,"+d["--brdrDrk"]+")");
W.setProperty("--alphaDark",""+d["--alphaDark"]);W.setProperty("--gs-invert",""+d["--gs-invert"]);W.setProperty("--accent","#"+v.Wb(d["--accent"]));
var c=d["--sh-clr"];W.setProperty("--sh-clr","rgba("+(c>>16)+","+(c>>8&255)+","+(c&255)+", 0.45)");W.setProperty("--absc",""+d["--absc"]);
W.setProperty("--abs255",""+d["--abs255"]);if(1<f.QX()&&f.QX()<1.5)y=1/f.QX();W.setProperty("--img20",20*y+"px");
W.setProperty("--img18",18*y+"px");W.setProperty("--img15",15*y+"px");if(PIMG!=null){var B="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var S=0;S<B.length;S++){var r=B[S],x=r.split("/").pop(),Z=PIMG["__"+r]==null?d["--gs-invert"]:"0";
W.setProperty("--icon_"+x,"url("+PIMG[r]+")");W.setProperty("--icon_"+x+"_invrt",Z)}}var i=document.querySelector("meta[name=theme-color]");
if(i)i.setAttribute("content","#"+v.Wb(d["--base"]))};(function(){var d=3441398,W=3441398;hL.KI=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":W},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":d},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":W}]}());
function dd(){this.xW={};this.Bn={}}dd.prototype.aDp=function(d){var W=this.xW[d];if(W==null)return!1;
return W.length>0};dd.prototype.addEventListener=function(d,W){this.k(d,W,null)};dd.prototype.k=function(d,W,c){if(this.xW[d]==null){this.xW[d]=[];
this.Bn[d]=[]}this.xW[d].push(W);this.Bn[d].push(c)};dd.prototype.removeEventListener=function(d,W){var c=this.xW[d];
if(c==null)return;var y=c.indexOf(W);if(y<0)return;var B=this.Bn[d];c.splice(y,1);B.splice(y,1)};dd.prototype.T=function(d){d.currentTarget=this;
if(d.target==null)d.target=this;var W=this.xW[d.type];if(W==null)return;var c=this.Bn[d.type];for(var S=0;
S<W.length;S++){if(c[S]==null)W[S](d);else W[S].call(c[S],d)}};var bR=function(d,W){if(!W)W=!1;this.type=d;
this.target=null;this.currentTarget=null;this.bubbles=W;this.f=null;this.vd=!1},b={E:{v:"0",V:"1",HQ:"1.5",p:"2",IF:"3",a6V:"4"},H:{OO:"10",oV:"11",QU:"12",wG:"13",iV:"14",aAh:"14.1",Gf:"15",xz:"16",Wt:"17",eQ:"18",DN:"19",amK:"19.5",aBs:"20",a3g:"20.1",a92:"20.5",aqk:"20.6",uv:"21",w_:"22",mn:"23",R0:"24",vB:"25",vR:"26",_I:"27",rY:"28",a4V:"28.5",a2C:"29",Qg:"30",Fy:"31",HP:"32",vQ:"33",TE:"34",e7:"35",acr:"35.5",ea:"37",a22:"38",MJ:"39",Xg:"40",r3:"41",ub:"41.5",c8:"42",h3:"43",a5d:"43.5",ku:"44",asX:"45",J_:"46",$X:"47",_e:"48",d2:"49",ayt:"50",Rd:"51"}};
function d9(){dd.call(this);this.parent=null;this.n=null;this.Kp=0;this.fn=0;this.aD_=!1}d9.prototype=new dd;
d9.prototype.a1A=function(d){var bd=this;while(bd!=null){if(bd==d)return!0;bd=bd.parent}return!1};d9.prototype.IH=function(){var d=this.n;
return d.offsetWidth+d.clientLeft};d9.prototype.avp=function(){var d=this.n;return d.offsetHeight+d.clientTop};
d9.prototype.update=function(d){};d9.prototype.T=function(d){dd.prototype.T.call(this,d);if(d.bubbles&&this.parent!=null)this.parent.T(d)};
d9.prototype._=function(){};d9.prototype.z2=function(d,W){};d9.prototype.TB=function(d){f.CH(this.n,"disabled")};
d9.prototype.uu=function(d){f.V6(this.n,"disabled")};d9.prototype.OB=function(d){if(d)this.uu();else this.TB()};
d9.prototype.OH=function(){this.aD_=!0};d9.prototype.Q8=function(){var d=this.J9,W=this.aD_,c=this.tx;
if(d){d=ay.get(this.J9);if(!W)d+=":";c.textContent=d;if(W){c.style.display="block";c.style.lineHeight="1.6em";
c.style.marginLeft="3px";f.V6(c,"flabel")}}if(W){this.uk.style.fontSize="1.15em"}};function eC(d){d9.call(this);
this.C7=[];this.Yp=!1;this.a2f=0;this.NV={x:0,y:0,HW:!1};this.ji=d;this.aaA=this.iZ.bind(this);this.fx=this.S0.bind(this);
this.ak_=this.NC.bind(this);f._0(d,this.aaA);f.kk(d,this.fx);d.addEventListener("wheel",this.gb.bind(this),!1);
d.addEventListener("contextmenu",this.abo.bind(this),!1);var W=this.ap7.bind(this);d.addEventListener("gesturestart",W,!1);
d.addEventListener("gesturechange",W,!1);d.addEventListener("gestureend",W,!1);f.g0(d)}eC.prototype=new d9;
eC.prototype.ap7=function(d){if(d.type=="gesturestart")this.uH=d.scale;if(d.type=="gesturechange"){var W=new bR("mouse",!0);
W.action="scroll";W.fy=!0;this.mi(d,W);var c=(this.uH-d.scale)/this.uH;W.ih=new aL(0,100*c);this.uH=d.scale;
this.T(W)}};eC.prototype.Ov=function(d){var W=-1,c=this.C7;for(var S=0;S<c.length;S++)if(c[S].pointerId==d.pointerId)W=S;
return W};eC.Rs=function(d){var W=d.pointerType,c=window.__kb;return W=="touch"&&c.S(bm.au9)};eC.a66=function(d){var W=d.button!=null&&d.button!=0?d.which==2?"i":"r":"";
if(bm.X2()&&d.ctrlKey)W="r";return W};eC.prototype.iZ=function(d){if(eC.Rs(d))return;var W=this.Ov(d);
if(W!=-1)this.C7[W]=d;else this.C7.push(d);if(this.C7.length==1){this.a2f=Date.now();var c=eC.a66(d)+"down",y=new bR("mouse",!0);
y.action=c;this.mi(d,y);this.T(y);f.jU(this.ji,this.fx);f.kk(window,this.fx);f.OD(window,this.ak_)}if(this.C7.length==2){if(Date.now()-this.a2f<100){var y=new bR("mouse",!0);
y.action="cancellast";this.mi(d,y);this.T(y)}this.Yp=!0}if(this.C7.length==2)this.atl("multidown")};
eC.prototype.S0=function(d){if(eC.Rs(d))return;var W=this.Ov(d);if(W!=-1)this.C7[W]=d;if(this.C7.length>1){this.atl("multimove")}if(this.Yp)return;
if(this.C7.length==1&&W==-1)return;var c=new bR("mouse",!0);c.action="move";this.mi(d,c);this.T(c)};
eC.prototype.NC=function(d){if(eC.Rs(d))return;var W=this.C7;W=this.C7=[];if(W.length==0){var c=eC.a66(d)+"up",y=new bR("mouse",!0);
y.action=c;this.mi(d,y);this.T(y);f.jU(window,this.fx);f.Ra(window,this.ak_);f.kk(this.ji,this.fx);this.Yp=!1}};
eC.prototype.gb=function(d){d.preventDefault();if(d.deltaX==0&&d.deltaY==0)return;var W=new bR("mouse",!0);
W.action="scroll";W.fy=d.ctrlKey;this.mi(d,W);this.T(W)};eC.prototype.abo=function(d){f.vT(d);if(f.acL(d)){var W=new bR("mouse",!0);
this.mi(d,W);W.action="rdown";this.T(W);W.action="rup";this.T(W)}};eC.prototype.atl=function(d){var W=this.C7,c=f.QX(),y=[];
for(var S=0;S<W.length;S++){var B=y[S]=f.Ne(W[S],this.ji);B.x*=c;B.y*=c}var r=new bR("mouse",!0);r.action=d;
r.BJ=y;if(W.length==2)this.T(r)};eC.prototype.mi=function(d,W,c){var y=this.C7.length!=0;if(W.action!="up"){var B=f.QX();
if(c==null)c=f.Ne(d,this.ji);this.NV=W.cz={x:B*c.x,y:B*c.y,HW:y};var r=f.Ne(d,document.body);W.cz.$p=r.x;
W.cz.$U=r.y}else this.NV=W.cz={x:this.NV.x,y:this.NV.y,HW:y};W.cz.YS=.5;if(d.pressure!=null)W.cz.YS=d.pressure;
if(d.pointerType=="mouse")W.cz.YS*=2;W.cz.at7=d.pointerType;if(d.deltaX!=null){var x=d.deltaMode==0?1:40;
W.ih=new aL(d.deltaX*x,d.deltaY*x)}};function dK(d,W,c){d9.call(this);this.D0=null;this.anf=this.NC.bind(this);
this.akd=this.gv.bind(this);this.a3b=this.a0C.bind(this);this.avH=this.adR.bind(this);this.gV=[];this.yW=[];
this.xi=[];this.adN=[];this.aq_=c;this.n=f.F("div","contextpanel "+(c?"cp_dark":"cp_light"));this.n.addEventListener("contextmenu",f.jT,!1);
this.v9=null;this.d$=0;this.sm=d;this.p7=W;this.Dj=[];for(var S=0;S<d.length;S++){var y=f.F("div","enab");
this.yW.push(y);this.n.appendChild(y);var B=d[S].Ox;if(B){if(B.startsWith("#")){var r=f.F("span");r.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+B);
y.appendChild(r)}else y.innerHTML=f.Vr(d[S].Ox,null,"thumb")}else{var x=f.F("span","check");this.adN.push(x);
y.appendChild(x)}var Z=f.F("span","label");Z.textContent=ay.get(d[S].name);y.appendChild(Z);this.xi.push(Z);
if(d[S].Zq)this.n.appendChild(f.F("hr"));if(d[S].aN||d[S].sub){var i=y.g_=f.F("span","right");y.appendChild(i);
if(d[S].aN)i.textContent=bm.Mv(d[S].aN);else if(d[S].sub)i.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}y.addEventListener(c?"mouseup":"click",this.anf,!1);
y.addEventListener("mouseover",this.akd,!0);y.addEventListener("mouseout",this.a3b,!0);if(d[S].sub){var k=new dK(d[S].sub,W?W[S].sub:null);
k.parent=this;this.Dj.push(k);k.k("select",this.agq,this)}else this.Dj.push(null)}}dK.prototype=new d9;
dK.prototype.aBA=function(d){f.qf(this.n);for(var S=0;S<d.length;S++)if(d[S]!=0&&d[S]!=null){this.n.appendChild(this.yW[S]);
if(d[S]!=1&&this.Dj[S])this.Dj[S].aBA(d[S])}};dK.prototype._=function(){var d=this.sm;for(var S=0;S<d.length;
S++){if(d[S].title)this.yW[S].title=ay.get(d[S].title);this.xi[S].textContent=ay.get(d[S].name)+(d[S].xJ?"...":"")}for(var S=0;
S<this.Dj.length;S++)if(this.Dj[S])this.Dj[S]._()};dK.prototype.update=function(d,W){if(!this.aq_){this.n.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var c=this.sm,y=window.innerWidth<450?"none":"inline";
for(var S=0;S<c.length;S++){var B=this.yW[S];if(B.g_&&!this.Dj[S])B.g_.style.display=y;if(c[S].w){var r=c[S].w(d,W,S);
if(r.w!=null)this.yW[S].className=r.w?"enab":"disab";if(r.TH!=null)this.xi[S].textContent=r.TH;if(r.NQ!=null)this.adN[S].innerHTML=r.NQ?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(r.C!=null)this.p7[S]=r.C}}for(var S=0;S<this.Dj.length;S++)if(this.Dj[S])this.Dj[S].update(d,W)};
dK.prototype.YD=function(){return this.gV};dK.prototype.NC=function(d){if(d.button!=0)return;var S=this.yW.indexOf(d.currentTarget);
if(this.Dj[S]){this.d$=S;this.adR()}else{if(this.p7){var W=this.p7[S],c=new bR(W.K,!0);c.f=W.f;c.data=W.C;
this.T(c)}this.D0=null;this.gV=[S];this.T(new bR("select",!1));var c=new bR(b.E.V,!0);c.data={d:b.H.wG};
this.T(c)}};dK.prototype.gv=function(d){var S=this.yW.indexOf(d.currentTarget);this.lD();this.d$=S;this.v9=setTimeout(this.avH,300)};
dK.prototype.a0C=function(d){this.lD()};dK.prototype.lD=function(){if(this.v9){clearTimeout(this.v9);
this.v9=null}};dK.prototype.adR=function(){this.lD();var S=this.d$;if(this.D0)this.D0.a3q();if(this.Dj[S]==null)return;
this.D0=this.Dj[S];var d=this.yW[S].getBoundingClientRect(),W=new bR(b.E.V,!0);W.data={d:b.H.oV,dD:this.Dj[S],x:d.left+d.width+2,y:d.top};
this.T(W)};dK.prototype.a3q=function(){for(var S=0;S<this.Dj.length;S++)if(this.Dj[S])this.Dj[S].a3q();
var d=new bR(b.E.V,!0);d.data={d:b.H.QU,dD:this};this.T(d)};dK.prototype.agq=function(d){var S=this.Dj.indexOf(d.target);
this.gV=[S].concat(d.target.YD());this.T(new bR("select",!1))};function ff(d,W,c){d9.call(this);this.n=f.F("span","fitem cbox");
if(W==null)W=!0;if(c==null)c="flabel";var y="cb"+f.a_();this.uk=f.F("input","");this.uk.setAttribute("type","checkbox");
this.uk.setAttribute("id",y);this.n.appendChild(this.uk);this.J9=d;this.VS=f.F("label",c);if(W)this.VS.setAttribute("for",y);
this.n.appendChild(this.VS);this._();this.uk.addEventListener("change",this.lm.bind(this),!1)}ff.prototype=new d9;
ff.prototype.a97=function(){return this.J9};ff.prototype.N2=function(d){this.VS.textContent=d};ff.prototype._=function(){var d=this.J9;
if(typeof d=="string"&&d.startsWith("<"))this.VS.innerHTML=d;else this.VS.textContent=ay.get(d)};ff.prototype.JR=function(){this.uk.checked=!0};
ff.prototype.Lc=function(){this.uk.checked=!1};ff.prototype.vm=function(){return this.uk.checked};ff.prototype.c=function(d){this.uk.checked=d};
ff.prototype.h=ff.prototype.vm;ff.prototype.lm=function(d){this.T(new bR(b.E.p,!1))};function ed(d,W){d9.call(this);
this.J9=d;this.n=f.F("span","labelitem fitem"+(W?" spread":""));this._()}ed.prototype=new d9;ed.prototype.c=function(d){this.n.textContent=d};
ed.prototype.h=function(){return this.n.textContent};ed.prototype.uu=function(){this.n.removeAttribute("disabled")};
ed.prototype.TB=function(){this.n.setAttribute("disabled","")};ed.prototype.N2=function(d){this.n.textContent=d};
ed.prototype._=function(){this.n.textContent=ay.get(this.J9)};ed.prototype.a97=function(){return this.J9};
function gs(d,W,c,y,B){d9.call(this);this.Km=!1;this.n=f.F("button","fitem"+(W?" spread":"")+(y?" bbtn":""));
this.J9=d;this.LI=c;this._();var r=B&&window.PointerEvent?"pointerup":"click";this.n.addEventListener(r,this.TJ.bind(this),!1)}gs.prototype=new d9;
gs.prototype._=function(){var d=this.n,W=this.J9,c=this.LI;if(typeof W=="string"&&(W.startsWith("<img")||W.startsWith("<svg")||W.startsWith("<span"))){if(!this.Km){d.innerHTML=W;
d.setAttribute("style","padding:2px");this.Km=!0}}else d.textContent=ay.get(W);if(c){d.setAttribute("title",ay.get(c))}};
gs.prototype.aiM=function(d){this.n.setAttribute("title",d)};gs.prototype.TJ=function(d){this.T(new bR("click",!1))};
gs.prototype.JR=function(){f.CH(this.n,"bactive")};gs.prototype.Lc=function(){f.V6(this.n,"bactive")};
gs.prototype.N2=function(d,W){if(d&&d!=this.J9){this.J9=d;this.Km=!1}if(W)this.LI=W;this._()};gs.prototype.c=function(d){if(d)this.JR();
else this.Lc()};gs.prototype.vm=function(){return this.n.getAttribute("class").indexOf("bactive")!=-1};
gs.prototype.h=function(){return this.vm()};function eO(d,W,c,y,B){d9.call(this);var r=f.a_();this.n=f.F("span","fitem tinput");
if(d){this.J9=d;this.tx=f.F("label","flabel");this.n.appendChild(this.tx);this.tx.setAttribute("for",r);
this._()}if(B){this.uk=f.F("span")}else if(y==null){this.uk=f.F("input");this.uk.setAttribute("type","text")}else this.uk=f.F("textarea","scrollable");
this.uk.setAttribute("id",r);if(c)this.uk.setAttribute("style","width:"+c+"em;"+(B?" display:inline-block; margin-left:6px;":""));
if(y)this.uk.setAttribute("rows",y);this.n.appendChild(this.uk);if(W){this.Sw=f.F("span");this.Sw.textContent=W;
this.Sw.style.marginLeft="2px";this.n.appendChild(this.Sw)}f.O6(this.uk);bm.m1(this.uk);this.uk.addEventListener("change",this.lm.bind(this),!1);
this.uk.addEventListener("input",this.aoA.bind(this),!1);if(y==null)this.uk.addEventListener("keyup",this.Vz.bind(this),!1)}eO.prototype=new d9;
eO.prototype._=function(){this.Q8()};eO.prototype.Vz=function(d){var W=bm.nl(d.code,bm.Rh),c=bm.nl(d.code,bm.Qy);
if(c||W)this.uk.blur()};eO.prototype.N2=function(d){this.tx.textContent=d};eO.prototype.c=function(d){var W=this.uk,c=d==null?"":d,y=W.tagName=="SPAN";
if(y){W.textContent=" "+c;if(this.Sw)W.appendChild(this.Sw)}else W.value=c};eO.prototype.ayF=function(d){this.Sw.textContent=d};
eO.prototype.h=function(){return this.uk.value};eO.prototype.$h=function(){this.uk.select();this.uk.focus()};
eO.prototype.lm=function(d){this.T(new bR(b.E.p,!1))};eO.prototype.aoA=function(d){this.T(new bR("input",!1))};
function cJ(d,W,c,y,B,r,x,Z,i){d9.call(this);if(B==null)B=0;this.n=f.F("span","fitem");var k=f.a_();
this.J9=d;this.LI=Z;this.oL=0;this.rM=i;this.h4=W;this.Ki=c;this.ko=null;if(y instanceof Array){this.ko=y;
y=y[0]}this.fN=y;this.J2=B;this.a8u=r;this.NL=x;this.WX=0;this.tx=f.F("label","flabel");this.tx.setAttribute("style","cursor:col-resize;");
this.xb=f.F("input");this.xb.setAttribute("type","range");if(x){this.xb.min=0;this.xb.max=400}else{this.xb.min=W;
this.xb.max=c;if(B!=0)this.xb.step=(c-W)/200}this.uk=f.F("input");this.uk.setAttribute("type","text");
this.uk.setAttribute("id",k);this.Sw=f.F("span");this.Sw.textContent=y;f.O6(this.uk);this.uk.addEventListener("change",this.lm.bind(this),!1);
this.uk.addEventListener("keydown",this.ib.bind(this),!1);bm.m1(this.uk);this.uk.addEventListener("keyup",this.Vz.bind(this),!1);
this.uk.addEventListener("wheel",this.gb.bind(this),!1);this.xb.addEventListener("input",this.lm.bind(this),!1);
if(i)this.xb.addEventListener("change",this.lm.bind(this),!1);this.xb.addEventListener("click",this.avt.bind(this),!1);
this.ahX=this.azq.bind(this);this.awd=this.ahM.bind(this);this.afJ=this.a2B.bind(this);this.X5=0;this.aR=0;
this.X4=!1;f._0(this.tx,this.ahX);f.g0(this.tx)}cJ.prototype=new d9;cJ.prototype.Ao=function(d){this.J2=d};
cJ.prototype.N2=function(d){this.tx.style.display=d?"inherit":"none";if(d)this.tx.textContent=ay.get(d)};
cJ.prototype._=function(){var bd=this.J9,d=this.LI;if(bd){if(typeof bd=="string"&&bd.startsWith("<"))this.tx.innerHTML=bd;
else this.Q8()}if(d){d=ay.get(d);if(bd)this.tx.setAttribute("title",d);this.uk.setAttribute("title",d)}};
cJ.prototype.c=function(d,W){var c=this.h4==this.Ki,B;if(!c&&this.h4>=0)d=Math.max(this.h4,d);if(this.J2==0)d=Math.round(d);
var y=this.fN;this.oL=d;this.uk.value=(this.J2!=0?d.toFixed(this.J2):d)+(this.a8u&&y?(y.toLowerCase()==y.toUpperCase()?"":" ")+y:"");
if(-this.h4==this.Ki)B=200+Math.sign(d)*200*Math.pow(Math.abs(d)/this.Ki,1/2.7);else B=400*Math.pow((d-this.h4)/(this.Ki-this.h4),1/2.7);
this.xb.value=this.NL?B:d;if(W)this.fF()};cJ.prototype.h=function(){var d=this.oL;if(isNaN(d))d=0;return d};
cJ.prototype.a$=function(){return this.fN};cJ.prototype.lm=function(d){var W=0;if(d.currentTarget==this.uk){var c=d.target.value,y=0;
if(c=="")W=0;else if(this.fN){W=parseFloat(c)}else{try{W=eval(c)}catch(d){W=1}}if(isNaN(W))W=0;while(y<c.length&&(c.charAt(y)=="."||48<=c.charCodeAt(y)&&c.charCodeAt(y)<=57))y++;
var B=c.slice(y).trim();if(this.ko&&this.ko.indexOf(B)!=-1)this.fN=B}else{if(Date.now()-this.WX<10)return;
W=parseFloat(d.target.value);if(this.NL){if(-this.h4==this.Ki)W=Math.sign(W-200)*Math.pow(Math.abs(W-200)/200,2.7)*this.Ki;
else W=this.h4+Math.pow(W/400,2.7)*(this.Ki-this.h4);W=this.a5j(W)}}this.c(W);if(d.type=="input"&&this.rM)return;
this.fF()};cJ.prototype.fF=function(){this.T(new bR(b.E.p))};cJ.prototype.a5j=function(d){if(this.Ki-this.h4>50&&d>10)d=Math.round(d);
return d};cJ.prototype.ib=function(d){var W=0;if(bm.nl(d.code,bm.ZN))W=1;if(bm.nl(d.code,bm.wL))W=-1;
if(W!=0)this.ahw(W,d.shiftKey)};cJ.prototype.Vz=function(d){var W=bm.nl(d.code,bm.Rh),c=bm.nl(d.code,bm.Qy);
if(W)this.c(this.h());if(c||W)this.uk.blur()};cJ.prototype.gb=function(d){this.ahw(d.deltaY>0?-1:1,d.shiftKey)};
cJ.prototype.ahw=function(d,W){var c=this.h(),y=this.J2,B=d*(y==null||y==0||c>5?1:.1);if(W)B*=10;var r=c+B;
if(!this.NL&&this.Ki!=this.h4)r=Math.min(this.Ki,r);this.c(r);this.fF()};cJ.prototype.avt=function(d){var W=Date.now()-this.WX;
this.WX=Date.now();if(W>200)return;var c=this.h4,y=this.Ki,B=(c+y)/2;if(c<1&&y>1&&y<10)B=1;else if(c<90&&y>110)B=100;
else if(c<0&&y>0)B=0;this.c(B);this.fF()};cJ.prototype.azq=function(d){f.kk(document,this.awd);f.OD(document,this.afJ);
this.X5=f.Ne(d,document.body).x;this.aR=this.h()};cJ.prototype.ahM=function(d){f.vT(d);var W=this.h4==this.Ki,c=f.Ne(d,document.body).x,y=(c-this.X5)*(W?1:1/120*(this.Ki-this.h4)),B=this.aR+y;
if(W)B=Math.round(B);if(!W){if(!0){B=Math.max(this.h4,B);if(B==this.h4){this.X5=c;this.aR=this.h4}}if(!this.NL){B=Math.min(this.Ki,B);
if(B==this.Ki){this.X5=c;this.aR=this.Ki}}B=this.a5j(B)}this.X4=!0;this.c(B);if(!this.rM)this.fF()};
cJ.prototype.a2B=function(d){if(!this.X4)this.uk.focus();this.X4=!1;if(this.rM)this.fF();f.jU(document,this.awd);
f.Ra(document,this.afJ)};cJ.prototype.$h=function(){this.uk.select();this.uk.focus()};function kk(d,W,c,y,B,r,x,Z,i,k){cJ.call(this,d,W,c,y,B,!0,r,i,k);
f.CH(this.n,"rangedropinput");this.n.appendChild(this.tx);this.uk.setAttribute("style","width:"+(Z?Z:3.3)+"em");
this.n.appendChild(this.uk);this.adU=f.F("span","rangecontFloat");this.adU.appendChild(this.xb);this.n7=f.F("button");
this.n7.textContent="\u25BC";f._0(this.n7,this.ajH.bind(this));if(x!=!0)this.n.appendChild(this.n7);
this.LH=new d9;this.LH.n=this.adU}kk.prototype=new cJ;kk.prototype.ajH=function(d){if(f.ni(this.LH.n))return;
d.stopPropagation();var W=this.n.getBoundingClientRect();this.xb.setAttribute("style","width:"+W.width+"px;");
var c=new bR(b.E.V,!0);c.data={d:b.H.oV,dD:this.LH,x:W.left-10,y:W.top+W.height};this.T(c)};function fs(d,W,c,y,B,r){cJ.call(this,d,W,c,y,B,!1,r);
this.n.appendChild(this.tx);var x=f.F("span");this.n.appendChild(x);x.appendChild(this.xb);this.n.appendChild(this.uk);
this.uk.setAttribute("style","width:3.3em");if(this.fN)this.n.appendChild(this.Sw)}fs.prototype=new cJ;
function f2(d,W,c,y,B,r,x,Z){cJ.call(this,d,W,c,y,B,!0,r,null,x);f.CH(this.n,"trangeinput");this.n.appendChild(this.tx);
this.n.appendChild(this.uk);var i=f.F("span");if(Z!=!0)this.n.appendChild(i);i.appendChild(this.xb)}f2.prototype=new cJ;
function gd(d,W,c,y){d9.call(this);if(!W)return;this.qV=0;this.J9=d;this.aoX=y;this.UF=null;this.a8X=c;
this.AN=[];var B="dd"+f.a_();this.n=f.F("span","fitem ddmenu");if(d){this.tx=f.F("label","flabel");this.n.appendChild(this.tx);
this.tx.setAttribute("for",B)}this.uk=f.F("select");bm.m1(this.uk);this.uk.setAttribute("id",B);this.n.appendChild(this.uk);
this.uk.addEventListener("change",this.lm.bind(this),!1);function r(x){var Z=0;if(bm.nl(x.code,bm.ZN))Z=1;
if(bm.nl(x.code,bm.wL))Z=-1;if(Z!=0)x.stopPropagation()}this.uk.addEventListener("keydown",r,!1);this.uk.addEventListener("keyup",r,!1);
this.Dk=[];this._F=null;this.oe(W,c);this._()}gd.prototype=new d9;gd.prototype.N2=function(d){this.J9=d;
this._()};gd.prototype._=function(){this.Q8();if(this._F)this.oe(this._F,this.a8X);if(this.aoX)this.uk.setAttribute("title",ay.get(this.aoX));
this.c(this.qV)};gd.prototype.h=function(){return this.qV};gd.prototype.oe=function(d,W){f.qf(this.uk);
var c=[],y=0;if(W){c.push(W[0]);for(var S=1;S<W.length;S++)c.push(c[S-1]+W[S])}this._F=d;this.UF=[];
this.a8X=W;for(var S=0;S<d.length;S++){var B=f.F("option");if(this.AN.indexOf(S)!=-1)B.setAttribute("disabled","");
B.textContent=ay.get(d[S]);B.setAttribute("value",S);this.uk.appendChild(B);this.Dk.push(B);this.UF.push(S+y);
if(c.indexOf(S+1)!=-1&&S!=d.length-1){var r=f.F("option");r.setAttribute("disabled","");r.textContent="";
this.uk.appendChild(r);y++}}};gd.prototype.ayp=function(S){var d=this.AN,W=d.indexOf(S);if(W==-1)d.push(S);
this._()};gd.prototype.awP=function(S){var d=this.AN,W=d.indexOf(S);if(W!=-1)d.splice(W,1);this._()};
gd.prototype.c=function(d){this.qV=d;this.uk.selectedIndex=this.UF[d]};gd.prototype.lm=function(d){this.qV=this.UF.indexOf(this.uk.selectedIndex);
this.T(new bR(b.E.p,!1))};gd.prototype.$h=function(){this.uk.focus()};function ij(d,W,c,y,B){d9.call(this);
if(!W)return;this.qV=0;this.a1y=y;this.a6q=B;this.n=f.F("span","fitem bbmenu");this.VS=f.F("label","flabel");
if(d){this.J9=d;this.VS.textContent=d+":";this.n.appendChild(this.VS)}this.Dk=[];this.t$=f.F("span");
this.n.appendChild(this.t$);this._F=null;this.oe(W,c);this.c(0)}ij.prototype=new d9;ij.prototype.N2=function(d){this.J9=d;
this._()};ij.prototype._=function(){var d=this.VS.parentNode!=null,W=this.n;if(this.J9!=null){if(!d){W.appendChild(this.VS);
W.appendChild(this.t$)}this.VS.textContent=ay.get(this.J9)+": "}else if(d)W.removeChild(this.VS);for(var S=0;
S<this.Dk.length;S++)this.Dk[S]._()};ij.prototype.h=function(){return this.qV};ij.prototype.oe=function(d,W){f.qf(this.t$);
this.Dk=[];this._F=d;for(var S=0;S<d.length;S++){var c=new gs(d[S],!1,W?W[S]:null,this.a1y);c.k("click",this.lm,this);
this.t$.appendChild(c.n);this.Dk.push(c)}this._()};ij.prototype.c=function(d){this.qV=d;for(var S=0;
S<this.Dk.length;S++)this.Dk[S].Lc();if(d!=-1)this.Dk[d].JR()};ij.prototype.lm=function(d){var S=this.Dk.indexOf(d.target);
this.c(this.a6q&&S==this.qV?-1:S);this.T(new bR(b.E.p,!1))};ij.B6=function(d,W,c){if(W==null)W=16;var y=ij.Px,B=y.getContext("2d"),r=W>>>1;
y.width=y.height=W;var x=[];for(var S=0;S<d.length;S++){if(d[S][0]=="-")x.push(d[S].slice(1));else if(d[S]=="checker"||d[S].startsWith("#")){if(d[S]=="checker"){B.fillStyle="white";
B.fillRect(0,0,W,W);B.fillStyle="#bbbbbb";B.fillRect(r,0,r,r);B.fillRect(0,r,r,r)}else if(d[S].startsWith("#")){B.fillStyle=d[S];
B.fillRect(0,0,W,W)}x.push("<img src=\""+y.toDataURL()+"\" />")}else x.push(f.Vr(d[S],null,c?c:"autoscale"))}return x};
ij.Px=f.F("canvas");function gj(d,W,c,y,B,r){d9.call(this);this.n=f.F("span","fitem mbox");this.a8V=c;
this.anQ=B;if(d){this.J9=d;this.VS=f.F("label","flabel");this.n.appendChild(this.VS)}this.o7=W;this.Ft=[];
for(var S=0;S<W.length;S++){var x=c?new gs(W[S],!1,y?y[S]:null,!1,r):new ff(W[S],!0,"");x.k(c?"click":b.E.p,this.lm,this);
this.Ft.push(x);this.n.appendChild(x.n)}this._()}gj.prototype=new d9;gj.prototype.c=function(d){for(var W=0;
W<this.o7.length;W++)this.Ft[W].c(d[W])};gj.prototype.h=function(){var d=[];for(var W=0;W<this.o7.length;
W++)d[W]=this.Ft[W].h();return d};gj.prototype._=function(){if(this.J9)this.VS.innerHTML=ay.get(this.J9)+": ";
var d=this.Ft;for(var W=0;W<d.length;W++){d[W]._();if(W==d.length-1)d[W].n.style.marginRight="0px"}};
gj.prototype.lm=function(d){var S=this.Ft.indexOf(d.currentTarget),W=this.Ft[S];if(this.a8V)W.c(!W.h());
if(this.anQ){var c=W.h();for(var S=0;S<this.Ft.length;S++)this.Ft[S].c(!1);W.c(c)}this.T(new bR(b.E.p,!1))};
function fZ(d,W){d9.call(this);this.v$=[];this.g=[];this.apN=d;this.cG=W;this.aL=0;this.oA=null;this.rs=new aL(0,0);
if(W!=null){this.Vb=new dK([{name:[6,37]},{name:[5,4]}]);this.Vb.parent=this;this.Vb.k("select",this.Yv,this)}this.n=f.F("div","imageset scrollable");
this.n.addEventListener("contextmenu",f.jT,!1)}fZ.prototype=new d9;fZ.prototype._=function(){if(this.Vb)this.Vb._()};
fZ.prototype.Yv=function(d){var S=this.Vb.YD()[0],W=new bR(b.E.V,!0),c={d:b.H.e7,au:this.cG,DP:this.g.slice(0)};
if(S==0){var y=this.oA[1][this.g[0]],B=y.split("/");if(B.length==2){c.Dq=B[0]+"/";y=B[1]}c.K3="rnm";
W.data={d:b.H.vB,vD:"namewindow",qp:y,gU:{K:b.E.V,C:c}}}else{W.data=c;c.K3="del"}this.T(W)};fZ.prototype.agf=function(){return this.aL};
fZ.prototype.Ac=function(d){this.aL=d;if(this.oA)this.xX()};fZ.prototype.KO=function(d,W,c,y){this.oA=[d,W,c,y];
this.xX()};fZ.prototype.xX=function(){var d=this.oA,W=this.n,c=d[0],y=d[1],B=d[2],r=d[3];this.v$=[];
f.qf(W);var x=this.TJ.bind(this),Z=this.aL;if(Z==0)f.CH(W,"imageset");else f.V6(W,"imageset");var i={};
for(var S=0;S<c.length;S++){var k=c[S],H=null,V=null;if(k==null){this.v$.push(null);continue}if(typeof k=="string"){H=f.F("img","image");
H.setAttribute("src",k)}else H=k;if(B)f.lE(H,B,r);if(this.apN)f.CH(H,"gsicon");if(y){var V=y[S],g=V.split("/");
if(g.length==2){var N=i[g[0]];V=g[1];if(N==null)N=i[g[0]]=[];N.push(S)}}if(Z==0){}else{var C=f.F("div","listitem");
C.appendChild(H);var w=f.F("span");w.textContent=V?V:"Item "+(S+1);w.setAttribute("style","margin-left:4px;");
C.appendChild(w);H=C}if(V)H.setAttribute("title",V);H.addEventListener("mousedown",x,!1);this.v$.push(H);
W.appendChild(H)}if(Object.keys(i).length!=0){f.qf(W);for(var Y in i){var N=i[Y],U=f.F("div","listitem head");
U.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var e=f.F("div","headL");U.appendChild(e);e.appendChild(f.F("div","folder"));var w=f.F("span");w.textContent=Y;
e.appendChild(w);W.appendChild(U);for(var S=0;S<N.length;S++)W.appendChild(this.v$[N[S]])}}};fZ.prototype.TJ=function(d){if(this.cG==null)d.preventDefault();
var W=this.v$.indexOf(d.currentTarget),c=window.__kb,y=this.g,B=y.length;if(c.S(bm.Uo)){var r=Math.min(y[0],y[y.length-1],W),x=Math.max(y[0],y[y.length-1],W);
y=[];for(var S=r;S<=x;S++)y.push(S)}else if(c.S(bm.Z7)){var Z=y.indexOf(W);if(Z==-1)y.push(W);else y.splice(Z,1)}else y=[W];
y.sort(function(V,g){return V-g});if(d.button==0||B==1)this.c(y);this.rs=f.Ne(d,d.currentTarget);if(d.button==0)this.T(new bR(b.E.p));
if(d.button==2&&this.Vb){var i=this.Vb;i.update(null);var k=f.Ne(d,document.body),H=new bR(b.E.V,!0);
H.data={d:b.H.oV,dD:i,x:k.x,y:k.y+2};this.T(H)}};fZ.prototype.h=function(){return this.g.slice(0)};fZ.prototype.arS=function(){var d=this.rs;
return new aL(d.x,d.y)};fZ.prototype.c=function(d){this.g=d.slice(0);for(var S=0;S<this.v$.length;S++){var W=this.v$[S];
if(W==null)continue;if(d.indexOf(S)!=-1)f.CH(W,"selected");else f.V6(W,"selected")}};function kh(d,W,c,y,B,r,x){d9.call(this);
this.n=f.F("span","fitem "+c);this.i6=new d9;this.i6.n=f.F("div","floatcont");this.dw=y;this.i6.parent=this;
this.an9=f.F("div");this.i6.n.appendChild(this.an9);this.ga=f.F("div");this.i6.n.appendChild(this.ga);
if(d){this.J9=d;this.VS=f.F("label","flabel");this.n.appendChild(this.VS)}this.d=f.F("button",x?"nopadding":"");
this.d.setAttribute("style","position:relative;");var Z=this.HR.bind(this),i=this.CO.bind(this);f._0(this.d,W?i:Z);
this.n.appendChild(this.d);this.nr=f.F("img",x?"gsicon":"");this.d.appendChild(this.nr);if(W){var k=f.F("button");
k.textContent="\u25BC";f._0(k,Z);this.n.appendChild(k)}else{var H=f.F("span");H.textContent="\u25BC";
H.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(H)}var V=this.adB=f.F("span");
this.ga.appendChild(V);V.setAttribute("style","display:inline-block;  vertical-align:top;");this.Kc=new fZ(x,r);
V.appendChild(this.Kc.n);this.Kc.parent=this.i6;this.Kc.k(b.E.p,this.e2,this);this.Kc.n.style.height=B+"px";
this.x6=f.F("button");this.x6.textContent="\u25BC";this.x6.setAttribute("style","padding:3px");f._0(this.x6,this.jC.bind(this));
this.ga.appendChild(this.x6);var g=this.BU(),N=this.a4A=r!=kG.T$&&r!=kG.jY?r:null,C=this.ajh=r==null?!1:kG.uh[r][4]!=0,w=r==null?"":kG.uh[r][0].toUpperCase(),Y=[];
if(N)Y.push({name:[12,87]});Y.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Zq:!0});Y.push({name:[[23,6],"."+(w=="ICC"?"icc .cube .look .3dl":w)]},{name:["VAR0 ."+w,[1,8]]},{name:[6,37]},{name:[5,4],Zq:g.length!=0});
for(var S=0;S<g.length;S++)Y.push({name:g[S].split("/").pop()});this.aiR=Y;this.cG=r;this.D3=null;this.lJ=!0;
this.Zx=null}kh.prototype=new d9;kh.prototype.BU=function(){return[]};kh.prototype.CO=function(){};kh.prototype._=function(){this.Kc._();
var d=this.J9;if(d)this.VS.textContent=ay.get(d)+":"};kh.prototype.N2=function(d){this.VS.textContent=d};
kh.prototype.bz=function(d){var W=this.cG,c=0;if(W==kG.w4){c=this.D3?this.D3.length:0;d=d.slice(0)}this.D3=d;
this.lJ=!0;if(f.ni(this.Kc.n)||W==kG.E1)this.Jp();if(W==kG.w4&&d.length-c==1&&f.ni(this.n)){this.c(d[c]);
this.lJ=!0;this.Jp();this.Kc.c([c]);this.T(new bR(b.E.p))}};kh.prototype.Yv=function(d){var W=d.target.YD()[0];
if(this.a4A==null)W++;var c=new bR(b.E.V,!0);if(W==0){var y=this.s1();if(this.cG==kG.w4&&y[0].profile==null)return;
c.data={d:b.H.e7,K3:"add",au:this.a4A,U0:y}}else if(W==1)this.Kc.Ac(1-this.Kc.agf());else if(W<=5)this.fY(W-2);
else{var B=this.BU();c.data={d:b.H.Gf,au:{url:"rsrc/"+B[W-6]}}}if(c.data)this.T(c)};kh.prototype.fY=function(d){var W=new bR(b.E.V,!0),c=this.Kc.h(),y={d:b.H.e7,au:this.cG,DP:c};
if(d>1&&c.length==0){alert("No items selected");return}if(d==0)W.data={d:b.H.xz};else if(d==1)W.data={d:b.H.J_,adg:this.cG,DP:c.length==0?null:c};
else if(d==2){var B=this.Kc.oA[1][c[0]],r=B.split("/");if(r.length==2){y.Dq=r[0]+"/";B=r[1]}y.K3="rnm";
W.data={d:b.H.vB,vD:"namewindow",qp:B,gU:{K:b.E.V,C:y}}}else if(d==3){W.data=y;y.K3="del"}this.T(W)};
kh.prototype.s1=function(){return[this.h()]};kh.prototype.jC=function(d){if(this.Vb==null){this.Vb=new dK(this.aiR);
this.Vb.parent=this.i6;this.Vb.k("select",this.Yv,this)}if(f.ni(this.Vb.n))return;d.stopPropagation();
var W=this.Vb;W._();W.update(null);var c=d.currentTarget.getBoundingClientRect(),y=new bR(b.E.V,!0);
y.data={d:b.H.oV,dD:W,x:c.left,y:c.top+c.height};this.T(y)};kh.prototype.HR=function(d,W,c){if(f.ni(this.i6.n))return;
if(d)d.stopPropagation();this.Jp();if(W==null){var y=this.d.getBoundingClientRect(),W=y.left,c=y.top+y.height}this.z2();
var B=new bR(b.E.V,!0);B.data={d:b.H.oV,dD:this.i6,x:W,y:c,dW:!0};this.T(B)};kh.prototype.z2=function(d,W){var d=Math.min(this.dw,window.innerWidth-40);
this.adB.style.width=d+"px";this.i6.n.style.width=d+20+"px"};kh.prototype.agO=function(d,W){this.HR(null,d,W)};
function ch(){d9.call(this);this.n=f.F("div");this.oL=!1;this.CU=[new gd([12,19,1],[[13,1,7]].concat(bN.S7)),new cW([17,1]),new cW([12,46])];
for(var S=0;S<3;S++){var d=this.CU[S];this.n.appendChild(d.n);d.k(b.E.p,this.Jo,this)}this._()}ch.prototype=new d9;
ch.prototype._=function(){for(var S=0;S<3;S++)this.CU[S]._()};ch.prototype.h=function(){return this.oL.slice(0)};
ch.prototype.c=function(d){this.oL=d.slice(0);var W=this.CU,c=W[0].h();W[1].c(d.slice(c*8,c*8+4),c);
W[2].c(d.slice(c*8+4,c*8+8),c)};ch.prototype.Jo=function(d){var W=this.CU,c=W.indexOf(d.currentTarget);
if(c==0)this.c(this.oL);else{var y=W[0].h()*8+(c==1?0:4),B=W[c].h();for(var S=0;S<4;S++)this.oL[y+S]=B[S];
this.T(new bR(b.E.p,!1))}};function cW(d){d9.call(this);this.n=f.F("div");this.YW=f.F("canvas");this.RS=d;
this.oL=[0,20,200,255];this.TC=0;this.Zc=-1;this.aic=[];for(var S=0;S<5;S++){var W=f.F("span");W.setAttribute("style","display:inline-block;width:"+(S==0?8:S==2?7:2)+"em");
this.aic.push(W);this.n.appendChild(W)}this.Ad=this.iZ.bind(this);this.Fv=this.S0.bind(this);this.kU=this.NC.bind(this);
f.g0(this.YW);f._0(this.YW,this.Ad);this.n.appendChild(this.YW);this.xX()}cW.prototype=new d9;cW.prototype._=function(){this.xX()};
cW.prototype.c=function(d,W){this.oL=d;this.TC=W;this.xX()};cW.prototype.h=function(){return this.oL.slice(0)};
cW.prototype.iZ=function(d){var W=this.oL,c=f.Ne(d,this.YW),y=c.x-8,B=-1,r=1e9;for(var S=0;S<4;S++){var x=y-W[S],Z=Math.abs(x);
if(Z<8&&Z<r&&((S&1)==0&&x<0||(S&1)==1&&x>0)){r=x;B=S}}if(B==-1)return;this.Zc=B;this.Qq=window.__kb.S(bm.Oi)||W[(B>>>1)*2]!=W[(B>>>1)*2+1];
f.kk(window,this.Fv);f.OD(window,this.kU)};cW.prototype.S0=function(d){var W=this.oL,c=this.Zc,y=(c>>>1)*2,B=y+1,r=f.Ne(d,this.YW),x=Math.round(Math.max(0,Math.min(255,r.x-8)));
W[c]=x;if(this.Qq&&W[y]>=W[B])this.Qq=!1;if(!this.Qq)W[y]=W[B]=x;this.xX();this.T(new bR(b.E.p,!1))};
cW.prototype.NC=function(d){f.jU(window,this.Fv);f.Ra(window,this.kU)};cW.prototype.xX=function(){var d=this.YW;
f.GS(d,255+16,16);var W=d.getContext("2d"),c=d.width,y=d.height,B=Math.round(255*f.QX()),r=Math.round(8*f.QX());
W.translate(r,0);var x=W.createLinearGradient(0,0,B,0);x.addColorStop(0,"black");x.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.TC]);
W.fillStyle=x;W.fillRect(0,0,B,r);var Z=this.aic,i=ay.get(this.RS)+":";Z[0].textContent=i;for(var S=0;
S<4;S++){var k=this.oL[S];Z[1+S].textContent=k;var H=Math.round(k*f.QX());W.beginPath();W.moveTo(H,r);
W.lineTo(H,r+r);W.lineTo(H+((S&1)==0?-1:1)*r,r+r);W.closePath();W.fillStyle=S<2?"#666666":"#cccccc";
W.fill();W.strokeStyle="black";W.stroke()}};function dv(d,W,c){d9.call(this);if(c==null)c=!1;this.b=[0,0,1];
this.a0Q=W;this.aet=c;this.oa=0;var y="ai"+f.a_();this.n=f.F("span","fitem angleinput");if(d){this.VS=f.F("label","flabel");
this.J9=d;this.n.appendChild(this.VS);this.VS.setAttribute("for",y)}this.k1=c?44:20;this.YW=f.F("canvas","gsicon");
this.bN=this.YW.getContext("2d");f.g0(this.YW);f.GS(this.YW,this.k1*2+1,this.k1*2+1);this.bN.scale(f.QX(),f.QX());
this.n.appendChild(this.YW);f._0(this.YW,this.T8.bind(this));this.W5=this.Sh.bind(this);this.C4=this.dP.bind(this);
var B=this.lm.bind(this),r=f.F("div");r.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!c)this.n.appendChild(r);this.Y_=[];for(var S=0;S<2;S++){var x=f.F("input");this.Y_.push(x);x.setAttribute("type","text");
f.O6(x);if(S==0)x.setAttribute("id",y);x.addEventListener("change",B,!1);var Z=f.F("span");Z.textContent="\xB0";
if(S==0||W){r.appendChild(x);r.appendChild(Z);f.MZ(r)}}this.c(this.b)}dv.prototype=new d9;dv.prototype._=function(){if(this.J9)this.VS.textContent=ay.get(this.J9)+":"};
dv.prototype.N2=function(d){this.VS.textContent=d};dv.prototype.h=function(){return this.b.slice(0)};
dv.prototype.c=function(d,W){var c=this.b;d=d.slice(0);if(d[0]==null)d[0]=c[0];if(d[1]==null)d[1]=c[1];
if(d[2]==null)d[2]=c[2];this.b=d;var y=d[0],B=d[1],r=d[2],x=this.a0Q,Z=this.aet,i=this.k1*.85;if(!x)B=0;
this.Y_[0].value=y;this.Y_[1].value=B;var k=this.bN;k.clearRect(0,0,100,100);y=Math.PI*y/180;B=i*(90-B)/90;
var H=this.k1+.5;k.save();k.translate(H,H);k.rotate(-y);k.strokeStyle="rgba(0,0,0,0.5)";k.beginPath();
k.ellipse(0,0,i,i*r,0,0,2*Math.PI);if(Z){k.moveTo(0,-i*r);k.lineTo(0,i*r);k.moveTo(-B,0)}else k.moveTo(0,0);
k.lineTo(B,0);k.stroke();var V=this.k1*.15;k.fillStyle="black";k.beginPath();if(Z){k.arc(0,-i*r,V*.66,0,2*Math.PI);
k.arc(0,i*r,V*.66,0,2*Math.PI)}if(x){k.arc(B,0,V*.4,0,2*Math.PI)}else{k.moveTo(H-V,-V*.66);k.lineTo(H,0);
k.lineTo(H-V,V*.66)}k.fill();k.restore();if(W)this.lm()};dv.prototype.lm=function(d){var W=parseInt(this.Y_[0].value);
if(isNaN(W))W=0;var c=parseInt(this.Y_[1].value);if(isNaN(c))c=0;W=W%360;c=c%360;this.c([W,c]);this.T(new bR(b.E.p,!1))};
dv.prototype.T8=function(d){f.kk(window,this.W5);f.OD(window,this.C4);var W=f.Ne(d,this.YW),H=0,V=1e9;
W.x-=this.k1;W.y-=this.k1;var c=this.b,y=c[0]*Math.PI/180,B=(90-c[1])/90,r=c[2],x=this.k1*.85,Z=Math.sin(-y),i=Math.cos(-y),k=[new aL(i*x,Z*x)];
if(this.aet)k.push(new aL(-Z*x*r,i*x*r),new aL(Z*x*r,-i*x*r));for(var S=0;S<k.length;S++){var g=aL.Bg(W,k[S]);
if(g<V){V=g;H=S}}this.oa=H;if(H==0)this.Sh(d)};dv.prototype.Sh=function(d){var W=f.Ne(d,this.YW),c=this.oa,y=[],B=W.x-this.k1,r=W.y-this.k1,x=this.k1*.85;
if(c==0){var Z=180*Math.atan2(-r,B)/Math.PI,i=90-90*Math.min(1,Math.sqrt(B*B+r*r)/x);if(d.shiftKey)Z=Math.round(Z/15)*15;
y=[Math.round(Z),Math.round(i)]}else y=[null,null,Math.max(.01,Math.min(1,Math.sqrt(B*B+r*r)/x))];this.c(y);
this.T(new bR(b.E.p,!1))};dv.prototype.dP=function(d){this.T(new bR(b.E.p,!1));f.jU(window,this.W5);
f.Ra(window,this.C4)};function aF(d,W){d9.call(this);this.oL=0;this.Uu=W;this.n=f.F("span","fitem angleinput");
if(d){this.VS=f.F("label","flabel");this.J9=d;this.n.appendChild(this.VS)}this.YW=f.F("canvas","gsicon");
this.bN=this.YW.getContext("2d");f.GS(this.YW,W,W);this.n.appendChild(this.YW);f.g0(this.YW);f._0(this.YW,this.T8.bind(this));
this.W5=this.Sh.bind(this);this.C4=this.dP.bind(this);this.c(0)}aF.prototype=new d9;aF.prototype._=function(){if(this.J9)this.VS.textContent=ay.get(this.J9)+":"};
aF.prototype.N2=function(d){this.VS.textContent=d};aF.prototype.h=function(){return this.oL};aF.prototype.a2e=function(d){var W=this.oL,c=Math.floor(W/3),y=W-c*3;
y=Math.max(0,Math.min(2,y+d.x));c=Math.max(0,Math.min(2,c+d.y));this.c(c*3+y)};aF.prototype.c=function(d){this.oL=d;
var W=this.YW.width,c=Math.floor(d/3),y=d-3*c,B=(y+.5)*W/3,r=(c+.5)*W/3,x=this.bN,Z=[.5,Math.round(W/3)+.5,Math.round(2*W/3)+.5,W-.5];
x.clearRect(0,0,W,W);var i=this.Uu<30;x.setLineDash([]);x.strokeStyle=i?"rgba(0,0,0,0.5)":"#000000";
x.beginPath();for(var S=0;S<4;S++){var k=Z[S];x.moveTo(k,0);x.lineTo(k,W);x.moveTo(0,k);x.lineTo(W,k)}x.stroke();
if(d==9)return;if(!i){x.setLineDash([1,2]);var H=W*.53,V=Math.max(0,Math.min(W-H,B-H/2)),g=Math.max(0,Math.min(W-H,r-H/2));
x.strokeRect(Math.round(V)+.5,Math.round(g)+.5,Math.round(H),Math.round(H))}x.fillStyle="#000000";x.beginPath();
x.arc(B,r,W/8,0,Math.PI*2);x.fill()};aF.prototype.T8=function(d){f.kk(document.body,this.W5);f.OD(document.body,this.C4);
this.Sh(d)};aF.prototype.Sh=function(d){var W=f.Ne(d,this.YW),c=Math.max(0,Math.min(2,Math.floor(W.x/(this.Uu/3)))),y=Math.max(0,Math.min(2,Math.floor(W.y/(this.Uu/3))));
this.c(y*3+c)};aF.prototype.dP=function(d){this.T(new bR(b.E.p,!1));f.jU(document.body,this.W5);f.Ra(document.body,this.C4)};
function c0(bd){d9.call(this);this.n=f.F("span","fitem cswatch");this.a6D=0;this.gl=[];this.HB=[];var d=this.a7S.bind(this);
for(var S=0;S<bd;S++){this.gl.push(0);var W=f.F("span","colorsample");W.addEventListener("click",d,!1);
this.HB.push(W);this.n.appendChild(W)}var c=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],y=Math.min(bd,c.length);
for(var S=0;S<y;S++)this.gl[S]=c[S];this.LR()}c0.prototype=new d9;c0.prototype.a7S=function(d){this.a6D=this.HB.indexOf(d.currentTarget);
this.T(new bR(b.E.p))};c0.prototype.h=function(){return this.gl[this.a6D]};c0.prototype.c=function(d){var W=this.gl,c=W.indexOf(d);
if(c!=-1)W.splice(c,1);else W.pop();W.unshift(d);this.LR()};c0.prototype.LR=function(){for(var S=0;S<this.gl.length;
S++){this.HB[S].setAttribute("style","background-color:#"+v.Wb(this.gl[S]))}};function b2(d){d9.call(this);
this.ai={Z:0,G:0,J:0};this.hm=d;this.n=f.F("span","fitem colorsample");this.n.addEventListener("click",this.A8.bind(this),!1)}b2.prototype=new d9;
b2.prototype._=function(){};b2.prototype.A8=function(d){var W=this.ai;this.T(new bR("click"));var c=new bR(b.E.V,!0);
c.data={d:b.H.vB,vD:"colorpicker",am:Math.round(W.Z)<<16|Math.round(W.G)<<8|Math.round(W.J),mI:this.bc.bind(this),Ww:this.hm};
this.T(c)};b2.prototype.bc=function(d){this.vt(d);this.T(new bR(b.E.p))};b2.prototype.r2=function(){this.A8(null)};
b2.prototype.zE=function(){var d=this.ai;return d.Z<<16|d.G<<8|d.J};b2.prototype.h=function(){return v.L.FV(this.ai)};
b2.prototype.vt=function(d){this.ai={Z:d>>16&255,G:d>>8&255,J:d&255};this.a6S()};b2.prototype.c=function(d){this.ai=v.L.E5(d);
this.a6S()};b2.prototype.a6S=function(){var d=this.ai,W=d.Z,c=d.G,y=d.J,B=W<<16|c<<8|y;this.n.setAttribute("style","background-color:#"+v.Wb(B))};
function hc(){d9.call(this);this.Ta=!1;this.pN=20;this.aCo=10;this._k=0;this.Ta=!1;this.a9={Z:255,G:0,J:0};
this.sT={Z:0,G:0,J:0};this.kO=null;this.q5=null;this.n=f.F("canvas");this.xX();f.g0(this.n);f._0(this.n,this.Ad.bind(this))}hc.prototype=new d9;
hc.prototype.a7b=function(d){if(this.Ta==d)return;this.Ta=d;this.xX()};hc.prototype._=function(){};hc.prototype.a6A=function(d,W){function c(y){return{Z:y>>16&255,G:y>>8&255,J:y&255}}if(d!=null)this.a9=c(d);
if(W!=null)this.sT=c(W);this.xX()};hc.prototype.ahI=function(d,W){this.kO=d;this.q5=W;this.xX()};hc.prototype.Ad=function(d){var W=f.Ne(d,this.n),c=W.x*f.QX(),y=W.y*f.QX(),B=this.pN,r=this.aCo,x=0;
if(c<r&&y<r){x=0}else if(c>B-r&&y>B-r){x=1}else if(c<r){x=2}else{x=3}this.r2(x)};hc.prototype.r2=function(d){var W=this.kO,c=new bR(b.E.V,!0);
if(d>1){if(be==0)c.data={d:b.H.e7,au:kG.kg,jK:d};else{var y={pF:1,ue:JSON.parse(JSON.stringify(W.Jk[1]))},B=JSON.parse(JSON.stringify(W.Mg)),r={pF:1,ue:JSON.parse(JSON.stringify(W.tH[1]))};
if(d==2){y=bV.x2(B);bV.J4(B,W.JW)}else{y.ue.Clr.v=v.L.FV({Z:255,G:255,J:255});r.ue.Clr.v=v.L.FV({Z:0,G:0,J:0});
bV.J4(B,r)}c.data={d:b.H.e7,au:kG.nL,b:y};this.T(c);c.data={d:b.H.e7,au:kG.iE,b:B}}}else{this._k=d;var x=null;
if(be==0)x=d==0?this.a9:this.sT;else{var Z=d==0?W.Jk:W.tH;x=v.L.E5(Z[1].Clr.v)}c.data={d:b.H.vB,vD:"colorpicker",am:x.Z<<16|x.G<<8|x.J,mI:this.bc.bind(this)}}this.T(c)};
hc.prototype.bc=function(d){var W=new bR(b.E.V,!0),c=this._k,y=this.kO;if(be==0)W.data={d:b.H.e7,au:kG.kg,jK:c,b:d};
else{var B={pF:1,ue:JSON.parse(JSON.stringify(y.Jk[1]))};B.ue.Clr.v=v.L.FV(v.S4(d));var r=JSON.parse(JSON.stringify(y.Mg));
bV.J4(r,B);if(c==1)B=r;W.data={d:b.H.e7,au:c==0?kG.nL:kG.iE,b:B}}this.T(W)};hc.prototype.xX=function(){var d=this.n,W=d.getContext("2d"),c=f.QX(),B="#aaaaaa",r=.62;
f.GS(d,34,34);d.setAttribute("style",d.getAttribute("style")+";cursor:pointer");var y=this.pN=d.width,x=this.aCo=Math.round(y*r);
function Z(e,O){var l=e.Z,I=e.G,s=e.J;if(O)l=I=s=Math.round(v.DB(l,I,s));var z=l<<16|I<<8|s;return"#"+v.Wb(z)}function i(W,V,e,O,l,I){W.beginPath();
if(O>=I*2&&l>=I*2){W.moveTo(V+I,e);W.lineTo(V+O-I,e);W.quadraticCurveTo(V+O,e,V+O,e+I);W.lineTo(V+O,e+l-I);
W.quadraticCurveTo(V+O,e+l,V+O-I,e+l);W.lineTo(V+I,e+l);W.quadraticCurveTo(V,e+l,V,e+l-I);W.lineTo(V,e+I);
W.quadraticCurveTo(V,e,V+I,e)}W.closePath()}function k(V,e,x,O,l){W.strokeStyle=l?l:"black";W.fillStyle=O;
i(W,V+.5,e+.5,x-1,x-1,x*.2);W.fill();W.stroke()}var H=this.kO;if(H){W.beginPath();var V=y-x,g=Math.floor(x*.28),N=x-2*g;
bc.a57(W,H.az.n8,this.q5,x,x,V,V);W.lineWidth=1;W.strokeStyle="white";W.clearRect(V+g,V+g,N,N);W.strokeRect(V+g+.5,V+g+.5,N-1,N-1);
W.strokeRect(V+.5,V+.5,x-1,x-1);bc.a57(W,H.az.A_,this.q5,x,x,0,0);W.lineWidth=1;W.strokeStyle="white";
W.strokeRect(.5,.5,x-1,x-1)}else{k(y-x,y-x,x,Z(this.sT,this.Ta));k(0,0,x,Z(this.a9,this.Ta))}var C=y-x,w=Math.round(C*r);
k(y-w,C-w,w,be==0?"white":"black",B);k(y-C,0,w,be==0?"black":"white",B);W.save();W.fillStyle=B;W.translate(0,y);
W.rotate(-Math.PI/2);C=y-x;var Y=Math.round(C*.28),U=Math.round(C*.25);for(var S=0;S<2;S++){W.fillRect(Y,Y,C-Y,1);
W.beginPath();W.moveTo(C-U,Y+.5-U);W.lineTo(C,Y+.5);W.lineTo(C-U,Y+.5+U);W.closePath();W.fill();W.transform(0,1,1,0,0,0)}W.restore()};
function kL(d){kh.call(this,d,!1,"brushbutton nopadding",19*13,10*13,kG.Bo,!0);var W=this.an9;f.CH(W,"flexrow");
var c=f.F("div");W.appendChild(c);var y=f.F("div");W.appendChild(y);y.setAttribute("style","margin-left:8px");
this.Vq=new dv(null,null,!0);this.Vq.k(b.E.p,this.Mw,this);c.appendChild(this.Vq.n);this.tl=new f2([12,14,0],1,1e3," px",0,!0);
this.tl.k(b.E.p,this.Mw,this);y.appendChild(this.tl.n);this.fq=new f2([12,17],0,100,"%");this.fq.k(b.E.p,this.Mw,this);
y.appendChild(this.fq.n);this._c=new gj(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this._c.k(b.E.p,this.Mw,this);y.appendChild(this._c.n)}kL.prototype=new kh;kL.prototype.BU=function(){var d=["pencil","trees"];
for(var S=0;S<d.length;S++)d[S]="brushes/"+d[S]+".abr";return d};kL.prototype.c=function(d,W,c){this.Zx=JSON.parse(JSON.stringify(d));
var y=Math.floor(20*f.QX()),B=Math.floor(36*f.QX()),r=Math.floor(24*f.QX()),x=b8.pL(d,W,c,y,r,B);this.nr.setAttribute("src",x);
f.lE(this.nr,B,r);var Z=d.Brsh.v;this.tl.c(Z.Dmtr.v.val);if(Z.Hrdn!=null){this.fq.uu();this.fq.c(Z.Hrdn.v.val)}else this.fq.TB();
if(Z.Angl!=null)this.Vq.c([Z.Angl.v.val]);if(Z.Rndn!=null)this.Vq.c([null,null,Z.Rndn.v.val/100]);var i=[!1,!1];
if(d.opVr)i[0]=d.opVr.v.bVTy.v==2;if(d.szVr)i[1]=d.szVr.v.bVTy.v==2;this._c.c(i)};kL.prototype.s1=function(){return{list:[{t:"Objc",v:this.h()}],pb:[],An:[]}};
kL.prototype.h=function(){return this.Zx};kL.prototype.Jp=function(){if(!this.lJ)return;var d=[],W=[],c=this.D3,y=Math.floor(33*f.QX()),B=Math.floor(40*f.QX());
for(var S=0;S<c.list.length;S++){var r=c.list[S].v,x=b8.pL(r,c.pb,c.An,y,B);d.push(x);W.push(r.Nm.v)}this.Kc.KO(d,W,y,B);
this.lJ=!1};kL.prototype.e2=function(d){var W=this.D3;this.c(W.list[this.Kc.h()[0]].v,W.pb,W.An);this.T(new bR(b.E.p))};
kL.prototype._=function(){kh.prototype._.call(this);this.Vq._();this.tl._();this.fq._()};kL.prototype.Mw=function(d){var W=this.D3,c=this.Zx,y=c.Brsh.v;
y.Dmtr.v.val=this.tl.h();if(y.Hrdn!=null)y.Hrdn.v.val=this.fq.h();if(y.Angl!=null)y.Angl.v.val=this.Vq.h()[0];
if(y.Rndn!=null)y.Rndn.v.val=Math.round(this.Vq.h()[2]*100);if(d.target==this._c)bB.aml(c,this._c.h());
this.c(c,W.pb,W.An);this.T(new bR(b.E.p))};function i2(d){kh.call(this,d,!0,"contourbutton",17*13,10.5*13,kG.Vo)}i2.prototype=new kh;
i2.prototype.e2=function(d){this.c(this.D3[d.target.h()]);this.T(new bR(b.E.p))};i2.prototype.CO=function(d){var W=new bR(b.E.V,!0);
W.data={d:b.H.vB,vD:"contoureditor",nW:this.Zx,response:this.a9u.bind(this)};this.T(W)};i2.prototype.a9u=function(d){this.c(d);
this.T(new bR(b.E.p))};i2.prototype.Jp=function(){if(!this.lJ)return;var d=Math.floor(38*f.QX()),W=Math.floor(38*f.QX()),c=[],y=[],B=this.D3;
for(var S=0;S<B.length;S++){y.push(B[S].Nm?B[S].Nm.v:"");c.push(v.YF.pL(B[S].Crv.v,d,W))}this.Kc.KO(c,y,d,W);
this.lJ=!1};i2.prototype.c=function(d){this.Zx=JSON.parse(JSON.stringify(d));var W=this.Zx.Crv.v;for(var S=0;
S<W.length;S++)if(W[S].v.Cnty==null)W[S].v.Cnty={t:"bool",v:!0};this.Lo()};i2.prototype.Lo=function(){var d=Math.floor(30*f.QX()),W=Math.floor(30*f.QX()),c=v.YF.pL(this.Zx.Crv.v,d,W);
this.nr.setAttribute("src",c);f.lE(this.nr,d,W)};i2.prototype.h=function(){return JSON.parse(JSON.stringify(this.Zx))};
function bc(d){d9.call(this);this.FW=null;this.kO=null;this.IR=null;this.Xa=null;this.a7t=[];this.aCe=[];
this.n=f.F("span","fitem fillbutton");this.i6=new d9;this.i6.n=f.F("div","floatcont form");this.i6.n.setAttribute("style","width: 21em;");
this.i6.parent=this;this.Q_=d;this.VS=this.VS=f.F("label","flabel");this.n.appendChild(this.VS);this.YW=f.F("canvas");
this.bN=this.YW.getContext("2d");this.a0B=null;this.n.appendChild(this.YW);f._0(this.YW,this.HR.bind(this));
this.MD=new ij([12,66],["","Color","Grad","Patt"]);this.i6.n.appendChild(this.MD.n);this.MD.k(b.E.p,this.Jo,this);
this.i6.n.appendChild(f.F("hr"));this.acS=f.F("span");this.ky=new b2(!1);this.ky.parent=this.i6;this.ky.k(b.E.p,this.Jo,this);
this.SQ=new c0(10);this.SQ.k(b.E.p,this.Jo,this);this.mW=f.F("div","marged hiline");this.mW.appendChild(this.ky.n);
f.MZ(this.mW);this.mW.appendChild(this.SQ.n);this.Gk=new hb("GrFl",!0);this.Gk.parent=this.i6;this.Gk.k(b.E.p,this.Jo,this);
this.MG=f.F("div","marged hiline");var W="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var S=0;
S<W.length;S++){var c=this.Gk.Nq[W[S]].n;this.MG.appendChild(c)}this.BO=new hb("patternFill",!0);this.BO.parent=this.i6;
this.BO.k(b.E.p,this.Jo,this);this.hy=f.F("div","marged hiline");var W=["Ptrn","Angl","Scl","Algn","phase"];
for(var S=0;S<W.length;S++){var c=this.BO.Nq[W[S]].n;this.hy.appendChild(c)}}bc.prototype=new d9;bc.prototype.lz=function(d,W){var c=fc.HC(d,W);
if(c!=null)this.SQ.c(c);if(W==kG.XX){this.a7t=[];this.aCe=[];if(this.FW)this.c(this.IR,this.h(),this.FW)}this.kO=d;
this.Gk.lz(d,W);this.BO.lz(d,W)};bc.prototype._=function(){this.VS.textContent=ay.get(this.Q_)+": ";
this.MD._();this.ky._();this.Gk._();this.BO._()};bc.prototype.Jo=function(d){var W=d.currentTarget;if(W==this.MD){var c=this.MD.h(),y={pF:c,ue:this.FW[c]};
if(c>0&&y.ue==null)y.ue=JSON.parse(JSON.stringify(bV.vn[c-1]));if(this.FW)this.c(this.IR,y,this.FW)}if(W==this.SQ)this.ky.vt(W.h());
this.T(new bR(b.E.p,!1))};bc.prototype.HR=function(d){if(f.ni(this.i6.n))return;d.stopPropagation();
var W=this.YW.getBoundingClientRect(),c=new bR(b.E.V,!0);c.data={d:b.H.oV,dD:this.i6,x:W.left,y:W.top+W.height+4};
this.T(c)};bc.prototype.c=function(d,W,c){this.FW=c;this.IR=d;var y=[[13,1,0],[13,0],[12,37],[12,62]],B=this.a7t,r=this.aCe,x=!1,H;
for(var S=0;S<4;S++){var Z={pF:S,ue:c[S]},i=bc.aqH(Z);if(r[S]==i)continue;x=!0;var k=bc.als(null,Z,this.kO,this.IR,22,22,!1);
B[S]="<img width=\"22\" height=\"22\" src=\""+k+"\" />";r[S]=i}if(x)this.MD.oe(B,y);this.MD.c(W.pF);
var i=bc.aqH(W);if(i!=this.a0B)bc.als(this.bN,W,this.kO,this.IR,30,23,!0);this.a0B=i;var V=W.pF;if(V==0){H=this.acS}if(V==1){this.ky.c(W.ue.Clr.v);
H=this.mW}if(V==2){this.Gk.update(d,W.ue);H=this.MG}if(V==3){this.BO.update(d,W.ue);H=this.hy}if(H!=this.Xa){if(this.Xa!=null){this.i6.n.removeChild(this.Xa)}this.i6.n.appendChild(H);
this.Xa=H}};bc.prototype.h=function(){var d={pF:this.MD.h()};if(d.pF==1){d.ue=JSON.parse(JSON.stringify(bV.vn[0]));
d.ue.Clr.v=this.ky.h()}if(d.pF==2){d.ue=this.Gk.h()}if(d.pF==3){d.ue=this.BO.h()}return d};bc.aqH=function(d){var W=d.pF,c=d.ue,y="empty";
if(W==1){y=v.L.E5(c.Clr.v);y=y.Z+","+y.G+","+y.J}if(W==2)y=JSON.stringify(c.Grad.v);if(W==3)y=c.Ptrn.v.Idnt.v;
return y};bc.als=function(d,W,c,y,B,r,x){if(d==null)d=bc.bN;var Z=Math.floor(B*f.QX()),i=Math.floor(r*f.QX()),k=d.canvas;
k.width=Z;k.height=i;f.lE(k,Z,i);bc.afo(d,W,c,y,Z,i);if(x){d.beginPath();d.strokeStyle="#000000";d.fillStyle="#ffffff";
d.lineWidth=2;var H=Z*.7,V=Math.floor(i*.7),g=7*f.QX();d.moveTo(H,V);d.lineTo(H+g,V);d.lineTo(H+g/2,V+g/2);
d.closePath();d.stroke();d.fill()}if(d==bc.bN)return k.toDataURL()};bc.bN=f.F("canvas").getContext("2d");
bc.afo=function(d,W,c,y,B,r,x,Z){if(x==null)x=0;if(Z==null)Z=0;var i=W.pF;if(i==0){d.fillStyle="#ffffff";
d.fillRect(x,Z,B,r);d.strokeStyle="#ff0000";d.lineWidth=2;d.moveTo(x,Z);d.lineTo(x+B,Z+r);d.moveTo(x,Z+r);
d.lineTo(x+B,Z);d.stroke()}if(i==1){var k=W.ue.Clr.v;k=v.L.E5(k);d.fillStyle="#"+v.Wb(k.Z<<16|k.G<<8|k.J);
d.fillRect(x,Z,B,r)}if(i==2){var H=X.Bw.pL(W.ue.Grad.v,B,r,0,c.R5,c.qX,!0);d.putImageData(H,x,Z)}if(i==3){var V=W.ue.Ptrn.v,g;
if(y!=null)g=eV.Nf(V,y.add.Patt);if(g==null)g=eV.Nf(V,c._m);gk.pL(g,B,r,d.canvas)}};bc.a57=function(d,W,c,y,B,r,x){function Z(N,C){return CSS.Yb({Z:N[0]*255,G:N[1]*255,J:N[2]*255},C)}if(W==null){d.fillStyle="#ffffff";
d.fillRect(r,x,y,B);d.strokeStyle="#ff0000";d.lineWidth=2;d.moveTo(r,x);d.lineTo(r+y,x+B);d.moveTo(r,x+B);
d.lineTo(r+y,x);d.stroke()}else if(W.length==3){d.fillStyle=Z(W);d.fillRect(r,x,y,B)}else if(W.length==4){var i=r+y/2,k=x+B/2,H=W[0]==0?d.createLinearGradient(r,x,r+y,x):d.createRadialGradient(i,k,0,i,k,y/2),V=W[1];
for(var S=0;S<V.length;S++)H.addColorStop(V[S][0],Z(V[S][1],V[S][2]));d.fillStyle=H;d.fillRect(r,x,y,B)}else if(W.length==2){var g=c.Ny[W[0]];
d.save();d.fillStyle="white";d.fillRect(r,x,y,B);d.rect(r,x,y,B);d.scale(y/g.m,B/g.i);d.fillStyle=g.aA3;
d.fill();d.restore()}};function gk(d){kh.call(this,d,!1,"patternbutton",18*13,10*13,kG.XX);this.VZ=null}gk.prototype=new kh;
gk.prototype.e2=function(d){var W=this.D3[this.Kc.h()];this.Zx={classID:"Ptrn",Nm:{t:"TEXT",v:W.name},Idnt:{t:"TEXT",v:W.id}};
this.T(new bR(b.E.p));this.Lo()};gk.prototype.Jp=function(){if(!this.lJ)return;var d=this.D3,W=Math.floor(34*f.QX()),c=Math.floor(34*f.QX()),y=[],B=[];
for(var S=0;S<d.length;S++){y.push(gk.pL(d[S],W,c));B.push(d[S].name)}this.Kc.KO(y,B,W,c);this.lJ=!1};
gk.prototype.c=function(d,W){if(this.Zx&&d.Idnt.v==this.Zx.Idnt.v)return;this.Zx=JSON.parse(JSON.stringify(d));
this.Lo(W)};gk.prototype.h=function(){return JSON.parse(JSON.stringify(this.Zx))};gk.prototype.s1=function(){return this.VZ?[this.VZ]:[]};
gk.prototype.Lo=function(d){var W=Math.floor(50*f.QX()),c=Math.floor(50*f.QX()),y;if(d!=null)y=eV.Nf(this.Zx,d.add.Patt);
if(y==null)y=eV.Nf(this.Zx,this.D3);this.VZ=y;var B=gk.pL(y,W,c);this.nr.setAttribute("src",B);f.lE(this.nr,W,c)};
gk.YW=f.F("canvas","");gk.pL=function(d,W,c,y){if(y==null)y=gk.YW;var B=y.getContext("2d");y.width=W;
y.height=c;if(d){var r=d.Q$[1],x=r.m,Z=r.i,i=d.Q$[0],k=Math.min(W/x,c/Z),H=k;if(H*x<2)H=2/x;var V=k;
if(V*Z<2)V=2/Z;var g=X.X.Wf([i,r],new dT(H,0,0,V,0,0),H>2),N=g.rect.m,C=g.rect.i,w=B.createImageData(N,C);
v.PY(g.buffer,w.data);B.putImageData(w,Math.floor((W-N)/2),Math.floor((c-C)/2))}return y.toDataURL()};
function ev(d,W,c){if(W==null)W=24.2;if(c==null)c=17;kh.call(this,d,!1,"patternbutton",W*13,c*13,kG.T$);
this.FZ=""}ev.prototype=new kh;ev.prototype.e2=function(d){this.Zx=JSON.parse(JSON.stringify(this.D3[0][this.Kc.h()[0]]));
this.T(new bR(b.E.p))};ev.prototype.Jp=function(){var d=this.D3;if(d==null||!this.lJ)return;var W=Math.floor(50*f.QX()),c=Math.floor(50*f.QX()),y=[],B=[];
for(var S=0;S<d[0].length;S++){y.push(ev.pL(this.D3[0][S].r1,W,c,this.D3[1]));B.push(d[0][S].A6.Nm.v.split("=").pop())}this.Kc.KO(y,B,W,c);
this.lJ=!1};ev.prototype.c=function(d,W,c,y){var B=JSON.stringify(d.r1)+","+c+","+y;if(this.FZ!=B){this.FZ=B;
this.Zx=JSON.parse(JSON.stringify(d));this.Lo(W,c,y)}};ev.prototype.h=function(){return JSON.parse(JSON.stringify(this.Zx))};
ev.prototype.Lo=function(d,W,c){var y=Math.floor(68*f.QX()),B=Math.floor(68*f.QX()),r=ev.pL(this.Zx.r1,y,B,d?d:this.D3[1],W,c);
this.nr.setAttribute("src",r);f.lE(this.nr,y,B)};ev.pL=function(d,W,c,y,B,r){var x=new eb;x.m=W;x.i=c;
x.buffer=v.R(W*c*4);x.add.Patt=y;x.Ms(B==null?90:B);x.mj(r==null?30:r);var Z=new a8(0,0,Math.round(W*.5),Math.round(c*.5));
Z.x=Math.round((W-Z.m)/2);Z.y=Math.round((c-Z.i)/2);var i=x.jb();i.rect=Z;i.buffer=v.R(Z.P()*4);v.ft(i.buffer,4284045657);
eV.agJ(d,i,.5*100);x.B.push(i);x.zv();x.W();var k=d1.ZV;d1.ZV=!1;x.pM();var H=x.Li();d1.ZV=k;var V=fd.pc(H.buffer,x.m,x.i);
return V};function cL(d){kh.call(this,null,!1,"tpresetbutton",18*13,24*13,kG.tf,!0);f.V6(this.n,"fitem");
this.Kc.Ac(1);this.id=d;this.Lo();this.d.style.overflow="hidden";this.D2=new ff([15,7,9]);this.D2.c(!0);
this.D2.k(b.E.p,this.a5s,this);this.ga.appendChild(this.D2.n)}cL.prototype=new kh;cL.prototype.anu=function(d){if(this.id==d)return;
this.id=d;this.bz(this.D3)};cL.prototype.e2=function(d){var W=this.D3[this.Kc.h()],c=new bR(b.E.V,!0);
c.data={d:b.H.e7,K3:"set",au:kG.tf,U0:W};this.T(c)};cL.prototype._=function(){kh.prototype._.call(this);
this.D2._()};cL.prototype.a5s=function(){this.lJ=!0;this.Jp()};cL.prototype.Jp=function(){if(!this.lJ)return;
var d=Math.floor(16*f.QX()),W=Math.floor(16*f.QX()),c=[],y=[],B=this.D3,r=this.D2.h();for(var S=0;S<B.length;
S++){var x=X._A[B[S][1].classID];if(!r||x==this.id){y.push(B[S][0]?B[S][0].split("=").pop():"");c.push(x==-1?"":PIMG[X.xv[x]])}else{c.push(null);
y.push(null)}}this.Kc.KO(c,y,d,W);this.lJ=!1};cL.prototype.Lo=function(){var d=this.nr;d.setAttribute("src",PIMG[X.xv[this.id]]);
f.CH(d,"toolicon")};cL.prototype.s1=function(){return null};cL.Ex={};cL.pL=function(d,W,c){var y=cL.bN,B=cL.Ex,r=v.Wb(d.Z<<16|d.G<<8|d.J);
if(B[r])return B[r];if(y==null){var x=f.F("canvas");y=cL.bN=x.getContext("2d")}var x=y.canvas;x.width=W;
x.height=c;y.fillStyle="#"+r;y.fillRect(0,0,W,c);var Z=B[r]=x.toDataURL();return Z};function gO(d,W,c){d9.call(this);
this.n=f.F("span","fitem curveeditor");this.HA=null;this.a29=0;this.TC="";this.mode=0;this.uR=d;this.ax5=W;
this.awt=c;this.D_=null;this.r5=null;this.acy=0;this.aon=0;this.Yw=new aL;this.GI=this.Sh.bind(this);
this.hI=this.dP.bind(this);this.Uu=256;this.YW=f.F("canvas");this.bN=this.YW.getContext("2d");f.g0(this.YW);
this.n.appendChild(this.YW);this.z2(256,256);f._0(this.YW,this.T8.bind(this));this.coords=f.F("div");
this.coords.setAttribute("style","width:250px");this.n.appendChild(this.coords);var y=this.Ki=c?100:255,B=null;
this.fE=new kk("X (in)",0,y,B,0,!1,!0);this.BD=new kk("Y (out)",0,y,B,0,!1,!0);this.YN=new ff([19,3,0]);
this.fE.k(b.E.p,this.rT,this);this.BD.k(b.E.p,this.rT,this);this.YN.k(b.E.p,this.rT,this);this.coords.appendChild(this.fE.n);
if(c)this.coords.appendChild(this.YN.n);this.coords.appendChild(this.BD.n)}gO.prototype=new d9;gO.prototype._=function(){this.YN._();
this.fE._();this.BD._()};gO.prototype.z2=function(d,W){this.Uu=Math.round(d);this.bN.resetTransform();
f.GS(this.YW,this.Uu,this.Uu,this.bN);this.bN.scale(this.Uu/256,this.Uu/256);if(this.D_)this.me()};gO.prototype.rT=function(d){var S=this.aDH(),W=this.D_[S],c=255/this.Ki;
W.v.Hrzn.v=this.fE.h()*c;W.v.Vrtc.v=this.BD.h()*c;if(this.awt)W.v.Cnty.v=this.YN.h();this.D_.sort(function(y,B){return y.v.Hrzn.v-B.v.Hrzn.v});
this.me();this.T(new bR(b.E.p))};gO.prototype.c=function(d,S){var W=JSON.stringify(d);if(W==JSON.stringify(this.D_))return;
this.mode=d.length==256?1:0;this.D_=JSON.parse(W);if(S!=null)this.r5=this.D_[S];this.me()};gO.prototype.Vf=function(d,W,c){this.HA=d;
this.a29=W;this.TC=c;this.me()};gO.prototype.h=function(){return JSON.parse(JSON.stringify(this.D_))};
gO.prototype.aDH=function(){return this.D_.indexOf(this.r5)};gO.prototype.T8=function(d){var W=256/this.Uu,c=f.Ne(d,this.YW);
c.x*=W;c.y*=W;var y=c.x,B=256-c.y;if(this.uR){var r=y;y=256-B;B=r}this.Yw.sq(y,B);if(this.mode==0){var x=0,Z=1e9,g;
for(var S=0;S<this.D_.length;S++){var i=this.D_[S].v,k=i.Hrzn.v-y,H=i.Vrtc.v-B,V=Math.sqrt(k*k+H*H);
if(V<Z){Z=V;x=S}}if(Z<15)g=this.D_[x];else{g=v.YF.la(y,B,!0);this.D_.push(g);this.D_.sort(function(N,C){return N.v.Hrzn.v-C.v.Hrzn.v})}this.r5=g;
this.aon=this.D_.slice(0)}f.kk(document.body,this.GI);f.OD(document.body,this.hI);this.Sh(d)};gO.prototype.Sh=function(d){var W=256/this.Uu,c=f.Ne(d,this.YW);
c.x*=W;c.y*=W;var y=c.x,B=256-c.y;if(this.uR){var r=y;y=256-B;B=r}if(this.mode==0){var x=this.D_,Z=this.r5,i=this.aon,k=i.indexOf(Z),H=x.indexOf(Z)!=-1,V=i.length-1,g=y;
if(k==0){g=Math.max(0,Math.min(i[1].v.Hrzn.v-1,y))}else if(k==V){g=Math.min(255,Math.max(i[V-1].v.Hrzn.v+1,y))}else{var N=y<0||y>255||B<0||B>255;
if(y<=i[k-1].v.Hrzn.v||y>=i[k+1].v.Hrzn.v)N=!0;if(!N&&!H)x.splice(k,0,Z);if(N&&H)x.splice(k,1)}if(this.ax5&&(k==0||k==i.length-1)){}else Z.v.Hrzn.v=Math.round(g);
Z.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(B)))}else{y=Math.round(y);B=Math.round(B);y=Math.max(0,Math.min(255,y));
B=Math.max(0,Math.min(255,B));var C=this.Yw.x,w=y,Y=this.Yw.y,U=B;if(y<this.Yw.x){w=C;C=y;U=Y;Y=B}this.D_[y]=B;
if(C!=w)for(var e=C;e<=w;e++)this.D_[e]=Math.round(Y+(e-C)*(U-Y)/(w-C))}this.Yw.sq(y,B);this.me();this.T(new bR(b.E.p))};
gO.prototype.dP=function(d){f.jU(document.body,this.GI);f.Ra(document.body,this.hI);this.T(new bR(b.E.p))};
gO.prototype.me=function(){var d=this.bN,W=this.YW;d.fillStyle="#ffffff";d.fillRect(0,0,256,256);var c=256/W.width;
if(this.HA){d.save();d.translate(0,256);d.scale(1,-1);bD.avx(d,this.HA,5700/this.a29,this.TC);d.restore()}d.strokeStyle="#aaaaaa";
d.lineWidth=1*c;d.beginPath();for(var S=1;S<4;S++){var y=(Math.floor(64*S/c)+.5)*c;d.moveTo(0,y);d.lineTo(255,y);
d.moveTo(y,0);d.lineTo(y,255)}d.stroke();if(this.uR){d.save();d.transform(0,1,-1,0,256,0)}if(this.mode==0){var B=this.D_,r=v.YF.fc(B,256);
d.strokeStyle="#000000";d.beginPath();d.moveTo(0,255.5-r[0]);for(var S=0;S<256;S++)d.lineTo(S,255.5-r[S]);
d.stroke();d.lineWidth=2*c;for(var S=0;S<B.length;S++){var x=B[S].v;d.fillStyle=this.r5==B[S]?"#333":"#fff";
d.beginPath();d.moveTo(x.Hrzn.v,255.5-x.Vrtc.v);d.arc(x.Hrzn.v,255.5-x.Vrtc.v,5*c,0,2*Math.PI);d.stroke();
d.fill()}}else{var r=this.D_;d.strokeStyle="#000000";d.beginPath();d.moveTo(0,255.5-r[0]);for(var S=0;
S<256;S++)d.lineTo(S,255.5-r[S]);d.stroke()}if(this.uR)d.restore();var S=this.aDH();this.coords.className=S==-1?"disabled":"";
if(S==-1)return;var x=this.D_[S].v,Z=255/this.Ki;this.fE.c(Math.round(x.Hrzn.v/Z));this.BD.c(Math.round(x.Vrtc.v/Z));
if(x.Cnty)this.YN.c(x.Cnty.v)};function bD(d,W){d9.call(this);this.n=f.F("span","");this.ex=new gd([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.ex.k(b.E.p,this.xX,this);this.n.appendChild(this.ex.n);f.MZ(this.n);var c=f.F("div");this.n.appendChild(c);
c.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.YW=f.F("canvas");var y=this.YW;
c.appendChild(y);y.width=Math.round(d*f.QX());y.height=Math.round(100*f.QX());f.lE(y,y.width,y.height);
y.style.display="block";this.bN=y.getContext("2d");this.HA=null;this.vW=0;this.arn=null;this.alB=[];
this.jv=[];var B=["Mean:","Pixels:"],r=this.n;if(W)for(var S=0;S<B.length;S++){var x=new ed(B[S]);this.alB.push(x);
r.appendChild(x.n);var Z=new ed("hi");this.jv.push(Z);r.appendChild(Z.n);f.MZ(r)}}bD.prototype=new d9;
bD.prototype._=function(){this.ex._()};bD.prototype.Ac=function(d){this.ex.c(d);this.xX()};bD.prototype.c=function(d,W){this.HA=d;
this.arn=W;this.xX()};bD.prototype.vt=function(d){if(d==this.vW)return;this.vW=d;this.xX()};bD.prototype.xX=function(){if(this.HA==null)return;
var d=this.YW,W=this.bN,c=this.HA,y=this.arn,B=this.ex.h(),r=6e3/c[4],x="#"+v.Wb(this.vW),Z=bD.avx;d.width=d.width;
W.setTransform(d.width/256,0,0,-d.height/100,0,d.height);W.globalCompositeOperation="lighter";if(B==0)Z(W,c[0],r/3,x);
else if(B<4)Z(W,c[B],r,x);else{Z(W,c[1],r,"#ff0000");Z(W,c[2],r,"#00ff00");Z(W,c[3],r,"#0000ff")}W.setTransform(1,0,0,1,0,0);
if(y!=null){if(B==4)B=0;var i=0;for(var S=0;S<256;S++)i+=S*c[B][S];if(B==0)i/=3;this.jv[0].c((i/y).toFixed(1)+"");
this.jv[1].c(y+"")}};bD.avx=function(d,W,c,y){d.beginPath();d.moveTo(0,0);for(var B=0;B<256;B++)d.lineTo(B,W[B]*c);
d.lineTo(256,0);d.closePath();d.fillStyle=y;d.fill()};function fm(d,W){d9.call(this);this.Py={Z:0,G:0,J:0};
if(Math.abs(d-256/f.QX())<10)d=256/f.QX();var c=this.n=f.F("div","flexrow");c.style.position="relative";
var y=this.aaJ=f.F("div");c.appendChild(y);this._4=new aL;this.jd=new aL;this.W5=this.Mk.bind(this);
this.C4=this.a6O.bind(this);this.YW=f.F("canvas","");this.bN=this.YW.getContext("2d");this.YW.width=this.YW.height=256;
this.an6=this.bN.getImageData(0,0,256,256);this.aDb=-1;this.a36="";this.bQ=null;f.g0(this.YW);f._0(this.YW,this.a40.bind(this));
y.appendChild(this.YW);this.afR=this.amW.bind(this);this.ajo=this.a4M.bind(this);this.Tr=f.F("canvas","");
this.Ht=this.Tr.getContext("2d");this.Tr.width=20;this.Tr.height=256;this.al3=this.Ht.getImageData(0,0,20,256);
fm.a4B(this.al3.data,20,256);f.g0(this.Tr);f._0(this.Tr,this.as5.bind(this));c.appendChild(this.Tr);
this.YW.setAttribute("style","width:"+d+"px; height:"+d+"px");this.Tr.setAttribute("style","width:16px; height:"+d+"px");
this.wX=new ff("Web Colors\u2001");this.wX.k(b.E.p,this.update,this);this.Wi=new ff("CMYK gamut");this.Wi.k(b.E.p,this.update,this);
if(W){f.MZ(y);y.appendChild(this.wX.n);y.appendChild(this.Wi.n)}var B=this.BR=document.createElementNS("http://www.w3.org/2000/svg","svg");
c.appendChild(B)}fm.prototype=new d9;fm.prototype.z2=function(d,W){this.YW.style.width=this.aaJ.style.width=d-16+"px"};
fm.prototype.c=function(d){if(this.wX.h()){var W=JSON.parse(JSON.stringify(d));fm.RR(W);var c=this.h();
if(W.Z==c.Z&&W.G==c.G&&W.J==c.J)d=this.Py}this.Py=d;this.update()};fm.prototype.h=function(){var d=JSON.parse(JSON.stringify(this.Py));
if(this.wX.h())fm.RR(d);return d};fm.prototype.update=function(){var d=this.Py,W=v.CG(d.Z,d.G,d.J),Z=18;
if(W.Za==0)W.Td=this._4.x/255;if(W.Td==0||W.Za==0)W.fn=(255-this.cp(this.jd.y))/255;if(W.Za!=0)this._4.x=W.Td*255;
this._4.y=(1-W.Za)*255;this.jd.y=(1-W.fn)*255;var c=this.an6,y=this.wX.h(),B=this.Wi.h(),r=y+","+B;if(Math.abs(W.fn-this.aDb)>.002||this.a36!=r){this.ajV(c.data,256,256,W.fn,y,B);
this.aoB();this.aDb=W.fn;this.a36=r}var x=this.bN;x.putImageData(c,0,0);c=this.al3;x=this.Ht;x.putImageData(c,0,0);
x.strokeStyle="#ffffff";x.beginPath();x.moveTo(0,this.jd.y);x.lineTo(20,this.jd.y);x.lineWidth=2;x.stroke();
var i=this._4.y/255,k=parseFloat(this.YW.style.width),H=parseFloat(this.YW.style.height),V=this.BR;V.setAttribute("width",Z);
V.setAttribute("height",Z);var g=Math.round(d.Z*255)<<16|Math.round(d.G*255)<<8|Math.round(d.J*255),N="<circle cx=\""+Z/2+"\" cy=\""+Z/2+"\" r=\""+Z/2+"\" fill=\"#"+v.Wb(g)+"\"></circle>";
N+="<circle cx=\""+Z/2+"\" cy=\""+Z/2+"\" r=\""+(-.5+Z/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*i)+")\" stroke-width=\"1\"></circle>";
N+="<circle cx=\""+Z/2+"\" cy=\""+Z/2+"\" r=\""+(-1.2+Z/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
V.innerHTML=N;V.style.pointerEvents="none";V.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
V.style.position="absolute";V.style.left=k*(this._4.x/255)-Z/2+"px";V.style.top=H*(this._4.y/255)-Z/2+"px"};
fm.RR=function(d){d.Z=~~(.5+d.Z*5)*.2;d.G=~~(.5+d.G*5)*.2;d.J=~~(.5+d.J*5)*.2};fm.prototype.ajV=function(d,W,c,y,B,r){var x=1/W,Z=1/c;
for(var i=0;i<c;i++)for(var k=0;k<W;k++){var H=v.JB(y,k*x,(c-i-1)*Z);if(B)fm.RR(H);var S=i*W+k<<2;d[S+0]=~~(H.Z*255);
d[S+1]=~~(H.G*255);d[S+2]=~~(H.J*255);d[S+3]=255}if(r){var V=d.slice(0),g=v.k5("rgbToRgbC"),N=g[2],C=g[3];
ICC.U.applyLUT(C,N,V,V);this.bQ=v.R(W*c);for(var S=0;S<d.length;S+=4){var w=d[S]-V[S],Y=d[S+1]-V[S+1],U=d[S+2]-V[S+2],e=w*w+Y*Y+U*U;
if(e>300){d[S]=d[S+1]=d[S+2]=200;this.bQ[S>>>2]=255}}}};fm.a4B=function(d,W,c,y,B){if(y==null)y=1;if(B==null)B=0;
var r=new Uint32Array(d.buffer);for(var x=0;x<c;x++){var Z=v.JB((1+y*(1-x/c)+B)%1,1,1),i=255<<24|Z.J*255<<16|Z.G*255<<8|Z.Z*255;
for(var k=0;k<W;k++)r[x*W+k]=i}};fm.prototype.a40=function(d){f.kk(window,this.W5);f.OD(window,this.C4);
this.Mk(d);this.BR.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.BR.style.transform="scale(2.4)"};
fm.prototype.a6O=function(d){f.jU(window,this.W5);f.Ra(window,this.C4);this.BR.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.BR.style.transform="scale(1)"};fm.prototype.Mk=function(d){var W=f.Ne(d,this.YW);W.x=W.x*(256/parseFloat(this.YW.style.width));
W.y=W.y*(256/parseFloat(this.YW.style.height));this._4.sq(this.cp(W.x),this.cp(W.y));this.aoB();this.fF()};
fm.prototype.aoB=function(){if(!this.Wi.h())return;var d=this._4,W=0,c=0,y=1e9;for(var B=0;B<256;B++){for(var r=0;
r<256;r++){if(this.bQ[B*256+r]==255)continue;var x=r-d.x,Z=B-d.y,i=x*x+Z*Z;if(i<y){W=r;c=B;y=i}}}d.x=W;
d.y=c};fm.prototype.fF=function(){this.Py=this.aaB();this.T(new bR(b.E.p))};fm.prototype.aaB=function(){var d=v.JB((255-this.cp(this.jd.y))/255,this.EG(this._4.x/255),this.EG(1-this._4.y/255));
return{Z:d.Z,G:d.G,J:d.J}};fm.prototype.as5=function(d){f.kk(window,this.afR);f.OD(window,this.ajo);
this.amW(d)};fm.prototype.a4M=function(d){f.jU(window,this.afR);f.Ra(window,this.ajo)};fm.prototype.amW=function(d){var W=f.Ne(d,this.Tr);
W.y=W.y*(256/parseFloat(this.Tr.style.height));this.jd.sq(this.cp(W.x),this.cp(W.y));this.fF()};fm.prototype.cp=function(d){return Math.max(0,Math.min(255,d))};
fm.prototype.EG=function(d){return Math.max(0,Math.min(1,d))};function jo(d,W,c,y){var B=ij.B6(W,y);
ij.call(this,d,B,c)}jo.prototype=new ij;function h0(){d9.call(this);this.qU=null;this.Hk=new c9;this.Hk.k(b.E.p,this.anr,this);
this.Hk.parent=this;this.y5=new kk([12,14,0],1,150,"px",0,!0);this.y5.k(b.E.p,this.LD,this);this.y5.parent=this;
this.bZ=new kk([16,0],.01,100,"px",2,!0,null,5);this.bZ.k(b.E.p,this.LD,this);this.bZ.parent=this;this.GE=new ff("Auto");
this.GE.k(b.E.p,this.LD,this);this.KE=new kk([16,1],-500,5e3,"%",0,!0);this.KE.k(b.E.p,this.LD,this);
this.KE.parent=this;this.ey=new kk("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.ey.k(b.E.p,this.LD,this);
this.ey.parent=this;this.Je=new kk("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.Je.k(b.E.p,this.LD,this);
this.Je.parent=this;this.$a=new kk([16,2],-10,10,"px");this.$a.k(b.E.p,this.LD,this);this.$a.parent=this;
this.lM=new b2(!0);this.lM.k(b.E.p,this.qD,this);this.lM.parent=this;this.OI=new b2(!0);this.OI.k(b.E.p,this.qD,this);
this.OI.parent=this;this.aC=new b2(!0);this.aC.k(b.E.p,this.qD,this);this.aC.parent=this;this.Po=new b2(!0);
this.Po.k(b.E.p,this.qD,this);this.Po.parent=this;this.ZF=new ff([2,3]);this.ZF.k(b.E.p,this.LD,this);
this.y3=new ff([14,9]);this.y3.k(b.E.p,this.LD,this);this.Bf=new ff([12,46]);this.Bf.k(b.E.p,this.LD,this);
this.xr=new gs("...",null,null,!0);this.xr.n.style.marginLeft="-8px";f._0(this.xr.n,this.ari.bind(this));
this.i6=new d9;var d=this.i6.n=f.F("div","floatcont form"),B=100;this.i6.parent=this;this.y0=new kk([12,41],1,20,"px",0,!0,!0);
this.y0.n.style.marginLeft="16px";this.y0.k(b.E.p,this.LD,this);this.y0.parent=this.i6;d.appendChild(this.OI.n);
d.appendChild(this.ZF.n);f.MZ(this.i6.n);d.appendChild(this.aC.n);d.appendChild(this.y3.n);d.appendChild(this.y0.n);
f.MZ(this.i6.n);d.appendChild(this.Po.n);d.appendChild(this.Bf.n);this.pi=new gs("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Kd=new gs("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.C1=new gs("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.oU=new gs("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.QT=new gs("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.qJ=new gs("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.ov=new gs("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.f7=new gs("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var W=[this.pi,this.Kd,this.C1,this.oU,this.QT,this.qJ,this.ov,this.f7];
for(var S=0;S<W.length;S++)W[S].k("click",this.a24,this);this.y4=new gs("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.x_=new gs("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Um=new gs("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aun=new gs("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.al7=new gs("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.ag2=new gs("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.am3=new gs("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.yK=[this.y4,this.x_,this.Um,this.aun,this.al7,this.ag2,this.am3];for(var S=0;S<this.yK.length;S++)this.yK[S].k("click",this.LD,this);
var c=["lind","rind","flind","bind","aind"],y=[];for(var S=0;S<5;S++)y.push("<img src=\""+PIMG["par/"+c[S]]+"\" class=\"autoscale gsicon\" /> ");
this.f0=new kk(y[0],-B,B,"px");this.JM=new kk(y[1],-B,B,"px");this.PT=new kk(y[2],-B,B,"px");this.DL=new kk(y[3],-B,B,"px");
this.q0=new kk(y[4],-B,B,"px");this.gX=new ij([12,33],["Abc ...","... أي بي"]);this.zV=new kk(["Auto VAR0",[16,0]],0,500,"%");
this.W6=[this.f0,this.JM,this.PT,this.DL,this.q0,this.gX,this.zV];for(var S=0;S<this.W6.length;S++){var r=this.W6[S];
r.k(b.E.p,this.LD,this);r.parent=this}}h0.prototype=new d9;h0.prototype.ari=function(d){if(f.ni(this.i6.n))return;
d.stopPropagation();var W=this.xr.n.getBoundingClientRect(),c=new bR(b.E.V,!0);c.data={d:b.H.oV,dD:this.i6,x:W.left,y:W.top+W.height+4};
this.T(c)};h0.prototype._=function(){this.Hk._();this.y5._();this.bZ._();this.KE._();this.$a._();this.ey._();
this.Je._();this.ZF._();this.y3._();this.Bf._();this.y0._();for(var S=0;S<this.W6.length;S++)this.W6[S]._()};
h0.prototype.c=function(d,W,c){this.WK=JSON.parse(JSON.stringify(d));var y=this.WK,B=y.Cr,r=y.a0;this.pi.c(B.FauxBold!=null?B.FauxBold:!1);
this.Kd.c(B.FauxItalic!=null?B.FauxItalic:!1);this.C1.c(B.FontCaps==2);this.oU.c(B.FontCaps==1);this.qJ.c(B.FontBaseline==1);
this.QT.c(B.FontBaseline==2);this.ov.c(B.Underline);this.f7.c(B.Strikethrough);this.Hk.c(B.Font==null?null:y.Xt[B.Font].Name,W,c);
var x=B.FontSize==null?20:B.FontSize;this.y5.c(x);var Z=B.Tracking;this.KE.c(Z==null?0:Z);this.y0.c(B._LineWidth!=null?B._LineWidth:1);
this.bZ.c(B.Leading!=null&&B.Leading!=0?B.Leading:x);this.GE.c(B.AutoLeading);this.ey.c((B.VerticalScale!=null?B.VerticalScale:0)*100);
this.Je.c((B.HorizontalScale!=null?B.HorizontalScale:0)*100);this.$a.c(B.BaselineShift!=null?B.BaselineShift:0);
this.ZF.c(B.FillFlag!=null?B.FillFlag:!1);this.y3.c(B.StrokeFlag!=null?B.StrokeFlag:!1);this.Bf.c(B._FillBackgroundFlag!=null?B._FillBackgroundFlag:!1);
this.M3(B.FillColor,this.lM);this.M3(B.FillColor,this.OI);this.M3(B.StrokeColor,this.aC);this.M3(B._FillBackgroundColor,this.Po);
var i=r._Direction!=null?r._Direction:0,k=it.UN(r);for(var S=0;S<this.yK.length;S++)this.yK[S].c(k==S);
this.gX.c(i);this.zV.c((r.AutoLeading!=null?r.AutoLeading:1.2)*100);this.f0.c(r.StartIndent!=null?r.StartIndent:0);
this.JM.c(r.EndIndent!=null?r.EndIndent:0);this.PT.c(r.FirstLineIndent!=null?r.FirstLineIndent:0);this.DL.c(r.SpaceBefore!=null?r.SpaceBefore:0);
this.q0.c(r.SpaceAfter!=null?r.SpaceAfter:0)};h0.prototype.M3=function(d,W){if(d){var c=it.E5(d);W.vt(Math.round(c.Z)<<16|Math.round(c.G)<<8|Math.round(c.J))}else W.vt(0)};
h0.prototype.ZG=function(){var d=new bR(b.E.V,!0);d.data={d:b.H.e7,au:kG.xM,WK:this.WK};this.T(d);var d=new bR(b.E.v,!0);
d.f=X.bU;d.data={d:"updateStyles"};this.T(d)};h0.prototype.a24=function(d){var W=this.WK.Cr,c=d.target,y=!c.vm();
if(c==this.pi)W.FauxBold=y;if(c==this.Kd)W.FauxItalic=y;if(c==this.C1)W.FontCaps=y?2:0;if(c==this.oU)W.FontCaps=y?1:0;
if(c==this.qJ)W.FontBaseline=y?1:0;if(c==this.QT)W.FontBaseline=y?2:0;if(c==this.ov)W.Underline=y;if(c==this.f7)W.Strikethrough=y;
this.ZG()};h0.prototype.LD=function(d){var W=this.WK.Cr,c=this.WK.a0,y=d.target;if(y==this.KE){var B=this.KE.h();
W.Tracking=B}if(y==this.bZ){W.AutoLeading=!1;W.Leading=this.bZ.h()}if(y==this.GE){W.AutoLeading=this.GE.h()}if(y==this.y0)W._LineWidth=y.h();
if(y==this.y5)W.FontSize=y.h();if(y==this.ey)W.VerticalScale=y.h()/100;if(y==this.Je)W.HorizontalScale=y.h()/100;
if(y==this.$a)W.BaselineShift=y.h();if(y==this.ZF)W.FillFlag=y.h();if(y==this.y3)W.StrokeFlag=y.h();
if(y==this.Bf)W._FillBackgroundFlag=y.h();if(this.yK.indexOf(y)!=-1){c.Justification=it.UN(c,this.yK.indexOf(y))}if(y==this.f0)c.StartIndent=y.h();
if(y==this.JM)c.EndIndent=y.h();if(y==this.PT)c.FirstLineIndent=y.h();if(y==this.DL)c.SpaceBefore=y.h();
if(y==this.q0)c.SpaceAfter=y.h();if(y==this.gX)c._Direction=y.h();if(y==this.zV)c.AutoLeading=y.h()/100;
this.ZG()};h0.prototype.anr=function(d){var W=this.WK,c=this.Hk.h(),y=-1;for(var S=0;S<W.Xt.length;S++)if(W.Xt[S].Name==c)y=S;
if(y==-1){y=W.Xt.length;var B=JSON.parse(JSON.stringify(W.Xt[0]));B.Name=c;W.Xt.splice(y,0,B)}W.Cr.Font=y;
this.ZG()};h0.prototype.qD=function(d){var W=d.target,c=W.zE(),y={Type:1,Values:[1,(c>>16&255)/255,(c>>8&255)/255,(c>>0&255)/255]};
for(var S=0;S<4;S++)y.Values[S]=Math.round(y.Values[S]*1e3)/1e3;var B=W==this.lM||W==this.OI?0:W==this.aC?1:2;
this.WK.Cr[["FillColor","StrokeColor","_FillBackgroundColor"][B]]=y;this.ZG()};function c9(){d9.call(this);
this.n=f.F("span","fontinput");this.Yi=null;this.dI=null;this.sE=null;this.WO="";this.v$={};this.W4=[];
this.NK={};this.aqf={};this.Bz=[];this.T0=!1;this.b_=f.F("button","fitem");this.b_.setAttribute("style","width:9em;");
this.b_.textContent="Family Name \u25BC";this.n.appendChild(this.b_);f._0(this.b_,this.a78.bind(this));
this.Z0=new d9;this.Z0.parent=this;var d=this.Z0.n=f.F("div","floatcont");d.style.padding="7px 7px 3px 7px";
var W=new ed("Recent");d.appendChild(W.n);var c=this.ar$=new gs([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
c.k("click",this.a3z,this);c.n.style.float="right";d.appendChild(c.n);var y=this.ES=new ff("Local Fonts");
y.k(b.E.p,this.ail,this);y.n.style.float="right";y.n.style.marginRight="10px";y.n.style.marginTop="3px";
d.appendChild(y.n);f.MZ(d);this.E4=f.F("span","fitem imageset scrollable");this.E4.style.maxHeight="8em";
d.appendChild(this.E4);var B=f.F("div","form");this.Z0.n.appendChild(B);this.V0=new gs(f.Vr("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.V0.k("click",this.a4P,this);B.appendChild(this.V0.n);this.D9=new eO([12,86],null,7.5);this.D9.k("input",this.Qh,this);
B.appendChild(this.D9.n);this.Tu=new i3(10,"\u2630");B.appendChild(this.Tu.n);this.Tu.parent=this.Z0;
this.Tu.k(b.E.p,this.hV,this);this.Tu.n.style.float="right";this.Tu.n.style.marginRight="0";this.ry=f.F("span","fitem imageset scrollable");
this.ry.style.height="30em";this.Z0.n.appendChild(this.ry);this.ry.addEventListener("scroll",this.arR.bind(this),!1);
this.em=f.F("button","fitem");this.em.setAttribute("style","width:7em;");this.em.textContent="SubFamily Name \u25BC";
this.n.appendChild(this.em);f._0(this.em,this.a78.bind(this));this.yi=new d9;this.yi.parent=this;this.yi.n=f.F("div","floatcont");
this.O$=f.F("span","fitem imageset scrollable");this.yi.n.appendChild(this.O$);this.avh=this.awS.bind(this);
this.aqz=this.aE0.bind(this)}c9.prototype=new d9;c9.prototype.ail=function(d){eM.Wq.OB(d.target.h(),function(){this.c();
this.hV()}.bind(this),function(){this.ES.c(!1)}.bind(this));this.hV()};c9.prototype.arR=function(d){var W=this.ry.scrollTop,c=this.W4,y=Math.floor(W/27),B=Math.min(y+20,c.length);
for(var S=y;S<B;S++)this.ag5(c[S])};c9.prototype.a3z=function(){var d=new bR(b.E.V,!0);d.data={d:b.H.xz,a5u:".otf,.ttf,.ttc"};
this.T(d)};c9.prototype._=function(){this.Tu._();this.ar$._();this.ES.c(eM.Wq.vm());this.V0.N2(f.Vr("tools/cshape",null,"autoscale"))};
c9.prototype.a4P=function(d){this.V0.c(!this.V0.vm());this.hV()};c9.prototype.Qh=function(d){this.WO=this.D9.h().toLowerCase();
this.hV()};c9.prototype.a78=function(d){f.vT(d);var W=d.currentTarget,c=W.getBoundingClientRect(),y=W==this.b_,B=y?this.Z0:this.yi;
if(f.ni(B.n)){this.abc(B);return}if(!y&&this.Yi.oH()[this.sE]==null)return;var r=new bR(b.E.V,!0);r.data={d:b.H.oV,dD:B,x:c.left,y:c.top+c.height};
this.T(r);if(y){this.hV(null,!0)}};c9.prototype.awS=function(d){var W=d.currentTarget.firstChild.nextSibling.textContent;
if(d.target.tagName.toLowerCase()=="button"){var c=this.dI.slice(0),y=c.indexOf(W);if(y==-1){c=c.slice(Math.max(0,c.length-29));
c.push(W)}else c.splice(y,1);var B=new bR(b.E.V,!0);B.data={d:b.H.e7,au:kG.P7,z4:c};this.T(B);this.T0=!0;
this.hV()}else{this.aBR(W,null)}};c9.prototype.aE0=function(d){this.aBR(null,d.currentTarget.firstChild.textContent)};
c9.prototype.aBR=function(d,W){var c=d==null?this.yi:this.Z0,y=this.Yi;if(d==null)d=y.oH()[this.sE][0];
else{var B=y.oQ(d),r=y.oH()[this.sE];W=eM.Rc(B,r?r[1]:"regular")}var x=y.fP(d,W)[2];this.c(x,y);this.T(new bR(b.E.p,!1));
this.abc(c);this.hV()};c9.prototype.abc=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.QU,dD:d};this.T(W)};
c9.prototype.h=function(){return this.sE};c9.prototype.c=function(d,W,c){var y=this.Yi;if(d!=null)this.sE=d;
else d=this.sE;if(W)this.Yi=W;else W=this.Yi;if(c)this.dI=c;else c=this.dI;if(d!=null){var B=W.oH()[d],r,x;
if(B==null){r="- "+d;x="-------"}else{r=B[0];x=B[1];var Z=this.Bz;for(var S=0;S<Z.length;S++)if(Z[S][0][0]==r)Z.splice(S,1);
Z.push([B,Date.now()]);Z.sort(function(V,g){return g[1]-V[1]});Z=Z.slice(0,10);f.qf(this.E4);for(var S=1;
S<Z.length;S++){var i=Z[S][0],k=this.ja(i,!0);this.nu(k,i,!0);this.E4.appendChild(k)}var H=W.oQ(r);H.sort(eM.a02);
this.O$.textContent="";for(var S=0;S<H.length;S++){var B=W.fP(r,H[S]);if(!this.Tu.EY(B))continue;var k=this.ja(B,!1);
this.O$.appendChild(k)}}this.b_.textContent=r.substring(0,15)+" \u25BC";this.b_.setAttribute("title",r+", \""+d+"\"");
this.em.textContent=x.substring(0,10)+" \u25BC";this.em.setAttribute("title",x)}};c9.prototype.hV=function(d,W){var c=this.Yi.oH()[this.sE],y=this.dI,B=this.Yi.eX();
this.W4=[];var r=this.ES.h();for(var x in B){var Z=y.indexOf(x)!=-1,i=this.Yi.oQ(x),k=!1;for(var S=0;
S<i.length;S++){var H=this.Yi.fP(x,i[S]),V=!0;if(this.WO.length>0&&H[0].toLowerCase().indexOf(this.WO)==-1)V=!1;
else if(!this.Tu.EY(H))V=!1;else if(this.V0.vm()&&!Z)V=!1;else if(H[5]=="--loc"&&!r)V=!1;if(V)k=!0}var g=this.v$[x];
if(g==null){var N=eM.Rc(B[x],"regular"),C=this.Yi.fP(x,N),g=this.ja(C,!0);this.v$[x]=g;this.ry.appendChild(g);
this.NK[x]="[true,false,false]"}if(k)this.W4.push(x);var w=c!=null&&c[0]==x;this.aqf[x]="["+k+","+w+","+Z+"]";
if(!W)this.ag5(x)}if(c&&!this.T0){var Y=this.v$[c[0]];this.ry.scrollTop=Y.offsetTop-210}this.arR();this.T0=!1};
c9.prototype.ag5=function(d){var W=this.v$[d];if(W.firstChild==null){var c=this.Yi.eX(),y=eM.Rc(c[d],"regular"),B=this.Yi.fP(d,y);
this.nu(W,B,!0)}var r=this.NK[d],x=this.aqf[d];if(r==x)return;var Z=JSON.parse(r),i=JSON.parse(x);if(Z[0]!=i[0]||Z[1]!=i[1]){var k=i[0]?"":"display:none; ";
if(i[1])k+="background-color:rgba(0,0,0,0.13);";W.setAttribute("style",k)}if(Z[2]!=i[2])W.firstChild.setAttribute("style","opacity: "+(i[2]?"1":"0.2"));
this.NK[d]=x};c9.prototype.ja=function(d,W){var c=f.F("div","fontitem");if(!W)this.nu(c,d,W);return c};
c9.prototype.nu=function(d,W,c){var y=W[c?0:1],B=c?this.avh:this.aqz,i="";d.addEventListener("click",B,!1);
if(c)d.appendChild(f.F("button","star"));var r=f.F("span","label");r.setAttribute("title",y);r.textContent=y;
d.appendChild(r);var x=f.QX(),Z=1/x,k=eM.KX*Z,H=eM.rg*Z;if(1<x&&x<1.5)i="width:"+k+"px; height:"+H+"px;";
var V=f.F("span","thumb gsicon");if(W.hR){i+="background: url("+W.hR+");";if(1<x&&x<1.5)i+="background-size: "+k+"px "+H+"px;"}else{var g=Math.ceil(FNTS.list.length/eM.cols),N=Math.floor(W.Wr/eM.cols),C=W.Wr-N*eM.cols,w=C*eM.KX,Y=N*eM.rg;
if(1<x&&x<1.5){i+="background-size: "+eM.cols*k+"px "+g*H+"px;";w*=Z;Y*=Z}i+="background-position:-"+w+"px -"+Y+"px;"}V.setAttribute("style",i);
d.appendChild(V)};function i3(d,W){d9.call(this);this.n=f.F("button","fitem bbtn");this.n.addEventListener("click",this.av_.bind(this),!1);
this.i6=new d9;this.i6.n=f.F("div","floatcont");this.i6.parent=this;this.gw=f.F("div","flexrow");this.i6.n.appendChild(this.gw);
this.RS=W;this.eU=[];this.FH=[];var c=this.gw,y=f.F("div",""),B=f.F("div","");c.appendChild(y);c.appendChild(B);
this.L1=[];for(var S=0;S<FNTS.cats.length;S++)this.L1.push({name:FNTS.cats[S],index:S,Nl:0});this.ha=new ff([7,0]);
this.ha.c(!0);this.ha.k(b.E.p,this.a8S,this);y.appendChild(this.ha.n);this.P0=f.F("div","vlist marged scrollable");
this.P0.setAttribute("style","width:10.3em; height:"+d+"em; ");y.appendChild(this.P0);this.bk=[];for(var S=0;
S<this.L1.length;S++){var r=this.L1[S],x=new ff(r.name);this.bk.push(x);x.k(b.E.p,this.alM,this);x.c(!0);
this.P0.appendChild(x.n);this.eU.push(1)}this.amU=new ff([7,0]);this.amU.k(b.E.p,this.aeo,this);this.So=f.F("div","vlist marged scrollable");
this.So.setAttribute("style","width:8.6em; height:"+(d+1.5)+"em; ");B.appendChild(this.So);this.te=[];
for(var S=0;S<FNTS.subsetNames.length;S++){var x=new ff(FNTS.subsetNames[S]);this.te.push(x);x.k(b.E.p,this.aox,this);
x.c(!1);this.So.appendChild(x.n);this.FH.push(x.h()?1:0)}}i3.prototype=new d9;i3.prototype.aCp=function(d){var W=this.te;
for(var S=0;S<W.length;S++){var c=(d>>>S&1)==1;this.FH[S]=c;W[S].c(c)}};i3.prototype.a9C=function(){return this.gw};
i3.prototype._=function(){this.n.textContent=this.RS?this.RS:ay.get([25,1,0])+" \u25BC";this.ha._();
this.amU._()};i3.prototype.av_=function(d){var W=this.n.getBoundingClientRect(),c=new bR(b.E.V,!0);c.data={d:b.H.oV,dD:this.i6,x:W.left,y:W.top+W.height,dW:!1};
this.T(c)};i3.prototype.EY=function(d){if(this.eU[d[4]]==0)return!1;else for(var W=0;W<this.FH.length;
W++)if(this.FH[W]==1&&(d[3]>>>W&1)==0)return!1;return!0};i3.prototype.a8S=function(d){var W=d.target.h(),c=this.bk,y=this.eU;
for(var S=0;S<c.length;S++){c[S].c(W);y[S]=W?1:0}this.T(new bR(b.E.p,!1))};i3.prototype.aeo=function(d){var W=d.target.h(),c=this.te,y=this.FH;
for(var S=0;S<c.length;S++){c[S].c(W);y[S]=W?1:0}this.T(new bR(b.E.p,!1))};i3.prototype.alM=function(d){var S=this.bk.indexOf(d.target),W=this.L1[S].index;
this.eU[W]=1-this.eU[W];this.T(new bR(b.E.p,!1));this.a9I(this.bk,this.ha)};i3.prototype.aox=function(d){var S=this.te.indexOf(d.target);
this.FH[S]=1-this.FH[S];this.T(new bR(b.E.p,!1))};i3.prototype.a9I=function(d,W){var c=!0;for(var S=0;
S<d.length;S++)c=c&&d[S].h();W.c(c)};function gV(d,W,c){kh.call(this,W,!0,"gradientbutton",18*13,10*13,kG.n6);
this.R5=-1;this.qX=-1;this.ak9=null;this.aky=d;this.hm=c}gV.prototype=new kh;gV.prototype.e2=function(d){var W=this.D3;
this.c(W[this.Kc.h()]);this.T(new bR(b.E.p))};gV.prototype.CO=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.vB,vD:"gradienteditor",L:this.Zx,mI:this.apU.bind(this),Ww:this.hm};
this.T(W)};gV.prototype.apU=function(d){this.c(d);this.T(new bR(b.E.p))};gV.prototype.Jp=function(){if(!this.lJ)return;
var d=Math.floor(36*f.QX()),W=Math.floor(36*f.QX()),c=[],y=[],B=this.D3,r=Date.now();for(var S=0;S<B.length;
S++){var x=B[S];y.push(x.Nm?x.Nm.v:"");var Z=X.Bw.pL(x,d,W,Math.PI/4,this.R5,this.qX);c.push(Z)}this.Kc.KO(c,y,d,W);
this.lJ=!1};gV.prototype.Sk=function(d,W){this.al4(this.Zx,d,W)};gV.prototype.c=function(d){this.al4(d,this.R5,this.qX)};
gV.prototype.al4=function(d,W,c){this.R5=W;this.qX=c;if(d==null)return;var y=JSON.stringify(d),B=y+W+","+c;
if(B==this.ak9)return;this.ak9=B;this.Zx=JSON.parse(y);var r=Math.floor(80*f.QX()),x=Math.floor(16*f.QX()),Z=X.Bw.pL(this.Zx,r,x,0,this.R5,this.qX);
this.nr.setAttribute("src",Z);f.lE(this.nr,r,x)};gV.prototype.h=function(){var d;if(this.aky)d=X.Bw.a0$(this.Zx,this.R5,this.qX);
else d=JSON.parse(JSON.stringify(this.Zx));return d};function ad(d){kh.call(this,d,!1,"swatchbutton",16*13,8.75*13,kG.E1)}ad.prototype=new kh;
ad.prototype.e2=function(d){this.c(this.D3[d.target.h()]);this.T(new bR(b.E.p))};ad.prototype.Jp=function(){if(!this.lJ)return;
var d=Date.now(),W=Math.floor(10*f.QX()),c=Math.floor(10*f.QX()),y=[],B=[],r=this.D3;for(var S=0;S<r.length;
S++){B.push(r[S].hY?r[S].hY.split("=").pop():"");y.push(ad.pL(r[S],W,c))}this.Kc.KO(y,B,W,c);this.lJ=!1};
ad.prototype.c=function(d){this.Zx=JSON.parse(JSON.stringify(d));this.Lo()};ad.prototype.Lo=function(){var d=Math.floor(24*f.QX()),W=Math.floor(20*f.QX()),c=ad.pL(this.Zx,d,W);
this.nr.setAttribute("src",c);f.lE(this.nr,d,W)};ad.prototype.h=function(){return JSON.parse(JSON.stringify(this.Zx))};
ad.Ex={};ad.pL=function(d,W,c){var y=255<<24|d.J<<16|d.G<<8|d.Z,B=":"+y,r=ad.Ex;if(r[B])return r[B];
var x=new Uint32Array(W*c);x.fill(y);var Z=UPNG.encode([x.buffer],W,c),i=r[B]="data:image/png;base64,"+fd.Ux(Z);
return i};function kO(d,W,c){d9.call(this);this.n=f.F(c?"div":"span");var y=this.I7=f.F("input");this.I7.setAttribute("type","file");
if(W)y.setAttribute("multiple","");this.I7.addEventListener("change",this.acT.bind(this),!1);this.apg=this.a2D.bind(this);
this.Zu={};this.Sx=0;this.tx=d;var B=this.aej=new gs(ay.get(d)+" (0)",null,null,!0);this.n.appendChild(B.n);
B.addEventListener("click",function(r){y.click()});if(c){this.uM=f.F("div","scrollable");this.uM.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.n.appendChild(this.uM);this.xX()}}kO.prototype=new d9;kO.prototype.c=function(d){this.Zu=d;this.xX()};
kO.prototype.h=function(d){return this.Zu};kO.prototype.acT=function(d){var W=d.target.files;this.Sx=W.length;
this.Zu={};for(var S=0;S<W.length;S++){var c=W[S],y=new FileReader;y.onload=this.apg;y.J9=c.name;y.readAsArrayBuffer(c)}};
kO.prototype.a2D=function(d){var W=this.Zu[d.target.J9]=new Uint8Array(d.target.result);this.Sx--;if(this.Sx==0){this.xX();
this.T(new bR(b.E.p));this.I7.value=null}};kO.prototype.xX=function(){var d=this.Zu;this.aej.N2(ay.get(this.tx)+" ("+Object.keys(d).length+")");
var W=this.uM;if(W==null)return;f.qf(W);var c=[];for(var y in d)c.push(y);c.sort();for(var S=0;S<c.length;
S++){var B=f.F("div");B.textContent=c[S];W.appendChild(B)}};function a2(d,W,c,y,B){if(d==null)d=!1;if(W==null)W=!1;
if(c==null)c=!1;d9.call(this);this.Nd=new aL;this.tp=new aL;this.IN=72;this.vk=72;this.xm=!0;this.yM=!1;
this.n=f.F("span");this.wb=new kk([12,41],0,0,null,0,!1,!0,4);this.n.appendChild(this.wb.n);this.wb.k(b.E.p,this.Jo,this);
var r=["px","%"];if(d)r=r.concat(["cm","mm","in"]);if(B){r=[[12,76,2],[12,76,6]];if(d)r=r.concat([[12,76,4],[12,76,5],[12,76,3]])}this.nw=new gd(null,r);
this.n.appendChild(this.nw.n);f.MZ(this.n);this.nw.k(b.E.p,this.Jo,this);this.wc=new kk([12,42],0,0,null,0,!1,!0,4);
this.n.appendChild(this.wc.n);this.wc.k(b.E.p,this.Jo,this);var x=new gs("\u21F5",!1,null,!0);x.k("click",this.HS,this);
this.mJ=new gs("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.mJ.k("click",this.Jo,this);
this.BF=new ed("");this.BF.n.style.margin="0";this.BF.n.style.padding="0";if(W){this.n.appendChild(this.mJ.n);
this.n.appendChild(this.BF.n);this.mJ.JR()}else this.n.appendChild(x.n);this.Ec=new kk("DPI",0,0,null,3,!1,!0,4);
this.IQ=new gd(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(d&&!y){f.MZ(this.n);this.n.appendChild(this.Ec.n);
this.n.appendChild(this.IQ.n)}this.IQ.k(b.E.p,this.Jo,this);this.Ec.k(b.E.p,this.Jo,this);this.Kt=new ff([12,23,1]);
this.Kt.k(b.E.p,this.Jo,this);if(c){f.MZ(this.n);this.n.appendChild(this.Kt.n)}f.MZ(this.n)}a2.prototype=new d9;
a2.prototype.z2=function(d,W){this.wb.uk.style.width=this.wc.uk.style.width=(d-78-this.mJ.IH())/2+"px"};
a2.prototype.OH=function(){this.wb.OH();this.wc.OH();this.nw.OH();var d=this.n;f.qf(d);this.nw.n.style.marginRight="0";
d.appendChild(this.wb.n);d.appendChild(this.mJ.n);d.appendChild(this.wc.n);d.appendChild(this.nw.n)};
a2.prototype.$h=function(){this.wb.$h()};a2.prototype.anZ=function(d,W){this.xm=d;if(W!=null)this.yM=W;
if(!this.xm&&!this.yM&&this.nw.h()==0){this.nw.c(4);this.dq()}};a2.prototype.ao1=function(d){this.mJ.c(d)};
a2.prototype._=function(){this.wb._();this.wc._();this.Ec._();this.IQ._();this.mJ._();this.Kt._();this.nw._()};
a2.prototype.HS=function(d){var W=this.tp.x;this.tp.x=this.tp.y;this.tp.y=W;this.dq();this.T(new bR(b.E.p,!1))};
a2.prototype.Jo=function(d){if(d.target==this.nw&&!this.xm&&!this.yM&&this.nw.h()==0)this.nw.c(4);if(d.target==this.nw||d.target==this.Kt){this.dq();
return}if(d.target==this.mJ)d.target.c(!d.target.h());if(d.target==this.IQ)window.locStor.setItem("dpiUnit",this.IQ.h());
var W=this.Nd,c=parseFloat(this.wb.h());if(isNaN(c))c=1;var y=parseFloat(this.wc.h());if(isNaN(y))y=1;
var B=this.Ec.h()*[1,2.54][this.IQ.h()],r=this.nw.h();if(this.xm){var x=this.vk;if(r==1){c=this.Nd.x*(c/100);
y=this.Nd.y*(y/100)}var Z=[1,1,2.54/x,25.4/x,1/x][r];c/=Z;y/=Z;if(this.Kt.h()){c+=this.Nd.x;y+=this.Nd.y}if(d.target==this.Ec){var i=B;
if(!this.yM){var k=i/x;c*=k;y*=k}x=i}if(this.mJ.h()){if(d.target==this.wb)y=c*(W.y/W.x);else c=y*(W.x/W.y)}c=Math.max(Math.abs(c),1);
y=Math.max(Math.abs(y),1)}else{var x=this.IN;if(d.target==this.Ec)x=B;else{if(this.mJ.h()){if(d.target==this.wb)y=c*(W.y/W.x);
else c=y*(W.x/W.y)}var Z=[1,1,2.54/x,25.4/x,1/x][r],H=c/(r==1?100:W.x*Z);x=x/H}c=W.x;y=W.y}this.tp=new aL(Math.round(c),Math.round(y));
this.vk=x;this.dq();this.T(new bR(b.E.p,!1))};a2.prototype.ag$=function(S){this.nw.c(S);this.dq()};a2.prototype.c=function(d,W,c){var y=window.locStor.getItem("dpiUnit");
if(y!=null)this.IQ.c(y);if(c!=!0)this.Nd=d.clone();this.tp=d.clone();if(W!=null){this.IN=W;this.vk=W}this.dq()};
a2.prototype.dq=function(){var d=this.tp.x,W=this.tp.y,c=this.vk,y=(d/W).toFixed(3);while(y.charAt(y.length-1)=="0")y=y.substring(0,y.length-1);
if(y.charAt(y.length-1)==".")y=y.substring(0,y.length-1);var B="  "+y+" : 1",r=function(H,V){while(V!=0){var g=V;
V=H%V;H=g}return H},x=r(d,W);if(Math.min(d,W)/x<10)B="  "+Math.round(d/x)+" : "+Math.round(W/x);this.BF.c(B);
if(this.Kt.h()){d-=this.Nd.x;W-=this.Nd.y}var Z=this.nw.h();if(Z==1){if(this.xm){d=100*d/this.Nd.x;W=100*W/this.Nd.y}else{d=W=100*this.IN/this.vk}}else{d=Math.round(d);
W=Math.round(W)}var i=[1,1,2.54/c,25.4/c,1/c][Z];d*=i;W*=i;var k=Z==1||Z==2||Z==4?2:0;this.wb.Ao(k);
this.wc.Ao(k);this.wb.c(d);this.wc.c(W);this.Ec.c(c*[1,1/2.54][this.IQ.h()])};a2.prototype.h=function(){return this.tp.clone()};
a2.prototype.Ha=function(){return this.vk};function hs(d,W,c){d9.call(this);var y=d==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.La=d;this.aCl=W;this.Wu=1;this.PK=[1,1,0];var B=this.n=f.F("div","numlist"),r=this._5=[];for(var S=0;
S<4;S++){var x=new kk(y[S],0,0,null,2,!1,!0,4,null,c&&(S==0||S==2));x.k(b.E.p,this.Jo,this);B.appendChild(x.n);
r[S]=x;if(S==1||S==3)f.MZ(B)}r[4]=new ff(d==0?[12,51]:[12,91,2]);r[4].c(!0);B.appendChild(r[4].n)}hs.prototype=new d9;
hs.prototype._=function(){var d=this._5;for(var S=0;S<5;S++)d[S]._();if(this.La==0)f.YV(d[0],d[2])};
hs.prototype.c=function(d,W,c){if(W)this.PK=W;W=this.PK;var y=c?d:this.La==0?[d[2],d[0],d[3],d[1]]:[d[0],d[1],d[3],d[2]];
this.Wu=y[0]/y[2];for(var S=0;S<4;S++){var B=this._5[S];B.Ao(W[2]==0&&this.aCl?0:2);B.c(v.T6.auO(y[S],W[0],W[1],W[2]))}};
hs.prototype.h=function(d){var W=[],c=this.PK;for(var S=0;S<4;S++){var y=v.T6.Ho(this._5[S].h(),c[0],c[1],c[2]);
W[S]=this.aCl?Math.round(y):y}return d?W:this.La==0?[W[1],W[3],W[0],W[2]]:[W[0],W[1],W[3],W[2]]};hs.prototype.Jo=function(d){var W=this.La,c=this._5.indexOf(d.currentTarget),y=this.h(!0),B=this._5[4].h();
if(W==0){y[0]=Math.max(1,y[0]);y[2]=Math.max(1,y[2]);if(B&&c==0)y[2]=y[0]/this.Wu;if(B&&c==2)y[0]=y[2]*this.Wu}if(W==1){y[c]=Math.max(0,y[c]);
if(B)for(var S=0;S<4;S++)y[S]=y[c]}this.c(y,null,!0);this.T(new bR(b.E.p,!1))};function cw(){d9.call(this);
this.jz=0;this.jv=[0,0,1,1,100,100];this.vN=[10,5,1,1,4,3,3,2,16,9];this.n=f.F("span","fitem");this.YU=new gd(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.n.appendChild(this.YU.n);this.YU.k(b.E.p,this.Jo,this);this.wb=new kk("W",0,0,null,0,!1,!0);this.n.appendChild(this.wb.n);
this.wb.k(b.E.p,this.Jo,this);var d=this.gu=new gs("\u21C4",!1,null,!0);d.k("click",this.HS,this);this.n.appendChild(d.n);
this.wc=new kk("H",0,0,null,0,!1,!0);this.n.appendChild(this.wc.n);this.wc.k(b.E.p,this.Jo,this);this.c({VQ:0,x:0,y:0})}cw.prototype=new d9;
cw.prototype.alf=function(d,W){this.vN[0]=d;this.vN[1]=W};cw.prototype._=function(){f.YV(this.wb,this.wc);
this.YU._()};cw.prototype.HS=function(d){var W=this.wc.h();this.wc.c(this.wb.h());this.wb.c(W);this.Jo(d)};
cw.prototype.Jo=function(d){if(d.target==this.YU){var S=this.YU.h(),W=this.jv;if(S>2){S-=3;var c=this.vN[2*S],y=this.vN[2*S+1];
W[2]=c;W[3]=y;this.wb.c(c);this.wc.c(y);this.YU.c(1)}var B=this.h();W[this.jz*2]=B.x;W[this.jz*2+1]=B.y;
this.jz=B.VQ;this.c({VQ:B.VQ,x:W[B.VQ*2],y:W[B.VQ*2+1]})}if(this.wb.h()<1)this.wb.c(1);if(this.wc.h()<1)this.wc.c(1);
this.T(new bR(b.E.p,!1))};cw.prototype.c=function(d){this.YU.c(d.VQ);this.wb.c(d.x);this.wc.c(d.y);if(d.VQ==0){this.wb.TB();
this.wc.TB();this.gu.TB()}else{this.wb.uu();this.wc.uu();this.gu.uu()}};cw.prototype.h=function(){return{VQ:this.YU.h(),x:this.wb.h(),y:this.wc.h()}};
function aR(d){d9.call(this);this.n=f.F("span","");this.a39=d;var W=d?100:300;this.Ap=new fs("Off X",-W,W,d?"%":"px",0,!d);
this.w9=new fs("Off Y",-W,W,d?"%":"px",0,!d);this.Ap.k(b.E.p,this.Jo,this);this.w9.k(b.E.p,this.Jo,this);
this.n.appendChild(this.Ap.n);this.n.appendChild(this.w9.n)}aR.prototype=new d9;aR.prototype._=function(){this.Ap._();
this.w9._()};aR.prototype.Jo=function(d){this.T(new bR(b.E.p,!1))};aR.prototype.aki=function(d){this.Ap.c(d.x);
this.w9.c(d.y)};aR.prototype.a1G=function(){return new aL(this.Ap.h(),this.w9.h())};aR.prototype.c=function(d,W){var c=d.Hrzn.v,y=d.Vrtc.v;
if(this.a39){c=c.val;y=y.val}this.Ap.c(c);this.w9.c(y);if(W==!0)this.Jo()};aR.prototype.h=function(){var d=this.Ap.h(),W=this.w9.h();
if(this.a39)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:d}},Vrtc:{t:"UntF",v:{type:"#Prc",val:W}}};
else return{classID:"Pnt",Hrzn:{v:d,t:"doub"},Vrtc:{v:W,t:"doub"}}};function cY(){d9.call(this);this.n=f.F("span","fitem strokebutton");
this.Ow=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.C8=bV._M.qw();this.TL=f.F("button");
this.n.appendChild(this.TL);f._0(this.n,this.HR.bind(this));var d=f.F("canvas","gsicon");this.bN=d.getContext("2d");
this.TL.appendChild(d);var W=f.F("span");W.textContent=" \u25BC";this.TL.appendChild(W);this.i6=new d9;
this.i6.parent=this;this.i6.n=f.F("div","floatcont form");var c=this.i6.n;c.setAttribute("style","width: 16.7em;");
this.v$=[new gd([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new ij([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new ij([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new kk("Limit",0,50,null,null,null,!0,2.5),new eO([19,9,2])];
for(var S=0;S<this.v$.length;S++){var y=this.v$[S];c.appendChild(y.n);y.k(b.E.p,this.Jo,this)}f.MZ(c);
this.HB=[];var B=this.fm.bind(this);this.C8.strokeStyleLineWidth.v.val=3;for(var S=0;S<this.Ow.length;
S++){var r=f.F("button","fitem");this.HB.push(r);c.appendChild(r);r.addEventListener("click",B,!1);var d=f.F("canvas","gsicon"),x=d.getContext("2d");
r.appendChild(d);this.asL(x,40,20,this.Ow[S])}this.C8.strokeStyleLineWidth.v.val=1}cY.prototype=new d9;
cY.prototype.HR=function(d){if(f.ni(this.i6.n))return;d.stopPropagation();var W=this.TL.getBoundingClientRect(),c=new bR(b.E.V,!0);
c.data={d:b.H.oV,dD:this.i6,x:W.left,y:W.top+W.height+4};this.T(c)};cY.prototype.Jo=function(d){var W=this.v$,c=[];
for(var S=0;S<5;S++)c.push(W[S].h());this.C8=this.apF(c);this.T(new bR(b.E.p,!1))};cY.prototype.fm=function(d){var W=this.HB.indexOf(d.currentTarget);
this.c(this.apF(this.Ow[W]));this.T(new bR(b.E.p,!1))};cY.prototype.apF=function(d){var W=JSON.parse(JSON.stringify(this.C8)),c=d[0],y=d[1],B=d[2],r=d[3],x=d[4];
if(c!=null)W.strokeStyleLineAlignment.v.strokeStyleLineAlignment=bV._M.IC[c];if(y!=null)W.strokeStyleLineCapType.v.strokeStyleLineCapType=bV._M.Lw[y];
if(B!=null)W.strokeStyleLineJoinType.v.strokeStyleLineJoinType=bV._M.join[B];W.strokeStyleMiterLimit.v=r;
var Z=W.strokeStyleLineDashSet.v=[];x=x.split(" ");while((x.length&1)!=0)x.pop();for(var S=0;S<x.length;
S++)Z.push({t:"UntF",v:{type:"#Nne",val:parseInt(x[S])}});return W};cY.prototype._=function(){for(var S=0;
S<this.v$.length;S++)this.v$[S]._()};cY.prototype.c=function(d){this.C8=JSON.parse(JSON.stringify(d));
var W=bV._M.IC.indexOf(d.strokeStyleLineAlignment.v.strokeStyleLineAlignment),c=bV._M.Lw.indexOf(d.strokeStyleLineCapType.v.strokeStyleLineCapType),y=bV._M.join.indexOf(d.strokeStyleLineJoinType.v.strokeStyleLineJoinType),B=d.strokeStyleMiterLimit.v,r=[],x=d.strokeStyleLineDashSet.v;
for(var Z=0;Z<x.length;Z++)r.push(x[Z].v.val);var i=this.v$;i[0].c(W);i[1].c(c);i[2].c(y);i[3].c(B);
i[3].OB(y==0);i[4].c(r.join(" "));var k=[];for(var S=0;S<5;S++)k.push(i[S].h());this.asL(this.bN,40,16,k)};
cY.prototype.h=function(){return JSON.parse(JSON.stringify(this.C8))};cY.prototype.asL=function(d,W,c,y){var B=y[0],r=y[1],x=y[2],Z=y[3],i=y[4].split(" ").map(parseFloat);
f.GS(d.canvas,W,c);var k=Math.min(5,this.C8.strokeStyleLineWidth.v.val);for(var S=0;S<i.length;S++)i[S]*=k;
d.clearRect(0,0,W,c);d.setLineDash(i);d.lineCap=["butt","round","square"][r];d.lineJoin=["miter","round","bevel"][x];
d.lineWidth=k;d.beginPath();d.moveTo(0,c/2);d.lineTo(W*2,c/2);d.stroke()};function eg(d){kh.call(this,d,!1,"contourbutton",34*13,16*13,kG.jY,!0);
this.D9=new eO([12,86],null,16);this.D9.k("input",this.Qh,this);this.i6.n.appendChild(this.D9.n);this.HK=null;
this.WO="";this.T2=null;this.c(kt.qw())}eg.prototype=new kh;eg.prototype._=function(){kh.prototype._.call(this);
this.D9._()};eg.prototype.e2=function(d){this.c(this.HK[d.target.h()[0]]);this.T(new bR(b.E.p))};eg.prototype.Qh=function(d){this.WO=this.D9.h().toLowerCase();
this.alz()};eg.aAb=!1;eg.prototype.Jp=function(){if(!this.lJ)return;var d=this.D3;if(d==null||!eg.aAb){var W=new bR(b.E.V,!0);
W.data={d:b.H.Gf,au:{url:"rsrc/basic/Default.csh"}};this.T(W);eg.aAb=!0}else{var c=Math.floor(38*f.QX()),y=Math.floor(38*f.QX());
this.T2=[];for(var S=0;S<d.length;S++)this.T2.push(eg.aav(d[S],c,y));this.alz();this.lJ=!1}};eg.prototype.alz=function(){var d=Math.floor(38*f.QX()),W=Math.floor(38*f.QX());
this.HK=[];var c=[],y=[],B=this.D3;for(var S=0;S<B.length;S++){if(B[S].XG.toLowerCase().indexOf(this.WO)==-1)continue;
this.HK.push(B[S]);c.push(this.T2[S]);y.push(B[S].XG)}this.Kc.KO(c,y,d,W)};eg.prototype.c=function(d){this.Zx=eg.clone(d);
this.Lo()};eg.prototype.Lo=function(){var d=Math.floor(23*f.QX()),W=Math.floor(23*f.QX()),c=eg.aav(this.Zx,d,W);
this.nr.setAttribute("src",c);f.lE(this.nr,d,W)};eg.prototype.h=function(){return eg.clone(this.Zx)};
eg.clone=function(d){return{XG:d.XG,A6:d.A6,Y:e8.vw.Rl(d.Y),ur:d.ur.clone()}};eg.YW=null;eg.kD=null;
eg.aav=function(d,W,c){var y=e8.vw.Rl(d.Y),B=d.ur,r=Math.min(W/B.m,c/B.i)*.9,x=new dT;x.translate(-.5,-.5);
x.scale(.95,.95);x.translate(.5,.5);x.scale(r*B.m,r*B.i);v.o.hn(y,x);var Z=new e8.vw;Z.Y=y;var i=Z.Q7();
i.rect.x=Math.floor((W-i.rect.m)/2);i.rect.y=Math.floor((c-i.rect.i)/2);var k=v.R(i.rect.P()*4);v.nP(i.channel,k,3);
var H=eg;if(H.YW==null)H.YW=f.F("canvas");var V=H.YW,g=V.getContext("2d");if(V.width!=W||V.height!=c||H.kD==null){V.width=W;
V.height=c;H.kD=g.createImageData(W,c)}var N=H.kD;N.data.fill(0);v.qR(k,i.rect,N.data,new a8(0,0,W,c));
g.putImageData(N,0,0);return V.toDataURL()};function al(d){kh.call(this,d,!1,"ICCButton",16*13,12*13,kG.w4,!0);
this.Kc.Ac(1)}al.prototype=new kh;al.prototype.BU=function(){var d="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var S=0;S<d.length;S++)d[S]="luts/"+d[S]+".CUBE";return d};al.prototype.e2=function(d){this.c(this.D3[d.target.h()]);
this.T(new bR(b.E.p))};al.prototype.Jp=function(){if(!this.lJ)return;var d=Math.floor(1*f.QX()),W=Math.floor(1*f.QX()),c=[],y=[],B=this.D3;
for(var S=0;S<B.length;S++){var r=B[S].Nm.v.split("\\").pop().split("/").pop();y.push(r);c.push(al.pL(B[S],d,W))}this.Kc.KO(c,y,d,W);
this.lJ=!1};al.prototype.c=function(d){this.Zx=JSON.parse(JSON.stringify(d));this.Lo()};al.pL=function(d,W,c){var y=f.F("canvas"),x="ICC / 3DL / look / cube";
y.width=W;y.height=c;var B=y.getContext("2d"),r=Math.floor(14*f.QX());B.font=r+"px sans-serif";if(d.Nm)x=d.Nm.v.split("\\").pop().split("/").pop();
B.fillText(x,10,r);return y.toDataURL()};al.prototype.Lo=function(){var d=Math.floor(120*f.QX()),W=Math.floor(20*f.QX());
this.nr.setAttribute("src",al.pL(this.Zx,d,W));f.lE(this.nr,d,W)};al.prototype.h=function(){return JSON.parse(JSON.stringify(this.Zx))};
function h_(){d9.call(this);this.Py=null;this.n=f.F("span","fitem");this.Ju=new bc([14,9]);this.$c=new kk(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.Zn=new cY;this.dj=[this.Ju,this.$c,this.Zn];for(var S=0;S<this.dj.length;S++){var d=this.dj[S];
this.n.appendChild(d.n);d.parent=this;d.k(b.E.p,this.Jo,this)}}h_.prototype=new d9;h_.prototype._=function(){for(var S=0;
S<this.dj.length;S++)this.dj[S]._()};h_.prototype.lz=function(d,W){this.Ju.lz(d,W)};h_.prototype.Jo=function(d){var W=this.Py,c=this.Ju.h();
bV.J4(W,c);W.strokeStyleLineWidth.v.val=this.$c.h();if(d.target==this.Zn)W=this.Zn.h();this.Py=W;this.T(new bR(b.E.p,!1))};
h_.prototype.c=function(d,W,c){this.Py=JSON.parse(JSON.stringify(W));var y=bV.x2(W);this.Ju.c(d,y,c);
this.$c.c(W.strokeStyleLineWidth.v.val);this.Zn.c(W)};h_.prototype.h=function(){return JSON.parse(JSON.stringify(this.Py))};
function jF(d){var W=[[18,0],[18,1],[18,2],[18,3]],c=ij.B6(["set/front","set/union","set/difference","set/intersection"]);
ij.call(this,d?[12,36]:null,c,W)}jF.prototype=new ij;function gf(){d9.call(this);this.n=f.F("button","fitem bbtn");
f._0(this.n,this.HR.bind(this));this.i6=new d9;this.i6.n=f.F("div","floatcont form");this.i6.n.setAttribute("style","max-width: 200px;");
this.i6.parent=this;var d=f2;this.Hl=[new ff("Start"),new ff("End"),new d([12,41],0,100,"px",null,!0,null,!0),new d([12,80,0],0,100,"px",null,!0,null,!0),new d("Concavity",-50,50,"%",null,null,null,!0)];
for(var S=0;S<this.Hl.length;S++){var W=this.Hl[S];W.parent=this;W.k(b.E.p,this.fF,this);this.i6.n.appendChild(W.n)}this.arE=f.F("div");
this.i6.n.appendChild(this.arE)}gf.prototype=new d9;gf.prototype.c=function(d){for(var S=0;S<5;S++)this.Hl[S].c(d[S]);
this.xX()};gf.prototype.h=function(d){var W=[];for(var S=0;S<5;S++)W[S]=this.Hl[S].h();return W};gf.prototype._=function(){this.n.textContent=ay.get([12,93,4]);
for(var S=0;S<this.Hl.length;S++)this.Hl[S]._()};gf.prototype.fF=function(d){this.T(new bR(b.E.p,!1));
this.xX()};gf.prototype.xX=function(d){var W=this.h(),c=200,y=60;W[2]/=f.QX();W[3]/=f.QX();var B=v.o.GP.X_(0,y/2,c,y/2,5,W),r=v.o.Gp(B);
this.arE.innerHTML="<svg width=\""+c+"\" height=\""+y+"\" class=\"gsicon\">\t\t\t<path d=\""+r.gr+"\" />\t\t\t</svg>"};
gf.prototype.HR=function(d){if(f.ni(this.i6.n))return;d.stopPropagation();var W=this.n.getBoundingClientRect(),c=new bR(b.E.V,!0);
c.data={d:b.H.oV,dD:this.i6,x:W.left,y:W.top+W.height,dW:!0};this.T(c)};function iz(){d9.call(this);
this.n=f.F("div");this._5=[];this.ao9=[];var d=this.Qs=f.F("div"),W=f.F("h2");W.textContent="Create Teams";
d.appendChild(W);W.style.margin="26px 0 16px 0";var c=new gs("More about Teams",!1,null,!0);W.appendChild(c.n);
c.n.style.float="right";c.k("click",this.az2,this);this.qi=f.F("div");d.appendChild(this.qi);this.aw1=new eO("Team Name",null,10);
d.appendChild(this.aw1.n);var y=this.aDV=new gs("Create Team",null,null,!0);d.appendChild(y.n);y.k("click",this.a3n,this);
var W=f.F("h2");W.textContent="Join Teams";d.appendChild(W);W.style.margin="26px 0 16px 0";this.bi=f.F("div");
d.appendChild(this.bi);this.a3o=new eO("Team ID",null,10);d.appendChild(this.a3o.n);var y=new gs("Join Team",null,null,!0);
d.appendChild(y.n);y.k("click",this.a3n,this);this.afd;this.axW=this.M7.bind(this);this.a63=this.aza.bind(this);
this.PN=!1;this.oB();this.av=null;this.abv=""}iz.prototype=new d9;iz.prototype.az2=function(d){var W=new bR(b.E.V,!0);
W.data={d:b.H.ea,link:"https://www.photopea.com/api/accounts#teams"};this.T(W)};iz.prototype.oB=function(){clearTimeout(this.a95);
this.a95=setTimeout(this.a63,this.av?10:3e3)};iz.prototype.aza=function(){var d=jj.SA();if(document.hidden||!f.ni(this.n)||d==null){this.oB();
return}var W=jj.n2();if(this.av==null&&W==null)return;jj.XR(this.av?this.av:W,this.axW);this.PN=!0;this.av=null};
iz.prototype.amT=function(d){d.acc.update=!0;this.n.style.pointerEvents="none";this.n.style.opacity="0.5";
if(this.PN)this.av=d;else{clearTimeout(this.a95);jj.XR(d,this.axW)}};iz.prototype.fT=function(d){var W=typeof d=="string"?this.afd:this._5.indexOf(d.target),c=this.ao9[W],y=c[0],B=jj.n2();
if(B==null)B={};var r=B.acc,x=r.tjoin,Z=r.tstart;if(y=="leave"){x.splice(x.indexOf(c[1]),1)}if(y=="add"||y=="remove"||y=="delTeam"||y=="showRename"||y=="rename"){var i=-1,H=0;
for(var S=0;S<Z.length;S++){H+=Z[S][1].length;if(Z[S][2]==c[1])i=S}var V=Z[i];if(y=="add"){var g=jj.Xf();
if(g&&g[0]==0&&g[1][2]<=H){alert("You can have at most "+g[1][2]+" members in your Premium.");return}V[1].push(c[2])}if(y=="remove")V[1].splice(V[1].indexOf(c[2]),1);
if(y=="delTeam"){if(V[1].length!=0){alert("Remove members first.");return}Z.splice(i,1)}if(y=="showRename"){var N=new bR(b.E.V,!0);
N.data={d:b.H.vB,vD:"namewindow",qp:V[0],Ws:this.fT.bind(this)};this.T(N);this.afd=W;c[0]="rename";return}if(y=="rename")V[0]=d}this.amT(B)};
iz.prototype.a3n=function(d){var W=this.aDV==d.target,c=(W?this.aw1:this.a3o).h().trim();if(c==""){alert("The Team "+(W?"Name":"ID")+" is empty.");
return}if(!W){c=parseInt(c);if(isNaN(c)){alert("The ID must be a number");return}}var y=jj.n2();if(y==null)y={};
var B=y.acc;if(B==null)B=y.acc={};var r=B.tstart,x=B.tjoin;if(W){if(r==null)r=B.tstart=[];if(r.length>5){alert("You can have at most 5 teams");
return}r.push([c,[]])}else{if(r)for(var S=0;S<r.length;S++)if(r[S][2]==c){alert("You are the owner of this team");
return}if(x==null)x=B.tjoin=[];if(x.indexOf(c)!=-1){alert("You already asked to join this team.");return}B.tjoin.push(c)}B.update=!0;
this.amT(y)};iz.prototype.M7=function(){this.PN=!1;var d=jj.SA(),W=d!=null,c=this.Qs.parentNode!=null;
if(W!=c){f.qf(this.n);if(W)this.n.appendChild(this.Qs);else this.n.textContent="Log In to access Team Settings."}if(!W)return;
var y=jj.n2();if(y==null)y={};var B=y.acc;if(B==null)B={};var r=JSON.stringify(B)+"===="+JSON.stringify(d);
if(r!=this.abv){this.abv=r;var x=this.qi,Z=this.bi;f.qf(x);f.qf(Z);var i=this._5=[],k=this.ao9=[],H=this.fT.bind(this);
function V(m,D){m.addEventListener("click",H);i.push(m);k.push(D)}function g(l,m){var z=f.F("div"),D="rgba(255,255,255,0.15)";
z.appendChild(C("ID: "+l[2],54,D));z.appendChild(C(l[0],160,null,!0));if(m){z.appendChild(C(l[1].length+" members",80,null,!0))}else{z.appendChild(C(l[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<l[1]*1e3)z.appendChild(C("Premium",80,"rgba(0,140,0,1)"))}var _=C("",120);z.appendChild(_);
_.setAttribute("style","float:right;text-align:right");if(m){var n=new gs("Rename",null,null,!0);V(n,["showRename",l[2]]);
_.appendChild(n.n)}var n=new gs(m?"Delete":"Leave",null,null,!0);V(n,[m?"delTeam":"leave",l[2]]);_.appendChild(n.n);
return z}function N(m,D,h){var z=f.F("div");z.style.paddingLeft="46px";z.appendChild(C(D?"\u2713":"...",8,D?"#229922":"#aa7700"));
z.appendChild(C(m[1],200));z.appendChild(C(m[2],240));var _=C("",120);z.appendChild(_);_.setAttribute("style","float:right;text-align:right");
var n=new gs(D?"Remove":"Add",null,null,!0);V(n,[D?"remove":"add",h,m[0]]);_.appendChild(n.n);return z}function C(m,D,_,n){var j=f.F("span");
j.textContent=m;j.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+D+"px;  "+(_!=null?"background-color:"+_+";":"")+(n?"font-weight:bold;":""));
return j}var w=B.tstart,Y=B.tjoin,U=d.wantToJoin,e=d.inTeams;if(w)for(var O=0;O<w.length;O++){var l=w[O],I=U["t"+l[2]];
if(I==null)I=[];var s={};for(var S=0;S<I.length;S++)s["u"+I[S][0]]=I[S];var z=g(l,!0);x.appendChild(z);
z.style.marginTop="10px";for(var S=0;S<l[1].length;S++){var R=l[1][S],t=s["u"+R];if(t==null)t=[R,"========","... user has left your team"];
delete s["u"+R];var a=N(t,!0,l[2]);x.appendChild(a)}for(var J in s){var t=s[J],a=N(t,!1,l[2]);x.appendChild(a)}}if(Y){var F={};
for(var S=0;S<e.length;S++)F["t"+e[S][2]]=e[S];for(var O=0;O<Y.length;O++){var h=Y[O],l=F["t"+h],z=g(l?l:["==========",-1,h],!1);
Z.appendChild(z)}}this.T(new bR(b.E.p))}if(this.av==null){this.n.style.pointerEvents="auto";this.n.style.opacity="1"}this.oB()};
function f_(){d9.call(this);this.oA=[16,!0,!0];this.n=f.F("span","");this.CU=[new kk([12,24],0,255),new ff([12,25,1]),new ff([12,25,0])];
for(var S=0;S<3;S++){var d=this.CU[S];d.parent=this;d.c(this.oA[S]);this.n.appendChild(d.n);d.k(b.E.p,this.Jo,this)}}f_.prototype=new d9;
f_.prototype.Jo=function(){for(var S=0;S<3;S++)this.oA[S]=this.CU[S].h();this.T(new bR(b.E.p,!1))};f_.prototype.c=function(d){this.oA=d.slice(0);
for(var S=0;S<3;S++)this.CU[S].c(d[S])};f_.prototype.h=function(){return this.oA.slice(0)};f_.prototype._=function(){for(var S=0;
S<3;S++)this.CU[S]._()};function g7(d,W){d9.call(this);if(W==null)W=!1;this.T2=[];this.Z8=Math.floor(120*f.QX());
this.a9$=Math.floor(23*f.QX());this.q2=0;this.Fz=[];this.mX=[];for(var c in v.lk.type){if((c=="warpCustom"||c=="warpCylinder")&&!W)continue;
this.Fz.push(c);this.mX.push(v.lk.type[c])}this.n=f.F("span","fitem warpbutton");this.i6=new d9;this.i6.n=f.F("div","floatcont");
if(d){this.tx=d;this.VS=f.F("label","flabel");this.n.appendChild(this.VS)}this.d=f.F("button");this.n.appendChild(this.d);
f._0(this.d,this.HR.bind(this));this.yH=new fZ(!0);this.i6.n.appendChild(this.yH.n);this.yH.k(b.E.p,this.alK,this);
this.i6.n.setAttribute("style","width:"+Math.floor(8+this.Z8/f.QX())+"px;");this._()}g7.prototype=new d9;
g7.prototype.N2=function(d){this.VS.textContent=d};g7.prototype._=function(){if(this.tx)this.VS.innerHTML=ay.get(this.tx)+":";
this.Lo()};g7.a5P={};g7.asp=function(d,W,c){var y=ay.get(v.lk.type[d]),B=y+"-"+d+"-"+W+"-"+c,r=g7.a5P[B];
if(r)return r;var x=g7.bN;if(Z==null){var Z=f.F("canvas");x=g7.bN=Z.getContext("2d")}var Z=x.canvas;
if(Z.width!=W||Z.height!=c){Z.width=W;Z.height=c}x.font=Math.floor(13*f.QX())+"px sans-serif";x.lineWidth=1;
x.strokeStyle="#000000";var i=Math.floor(16*f.QX()),k=new a8(0,0,i,i);x.clearRect(0,0,Z.width,Z.height);
var H=v.lk.lk(d,d=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);v.lk.ai6(H[3],k);var V=v.A.z$(k);
V.r.push("M","L","M","L");V.j.push(0,i/2,i,i/2);V.j.push(i/2,0,i/2,i);V=v.A.Oc(V);V=v.A._s(V,i/5);v.pK.e(H,V.j,k);
v.A.e(V.j,new dT(1,0,0,1,Math.floor(8*f.QX())+.5,Math.floor(3*f.QX())+.5),V.j);x.beginPath();Typr.U.pathToContext({cmds:V.r,crds:V.j},x);
x.stroke();x.fillText(y,Math.floor(40*f.QX()),Math.floor(16*f.QX()));r=g7.a5P[B]=Z.toDataURL();return r};
g7.prototype.HR=function(d){if(f.ni(this.i6.n))return;d.stopPropagation();var W=this.Z8,c=this.a9$;for(var S=0;
S<this.Fz.length;S++)this.T2[S]=g7.asp(this.Fz[S],W,c);this.yH.KO(this.T2,null,W,c);var y=this.d.getBoundingClientRect(),B=new bR(b.E.V,!0);
B.data={d:b.H.oV,dD:this.i6,x:y.left,y:y.top+y.height+4};this.T(B)};g7.prototype.alK=function(d){var W=new bR(b.E.V,!0);
W.data={d:b.H.QU,dD:this.i6};this.T(W);this.q2=d.target.h()[0];this.Lo();this.T(new bR(b.E.p))};g7.prototype.Lo=function(){var d=this.Z8,W=this.a9$;
this.yH.c([this.q2]);this.d.innerHTML="<img src=\""+g7.asp(this.Fz[this.q2],d,W)+"\" class=\"gsicon\" />";
f.lE(this.d.firstChild,d,W)};g7.prototype.h=function(){return this.Fz[this.q2]};g7.prototype.c=function(d){this.q2=this.Fz.indexOf(d);
this.Lo()};function fv(d,W,c){d9.call(this);if(d==null)d=!1;if(W==null)W=!1;if(c==null)c=!1;this.a8L=W;
this.lk=null;this.G5=new g7([12,22],c);this.G5.parent=this;this.G5.k(b.E.p,this.ZG,this);this.FO=new gd([22,0],[[22,4,0],[22,4,1]]);
this.FO.k(b.E.p,this.ZG,this);var y=d?kk:f2;this.dY=new y([22,1],-100,100,"%");this.in=new y("Horizontal Distortion:",-100,100,"%");
this.Ty=new y("Vertical Distortion:",-100,100,"%");this.dY.parent=this.in.parent=this.Ty.parent=this;
this.dY.k(b.E.p,this.ZG,this);this.in.k(b.E.p,this.ZG,this);this.Ty.k(b.E.p,this.ZG,this)}fv.prototype=new d9;
fv.prototype._=function(){this.G5._();this.FO._();this.dY._();var d=this.a8L?1:100;this.in.N2(ay.get([22,2]).substring(0,d)+":");
this.Ty.N2(ay.get([22,3]).substring(0,d)+":")};fv.prototype.ZG=function(){var d=this.lk,W=this.G5.h(),c=d.warpStyle.v.warpStyle;
if(W=="warpCustom")v.lk.dz(d,v.lk.yU(d));else delete d.customEnvelopeWarp;d.warpStyle.v.warpStyle=this.G5.h();
d.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.FO.h()];var y=this.dY.h();d.warpPerspective.v=this.in.h();d.warpPerspectiveOther.v=this.Ty.h();
if(W=="warpNone"||W=="warpCustom"){y=0;d.warpPerspective.v=0;d.warpPerspectiveOther.v=0}else if(c=="warpNone"||c=="warpCustom"||c=="warpCylinder")y=50;
if(W!="warpCylinder"){d.warpValue={t:"doub",v:y};delete d.warpValues}else{d.warpValues=X.X.oY([0,100,100,0,.15,.2,1]);
delete d.warpValue}this.T(new bR(b.E.p,!1));this.c(d)};fv.prototype.h=function(d){return JSON.parse(JSON.stringify(this.lk))};
fv.prototype.c=function(d){this.lk=JSON.parse(JSON.stringify(d));var W=d.warpStyle.v.warpStyle,c=W=="warpNone"||W=="warpCustom"||W=="warpCylinder";
this.G5.c(W);if(!c){this.FO.c(d.warpRotate.v.Ornt=="Hrzn"?0:1);this.dY.c(d.warpValue.v);this.in.c(d.warpPerspective.v);
this.Ty.c(d.warpPerspectiveOther.v)}var y=[this.FO,this.dY,this.in,this.Ty];for(var S=0;S<y.length;S++)if(c)y[S].TB();
else y[S].uu()};function h6(d){d9.call(this);this.bP={};this.n=f.F("div");this.IK=d;this.Z1=null;this.rs=new aL(0,0);
this.FE="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.zD=null;this.wD=new f._6(this.n);
this.Us("grab");this.YW=f.F("canvas","canv");this.n.appendChild(this.YW);this.bN=this.YW.getContext("2d",{willReadFrequently:!0});
this.aC4=null;this.$H=null;this.ew=null;this.Bx=0;this.aCE=0;this.tz=0;this.n9=0;this.a7I=this.arx.bind(this);
this.app=null;this.Q=new dS({m:1,i:1});this.Md=null;this.SX=null;this.C7=[];this.awV=0;this.wS=0;this.alF=this.iZ.bind(this);
this.ap1=this.S0.bind(this);this.axn=this.NC.bind(this);this.aj_=this.gb.bind(this);this.aBj=0;this.S3=null;
this.avO(this.YW);this.s_(this)}h6.prototype=new d9;h6.prototype.a07=function(d){this.bP=d;this.me()};
h6.Hr=function(d){var W=new bm(!0);if(d>=0)W.$v("Space");if(d>=1){W.$v("ControlLeft");if(d==2)W.$v("AltLeft")}return W};
h6.prototype.z9=function(d){var W=this.zD,c=null;if(d.S(bm.CD)){c="grab";if(d.S(bm.Z7)){c="zoom-in";
if(d.S(bm.Oi))c="zoom-out"}}this.Z1=c;if(c)W=c;this.wD.M7(W,this.FE);if(d.S(bm.Z7)){var y=0;if(d.S(bm.CB))y=1;
if(d.S(bm.d7))y=-1;if(y!=0){this.KJ(new aL(this.YW.width/2,this.YW.height/2),y==1)}}};h6.prototype.Us=function(d){this.zD=d;
if(this.Z1)return;this.wD.M7(d,this.FE)};h6.prototype.avO=function(d){f._0(d,this.alF);f.g0(d);d.addEventListener("wheel",this.aj_,!1)};
h6.prototype.s_=function(d){d.k("viewchange",this.aoG,this)};h6.prototype.aoG=function(d){var W=this.Q.O,c=d.currentTarget.Es();
this.Q.O=c.O;this.Q.z=c.z.clone();if(W!=c.O)this.Ic();this.me()};h6.prototype.Es=function(){return{O:this.Q.O,z:this.Q.z}};
h6.prototype.c=function(d,W,c,y){var B=d[0].H2;if(this.$H!=null&&this.$H[0].H2.zI(B)){}else{this.Q.Ig={m:B.m,i:B.i};
this.Q.O=1;this.Q.z=new aL(0,0)}this.$H=d;this.Ic(y);this.Am();this.Bx=0;this.aCE=Date.now();this.tz=0;
this.n9=W==null?0:W;if(c)this.bP=c;this.arx()};h6.prototype.gb=function(d){d.preventDefault();if(d.deltaY==0||Date.now()-this.aBj<100)return;
var W=f.Ne(d);W.x=f.QX()*W.x;W.y=f.QX()*W.y;this.aBj=Date.now();this.KJ(W,d.deltaY<0)};h6.prototype.KJ=function(d,W){X.UK.PH(this.Q,d,W);
this.aDC()};h6.prototype.N3=function(d){var W=this.Q,c=W.Ig;this.Q.O=X.UK.cn(c.m,c.i,W.nW.m,W.nW.i);
if(d)this.Q.z=new aL(0,0);this.aDC()};h6.prototype.aDC=function(){this.Ic();this.T(new bR("viewchange"));
this.T(new bR("zoom"))};h6.prototype.Ic=function(d){var W=this.ew;this.ew=[];var c=this.Q.O;if(this.$H==null)return;
if(d){var y=v.dT(c),B=1;for(var r=0;r<y.length;r++)B*=y[r];var x=d.x,Z=d.y,i=x+d.m,k=Z+d.i;x=Math.floor(x/B)*B;
i=Math.ceil(i/B)*B;Z=Math.floor(Z/B)*B;k=Math.ceil(k/B)*B;d=new a8(x,Z,i-x,k-Z)}for(var S=0;S<this.$H.length;
S++){var H=this.$H[S],V=new Uint8Array(H.data),g;if(c>=1)g={Gq:V,rect:H.H2};else{if(W&&W[S]&&d){var N=v.R(d.P()*4);
v.qR(V,H.H2,N,d);var C=v.NB(N,d,c),w=C.rect;w.x=Math.floor(w.x*c);w.y=Math.floor(w.y*c);g=W[S];v.qR(C.Gq,C.rect,g.Gq,g.rect)}else g=v.NB(V,H.H2,c)}this.ew[S]=g}};
h6.prototype.Am=function(){clearTimeout(this.app)};h6.prototype.me=function(){if(this.$H==null||!f.ni(this.YW))return;
var d=this.aC4,W=this.YW.width,c=this.YW.height,C,w;if(d==null||d.width!=W||d.height!=c){d=this.aC4=this.bN.createImageData(W,c);
console.log("creating image data")}var y=this.$H[this.Bx],B=this.ew[this.Bx],r=this.Q,x=r.Ig,Z=r.nW,i=Z.m,k=Z.i,H=x.m*r.O,V=x.i*r.O,g=Math.round((i-H)/2+r.z.x),N=Math.round((k-V)/2+r.z.y);
if(r.O<=1){w=B.rect.clone();w.x=g;w.y=N;H=w.m;V=w.i;C=B.Gq}else{var Y=1/r.O,U=new a8(Math.floor((Z.x-g)*Y),Math.floor((Z.y-N)*Y),Math.ceil(Z.m*Y)+1,Math.ceil(Z.i*Y)+1),e=new a8(0,0,U.m*r.O,U.i*r.O);
e.x=U.x*r.O+g;e.y=U.y*r.O+N;if(r.V2==null||r.V2.length!=U.P()*4){r.V2=v.R(U.P()*4)}if(r.ET==null||r.ET.length!=e.P()*4){r.ET=v.R(e.P()*4)}v.ft(r.V2,0);
v.qR(B.Gq,B.rect,r.V2,U);v.scale.hK(r.V2,U.m,U.i,r.ET,e.m,e.i,r.O);C=r.ET;w=e}var O=new Uint8Array(d.data.buffer);
v.we(O,i,k,8,-g,-N);v.l.Ip("norm",C,w,O,Z,Z,1);var l=this.bN;l.setTransform(1,0,0,1,0,0);l.putImageData(d,0,0);
l.clearRect(g-4e3,N,4e3,V);l.clearRect(g+H,N,4e3,V);l.clearRect(g-4e3,N-4e3,H+8e3,4e3);l.clearRect(g-4e3,N+V,H+8e3,4e3);
var I=h6.akc(r.O,"#ffffff");l.putImageData(I,0,r.nW.i-I.height);var s=this.bP,r=this.Q;if(s){var z=dJ.mL([.1,.5,1,1]),R=dJ.mL([1,0,0,1]),t=dJ.mL([1,1,1,1]),a=dJ.mL([0,0,0,1]),J=r.Yo(!1);
J.QE();l.save();l.setTransform(J.U,J.J,J.gp,J.x7,J.IS,J.rk);l.strokeStyle=R;if(s.afy){dJ.re(s.afy,null,l);
l.lineWidth=1/r.O;l.stroke()}l.strokeStyle=t;if(s.axu){dJ.re(s.axu,null,l);l.lineWidth=1/r.O;l.stroke();
l.strokeStyle=a;l.setLineDash([4/r.O,4/r.O]);l.stroke();l.setLineDash([])}l.strokeStyle=z;l.fillStyle=dJ.mL([1,1,1,1]);
if(s.fZ){dJ.re(s.fZ,null,l);l.lineWidth=1/r.O;l.stroke()}if(s.dk){dJ.rE(s.dk,l,r,.5);l.lineWidth=2/r.O;
l.stroke();l.fill()}if(s.xi){l.font=16/r.O+"px sans-serif";var F=1/r.O;for(var S=0;S<s.xi.length;S++){var h=s.xi[S],m=h[0],D=h[1]+6/r.O,_=h[2];
l.fillStyle="black";l.fillText(_,m-F,D);l.fillText(_,m+F,D);l.fillStyle="white";l.fillText(_,m,D)}}l.restore()}l.getImageData(0,0,1,1)};
h6.arD="";h6.ad1=null;h6.akc=function(d,W,c,y){if(c==null){c=0;y=0}var B=c+" \xD7 "+y,r="z"+d+","+W+","+c+","+y;
if(r==h6.arD)return h6.ad1;var x=Math.round(50*f.QX()),Z=Math.round(18*f.QX()),i=c==0?0:Math.round((B.length+2)*Z*.35),k=f.F("canvas"),H=k.getContext("2d");
k.width=x+i;k.height=Z;H.fillStyle="rgba(1,1,1,1)";H.fillRect(0,0,x,Z);if(c!=0)H.fillRect(x+2,0,i,Z);
H.font=Math.round(11*f.QX())+"px monospace";H.fillStyle=W;var g=d*100;if(g<100)g=g.toFixed(2);else g=Math.round(g);
g=g+"%";var N=H.measureText(g).width;H.fillText(g,(x-N)/2,Math.round(Z*.7));if(c!=0){var C=H.measureText(B).width;
H.fillText(B,x+(i-C)/2+1,Math.round(Z*.7))}var w=H.getImageData(0,0,x+i,Z);h6.arD=r;h6.ad1=w;return w};
h6.prototype.arx=function(){var d=this.$H,W=d.length,c=this.Bx,y=this.$H[c],B=(c+1)%W;this.me();var r=Date.now();
if(W!=1&&d[B].H2.zI(y.H2)){var x=y.l6?parseInt(y.l6.split(",").pop()):30;if(x==0)x=16;if(B==0)this.tz++;
if(this.n9==0||this.tz<this.n9)this.app=setTimeout(this.a7I,x)}this.Bx=B;this.aCE=r};h6.prototype.z2=function(d,W){if(d<=0||W<=0)return;
var c=Math.floor(d*f.QX()),y=Math.floor(W*f.QX());this.Q.nW=new a8(0,0,c,y);this.YW.width=c;this.YW.height=y;
this.YW.setAttribute("style","width:"+c/f.QX()+"px; height:"+y/f.QX()+"px; display:block;");this.me()};
h6.prototype.Ov=function(d){var W=-1,c=this.C7;for(var S=0;S<c.length;S++)if(c[S].pointerId==d.pointerId)W=S;
return W};h6.prototype.iZ=function(d){var W=this.Ov(d),c=this.C7;if(W!=-1)c[W]=d;else c.push(d);if(c.length==1){this.S3=d.target;
f.kk(window,this.ap1);f.OD(window,this.axn);this.Md=f.Ne(d,this.YW);this.Md.x*=f.QX();this.Md.y*=f.QX();
this.rs=this.Md;this.SX=this.Q.z.clone();if(this.IK&&this.S3==this.YW&&!this.Z1)this.T(new bR("mousedown"))}else this.awV=this.wS=aL.Bg(f.Ne(c[0],this.YW),f.Ne(c[1],this.YW))};
h6.prototype.S0=function(d){var W=this.Ov(d),c=this.C7;if(W!=-1)c[W]=d;var y=this.Q,B=this.Z1,r=this.$H[this.Bx].H2.clone();
r.m*=y.O;r.i*=y.O;var x=f.Ne(d,this.YW);x.x*=f.QX();x.y*=f.QX();this.rs=x;if(this.IK&&this.S3==this.YW&&!B)this.T(new bR("mousemove"));
else if(B=="grab"||B==null){if(c.length>1){var Z=f.Ne(c[0],this.YW),i=f.Ne(c[1],this.YW),k=new aL(f.QX()*(Z.x+i.x)/2,f.QX()*(Z.y+i.y)/2),H=aL.Bg(Z,i),V=null;
if(H>this.wS+50){this.wS+=50;V=!0}if(H<this.wS-50){this.wS-=50;V=!1}if(V!=null)this.KJ(k,V);return}else{var g=x.x-this.Md.x,N=x.y-this.Md.y;
y.z.x=this.SX.x+Math.round(g);y.z.y=this.SX.y+Math.round(N)}this.T(new bR("viewchange"))}};h6.prototype.NC=function(d){var W=this.Ov(d),c=this.C7;
c.splice(W,1);if(c.length==0){f.jU(window,this.ap1);f.Ra(window,this.axn);var y=this.Z1;if(d.detail>1){this.Q.O=1;
this.Q.z.sq(0,0);this.me()}if(this.IK&&this.S3==this.YW&&!this.Z1)this.T(new bR("mouseup"));else{if(y=="zoom-in"||y=="zoom-out")this.KJ(this.rs,y=="zoom-in")}}else{var B=this.Md=f.Ne(c[0],this.YW);
B.x*=f.QX();B.y*=f.QX()}};h6.prototype.l7=function(d){var W=this.rs;if(d){W=f.Ne(d,this.YW);W.x*=f.QX();
W.y*=f.QX()}return this.Q.q9(W.x,W.y)};function em(){d9.call(this);this.lo=null;this.pN=null;this.BS=null;
this.yN=null;this.avX="";this.AV=[];this.Jc=0;this.wO=[];this.fH=0;this.kO=null;var d=this.n=f.F("div",""),W=this.aB_=f.F("div","form");
W.setAttribute("style","line-height:0; margin-bottom:0.5em;");d.appendChild(W);var c=this.tx=f.F("span");
W.appendChild(c);c.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var y=this.a9V=new ff([25,2,0]);
y.c(!0);W.appendChild(y.n);y.k(b.E.p,this.LR,this);var B=this.Sp=new ff([25,2,1]);B.c(!0);W.appendChild(B.n);
B.k(b.E.p,this.LR,this);var r=new ed(" ");W.appendChild(r.n);var x=this.B1=new eO([25,1,1]);W.appendChild(x.n);
x.k(b.E.p,this.LR,this);this.Tu=new i3(14);this.Tu.aCp(3);W.appendChild(this.Tu.n);this.Tu.parent=this;
this.Tu.k(b.E.p,this.azj,this);var Z=this.a2r=new gs([25,1,2],null,null,!0);W.appendChild(Z.n);Z.k("click",this.S_,this);
var i=new gs("?",null,null,!0);W.appendChild(i.n);i.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.aft=this.aos.bind(this);this.BH=f.F("div","svggallery scrollable");d.appendChild(this.BH);this.BH.addEventListener("scroll",this.aaS.bind(this))}em.prototype=new d9;
em.prototype.lz=function(d){this.a2o=d};em.prototype._=function(){this.tx.textContent=ay.get([25,0]);
this.Tu._();this.a9V._();this.Sp._();this.B1._();this.a2r._()};em.prototype.z2=function(d,W){this.lo=new aL(d,W);
this.aB_.setAttribute("style","width:"+d+"px");var c=this.aB_.getBoundingClientRect();W-=c.height;this.BH.setAttribute("style","width:"+d+"px; height:"+W+"px");
if(f.ni(this.n))this.LR()};em.prototype.c=function(d){this.pN=d;this.LR()};em.prototype.aaS=function(d){var W=this.BH;
if(W.scrollTop+W.clientHeight+10>=W.scrollHeight){this.LR(!0)}};em.prototype.azj=function(d){this.BS=null;
this.LR()};em.prototype.aos=function(d){if(Date.now()-this.fH<2e3)return;this.fH=Date.now();this.Jc=this.wO.indexOf(d.currentTarget);
var W=this.nj(this.pN.x,this.pN.y);if(W[1]){var c=W[1].largeImageURL,y=new XMLHttpRequest;y.responseType="arraybuffer";
y.open("GET",c,!0);y.onload=this.aBr.bind(this);y.send();return}this.a5S(W)};em.prototype.aBr=function(d){var W=d.target.response,c=fd.$Z(W),y=fd.Ay(c),B=y.Pd(W),r=this.nj(this.pN.x,this.pN.y,[W,B[0].H2.m,B[0].H2.i]);
this.a5S(r)};em.prototype.a5S=function(d){var W=d[0],c=fd.$Z(W),y=fd.Ay(c),B=new eb("template.psd");
y.Pd(W,B);var r=new bR("tempready",!0);r.data={Ig:B};this.T(r)};em.prototype.S_=function(d){var W=d.target;
this.AV=[];this.BS=null;this.LR()};em.prototype.awZ=function(d){var W=JSON.parse(d.target.response),c=this.yN=W.hits;
for(var S=0;S<c.length;S++)if(c[S].user_id==6314823)c.splice(S,1);this.LR()};em.prototype.LR=function(d){if(this.pN==null||this.lo==null||this.a2o==null)return;
if(this.lo.x<=0)return;var W=this.pN.x,c=this.pN.y;if(Math.min(W,c)<50)return;if(d!=!0){this.wO=[];f.qf(this.BH);
this.BH.scrollTop=0}if(this.wO.length>300)return;var y=Math.min(1,300/Math.max(W,c)),B=this.lo.clone();
B.x-=20;var r=Math.max(1,Math.floor(B.x/(W*y))),x=Math.max(1,Math.ceil(B.y/(c*y)));y=B.x/r/W;var Z=r*x;
if(this.BS==null){var i=this.a2o.Sm.oH(),k=[];for(var H in i){var V=i[H],g=V[3];if(!this.Tu.EY(V))continue;
if(V[5]==null||V[5].slice(0,2)=="gf")continue;k.push(V)}if(k.length==0)k.push(i.DejaVuSans);var N=k.length;
for(var S=0;S<N*10;S++){var C=Math.floor(Math.random()*N),w=Math.floor(Math.random()*N),Y=k[C];k[C]=k[w];
k[w]=Y}k=k.slice(0,10);this.BS=k}var U=this.Sp.h(),e=this.B1.h().trim();this.B1.OB(U);if(U&&(this.yN==null||e!=this.avX)){var O=new XMLHttpRequest,l="https://pixabay.com/api/?image_type=photo"+(e==""?"":"&q="+encodeURIComponent(e))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(e=="")l="plugins/gallery.json";O.open("GET",l,!0);O.onload=this.awZ.bind(this);O.onerror=function(a){console.log(a.target.response)};
O.send();this.avX=e;return}y*=(W*y-5)/(W*y);var I=this.wO.length;for(var S=0;S<Z;S++){var s=this.Jc=I+S;
if(this.AV[s]==null)this.AV[s]=Math.floor(Math.random()*4294967295);var z=this.nj(Math.round(W*y),Math.round(c*y)),R=z[0];
R=K.uw(new Uint8Array(R));var t=f.F("span");t.innerHTML=R;this.wO.push(t);this.BH.appendChild(t);t.addEventListener("click",this.aft,!1)}};
em.prototype.nj=function(d,W,c){var y=this.Sp.h(),B=this.a9V.h(),r=y&&this.yN.length!=0?this.yN:null;
if(B&&!y)r=null;if(B&&y&&(this.Jc&1)==0)r=null;return d_.GP(d,W,this.AV[this.Jc],this.BS,c?c:r)};function cv(){d9.call(this);
this.n=f.F("div");this.Qs=null;this.alg=null;this.g1=-1;this.Sb={JPG:[{Az:new f2([12,52,0],0,100,"%",null,null,!0),Gu:70},{Az:new ff("attach metadata"),Gu:!1}],TIFF:[{Az:new ff("attach metadata"),Gu:!1}],WEBP:[{Az:new f2([12,52,0],0,100,"%",null,null,!0),Gu:70},{Az:new ff("attach metadata"),Gu:!1}],GIF:[{Az:new f2([12,52,0],0,100,"%",null,null,!0),Gu:100},{Az:new ff([12,23,3]),Gu:!1}],PNG:[{Az:new f2([12,52,0],0,100,"%",null,null,!0),Gu:100},{Az:new ff("don't use palettes"),Gu:!1}],BMP:[{Az:new ff("don't use palettes"),Gu:!1}],PDF:[{Az:new eO([12,52,1]),Gu:""},{Az:new f2([12,52,0],0,100,"%",null,null,!0),Gu:100},{Az:new ff("reverse pages"),Gu:!1},{Az:new ff("rasterize all"),Gu:!1},{Az:new ff("vectorize text"),Gu:!1},{Az:new f2("Add Margin",0,5,"in",2),Gu:0},{Az:new ff("add crop marks"),Gu:!1}],EMF:[{Az:new eO([12,52,1]),Gu:""},{Az:new f2([12,52,0],0,100,"%",null,null,!0),Gu:100},{Az:new ff("reverse pages"),Gu:!1},{Az:new ff("rasterize all"),Gu:!1},{Az:new ff("vectorize text"),Gu:!1},{Az:new f2("Add Margin",0,5,"in",2),Gu:0}],SVG:[{Az:new ff("add raster graphics"),Gu:!0},{Az:new ff("add hidden layers"),Gu:!1},{Az:new ff("vectorize text"),Gu:!1},{Az:new ff("rasterize text"),Gu:!1},{Az:new ff("minify"),Gu:!1}],RAW:[{Az:new ij([12,72],["1","3","4"]),Gu:2},{Az:new ij([12,34],["8 Bits","16 Bits"]),Gu:0},{Az:new ij("Byte Order",["12-34","34-12"]),Gu:0}],DDS:[{Az:new gd("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),Gu:0},{Az:new ff("Add Mipmaps"),Gu:!0}],MP4:[{Az:new f2([12,52,0],0,100,"%",null,null,!0),Gu:50}],anim:[{Az:new f2("Speed",10,1e3,"%",null,!0,!0),Gu:100},{Az:new kk("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Gu:0},{Az:new ff("reverse frames"),Gu:!1},{Az:new ff("boomerang"),Gu:!1}],slcs:[{Az:new ff([8,11,0]),Gu:!0}],artb:[{Az:new ff([1,16,1]),Gu:!0}],hicc:[{Az:new ff("convert to sRGB"),Gu:!0}]};
for(var d in this.Sb){var W=this.Sb[d];for(var S=0;S<W.length;S++){W[S].Az.c(W[S].Gu);W[S].Az.k(b.E.p,this.AG,this)}}}cv.prototype=new d9;
cv.prototype.apP=function(){this.g1=-1};cv.prototype._=function(){for(var d in this.Sb)for(var S=0;S<this.Sb[d].length;
S++)this.Sb[d][S].Az._()};cv.prototype.AG=function(){this.LR();this.T(new bR(b.E.p,!1))};cv.prototype.LR=function(){var d=this.Qs,W=d[0],c=d[1],y=d[2],B=d[3],r=d[4],x=this.Sb[W];
if(x==null)x=[];else x=x.slice(0);if(c)x=x.concat(this.Sb.anim);if(["GIF","PNG","JPG"].indexOf(W)!=-1&&y)x=x.concat(this.Sb.slcs);
else if(["GIF","PNG","JPG","SVG"].indexOf(W)!=-1&&B)x=x.concat(this.Sb.artb);if(r)x=x.concat(this.Sb.hicc);
var Z=d.join(",");if(Z!=this.g1){this.g1=Z;f.qf(this.n);for(var S=0;S<x.length;S++){if(W=="PDF"&&!B&&(S==0||S==2))continue;
this.n.appendChild(x[S].Az.n);f.MZ(this.n)}}var i=this.alg=[];for(var S=0;S<x.length;S++)i.push(x[S].Az.h())};
cv.prototype.ph=function(d,W,c,y,B){this.Qs=[d,W,c,y,B];this.LR()};cv.prototype.h=function(){return this.alg.slice(0)};
cv.prototype.c=function(d,W){var c=this.Qs,y=c[0],B=this.Sb[y],r=Math.min(B.length,d.length);for(var S=0;
S<r;S++)B[S].Az.c(d[S]);this.LR();if(W!=!0)this.AG()};function ak(){d9.call(this);this.n=f.F("span","fitem");
this.oL=!1;this.EI=new gs("No",!1,"Cancel");this.$n=new gs("Yes",!1,"Confirm");this.n.appendChild(this.EI.n);
this.n.appendChild(this.$n.n);this.EI.k("click",this.Uh,this);this.$n.k("click",this.Uh,this);this._()}ak.prototype=new d9;
ak.prototype._=function(){this.EI.N2(f.Vr("cross",null,"autoscale"));this.$n.N2(f.Vr("checkmark",null,"autoscale"))};
ak.prototype.Uh=function(d){this.oL=d.target==this.$n;this.T(new UIEvent("click"))};ak.prototype.h=function(){return this.oL};
function ge(d){d9.call(this);this.n=f.F("span","fitem");this.O3=new gs("\u25BC",null,"Auto Options",!0);
f._0(this.O3.n,this.apI.bind(this));this.n.appendChild(this.O3.n);this.aw=new gs("Auto",null,null,!0);
this.aw.k("click",this.fF,this);this.n.appendChild(this.aw.n);this.pV=new gj("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.pV.k(b.E.p,this.fF,this);this.pV.c([!1,!1,!1,!0]);this.i6=new d9;var W=this.i6.n=f.F("div","floatcont form");
W.setAttribute("style","width: 250px;");this.i6.parent=this;W.appendChild(this.pV.n);this.ep=[];for(var S=0;
S<2;S++){var c=new kk((S==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);c.c(.1);c.k(b.E.p,this.fF,this);
this.ep.push(c);W.appendChild(c.n)}}ge.prototype=new d9;ge.prototype.fF=function(d){this.T(new bR(b.E.p,!1))};
ge.prototype._=function(){};ge.prototype.h=function(){return[this.pV.h().indexOf(!0),this.ep[0].h(),this.ep[1].h()]};
ge.prototype.apI=function(d){if(f.ni(this.i6.n))return;d.stopPropagation();var W=this.O3.n.getBoundingClientRect(),c=new bR(b.E.V,!0);
c.data={d:b.H.oV,dD:this.i6,x:W.left,y:W.top+W.height+4};this.T(c)};function du(){d9.call(this);var d=this.n=f.F("div","fitem");
this.Xj=new gd([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Xj.k(b.E.p,this.Jo,this);d.appendChild(this.Xj.n);
this.c3=new b2(!1);this.c3.parent=this;this.c3.vt(16777215);this.c3.k(b.E.p,this.Jo,this);d.appendChild(this.c3.n)}du.prototype=new d9;
du.prototype._=function(){this.Xj._();this.c3._()};du.prototype.aC$=function(d){var W=[d.artboardBackgroundType.v-1];
if(d.Clr)W.push(d.Clr.v);this.c(W)};du.prototype.ash=function(){var d=this.h();return{classID:"artboard",Clr:{t:"Objc",v:d[1]},artboardBackgroundType:{t:"long",v:d[0]+1}}};
du.prototype.c=function(d){this.Xj.c(d[0]);if(d[1])this.c3.c(d[1])};du.prototype.h=function(){return[this.Xj.h(),this.c3.h()]};
du.prototype.Jo=function(d){if(d.target==this.c3)this.Xj.c(3);this.T(new bR(b.E.p,!1))};function dM(d){d9.call(this);
this.WJ=d;this.a6J=0;this.ai5=!1;this.aX=d?new dM.Dt:null;this.n=f.F("div","flexrow storageset");this.n.style.background="var(--bg-panel)";
this.CT=f.F("div");this.n.appendChild(this.CT);this.g_=f.F("div");this.n.appendChild(this.g_);this.HB=[];
var W=Storage.list.length;if(d)W=W+1+dM.UB.length;var c=this.P_.bind(this);for(var S=0;S<W;S++){var y=f.F("div");
this.HB.push(y);this.CT.appendChild(y);y.addEventListener("click",c,!1)}this.P_(null,0)}dM.prototype=new d9;
dM.uM=[];dM.LA=function(d){dM.uM.push(d);d.xX()};dM.R2=function(){var d=dM.uM;d.pop();d[d.length-1].xX()};
dM.prototype.xX=function(){this.P_(null,this.a6J)};dM.prototype.lz=function(d,W){if(!d.cm&&!this.ai5){var c=this.WJ?2:1;
for(var S=c;S<this.HB.length;S++)this.CT.removeChild(this.HB[S]);this.ai5=!0;if(this.WJ)this.aX.lz(d,W)}if(this.Q4)this.Q4.lz(d,W)};
dM.prototype._=function(){if(this.WJ)this.aX._();if(this.Q4)this.Q4._()};dM.prototype.P_=function(d,W){var c=this.HB,y;
if(W==null)W=c.indexOf(d.currentTarget);this.a6J=W;for(var S=0;S<c.length;S++)f.V6(c[S],"active");f.CH(c[W],"active");
if(this.WJ)W--;f.qf(this.g_);var B=Storage.list.length;if(W==-1)y=this.aX;else if(W<B)y=Storage.RJ(W);
else{var r=dM.UB[W-B];y=new dM.K5(r[1])}this.Q4=y;y.parent=this;this.g_.appendChild(y.n);this.z2(this.Kp,this.fn);
this._()};dM.prototype.z2=function(d,W){this.Kp=d;this.fn=W;var c=d<850,y=c?50:200,B=Storage.list;if(this.WJ)B=[["Home",null,"strg/home"]].concat(B.concat(dM.UB));
for(var S=0;S<B.length;S++){var r=this.HB[S],x="padding: 8px "+(c?13:36)+"px; cursor:pointer;";r.setAttribute("style",x);
var Z=B[S][2],i=Z.indexOf(".")!=-1;Z=i?Z:PIMG[Z];r.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\""+(i?"":"gsicon")+"\" src=\""+Z+"\" /> "+(c?"":B[S][0])}this.n.style.width=d+"px";
this.n.style.height=W+"px";this.CT.style.width=y+"px";this.CT.style.paddingTop="32px";if(this.Q4)this.Q4.z2(d-y,W)};
dM.UB=[["Design contest","code/storages/wows.html","img/wows_logo.png",!0,"Join the contenst!",1686144664]];
for(var S=0;S<dM.UB.length;S++)if(dM.UB[S][5]*1e3<Date.now()){dM.UB.splice(S,1);S--}dM.Dt=function(){this._$=null;
var d=this.n=f.F("div");d.style.background="var(--bg-canvas)";var W=this.iy=f.F("div");d.appendChild(W);
var c=f.F("style");d.appendChild(c);c.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var S=0;S<2;S++){var y=f.F("div"),c="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";W.appendChild(y);
if(S==0)c+="padding: 12px 0px";if(S==1)c+="position:absolute;  bottom:0;";y.setAttribute("style",c);
var B=f.F("img");y.appendChild(B);B.setAttribute("src",PIMG[S==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(S==0)this.h2=B;else this.awH=B;if(S==0)this.a4R=y;else this.aqr=y}this.HB=[];c="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var r=this.hr.bind(this),x=f.F("div");W.appendChild(x);x.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var S=0;S<4;S++){var Z=f.F("span","bhover");this.HB.push(Z);Z.setAttribute("style",c+"cursor:pointer; padding:12px;");
Z.addEventListener("click",r,!1);x.appendChild(Z)}f.MZ(W);var y=f.F("div");y.setAttribute("style",c+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
y.textContent="Drop any files here";W.appendChild(y);this.YW=f.F("canvas");this.YW.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.bN=this.YW.getContext("2d");this.aeW=v.R(4);d.appendChild(this.YW);var i=new Date().getDate(),k=new Date().getMonth();
if(k==11&&i>20||k==0&&i<10){var H=Math.random()<.5,V={Z:255,G:255,J:255};if(!H){V=v.JB(Math.random(),Math.random()*.7,1);
V.Z*=255;V.G*=255;V.J*=255}this.L2=[Math.round(1048575*Math.random()),H?.05:.02,Math.round(4+Math.random()*8),1,H?3:15,V,0,!0,H,H?1:.2,3];
this.adv=H?.1:.2;this.Y8=this.Ar.bind(this);window.requestAnimationFrame(this.Y8)}};dM.Dt.prototype=new d9;
dM.Dt.prototype.Ar=function(){window.requestAnimationFrame(this.Y8);if(!f.ni(this.n))return;var d=this.aeW,W=this.YW,c=this.bN,y=W.width,B=W.height;
this.L2[6]=Date.now()*.001*this.adv;v.RD.so(d,y,B,this.L2,!0);c.putImageData(new ImageData(new Uint8ClampedArray(d.buffer),y,B),0,0)};
dM.Dt.prototype.hr=function(d){var S=this.HB.indexOf(d.currentTarget),W=new bR(b.E.V,!0);if(S==0)W.data={d:b.H.vB,vD:"newproject"};
if(S==1)W.data={d:b.H.xz};if(S==2)W.data={d:b.H.vB,vD:"res0"};if(S==3)W.data={d:b.H.c8};this.T(W)};dM.Dt.prototype._=function(){var d=this.HB,W=[[11,7],[1,6],[25,0],[0,17,6]],c=["\u2605","\uD83E\uDC7F","\u25A3"],c=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var S=0;S<d.length;S++)d[S].innerHTML="<span style=\"vertical-align:middle\">"+f.Vr(c[S],null,"autoscale")+"</span>\u2000"+ay.get(W[S]);
var y="l"+"o"+"g"+"o",B=y+"_"+["pp","vp"][be],r=new Date;if(r.getMonth()==3&&r.getDate()==1)B="lo"+"go_cuc"+"umber";
if(PIMG[y])B=y;this.h2.setAttribute("src",PIMG[B]);this.awH.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
dM.Dt.prototype.z2=function(d,W){var c=Math.min(W*1.5,Math.min(d,600));f.GS(this.YW,d,c*.26);var y=this.YW.width,B=this.YW.height;
this.aeW=v.R(y*B*4);this.n.style.width=d+"px";this.n.style.height=W+"px";this.aqr.style.width=d+"px";
this.iy.style.marginLeft=Math.max(0,Math.round((d+200-600)/2)-200)+"px";this.h2.style.width=c+"px";this.awH.style.width=c+"px"};
dM.Dt.prototype.lz=function(d,W){var c=d;if(d==null)d=this.kO;this.kO=d;if(!d.cm&&this.HB[2].parent){this.iy.removeChild(this.HB[2]);
this.iy.removeChild(this.HB[3])}this.HB[3].style.display=d.tK?"inline-block":"none";if(c)this._$=setTimeout(this.lz.bind(this),100)};
dM.K5=function(d){var W=this.n=f.F("iframe");W.style.background="var(--bg-canvas)";W.setAttribute("src",d)};
dM.K5.prototype=new d9;dM.K5.prototype.z2=function(d,W){var c=this.n;c.style.width=d+"px";c.style.height=W+"px"};
dM.K5.prototype.lz=function(){};function Storage(d){d9.call(this);var W=this.n=f.F("div","storage");
f.O6(W);W.addEventListener("drop",this.afn.bind(this),!1);var c=this.acw=f.F("style");W.appendChild(c);
W.setAttribute("tabindex","0");W.style.outline="none";W.addEventListener("keydown",this.aqU.bind(this),!1);
this.pv=this.axc.bind(this);this.Xi=0;this.xT=0;var y=f.F("div");W.appendChild(y);var B=this.afO.bind(this);
this.BW=f.F("div","bar");y.appendChild(this.BW);this.YL=f.F("div","fls scrollable");y.appendChild(this.YL);
this.qO=f.F("div");y.appendChild(this.qO);this.qO.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.dS=f.F("div","bar");this.dS.textContent="Name: ";var r=this.vf=f.F("input");r.setAttribute("type","text");
this.dS.appendChild(r);var x=this.tu=f.F("div","btn");x.textContent="Save";this.dS.appendChild(x);f.OD(x,B);
f._0(this.YL,this.pv);this.d9=0;this.u1=d;var Z=this.a5h.bind(this),i=this.auK=f.F("div");i.setAttribute("style","text-align:center; font-size:1.6em");
var k=f.F("img");i.appendChild(k);f.MZ(i);k.setAttribute("src",PIMG[Storage.list[this.u1][2]]);k.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
f.OD(k,Z);this.Af=f.F("div","btn");i.appendChild(this.Af);f.OD(this.Af,Z);this.jR=new dK([{name:[6,20]},{name:[5,2],aN:[bm.Z7,bm.lT],w:function(){return{w:Storage.yV!=null}}}]);
this.jR.parent=this;this.jR.k("select",this.zu,this);this.YL.addEventListener("contextmenu",this.pv);
this.ahP=f.F("span");this.gj=f.F("span");this.gj.setAttribute("style","position:absolute; right:0; top:5px;");
this.zi=[];this.uc=[];for(var S=0;S<3;S++){var H=f.F("div","btn");this.zi.push(H);this.ahP.appendChild(H);
f.OD(H,B);H.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][S]}for(var S=0;S<5;S++){var H=f.F("div","btn");
this.uc.push(H);this.gj.appendChild(H);f.OD(H,B)}window.addEventListener("message",this.aAf.bind(this),!1);
this.ajY=!1;this.$I=0;setInterval(this.ao_.bind(this),300);this.Km();var V=this.an3=document.createElement("input");
V.setAttribute("type","file");V.addEventListener("change",this.afn.bind(this),!1);document.body.appendChild(V);
V.setAttribute("style","display:none");V.setAttribute("multiple","")}Storage.prototype=new d9;Storage.ON=!1;
Storage.prototype.afn=function(d){d.stopPropagation();d.preventDefault();var W=d.dataTransfer?d.dataTransfer.files:d.target.files;
this.a0E=W.length;Storage.yV={};for(var S=0;S<W.length;S++){var c=W[S],y=new FileReader;y.sn=c;y.onload=this.aj3.bind(this);
y.readAsArrayBuffer(c)}};Storage.prototype.aj3=function(d){var W=Storage.yV;W[d.target.sn.name]=d.target.result;
this.a0E--;if(this.a0E==0)this.Vu()};Storage.prototype.lz=function(d,W){var c=Storage.list[this.u1][3],y=jj.SA();
if(c){if(this.$I==1&&f.ni(this.n)&&y!=null){this.Km()}if(this.$I==2&&y==null){this.og("forget","")}}};
Storage.prototype.ao_=function(){var d=f.ni(this.n),W=this.ajY;if(d&&!W){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!d&&W){window.onpopstate=function(){};history.go(-1)}this.ajY=d};
Storage.prototype.Km=function(){if(this.Tn)document.body.removeChild(this.Tn);this.DY=[[]];this.HI=0;
this.abe={"/":[]};this.ac2="";this.VE=null;this.CU=[];this.fo=[];this.agk=[];this.amJ=null;var d="code/storages/"+Storage.list[this.u1][1],W=this.Tn=f.F("iframe");
W.setAttribute("src",d);W.setAttribute("style","display:none");document.body.appendChild(W)};Storage.prototype.ZP=function(){return this.abe[this.T5()]};
Storage.prototype.im=function(d){this.abe[this.T5()]=d};Storage.RJ=function(S){var d=Storage.IT[S];if(d==null)d=Storage.IT[S]=new Storage(S);
return d};Storage.IT=[];Storage.La=0;Storage.a9M="";Storage.Ac=function(d,W){Storage.La=d;Storage.a9M=W;
var c=Storage.IT;for(var S=0;S<c.length;S++)if(c[S])c[S].xX()};Storage.a71=[500*(1<<20),5e3*(1<<20)];
Storage.vV=0;Storage.ug=2;Storage.GZ=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.aaZ=function(d){for(var S=0;S<Storage.IT.length;S++){if(Storage.IT[S]&&Storage.IT[S].Tn.contentWindow==d)return!0}return!1};
Storage.prototype.aqU=function(d){if(d.target.tagName=="INPUT")return;var W=bm;if(W.nl(d.code,W.y8)&&this.T5().length!=0)this.a7G();
else if(d.ctrlKey){if(W.nl(d.code,W.H)){var c=[];this.im(c);for(var S=0;S<this.VE.length;S++)c.push(S);
this.Nw()}if(W.nl(d.code,W.Nc))this.RL(2);if(W.nl(d.code,W.lT))this.Vu()}else if(W.nl(d.code,W.Qy)){var y=this.ZP();
if(y.length!=0)this.ald(y[0])}else if(W.nl(d.code,W.Vy)){this.HI=Math.max(this.HI-1,0);this._D()}else{var B=0;
for(var S=65;S<=90;S++)if(d.code=="Key"+String.fromCharCode(S))B=S;if(B!=0){var r=String.fromCharCode(B).toLowerCase(),x=[],Z=this.VE,i;
for(var S=0;S<Z.length;S++)if(Z[S][0][0].toLowerCase()==r)x.push(S);if(x.length==0)return;var y=this.ZP();
if(y.length==0)i=x[0];else{var k=x.indexOf(y[0]);if(k==-1){i=x[0];for(var S=0;S<x.length;S++)if(x[S]>y[0]){i=x[S];
break}}else i=x[(k+1)%x.length]}this.im([i]);this.Nw(!0)}}};Storage.prototype.z2=function(d,W){this.Kp=d;
this.fn=W;this.n.style.width=d+"px";this.n.style.height=W+"px";var c=d-30,y=Math.floor(c/230),c=Math.floor(c/y)-70;
this.acw.textContent=".storage .tile .name {  width:"+c+"px;  }";this.vf.style.width=d-140+"px";this.YL.style.width=this.BW.style.width=d-20+"px";
this.YL.style.height=W-70-(Storage.La==0?0:45)+"px"};Storage.prototype.a5h=function(){this._D()};Storage.prototype._D=function(){var d=this.u1,W="____strg"+d;
if(window[W]==null){jj.event("strg_"+Storage.list[d][0]);window[W]=!0}this.xT=1;this.og("show",this.T5())};
Storage.prototype.T5=function(d){var W=this.DY[this.HI],c="/"+W.join("/");if(d&&W.length!=0)c+="/";return c};
Storage.prototype.afO=function(d){var W=d.currentTarget,c=this.HI,y=this.zi.indexOf(W),B=this.uc.indexOf(W);
if(y>=0&&!this.amX(y))return;if(y==0){this.HI=Math.max(c-1,0);this._D()}if(y==1){this.HI=Math.min(c+1,this.DY.length-1);
this._D()}if(y==2){var r=this.DY[c+1]=this.DY[c].slice(0);r.pop();this.HI++;this.DY=this.DY.slice(0,this.HI+1);
this._D()}if(B==0){var x=document.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.an3.dispatchEvent(x)}if(B==1){Storage.vV=(Storage.vV+1)%2;this.xX()}if(B==2){Storage.ug=(Storage.ug+1)%3;
this.xX()}if(B==3){Storage.GZ=(Storage.GZ+1)%3;this.xX()}if(B==4){this.og("forget","")}if(W==this.tu){var Z=this.vf.value.trim(),i=this.VE,k=-1;
if(!Z.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");return}for(var S=0;
S<i.length;S++)if(i[S][0]==Z)k=S;if(k!=-1){this.lj("Do you really want to replace \""+Z+"\"?",this.as7.bind(this))}else this.as7()}};
Storage.prototype.as7=function(){var d=this.vf.value.trim(),W=[this.u1,this.T5(!0)+d];this.CP({d:b.H.aqk,N0:W});
this.T(new bR("canclose",!0))};Storage.prototype.Vu=function(){if(Storage.yV==null)return;this.CP({d:b.H.MJ,Aj:ay.get("Uploading ...")});
this.Xi=4;g9.RJ(2,this.Tn,[this.T5(),Storage.yV,this.VE],null,this.aa9.bind(this))};Storage.prototype.aa9=function(d){this.Xi=0;
this.CP({d:b.H.Xg,Aj:ay.get("Uploading ...")});this._D()};Storage.prototype.zu=function(d){var W=d.target.YD();
if(d.target==this.jR){if(W[0]==0){var c=[ay.get([6,20]),-1,0];this.VE.push(c);this.xX();var S=this.VE.indexOf(c),y=this.CU[S].querySelector(".name");
console.log(y);var B=new aA.wB(y,function(V){this.CP({d:b.H.MJ,Aj:ay.get([1,2])+" ..."});var g=this.T5(!0)+V+"/";
console.log(g);this.og("save",g)}.bind(this),!0)}else this.Vu()}else{if(W[0]==0){this.RL(2)}else if(W[0]==1){var S=this.ZP()[0],r=this.VE[S],y=this.CU[S].querySelector(".name");
console.log(y);y.innerHTML=r[0];var B=new aA.wB(y,function(V){V=V.trim();var g=this.VE;for(var S=0;S<g.length;
S++)if(g[S][0]==V){alert("Item with such name already exists.");this.xX();return}var N=this.T5(!0)+r[0]+":"+V;
console.log(N);this.og("rename",N)}.bind(this))}else if(W[0]==2){this.RL(3)}else if(W[0]==3)this.a7G();
else if(W[0]==4){this.RL(1)}else{var x=this.VE[this.ZP()[0]],Z=Storage.VH(x),i=Z[W[1]],k=i[0],H=this.SY().pop()[1];
if(Storage.akW(x,k)!=-1){this.og("share",H+":"+k+":-1");alert("Unshared.")}else{this.og("share",H+":"+k+":"+W[2]);
alert("Shared.")}}}};Storage.akW=function(d,W){var c=d[4];if(c==null)return-1;if(c.indexOf(W+":0")!=-1)return 0;
if(c.indexOf(W+":1")!=-1)return 1;return-1};Storage.prototype.a7G=function(){var d=this.ZP();this.lj("Do you really want to delete "+(d.length==1?"\""+this.VE[d[0]][0]+"\"":"these files")+"?",this.Pc.bind(this))};
Storage.prototype.lj=function(d,W){var c={d:b.H.vB,vD:"confirm",b:d,Ws:W};this.CP(c)};Storage.prototype.RL=function(d){this.Xi=d;
if(1<d)this.CP({d:b.H.MJ,Aj:ay.get("Downloading ...")});else this.CP({d:b.H.MJ,Aj:ay.get("Getting info ...")});
g9.RJ(0,this.Tn,this.T5(),this.SY(!0),this.agX.bind(this))};Storage.prototype.agX=function(d){if(this.Xi==1){var W=0,c=0;
for(var y in d){var B=d[y];W+=B[1];c++}this.lj(c+" files, "+cA.oZ(W)+" in total.",function(){});this.CP({d:b.H.Xg,Aj:ay.get("Getting info ...")});
this.Xi=0}if(1<this.Xi)g9.RJ(1,this.Tn,d,null,this.a5c.bind(this))};Storage.prototype.a5c=function(d){if(1<this.Xi){if(1<this.Xi)this.CP({d:b.H.Xg,Aj:ay.get("Downloading ...")});
var W={},c=this.T5(!0);for(var y in d)W[y.slice(c.length)]=d[y];if(this.Xi==2){Storage.yV=W;alert("Copied to a clipboard")}if(this.Xi==3){var B=Object.keys(d);
if(B.length==1)bw.save(d[B[0]].buffer,B[0].split("/").pop());else bw.save(UZIP.encode(W),c=="/"?"files.zip":this.T5().split("/").pop()+".zip")}}this.Xi=0};
Storage.yV=null;Storage.prototype.Pc=function(){this.CP({d:b.H.MJ,Aj:ay.get([5,4])+" ..."});this.fo=this.SY();
this.Oj()};Storage.prototype.Oj=function(){if(this.fo.length==0){this.CP({d:b.H.Xg,Aj:ay.get([5,4])+" ..."});
this.im([]);this._D()}else this.og("delete",this.fo.pop()[1])};Storage.prototype.SY=function(d){var W=[],c=this.T5(!0),y=this.ZP();
for(var S=0;S<y.length;S++){var B=this.VE[y[S]];if(d)W.push(B[0]);else W.push([this.u1,c+B[0]])}return W};
Storage.prototype.og=function(d,W){f.CH(this.n,"disabled");this.ac2=d;if(Storage.ON)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+d+"\", \"prm\": "+JSON.stringify(W)+"  }");
this.Tn.contentWindow.postMessage("{\"code\": \""+d+"\", \"prm\": "+JSON.stringify(W)+"  }","*")};Storage.prototype.aAf=function(d){if(d.source!=this.Tn.contentWindow||this.Xi!=0)return;
f.V6(this.n,"disabled");if(typeof d.data=="string"){if(Storage.ON)console.log("==",Math.floor(Date.now()/1e3),d.data);
var W=JSON.parse(d.data),c=W.code,y=W.prm,B=this.ac2,r=Storage.list[this.u1][3];if(c=="ready"){if(r&&!y){var x=jj.SA();
console.log(x);var Z=jj.n2(),i=Z.acc;if(x==null){this.$I=1;alert("Log in to use this storage (press Account at the top).");
this.Bt();return}var k=[],H=x.wantToJoin;for(var V in H)k.push(parseInt(V.slice(1)));var g=[],N=x.inTeams;
for(var S=0;S<N.length;S++)g.push(N[S][2]);var C={uid:x.id,limit:Storage.a71[jj.Xf()?1:0],inTeams:g,myTeams:k};
C.secret=i&&i.pds?i.pds:"";this.og("login",C);return}if(r)this.$I=2;if(r&&W.secret){var Z=jj.n2(),i=Z.acc;
if(i==null)i=Z.acc={};i.pds=W.secret;jj.XR(Z)}if(y)this._D();else this.Bt()}else if(c!="0"){if(B=="save")this.CP({d:b.H.Xg,Aj:ay.get([1,2])+" ..."});
if(B=="delete")this.Oj();alert(y);this.xX()}else if(B=="show"){this.xT=0;this.VE=y;this.xX()}else if(B=="save"){this.xT=0;
this.CP({d:b.H.Xg,Aj:ay.get([1,2])+" ..."});this._D()}else if(B=="delete"){this.Oj()}else if(B=="forget"){if(r)this.Bt();
else this.Km()}else if(B=="rename"||B=="share"){this._D()}else throw c}else{if(Storage.ON)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.CP({d:b.H.a92,N0:this.SY()[0],iJ:d.data});this.CP({d:b.H.Xg,Aj:"Opening ..."})}};Storage.prototype.Bt=function(){f.qf(this.BW);
f.qf(this.YL);f.qf(this.qO);this.YL.appendChild(this.auK)};Storage.prototype.amX=function(S){if(S==0)return this.HI>0;
if(S==1)return this.HI<this.DY.length-1;if(S==2)return this.T5()!="/"};Storage.prototype.xX=function(){var d=Storage.list[this.u1][3],W=this.VE,c=Storage.ug,y=Storage.vV,B=Storage.GZ;
if(W==null)return;W.sort(function(h,m){var D=h[1]==-1?1:5,_=m[1]==-1?1:5,n=0;if(Math.min(D,_)==1&&D!=_)return D-_;
else if(D==1||c==0)n=h[0].toLowerCase()<m[0].toLowerCase()?-1:1;else if(c==1)n=h[1]-m[1];else if(c==2)n=h[2]-m[2];
if(y==1)n=-n;if(h[0]=="Shared")n=-1;if(m[0]=="Shared")n=1;return n});var r=this.YL,x=this.BW,Z=this.DY[this.HI];
f.qf(r);f.qf(x);this.CU=[];for(var S=0;S<3;S++)if(this.amX(S))f.V6(this.zi[S],"disabled");else f.CH(this.zi[S],"disabled");
x.appendChild(this.ahP);x.appendChild(this.gj);var i=f.F("span");i.textContent="/";x.appendChild(i);
for(var S=0;S<Z.length;S++){var i=f.F("span");i.textContent=Z[S];x.appendChild(i);var i=f.F("span");
i.textContent="/";x.appendChild(i)}var k=["tile","icon","litm"][B];for(var S=0;S<W.length;S++){var H=W[S],V=H[1]==-1,g=V?"":cA.oZ(H[1]),N=f.F("div","cont "+k),z=!1;
r.appendChild(N);this.CU.push(N);N.setAttribute("title",H[0]+(V?"":"\nSize: "+g+"\nDate Modified: "+new Date(H[2]*1e3).toLocaleString().replaceAll(". ",".")));
var C=f.F("img");C.setAttribute("src",V?Storage.ack:H[3]?H[3]:Storage.sn);if(!V&&H[3])C.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var w=f.F("span","name"),Y=H[0];if(k=="icon"&&Y.length>30)Y=Y.slice(0,24)+".."+Y.slice(Y.length-5);if(d&&Z.length==1&&Z[0]=="Shared"){var U=Storage.VH(),e=parseInt(Y.slice(5));
for(var O=0;O<U.length;O++)if(U[O][0]==e)Y=U[O][1]}w.textContent=Y;N.appendChild(C);N.appendChild(w);
if(k!="icon"&&!V){if(k=="tile")f.MZ(w);var l=f.F("span");l.textContent=g;l.style.opacity="0.8";(k=="tile"?w:N).appendChild(l)}var I=H[0].split("."),s=(I.length==1?"":I.pop()).toUpperCase();
if(d&&H[0]=="Shared"&&Z.length==0){z=!0;s="\u21E7"}if(k!="litm"&&(!V&&H[3]==null||z)){var R=f.F("span","ext");
R.textContent=s;var t=Storage.tc[s];R.style.backgroundColor=t?t:Storage.a2_(s);N.appendChild(R)}f._0(N,this.pv);
N.addEventListener("contextmenu",this.pv)}this.Nw();var a=this.dS.parentNode!=null,J=Storage.La,F=this.n;
if(a&&J==0)F.removeChild(this.dS);if(!a&&J==1)F.appendChild(this.dS);this.z2(this.Kp,this.fn);this._()};
Storage.prototype.Nw=function(d){var W=this.CU,c=this.VE,y=this.ZP(),B=!1,r=0;for(var S=0;S<W.length;
S++){var x=c[S],Z=x[1]==-1,i=W[S];if(Storage.La==1&&!Z&&!x[0].toLowerCase().endsWith(".psd"))i.style.display="none";
else i.style.display="auto";if(y.indexOf(S)==-1)f.V6(i,"active");else{if(Z)B=!0;else r+=x[1];f.CH(i,"active");
if(d)i.scrollIntoView({block:"center",behavior:"smooth"})}}var k=B?"":cA.oZ(r);this.qO.textContent=y.length==0?"":y.length+" item"+(y.length==1?"":"s")+" selected\u2001"+k;
this.vf.value=y.length==1&&!B?c[y[0]][0]:Storage.a9M};Storage.prototype.ald=function(S){var d=this.VE[S];
if(d[1]==-1){var W=this.DY[this.HI].slice(0);W.push(d[0]);this.HI++;this.DY[this.HI]=W;this.DY=this.DY.slice(0,this.HI+1);
this.im([]);this._D()}else if(Storage.La==0){this.CP({d:b.H.MJ,Aj:"Opening ..."});this.T(new bR("canclose",!0));
var c=this.T5(!0)+d[0];this.og("load",c)}};Storage.prototype._=function(){var d=Storage.ug,W=Storage.vV,c=Storage.GZ;
this.uc[0].textContent="Upload";this.uc[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][W];this.uc[2].textContent=ay.get([[12,48],[12,14,0],"Date"][d]);
this.uc[3].textContent=ay.get(["Tiles","Icons",[25,3,1]][c]);this.uc[4].textContent="\u2716";this.Af.innerHTML=ay.get([[23,6],Storage.list[this.u1][0]])+"<br/><small><small>"+Storage.list[this.u1][4]+"</small></small>";
this.lz()};Storage.prototype.axc=function(d){this.CP({d:b.H.wG});if(f.ni(this.auK))return;if(d.button==3||d.button==4){if(Date.now()-this.amQ>50){var W=this.HI;
if(d.button==3)this.HI=Math.max(W-1,0);else this.HI=Math.min(W+1,this.DY.length-1);this._D()}this.amQ=Date.now();
return}d.stopPropagation();var S=this.CU.indexOf(d.currentTarget);if(d.type=="contextmenu"){if(this.VE==null)return;
d.preventDefault();var c=this.jR;if(S!=-1){var y=[{name:[5,1],aN:[bm.Z7,bm.Nc]},{name:[6,37]},{name:"Download",Zq:!0},{name:[5,4],aN:[bm.y8]},{name:[9,2]}];
if(Storage.list[this.u1][3]){var B=this.VE[S],r=Storage.VH(B);if(r.length!=0){var x=[];for(var Z=0;Z<r.length;
Z++){var i=[],k=r[Z],H=Storage.akW(B,k[0]);if(H!=-1)i.push({name:"Unshare"});else i.push({name:"Allow Read"},{name:"Allow Read & Write"});
x.push({name:k[1]+[""," (R)"," (R,W)"][H+1],sub:i})}y.push({name:"Share With",sub:x})}}c=new dK(y);c.parent=this;
c.k("select",this.zu,this)}c.parent=this;c._();c.update();this.CP({d:b.H.oV,dD:c,x:d.clientX+4,y:d.clientY});
return}var V=this.ZP(),g=V.indexOf(S);if(d.button!=0&&g!=-1)return;if(d.target==this.YL)this.im([]);
else{if(d.ctrlKey){if(g==-1)V.push(S);else V.splice(g,1)}else if(d.shiftKey&&V.length!=0){var Z=V[0];
if(Z<S){var N=S;S=Z;Z=N}V=[];this.im(V);for(var C=S;C<=Z;C++)V.push(C)}else{this.im([S]);if(Date.now()-this.d9<300&&V.length!=0&&V[0]==S){this.ald(S);
this.d9=0}}}this.d9=Date.now();this.Nw()};Storage.prototype.CP=function(d){var W=new bR(b.E.V,!0);W.data=d;
this.T(W)};Storage.VH=function(d){var W=[],c=[],y=jj.n2(),B=y.acc.tstart;if(B)for(var S=0;S<B.length;
S++){W.push([B[S][2],B[S][0]]);c.push(B[S][2])}var r=jj.SA();B=r.inTeams;if(B)for(var S=0;S<B.length;
S++){W.push([B[S][2],B[S][0]]);c.push(B[S][2])}if(d&&d[4]){for(var S=0;S<d[4].length;S++){var x=parseInt(d[4][S].split(":")[0]);
if(c.indexOf(x)==-1)W.push([x,"Team "+x])}}return W};Storage.prototype.adT=function(d,W){if(this.xT!=0)return 1;
this.xT=2;this.CP({d:b.H.MJ,Aj:ay.get([1,2])+" ..."});this.og("save",d);if(Storage.ON)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.Tn.contentWindow.postMessage(W,"*")};Storage.tc={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a2_=function(d){d=d.toLowerCase();
var W=0;for(var S=0;S<d.length;S++)W+=d.charCodeAt(S)*613<<8*S;return"#"+v.Wb(W&16777215)};Storage.ack="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.sn="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var g9=function(){var d,W,c,y,B,r,x,Z;function i(N,C,w,Y,U){W=C;y=Y;x=U;d=N;r={};if(d==0){c=[w]}if(d==1){c=[];
for(var e in w)c.push(e)}if(d==2){var O=w[0],l=w[1],I=w[2],s={};for(var S=0;S<I.length;S++)s[I[S][0]]=!0;
var z={};for(var e in l){var R=e.split("/"),t=R[0],a=t.split("."),J="";if(a.length!=1){J="."+a.pop();
t=a.join(".")}while(s[t+J])t+=" - Copy";R[0]=t+J;z[R.join("/")]=l[e]}var F={};c=[];for(var e in z){var R=e.split("/");
for(var S=0;S<R.length-1;S++){var h=O+R.slice(0,S+1).join("/")+"/";if(F[h]==null){F[h]=!0;c.push([h])}}var m=O.endsWith("/")||e.startsWith("/")?"":"/";
c.push([O+m+e,z[e]])}}window.addEventListener("message",H,!1);Z=Date.now();k()}function k(){if(c.length==0){g();
return}B=c.shift();if(d==0)V("show",B);if(d==1)V("load",B);if(d==2){V("save",B[0]);if(B.length==2)W.contentWindow.postMessage(B[1],"*")}}function H(N){if(N.source!=W.contentWindow)return;
if(d==0){var C=JSON.parse(N.data),w=C.code,Y=C.prm;for(var S=0;S<Y.length;S++){var U=Y[S];if(y&&y.indexOf(U[0])==-1)continue;
var e=B+(B=="/"?"":"/"),O=e+U[0];if(U[1]==-1)c.push(O);else r[O]=U}y=null}else if(d==1){r[B]=new Uint8Array(N.data)}k()}function V(N,C){var w=N=="show"?", \"nothumbs\": true":"",Y="{\"code\": \""+N+"\", \"prm\": "+JSON.stringify(C)+w+"  }";
W.contentWindow.postMessage(Y,"*")}function g(){console.log(Date.now()-Z);window.removeEventListener("message",H,!1);
x(r)}return{RJ:i}}();function hU(d){d9.call(this);var W=this.n=f.F("div","form scrollable padded label12");
this.vA=d;this.tp=null;var c=[],y=hU.L1[d];this.FC=[];for(var B in y){var r=parseInt(B.slice(1)),x=r%10==0?"":"\u2800\u2800- ";
c.push(x+y[B]);this.FC.push(r)}this.Q5=[new eO("Name",null,30),new eO("Description",null,30,4),d==0?new eO("File"," www.Photopea.com#i...",17):new kO("File",!1,!1),new eO("Thumbnail URL","* Use Imgur.com etc.",17),new gd("Category",c),new ff("Make Public"),new gs("<< Back",null,null,!0),new gs("Save",null,null,!0)];
if(d==0)this.Q5.push(new ed("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new ed("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(d==1)this.Q5.push(new ed("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(d!=0)this.Q5.push(new ed("Do not load any file to preserve the old version."));for(var S=0;S<this.Q5.length;
S++){var Z=this.Q5[S];W.appendChild(Z.n);Z.parent=this;if(S!=4&&S!=6)f.MZ(W);if(Z instanceof gs)Z.k("click",this.a1I,this);
if(d!=0&&S==2)Z.k(b.E.p,this.apW,this)}}hU.prototype=new d9;hU.prototype.apW=function(d){var W=this.Q5[2],c=W.h(),y=Object.keys(c),B=c[y[0]].buffer,r=fd.$Z(B),x=" json atn abr grd asl pat csh icc".split(" ")[this.vA];
if(r!=x){alert("This is a wrong file"+(r?" ("+r.toUpperCase()+")":"")+". You need to upload the "+x.toUpperCase()+" file.");
W.c({})}};hU.prototype.a1I=function(d){if(d.target==this.Q5[6]){this.T(new bR("back"));return}var W=this.Q5[3].h().trim(),c=W.startsWith("http")&&(W.endsWith(".jpeg")||W.endsWith(".jpg")||W.endsWith(".png")||W.endsWith(".gif"));
if(!c){alert("Thumbnail URL is incorrect.");return}var y=new XMLHttpRequest,B="mirror.php?url="+encodeURIComponent(W);
y.open("GET",B);y.responseType="arraybuffer";y.onload=this.ac$.bind(this);y.send()};hU.prototype.ac$=function(d){var W=d.target.response,c=W.byteLength;
if(c>2e5&&fd.$Z(W)!="gif"){alert("Thumbnail is too large ("+cA.oZ(c)+"). Make it under 200 kB.");return}var y=this.Q5[2].h(),B=Object.keys(y);
if(this.vA!=0&&B.length==0&&(this.tp==null||this.tp.file==null||this.tp.file=="")){alert("You need to select a file.");
return}if(this.vA!=0&&B.length!=0){console.log(y);bw.Qs.ac1(y[B[0]].buffer,B[0],this.aqZ.bind(this),"pp-resources");
return}this.aqZ()};hU.prototype.aqZ=function(d){var W=this.vA,c="name desc file thmb catg publ".split(" "),y=this.tp;
for(var S=0;S<6;S++){if(W!=0&&S==2)continue;var B=this.Q5[S].h();if(S<=3){B=B.trim();if(B.length==0){alert("One of values is empty.");
return}}if(S==2){var r=B.split("#i");if(r.length!=2||r[1].length!=8){alert("File ID is incorrect.");
return}B=r.pop()}if(S==4)B=this.FC[B];y[c[S]]=B}if(W!=0){if(d)y.file=d;else if(y.file==null){alert("Select a file from your computer.");
return}}if(y.utme.length==0)y.utme=""+Math.round(Date.now()/1e3);y.type=W;this.T(new bR("save"))};hU.prototype._=function(){};
hU.prototype.c=function(d){var W=this.tp=JSON.parse(JSON.stringify(d)),c=this.vA,y="name desc file thmb catg publ".split(" ");
for(var S=0;S<6;S++){if(c!=0&&S==2)continue;var B=W[y[S]];if(B!=""&&S==2)B="https://photopea.com#i"+B;
if(S==4)B=this.FC.indexOf(B);if(S==5&&B==null)B=!0;this.Q5[S].c(B)}};hU.prototype.h=function(){return JSON.parse(JSON.stringify(this.tp))};
hU.L1=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function f7(d){d9.call(this);this.$L=d;this.n=f.F("div","");this.kw=[];this.or=null;this.a58=[]}f7.prototype=new d9;
f7.prototype.Fd=function(d){};f7.prototype.uB=function(){return!1};f7.prototype.z2=function(d,W){};f7.prototype.lz=function(d,W){};
f7.prototype.Vf=function(d){};f7.prototype.c=function(d,W,c,y,B,r){var x=[],Z=this.kw,i=0,k=eR.uA["s"+this.$L];
if(this.$L=="Dspl")this.NW(d,x,r);else k?k(d,x,r):this.NW(d,x,r);for(var S=0;S<Z.length;S++)if(!(Z[S]instanceof ed))Z[S].c(x[i++]);
if(d.RndS)this.or=d.RndS.v};f7.prototype.h=function(){var d=eR.qw(this.$L),W=[],c=this.kw,y=0;for(var S=0;
S<c.length;S++)if(!(c[S]instanceof ed))W[y++]=c[S].h();var B=eR.uA["g"+this.$L];if(this.$L=="Dspl")this.VJ(d,W);
else B?B(d,W):this.VJ(d,W);if(d.RndS)d.RndS.v=this.or;return d};f7.prototype.z9=function(d){};f7.prototype.ZG=function(d){if(d&&d.target instanceof gs){this.or=Math.floor(Math.random()*4294967295)}var W=this.a58;
for(var S=0;S<W.length;S+=2){var c=this.kw[W[S]],y=this.kw[W[S+1]],B=c.h(),r=y.h();if(d.target==c)y.c(Math.max(B,r));
else c.c(Math.min(B,r))}this.T(new bR(b.E.p))};f7.prototype._=function(){for(var S=0;S<this.kw.length;
S++)this.kw[S]._();var d=this.ajg;if(d)d._()};f7.prototype.wa=function(d){f.CH(this.n,"form");var W=this.kw;
for(var S=0;S<W.length;S++){var c=W[S];c.parent=this;c.k(b.E.p,this.ZG,this);this.n.appendChild(c.n);
if(c instanceof ff&&W[S+1]instanceof b2)continue;if(d&&d.indexOf(S)!=-1)f.WH(this.n);else f.MZ(this.n)}var y=eR.qw(this.$L);
if(y.RndS){var B=this.ajg=new gs([25,1,2],null,null,!0);this.n.appendChild(B.n);B.k("click",this.ZG,this)}};
f7.prototype.Ea=function(d){return!1};f7.prototype.el=function(){return!1};f7.prototype.RQ=function(d,W,c,y,B){};
f7.prototype.f9=function(d,W,c,y,B){};f7.prototype.AZ=function(d,W,c,y,B){};f7.prototype.VJ=function(d,W){};
f7.prototype.NW=function(d,W){};f7.prototype.Bd=function(d){var W=d.target.h().indexOf(!0)!=-1,c=new bR(b.E.V,!0);
c.vd=!0;c.data={d:W?b.H.Fy:b.H.HP,f:X.vz};this.T(c);c=new bR(b.E.v,!0);c.f=X.vz;c.vd=!0;c.data={d:"supertool",f:W?this:null};
this.T(c)};f7.aig=function(d){d.el=function(){return!0};d.RQ=function(W,c,y,B,r){this.tR=!0;this.aiz(W,r)};
d.f9=function(W,c,y,B,r){if(!this.tR)return;this.aiz(W,r)};d.AZ=function(W,c,y,B,r){this.tR=!1};d.aiz=function(W,c){var y=new a8(0,0,W.m,W.i);
if(W.u)y=W.u.rect;var B=W.Q.q9(c.x,c.y);B.x-=y.x;B.y-=y.y;function r(x,Z){return Math.round(Math.max(0,Math.min(100,100*x/Z)))}this.kw[2].c(r(B.x,y.m));
this.kw[3].c(r(B.y,y.i));this.ZG()}};f7.Bokh=function(){f7.call(this,"Bokh");this.kw=[new gd("Depth Map",["A","b"]),new f2("Focal Distance",0,255),new ff([4,11]),new gd([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new f2([12,56],0,100),new f2([12,15],0,360),new f2([12,2],0,100),new f2([4,13],0,255),new f2([24,6],0,100),new ij([12,58],[[12,59,0],[12,59,1]]),new ff([12,60])];
this.wa([5,7])};f7.Bokh.prototype=new f7;f7.Bokh.prototype.NW=function(d,W,c){var y=[[22,5,0],[6,5,3],[6,2]],B=d.BkDi.v.BtDi,r=d.BkDc,x=0;
if(B=="BeIn")x=0;else if(B=="BeIt"&&r.v.BtDc=="BeCt")x=1;else if(B=="BeIt"&&r.v.BtDc=="BeCm")x=2;else x=3+r.v;
for(var S=0;S<c[1].length;S++)y.push(c[1][S].name);this.kw[0].oe(y,[3]);W[0]=x;W[1]=d.BkDp.v;W[2]=d.BkDs.v;
W[3]=parseInt(d.BkIs.v.BtIs.slice(3))-3;W[4]=d.BkIb.v;W[5]=d.BkIr.v;W[6]=d.BkSb.v;W[7]=d.BkSt.v;W[8]=d.BkNa.v;
W[9]=d.BkNt.v.BtNt=="BeNu"?0:1;W[10]=d.BkNm.v};f7.Bokh.prototype.VJ=function(d,W){var c;if(W[0]==0){c="BeIn";
delete d.BkDc}else if(W[0]<3){c="BeIt";d.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][W[0]-1]}}}else{c="BeIa";
d.BkDc={t:"long",v:W[0]-3}}d.BkDi.v.BtDi=c;d.BkDp.v=W[1];d.BkDs.v=W[2];d.BkIs.v.BtIs="BeS"+(3+W[3]);
d.BkIb.v=W[4];d.BkIr.v=W[5];d.BkSb.v=W[6];d.BkSt.v=W[7];d.BkNa.v=W[8];d.BkNt.v.BtNt=["BeNu","BeNg"][W[9]];
d.BkNm.v=W[10]};f7.oilPaint=function(){f7.call(this,"oilPaint");this.kw=[new f2([12,56],.1,10,"px",!0),new f2("Cleanliness",0,10,"px",!0),new f2([12,38],.1,10,null,!0),new f2("Bristle Detail",0,10,null,!0),new ff("Lighting"),new f2("Shine",0,10,null,!0),new dv([12,15])];
this.wa()};f7.oilPaint.prototype=new f7;f7.oilPaint.prototype.NW=function(d,W){var c="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var S=0;S<c.length;S++)W[S]=d[c[S]].v;W[6]=[d.LghD.v]};f7.oilPaint.prototype.VJ=function(d,W){var c="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var S=0;S<c.length;S++)d[c[S]].v=W[S];d.LghD.v=W[6][0]};f7.TrcC=function(){f7.call(this,"TrcC");
this.kw=[new f2("Level",0,255),new ij([12,69],[[19,4,1],[19,4,0]])];this.wa()};f7.TrcC.prototype=new f7;
f7.TrcC.prototype.NW=function(d,W){W[0]=d.Lvl.v;W[1]=["Lwr","Upr"].indexOf(d.Edg.v.CntE)};f7.TrcC.prototype.VJ=function(d,W){d.Lvl.v=W[0];
d.Edg.v.CntE=["Lwr","Upr"][W[1]]};f7["Dfs "]=function(){f7.call(this,"Dfs ");this.kw=[new ij([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.wa()};f7["Dfs "].prototype=new f7;f7["Dfs "].prototype.NW=function(d,W){W[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(d.Md.v.DfsM)};
f7["Dfs "].prototype.VJ=function(d,W){d.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][W[0]]};f7.Embs=function(){f7.call(this,"Embs");
this.kw=[new dv([12,15]),new f2([12,42],1,100,"px"),new f2([12,57],1,500,"%")];this.wa()};f7.Embs.prototype=new f7;
f7.Embs.prototype.NW=function(d,W){W[0]=[d.Angl.v];W[1]=d.Hght.v;W[2]=d.Amnt.v};f7.Embs.prototype.VJ=function(d,W){d.Angl.v=W[0][0];
d.Hght.v=W[1];d.Amnt.v=W[2]};f7["Wnd "]=function(){f7.call(this,"Wnd ");this.kw=[new ij([12,32],["Wind","Blast","Stagger"]),new ij([12,33],["From the Right","From the Left"])];
this.wa()};f7["Wnd "].prototype=new f7;f7["Wnd "].prototype.NW=function(d,W){W[0]=["Wnd","Blst","Stgr"].indexOf(d.WndM.v.WndM);
W[1]=["Left","Rght"].indexOf(d.Drct.v.Drct)};f7["Wnd "].prototype.VJ=function(d,W){d.WndM.v.WndM=["Wnd","Blst","Stgr"][W[0]];
d.Drct.v.Drct=["Left","Rght"][W[1]]};f7.denoise=function(){f7.call(this,"denoise");this.kw=[new f2([12,64],0,10),new f2([12,65],0,100,"%")];
this.wa()};f7.denoise.prototype=new f7;f7.denoise.prototype.NW=function(d,W){var c=d.channelDenoise.v[0].v;
W[0]=c.Amnt.v;W[1]=c.EdgF.v};f7.denoise.prototype.VJ=function(d,W){var c=d.channelDenoise.v[0].v;c.Amnt.v=W[0];
c.EdgF.v=W[1]};f7.lightFilterGradient=function(){f7.call(this,"lightFilterGradient");this.kw=[new f2([24,3,1],0,100,"px",1,!0),new f2([12,38],0,200,"%"),new ff([4,11]),new f2("High",0,100,"%"),new f2("Medium",0,100,"%"),new f2("Low",0,100,"%")];
this.wa()};f7.lightFilterGradient.prototype=new f7;f7.lightFilterGradient.prototype.NW=function(d,W){W[0]=d.blur.v;
W[1]=d.textureScale.v*100;W[2]=d.Scl.v==-1;var c=d.Dtl.v;W[3]=c[0].v*100;W[4]=c[1].v*100;W[5]=c[2].v*100};
f7.lightFilterGradient.prototype.VJ=function(d,W){d.blur.v=W[0];d.textureScale.v=W[1]/100;d.Scl.v=W[2]?-1:1;
var c=d.Dtl.v;c[0].v=W[3]/100;c[1].v=W[4]/100;c[2].v=W[5]/100};f7.Fbrs=function(){f7.call(this,"Fbrs");
this.kw=[new f2("Variance",1,64),new f2([12,64],1,64)];this.wa()};f7.Fbrs.prototype=new f7;f7.Fbrs.prototype.NW=function(d,W){W[0]=d.Vrnc.v;
W[1]=d.Strg.v};f7.Fbrs.prototype.VJ=function(d,W){d.Vrnc.v=W[0];d.Strg.v=W[1]};f7.LnsF=function(){f7.call(this,"LnsF");
this.kw=[new f2([12,2],10,300,"%"),new ij([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new f2("Position X",0,100,"%"),new f2("Position Y",0,100,"%")];
this.wa()};f7.LnsF.prototype=new f7;f7.LnsF.prototype.NW=function(d,W){W[0]=d.Brgh.v;W[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(d.Lns.v.Lns);
var c=d.FlrC.v;W[2]=Math.round(c.Hrzn.v*100);W[3]=Math.round(c.Vrtc.v*100)};f7.LnsF.prototype.VJ=function(d,W){d.Brgh.v=W[0];
d.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][W[1]];var c=d.FlrC.v;c.Hrzn.v=W[2]/100;c.Vrtc.v=W[3]/100};f7.aig(f7.LnsF.prototype);
f7.blendOptions=function(){f7.call(this,"blendOptions");this.kw.push(new gd([12,19,0],dB.mX,dB.Pu));
this.kw.push(new f2([12,0],0,100,"%"));this.wa()};f7.blendOptions.prototype=new f7;f7.blendOptions.prototype.NW=function(d,W){W[0]=dB.CL.indexOf(d.Md.v.BlnM);
W[1]=d.Opct.v.val};f7.blendOptions.prototype.VJ=function(d,W){d.Md.v.BlnM=dB.CL[W[0]];d.Opct.v.val=W[1]};
f7.LnCr=function(){f7.call(this,"LnCr");this.kw=[new f2([12,57],-100,100),new f2([12,38],10,150,"%")];
this.wa()};f7.LnCr.prototype=new f7;f7.LnCr.prototype.NW=function(d,W){W[0]=d.LnIa.v;W[1]=d.LnSi.v};
f7.LnCr.prototype.VJ=function(d,W){d.LnIa.v=W[0];d.LnSi.v=W[1]};f7.adaptCorrect=function(){f7.call(this,"adaptCorrect");
var d=fs;this.kw=[new ed([19,6,0]),new d([12,57],0,100,"%"),new d("Tone",0,100,"%"),new d([12,56],0,200,"px"),new ed([19,6,2]),new d([12,57],0,100,"%"),new d("Tone",0,100,"%"),new d([12,56],0,200,"px"),new ed([3]),new d([13,0],-100,100)];
this.wa([3,7])};f7.adaptCorrect.prototype=new f7;f7.adaptCorrect.prototype.NW=function(d,W){var c=d.sdwM.v;
W[0]=c.Amnt.v.val;W[1]=c.Wdth.v.val;W[2]=c.Rds.v;var c=d.hglM.v;W[3]=c.Amnt.v.val;W[4]=c.Wdth.v.val;
W[5]=c.Rds.v;W[6]=d.ClrC.v};f7.adaptCorrect.prototype.VJ=function(d,W){var c=d.sdwM.v;c.Amnt.v.val=W[0];
c.Wdth.v.val=W[1];c.Rds.v=W[2];var c=d.hglM.v;c.Amnt.v.val=W[3];c.Wdth.v.val=W[4];c.Rds.v=W[5];d.ClrC.v=W[6]};
f7.Flam=function(){f7.call(this,"Flam");var d=this.kw=[new gd([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new f2([12,80,0],20,1e3,"px"),new ff("Randomize Length"),new f2([12,41],5,600,"px"),new f2([12,15],0,360,"\xB0"),new f2("Interval",10,200,"px"),new ff("Adapt Interval for Loops"),new b2(!1),new gd([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new f2("Turbulent",0,100),new f2("Jag",0,100),new f2([12,0],0,100),new f2("Lines",2,30),new f2("Bottom",0,100),new gd([12,22],["Normal","Violent","Flat"]),new gd([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new ff("Randomize Shape"),new f2("Random Seed",0,100)];
this.wa();var W=this.n;f.qf(W);var c=new ij(null,["Basic","Advanced"]);c.k(b.E.p,this.ao0,this);W.appendChild(c.n);
f.WH(W);var y=f.F("div"),B=f.F("div");this.ajD=[y,B];W.appendChild(y);for(var S=0;S<d.length;S++){(S<9?y:B).appendChild(d[S].n);
if(S==6)f.MZ(y)}d[0].k(b.E.p,this.axX,this);this.axX()};f7.Flam.prototype=new f7;f7.Flam.prototype.axX=function(d){var W=this.kw,S=W[0].h();
W[1].OB(S!=0&&S!=5);W[2].OB(S!=0&&S!=5);W[4].OB(S!=0&&S!=5&&S!=1);W[5].OB(S!=0&&S!=5);W[6].OB(S!=0&&S!=5)};
f7.Flam.prototype.ao0=function(d){var S=d.target.h(),W=this.ajD,c=this.n;c.removeChild(W[1-S]);c.appendChild(W[S])};
f7.boxblur=function(){f7.call(this,"boxblur");this.kw=[new f2([12,56],1,200," px")];this.wa()};f7.boxblur.prototype=new f7;
f7.boxblur.prototype.NW=function(d,W){W[0]=d.Rds.v.val};f7.boxblur.prototype.VJ=function(d,W){d.Rds.v.val=W[0]};
f7.GsnB=function(){f7.call(this,"GsnB");this.kw=[new f2([12,56],.1,400,"px",1,!0)];this.wa()};f7.GsnB.prototype=new f7;
f7.Dila=function(){f7.call(this,"Dila");this.kw=[new f2([11,12,1],0,20,"px",0),new f2([12,56],0,400,"px",0,!0)];
this.wa()};f7.Dila.prototype=new f7;f7.MtnB=function(){f7.call(this,"MtnB");this.kw=[new dv([12,15]),new f2([12,28],1,100," px")];
this.wa()};f7.MtnB.prototype=new f7;f7.RdlB=function(){f7.call(this,"RdlB");this.kw=[new f2([12,57],1,100),new ij([12,36],["Spin","Zoom"]),new f2("Position X",0,100,"%"),new f2("Position Y",0,100,"%")];
this.wa()};f7.RdlB.prototype=new f7;f7.RdlB.prototype.NW=function(d,W){W[0]=d.Amnt.v;W[1]=["Spn","Zm"].indexOf(d.BlrM.v.BlrM);
W[2]=d.Cntr.v.Hrzn.v*100;W[3]=d.Cntr.v.Vrtc.v*100};f7.RdlB.prototype.VJ=function(d,W){d.Amnt.v=W[0];
d.BlrM.v.BlrM=["Spn","Zm"][W[1]];d.Cntr.v.Hrzn.v=W[2]/100;d.Cntr.v.Vrtc.v=W[3]/100};f7.aig(f7.RdlB.prototype);
f7.Dspl=function(){f7.call(this,"Dspl");this.kw=[new gd([6,36,3],["a","b"]),new f2([22,4,0],-100,100,"px"),new f2([22,4,1],-100,100,"px"),new gd([24,18,0],[[24,18,3],[24,18,2]])];
this.wa()};f7.Dspl.prototype=new f7;f7.Dspl.prototype.NW=function(d,W,c){this.a59=[];this.jH=[];var y=-1,B=c?c[0]:null;
if(B==null)B=this.a06;else this.a06=B;if(B)for(var S=0;S<B.length;S++){var r=B[S];this.a59.push(r.Kh.trim());
this.jH.push(r.QY);if(r.QY==d.DspF.v.pth)y=S}this.kw[0].oe(this.a59);W[0]=y==-1?0:y;W[1]=d.HrzS.v;W[2]=d.VrtS.v;
W[3]=["WrpA","RptE"].indexOf(d.UndA.v.UndA)};f7.Dspl.prototype.VJ=function(d,W){var c=this.a06;if(this.jH.length==0)return;
d.DspF.v.pth=this.jH[W[0]];d.HrzS.v=W[1];d.VrtS.v=W[2];d.UndA.v.UndA=["WrpA","RptE"][W[3]];var y=c[W[0]];
y.Li();var B=y.Ma[1],r=B.m,x=B.i,Z=v.R(B.P());v.ou(y.Ma[0],Z);var i=[r&255,r>>>8,0,0,x&255,x>>>8,0,0,3,0];
for(var k=0;k<2;k++)for(var S=0;S<Z.length;S++)i.push(Z[S]);for(var S=0;S<1e3;S++)i.push(0);d.DspD={t:"tdta",v:i};
d.EmbF={t:"bool",v:!0}};f7.Pnch=function(){f7.call(this,"Pnch");this.kw=[new f2([12,57],-100,100,"%")];
this.wa()};f7.Pnch.prototype=new f7;f7["Plr "]=function(){f7.call(this,"Plr ");this.kw=[new ij(null,["Rect to Polar","Polar to Rect"])];
this.wa()};f7["Plr "].prototype=new f7;f7.Rple=function(){f7.call(this,"Rple");this.kw=[new f2([12,57],-999,999),new gd([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.wa()};f7.Rple.prototype=new f7;f7["Shr "]=function(){f7.call(this,"Shr ");this.kw=[new gO(!0,!0),new gd([24,18,0],[[24,18,3],[24,18,2]])];
this.wa()};f7["Shr "].prototype=new f7;f7["Shr "].prototype.NW=function(d,W){var c=new dT(0,255/127,255/127,0,-2,128),y=JSON.parse(JSON.stringify(d.ShrP.v));
v.YF.e(y,c);W[0]=y;W[1]=["WrpA","RptE"].indexOf(d.UndA.v.UndA)};f7["Shr "].prototype.VJ=function(d,W){var c=new dT(0,255/127,255/127,0,-2,128);
c.QE();v.YF.e(W[0],c);d.ShrP.v=W[0];d.ShrE.v=W[0].length-1;d.UndA.v.UndA=["WrpA","RptE"][W[1]]};f7.Sphr=function(){f7.call(this,"Sphr");
this.kw=[new f2([12,57],-100,100),new gd([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.wa()};f7.Sphr.prototype=new f7;
f7.Sphr.prototype.NW=function(d,W){W[0]=d.Amnt.v;W[1]=["Nrml","HrzO","VrtO"].indexOf(d.SphM.v.SphM)};
f7.Sphr.prototype.VJ=function(d,W){d.Amnt.v=W[0];d.SphM.v.SphM=["Nrml","HrzO","VrtO"][W[1]]};f7.Dthr=function(){f7.call(this,"Dthr");
this.kw=[new gd("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new ij("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.wa()};f7.Dthr.prototype=new f7;f7.Dthr.prototype.NW=function(d,W){W[0]=d.Plte.v;W[1]=d.Mthd?d.Mthd.v:1};
f7.Dthr.prototype.VJ=function(d,W){d.Plte.v=W[0];d.Mthd.v=W[1]};f7.Part=function(){f7.call(this,"Part");
this.kw=[new f2([15,5,1],0,100,"%"),new f2([12,14,0],1,50,"px"),new f2([12,34],0,100,"%"),new f2([12,2],10,1e3,"%"),new b2(!0),new f2("Time",0,1,null,3),new f2("Turbulence",0,100,"%"),new ff("Blink"),new ff("Fall")];
this.wa([4])};f7.Part.prototype=new f7;f7.Part.prototype.NW=function(d,W){W[0]=d.Cont.v;W[1]=d.Size.v;
W[2]=d.Dpth.v;W[3]=d.Brgh.v;W[4]=d.Clr.v;W[5]=d.Time.v;W[6]=d.Turb.v;W[7]=d.Blnk.v;W[8]=d.Fall.v};f7.Part.prototype.VJ=function(d,W){d.Cont.v=W[0];
d.Size.v=W[1];d.Dpth.v=W[2];d.Brgh.v=W[3];d.Clr.v=W[4];d.Time.v=W[5];d.Turb.v=W[6];d.Blnk.v=W[7];d.Fall.v=W[8]};
f7.Twrl=function(){f7.call(this,"Twrl");this.kw=[new f2([12,15],-999,999)];this.wa()};f7.Twrl.prototype=new f7;
f7.Wave=function(){f7.call(this,"Wave");this.a58=[1,2,3,4];this.kw=[new f2("Number of Generators",1,100),new fs("Min Length",1,999),new fs("Max Length",1,999),new fs("Min Ampl.",1,999),new fs("Max Ampl.",1,999),new fs("Scale X",1,100,"%"),new fs("Scale Y",1,100,"%"),new ij([12,44],["Sine","Triangle",[12,93,3]]),new gd([24,18,0],[[24,18,3],[24,18,2]])];
this.wa()};f7.Wave.prototype=new f7;f7.ZgZg=function(){f7.call(this,"ZgZg");this.kw=[new f2([12,57],-100,100),new f2("Ridges",0,20),new gd([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.wa()};f7.ZgZg.prototype=new f7;f7.surfaceBlur=function(){f7.call(this,"surfaceBlur");this.kw=[new f2([12,56],1,200," px"),new f2([4,13],1,255," px")];
this.wa()};f7.surfaceBlur.prototype=new f7;f7.surfaceBlur.prototype.NW=function(d,W){W[0]=d.Rds.v.val;
W[1]=d.Thsh.v};f7.surfaceBlur.prototype.VJ=function(d,W){d.Rds.v.val=W[0];d.Thsh.v=W[1]};f7.AdNs=function(){f7.call(this,"AdNs");
this.kw=[new f2([12,57],0,200," %"),new gd([12,58],[[12,59,1],[12,59,0]]),new ff([12,60])];this.wa()};
f7.AdNs.prototype=new f7;f7.DstS=function(){f7.call(this,"DstS");this.kw=[new f2([12,56],1,200," px"),new f2([4,13],1,255," px")];
this.wa()};f7.DstS.prototype=new f7;f7["Mdn "]=function(){f7.call(this,"Mdn ");this.kw=[new f2([12,56],1,200," px")];
this.wa()};f7["Mdn "].prototype=new f7;f7["Mdn "].prototype.NW=function(d,W){W[0]=d.Rds.v.val};f7["Mdn "].prototype.VJ=function(d,W){d.Rds.v.val=W[0]};
f7.ClrH=function(){f7.call(this,"ClrH");this.kw=[new f2([12,56],4,100," px")];for(var S=1;S<4;S++)this.kw.push(new f2("Angle "+S,0,90," \xB0"));
this.wa()};f7.ClrH.prototype=new f7;f7.ClrH.prototype.NW=function(d,W){W[0]=d.Rds.v;for(var S=1;S<4;
S++)W[S]=d["Ang"+S].v};f7.ClrH.prototype.VJ=function(d,W){d.Rds.v=W[0];for(var S=1;S<4;S++)d["Ang"+S].v=W[S]};
f7.ClrH.prototype._=function(){var d=this.kw;d[0]._();for(var S=1;S<4;S++)d[S].N2(ay.get([12,15])+" "+S)};
f7.Crst=function(){f7.call(this,"Crst");this.kw=[new f2([12,61],3,100," px")];this.wa()};f7.Crst.prototype=new f7;
f7.Crst.prototype.NW=function(d,W){W[0]=d.ClSz.v};f7.Crst.prototype.VJ=function(d,W){d.ClSz.v=W[0]};
f7.Mztn=function(){f7.call(this,"Mztn");this.kw.push(new gd([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.jH="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.wa()};f7.Mztn.prototype=new f7;
f7.Mztn.prototype.NW=function(d,W){W[0]=this.jH.indexOf(d.MztT.v.MztT)};f7.Mztn.prototype.VJ=function(d,W){d.MztT.v.MztT=this.jH[W[0]]};
f7["Msc "]=function(){f7.call(this,"Msc ");this.kw=[new f2([12,61],2,200," px")];this.wa()};f7["Msc "].prototype=new f7;
f7["Msc "].prototype.NW=function(d,W){W[0]=d.ClSz.v.val};f7["Msc "].prototype.VJ=function(d,W){d.ClSz.v.val=W[0]};
f7.Pntl=function(){f7.call(this,"Pntl");this.kw=[new f2([12,61],3,100," px")];this.wa()};f7.Pntl.prototype=new f7;
f7.Pntl.prototype.NW=function(d,W){W[0]=d.ClSz.v};f7.Pntl.prototype.VJ=function(d,W){d.ClSz.v=W[0]};
f7.smartSharpen=function(){f7.call(this,"smartSharpen");this.kw=[new f2([12,57],1,200,"%"),new f2([12,56],0,200,"px",1,!0)];
this.wa()};f7.smartSharpen.prototype=new f7;f7.smartSharpen.prototype.NW=function(d,W){W[0]=d.Amnt?d.Amnt.v.val:200;
W[1]=d.Rds?d.Rds.v.val:1};f7.smartSharpen.prototype.VJ=function(d,W){d.Amnt.v.val=W[0];d.Rds.v.val=W[1]};
f7.UnsM=function(){f7.call(this,"UnsM");this.kw=[new f2([12,57],1,200," %"),new f2([12,56],.1,400,"px",1,!0),new f2([4,13],0,255," ")];
this.wa()};f7.UnsM.prototype=new f7;f7.HghP=function(){f7.call(this,"HghP");this.kw=[new f2([12,56],.1,400,"px",1,!0)];
this.wa()};f7.HghP.prototype=new f7;f7.HsbP=function(){f7.call(this,"HsbP");this.kw=[new ij("Input",["RGB","HSB","HSL"]),new ij("Output",["RGB","HSB","HSL"])];
this.wa()};f7.HsbP.prototype=new f7;f7["Mxm "]=function(){f7.call(this,"Mxm ");this.kw=[new f2([12,56],.1,200," px",1,!0),new gd([12,76,1],[[12,93,3],"Circle"])];
this.wa()};f7["Mxm "].prototype=new f7;f7["Mnm "]=function(){f7.call(this,"Mnm ");this.kw=[new f2([12,56],.1,200," px",1,!0),new gd([12,76,1],[[12,93,3],"Circle"])];
this.wa()};f7["Mnm "].prototype=new f7;f7.Ofst=function(){f7.call(this,"Ofst");this.kw=[new f2([22,4,0],-1024,1024," px"),new f2([22,4,1],-1024,1024," px"),new gd([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.wa()};f7.Ofst.prototype=new f7;f7.Kale=function(){f7.call(this,"Kale");this.kw=[new fs("Mirrors",2,20),new fs([12,15],0,360,"\xB0")];
this.wa()};f7.Kale.prototype=new f7;f7.Kale.prototype.NW=function(d,W){W[0]=d.Mirr.v;W[1]=d.MRot.v};
f7.Kale.prototype.VJ=function(d,W){d.Mirr.v=W[0];d.MRot.v=W[1]};f7.Rept=function(){f7.call(this,"Rept");
this.kw=[new fs([12,38],1,300," %"),new fs("Row Shift",-50,50," %"),new fs("Space X",-99,200," %"),new fs("Space Y",-99,200," %"),new ff([4,16,2]),new dv([12,15])];
this.wa()};f7.Rept.prototype=new f7;f7.Rept.prototype.NW=function(d,W){W[0]=d.Scl.v.val;W[1]=d.Rsft.v.val;
W[2]=d.SpcX.v.val;W[3]=d.SpcY.v.val;W[4]=d.SpcC.v;W[5]=[d.Angl.v]};f7.Rept.prototype.VJ=function(d,W){d.Scl.v.val=W[0];
d.Rsft.v.val=W[1];d.SpcX.v.val=W[2];d.SpcY.v.val=W[3];d.SpcC.v=W[4];d.Angl.v=W[5][0];return d};f7.Ctoa=function(){f7.call(this,"Ctoa");
this.kw=[new ed([13,0]),new b2(!0),new f2(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new f2(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.wa()};f7.Ctoa.prototype=new f7;f7.Ctoa.prototype.NW=function(d,W){W[0]=d.Clr.v;W[1]=d.Trsp.v.val;
W[2]=d.Opct.v.val};f7.Ctoa.prototype.VJ=function(d,W){d.Clr.v=W[0];d.Trsp.v.val=W[1];d.Opct.v.val=W[2]};
f7.LqFy=function(){f7.call(this,"LqFy");this.WP=!1;this.zp=!1;this.NV=null;this.avs=null;this.f=0;this.a4=-1;
this.s={U$:[[{f:{id:0,name:[24,1,0,1,0],sN:"liq/smudge"}}],[{f:{id:1,name:[24,1,0,1,1],sN:"liq/reconstruct"}}],[{f:{id:2,name:[24,1,0,1,2],sN:"liq/smooth"}}],[{f:{id:3,name:[24,1,0,1,3],sN:"liq/twirl"}}],[{f:{id:4,name:[24,1,0,1,4],sN:"liq/shrink"}}],[{f:{id:5,name:[24,1,0,1,5],sN:"liq/blow"}}],[{f:{id:6,name:[24,1,0,1,6],sN:"liq/pleft"}}],[{f:{id:7,name:"Hand",sN:"tools/hand"}}],[{f:{id:8,name:"Zoom In",sN:"zoomIn"}}],[{f:{id:9,name:"Zoom Out",sN:"zoomOut"}}]],keys:[]};
this.oP=new dn(this.s,!1);this.oP.xF(0);this.oP.k(b.E.V,this.VY,this);this.Y3=bB.S5();this.Ex=null;this.j1=[];
this.jQ=-1;this.xn=null;this.ac7=null;this.zy=null;this.lH=null;this.Bk=null;var d=f.F("div","flexrow");
this.Ke=d;this.n.appendChild(d);d.appendChild(this.oP.n);this.view=new h6(!0);this.view.z2(100,100);
this.view.k("mousedown",this.iZ,this);this.view.k("mousemove",this.S0,this);this.view.k("mouseup",this.NC,this);
this.view.k("zoom",this.E0,this);d.appendChild(this.view.n);var W=f.F("div","form");d.appendChild(W);
this.TG=W;W.style.width="230px";this.Ft=[new f2([12,14,0],0,1e3,null,!1,!0),new f2([12,74],0,100,null,!1,!1),new f2([12,84],0,100,null,!1,!1),new ff([12,46]),new f2([12,0],0,100,null,!1,!1),new ff([24,18,5])];
var c=this.Y3.Brsh.v;c.Dmtr.v.val=100;var y=[100,50,100,!1,100,!0];for(var S=0;S<this.Ft.length;S++){var B=this.Ft[S];
B.c(y[S]);if(S==4)B.TB();B.k(b.E.p,this.aqh,this);W.appendChild(B.n)}var r=this.av2=new gs([1,12,2],!0,null,!0);
r.k("click",this.S_,this);W.appendChild(r.n);this.ajj=this.PO.bind(this);this.d1=new d9;this.d1.n=f.F("div","floatcont");
this.bF=new gs("Menu",!1,null,!0);var x=this.bF.n;x.setAttribute("style","position:absolute; right:13px; top:47px");
f._0(x,this.aAM.bind(this))};f7.LqFy.prototype=new f7;f7.LqFy.prototype.uB=function(){return!0};f7.LqFy.prototype.Fd=function(d){this.TG.appendChild(d)};
f7.LqFy.prototype.aAM=function(d){if(f.ni(this.d1.n))return;d.stopPropagation();var W=this.bF.n.getBoundingClientRect();
this.d1.n.appendChild(this.TG);var c=new bR(b.E.V,!0);c.data={d:b.H.oV,dD:this.d1,x:W.right+W.width-290,y:W.top+W.height};
this.T(c)};f7.LqFy.prototype.z9=function(d){this.WP=d.S(bm.Oi);var W=X.UZ.oW(this.Y3,d);if(W!=null){this.Y3=W;
this.E0();this.Ft[0].c(W.Brsh.v.Dmtr.v.val)}else if(d.S(bm.Z7)&&d.S(bm.ss)){var c=this.j1;if(d.S(bm.Uo)){if(this.jQ+1<c.length)this.jQ++}else if(this.jQ>0)this.jQ--;
this.Ex.map=c[this.jQ].slice(0);this.xX(null)}else if(this.f<=6)this.view.z9(d);var y=this.f,B=-1,r=d.S(bm.Oi);
if(r&&this.a4==-1){if(y==0)B=1;if(y==4)B=5;if(y==5)B=4;if(B!=-1)this.a4=y}if(!r&&this.a4!=-1){B=this.a4;
this.a4=-1}if(B!=-1){this.f=B;this.oP.xF(this.f)}};f7.LqFy.prototype.VY=function(d){if(d.data.d==b.H.Fy){var W=this.f=d.data.f;
this.oP.xF(this.f);this.view.z9(W>6?h6.Hr(W-7):new bm)}};f7.LqFy.prototype.aqh=function(d){var W=d.currentTarget,S=this.Ft.indexOf(W),c=this.Y3.Brsh.v;
if(S==0){c.Dmtr.v.val=W.h();this.E0()}this.Ft[4].OB(this.Ft[3].h());if(S>2)this.xX(null)};f7.LqFy.prototype.Uz=function(){var d=this.j1;
this.jQ++;d[this.jQ]=this.Ex.map.slice(0);while(d.length>this.jQ+1)d.pop();while(d.length>50){d=d.slice(1);
this.jQ--}};f7.LqFy.prototype.iZ=function(d){this.NV=this.view.l7();this.avs=new aL(0,0);this.zp=!0;
window.requestAnimationFrame(this.ajj)};f7.LqFy.prototype.S0=function(d){var W=this.view.l7(),c=new aL(W.x-this.NV.x,W.y-this.NV.y);
if(this.f==0||this.f==6)this.alC(c);this.NV=W};f7.LqFy.prototype.NC=function(d){this.Uz();this.zp=!1};
f7.LqFy.prototype.PO=function(d){if(this.f!=0&&this.f!=6)this.alC(new aL(0,0));if(this.zp)window.requestAnimationFrame(this.ajj)};
f7.LqFy.prototype.alC=function(d){var W=this.Ex,c=W.Kp/this.xn.m,y=this.NV,B=this.Y3.Brsh.v,r=B.Dmtr.v.val,x=Date.now(),Z=W.Kp,i=W.fn,k=Math.sqrt(d.x*d.x+d.y*d.y),H=Math.max(1,Math.ceil(k/2)),V=d.x/H,g=d.y/H,N=y.clone(),C=this.f,w=this.Ft[1].h()/100,Y=this.Ft[2].h()/100,U=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],e=U[C*2],O=U[C*2+1],l=(1-w)*e+w*O,I=r*c/2;
for(var S=0;S<H;S++){var s=[];N.x+=V;N.y+=g;v.Iv.ar0(W.map,Z,i,C,N.x*c,N.y*c,I,w,Y,V*c,g*c,s,this.WP);
v.Iv.av0(Z,i,W.map,s,2*l*Y)}var z=new a8(0,0,Z,i),R=new a8(y.x*c,y.y*c,0,0);R.Lx(r*c*.5,r*c*.5);var t=R.clone();
t.offset(d.x*c,d.y*c);R=R.hB(t);var a=new a8(R.x/c,R.y/c,R.m/c,R.i/c);a=v.A.zk(a).nK(this.xn);this.Ft[5].c(!0);
this.xX(a)};f7.LqFy.prototype.E0=function(){var d=b8.xg(this.Y3,null,this.view.Es().O);this.view.Us(d)};
f7.LqFy.prototype.c=function(d,W,c,y,B){c=c.clone();if(W==null)return;if(!y.zI(c)){var r=c.hB(y),x=v.R(r.P()*4);
v.qR(W,c,x,r);W=x;c=r;var Z=v.R(r.P()*4);v.qR(B,y,Z,r);B=Z}c.x=c.y=0;this.zy=W;this.ac7=B;this.Bk=W.slice(0);
this.lH=W.slice(0);this.xn=c;this.Ex=eo.Nr(new Uint8Array(d.LqMe.v).buffer);var i=c.m,k=c.i;if(this.Ex.Kp/i<.22){this.Ex={Kp:Math.floor(i/4),fn:Math.floor(k/4)};
this.Ex.map=new Float32Array(this.Ex.Kp*this.Ex.fn*2)}this.j1=[];this.jQ=-1;this.Uz();this.xX(null);
this.view.N3(!0);this.E0()};f7.LqFy.prototype.h=function(){var d=eR.qw("LqFy"),W=new Uint8Array(eo.Fm(this.Ex)),c=[];
for(var S=0;S<W.length;S++)c.push(W[S]);d.LqMe.v=c;return d};f7.LqFy.prototype.z2=function(d,W){this.oP.z2(d,W);
var c=this.bF.n,y=this.TG;this.Ke.appendChild(y);this.Ke.appendChild(c);if(d>450&&d-W>200){y.style.marginLeft="1em";
this.Ke.removeChild(c);this.view.z2(d-238-45,W)}else{y.style.marginLeft="";this.Ke.removeChild(y);this.view.z2(d-40,W)}};
f7.LqFy.prototype._=function(){this.oP._();this.av2._();for(var S=0;S<this.Ft.length;S++)this.Ft[S]._()};
f7.LqFy.prototype.S_=function(){this.Ex.map.fill(0);this.Uz();this.xX(null)};f7.LqFy.prototype.xX=function(d){var W=this.xn,c=this.zy,y=this.Bk,B=this.Ex;
if(this.Ft[5].h())v.Iv.qG(c,this.lH,W.m,W.i,d,B.map,B.Kp,B.fn,0);else this.lH.set(c);if(this.Ft[3].vm()){v.qR(this.ac7,W,y,W,d?d:W);
v.l.Ip("norm",this.lH,W,y,W,d?d:W,this.Ft[4].h()/100)}else v.PY(this.lH,y);this.view.c([{H2:W,data:y.buffer}])};
f7.GEfc=function(){f7.call(this,"GEfc");this.dw=0;this.FU=0;this.zy=null;this.Bk=null;this.xn=null;this.kO=null;
this.tp=null;this.b8=0;this.I$=null;this.B8=null;var d=f.F("div","flexrow");this.Ke=d;this.n.appendChild(d);
this.view=new h6(null);this.view.z2(100,100);d.appendChild(this.view.n);this.Fh="";this.eF=270;var W=this.Is=f.F("div","form scrollable");
d.appendChild(W);W.setAttribute("style","width:"+this.eF+"px;");var c=this.gj=f.F("div","form");d.appendChild(c);
c.setAttribute("style","width:230px;  margin:0 10px");this.cO={};for(var y in ar.names){var B=new f7.GEfc.t5(y);
B.parent=this;this.cO[y]=B;B.k(b.E.p,this.anJ,this)}this.q3=!0;this.bF=new gs("Menu",null,null,!0);this.bF.k("click",this.aBU,this);
d.appendChild(this.bF.n);this.yp=new gs(">>",null,null,!0);this.yp.k("click",this.aAc,this);c.appendChild(this.yp.n);
this.NR=f.F("div");this.NR.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
c.appendChild(this.NR);this.yl=f.F("div");this.yl.style.minHeight="14em";this.yl.style.marginBottom="1em";
c.appendChild(this.yl);this.cy=f.F("div","lpbody scrollable");this.OZ=f.F("div","lpfoot");c.appendChild(this.cy);
c.appendChild(this.OZ);this.k("click",this.akM,this);this.Mz=[];gK._Z([[5,3],[5,4]],this.Mz,this.OZ,this.B7.bind(this))};
f7.GEfc.prototype=new f7;f7.GEfc.prototype.uB=function(){return!0};f7.GEfc.prototype.Fd=function(d){this.NR.appendChild(d)};
f7.GEfc.prototype.lz=function(d,W){this.kO=d;if(d.R5==d.qX)alert("Your foreground and a background color are identical.",4e3)};
f7.GEfc.prototype.aAc=function(d){var W=this.Is.style.display!="none";this.Is.style.display=W?"none":"";
this.yp.N2(W?"<<":">>");this.z2()};f7.GEfc.prototype.aBU=function(d){this.q3=!this.q3;this.z2()};f7.GEfc.prototype.z2=function(d,W){var c=this.Is.style.display!="none";
if(d!=null){this.dw=d;this.FU=W;if(d<1e3&&c||d>=1e3&&!c){this.aAc();c=!c}this.q3=d>600}else{d=this.dw;
W=this.FU}var y=this.q3?250+(c?this.eF:0):0;if(f.ni(this.gj)&&!this.q3){this.Ke.removeChild(this.Is);
this.Ke.removeChild(this.gj)}if(!f.ni(this.gj)&&this.q3){this.Ke.appendChild(this.Is);this.Ke.appendChild(this.gj)}this.Is.style.height=W+"px";
this.view.z2(d-y,W);this.cy.style.height=W-Math.max(this.yl.getBoundingClientRect().height,186)-96+"px";
this.bF.n.setAttribute("style","position:absolute; top:46px;  right:"+(y+16)+"px")};f7.GEfc.prototype.atI=function(){var d=fd.bj.get("img/beach",!0)[0],W=d.H2,c=this.Is,y=Math.floor(f.QX()*(this.eF-40)/3),B=~~(y*.7),r=new a8(0,0,y,B),x=v.R(y*B*4),Z=x.slice(0),i=Math.round(10*f.QX()),k=new ImageData(new Uint8ClampedArray(Z.buffer),y,B);
v.qR(new Uint8Array(d.data),W,x,new a8(Math.round((W.m-y)/2),Math.round((W.i-B)/2),y,B));var H=f.F("canvas"),V=H.getContext("2d");
H.width=y;H.height=B+Math.round(i*1.5);V.font=i+"px sans-serif";this.I$={};f.qf(c);var g=this.a4n.bind(this);
for(var S=0;S<ar.L1.length;S++){var N=ar.L1[S],C=f.F("div");c.appendChild(C);C.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
C.textContent=ay.get(N);for(var w in ar.names){var Y=ar.names[w];if(Y[0]!=S)continue;ar.xh(w,{rect:r,buffer:x},ar.qw(w),{Z:0,G:0,J:0},{Z:255,G:255,J:255},{rect:r,buffer:Z},{});
V.fillStyle="black";V.fillRect(0,0,500,500);V.putImageData(k,0,0);var U=ay.get(Y[1]);V.fillStyle="white";
V.fillText(U,(y-V.measureText(U).width)/2,B+Math.round(i*1.1));var e=f.F("div");c.appendChild(e);e.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
e.addEventListener("click",g,!1);var C=f.F("img");e.appendChild(C);C.setAttribute("src",H.toDataURL());
C.setAttribute("style","width:"+y/f.QX()+"px; margin-bottom:0px;");this.I$[w]=e}}};f7.GEfc.prototype.a4n=function(d){var W;
for(var c in this.I$)if(this.I$[c]==d.currentTarget)this.Fh=c;this.anJ()};f7.GEfc.prototype.B7=function(d){var W=gK.XK(this.Mz,d),c=this.tp.GEfs.v,y=c[this.b8].v;
if(W==0){c.push(JSON.parse(JSON.stringify(c[this.b8])));this.b8=c.length-1}else if(c.length>1){c.splice(this.b8,1);
if(this.b8==c.length)this.b8--}this.r0();this.xX()};f7.GEfc.prototype.anJ=function(d){var W=this.Fh,c;
if(d==null)c=ar.qw(W);else c=this.cO[W].h();this.tp.GEfs.v[this.b8].v=c;this.r0();this.xX()};f7.GEfc.prototype.c=function(d,W,c,y,B){var r=ay.get([24,0]);
if(this.I$==null||r!=this.B8)this.atI();this.B8=r;d=this.tp=JSON.parse(JSON.stringify(d));if(d.GEfs==null)d=this.tp={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:d}]}};
var x=d.GEfs.v;for(var S=0;S<x.length;S++)if(x[S].v.GELv==null)x[S].v.GELv={t:"bool",v:!0};this.b8=x.length-1;
this.r0();c=c.clone();if(W==null)return;if(!y.zI(c)&&ar.ak(d).x!=0){var Z=c.hB(y),i=v.R(Z.P()*4);v.qR(W,c,i,Z);
W=i;c=Z}c.x=c.y=0;this.zy=W;this.Bk=W.slice(0);this.xn=c;this.xX();this.view.N3()};f7.GEfc.prototype.akM=function(d){var W=d.data,S=W.Wr,c=this.tp.GEfs.v;
if(W.b9){c[S].v.GELv.v=!c[S].v.GELv.v;this.xX()}else this.b8=S;this.r0()};f7.GEfc.prototype.r0=function(){var d=this.tp.GEfs.v,W=d[this.b8].v,c=W.GEfk.v.GEft,y=this.yl;
if(ar.names[c]==null){alert("Unsupported gallery filter");f.qf(y)}else{this.Fh=c;for(var B in this.I$)f.V6(this.I$[B],"selected");
f.CH(this.I$[c],"selected");var r=this.cO[c];r.c(W);if(y.firstChild!=r.n){f.qf(y);y.appendChild(r.n)}}var x=[];
for(var S=0;S<d.length;S++){var Z=d[S].v,i=ar.names[Z.GEfk.v.GEft],k=new cu(S,!0,!0,null,i?i[1]:"Filter",S==this.b8,Z.GELv.v);
k.parent=this;x.push(k.n)}f.qf(this.cy);x.reverse();for(var S=0;S<x.length;S++)this.cy.appendChild(x[S]);
this.z2()};f7.GEfc.prototype.h=function(){return JSON.parse(JSON.stringify(this.tp))};f7.GEfc.prototype.xX=function(d){var W=this.xn,c=this.zy,y=this.Bk,B=this.Fh,r=this.tp,x=this.kO;
function Z(i){return{Z:i>>>16,G:i>>>8&255,J:i&255}}eR.xh("GEfc",{rect:this.xn,buffer:this.zy},r,Z(x.R5),Z(x.qX),{rect:this.xn,buffer:this.Bk},null);
this.view.c([{H2:W,data:y.buffer}])};f7.GEfc.prototype._=function(){for(var d in this.cO)this.cO[d]._();
gK.K7(this.Mz,["lrs/newlayer","lrs/bin"])};f7.GEfc.t5=function(d){d9.call(this);this.sy=d;this.n=f.F("div");
this.vH={};var W=ar.qw(d);for(var c in W){var y=null;if(c=="__name"||c=="classID"||c=="GEfk"||c=="GELv"||["FlRs"].indexOf(c)!=-1)continue;
else if(c=="EdgW")y=new f2("Edge Width",1,14);else if(c=="EdgB")y=new f2("Edge Brightness",0,d=="AccE"?50:20);
else if(c=="Smth")y=new f2([19,3,3],1,d=="Stmp"?50:15);else if(c=="ClSz")y=new f2([12,61],3,100);else if(c=="BrdT")y=new f2([7,9],1,20);
else if(c=="HghS")y=new f2([12,64],0,20);else if(c=="HlSz")y=new f2([12,14,0],1,15);else if(c=="Cntr")y=new f2([12,3,0],0,d=="WtrP"?100:50);
else if(c=="Shrp")y=new f2("Sharpness",0,40);else if(c=="SprR")y=new f2("Spray Radius",0,25);else if(c=="LgDr")y=new f2("Light/Dark Balance",0,d=="Stmp"?50:100);
else if(c=="Drkn")y=new f2("Darkness",1,50);else if(c=="Dstr")y=new f2("Distortion",0,20);else if(c=="Scln")y=new f2([12,38],50,200);
else if(c=="Rlf")y=new f2("Relief",0,d=="Ptch"||d=="NtPr"?25:50);else if(c=="ChAm")y=new f2("Thickness",1,7);
else if(c=="Pncl")y=new f2([19,2,5],1,30);else if(c=="StrP")y=new f2("Stroke Pressure",0,15);else if(c=="PprB")y=new f2("Paper Brightness",0,50);
else if(c=="BrsS")y=new f2("Brush Size",0,10);else if(c=="BrsD")y=new f2("Brush Detail",0,10);else if(c=="Txtr")y=new f2([12,67],1,3);
else if(c=="Grn")y=new f2("Grain",0,20);else if(c=="HghA")y=new f2("Highlight Area",0,20);else if(c=="Intn")y=new f2("Intensity",0,10);
else if(c=="Brgh")y=new f2("Glow Brightness",0,d=="WtrP"?100:50);else if(c=="StrS")y=new f2("Stroke Size",1,50);
else if(c=="StDt")y=new f2("Stroke Detail",1,3);else if(c=="Sftn")y=new f2("Softness",0,10);else if(c=="EdgT")y=new f2("Edge Thickness",0,10);
else if(c=="EdgI")y=new f2("Edge Intensity",0,10);else if(c=="Pstr")y=new f2("Posterization",0,6);else if(c=="Dfnt")y=new f2("Definition",0,25);
else if(c=="TxtC")y=new f2("Texture Coverage",0,50);else if(c=="ShdI")y=new f2("Shadow Intensity",0,10);
else if(c=="DrcB")y=new f2("Direction Balance",0,100);else if(c=="Strg")y=new f2([12,64],1,3);else if(c=="Blnc")y=new f2("Balance",0,10);
else if(c=="BlcI")y=new f2("Black Intensity",0,10);else if(c=="WhtI")y=new f2("White Intensity",0,10);
else if(c=="DrkI")y=new f2("Dark Intensity",0,50);else if(c=="LghI")y=new f2("Light Intensity",0,50);
else if(c=="StrW")y=new f2("Stroke Width",3,15);else if(c=="Grns")y=new f2("Graininess",0,d=="NtPr"?20:10);
else if(c=="GlwA")y=new f2("Glow Amount",0,20);else if(c=="ClrA")y=new f2("Clear Amount",0,20);else if(c=="ChrA")y=new f2("Charcoal Area",0,20);
else if(c=="ChlA")y=new f2("Chalk Area",0,20);else if(c=="FrgL")y=new f2("Foreground Level",1,15);else if(c=="BckL")y=new f2("Background Level",1,15);
else if(c=="WhtL")y=new f2("Background Level",0,50);else if(c=="BlcL")y=new f2("Foreground Level",0,50);
else if(c=="ImgB")y=new f2("Image Balance",0,50);else if(c=="Dnst")y=new f2([12,74],0,50);else if(c=="FbrL")y=new f2("Fiber Length",3,50);
else if(c=="CrcS")y=new f2("Crack Spacing",2,100);else if(c=="CrcD")y=new f2("Crack Depth",0,10);else if(c=="CrcB")y=new f2("Crack Brightness",0,10);
else if(c=="TlSz")y=new f2("Tile Size",2,100);else if(c=="GrtW")y=new f2("Grout Width",1,15);else if(c=="LghG")y=new f2("Lighten Grout",0,10);
else if(c=="SqrS")y=new f2("Square Size",0,10);else if(c=="RplS")y=new f2("Ripple Size",1,15);else if(c=="RplM")y=new f2("Ripple Magnitude",0,20);
else if(c=="NmbL")y=new f2("Number of Levels",2,8);else if(c=="EdgS")y=new f2("Edge Simplicity",0,10);
else if(c=="EdgF")y=new f2("Edge Fidelity",1,3);else if(c=="Sz")y=d=="NGlw"?new f2("Glow Size",-24,24):new f2("Brush Size",1,50);
else if(c=="Dtl")y=d=="Chrc"?new f2("Detail",0,5):new f2("Detail",1,15);else if(c=="StrL")y=d=="InkO"?new f2("Stroke Length",1,50):new f2("Stroke Length",0,20);
else if(c=="TxtT")y=new gd([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(c=="BrsT")y=new gd("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(c=="Grnt")y=new gd("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(c=="SDir")y=new gd([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(c=="ScrT")y=new gd([12,62],["Circle","Dot",[10,35]]);
else if(c=="LghD"||c=="LghP")y=new gd("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(c=="Clr")y=new b2("Glow Color");else if(c=="InvT")y=new ff([4,11]);else console.log(c);y.k(b.E.p,this.fF,this);
y.parent=this;this.vH[c]=y;this.n.appendChild(y.n)}};f7.GEfc.t5.prototype=new d9;f7.GEfc.t5.prototype.fF=function(d){this.T(new bR(b.E.p,!1))};
f7.GEfc.ac8="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
f7.GEfc.t5.prototype.c=function(d){for(var W in this.vH){var c;if(f7.GEfc.ac8.indexOf(W)!=-1)c=d[W].v;
else if(W=="TxtT")c=ar.oN.indexOf(d[W].v[W]);else if(W=="BrsT")c=ar.acX.indexOf(d[W].v[W]);else if(W=="LghD")c=ar.bD.indexOf(d[W].v[W]);
else if(W=="LghP")c=ar.zd.indexOf(d[W].v[W]);else if(W=="Grnt")c=ar.mf.indexOf(d[W].v[W]);else if(W=="ScrT")c=ar.Pq.indexOf(d[W].v[W]);
else if(W=="SDir")c=ar.nS.indexOf(d[W].v.StrD);this.vH[W].c(c)}};f7.GEfc.t5.prototype.h=function(){var d=ar.qw(this.sy);
for(var W in this.vH){var c=this.vH[W].h();if(f7.GEfc.ac8.indexOf(W)!=-1)d[W].v=c;else if(W=="TxtT")d[W].v[W]=ar.oN[c];
else if(W=="BrsT")d[W].v[W]=ar.acX[c];else if(W=="LghD")d[W].v[W]=ar.bD[c];else if(W=="LghP")d[W].v[W]=ar.zd[c];
else if(W=="Grnt")d[W].v[W]=ar.mf[c];else if(W=="ScrT")d[W].v[W]=ar.Pq[c];else if(W=="SDir")d[W].v.StrD=ar.nS[c]}return d};
f7.GEfc.t5.prototype._=function(){for(var d in this.vH)this.vH[d]._()};f7["Adobe Camera Raw Filter"]=function(d){f7.call(this,"Adobe Camera Raw Filter");
var W=this.n;this.aaT=d;this.l_=null;this.Ia=null;this.kA=1e3;this.Vt=null;this.h2=null;f.CH(W,"flexrow");
var c=f.F("div"),y=f.F("div","padded");W.appendChild(c);W.appendChild(y);this.MB=new h6;this.MB.k("zoom",this.xX,this);
c.appendChild(this.MB.n);this.HA=new bD(225);this.HA.Ac(4);y.appendChild(this.HA.n);this.rf=f.F("div");
this.rf.setAttribute("style","width:18em;");y.appendChild(this.rf);this.amn=new ed("Hi",!0);this.rf.appendChild(this.amn.n);
this.G_=f.F("div","scrollable");this.rf.appendChild(this.G_);this.vH=[new f2("Temperature",-100,100),new f2("Tint",-100,100),new f2([4,3],-4,4,null,!0),new f2([12,3,0],-100,100),new f2([4,4],-100,100),new f2([12,9],-100,100)];
this.UF="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var S=0;S<this.vH.length;S++){var B=this.vH[S];
B.c(0);B.k(b.E.p,this.xX,this);this.G_.appendChild(B.n);if(S==1||S==3)this.G_.appendChild(f.F("hr"))}};
f7["Adobe Camera Raw Filter"].prototype=new f7;f7["Adobe Camera Raw Filter"].prototype.uB=function(){return!0};
f7["Adobe Camera Raw Filter"].prototype.Fd=function(d){this.rf.appendChild(d)};f7["Adobe Camera Raw Filter"].prototype.lz=function(d,W){this.HA.vt(hL.KI[d.jD]["--text-color"])};
f7["Adobe Camera Raw Filter"].prototype.c=function(d,W,c,y,B){this.tp=d;var r=c.m,x=c.i,Z=r*x;this.amn.c(r+" x "+x+", "+(r*x/1e6).toFixed(1)+" MPx");
this.xn=c;this.Vt=new Float32Array(r*x*3);this.h2=new Uint8Array(r*x*4);this.h2.fill(255);if(W instanceof Float32Array)this.l_=W;
else{var i=this.l_=new Float32Array(r*x*3);for(var S=0;S<Z;S++){var k=S*3,H=S*4;i[k+0]=W[H+0]*(1/255);
i[k+1]=W[H+1]*(1/255);i[k+2]=W[H+2]*(1/255)}}this.Ia=[{Gq:this.l_,rect:c.clone()}];this.kA=1e3;var V=this.l_;
while(r>1&&x>1){var g=r,N=g*3;r=r>>>1;x=x>>>1;var C=V,V=new Float32Array(r*x*3);this.Ia.push({Gq:V,rect:new a8(0,0,r,x)});
for(var w=0;w<x;w++)for(var Y=0;Y<r;Y++){var k=(w*r+Y)*3,U=(w*2*g+Y*2)*3,e=U+N;V[k]=.25*(C[U]+C[U+3]+C[U+N]+C[U+N+3]);
V[k+1]=.25*(C[U+1]+C[U+4]+C[U+N+1]+C[U+N+4]);V[k+2]=.25*(C[U+2]+C[U+5]+C[U+N+2]+C[U+N+5])}}var O=this.UF;
for(var S=0;S<O.length;S++){var l=O[S];this.vH[S].c(d[l]?d[l].v:0)}this.MB.c([{H2:c,data:this.h2.buffer}]);
this.MB.N3();this.xX(null)};f7["Adobe Camera Raw Filter"].prototype.h=function(d){if(d){this.xX(null,!0);
return this.h2}return JSON.parse(JSON.stringify(this.tp))};f7["Adobe Camera Raw Filter"].prototype.a0w=function(){this.l_=null;
this.Vt=null;this.Ia=null;this.h2=null};f7["Adobe Camera Raw Filter"].prototype.xX=function(d,W){if(d&&this.vH.indexOf(d.target)!=-1){this.kA=1e3;
var c=this.UF;for(var S=0;S<c.length;S++){var y=c[S];this.tp[y]={t:y=="Ex12"?"doub":"long",v:this.vH[S].h()}}}var B=this.MB.Es().O,r=0;
while(B*2<=1&&!W){B*=2;r++}if(this.kA<=r)return;this.kA=r;var x=this.xn,Z=this.aDk(this.l_,x,this.Vt,this.tp,this.aaT,this.h2,r);
this.HA.c(Z);this.MB.c([{H2:x,data:this.h2.buffer}])};f7["Adobe Camera Raw Filter"].prototype.aDk=function(d,W,c,y,B,r,x){var Z=d,i=c,k=r,H=W.m,V=W.i,g=x!=0;
if(g){var N=this.Ia[x];Z=N.Gq;H=N.rect.m;V=N.rect.i;i=new Float32Array(H*V*3);k=v.R(H*V*4)}d$(Z,H,V,i,y,B);
var C=Date.now(),w=H*V;for(var S=0;S<w;S++){var Y=S*3,U=S*4;k[U+0]=~~(.5+i[Y+0]*255);k[U+1]=~~(.5+i[Y+1]*255);
k[U+2]=~~(.5+i[Y+2]*255);k[U+3]=255}console.log(Date.now()-C,"integer conversion");C=Date.now();var e=v.kb(k,Math.max(1,Math.floor(w/2e5)));
console.log(Date.now()-C,"histogram done");C=Date.now();if(g){var O=new Uint32Array(k.buffer),l=new Uint32Array(r.buffer),I=W.m,s=W.i;
for(var z=0;z<s;z+=2)for(var R=0;R<I;R+=2){var Y=z*I+R,t=O[(z>>>x)*H+(R>>>x)];l[Y]=t;l[Y+1]=t;l[Y+I]=t;
l[Y+I+1]=t}console.log(Date.now()-C,"upscale");C=Date.now()}return e};f7["Adobe Camera Raw Filter"].prototype.z2=function(d,W){this.a6T=d-248;
this.aga=W;this.MB.z2(this.a6T,this.aga);this.G_.style.height=W-236+"px"};f7["Adobe Camera Raw Filter"].prototype._=function(){for(var S=0;
S<this.vH.length;S++)this.vH[S]._()};f7.VaPo=function(){f7.call(this,"VaPo");this.f=-1;this.oa=null;
this.tR=!1;this.gG=null;this.gJ=null;this.mb=null;this.cA=null;this.wv=null;this.ce=null;this.d3=null;
this.aT=null;this.b1=null;this.zb=null;this.iU=null;this.j1=[];this.jQ=-1;this.g=null;this.s={U$:[[{f:{id:0,name:"Move",sN:"tools/move"}}],[{f:{id:1,name:"Create Plane",sN:"tools/pcrop"}}],[{f:{id:2,name:"Marquee",sN:"tools/rselect"}}],[{f:{id:3,name:"Stamp",sN:"tools/clone"}}],[{f:{id:4,name:"Brush",sN:"tools/brush"}}],[{f:{id:5,name:"Transform",sN:"tools/transform"}}],[{f:{id:6,name:"Hand",sN:"tools/hand"}}],[{f:{id:7,name:"Zoom In",sN:"zoomIn"}}],[{f:{id:8,name:"Zoom Out",sN:"zoomOut"}}]],keys:[bm.lT,bm.Nc,bm.wH,bm.eE,bm.dG,bm.oR,bm.PA,bm.ss]};
this.oP=new dn(this.s,!1);this.oP.k(b.E.V,this.VY,this);this.tZ=null;this.xn=null;this.zy=null;this.af1=null;
this.Bk=null;this.y7=null;var d=f.F("div","flexrow"),y=0;this.Ke=d;this.n.appendChild(d);d.appendChild(this.oP.n);
var W=f.F("div");d.appendChild(W);var top=f.F("div","form");W.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.QI=f.F("span");top.appendChild(this.QI);this.Ge=[[new kk([12,80,5],1,1e3)],[new kk([7,6],0,30)],[new kk([12,14],1,200),new kk([12,17],0,100),new kk([12,0],0,100),new ff([12,75])],[new kk([12,14],1,200),new kk([12,17],0,100),new kk([12,0],0,100),new b2],[new ff("Flip"),new ff("Flop")],[]];
var c=[100,0,100,100,100,!1,100,100,100,JSON.parse(bV.We.CV.slice(6)).v];this.UJ=[];for(var S=0;S<6;
S++){var B=f.F("span"),r=this.Ge[S];this.UJ.push(B);for(var x=0;x<r.length;x++){var Z=r[x];Z.parent=this;
Z.c(c[y++]);Z.k(b.E.p,this.afs,this);B.appendChild(Z.n)}}this.JC=f.F("div");this.JC.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.JC);this.view=new h6(!0);this.view.z2(100,100);this.view.Us("auto");this.view.k("mousedown",this.iZ,this);
this.view.k("mousemove",this.S0,this);this.view.k("mouseup",this.NC,this);f.kk(this.view.YW,this.Mk.bind(this));
W.appendChild(this.view.n)};f7.VaPo.prototype=new f7;f7.VaPo.prototype.uB=function(){return!0};f7.VaPo.prototype.Fd=function(d){this.JC.appendChild(d)};
f7.VaPo.prototype.afs=function(d){if(d.target==this.Ge[0][0]){var W=this.jG(),c=d.target.h();for(var S=0;
S<this.g.length;S++)if(this.g[S].length!=0&&W[S])W[S][0]=c;this.wl(W)}if(this.f==5){this.tZ=this._x();
this.xX(!0)}this.xX()};f7.VaPo.prototype.z9=function(d){var W=this.f,c=this.gJ;if(W==3||W==4){var y=this.Ge[W-1],B=bB.S5(),r=B.Brsh.v;
r.Dmtr.v.val=y[0].h();r.Hrdn.v.val=y[1].h();B=X.UZ.oW(B,d);if(B){r=B.Brsh.v;y[0].c(r.Dmtr.v.val);y[1].c(r.Hrdn.v.val)}this.E0()}if(W==1&&c&&(d.S(bm.y8)||d.S(bm.Vy))){c.pop();
c.pop();if(c.length==0)c=this.gJ=null;this.xX()}function x(H,S,C){v.qR(H[S],H[0],C.zy,C.xn);C.QZ(H[0])}this.gG=d;
if(W<6)this.view.z9(d);var Z=d.S(bm.Z7);if(Z){var i=this.jQ,k=0;if(d.S(bm.ss)){if(d.S(bm.Uo))k=1;else k=-1}else if(d.S(bm.Ca))k=1;
if(k!=0&&W!=5){console.log(this.jQ,k,this.j1);var H=this.j1[this.jQ],V=!1;if(H.length==3&&k==-1){x(H,1,this);
V=!0}i+=k;this.jQ=Math.max(0,Math.min(this.j1.length-1,i));H=this.j1[this.jQ];if(H.length==3&&k==1){x(H,2,this);
V=!0}this.xX(V)}if(d.S(bm.lT)){if(f.BA())bw.azY(this.sh.bind(this))}if(d.S(bm.I5)){this.wv=null;this.xX()}}else{var g=this.s.keys;
for(var S=0;S<g.length;S++)if(d.S(g[S]))this.xF(S)}if(d.S(bm.Vy)||d.S(bm.y8)){var N=this.jG();N=v.$k.a4t(N,this.g);
this.g=[];for(var S=0;S<N.length;S++)this.g[S]=[];this.wl(N);this.xX()}};f7.VaPo.prototype.sh=function(d){if(d=="granted")bw.fR(this,this.JX.bind(this))};
f7.VaPo.prototype.JX=function(d,W){var c=this.jG();if(c.length==0){alert("Make a plane before pasting an image");
return}if(this.cA==null)this.cA=[0,0];if(this.f==5)this.xF(0);this.xF(5,{iJ:d,qe:W})};f7.VaPo.prototype.VY=function(d){if(d.data.d==b.H.Fy){this.xF(d.data.f)}};
f7.VaPo.prototype.a12=function(d){var W=this.view.l7(d),c=v.$k.vE(this.jG(),this.g),y=1e9,B=0;for(var S=0;
S<c.length;S++){var r=c[S][0],x=W.x-r[0],Z=W.y-r[1],i=Math.sqrt(x*x+Z*Z);if(i<y){y=i;B=S}}if(y>4*f.QX()/this.view.Es().O)return null;
return c[B]};f7.VaPo.prototype.Mk=function(d){var W=this.f,c=this.gJ;if(W<2&&!this.tR){var y=this.oa=this.a12(d),B=this.jG(),r="auto";
if(W==0&&v.$k.cs(B,y)){var x=B[y[1]][1][y[2]],Z=x[5+{1:0,5:1,7:2,3:3}[y[3]]],i=Z[0],k=Z[1];r=g6.aqd(i[1]-k[1],-i[0]+k[0])}if(v.$k.a0f(B,y))r="crosshair";
this.view.Us(r)}if(c){var H=this.view.l7(d),V=c.slice(0);c[c.length-2]=H.x;c[c.length-1]=H.y;this.xX()}this.E0(d);
if(W==5&&!this.tR&&this.yx){var H=this.view.l7(d),B=this.jG(),g=v.$k.Im(B,H.x,H.y,this.x9());if(g){var N=new aL(g[2][0],g[2][1]),C=v.$k.Jr(B,B[g[0]][1][g[1]],this.x9()),w=C[1],Y=v.D.bO(C[0],w),U=[w.x+w.m/2,w.y+w.i/2];
v.D.e(Y,U);var e=H.x-U[0],O=H.y-U[1],l=this.yx.He(N,this.view.Es().O,null,null,Math.atan2(-O,-e));this.view.Us(l?l:"default")}}};
f7.VaPo.prototype.E0=function(d){var W=this.f,c=this.gG;if((W==3||W==4)&&!this.tR){var y=d?this.view.l7(d):this.J6,B=this.jG();
this.J6=y;if(y==null)return;var r=v.$k.Im(B,y.x,y.y,this.x9());if(r){if(W==3&&this.iU&&this.Ge[2][3].h()){var x=new aL(r[2][0],r[2][1]);
this.zb=x.Sa(this.iU);this.xX()}if(W==3&&(this.zb==null||c&&(c.S(bm.Oi)||c.S(bm.UU)))){if(this.tZ){this.y7=null;
this.QZ(this.tZ);this.xX(!0,this.tZ)}return}this.amz(r,this.tZ)}}};f7.VaPo.prototype.x9=function(){return[this.xn.m/2,this.xn.i/2]};
f7.VaPo.prototype.iZ=function(d){this.tR=!0;var W=this.f,c=this.gJ,y=this.jG(),B=this.gG,r=this.oa=this.a12(null),x=this.view.l7(),Z=v.$k.Im(y,x.x,x.y,this.x9()),i=Z?new aL(Z[2][0],Z[2][1]):null;
if(v.$k.a0f(y,r)){var k=y[r[1]][1][r[2]];y.splice(r[1],1);this.g.splice(r[1],1);c=v.$k.aeB(k);var H=-1,x=r[0];
for(var S=0;S<8;S+=2){var V=c[S]-x[0],g=c[S+1]-x[1];if(V*V+g*g<1e-5)H=S}H=H+2&7;c=this.gJ=c.slice(H).concat(c.slice(0,H));
this.wl(y)}else if(v.$k.cs(y,r)){if(W==1||B&&B.S(bm.Z7)){y=v.$k.axV(y,r,this.x9());this.wl(y);r[2]=y[r[1]][1].length-1;
r[3]=8+(r[3]+4&7);this.g[r[1]].push(r[2]);this.wl(y,!0);this.xF(0)}else this.wl(this.jG(y))}else if(W==0){var N=[];
for(var S=0;S<y.length;S++)N.push([]);if(Z){if(B&&B.S(bm.Uo))N=this.g;var C=N[Z[0]].indexOf(Z[1]);if(C==-1)N[Z[0]].push(Z[1]);
else N[Z[0]].splice(C,1)}this.g=N;this.wl(y,!0);this.xX()}else if(W==2){if(Z){var w=this.wv;if(w&&w.Ce(i)){if(B)if(B.S(bm.Oi)||B.S(bm.Z7)){this.xF(5);
this.iZ(d);return}this.ce=new aL(i.x-w.x,i.y-w.y)}else{this.mb=Z[2].concat(Z[2]);this.cA=Z}}}else if(W==3||W==4){if(W==3){if(B&&(B.S(bm.Oi)||B.S(bm.UU))){if(Z){this.zb=i;
this.aT=i.clone();this.iU=null;this.b1=Z;this.xX()}else alert("You must click into a plane");this.tR=!1;
return}else if(this.zb==null){alert(ay.get([15,7,0]));this.tR=!1;return}else if(Z){var Y=this.iU=i.Sa(this.zb)}}if(Z){this.amz(Z)}}else if(W==5){if(Z){var U=new aL(Z[2][0],Z[2][1]),e=this.yx.RQ({Q:this.view.Es()},{},B,U)}}};
f7.VaPo.prototype.amz=function(d,W){var c=this.y7;if(c==null)this.y7=c=v.R(this.xn.P()*4);else c.fill(0);
var y=this.f;this.cA=d;var B=this.Ge[y-1],r=v.anM.abA(B[0].h(),B[1].h()/100,1),x=v.R(r[1].P()*4);v.nP(r[0],x,3);
if(y==4){var Z=v.L.E5(B[3].h());v.ft(x,Math.round(Z.J)<<16|Math.round(Z.G)<<8|Math.round(Z.Z)<<0,4278190080)}this.d3={aj5:r[0],iJ:x,qe:r[1]};
var i=this.tZ=this.P1(d[2],d[2]),k=W?W.hB(i):i;this.QZ(k);this.xX(!0,k)};f7.VaPo.prototype.S0=function(d){var W=this.oa,c=this.f,y=this.jG();
if(c==0&&v.$k.cs(y,W)){y=v.$k.a1z(y,W,this.view.l7());this.wl(y,!0);this.xX()}var B=this.ce;if(c==2&&this.tR&&(this.mb||B)){var r=this.view.l7(),x=v.$k.Im(y,r.x,r.y,this.x9());
if(x){this.cA=x;if(B){this.wv.x=x[2][0]-B.x;this.wv.y=x[2][1]-B.y}else{this.mb=this.mb.slice(0,2).concat(x[2]);
this.wv=v.A.xG(this.mb)}this.xX()}}if((c==3||c==4)&&this.tR){var r=this.view.l7(),x=v.$k.Im(y,r.x,r.y,this.x9());
if(x){if(c==3){var Z=this.iU;this.zb=new aL(x[2][0]-Z.x,x[2][1]-Z.y)}var i=this.P1(this.cA[2],x[2]);
this.tZ=this.tZ.hB(i);this.cA=x;this.QZ(i);this.xX(!0,i)}}if(c==5&&this.tR){var r=this.view.l7(),x=v.$k.Im(y,r.x,r.y,this.x9(),this.cA);
if(x){var k=new aL(x[2][0],x[2][1]);this.yx.f9({Q:this.view.Es()},{},this.gG,k);this.cA=x;var i=this.tZ;
if(i)this.QZ(i);else i=new a8;this.tZ=this._x(null,null,!0);this.xX(!0,i.hB(this.tZ))}}};f7.VaPo.prototype.P1=function(d,W){d=new aL(d[0],d[1]);
W=new aL(W[0],W[1]);var c=Math.max(1e-5,aL.Bg(d,W)),y=this.d3.qe.m*.2,B=new a8;for(var r=0;r<c;r+=y){var x=1-r/c,Z=x*d.x+(1-x)*W.x,i=x*d.y+(1-x)*W.y,k=this.d3.qe.clone();
k.x=Math.round(Z-k.m/2);k.y=Math.round(i-k.i/2);if(this.f==3){var H=this.iU;if(H==null)H=new aL(Z,i).Sa(this.zb);
var V=this.wv=k.clone();V.x=Math.round(V.x-H.x);V.y=Math.round(V.y-H.y);var g=this.d3.aj5;this.d3=this.aym(this.b1);
this.wv=null;v.sl(g,this.d3.iJ);this.d3.aj5=g}var N=this._x(this.y7,k);B=B.hB(N)}return B};f7.VaPo.prototype.NC=function(d){var W=this.oa;
if(W&&W[3]>=8){var c=v.$k.a1q(this.jG(),W,this.x9());this.wl(c,!0);this.xX();alert("new plane added")}var y=this.f,B=this.gJ;
if(B||y==1){var r=this.view.l7();if(B==null)B=this.gJ=[r.x,r.y];if(B.length==8&&g6.dy(B)){var c=this.jG();
c.push([100,[v.$k.afZ(B,this.x9())]]);this.g.push([0]);this.wl(c,!0);B=this.gJ=null;this.xF(0);this.xX()}else if(B.length<8){B.push(r.x,r.y);
if(B.length==8&&!g6.dy(B)){var x=B[0],Z=B[1];B[0]=B[4];B[1]=B[5];B[4]=x;B[5]=Z}}}var i=this.mb;if(y==2&&i&&i[0]==i[2]&&i[1]==i[3]){this.wv=null;
this.xX()}if((y==3||y==4)&&this.tR){if(y==3&&!this.Ge[2][3].h()&&this.aT){this.zb=this.aT.clone();this.xX()}this.wl();
this.y7=null}if(!this.Ge[2][3].h())this.iU=null;this.tR=!1;this.ce=null;this.mb=null};f7.VaPo.prototype.xF=function(d,W){if(d==this.f)return;
var c=this.tZ,B=6;if(this.f==5){this.wl();this.QZ(c);this.yx=null;this.xX()}if(this.f==3||this.f==4){this.y7=null;
if(c)this.QZ(c);this.xX(!0,c)}if(d==5){if(W==null&&this.wv==null){alert("Select the area to be transformed");
return}this.amG(W)}if(d>1){var y=this.jG();this.zu();this.wl(y,!0);this.xX()}this.view.z9(d>=B?h6.Hr(d-B):new bm);
if(d<B)this.view.Us("auto");this.f=d;this.oP.xF(d);f.qf(this.QI);var r={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[d];
this.QI.appendChild(this.UJ[r])};f7.VaPo.prototype.jG=function(){var S=this.jQ,d=this.j1;while(d[S].length==3)S--;
var W=d[S];this.g=JSON.parse(W[1]);return JSON.parse(W[0])};f7.VaPo.prototype.wl=function(d,W){if(d==null&&this.tZ==null)return;
var c=this.j1,y=this.jQ,S=y;while(S>=0&&c[S].length==3)S--;if(W==null)this.jQ=y=y+1;if(d!=null)c[W?S:y]=[JSON.stringify(d),JSON.stringify(this.g)];
else{var B=this.xn,r=this.tZ,x=v.R(r.P()*4),Z=v.R(r.P()*4);c[y]=[r,x,Z];v.qR(this.zy,B,x,r);if(this.y7)v.l.Ip("norm",this.y7,B,this.zy,B,B,this.a8f());
else this._x(this.zy);v.qR(this.zy,B,Z,r);this.tZ=null}while(c.length!=y+1)c.pop()};f7.VaPo.prototype.a8f=function(){return this.Ge[this.f-1][2].h()/100};
f7.VaPo.prototype.zu=function(d,W){if(d==null)d=this.jG();this.g=[];for(var S=0;S<d.length;S++){var c=[];
this.g.push(c);if(W)for(var y=0;y<d[S][1].length;y++)c.push(y)}};f7.VaPo.prototype.c=function(d,W,c,y,B,r){var x=JSON.parse(JSON.stringify(r[2].$k));
this.jQ=-1;this.zu(x);this.wl(x);var Z=v.R(y.P()*4);v.qR(W,c,Z,y);this.axT=new a8;this.xn=y;this.af1=B;
this.zy=Z;this.Bk=B.slice(0);this.QZ(y);this.xX(!0);this.view.N3();this.xF(0)};f7.VaPo.prototype.amG=function(d){this.d3=d?d:this.aym();
var W=v.A.z$(this.d3.qe).j;if(d){var c=this.jG(),y=v.$k.Jr(c,c[0][1][0],this.x9()),B=y[1],r=Math.min(B.m/d.qe.m,B.i/d.qe.i)*.9;
if(r<1)v.A.e(W,new dT(r,0,0,r,0,0),W)}this.yx=new g6(W,!0,!0);this.wv=null;this.tZ=this._x();this.xX(!0)};
f7.VaPo.prototype.aym=function(d){var W=this.xn,c=v.A.zk(this.wv),y=this.jG(),B=v.R(c.P()*4);if(d==null)d=this.cA;
var r=y[d[0]][1],x=v.$k.TX(y[d[0]][1],d[1],c,this.x9());for(var Z=0;Z<x.length;Z++){var i=r[x[Z]],k=v.$k.Jr(y,i,this.x9()),H=k[0],V=k[1],g=V.nK(c);
if(g.Bb())continue;g=v.A.zk(g);var N=v.R(g.P()*4),C=v.D.bO(H,V);C=v.D.lU([1/W.m,0,0,0,1/W.i,0,0,0],C);
C=v.D.QE(C);v.D.drawImage(C,this.Bk,W.m,W.i,N,g);v.qR(N,g,B,c)}var w=this.Ge[1][0].h(),Y=Math.round(w*1.4),U=c.clone();
U.Lx(-Y,-Y);var e=v.R(U.P());e.fill(255);var O=v.R(c.P());v.ZW(e,U,O,c);var l=v.R(c.P());v.yG.GH(O,l,c,w);
v.$P(B,O,3);v.Jd.nK(O,l,l);v.nP(l,B,3);return{iJ:B,qe:c}};f7.VaPo.prototype.QZ=function(d,W){var c=this.xn;
v.qR(this.af1,c,this.Bk,c,d);v.l.Ip("norm",this.zy,c,this.Bk,c,d,1);if(this.y7)v.l.Ip("norm",this.y7,c,this.Bk,c,d,this.a8f())};
f7.VaPo.prototype._x=function(d,W,c){var y=this.d3,B=y.qe,r=this.xn,x,Z=W?v.A.z$(W).j:this.yx.vE(),i=v.A.c7(Z),x=v.D.bO(Z,B),k=this.Ge[4],H=new dT;
if(k[0].h()){H.U=-1;H.IS=2*B.x+B.m}if(k[1].h()){H.x7=-1;H.rk=2*B.y+B.i}x=v.D.lU(x,v.D.MK(H));function V(D,_){D.beginPath();
D.moveTo(_[0],_[1]);for(var S=1;S<4;S++)D.lineTo(_[S*2],_[S*2+1]);D.closePath()}var g=this.jG(),N=v.$k.TX(g[this.cA[0]][1],this.cA[1],i,this.x9()),C=g[this.cA[0]][1],w=new a8;
for(var Y=0;Y<N.length;Y++){var U=C[N[Y]],e=v.$k.Jr(g,U,this.x9()),O=e[0],l=e[1],I=l.nK(i);if(this.wv)I=I.nK(this.wv);
if(I.Bb())continue;var s=v.D.bO(O,l),z=v.A.z$(I).j;v.D.e(s,z);var R=Z.slice(0);v.D.e(s,R);var t=v.A.xG(R).nK(v.A.xG(z)),a=t.m,J=t.i;
if(t.Bb())continue;s=v.D.lU(v.D.lU(s,x),[B.m,0,B.x,0,B.i,B.y,0,0]);var F=v.R(t.P()*4);v.D.drawImage(s,y.iJ,B.m,B.i,F,t,c);
if(I.P()!=i.P()){var h=v.td(a,J);h.save();h.clearRect(0,0,a,J);h.translate(-t.x,-t.y);V(h,z);h.clip();
V(h,R);h.fill();h.restore();var m=new Uint8Array(h.getImageData(0,0,a,J).data.buffer);for(var S=3;S<F.length;
S+=4)if(m[S]<F[S])F[S]=m[S]}v.l.Ip("norm",F,t,d?d:this.Bk,r,t,1);w=w.hB(t)}return w};f7.VaPo.prototype.h=function(){return JSON.parse(JSON.stringify(this.jG()))};
f7.VaPo.prototype.atz=function(){if(this.f==5)this.xF(0);var d=new a8,W=this.j1;for(var S=0;S<=this.jQ;
S++)if(W[S].length==3)d=d.hB(W[S][0]);var c=v.R(d.P()*4);v.qR(this.zy,this.xn,c,d);return[c,d]};f7.VaPo.prototype.z2=function(d,W){this.oP.z2(d,W);
this.view.z2(d-40,W-30)};f7.VaPo.prototype._=function(){this.oP._();for(var S=0;S<this.Ge.length;S++)for(var d=0;
d<this.Ge[S].length;d++)this.Ge[S][d]._()};f7.VaPo.prototype.xX=function(d,W){var c=this.xn,y=[],B=[],r=[],x=this.jG(),Z=v.$k.vE(x,this.g),i=0,k=null,Y=null,U=null,e=null;
for(var S=0;S<Z.length;S++)r.push(Z[S][0][0],Z[S][0][1]);for(var S=0;S<x.length;S++){var H=this.g[S].length;
i+=H;if(H!=0)k=[S,this.g[S][0]]}var V=this.Ge[0][0];V.OB(i!=0);if(i!=0)V.c(Math.round(x[k[0]][0]));if(i==1){var g=x[k[0]][1]}var N=[];
if(this.wv&&x[this.cA[0]])N=v.$k.TX(x[this.cA[0]][1],this.cA[1],this.wv,this.x9());var C=[];if(this.yx){C=this.yx.ay5();
C[4]=this.yx.fL()}var w=[];if(this.yx&&x[this.cA[0]])w=v.$k.TX(x[this.cA[0]][1],this.cA[1],v.A.xG(this.yx.vE()),this.x9());
for(var O=0;O<x.length;O++){var l=x[O][0],g=x[O][1],I=this.g[O];for(var s=0;s<g.length;s++){var k=g[s],z=v.$k.Jr(x,k,this.x9()),R=z[0],c=z[1],t=v.D.bO(R,c);
if(c.Bb()){if(U==null)U={r:[],j:[]};v.A.concat(U,{r:["M","L","L","L","Z"],j:R});continue}var a=v.A.z$(c),J=a.j,F=a.r,h=this.zb;
if(h&&c.Ce(h)&&this.b1&&this.b1[0]==O){Y=[h.x,h.y];v.D.e(t,Y)}if(N.indexOf(s)!=-1){var m=this.wv.nK(c);
if(O==this.cA[0]&&!m.Bb()){if(e==null)e={j:[],r:[]};var D=v.A.z$(m);v.D.e(t,D.j);v.A.concat(e,D)}}if(w.indexOf(s)!=-1&&O==this.cA[0]){var _=[];
for(var S=0;S<C.length;S++)if(c.Ce(C[S]))_.push(C[S].x,C[S].y);if(_.length!=0){v.D.e(t,_);r=r.concat(_)}}if(I&&I.indexOf(s)!=-1){var n=Math.ceil(c.x/l)*l,j=c.x+c.m,T=Math.ceil(c.y/l)*l,L=c.y+c.i;
for(var p=n;p<j;p+=l){J.push(p,c.y,p,L);F.push("M","L")}for(var E=T;E<L;E+=l){J.push(c.x,E,j,E);F.push("M","L")}}v.D.e(t,J);
y=y.concat(F);B=B.concat(J)}if(Y&&this.f==3){var p=Y[0],E=Y[1],G=10/this.view.Es().O;B.push(p-G,E,p+G,E);
B.push(p,E-G,p,E+G);y.push("M","L","M","L")}}var R=this.gJ,c=this.xn;if(R){var A=["M"];for(var S=0;S<R.length-2;
S+=2)A.push("L");A.push("Z");var u=X.JH.zB(R,c.m/2,c.i/2);if(isNaN(u)||u==Infinity||u==-Infinity||!g6.dy(R)){if(U==null)U={r:[],j:[]};
v.A.concat(U,{r:A,j:R})}else{B=B.concat(R);y=y.concat(A)}}var q={fZ:{r:y,j:B},afy:U,axu:e,dk:r,xi:null};
if(d){this.view.c([{H2:c,data:this.Bk.buffer}],null,q,W)}else this.view.a07(q)};f7.blnc=function(){f7.call(this);
var d=this.n;this.oL=null;this.ZJ=new gd([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.ZJ.k(b.E.p,this.xX,this);
d.appendChild(this.ZJ.n);this.KC=[];for(var S=0;S<3;S++){var W=new f2(["VAR0 - VAR1",bN.apl[S],bN.S7[S]],-100,100);
W.k(b.E.p,this.ZG,this);this.KC.push(W);d.appendChild(W.n)}this.rI=new ff([13,4]);this.rI.k(b.E.p,this.ZG,this);
d.appendChild(this.rI.n)};f7.blnc.prototype=new f7;f7.blnc.prototype._=function(){this.ZJ._();for(var S=0;
S<3;S++)this.KC[S]._();this.rI._()};f7.blnc.prototype.c=function(d){this.oL=JSON.parse(JSON.stringify(d));
this.xX()};f7.blnc.prototype.h=function(d){var W=["ShdL","MdtL","HghL"],c=this.oL[W[this.ZJ.h()]].v;
for(var S=0;S<3;S++)c[S].v=this.KC[S].h();this.oL.PrsL.v=this.rI.h();return JSON.parse(JSON.stringify(this.oL))};
f7.blnc.prototype.xX=function(d){var W=["ShdL","MdtL","HghL"],c=this.oL[W[this.ZJ.h()]].v;for(var S=0;
S<3;S++)this.KC[S].c(c[S].v);this.rI.c(this.oL.PrsL.v)};f7.brit=function(){f7.call(this,"brit");this.kw.push(new f2([12,2],-150,150,""));
this.kw.push(new f2([12,3,0],-100,100,""));this.kw.push(new ff([12,3,1]));this.wa()};f7.brit.prototype=new f7;
f7.curv=function(){f7.call(this);this.value=null;this.yu=null;this.kO=null;var d=this.n;this.g4=new gd("Preset",["basic","advanced"]);
this.g4.k(b.E.p,this.a7O,this);d.appendChild(this.g4.n);f.MZ(d);this.Of=new gd([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Of.k(b.E.p,this.me,this);d.appendChild(this.Of.n);this.YU=new gd(null,["Spline","Sketch"]);this.YU.k(b.E.p,this.a7O,this);
d.appendChild(this.YU.n);this.aw=new ge;this.aw.parent=this;this.aw.k(b.E.p,this.K2,this);d.appendChild(this.aw.n);
f.MZ(d);this.Q1=new gO;this.Q1.k(b.E.p,this.r4,this);d.appendChild(this.Q1.n);this.B4=null;this.acp=0;
this.Uv=0;f.MZ(d);this.Ix=new gj("Sample from image",ij.B6(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.Ix.k(b.E.p,this.Bd,this);this.Ix.n.style.marginRight="0";d.appendChild(this.Ix.n)};f7.curv.prototype=new f7;
f7.curv.prototype.lz=function(d,W){if(W==kG.yS||W==kG.oc){var c=d.EE,y=["Default"];for(var S=0;S<c.length;
S++)y.push(c[S].presetFileName.v);y.push("Custom");this.g4.oe(y,[1,c.length,1]);this.kO=d}};f7.curv.prototype.z2=function(d,W){this.Q1.z2(d,W)};
f7.curv.prototype._=function(){this.Of._();this.Q1._()};f7.curv.prototype.HN=function(){this.g4.c(this.kO.EE.length+1)};
f7.curv.prototype.a7O=function(d){if(d.target==this.g4){var W=this.g4.h(),c=this.kO.EE,y;if(W==0)y=eR.qw("curv");
else if(W-1<c.length)y=JSON.parse(JSON.stringify(c[W-1]));else return;this.c(y);this.ZG();return}this.HN();
var B=d8.ar(this.value,0),r=B.length==256?1:0,x=this.YU.h();if(r==x)return;var y=eR.qw("curv");if(x==1){var Z=[];
for(var S=0;S<256;S++)Z.push(S);d8.wz(y,0,Z)}this.c(y);this.ZG()};f7.curv.prototype.r4=function(){this.HN();
d8.wz(this.value,this.Of.h(),this.Q1.h());this.ZG()};f7.curv.prototype.me=function(){var d=this.Of.h(),W=d8.ar(this.value,d),c=W.length==256?1:0;
this.YU.c(c);if(this.yu)this.Q1.Vf(this.yu[d],this.yu[4]*[1,.33,.33,.33][d],["#ccc","#fcc","#cfc","#ccf"][d]);
this.Q1.c(W)};f7.curv.prototype.el=function(){return!0};f7.curv.prototype.RQ=function(d,W,c,y,B){var r=this.value;
this.value=eR.qw("curv");this.ZG();var x=X.tX.uO(d,B,1,null,!0),Z=this.B4=[x>>>16&255,x>>>8&255,x&255];
this.acp=B.y;var i=this.Ix.h().indexOf(!0);if(i==0){var k=(Z[0]+Z[1]+Z[2])/3,H=this.Of.h(),V=d8.ar(r,H),g=H==0?k:Z[H-1],N=-1;
for(var S=0;S<V.length;S++)if(V[S].v.Hrzn.v==g)N=S;if(N==-1){var C=JSON.parse(JSON.stringify(V[0]));
C.v.Hrzn.v=g;C.v.Vrtc.v=g;V.push(C);V.sort(function(w,Y){return w.v.Hrzn.v-Y.v.Hrzn.v});d8.wz(r,H,V);
this.Uv=V.indexOf(C)}else this.Uv=N}this.c(r);this.ZG()};f7.curv.prototype.f9=function(d,W,c,y,B){if(this.B4==null)return;
if(this.Ix.h().indexOf(!0)==0){var r=this.value,x=this.Of.h(),Z=d8.ar(r,x),i=Z[this.Uv];i.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(i.v.Hrzn.v+(this.acp-B.y))));
d8.wz(r,x,Z);this.c(r);this.ZG()}};f7.curv.prototype.AZ=function(d,W,c,y,B){var r=this.value,x=this.B4,Z=(x[0]+x[1]+x[2])/3,i=this.Ix.h().indexOf(!0)-1;
if(i<=-1){}else for(var S=0;S<3;S++){var k=d8.ar(r,1+S);if(i==0)k[0].v.Hrzn.v=x[S];if(i==1){var H=Math.log(x[S]/255)/Math.log(Z/255),V=Math.min(999,Math.max(10,Math.round(100*H)));
if(k.length==2)k.splice(1,0,JSON.parse(JSON.stringify(k[0])));k[1].v.Hrzn.v=127-Math.log(V/100)*127;
k[1].v.Vrtc.v=127}if(i==2)k[k.length-1].v.Hrzn.v=x[S];d8.wz(r,1+S,k)}this.c(r);this.ZG();this.HN();this.B4=null};
f7.curv.prototype.c=function(d){this.value=d;this.me()};f7.curv.prototype.Vf=function(d){this.yu=d;this.me()};
f7.curv.prototype.h=function(d){return JSON.parse(JSON.stringify(this.value))};f7.curv.prototype.K2=function(){var d=this.aw.h(),W=this.yu,c=this.value,y=v.aA8(d,W);
for(var S=0;S<4;S++){var B=y[S][0],r=y[S][1],x=y[S][2],Z=[v.YF.la(B,0,!0),v.YF.la(r,255,!0)];if(x!=null)Z.splice(1,0,v.YF.la(128,x,!0));
d8.wz(c,S,Z)}this.me();this.ZG()};f7.expA=function(){f7.call(this,"expA");this.kw.push(new f2([12,5],-20,20,null,2,!0));
this.kw.push(new f2([12,6],-.5,.5,null,2));this.kw.push(new f2([12,7],.01,9.99,null,2,!0));this.wa()};
f7.expA.prototype=new f7;f7.expA.prototype.NW=function(d,W){W[0]=d.Exps.v;W[1]=d.Ofst?d.Ofst.v:0;W[2]=d.gammaCorrection?d.gammaCorrection.v:1};
f7.expA.prototype.VJ=function(d,W){d.Exps={t:"doub",v:W[0]};d.Ofst={t:"doub",v:W[1]};d.gammaCorrection={t:"doub",v:W[2]}};
f7.grdm=function(){f7.call(this,"grdm");this.kw.push(new gV(!0,null,!0));this.kw.push(new ff([12,23,0]));
this.wa()};f7.grdm.prototype=new f7;f7.grdm.prototype.NW=function(d,W){W[0]=d.Grad.v;W[1]=d.Rvrs?d.Rvrs.v:!1};
f7.grdm.prototype.VJ=function(d,W){d.Grad.v=W[0];d.Rvrs={t:"bool",v:W[1]}};f7.grdm.prototype.lz=function(d,W){this.kw[0].Sk(d.R5,d.qX);
if(W==kG.yS||W==kG.kg||W==kG.n6)this.kw[0].bz(d.yv)};f7.selc=function(){f7.call(this);var d=this.n;this.Os=[];
this.Wo=null;this.ZJ=new gd([12,82],bN.gf.concat([[13,1,8],[13,1,13],[13,1,10]]));this.ZJ.k(b.E.p,this.fF,this);
d.appendChild(this.ZJ.n);f.MZ(d);for(var S=0;S<4;S++){var W=new f2(bN.apl[S],-100,100,"%");W.k(b.E.p,this.fF,this);
this.Os.push(W);d.appendChild(W.n)}this.WD=new ff([13,3]);d.appendChild(this.WD.n);this.WD.k(b.E.p,this.fF,this)};
f7.selc.prototype=new f7;f7.selc.prototype._=function(){this.ZJ._();this.WD._();for(var S=0;S<4;S++)this.Os[S]._()};
f7.selc.prototype.c=function(d){this.Wo=JSON.parse(JSON.stringify(d));this.xX()};f7.selc.prototype.h=function(d){return JSON.parse(JSON.stringify(this.Wo))};
f7.selc.prototype.fF=function(d){if(d.target!=this.ZJ){var W=this.Wo,c=[];for(var S=0;S<4;S++)c[S]=this.Os[S].h();
je.wz(W,this.ZJ.h(),c);W.Mthd={t:"enum",v:{CrcM:this.WD.h()?"Absl":"Rltv"}}}this.xX();this.ZG()};f7.selc.prototype.xX=function(){var d=this.Wo,W=je.ar(d,this.ZJ.h());
for(var S=0;S<4;S++)this.Os[S].c(W[S]);this.WD.c(d.Mthd?d.Mthd.v.CrcM=="Absl":!1)};f7.blwh=function(){f7.call(this,"blwh");
this.kw.push(new ff([12,11]));this.kw.push(new b2(!0));for(var S=0;S<6;S++)this.kw.push(new f2(bN.gf[S],-200,300));
this.wa()};f7.blwh.prototype=new f7;f7.blwh.prototype.NW=function(d,W){W[0]=d.useTint.v;W[1]=d.tintColor.v;
var c="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var S=0;S<6;S++)W[2+S]=d[c[S]].v};f7.blwh.prototype.VJ=function(d,W){d.useTint.v=W[0];
d.tintColor.v=W[1];var c="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var S=0;S<6;S++)d[c[S]].v=W[2+S]};
f7.hue2=function(){f7.call(this);this.value=null;this.Ap=null;this.aDB=null;this.UO=[[0,0,0],[0,50,0]];
var d=this.n;this.Ix=new gj(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.Ix.k(b.E.p,this.aoy,this);this.Ix.k(b.E.p,this.Bd,this);d.appendChild(this.Ix.n);var W=this.kw=[new gd([12,12],["Master"].concat(bN.gf)),new f2([12,8],-180,180),new f2([12,9],-100,100),new f2([12,10],-100,100),new ff([12,11])];
for(var S=0;S<W.length;S++){var c=W[S];c.k(b.E.p,S==0?this.me:this.aas,this);d.appendChild(c.n)}this.ZJ=W[0];
this._1=W[1];this.rq=W[2];this.u4=W[3];this.Qc=W[4];this.z8=new gj("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.z8.k(b.E.p,this.aoy,this);this.z8.k(b.E.p,this.Bd,this);this.z8.n.style.marginLeft="20px";d.appendChild(this.z8.n);
this.aO=f.F("div");d.appendChild(this.aO);this.GI=this.Sh.bind(this);this.hI=this.dP.bind(this);this.YW=f.F("canvas");
this.bN=this.YW.getContext("2d");this.Zc=null;f.g0(this.YW);f.GS(this.YW,282,18);d.appendChild(this.YW);
f._0(this.YW,this.T8.bind(this))};f7.hue2.prototype=new f7;f7.hue2.prototype.z2=function(d,W){f.GS(this.YW,Math.round(d),18);
if(this.value)this.me()};f7.hue2.prototype.aoy=function(d){var W=d.target.h().indexOf(!0);if(W==-1)return;
if(d.target==this.Ix)this.z8.c([!1,!1,!1]);else this.Ix.c([!1,!1,!1])};f7.hue2.prototype.T8=function(d){if(this.ZJ.h()==0||this.Qc.h())return;
var W=f.Ne(d,this.YW).x/(this.YW.width/f.QX()),r=1e6;function c(V,g,N){return V<g&&g<N||N<V&&(V<g||g<N)}var y=this.RC(),B=-1;
for(var S=0;S<4;S++){var x=Math.abs(W-(y[S]+S*1e-5));if(x<r){r=x;B=S}}if(r>.025){B=-1;var Z=y[0],i=y[1],k=y[2],H=y[3];
if(c(Z,W,i))B=4;if(c(i,W,k))B=5;if(c(k,W,H))B=6}if(B==-1)return;this.Zc=B;f.kk(document.body,this.GI);
f.OD(document.body,this.hI)};f7.hue2.prototype.Sh=function(d){var W=f.Ne(d,this.YW).x/(this.YW.width/f.QX()),c=this.RC(),y=this.Zc;
for(var S=1;S<4;S++)if(c[S]<c[S-1]){c[S]+=1}if(y<4){var B=1e6,r=0;for(var S=-20;S<20;S++){var x=Math.abs(c[y]-(W+S));
if(x<B){B=x;r=S}}W+=r;c[y]=W;for(var S=y+1;S<4;S++)if(c[S]<c[S-1]){c[S]=c[S-1]}for(var S=y-1;S>=0;S--)if(c[S]>c[S+1]){c[S]=c[S+1]}}else{var Z=W-(c[y-4]+c[y-3])/2;
if(Z<-.5)Z+=1;if(y==4){c[0]+=Z;c[1]+=Z;c[2]=Math.max(c[1],c[2]);c[3]=Math.max(c[1],c[3])}if(y==5)for(var S=0;
S<4;S++)c[S]+=Z;if(y==6){c[2]+=Z;c[3]+=Z;c[0]=Math.min(c[0],c[2]);c[1]=Math.min(c[1],c[2])}}for(var S=1;
S<4;S++)if(c[S]<c[S-1])throw"e";this.atZ(c);this.me();this.ZG()};f7.hue2.prototype.dP=function(d){f.jU(document.body,this.GI);
f.Ra(document.body,this.hI)};f7.hue2.prototype._=function(){for(var S=0;S<this.kw.length;S++)this.kw[S]._()};
f7.hue2.prototype.aas=function(d){var W=this.value.Clrz.v=this.Qc.h();if(W)this.ZJ.c(0);if(d&&d.target==this.Qc){var c=W?1:0;
this.UO[1-c]=fA.ar(this.value,0);var y=this.UO[c];fA.wz(this.value,0,y);if(this.ZJ.h()==0){this._1.c(y[0]);
this.rq.c(y[1]);this.u4.c(y[2])}}var B=this.ZJ.h(),r=fA.ar(this.value,B),y=B==0?r:r.KC;y[0]=this._1.h();
var x=this.rq.h();y[1]=W?Math.max(0,x):x;y[2]=this.u4.h();fA.wz(this.value,B,r);this.me();this.ZG()};
f7.hue2.prototype.me=function(){var d=this.ZJ.h(),W=this.value.Clrz?this.value.Clrz.v:!1;this.Qc.c(W);
this.ZJ.OB(!W);this.z8.OB(!W&&d!=0);var c=fA.ar(this.value,d),y=d==0?c:c.KC;this._1.c(y[0]);this.rq.c(y[1]);
this.u4.c(y[2]);var B=this.YW.width,r=this.YW.height,x=this.bN;x.clearRect(0,0,B,r);if(W||d==0){this.aO.innerHTML="";
return}var Z=c.LT;this.aO.innerHTML=Z[0]+"\xB0 / "+Z[1]+"\xB0<span style=\"float:right\">"+Z[2]+"\xB0 \\ "+Z[3]+"\xB0</span>";
var i=v.R(B*4);fm.a4B(i,1,B,-1,.5);var k=new ImageData(new Uint8ClampedArray(i.buffer),B,1),H=Math.round(r/4);
for(var S=0;S<H;S++)x.putImageData(k,0,S);function V(U,e,O){x.fillStyle=O;var l=H*2;if(U<=e)x.fillRect(U*B,l,(e-U)*B,H);
else{x.fillRect(0,l,e*B,H);x.fillRect(U*B,l,(1-U)*B,H)}}var g=this.RC();V(g[0],g[1],"#888888");V(g[1],g[2],"#cccccc");
V(g[2],g[3],"#888888");x.fillStyle="#ffffff";x.lineWidth=1;x.beginPath();var N=H+.5,C=4*H+.5;for(var S=0;
S<4;S++){var w=Math.floor(B*g[S])+.5,Y=(S<2?-1:1)*H*(S==1||S==2?1:2);x.moveTo(w,N);x.lineTo(w,C);x.lineTo(w+Y,C);
x.lineTo(w+Y,H+H+.5);x.closePath()}x.fill();x.stroke()};f7.hue2.prototype.RC=function(){var d=this.ZJ.h(),W=fA.ar(this.value,d).LT;
for(var S=0;S<4;S++)W[S]=(1000.5+W[S]/360)%1;return W};f7.hue2.prototype.atZ=function(d){var W=this.ZJ.h(),c=fA.ar(this.value,W);
for(var S=0;S<4;S++)c.LT[S]=Math.round(36e3+(d[S]-.5)*360)%360;fA.wz(this.value,W,c)};f7.hue2.prototype.el=function(){return!0};
f7.hue2.prototype.axh=function(){var d=this.Ix.h().indexOf(!0),W=this.z8.h().indexOf(!0);return d!=-1?d:W!=-1?W+1:-1};
f7.hue2.prototype.RQ=function(d,W,c,y,B){var r=this.axh();if(r==-1)return;var x=this.value;this.value=eR.qw("hue2");
this.ZG();var Z=X.tX.uO(d,B,1,null,!0);this.c(x);var i=[Z>>>16&255,Z>>>8&255,Z&255],k=v.CG(i[0]/255,i[1]/255,i[2]/255);
if(r==0){this.ZJ.c(1+Math.round(k.fn*6)%6)}else{var H=this.RC(),V=.5+k.fn,g=1/12,N=H[1],C=H[2];if(C<N){C++;
if(V<N&&V+1-C<N-V)V++}var w=N<=V&&V<=C;if(r==1){N=V-g/2;C=V+g/2}else if(r==2&&!w){N=Math.min(V,N);C=Math.max(V,C)}else if(r==3&&w){if(V-N<C-V)N=V;
else C=V}H=[N-g,N,C,C+g];this.atZ(H)}this.ZG();this.Ap=B.x;this.aDB=this.rq.h()};f7.hue2.prototype.f9=function(d,W,c,y,B){var r=this.axh();
if(r==-1)return;if(r==0){if(this.Ap!=null){var x=B.x-this.Ap;x=Math.max(-100,Math.min(100,this.aDB+.5*x));
this.rq.c(x);this.aas()}}};f7.hue2.prototype.AZ=function(d,W,c,y,B){this.Ap=null};f7.hue2.prototype.c=function(d){this.value=JSON.parse(JSON.stringify(d));
var W=this.value.Clrz?this.value.Clrz.v:!1;this.UO[W?1:0]=fA.ar(this.value,0);this.me()};f7.hue2.prototype.h=function(d){return JSON.parse(JSON.stringify(this.value))};
f7.levl=function(){function d(){f7.call(this);this.value=null;this.yu=null;this.aA=[new aL(0,0),new aL(0,0),new aL(0,0),new aL(0,0),new aL(0,0)];
this.ef=-1;this.GI=this.Sh.bind(this);this.hI=this.dP.bind(this);var W=this.n;this.Of=new gd([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Of.k(b.E.p,this.me,this);W.appendChild(this.Of.n);this.aw=new ge;this.aw.parent=this;this.aw.k(b.E.p,this.K2,this);
W.appendChild(this.aw.n);var c=f.F("div","");W.appendChild(c);var y=f.F("div","");W.appendChild(y);this.YW=f.F("canvas");
c.appendChild(this.YW);this.bN=this.YW.getContext("2d");this.ER=new aL(256,120);this.YW.setAttribute("style","display:block");
f.g0(this.YW);f._0(this.YW,this.T8.bind(this));this.Tr=f.F("canvas","");y.appendChild(this.Tr);this.Ht=this.Tr.getContext("2d");
this.Xo=new aL(this.ER.x,40);this.Tr.setAttribute("style","display:block");f.g0(this.Tr);f._0(this.Tr,this.a2z.bind(this));
var B=this.Ij=[];for(var S=0;S<5;S++){var r=new eO(null,null,3);B.push(r);r.k(b.E.p,this.av$,this);(S<2||S==4?c:y).appendChild(r.n)}c.appendChild(B[1].n);
this.Ix=new gj("Sample from image",ij.B6(["#000000","#888888","#ffffff"]),!0,null,!0);this.Ix.k(b.E.p,this.Bd,this);
W.appendChild(this.Ix.n);this.z2(250,100)}d.prototype=new f7;d.prototype.K2=function(){var W=this.aw.h(),c=this.yu,y=this.value,B=v.aA8(W,c);
for(var S=0;S<4;S++){var r=B[S][0],x=B[S][1],Z=B[S][2],i=[v.YF.la(r,0,!0),v.YF.la(x,255,!0)];if(Z!=null)i.splice(1,0,v.YF.la(128,Z,!0));
var k=[~~r,~~x,0,255,Z==null?100:~~(100+.75*100*(Z-128)/128)];fr.wz(y,S,k)}this.me();this.ZG()};d.prototype.z2=function(W,c){W+=6;
this.ER.x=this.Xo.x=W;f.GS(this.YW,W,this.ER.y,this.bN);f.GS(this.Tr,W,this.Xo.y,this.Ht);var y=this.Ij;
y[3].n.setAttribute("style","margin-left: "+(W-104)+"px");y[4].n.setAttribute("style","margin: 0 "+(W/2-74)+"px");
if(this.value)this.me()};d.prototype._=function(){this.Of._()};d.prototype.av$=function(W){var c=[];
for(var S=0;S<5;S++){var y=255,B=1;if(S==4){y=999;B=100}var r=parseFloat(this.Ij[S].h());c[S]=Math.max(0,Math.min(y,r*B))}fr.wz(this.value,this.Of.h(),c);
this.me();this.ZG()};d.prototype.me=function(W){var c=this.ER.x,y=this.ER.y,B=this.Of.h(),r=this.bN;
r.clearRect(0,0,c,y);r.fillStyle="#cccccc";r.fillRect(8,8,c-16,y-16-8);if(this.yu){var x=this.yu[0].slice(0),C=0;
if(B==0){x.fill(0);var Z=JSON.parse(JSON.stringify(this.value));fr.wz(Z,0,[0,255,0,255,100]);var i=bN.iA("levl",Z),k=[i.Rp,i.qP,i.wN];
for(var H=0;H<3;H++){var V=this.yu[1+H],g=k[H];for(var S=0;S<256;S++)x[g[S]]+=V[S]}}var N=B==0?x:this.yu[B];
for(var S=0;S<N.length;S++)C+=N[S];r.fillStyle="#333333";r.beginPath();r.moveTo(8,y-16);for(var S=0;
S<256;S++){var w=55*N[S]/C;r.lineTo(8+S/256*(c-16),Math.max(8,y-16-y*w))}r.lineTo(c-8,y-16);r.closePath();
r.fill()}var Y=fr.ar(this.value,B);for(var S=0;S<5;S++)this.Ij[S].c(Y[S]/(S==4?100:1));this.aA[0].sq(8+Y[0]/255*(c-16),y-14);
this.aA[1].sq(8+Y[1]/255*(c-16),y-14);var U=Math.log(Y[4]/100)/Math.log(9.99);U=.5-U/2;this.aA[4].sq(this.aA[0].x+U*(this.aA[1].x-this.aA[0].x),y-14);
this.uj(r,this.aA[0],"#000000");this.uj(r,this.aA[1],"#ffffff");this.uj(r,this.aA[4],"#777777");var c=this.Xo.x,y=this.Xo.y;
r=this.Ht;r.clearRect(0,0,c,y);var e=r.createLinearGradient(0,0,c-16,0);e.addColorStop(0,"black");e.addColorStop(1,"white");
r.fillStyle=e;r.fillRect(8,8,c-16,16);this.aA[2].sq(8+Y[2]/255*(c-16),y-14);this.aA[3].sq(8+Y[3]/255*(c-16),y-14);
this.uj(r,this.aA[2],"#000000");this.uj(r,this.aA[3],"#ffffff")};d.prototype.uj=function(W,c,y){W.fillStyle=y;
W.fillRect(c.x-5,c.y,10,10)};d.prototype.T8=function(W){var c=f.Ne(W,this.YW),y=this.azU([0,1,4],c);
if(y!=-1)this.ef=y;this.ayK()};d.prototype.a2z=function(W){var c=f.Ne(W,this.Tr),y=this.azU([2,3],c);
if(y!=-1)this.ef=y;this.ayK()};d.prototype.azU=function(W,c){var y=-1,B=1e9;for(var S=0;S<W.length;S++){var r=Math.abs(this.aA[W[S]].x-c.x);
if(r<B){B=r;y=W[S]}}return B<16?y:-1};d.prototype.ayK=function(W){if(this.ef==-1)return;f.kk(document.body,this.GI);
f.OD(document.body,this.hI)};d.prototype.Sh=function(W){var c=fr.ar(this.value,this.Of.h()),y=f.Ne(W,this.ef==2&&this.ef==3?this.Tr:this.YW),B=255*(y.x-8)/(this.ER.x-16);
B=Math.max(0,Math.min(255,B));if(this.ef==0)B=Math.min(B,c[1]-2);if(this.ef==1)B=Math.max(B,c[0]+2);
if(this.ef!=4)c[this.ef]=Math.round(B);else{var r=(B-c[0])/(c[1]-c[0]);r=1-2*r;r=Math.pow(9.99,r);c[4]=Math.min(999,Math.max(10,Math.round(r*100)))}fr.wz(this.value,this.Of.h(),c);
this.me();this.ZG()};d.prototype.dP=function(W){f.jU(document.body,this.GI);f.Ra(document.body,this.hI);
this.ef=-1};d.prototype.el=function(){return!0};d.prototype.AZ=function(W,c,y,B,r){var x=this.value,Z=this.Ix.h().indexOf(!0);
if(Z==-1)return;this.value=eR.qw("levl");this.ZG();var i=X.tX.uO(W,r,1,null,!0),k=[i>>>16&255,i>>>8&255,i&255];
for(var S=0;S<3;S++){var H=fr.ar(x,1+S);if(Z==0)H[0]=k[S];if(Z==1){var V=Math.log(k[S]/255)/Math.log((k[0]+k[1]+k[2])*.333/255);
H[4]=Math.min(999,Math.max(10,Math.round(100*V)))}if(Z==2)H[1]=k[S];fr.wz(x,1+S,H)}this.c(x);this.ZG()};
d.prototype.c=function(W){this.value=W;this.me()};d.prototype.Vf=function(W){this.yu=W;this.me()};d.prototype.h=function(W){return JSON.parse(JSON.stringify(this.value))};
return d}();f7.phfl=function(){f7.call(this,"phfl");this.kw.push(new b2);this.kw.push(new f2([12,74],0,100,"%"));
this.kw.push(new ff([13,4]));this.wa()};f7.phfl.prototype=new f7;f7.phfl.prototype.NW=function(d,W){W[0]=d.Clr.v;
W[1]=d.Dnst.v;W[2]=d.PrsL.v};f7.phfl.prototype.VJ=function(d,W){var c=v.L.E5(W[0]),y=d.Clr.v,B=v.Xx(c.Z,c.G,c.J);
y.Lmnc.v=B.ns;y.A.v=B.U;y.B.v=B.J;d.Dnst.v=W[1];d.PrsL.v=W[2]};f7.vibA=function(){f7.call(this,"vibA");
this.kw.push(new f2([12,13],-100,100,null));this.kw.push(new f2([12,9],-100,100,null));this.wa()};f7.vibA.prototype=new f7;
f7.vibA.prototype.NW=function(d,W){W[0]=d.vibrance?d.vibrance.v:0;W[1]=d.Strt?d.Strt.v:0};f7.vibA.prototype.VJ=function(d,W){d.vibrance.v=W[0];
d.Strt.v=W[1]};f7.thrs=function(){f7.call(this,"thrs");this.kw.push(new f2([4,13],1,255,null));this.wa()};
f7.thrs.prototype=new f7;f7.thrs.prototype.NW=function(d,W){W[0]=d.Lvl.v};f7.thrs.prototype.VJ=function(d,W){d.Lvl.v=W[0]};
f7.mixr=function(){f7.call(this);var d=this.n;this.Os=[];this.Wo=null;this.ZJ=new gd([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aw$=!1;this.ZJ.k(b.E.p,this.fF,this);d.appendChild(this.ZJ.n);f.MZ(d);this.pO=new ff([12,60]);d.appendChild(this.pO.n);
this.pO.k(b.E.p,this.fF,this);for(var S=0;S<4;S++){var W=new f2([[13,1,1],[13,1,4],[13,1,5],[13,2]][S],-200,200,"%");
W.k(b.E.p,this.fF,this);this.Os.push(W);d.appendChild(W.n)}};f7.mixr.prototype=new f7;f7.mixr.prototype._=function(){this.ZJ._();
this.pO._();for(var S=0;S<4;S++)this.Os[S]._()};f7.mixr.prototype.c=function(d){this.Wo=JSON.parse(JSON.stringify(d));
this.xX()};f7.mixr.prototype.h=function(d){return JSON.parse(JSON.stringify(this.Wo))};f7.mixr.prototype.fF=function(d){if(d.target!=this.ZJ){var W=bN.zF(this.Wo);
if(d.target==this.pO){W.pO=this.pO.h();if(W.pO)W.b=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else W.b=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var c=(W.pO?0:this.ZJ.h())*5,S=this.Os.indexOf(d.target);
W.b[c+(S<3?S:4)]=d.target.h()}this.Wo=bN.aCt(W)}this.xX();this.ZG()};f7.mixr.prototype.xX=function(){var d=bN.zF(this.Wo);
if(d.pO!=this.aw$)this.ZJ.oe(d.pO?[[13,1,7]]:bN.S7);this.aw$=d.pO;this.pO.c(d.pO);var W=(d.pO?0:this.ZJ.h())*5;
for(var S=0;S<4;S++)this.Os[S].c(d.b[W+(S<3?S:4)])};f7.post=function(){f7.call(this,"post");this.kw.push(new f2([4,1],2,255,null));
this.wa()};f7.post.prototype=new f7;f7.post.prototype.NW=function(d,W){W[0]=d.Lvls.v};f7.post.prototype.VJ=function(d,W){d.Lvls.v=W[0]};
f7.clrL=function(){f7.call(this,"clrL");this.kw.push(new al("LUTs"));this.wa()};f7.clrL.prototype=new f7;
f7.clrL.prototype.NW=function(d,W){W[0]=d};f7.clrL.prototype.VJ=function(d,W){var c=W[0];for(var y in c)d[y]=c[y]};
f7.clrL.prototype.lz=function(d,W){if(W==kG.yS||W==kG.w4)this.kw[0].bz(d.a8l)};f7.rplc=function(){f7.call(this,"rplc");
this.kw.push(new f2([12,92],0,200));this.kw.push(new b2);this.kw.push(new f2([12,8],-180,180));this.kw.push(new f2([12,9],-100,100));
this.kw.push(new f2([12,10],-100,100));this.wa()};f7.rplc.prototype=new f7;f7.rplc.prototype.NW=function(d,W){W[0]=d.Fzns.v;
W[1]=d.Mxm.v;W[2]=d.H.v;W[3]=d.Strt.v;W[4]=d.Lght.v};f7.rplc.prototype.VJ=function(d,W){function c(B,r){r.Lmnc.v=B.ns;
r.A.v=B.U;r.B.v=B.J}d.Fzns.v=W[0];d.H.v=W[2];d.Strt.v=W[3];d.Lght.v=W[4];var y=v.L.E5(W[1]),B=v.Xx(y.Z,y.G,y.J);
c(B,d.Mnm.v);c(B,d.Mxm.v)};f7.fade=function(){f7.call(this,"fade");this.kw.push(new f2([12,0],0,100,"%"));
this.kw.push(new gd([12,19,0],dB.mX,dB.Pu));this.wa()};f7.fade.prototype=new f7;f7.fade.prototype.NW=function(d,W){W[0]=d.Opct.v.val;
W[1]=dB.CL.indexOf(d.Md.v.BlnM)};f7.fade.prototype.VJ=function(d,W){d.Opct.v.val=W[0];d.Md.v.BlnM=dB.CL[W[1]]};
f7.aply=function(){var d=dB.CL.concat(["Add","Sbtr"]);d.splice(21,1);var W=dB.mX.concat([[15,10,28],[15,10,21]]);
W.splice(21,1);var c=dB.Pu.slice(0);c[4]--;function y(){f7.call(this,"aply");this.kw.push(new gd([0,3],[]));
this.kw.push(new gd([12,4],["RGB"].concat(bN.S7).concat(["Transparency"])));this.kw.push(new ff([4,11]));
this.kw.push(new gd([12,19,0],W,c));this.kw.push(new f2([12,0],0,100,"%"));this.kw.push(new kk([12,38],1,2,null,2));
this.kw.push(new kk([12,6],-255,255));this.kw.push(new ff([13,5]));this.wa([2]);this.VK=null}y.prototype=new f7;
y.prototype.NW=function(B,r,x){if(x){var Z=x[2].B,i=this.VK=[];for(var S=0;S<Z.length;S++){var k=Z[S].getName();
i.push(k.length<30?k:k.slice(0,27)+"...")}i.reverse();this.kw[0].oe([[5,7]].concat(i),[1,i.length])}else var i=this.VK;
B=B.With.v;var H=B.T.v;r[0]=H[1].t=="name"?1+i.indexOf(H[1].v.val):0;r[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(H[0].v.enum);
r[2]=B.Invr.v;var V=B.Clcl.v.Clcn;r[3]=d.indexOf(V);r[4]=B.Opct.v.val;r[5]=B.Scl.v;r[6]=B.Ofst.v;r[7]=B.PrsT.v};
y.prototype.VJ=function(B,r){B=B.With.v;var x=B.T.v;if(r[0]==0)x[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else x[1]={t:"name",v:{classID:"Lyr",val:this.VK[r[0]-1]}};x[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][r[1]];
B.Invr.v=r[2];var Z=B.Clcl.v.Clcn=d[r[3]];B.Opct.v.val=r[4];B.Scl.v=r[5];B.Ofst.v=r[6];B.PrsT.v=r[7];
var i=Z=="Add"||Z=="Sbtr";this.kw[5].OB(i);this.kw[6].OB(i)};return y}();f7.matc=function(){var d,W,c=0;
function y(){f7.call(this,"matc");this.kw.push(new f2("Luminance",1,200));this.kw.push(new f2("Color Intensity",1,200));
this.kw.push(new f2([2,11],0,100,"%"));this.kw.push(new ff("Neutralize"));this.kw.push(new gd([12,70],[]));
this.kw.push(new gd([0,3],[]));this.wa([2])}function B(r,x){r.kw[5].oe([[5,7]].concat(x),[1,x.length])}y.prototype=new f7;
y.prototype.NW=function(r,x,Z){c=0;x[0]=r.Lght.v;x[1]=r.ClrR.v;x[2]=r.Fade.v;x[3]=r.neutralizeColor?r.neutralizeColor.v:!1;
x[4]=x[5]=0;var i=r.Srce;if(i)i=i.v;if(Z){d=[];W=[];var k=Z[2],H=Z[3];for(var S=0;S<H.length;S++){var V=H[S];
d.push(V.name);var g=V.B,N=[];W.push(N);for(var C=0;C<g.length;C++)N.push(g[C].getName());N.reverse()}this.kw[4].oe([[13,1,0]].concat(d),[1,d.length]);
var w=H.indexOf(k);if(i)w=d.indexOf(i[1].v.val);B(this,W[w])}if(i){var Y=d.indexOf(i[1].v.val);x[3]=c=1+Y;
if(i[0].t=="name")x[4]=1+W[Y].indexOf(i[0].v.val)}};y.prototype.VJ=function(r,x){r.Lght.v=x[0];r.ClrR.v=x[1];
r.Fade.v=x[2];r.neutralizeColor.v=x[3];if(x[4]==0){r.noReference={t:"bool",v:!0};delete r.Srce}else{if(x[4]!=c){c=x[4];
B(this,W[x[4]-1])}delete r.noReference;var Z={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},i=W[x[4]-1];
if(x[5]!=0)Z={t:"name",v:{classID:"Lyr",val:i[x[5]-1]}};r.Srce={t:"obj ",v:[Z,{t:"name",v:{classID:"Dcmn",val:d[x[4]-1]}}]}}};
return y}();function kB(d,W){d9.call(this);if(d==null)return;this.id=W;this.Ep=d;this.yZ=null;this.n=f.F("div","window "+W);
this.al_=null;this.n4=f.F("div","whead");this.a7M=f.F("span","wname");this.n4.appendChild(this.a7M);
this.acM=!1;this.n.appendChild(this.n4);this.Ad=this.ag3.bind(this);this.Fv=this.a8K.bind(this);this.kU=this.aB3.bind(this);
f.g0(this.n4);f._0(this.n4,this.Ad);this.at9=f.F("span","cross gsicon");this.n4.appendChild(this.at9);
kB.prototype._.call(this);f.OD(this.at9,this.a7x.bind(this));this.body=f.F("div","body");this.n.appendChild(this.body)}kB.prototype=new d9;
kB.prototype.cN=function(){return!1};kB.prototype.el=function(){return!1};kB.prototype._=function(){if(this.Ep==null)return;
this.a7M.textContent=ay.get(this.Ep)};kB.prototype.RQ=function(d,W,c,y,B){};kB.prototype.kp=function(d,W,c,y,B){};
kB.prototype.f9=function(d,W,c,y,B){};kB.prototype.AZ=function(d,W,c,y,B){};kB.prototype.AQ=function(d,W,c,y,B){};
kB.prototype.z9=function(d,W,c,y){if(y.S(bm.Qy)&&this.pn)this.pn();if(y.S(bm.Z7)){var B=new bR(b.E.v);
B.vd=!0;X.UK.akp(y,B);if(B.data)W.T(B)}};kB.prototype.Ea=function(d){return!1};kB.prototype.oy=function(d,W){return!0};
kB.prototype.M7=function(d,W,c,y){};kB.prototype.lz=function(d,W){};kB.prototype.i$=function(d,W){return null};
kB.prototype.aiQ=function(d){return this.al_};kB.prototype.z2=function(){};kB.prototype.close=function(){this.T(new bR(b.E.IF))};
kB.prototype.ag3=function(d){this.yZ=f.Ne(d,this.n);f.kk(window,this.Fv);f.OD(window,this.kU)};kB.prototype.a8K=function(d){var W=this.n.parentNode,c=f.Ne(d,W),y=Math.round(c.x-this.yZ.x),B=W.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(c.y-this.yZ.y)));
this.al_=new aL(y,B);this.n.style.left=y+"px";this.n.style.top=B+"px"};kB.prototype.aB3=function(d){f.jU(window,this.Fv);
f.Ra(window,this.kU)};kB.prototype.a7x=function(d){if(this.acM){this.pn();return}this.T(new bR("closebtn"));
this.close()};function j8(){kB.call(this,"About Photopea","aboutpp");var d=f.F("div","flexrow");this.body.appendChild(d);
var W=this.ar9=f.F("img");d.appendChild(W);this.body.setAttribute("style","margin:0; padding:0");var c=this.UJ=f.F("div");
c.innerHTML=j8.iy;d.appendChild(c);var y=this.RS=f.F("span");y.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(y)}j8.prototype=new kB;j8.prototype.i$=function(d,W){return new aL(0,0)};j8.prototype.z2=function(d,W){var c=this.ar9,y=this.UJ,B=this.RS,r=(d+W-42-42)/110;
r=Math.sqrt((d-42)*(W-42))/50;c.setAttribute("style","width:"+d/2+"px; height:"+W+"px; display:block; object-fit:cover;");
y.setAttribute("style","width:"+(d/2-42)+"px; height:"+(W-42)+"px; padding:20px; font-size:"+r+"px;");
B.setAttribute("style","position:absolute;  bottom:10px; right:"+(d/2+10)+"px")};j8.prototype._=function(){};
j8.prototype.M7=function(d,W,c,y){this.ar9.setAttribute("src","promo/ivan_pp.webp")};j8.iy="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function dU(){kB.call(this,[0,13,0],"account");this.rf=f.F("div","form scrollable");this.body.appendChild(this.rf);
this.body.style.padding="0";this.u8=[new dU.cK,new dU.RA("::privacy.html"),new dU.RA(dU.adQ)];for(var S=0;
S<this.u8.length;S++)this.u8[S].parent=this;this.k("showpage",this.a6m,this)}dU.prototype=new kB;dU.prototype.oy=function(d,W){var c=navigator.onLine;
if(!c)alert("Go online first");return c};dU.prototype.z2=function(d,W){this.rf.setAttribute("style","width:"+Math.min(d-40,740)+"px;  height:"+(W-38)+"px;  padding:1.5em;");
this.u8[0].z2(d,W)};dU.prototype.i$=function(d,W){return new aL(Math.max(0,Math.min(150,(d-740)/2)),Math.max(0,Math.min(100,(W-500)/2)))};
dU.prototype.a6m=function(d){f.qf(this.rf);this.rf.scrollTop=0;this.rf.appendChild(this.u8[d.data.Wr].n)};
dU.prototype._=function(){kB.prototype._.call(this);for(var S=0;S<this.u8.length;S++)this.u8[S]._()};
dU.prototype.M7=function(d,W,c){if(!navigator.onLine)return;f.qf(this.rf);var y=this.u8[0];this.rf.appendChild(y.n);
y.M7();this._()};dU.prototype.lz=function(d,W){this.M7(null,null,null)};dU.cK=function(){d9.call(this);
this.n=f.F("div");var d=this.n,Z,i,H="font-size:1.25em;",V="text-align:center;",N="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",C="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",w="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",e=12;
this.CK=f.F("div");d.appendChild(this.CK);this.FL=new gs([0,11],!1,null,!0);this.FL.n.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.FL.k("click",this.MP,this);d.appendChild(this.FL.n);this.ct=new gs([0,13,1],!1,null,!0);this.ct.k("click",this.akY,this);
d.appendChild(this.ct.n);this.BZ=new gs("Business Terms",!1,null,!0);this.BZ.k("click",this.aor,this);
d.appendChild(this.BZ.n);var W=f.F("div");W.style.margin="20px 0";d.appendChild(W);var c=["Account Types","Go Premium","Team Settings","Distributors"],y=this.yW=[],B=this.asZ=[],r=this.nW=f.F("div");
d.appendChild(r);for(var S=0;S<c.length;S++){var x=f.F("span");x.textContent=c[S];W.appendChild(x);y.push(x);
x.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
x.addEventListener("click",this.Ir.bind(this));B.push(f.F("div"))}this.Ir(0);var k=this.af6="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
d=B[0];var i=f.F("table"),g="style=\" "+V+H+" padding-bottom:20px;\"";i.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+w+">\t\t\t\t\t<div "+g+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+w+">\t\t\t\t\t<div "+g+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+C+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+C+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
d.appendChild(i);var x=new gs("Go Premium");x.n.setAttribute("style",k+"padding:10px 0;");x.k("click",function(I){this.Ir(1)},this);
i.children[0].children[1].children[1].appendChild(x.n);this.Mu=f.F("div");d.appendChild(this.Mu);d=B[1];
var Y=this.a6n=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.Ut=[];for(var S=0;S<Y.length;S++)this.Ut.push(new gs("Buy: $"+Y[S][0],!1,null,!0));for(var S=0;
S<this.Ut.length;S++){this.Ut[S].k("click",this.azE,this)}this.ro=new gs("...",!0);this.ro.n.setAttribute("style",k);
d.appendChild(this.ro.n);i=this.a3r(4,["Single user",this.Ut[0],this.Ut[1],this.Ut[2],"Team of 5",this.Ut[3],this.Ut[4],this.Ut[5],"Team of 20",this.Ut[6],this.Ut[7],this.Ut[8],"Team of 50",this.Ut[9],this.Ut[10],this.Ut[11]]);
d.appendChild(i);var U=f.F("div");d.appendChild(U);U.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.aiU=new ff("I accept",!0,"");d.appendChild(this.aiU.n);this.dR=new gs([0,13,1],!1,null,!0);this.dR.k("click",this.akY,this);
d.appendChild(this.dR.n);this.zP=new gs("I have a key",!1,null,!0);this.zP.n.setAttribute("style",k+" float:right; width:inherit;");
this.zP.k("click",this.azE,this);d.appendChild(this.zP.n);d=B[2];this._$=new iz;this._$.parent=this;
this._$.k(b.E.p,this.ay,this);d.appendChild(this._$.n);d=B[3];this.yw=new gs("...",!0);this.yw.n.setAttribute("style",k);
d.appendChild(this.yw.n);i=this.a3r(3,["1000 views/mo",this.Ut[e++],this.Ut[e++],this.Ut[e++],"5000 views/mo",this.Ut[e++],this.Ut[e++],this.Ut[e++],"20000 views/mo",this.Ut[e++],this.Ut[e++],this.Ut[e++]]);
d.appendChild(i);var O=f.F("p");O.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
d.appendChild(O);this.ln=new eO("Domain name (e.g. domain.com)",null,14);d.appendChild(this.ln.n);var l=new gs("Save Domain Settings",!1,null,!0);
l.JR();d.appendChild(l.n);l.k("click",this.anS,this)};dU.cK.prototype=new d9;dU.cK.prototype.Ir=function(d){var W=typeof d=="number"?d:this.yW.indexOf(d.target);
for(var S=0;S<4;S++)this.yW[S].style.opacity=.6;this.yW[W].style.opacity=1;f.qf(this.nW);this.nW.appendChild(this.asZ[W])};
dU.cK.prototype.z2=function(d,W){var c=d<600?"d":" days",y=["30 days","90 days","365 days"];if(d<600)y=["30d","90d","365d"];
var B=this.a6n;for(var S=0;S<B.length;S++){this.Ut[S].N2("<span>"+y[S%3]+": <sup>$</sup><big><b>"+B[S][0]+"</b></big>"+"</span>");
this.Ut[S].n.setAttribute("style",this.af6)}};dU.cK.prototype.akY=function(d){var W=new bR("showpage",!0);
W.data={Wr:1};this.T(W)};dU.cK.prototype.aor=function(d){var W=new bR("showpage",!0);W.data={Wr:2};this.T(W)};
dU.cK.prototype._=function(){this.FL.N2(jj.zO()?ay.get([0,11]):ay.get([0,10]));this.dR._();this.ct._();
this.BZ._()};dU.cK.prototype.az2=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.ea,link:"https://www.photopea.com/api/accounts#"+(d.target==this.adw?"teams":"distributors")};
this.T(W)};dU.cK.prototype.aAi=function(d){var W=d.currentTarget==this.aeb;this.aeb.c(W);this.a81.c(!W)};
dU.cK.prototype.atC=function(d){var W=this.aeb.h(),c=this.ahA.h().trim().toLowerCase(),y=this.ah5.value.trim().toLowerCase();
if(c.length>60){alert("Too long email address");return}if(y.length>600){alert("Too many team members");
return}y=y.split(",").join(" ").trim();y=y.replace(/\s+/g," ");if(y=="")y=[];else y=y.split(" ");var B=jj.n2();
if(B==null)B={};if(B.acc==null)B.acc={};B.acc.team={jin:W,ldr:c,mmb:y};jj.XR(B,this.ay.bind(this));alert("Saved!");
this.M7()};dU.cK.prototype.anS=function(d){var W=this.ln.h().trim();if(!jj.zO()){alert("You have to log in first.");
return}if(jj.SC()==0){alert("Order a distributor account first.");return}var c=jj.n2();if(c==null)c={};
if(c.acc==null)c.acc={};if(W=="")delete c.acc.dname;else c.acc.dname=W;jj.XR(c,this.ay.bind(this));alert("Saved!");
this.M7()};dU.cK.prototype.apD=function(d){var W=jj.SA(),S=this.E8,c=jj.n2();if(c==null)c={};if(c.acc==null)c.acc={};
c.acc.bto=d;jj.XR(c,function(){});var y=dU.a0T(d.split("\n"),W.pmnts[S]);bw.save(y,"photopea_invoice.pdf")};
dU.cK.prototype.ajW=function(d){var W=jj.SA(),c=jj.n2(),y=c.acc?c.acc.bto:null;if(y==null)y=W.name+"\n"+W.email;
var S=-1,B=d.target.n.parentNode;while((B=B.previousSibling)!=null)S++;this.E8=S;var r=new bR(b.E.V,!0);
r.data={d:b.H.vB,vD:"billto",qp:y,Ws:this.apD.bind(this)};this.T(r)};dU.cK.prototype.M7=function(){this.CK.innerHTML="";
f.qf(this.Mu);if(jj.zO()){var d=jj.SA(),W=d.pmnts;if(d==null)return;this.CK.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+d.name+"</span> "+d.email+" <br/>";
if(W){var c="<h2>Payments</h2>";for(var S=0;S<W.length;S++){var y=W[S],B=new Date(y[0]*1e3);c+="<div style=\"font-size:1.2em\">"+B.getDate()+". "+(B.getMonth()+1)+". "+B.getFullYear()+" - "+dU.aqO(y)+"</div>"}this.Mu.innerHTML=c;
for(var S=0;S<W.length;S++){var r=new gs("Get Invoice",!1,null,!0);r.n.setAttribute("style","float:right");
r.k("click",this.ajW,this);this.Mu.children[S+1].appendChild(r.n)}}}else{}var x=jj.zO()&&jj.Xf();this.ro.n.style.display=x?"block":"none";
if(x){var Z,i,k=x;if(k[0]==0){Z=jj.Fr(k[1])-Date.now()*(1/1e3);i=k[1][2]==1?"Single User":"Team Of "+k[1][2]}else{Z=k[1][1]-Date.now()*(1/1e3);
i="Member of \""+k[1][0]+"\""}this.ro.N2("Premium active for "+Math.round(Z/(60*60*24))+" more days! ("+i+")")}var H=jj.zO()&&jj.SC()*1e3>Date.now();
this.yw.n.style.display=H?"block":"none";if(H){var Z=jj.SC()-Date.now()/1e3;this.yw.N2("Distributor active for "+Math.round(Z/(60*60*24))+" more days!")}var V=jj.n2();
this._$.M7();if(V&&V.acc&&V.acc.dname)this.ln.c(V.acc.dname);else this.ln.c("")};dU.cK.prototype.a3r=function(d,W){var c=f.F("table");
if(!0){var y="<table><tr>";for(var S=0;S<d;S++)y+="<th>"+W[S*4]+"</th>";y+="</tr></table>";c.innerHTML=y;
for(var S=0;S<3;S++){var B=f.F("tr"),r;c.appendChild(B);for(var x=0;x<d;x++){r=f.F("td");r.style.width=Math.round(100/d)+"%";
B.appendChild(r);r.appendChild(W[x*4+1+S].n)}}}return c};dU.cK.prototype.azE=function(d){var W=this.Ut.indexOf(d.currentTarget),y=30,B=1;
if(!jj.zO()){this.MP();return}if(this.aiU.h()==!1&&W<12){alert("You must accept Terms of Service");return}var c=jj.zO()&&jj.Xf();
if(W!=-1){var r=this.a6n[W];y=r[1];B=r[2]}if(c&&B<1e3){alert("You already have premium.");return}console.log(r,y,B);
if(W==-1){var x=prompt("Please enter your key");if(x!=null){jj.afe(x,this.ay.bind(this));this.tr()}return}if(y==30&&B==1){var Z=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!Z)return}jj.order(y,B,this.ay.bind(this));this.tr()};dU.cK.prototype.ay=function(d){this.M7();this.tr()};
dU.cK.prototype.MP=function(d){if(jj.zO()){jj.ao4();this.tr();this.M7(null,null,null)}else jj.MP(this.aBN.bind(this))};
dU.cK.prototype.aBN=function(){var d=new bR(b.E.V,!0);d.data={d:b.H.aaO};this.T(d)};dU.cK.prototype.tr=function(){var d=new bR(b.E.V,!0);
d.data={d:b.H.a22};this.T(d)};dU.RA=function(d){d9.call(this);this.n=f.F("div");var W=this.n,c=this.aCi=new gs([0,13,2],!1,null,!0),y;
c.k("click",this.a5Q,this);W.appendChild(c.n);if(d.startsWith("::")){y=f.F("iframe");y.setAttribute("style","width:100%;height:1700px; background-color:white;");
y.setAttribute("src",d.slice(2))}else{y=f.F("div");y.innerHTML=d}W.appendChild(y)};dU.RA.prototype=new d9;
dU.RA.prototype.a5Q=function(d){var W=new bR("showpage",!0);W.data={Wr:0};this.T(W)};dU.RA.prototype._=function(){this.aCi._()};
dU.adQ="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
dU.aqO=function(d){var W=d[1]+" days, ";if(d[2]<1e3)return"Photopea Premium ("+W+d[2]+" user"+(d[2]==1?"":"s")+")";
else return"Photopea Distributor ("+W+d[2]+" views/month)"};dU.a0T=function(d,W){d=["Bill To:"].concat(d);
var c=new ToPDF,y=595,B=842,r=40,x=18,Z=12,i=500,k=100,H=400,w=0;function V(a,J,F,h,m){N.font.Tf=m?"Helvetica-Bold":"Helvetica";
N.ctm=[1,0,0,1,J,F];N.font.Tfs=h?h:Z;c.PutText(N,a,0)}function g(a,J,F,h){for(var S=0;S<a.length;S++){V(a[S],J,F-S*h,null,S==0)}}var N=UDOC.getState();
c.StartPage(0,0,y,B);V("INVOICE",y-r-140,B-r-30,30,!0);g(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],r,B-r-40,x);
var C=new Date(W[0]*1e3);g(["Date: "+C.getDate()+". "+(C.getMonth()+1)+". "+C.getFullYear(),"Transaction ID: "+W[4]],y-r-140,B-r-40-x*2,x);
var Y=d.join("");for(var S=0;S<Y.length;S++)w=Math.max(w,Y.charCodeAt(S));if(w>256){var U=4,e=f.F("canvas"),O=e.getContext("2d"),l=0;
O.font=Z*U+"px sans-serif";for(var S=0;S<d.length;S++)l=Math.max(l,O.measureText(d[S]).width);var I=Math.round(l)+20,s=d.length*U*x+20;
e.width=I;e.height=s;O.font=Z*U+"px sans-serif";for(var S=0;S<d.length;S++){O.font=(S==0?"bold ":"")+Z*U+"px sans-serif";
O.fillText(d[S],10,(S+1)*U*x)}document.body.appendChild(e);var z=new Uint8Array(O.getImageData(0,0,I,s).data.buffer);
N.ctm=[I/U,0,0,s/U,r-10/U,B-r-40-100-s/U];c.PutImage(N,z,I,s);N.ctm=[1,0,0,1,0,0]}else g(d,r,B-r-40-100,x);
N.colr=[.8,.8,.8];N.pth={cmds:["M","L","L","L","Z"],crds:[r,i,y-r,i,y-r,i-x,r,i-x]};c.Fill(N);N.colr=[0,0,0];
var R=[r,i,y-r,i,r,i-x,y-r,i-x,r,i-k,y-r,i-k,r,i,r,i-k,y-r,i,y-r,i-k,H,i,H,i-k],t=[];for(var S=0;S<R.length;
S+=4)t.push("M","L");N.pth={cmds:t,crds:R};c.Stroke(N);V("Order details",r+4,i-14);V(dU.aqO(W),r+4,i-x-14);
V("TOTAL:",r+4,i-k-14,null,!0);V("Price",y-r-50,i-14);V(W[3]+" USD",y-r-60,i-x-14);V(W[3]+" USD",y-r-60,i-k-14,null,!0);
V("www.Photopea.com",r,r);V("support@photopea.com",y-r-130,r);c.ShowPage();c.Done();return c.buffer};
function aH(){kB.call(this,[11,14],"addguides");this.q5;this.kO={UA:{Wx:0}};this.u3=null;var d=f.F("div","form");
this.body.appendChild(d);this.xj=[];this.AW=new ij(null,["Hi"]);d.appendChild(this.AW.n);f.MZ(d);this.AW.k(b.E.p,this.LR,this);
this.wc=new eO([22,4,0],null,16);this.wc.k(b.E.p,this.Ol,this);this.QS=new eO([22,4,1],null,16);this.QS.k(b.E.p,this.Ol,this);
this.st=new gd(null,v.T6.rS);this.st.k(b.E.p,this.Ol,this);d.appendChild(this.wc.n);d.appendChild(this.st.n);
f.MZ(d);d.appendChild(this.QS.n);this.$n=f.GA(this,d);this.k("closebtn",this.$t,this)}aH.prototype=new kB;
aH.prototype.oy=function(d,W){return d!=null};aH.prototype.cN=function(){return!0};aH.prototype._=function(){kB.prototype._.call(this);
this.wc._();this.QS._();this.st._();this.$n._()};aH.prototype.lz=function(d,W){var c=d.UA.Wx;this.kO.UA.Wx=c;
this.st.c(c)};aH.prototype.M7=function(d,W){this.q5=d;this.u3=JSON.stringify(d.B5());this.xj=[-1];var c=["Global"],y=d.root.children,B=d.Vj();
for(var S=0;S<y.length;S++){var r=y[S].a;if(r.add.artb){c.push(r.getName());this.xj.push(y[S].index)}}this.AW.oe(c);
this.AW.c(this.xj.indexOf(B));this.LR()};aH.prototype.LR=function(){var d=this.q5,W=d.B5(),c=this.xj[this.AW.h()],y=[0,0];
if(c!=-1){var B=d.B[c].ZB();y=[B.x,B.y]}var r=function(x,Z,d,i,k){var H=x[0],V=[];for(var S=0;S<H.length;
S++)if(x[1][S]==c&&H[S][0]==Z)V.push(v.T6.By(H[S][1]-y[Z],d.tU,i,k));V.sort(function(g,N){return g-N});
return V.join(", ")};this.wc.c(r(W,1,d,this.kO,d.i));this.QS.c(r(W,0,d,this.kO,d.m))};aH.prototype.Ol=function(d){if(d&&d.currentTarget==this.st)this.kO.UA.Wx=this.st.h();
else{var W=this.aoV(),c=this.q5;c.Pe(W);c.ps=!0}this.LR()};aH.prototype.aoV=function(){var d=this.q5,W=d.B5(),c=this.xj[this.AW.h()],y=[0,0];
if(c!=-1){var B=d.B[c].ZB();y=[B.x,B.y]}var r=[];for(var x=0;x<2;x++){var Z=x==0?this.QS:this.wc,i=x==0?d.m:d.i,k=Z.h().replace(/,/g," ").replace(/  +/g," ").trim(),H=k==""?[]:k.split(" ");
for(var S=0;S<H.length;S++)r.push([x,v.T6.aDu(H[S],d.tU,this.kO,i)+y[x]])}for(var S=0;S<W[0].length;
S++)if(W[1][S]==c){W[0].splice(S,1);W[1].splice(S,1);S--}for(var S=0;S<r.length;S++){W[0].push(r[S]);
W[1].push(c)}return W};aH.prototype.$t=function(d){var W=this.q5;W.Pe(JSON.parse(this.u3));W.ps=!0;this.q5=null};
aH.prototype.pn=function(d){this.Ol(d);var W=new bR(b.E.v,!0);W.f=X.Sj;W.data={d:"gids",ZM:JSON.parse(this.u3),MN:this.q5.B5()};
this.q5=null;this.close();this.T(W)};function cZ(d){kB.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups"}[d],d);
this.kO=null;this.q5=null;var W=f.F("div","form");this.body.appendChild(W);W.setAttribute("style","width:300px");
this.I7=new kO("Source Images",!0,!0);W.appendChild(this.I7.n);this.LF=new gd([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.W1=new ff("Order images by name");this.W1.c(!0);var c=this.aDt=fd.xs();for(var S=0;S<c.length;S++)if(fd.Ay(c[S]).IX){c.splice(S,1);
S--}c.push("SVG","PDF");this.gt=new gd([12,50],c);this.pt=new cv;this.gt.k(b.E.p,this.Yu,this);this.j2=new gd("Action Set",[]);
this.j2.k(b.E.p,this.lz,this);this.j3=new gd("Action",[]);if(d=="pdfpres"){W.appendChild(this.LF.n);
W.appendChild(this.W1.n)}else{if(d=="batch"){W.appendChild(this.j2.n);f.MZ(W);W.appendChild(this.j3.n);
f.WH(W)}W.appendChild(this.gt.n);W.appendChild(this.pt.n)}var y=["VAR0 PDF",[1,8]];if(d=="cformat")y="Convert Images";
if(d=="batch")y="Process Images";if(d=="mockups")y="Generate";var B=new gs(y,!0,null,!0);B.k("click",this.Mf,this);
W.appendChild(B.n);this.Yu()}cZ.prototype=new kB;cZ.prototype.Yu=function(d){var W=this.aDt[this.gt.h()];
this.pt.ph(W)};cZ.prototype.Mf=function(d){var W=this.I7.h(),c=[],r=595,x=842,C;for(var y in W)c.push(y);
if(c.length==0){alert("No images selected");return}if(this.W1.h())c.sort();var B=this.LF.h(),Z=new ToPDF,i=UDOC.getState(),k=this.aDt[this.gt.h()],H=fd.Ay(k),V=this.pt.h(),g={},N=this.q5;
if(this.id=="mockups"){if(N==null){alert("Open a document with smart objects");return}var w=N.B[N.g[0]];
if(w.add.SoLd==null){w=null;for(var S=0;S<N.B.length;S++)if(N.B[S].add.SoLd)w=N.B[S];if(w==null){alert("There are no smart objects in a current document.");
return}}N.g=[N.B.indexOf(w)];C=w.add.SoLd.Sz.v}for(var Y=0;Y<c.length;Y++){var y=c[Y],U=W[y],e=U[0]==255,O=fd.$Z(U.buffer),l=fd.Ay(O),I=[{H2:new a8,data:new ArrayBuffer(0)}],s=null;
if(O=="psd"&&!H.IX)I=hd.anl(U.buffer);else if(l.IX){s=new eb("file.psd");l.Pd(U.buffer,s);s.zv();if(!H.IX){if(s.O5)bQ.bn(s,this.kO.Sm,this);
s.W();s.pM();I=[{H2:new a8(0,0,s.m,s.i),data:s.Li().buffer}]}}else I=l.Pd(U.buffer);if(this.id=="batch"){var z=new bR(b.E.V,!0),R=this.kO,t=R.HV,a=t[this.j2.h()];
for(var S=0;S<I.length;S++){s=fd.ge(y,[I[S]]);z.data={d:b.H._I,Ig:s};this.T(z);if(s.B.length==3)s.g=[1];
hC.a4g(s,t,a.nW[this.j3.h()].o1,a.o1,this);s.W();s.pM();I[S].H2=new a8(0,0,s.m,s.i);I[S].data=s.Li().buffer;
I[S].tU=s.tU;I[S].FG=s.FG;z.data={d:b.H.ku,Y1:s};this.T(z)}}if(this.id=="mockups"){var z=new bR(b.E.HQ,!0);
z.data={cx:"placedLayerEditContents",i9:{classID:"placedLayerEditContents"}};this.T(z);var J=new bR(b.E.v,!0);
J.f=X.jq;J.data={d:e8.DC};this.T(J);var F=new Uint8Array(I[0].data),h=I[0].H2,m=X.X.Wf([F,h],new dT(C.Wdth.v/h.m,0,0,C.Hght.v/h.i,0,0));
J.f=X.jq;J.data={d:e8.ra,qt:{buffer:m.buffer,rect:m.rect}};this.T(J);var z=new bR(b.E.V,!0);z.data={d:b.H.DN};
this.T(z);z.data={d:b.H.ku};this.T(z);I=[{data:N.Li().buffer,H2:new a8(0,0,N.m,N.i)}];J.data={d:"h_stepbck"};
J.f=X._X;this.T(J)}var D=I[0].H2,_=new Uint8Array(I[0].data),n=D.m,j=D.i;if(this.id=="pdfpres"){var T=[[595,842],[842,595],[595,595],[595,0]][B];
if(B==3)T[1]=Math.round(T[0]*j/n);var r=T[0],x=T[1],L=Math.min(r/n,x/j);Z.StartPage(0,0,r,x);i.ctm=[n*L,0,0,j*L,(r-n*L)/2,(x-j*L)/2];
Z.PutImage(i,e?U:_,n,j);Z.ShowPage()}else{var p=y.split("."),E;p.pop();p.push(k.toLowerCase());if(H.IX){if(s==null){s=fd.ge(y,I);
s.zv()}E=H.Cy(s,s.m,s.i,V,this.kO)}else{var G=[];for(var S=0;S<I.length;S++){var A=I[S],u=A.l6,q=0;if(u){u=u.split(",");
if(u[1])q=parseInt(u[1])}G.push([A.data,q,A.tU,A.RO,null,A.FG])}E=H.Cy(G,n,j,V)}g[p.join(".")]=new Uint8Array(E)}}if(this.id=="pdfpres"){Z.Done();
bw.save(Z.buffer,"file.pdf")}else{bw.save(UZIP.encode(g),"images.zip")}};cZ.prototype.M7=function(d,W,c,y){this.q5=d};
cZ.prototype.lz=function(d,W){if(W!=null){this.kO=d;var c=d.HV,y=[];for(var S=0;S<c.length;S++)y.push(c[S].o1);
this.j2.oe(y)}else d=this.kO;var c=d.HV.length==0?[]:d.HV[this.j2.h()].nW,y=[];for(var S=0;S<c.length;
S++)y.push(c[S].o1);this.j3.oe(y)};cZ.prototype._=function(){kB.prototype._.call(this);this.I7._();this.LF._();
this.W1._()};function j0(d){var W=eR.names[d];if(W==null)W=bN.names[d];if(d=="aply")W=[2,12];if(d=="fade")W=[2,11];
if(d=="matc")W=[4,18];if(d=="blendOptions")W=[14,10];kB.call(this,W,"afw_"+d);this.Fx=d;this.MW=null;
this.eI=null;this.Q1=new f7[d];this.Q1.k(b.E.p,this.ZG,this);this.Q1.parent=this;this.body.appendChild(this.Q1.n);
this.Cw=new ff([24,18,5]);this.Cw.c(!0);this.Cw.k(b.E.p,this.ZG,this);this.H8=new gs([1,12,2],!0,null,!0);
this.H8.k("click",this.S_,this);this.$n=f.GA(this);if(this.ls())this.Q1.Fd(this.$n.n);else{f.CH(this.Q1.n,"form");
f.CH(this.body,"flexrow");this.Q1.n.setAttribute("style","width:312px");var c=f.F("div");this.body.appendChild(c);
c.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");c.appendChild(this.$n.n);c.appendChild(this.H8.n);
c.appendChild(this.Cw.n)}this.k("closebtn",this.lD,this)}j0.prototype=new kB;j0.prototype.cN=function(){return!0};
j0.prototype.ls=function(){return this.Q1!=null&&this.Q1.uB()};j0.prototype.i$=function(){return this.ls()?new aL(0,0):kB.prototype.i$()};
j0.prototype.Ea=function(d){return this.Q1.Ea(d)};j0.prototype.el=function(){return this.Q1.el()};j0.prototype.RQ=function(d,W,c,y,B){this.Q1.RQ(d,W,c,y,B)};
j0.prototype.f9=function(d,W,c,y,B){this.Q1.f9(d,W,c,y,B)};j0.prototype.AZ=function(d,W,c,y,B){this.Q1.AZ(d,W,c,y,B)};
j0.prototype.oy=function(d,W){if(this.Fx=="fade")return j0.ak5(d);return!0};j0.prototype.S_=function(d){this.Q1.c(eR.qw(this.Fx));
this.ZG()};j0.prototype.ZG=function(d){this.rV({d:"edit",Za:this.Q1.h(),_U:!this.Cw.h()})};j0.prototype.lD=function(d){this.rV({d:"cancel"})};
j0.prototype.pn=function(d){if(!this.Cw.h()){this.Cw.c(!0);this.ZG()}this.eI=this.Q1.h();if(this.ls())this.ZG();
this.rV({d:"confirm"});this.close()};j0.prototype._=function(){kB.prototype._.call(this);this.Cw._();
if(this.Q1)this.Q1._();this.$n._()};j0.prototype.lz=function(d,W){if(this.Q1)this.Q1.lz(d,W)};j0.prototype.z9=function(d,W,c,y){if(this.ls())this.Q1.z9(y);
else kB.prototype.z9.call(this,d,W,c,y)};j0.prototype.M7=function(d,W,c,y){this.MW=W.MW;var B=d.add.lnk2?d.add.lnk2:[],r,x,Z=new a8(0,0,d.m,d.i),i=d.B[d.g[0]],H=null;
r=i.buffer;x=i.rect;var k=d.u&&this.Fx=="LqFy"&&W.MW==null;if(k){x=d.u.rect.clone();r=v.R(x.P()*4);v.qR(i.buffer,i.rect,r,x)}if(this.ls()){H=d.Li(d.g[0]-1);
if(k){var V=v.R(x.P()*4);v.qR(H,Z,V,x);Z=x.clone();H=V}}var g=eR.qw(this.Fx),N=[B,d.iv,d,c];if(W.MW==null){this.Q1.c(g,r,x,Z,H,N);
if(bN.names[this.Fx]){if(y.S(bm.Oi)&&this.eI)this.Q1.c(this.eI);var C=X.Zo.getData(d),w=v.kb(C[0].iJ);
this.Q1.Vf(w)}}else{var Y=!1,i=d.B[this.MW.a];if(i.pX()){var U=i.WI(d);r=U.buffer;x=U.rect;var e=i.add.SoLd.filterFX.v.filterFXList.v;
if(e[this.MW.index]){var O=e[this.MW.index].v;this.Q1.c(this.Fx=="blendOptions"?O.blendOptions.v:O.Fltr.v,r,x,Z,H,N);
this.Q1.Vf(v.kb(r));Y=!0}}if(!Y){this.Q1.c(g,r,x,Z,H,N);this.Q1.Vf(v.kb(r))}}if(!this.ls()){this.ZG();
var l=this.Q1;if(l&&l.kw&&l.kw[0]&&l.kw[0].$h&&Math.min(window.innerWidth,window.innerHeight)>500)l.kw[0].$h()}};
j0.prototype.rV=function(d){var W=new bR(b.E.v,!0);d.Fx=this.Fx;d.MW=this.MW;if(this.Fx=="VaPo"){d.b=this.Q1.h();
d.hl=this.Q1.atz()}W.data=d;W.f=eR.names[this.Fx]||this.MW?X.v5:X.Me;W.vd=!0;this.T(W)};j0.prototype.z2=function(d,W){if(!this.Q1.uB()){}else{this.body.style.padding="0";
this.Q1.z2(d,W)}};j0.ak5=function(d){if(d==null)return!1;var W=d.TP();if(W==null||!(W.data instanceof Array)||W.data.length!=d.g.length)return!1;
for(var S=0;S<W.data.length;S++){var c=W.data[S];if(c.a<0&&d.iv[-1-c.a])return!0;if(c.a==null||d.B[c.a]==null||d.B[c.a].MM!=c.Bq)return!1;
if(d.g.indexOf(c.a)==-1)return!1}return!0};function k8(){kB.call(this,[11,0],"camera");this.data=null;
this.pl=new aL(1,1);this.aux=[];var d=f.F("div","form hbar");this.body.appendChild(d);this.a8N=new gd(null,[]);
this.LP=new gd([21,0],[[21,2],[21,1]]);d.appendChild(this.LP.n);this.ZK=new gd(null,[]);this.ZK.k(b.E.p,this.aef,this);
d.appendChild(this.ZK.n);this.Z_=new gs([11,0],!1,null,!0);this.Z_.k("click",this.apV,this);d.appendChild(this.Z_.n);
this.Ah=new ed("");d.appendChild(this.Ah.n);this.stream=null;this.kC=f.F("video","");this.kC.setAttribute("autoplay","true");
this.body.appendChild(this.kC);this.a9d=this.a7i.bind(this);this.abh=this.and.bind(this);this.av3=this.aiY.bind(this);
this.k("closebtn",this.a3i,this)}k8.prototype=new kB;k8.prototype._=function(){kB.prototype._.call(this);
this.LP._();this.Z_._();this.z2(this.Kp,this.fn)};k8.prototype.Li=function(){var d=this.kC.videoWidth,W=this.kC.videoHeight,c=f.F("canvas","");
c.width=d;c.height=W;var y=c.getContext("2d");y.drawImage(this.kC,0,0,d,W);var B=y.getImageData(0,0,d,W);
return{H2:new a8(0,0,d,W),data:B.data.buffer}};k8.prototype.apV=function(d){if(this.LP.h()==0)this.alN();
else this.alb()};k8.prototype.alb=function(){var d=this.Li(),W={buffer:new Uint8Array(d.data),rect:d.H2},c=new bR(b.E.v,!0);
c.vd=!0;c.f=X.jq;c.data={d:e8.ra,qt:W};this.T(c);alert(ay.get([21,4]))};k8.prototype.alN=function(){var d=this.Li(),W=fd.ge("camera",[d]),c=new bR(b.E.V,!0);
c.data={d:b.H._I,Ig:W};this.T(c);alert(ay.get([21,5]))};k8.prototype.M7=function(d,W,c){navigator.mediaDevices.enumerateDevices().then(this.a3D.bind(this))};
k8.prototype.a3D=function(d){var W=this.aux=[],c=[];for(var S=0;S<d.length;S++)if(d[S].kind=="videoinput"){W.push(d[S]);
c.push("Camera "+W.length)}this.ZK.oe(c);this.ZK.c(0);this.aef()};k8.prototype.aef=function(d){this.a3i();
var W={video:{deviceId:this.aux[this.ZK.h()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(W).then(this.a9d).catch(this.abh);
else navigator.webkitGetUserMedia(W,this.a9d,this.abh)};k8.prototype.a7i=function(d){this.stream=d;this.kC.srcObject=d;
this.kC.addEventListener("loadedmetadata",this.av3,!1)};k8.prototype.aiY=function(d){this.kC.play();
this.z2(this.Kp,this.fn)};k8.prototype.i$=function(d,W){return new aL(0,0)};k8.prototype.z2=function(d,W){var c=this.kC.videoWidth,y=this.kC.videoHeight;
this.Ah.c(c+" x "+y+" px");this.Ah.n.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.pl.sq(c,y);this.Kp=d;this.fn=W;var B=d-28,r=W-28-30,x=this.pl.x/this.pl.y;if(B/r>x)B=r*x;else r=B/x;
this.kC.setAttribute("style","display: block; width: "+Math.round(B)+"px; height:"+Math.round(r)+"px;")};
k8.prototype.and=function(d){console.log("error",d);alert(ay.get([21,6]));this.close()};k8.prototype.a3i=function(d){if(this.stream!=null){var W=this.stream.getTracks();
for(var S=0;S<W.length;S++)W[S].stop();this.stream=null}};function at(){kB.call(this,[7,8],"crange");
this.q5=null;this.My={ns:73,U:4.45,J:4};this.l9={ns:73,U:4.45,J:4};this.body.style.width="20em";this.La=new gd([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.La.k(b.E.p,this.azk,this);this.body.appendChild(this.La.n);this.iy=f.F("div","form");this.body.appendChild(this.iy);
var d=this.a1$=2,W=this.CU=[new f2([12,92],0,200),new ij([12,36],[[18,0],"\uFF0B","-"]),new f2([12,92],0,100,"%"),new kk("Min",0,255),new kk("Max",0,255)];
W[0].c(40);W[d].c(40);for(var S=0;S<W.length;S++){W[S].k(b.E.p,this.xX,this);W[S].parent=this}this.YW=f.F("canvas");
this.body.appendChild(this.YW);this.$n=f.GA(this,this.body)}at.prototype=new kB;at.prototype.oy=function(d,W){return d!=null};
at.prototype.el=function(){return!0};at.prototype.cN=function(){return!0};at.prototype.azk=function(d){var W=this.La.h(),c=this.CU,y=this.iy,B=0,r=c.length,x=this.a1$;
if(W==0)r=x;else{B=x;c[B+1].c([0,100,190][W-1]);c[B+1].OB(W!=1);c[B+2].c([60,150,255][W-1]);c[B+2].OB(W!=3)}f.qf(y);
for(var S=B;S<r;S++){y.appendChild(c[S].n)}this.xX()};at.prototype._=function(){kB.prototype._.call(this);
this.$n._();this.La._();for(var S=0;S<this.CU.length;S++)this.CU[S]._()};at.prototype.RQ=function(d,W,c,y,B){var r=d.Q.q9(B.x,B.y);
this.azB(r.x,r.y)};at.prototype.azB=function(d,W){var c=Math.min,y=Math.max,B=this.q5,r=y(0,c(B.m-1,Math.floor(d))),x=y(0,c(B.i-1,Math.floor(W))),Z=B.Li(),i=(x*B.m+r)*4,k=Z[i],H=Z[i+1],V=Z[i+2],g=v.Xx(k,H,V),N=this.CU[1].h(),C=this.My,w=this.l9;
if(N==0){this.My=JSON.parse(JSON.stringify(g));this.l9=g}else if(N==1){C.ns=c(C.ns,g.ns);C.U=c(C.U,g.U);
C.J=c(C.J,g.J);w.ns=y(w.ns,g.ns);w.U=y(w.U,g.U);w.J=y(w.J,g.J)}else if(N==2){var Y=(C.ns+w.ns)/2,U=(C.U+w.U)/2,e=(C.J+w.J)/2;
if(g.ns<Y)C.ns=y(C.ns,g.ns+10);else w.ns=c(w.ns,g.ns-10);if(g.U<U)C.U=y(C.U,g.U+1);else w.U=c(w.U,g.U-1);
if(g.J<e)C.J=y(C.J,g.J+1);else w.J=c(w.J,g.J-1)}this.xX()};at.prototype.pn=function(d){var W=this.La.h(),c=this.CU,y={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(W==0){var B=this.My,r=this.l9;y.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:B.ns},A:{t:"doub",v:B.U},B:{t:"doub",v:B.J}}};
y.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:r.ns},A:{t:"doub",v:r.U},B:{t:"doub",v:r.J}}};y.Fzns={t:"long",v:c[0].h()}}else{W--;
var x=["shadows","midtones","highlights"][W];y.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][W]}};if(0<W)y[x+"LowerLimit"]={t:"long",v:c[3].h()};
if(W<2)y[x+"UpperLimit"]={t:"long",v:c[4].h()};y[x+"Fuzziness"]={t:"long",v:c[2].h()}}this.close();var Z=new bR(b.E.HQ,!0);
Z.data={cx:"colorRange",i9:y};this.T(Z)};at.prototype.M7=function(d,W){this.q5=d;this.azB(0,0);this.azk()};
at.prototype.xX=function(){var d=this.q5,W=this.La.h(),c=this.My,y=this.l9,B=this.CU,r=B[0].h()/200,x=!1;
if(W>0){c=B[3].h();y=B[4].h();if(c>=y)c=y-1;x=!0;r=B[2].h()/100}var Z=X.XC.qB(d,c,y,r,x),i=Z.rect,k=Z.channel,H=this.YW,V=H.getContext("2d"),g=Math.floor(230*f.QX()),N=Math.floor(g*(i.i/i.m));
H.width=g;H.height=N;f.lE(H,g,N);var C=v.R(k.length*4);v.ft(C,4294967295);for(var S=0;S<3;S++)v.nP(k,C,S);
var w=X.X.Wf([C,i],new dT(g/i.m,0,0,N/i.i,0,0)),Y=w.rect,U=new ImageData(new Uint8ClampedArray(w.buffer.buffer),Y.m,Y.i);
V.putImageData(U,0,0)};function ix(){kB.call(this,[12,76,1],"createshape");this.oA=null;var d=f.F("div","form");
d.setAttribute("style","width:20em");this.body.appendChild(d);this.df=new a2(!0,!0,null,!0,!0);this.df.c(new aL(100,100));
d.appendChild(this.df.n);this.p9=new ff([19,5,3]);d.appendChild(this.p9.n);this.$n=f.GA(this,d)}ix.prototype=new kB;
ix.prototype.pn=function(d){var W=this.df.h();this.oA.a3F(this.oA.abx,W.x,W.y,this.p9.h());this.close()};
ix.prototype._=function(){if(this.oA)this.Ep=ay.get([5,3])+": "+ay.get(this.oA.azZ);kB.prototype._.call(this);
this.$n._();this.df._();this.p9._()};ix.prototype.M7=function(d,W){this.oA=W;this._();this.df.c(this.df.h(),d.tU)};
function cg(){kB.call(this,[11,1],"colorpicker");this.k7=null;this.Py=null;this.W3=null;this._N=!1;this.hm=!1;
this.azb=[.9642,1,.8249];var d=f.F("div","flexrow"),x,Z;this.body.appendChild(d);this.TM=new fm(256,!0);
this.TM.k(b.E.p,this.HT,this);d.appendChild(this.TM.n);var W=f.F("div","form");W.setAttribute("style","width:14.5em; margin-left:1em;");
d.appendChild(W);var c=f.F("div","flexrow");W.appendChild(c);var y=f.F("div");c.appendChild(y);y.style="width:95px; margin-right:14px";
this.a0I=f.F("div","full");y.appendChild(this.a0I);this.a4b=f.F("div","full");y.appendChild(this.a4b);
var y=f.F("col");c.appendChild(y);y.style.width="80px";this.$n=f.GA(this,y);var c=f.F("div","flexrow");
W.appendChild(c);var B=f.F("div"),r=f.F("div");c.appendChild(B);c.appendChild(r);B.style=r.style="margin-left:14px; max-width:80px;";
x=["H","S","B"];Z=B;this.o5=[];for(var S=0;S<3;S++){var i=0,k=360,H="\xB0";if(S!=0){k=100;H="%"}var V=new kk(x[S],i,k,H,0,!1,!0);
this.o5.push(V);V.k(b.E.p,this.alG,this);Z.appendChild(V.n);if(S==2)V.n.style.marginBottom="8px"}x=["R","G","B"];
Z=B;this.Zd=[];for(var S=0;S<3;S++){var V=new kk(x[S],0,255,null,0,!1,!0);this.Zd.push(V);V.k(b.E.p,this.atk,this);
Z.appendChild(V.n)}x=["L","a","b"];Z=r;this.q4=[];for(var S=0;S<3;S++){var i=[0,-128,-128][S],k=[100,127,127][S],V=new kk(x[S],i,k,null,0,!1,!0);
V.c(0);this.q4.push(V);V.k(b.E.p,this.aCB,this);Z.appendChild(V.n);if(S==2)V.n.style.marginBottom="8px"}x=["C","M","Y","K"];
Z=r;this.Xl=[];for(var S=0;S<4;S++){var V=new kk(x[S],0,100,"%",0,!1,!0);V.c(0);this.Xl.push(V);V.k(b.E.p,this.adz,this);
Z.appendChild(V.n);if(S==3)V.n.style.marginBottom="8px"}this.wc=new eO("#",null,4.5);this.wc.k(b.E.p,this.Z2,this);
B.appendChild(this.wc.n);this.wc.n.style.marginRight="0";this.mq=f.F("input","fitem");this.mq.setAttribute("type","color");
this.mq.setAttribute("style","width:59px;  margin-left:19px;");this.mq.addEventListener("change",this.Z2.bind(this),!1);
this.RP=new c0(9);this.RP.k(b.E.p,this.Z2,this);W.appendChild(this.RP.n);this.k("closebtn",this.lD,this);
this.XI=!1}cg.prototype=new kB;cg.prototype.el=function(){return!0};cg.prototype.i$=function(d,W){if(Math.min(d,W)>500)return null;
return new aL(Math.max(0,Math.min(150,(d-484)/2)),Math.max(0,Math.min(150,(W-316)/2)))};cg.prototype.z2=function(d,W){this.TM.z2(Math.min(256,d-226),W)};
cg.prototype._=function(d,W){kB.prototype._.call(this);for(var S=0;S<3;S++){this.Zd[S]._();this.o5[S]._();
this.q4[S]._()}for(var S=0;S<4;S++)this.Xl[S]._();this.$n._()};cg.prototype.HT=function(d){this.Py=this.TM.h();
this.update()};cg.prototype.RQ=function(d,W,c,y,B){this.XI=!0;this.ar6(d,B)};cg.prototype.f9=function(d,W,c,y,B){if(!this.XI)return;
this.ar6(d,B)};cg.prototype.AZ=function(d,W,c,y,B){this.XI=!1};cg.prototype.ar6=function(d,W){this.Py=v.S4(X.tX.uO(d,W,1),1);
this.update()};cg.prototype.atk=function(d){var W=this.Zd,c=this.cp(parseInt(W[0].h())),y=this.cp(parseInt(W[1].h())),B=this.cp(parseInt(W[2].h()));
this.Py={Z:c/255,G:y/255,J:B/255};this.update()};cg.prototype.alG=function(d){var W=this.o5,c=this.EG(parseInt(W[0].h())/360),y=this.EG(parseInt(W[1].h())/100),B=this.EG(parseInt(W[2].h())/100);
this.Py=v.JB(c,y,B);this.update()};cg.prototype.adz=function(d){var W=this.Xl,c=[];for(var S=0;S<4;S++){var y=this.agb(parseInt(W[S].h()));
W[S].c(y);c.push(y/100)}var B=v.$J(c);this.Py={Z:B[0],G:B[1],J:B[2]};this.update(!0)};cg.prototype.aCB=function(d){var W=this.q4,c=parseInt(W[0].h()),y=parseInt(W[1].h()),B=parseInt(W[2].h()),r=v.m2(c,y,B);
this.Py={Z:r.Z/255,G:r.G/255,J:r.J/255};this.update()};cg.prototype.Z2=function(d){var W;if(d.currentTarget==this.RP)W=this.RP.h();
else{W=d.currentTarget==this.wc?this.wc.h():this.mq.value;if(W.charAt(0)=="#")W=W.slice(1);if(W.length==3)W=W[0]+W[0]+W[1]+W[1]+W[2]+W[2];
W=v.aq9(W)}this.Py=v.S4(W,1);this.update()};cg.prototype.pn=function(d){this.afX();var W=v.p6(this.Py,1);
this.W3(W);this.close();this.hm=!1;this.Py=null};cg.prototype.lD=function(d){this.afX();if(this._N)this.W3(v.p6(this.k7,1));
this.hm=!1;this.Py=null};cg.prototype.afX=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.aAh};this.T(W)};
cg.prototype.lz=function(d,W){var c=fc.HC(d,W);if(c!=null)this.RP.c(c);if(W!=kG.kg)return;if(this.Py!=null){this.Py=v.S4(c,1);
this.update()}};cg.prototype.M7=function(d,W){var c=v.S4(W.am,1);if(this.Py==null){var y=new bR(b.E.V,!0);
y.data={d:b.H.iV,QM:"crosshair",push:!0};this.T(y);this.XI=!1;this.W3=W.mI;this._N=!1;this.hm=W.Ww;this.k7=JSON.parse(JSON.stringify(c));
this.a4b.setAttribute("style","height:2.3em;background-color:#"+v.Wb(W.am)+";")}this.Py=c;this.update()};
cg.prototype.update=function(d){var W=this.Py,c=v.p6(W,1);this.wc.c(v.Wb(c));this.mq.value="#"+v.Wb(c);
this.a0I.setAttribute("style","height:2.3em;background-color:#"+v.Wb(c)+";");var y=this.Zd;y[0].c(Math.round(W.Z*255));
y[1].c(Math.round(W.G*255));y[2].c(Math.round(W.J*255));var B=v.CG(W.Z,W.G,W.J);y=this.o5;y[0].c(Math.round(B.fn*360));
y[1].c(Math.round(B.Td*100));y[2].c(Math.round(B.Za*100));var r=v.Xx(W.Z*255,W.G*255,W.J*255,this.azb);
y=this.q4;y[0].c(Math.round(r.ns));y[1].c(Math.round(r.U));y[2].c(Math.round(r.J));if(d==null){var x=v.YP([W.Z,W.G,W.J]);
y=this.Xl;y[0].c(Math.round(x[0]*100));y[1].c(Math.round(x[1]*100));y[2].c(Math.round(x[2]*100));y[3].c(Math.round(x[3]*100))}this.TM.c(W);
if(this.hm){this.W3(v.p6(this.Py,1));this._N=!0}};cg.prototype.agb=function(d){return Math.max(0,Math.min(100,d))};
cg.prototype.cp=function(d){return Math.max(0,Math.min(255,d))};cg.prototype.EG=function(d){return Math.max(0,Math.min(1,d))};
function dx(){kB.call(this,[11,2],"contoureditor");this.a1w=null;this.KF=null;this.response=null;this.cL=f.F("div","cell");
this.body.appendChild(this.cL);this.nG=f.F("div","cell padded");this.body.appendChild(this.nG);var d=f.F("div","bordered padded vmargin");
this.cL.appendChild(d);this.Q1=new gO(null,null,!0);this.Q1.k(b.E.p,this.r4,this);d.appendChild(this.Q1.n);
this.$n=f.GA(this,this.nG);this.k("closebtn",this.vT,this)}dx.prototype=new kB;dx.prototype.pn=function(){this.close()};
dx.prototype._=function(){kB.prototype._.call(this);this.$n._();this.Q1._()};dx.prototype.r4=function(d){this.KF.Crv.v=this.Q1.h();
this.response(this.KF)};dx.prototype.vT=function(d){this.response(this.a1w)};dx.prototype.M7=function(d,W){this.a1w=JSON.parse(JSON.stringify(W.nW));
this.KF=W.nW;this.response=W.response;this.Q1.c(this.KF.Crv.v)};function j7(){kB.call(this,[11,4],"duplinto");
this.Y1=null;this.rN=null;this.Hn=null;var d=f.F("div","form");d.setAttribute("style","max-width:26em");
this.body.appendChild(d);this.t3=new gd([12,43],["abc","def"]);this.t3.k(b.E.p,this.fF,this);d.appendChild(this.t3.n);
f.MZ(d);this.zm=new gd([1,16,0],["abc","def"]);this.zm.k(b.E.p,this.fF,this);d.appendChild(this.zm.n);
f.MZ(d);this.Ba=new eO([12,48],null,14);d.appendChild(this.Ba.n);this.$n=f.GA(this,d)}j7.prototype=new kB;
j7.prototype.cN=function(){return!0};j7.prototype._=function(){kB.prototype._.call(this);this.$n._();
this.t3._();this.Ba._()};j7.prototype.fF=function(d){if(d&&d.target==this.zm)return;var W=this.t3.h(),c=this.rN[W],y=this.Y1,B=c!=null&&c.add.artd!=null;
for(var S=0;S<y.g.length;S++)if(y.B[y.g[S]].add.artb)B=!1;this.Ba.OB(W==this.rN.length);this.zm.OB(B);
if(B){var r=c.root.children,x=[],Z=this.Hn=[];for(var S=0;S<r.length;S++){var i=r[S].a;if(i.add.artb)x.push(i.getName());
Z.push(r[S].index)}this.zm.oe(x);this.zm.c(0)}else this.Hn=null};j7.prototype.M7=function(d,W,c){this.Y1=d;
this.rN=c;this.Ba.c(d.g.length==0?"Layer":d.B[d.g[0]].getName());var y=[];for(var S=0;S<c.length;S++){var B=c[S].name;
y.push(B.length<30?B:B.slice(0,27)+"...")}y.push([11,7]);this.t3.oe(y);this.t3.c(c.indexOf(d));this.fF(null)};
j7.prototype.pn=function(d){var W=this.t3.h();if(W==this.rN.length){var c=new eb(this.Ba.h()+".psd"),y=this.Y1.m,B=this.Y1.i,r=this.Y1.Vj();
if(r!=-1){var x=this.Y1.B[r].ZB();y=x.m;B=x.i}c.m=y;c.i=B;c.buffer=v.R(c.m*c.i*4);var Z=c.jb();Z.AP("Background");
c.GO([Z]);var i=new bR(b.E.V,!0);i.vd=!0;i.data={d:b.H._I,Ig:c};this.T(i)}var H=this.Y1.GR(null,this.Y1!=this.rN[W]),i=new bR(b.E.v,!0);
i.data={d:e8.ID,B:H,Q9:this.Y1,Yr:this.rN[W]};if(this.Hn)i.data.wR=this.Hn[this.zm.h()];i.f=X.jq;i.vd=!0;
this.T(i);this.close()};function a$(){kB.call(this,[1,9],"eassets");this.kO=null;this.Ue=null;var d=this.body;
f.CH(d,"form");d.style.width="32em";this.La=new ij(null,["Layers","Combinations"]);this.La.k(b.E.p,this.LR,this);
d.appendChild(this.La.n);f.WH(d);this.Aj=f.F("span");d.appendChild(this.Aj);this.i0=f.F("div");d.appendChild(this.i0);
var W=f.F("div"),c=f.F("div","flexrow");this.aCT=[W,c];this.mC=[new ff("Only layers / folders, whose name starts with \"-e-\""),new ff("Remove parts outside the canvas"),new ff("Trim transparent parts")];
for(var S=0;S<3;S++){var y=this.mC[S];y.c(!0);y.k(b.E.p,this.LR,this);W.appendChild(y.n);f.MZ(W)}this.Uc=new gj([12,14,0],["1x","2x","3x","4x"]);
this.Uc.c([!0,!1,!1,!1]);W.appendChild(this.Uc.n);var B=f.F("div");c.appendChild(B);var r=f.F("img");
r.setAttribute("src","img/nft.png");r.style.width="150px";c.appendChild(r);var x=f.F("span");x.textContent="File Names:";
B.appendChild(x);this.J9=new gj(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
B.appendChild(this.J9.n);this.J9.c([!0,!1,!1]);f.WH(d);this.gz=["PNG","JPG","SVG","TIFF","TGA"];this.G9=new gd([12,50],this.gz);
this.G9.k(b.E.p,this.Yu,this);d.appendChild(this.G9.n);this.pt=new cv;d.appendChild(this.pt.n);this.$n=new gs([1,9],!0,null,!0);
this.$n.k("click",this.pn,this);d.appendChild(this.$n.n);this.k("closebtn",this.xS,this)}a$.prototype=new kB;
a$.prototype.Yu=function(d){this.pt.ph(this.gz[this.G9.h()],!1,!1,!1,this.Ue.iB()!=null)};a$.prototype.xS=function(d){this.Ue=null};
a$.prototype._=function(){kB.prototype._.call(this);this.G9._();this.Uc._();this.$n._();this.pt._()};
a$.prototype.M7=function(d,W,c){this.Ue=d;this.LR()};a$.prototype.LR=function(d){var W=this.La.h(),c;
f.qf(this.i0);this.i0.appendChild(this.aCT[W]);if(W==0){var y=this.aly();c=y.length+" exportable layers"}else{var y=this.a1u();
c=y[1]+" combinations ("+y[0].join(" \xD7 ")+")"}this.Aj.textContent="- - - "+c;this.Yu(null)};a$.prototype.aly=function(){var d=this.mC[0].h(),W=[],c=this.Ue;
for(var S=0;S<c.B.length;S++){var y=c.B[S],B=y.getName();if(!d&&!y.vS()&&!y.rect.Bb()||B.startsWith("-e"))W.push(S)}return W};
a$.prototype.a1u=function(){var d=this.Ue,W=d.root.children,c=[],y=1,B=[];for(var S=0;S<W.length;S++){var r=W[S],x=r.a;
if(x.vS()){var Z=r.children.length;c.push(Z);y*=Z;B.push(r.index)}x}return[c,y,B]};a$.prototype.lz=function(d,W){this.kO=d};
a$.prototype.pn=function(d){var W=this.Ue,c=this.La.h(),y=[this.gz[this.G9.h()]],B=[this.pt.h()],r={};
if(c==0){var x=this.Uc.h(),Z={},i=this.aly();if(i.length==0){alert("No layers to export.");return}var k=[this.mC[1].h(),this.mC[2].h()];
for(var S=0;S<i.length;S++){var H=i[S],V=W.B[H],g=V.getName();if(Z[g]!=null){Z[g]++;g+=" "+Z[g]}else Z[g]=1;
var N=V.jF();V.vI(!0);for(var C=0;C<x.length;C++){if(!x[C])continue;var w=C+1,Y=X.rL.aot(W,y,w,this.kO,H,B,k);
for(var U=0;U<y.length;U++){var e=y[U],O=g.slice(g.startsWith("-e-")?3:0)+(w==1?"":"@"+w+"x")+"."+e.toLowerCase();
if(Y[U])r[O]=new Uint8Array(Y[U])}}V.vI(N)}}else{var N=[];for(var S=0;S<W.B.length;S++)N.push(W.B[S].jF());
var l=this.a1u(),I=l[0],i=l[2],s=[];function z(J,H,F,h){if(H==J.length){h.push(F.slice(0));return}var m=J[H];
for(var S=0;S<m;S++){F.push(S);z(J,H+1,F,h);F.pop(S)}}z(I,0,[],s);var R=this.J9.h().indexOf(!0);this.Hl=[s,r,i,y,B,N,R,this.aE4.bind(this),0,0];
this.aE4();return}var t=UZIP.encode(r),a=new bR(b.E.V,!0);a.data={d:b.H.vR,data:t,name:"assets.zip"};
this.T(a)};a$.prototype.aE4=function(){var d=this.Hl,W=d[0],c=d[1],y=this.Ue,B=d[2],r=d[3],x=d[4],Z=d[5],i=d[6],k=d[7],H=0;
while(W.length!=0&&H<1e3){var V=Date.now(),g=W.shift(),N=[];for(var S=0;S<g.length;S++){var C=y.root.x$(B[S]);
for(var w=0;w<C.children.length;w++)C.children[w].a.vI(!1);var Y=C.children[g[S]].a;N.push(i==2?Y.getName():C.a.getName()+g[S]);
Y.vI(!0)}y.W();y.pM();var U=(i==0?g:N).join("-")+"."+r[0].toLowerCase();c[U]=new Uint8Array(fd.OR(y,r[0],y.m,y.i,x[0],this.kO));
d[8]++;d[9]+=c[U].length;H+=Date.now()-V}if(W.length!=0){alert(d[8]+" done, "+cA.oZ(d[9])+".",800);setTimeout(k,35);
return}for(var S=0;S<y.B.length;S++)y.B[S].vI(Z[S]);y.W();var e=UZIP.encode(c),O=new bR(b.E.V,!0);O.data={d:b.H.vR,data:e,name:"assets.zip"};
this.T(O)};function ej(){kB.call(this,"Export Color Lookup Tables","exlut");this.kO=null;this.Ue=null;
var d=f.F("div","form");d.setAttribute("style","width:20em");this.body.appendChild(d);this.mC=[new kk("Grid Points",1,256),new ij([12,50],[".CUBE"])];
var W=[16,0];for(var S=0;S<this.mC.length;S++){var c=this.mC[S];c.c(W[S]);c.parent=this;c.k(b.E.p,this.LR,this);
d.appendChild(c.n);f.MZ(d)}this.$n=f.GA(this,d);this.k("closebtn",this.xS,this)}ej.prototype=new kB;
ej.prototype.oy=function(d,W){if(Math.min(d.m,d.i)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(d.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};ej.prototype.xS=function(d){this.Ue=null};ej.prototype.lz=function(d,W){this.kO=d};
ej.prototype.M7=function(d,W,c){this.Ue=d};ej.prototype.pn=function(){var d=this.Ue,W=this.mC[0].h(),c=[],y=new a8(0,0,d.m,d.i),B=v.R(W*W*4),r=B.slice(0),x=new a8(d.m-W>>>1,d.i-W>>>1,W,W),Z=d.B[0],i=Z.buffer,k=Z.rect;
Z.rect=x;Z.buffer=B;for(var H=0;H<W;H++){this.azh(W,H,B);Z.W(x);d.W(x);var V=d.Li();v.qR(V,y,r,x);for(var g=0;
g<W;g++)for(var N=0;N<W;N++){var C=g*W+N<<2;c.push(r[C]/255,r[C+1]/255,r[C+2]/255)}}var w=e7.arY(c,W,d.name);
bw.save(w,d.name.split(".")[0]+".CUBE");Z.buffer=i;Z.rect=k;Z.W();d.W()};ej.prototype.azh=function(d,W,c){var y=255/(d-1),B=Math.round(W*y);
for(var r=0;r<d;r++)for(var x=0;x<d;x++){var Z=r*d+x<<2;c[Z]=Math.round(x*y);c[Z+1]=Math.round(r*y);
c[Z+2]=B;c[Z+3]=255}};ej.prototype._=function(){kB.prototype._.call(this);for(var S=0;S<this.mC.length;
S++)this.mC[S]._();this.$n._()};function gF(){kB.call(this,[1,14],"finfo");this.pA=null;this.Ex=null;
this.tj=null;this.rf=f.F("div","form scrollable label12");this.rf.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.rf);var d=f.F("div","form");this.body.appendChild(d);this.aj=new gd(null,["Hello"]);
d.appendChild(this.aj.n);this.a5b=new gs("Add Parameter",!1,null,!0);d.appendChild(this.a5b.n);this.a5b.k("click",this.Xj,this);
this.tu=new gs("=== S A V E ===",!1,null,!0);d.appendChild(this.tu.n);this.tu.k("click",this.Lj,this);
this.avN=""}gF.prototype=new kB;gF.prototype.i$=function(d,W){return d<450||W<450?new aL(0,0):new aL(150,100)};
gF.prototype.Xj=function(d){if(this.tj.length==0)return;var W=this.tj[this.aj.h()],c=this.yY();c[W]=dP.I6[W][0];
this.XF(c);this.Ex[W].n.scrollIntoView();this.Ex[W].$h()};gF.prototype.ri=function(d){var W=this.yY();
delete W[d.currentTarget.a0j];this.XF(W)};gF.prototype.Lj=function(d){var W=this.yY(),c=this.pA,y=!0;
for(var B in c)if(JSON.stringify(c[B])!=JSON.stringify(W[B]))y=!1;for(var B in W)if(JSON.stringify(c[B])!=JSON.stringify(W[B]))y=!1;
if(y)return;var r=new bR(b.E.v,!0);r.f=X.jq;r.data={d:e8.Xk,op:W};this.T(r);this.pA=W;this.XF(W)};gF.afV=function(d){function W(B){var r=B.toLowerCase();
return B==r}var c=d.split(":").pop();for(var y=1;y<c.length-1;y++){if(c[y]==c[y].toUpperCase()&&(W(c[y+1])||W(c[y-1]))){c=c.slice(0,y)+" "+c.slice(y);
y++}}return c};gF.prototype.M7=function(d,W){this.pA=d.RO;this.XF(d.RO)};gF.prototype.XF=function(d){var W=this.rf,B=0;
f.qf(W);var c=this.Ex={},y=["tiff","exif","exif:GPS"],r=this.tj=[],x=[];for(var Z in dP.I6){var i=gF.afV(Z),k=0,H=15,V=null;
if(d[Z]==null){if(dP.I6[Z].length!=1||Z=="photoshop:Credit"||Z=="photoshop:Source"){r.push(Z);x.push(i)}continue}for(var S=0;
S<y.length;S++)if(Z.startsWith(y[S]))k=S;if(k!=B){f.WH(W);B=k}if(Z=="tiff:ImageDescription"||Z=="dc:Keywords"){H=18.5;
V=3}var g=new eO(i,null,H,V);c[Z]=g;var N=d[Z];if(N instanceof Array)N=N[1]==0?"---":N[0]+"/"+N[1];var C=new gs("\u2716",null,ay.get([5,4]));
W.appendChild(C.n);C.k("click",this.ri,this);C.a0j=Z;g.c(N);W.appendChild(g.n);f.MZ(W);if(Z=="exif:GPSLongitude"&&d["exif:GPSLatitude"]){this.avN=gF.aeN(d["exif:GPSLatitude"])+","+gF.aeN(d["exif:GPSLongitude"]);
var w=new gs("Show on map",!1,null,!0);W.appendChild(w.n);f.MZ(W);w.k("click",this.ag7,this)}}this.aj.oe(x);
this.aj.c(0)};gF.prototype.yY=function(){var d=this.Ex,W=dP.I6,c={};for(var y in W){var B=W[y][0],r=typeof B;
if(B==null||d[y]==null)continue;var x=d[y].h(),Z="The value of \""+gF.afV(y)+"\" must ";if(r=="number"){x=parseFloat(x);
if(isNaN(x)){alert(Z+"be a number.");x=B}}else if(B instanceof Array&&B.length==2){if(x.indexOf("/")==-1){alert(Z+"be a fraction.");
x=B.slice(0)}else{x=x.split("/").map(parseFloat);if(isNaN(x[0])||isNaN(x[1])){x=B.slice(0)}}}c[y]=x}return c};
gF.aeN=function(d){var W=d.length,c=d.slice(0,W-1).split(",").map(parseFloat),y=d.slice(W-1),B=c[0]+c[1]/60+c[2]/3600;
if(y!="N"&&y!="E")B=-B;return B};gF.prototype.ag7=function(d){window.open("https://maps.google.com?q="+this.avN,"Map")};
function iU(){kB.call(this,[11,5],"gradienteditor");this.k7=null;this.Py=null;this.As=null;this.W3=null;
this._N=!1;this.hm=!1;this.oX=null;this.r$=null;this.EW=-1;this.yf=-1;this.WX=0;this.GI=this.Sh.bind(this);
this.hI=this.dP.bind(this);this.YW=f.F("canvas");this.bN=this.YW.getContext("2d");this.YW.setAttribute("style","display:block");
this.qE=null;f.g0(this.YW);f._0(this.YW,this.T8.bind(this));this.H1=f.F("div","form");this.qi=f.F("div");
this.bI=f.F("div","form");this.bi=f.F("div");this.vA=new gd([12,44],[[15,10,0],[24,6]]);this.vA.k(b.E.p,this.eD,this);
this.body.appendChild(this.vA.n);f.WH(this.body);var d=this.H1;this.kd=new kk([19,3,3],0,100,"%");this.kd.k(b.E.p,this.eD,this);
this.kd.parent=this;d.appendChild(this.kd.n);f.MZ(d);this.mO=new ed([12,0]);d.appendChild(this.mO.n);
this.AT=f.F("div","bordered padded noalign");d.appendChild(this.AT);this.M4=new kk([12,0],0,100,"%");
this.M4.parent=this;this.M4.k(b.E.p,this.eD,this);this.AT.appendChild(this.M4.n);this.QQ=new kk([12,40],0,100,"%");
this.QQ.parent=this;this.QQ.k(b.E.p,this.eD,this);this.AT.appendChild(this.QQ.n);this.j6=new gs([5,4],!1,null,!0);
this.j6.k("click",this.a3Z,this);this.AT.appendChild(this.j6.n);d.appendChild(this.qi);this.aBZ=new ed([13,0]);
d.appendChild(this.aBZ.n);this.mk=f.F("div","bordered padded noalign");d.appendChild(this.mk);this.aB=new gd([12,44],[[12,45],[12,46],[12,47]]);
this.aB.k(b.E.p,this.eD,this);this.mk.appendChild(this.aB.n);this.nc=new b2(!0);this.nc.parent=this;
this.nc.k(b.E.p,this.eD,this);this.mk.appendChild(this.nc.n);this.Gr=new kk([12,40],0,100,"%");this.Gr.parent=this;
this.Gr.k(b.E.p,this.eD,this);this.mk.appendChild(this.Gr.n);this.ma=new gs([5,4],!1,null,!0);this.ma.k("click",this.aA9,this);
this.mk.appendChild(this.ma.n);var d=this.bI;this.Vi=new kk("Roughness",0,100,"%");this.Vi.k(b.E.p,this.eD,this);
this.Vi.parent=this;d.appendChild(this.Vi.n);d.appendChild(this.bi);this.kv=new gs([25,1,2],!1,null,!0);
this.kv.k("click",this.eD,this);d.appendChild(this.kv.n);this.$n=f.GA(this);this.k("closebtn",this.lD,this)}iU.prototype=new kB;
iU.prototype.lD=function(d){if(this._N)this.W3(this.k7)};iU.prototype._=function(){kB.prototype._.call(this);
this.$n._();this.kd._();this.mO._();this.aBZ._();this.j6._();this.ma._();this.M4._();this.QQ._();this.aB._();
this.Gr._();this.kv._()};iU.prototype.lz=function(d,W){this.As=d};iU.prototype.M7=function(d,W){this.Py=JSON.parse(JSON.stringify(W.L));
this.k7=JSON.parse(JSON.stringify(W.L));this.oX=this.r$=null;this.W3=W.mI;this._N=!1;this.hm=W.Ww;this.me();
this.ol()};iU.prototype.pn=function(d){var W=this.Py;this.W3(W);this.close()};iU.prototype.Ea=function(d){return d==bm.y8||d==bm.Vy};
iU.prototype.z9=function(d,W,c,y){if(y.S(bm.y8)||y.S(bm.Vy)){if(this.r$)this.a3Z();if(this.oX)this.aA9()}};
iU.prototype.a3Z=function(d){var W=this.Py.Trns.v;if(this.r$==null||W.length==1)return;W.splice(W.indexOf(this.r$),1);
this.r$=null;this.me();this.ol()};iU.prototype.aA9=function(d){var W=this.Py.Clrs.v;if(this.oX==null||W.length==1)return;
W.splice(W.indexOf(this.oX),1);this.oX=null;this.me();this.ol()};iU.prototype.me=function(){var d=this.YW,W=this.bN,c=f.QX();
d.width=Math.floor(410*c);d.height=Math.floor(70*c);f.lE(d,d.width,d.height);d.style.marginTop="8px";
this.qE=new a8(0,0,Math.floor(380*c),Math.floor(32*c));this.qE.x=Math.floor((d.width-this.qE.m)/2);this.qE.y=Math.floor((d.height-this.qE.i)/2);
var y=this.qE,B=y.m,r=y.i,x=y.x,Z=y.y,i=new a8(0,0,B,r),k=W.getImageData(0,0,B,r),H=new Uint8Array(k.data.buffer);
v.we(H,B,r,8);var V=v.R(B*r*4);v.L.cR(this.Py,V,i,[1/B,0,0,1/r],B/2,r/2,!1,0,this.As.R5,this.As.qX);
v.l.Ip("norm",V,y,H,y,y,1);W.clearRect(0,0,d.width,d.height);W.putImageData(k,x,Z);var g=this.Py;if(g.Clrs){var N=g.Trns.v,C=g.Clrs.v,w=v.L.rW(g,this.As.R5,this.As.qX),Y=Math.round(6*f.QX()),U=Math.round(14*f.QX()),e=this.r$?this.r$.v:null,O=this.oX?this.oX.v:null;
for(var S=0;S<N.length;S++){var l=N[S].v,I=Math.round(255-255*l.Opct.v.val/100);if((l==e||N[S-1]&&N[S-1].v==e||S==this.yf)&&S!=0){W.fillStyle="#000000";
W.fillRect(x-3+B*(N[S-1].v.Lctn.v+(l.Lctn.v-N[S-1].v.Lctn.v)*l.Mdpn.v/100)/4096,Z-6-2,6,6)}if(l==e){W.fillStyle="#ffffff";
W.fillRect(x-Y+B*(l.Lctn.v/4096)-2,Z-2-U-2,2*Y+4,U+4)}W.fillStyle="rgb("+I+","+I+","+I+")";W.fillRect(x-Y+B*(l.Lctn.v/4096),Z-2-U,2*Y,U)}for(var S=0;
S<C.length;S++){var s=C[S].v,z=w[0][S][0];if((s==O||C[S-1]&&C[S-1].v==O||S==this.EW)&&S!=0){W.fillStyle="#000000";
W.fillRect(x-3+B*(C[S-1].v.Lctn.v+(s.Lctn.v-C[S-1].v.Lctn.v)*s.Mdpn.v/100)/4096,Z+r+2,6,6)}if(s==O){W.fillStyle="#ffffff";
W.fillRect(x-Y+B*(s.Lctn.v/4096)-2,Z+r+2-2,2*Y+4,U+4)}W.fillStyle="rgb("+Math.round(z.Z)+", "+Math.round(z.G)+","+Math.round(z.J)+")";
W.fillRect(x-Y+B*(s.Lctn.v/4096),Z+r+2,2*Y,U)}}if(this.hm){this.W3(this.Py);this._N=!0}};iU.prototype.ol=function(){var d=this.Py,W=d.Clrs?0:1;
this.vA.c(W);if(f.ni(this.H1))this.body.removeChild(this.H1);if(f.ni(this.bI))this.body.removeChild(this.bI);
(W==0?this.qi:this.bi).appendChild(this.YW);if(W==0){this.body.appendChild(this.H1);this.kd.c(Math.round(100*d.Intr.v/4096));
var c=d.Trns.v,y=d.Clrs.v,B=this.r$!=null,r=this.yf!=-1;this.M4.OB(B);this.QQ.OB(B||r);this.j6.OB(B);
if(B){this.AT.setAttribute("style","");var x=this.r$.v;this.QQ.c(Math.round(100*x.Lctn.v/4096));this.M4.c(x.Opct.v.val)}if(r)this.QQ.c(c[this.yf].v.Mdpn.v);
var B=this.oX!=null,r=this.EW!=-1;this.aB.OB(B);this.nc.OB(B);this.Gr.OB(B||r);this.ma.OB(B);if(B){this.mk.setAttribute("style","");
var Z=this.oX.v;this.Gr.c(Math.round(100*Z.Lctn.v/4096));var i=Z.Type.v.Clry;this.aB.c(["FrgC","BckC","UsrS"].indexOf(i));
if(i=="FrgC")this.nc.vt(this.As.R5);if(i=="BckC")this.nc.vt(this.As.qX);if(i=="UsrS")this.nc.c(Z.Clr.v)}if(r)this.Gr.c(y[this.EW].v.Mdpn.v)}else{this.body.appendChild(this.bI);
this.Vi.c(Math.round(100*d.Smth.v/4096))}this.body.appendChild(this.$n.n)};iU.prototype.eD=function(d){var W=this.Py,c=W.Clrs?0:1;
if(d.target==this.vA){var y=c==0?JSON.parse(bV.We.a9K).v:eR.qw("grdm").Grad.v;this.Py=y;this.ol();this.me();
return}if(c==0){W.Intr.v=Math.round(4096*this.kd.h()/100);var B=W.Trns.v,r=W.Clrs.v;if(this.r$!=null){var x=this.r$.v;
x.Lctn.v=Math.round(4096*(this.QQ.h()/100));x.Opct.v.val=this.M4.h()}if(this.oX!=null){var Z=this.oX.v;
Z.Lctn.v=Math.round(4096*(this.Gr.h()/100));if(d.target==this.nc)this.aB.c(2);var i=this.aB.h();Z.Type.v.Clry=["FrgC","BckC","UsrS"][i];
if(i==2)Z.Clr={t:"Objc",v:this.nc.h()};else if(Z.Clr)delete Z.Clr}if(this.yf!=-1)B[this.yf].v.Mdpn.v=this.QQ.h();
if(this.EW!=-1)r[this.EW].v.Mdpn.v=this.Gr.h()}else{W.Smth.v=Math.round(4096*this.Vi.h()/100);if(d.target==this.kv)W.RndS.v=Math.floor(Math.random()*4294967295)}this.me()};
iU.prototype.T8=function(d){var W=f.Ne(d,this.YW),c=this.qE,y=(W.x*f.QX()-c.x)/c.m,B=(W.y*f.QX()-c.y)/c.i,r=this.Py.Trns.v,x=this.Py.Clrs.v,Z=null,i=null,k=-1,H=-1;
if(B<1)for(var S=0;S<r.length;S++){var V=r[S].v;if(Math.abs(V.Lctn.v/4096-y)<.02)Z=r[S];if(S>0)if(Math.abs((r[S-1].v.Lctn.v+(V.Lctn.v-r[S-1].v.Lctn.v)*V.Mdpn.v/100)/4096-y)<.01)k=S}if(B>0)for(var S=0;
S<x.length;S++){var g=x[S].v;if(Math.abs(g.Lctn.v/4096-y)<.02)i=x[S];if(S>0)if(Math.abs((x[S-1].v.Lctn.v+(g.Lctn.v-x[S-1].v.Lctn.v)*g.Mdpn.v/100)/4096-y)<.01)H=S}if(i==null&&Z==null&&k==-1&&H==-1){if(B<0){var V={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
V.v.Lctn.v=Math.round(y*4096);r.push(V);r.sort(this.ec);Z=V}if(B>1){var x=this.Py.Clrs.v,N=v.L.rW(this.Py,this.As.R5,this.As.qX),C=v.L.hf(this.Py,N,y),g={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:v.L.FV({Z:C&255,G:C>>8&255,J:C>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
g.v.Lctn.v=Math.round(y*4096);x.push(g);x.sort(this.ec);i=g}}if(i!=null)H=-1;if(Z!=null)k=-1;if(i!=null||Z!=null||k>-1||H>-1){this.r$=Z;
this.oX=i;this.yf=k;this.EW=H;this.ol();this.me();f.kk(window,this.GI);f.OD(window,this.hI)}};iU.prototype.Sh=function(d){var W=f.Ne(d,this.YW),c=this.qE,y=(W.x*f.QX()-c.x)/c.m,B=(W.y*f.QX()-c.y)/c.i;
y=Math.max(0,Math.min(1,y));var r=this.Py.Trns.v,x=this.Py.Clrs.v;if(this.r$!=null){var Z=this.r$.v;
Z.Lctn.v=Math.round(4096*y);var i=r.indexOf(this.r$);if(i!=-1&&B<-1&&r.length>1)r.splice(i,1);if(i==-1&&B>-1)r.push(this.r$);
r.sort(this.ec)}if(this.oX!=null){var k=this.oX.v;k.Lctn.v=Math.round(4096*y);var H=x.indexOf(this.oX);
if(H!=-1&&B>2&&x.length>1)x.splice(H,1);if(H==-1&&B<2)x.push(this.oX);x.sort(this.ec)}if(this.yf>-1){var Z=r[this.yf].v;
Z.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(y*4096-r[this.yf-1].v.Lctn.v)/(Z.Lctn.v-r[this.yf-1].v.Lctn.v))))}if(this.EW>-1){var k=x[this.EW].v;
k.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(y*4096-x[this.EW-1].v.Lctn.v)/(k.Lctn.v-x[this.EW-1].v.Lctn.v))))}if(this.r$!=null||this.oX!=null||this.yf>-1||this.EW>-1){this.ol();
this.me()}};iU.prototype.dP=function(d){f.jU(window,this.GI);f.Ra(window,this.hI);if(Date.now()-this.WX<300){if(this.EW!=-1||this.yf!=-1){var W=(this.EW!=-1?this.Py.Clrs.v[this.EW]:this.Py.Trns.v[this.yf]).v;
W.Mdpn.v=50;this.ol();this.me()}else if(this.oX!=null)this.nc.r2()}this.WX=Date.now()};iU.prototype.ec=function(d,W){return d.v.Lctn.v-W.v.Lctn.v};
function eK(d){kB.call(this,d=="isize"?[11,10]:[11,3],d);this.avS=d;var W=f.F("div","form");W.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");
this.body.appendChild(W);var c=d=="csize";this.auU=new ed("Hi");W.appendChild(this.auU.n);f.MZ(W);this.df=new a2(!0,!0,c,c,!0);
if(c)this.df.ao1(!1);W.appendChild(this.df.n);this.Eh=new ff([12,25,3]);this.Eh.c(!0);this.Eh.k(b.E.p,this.aqA,this);
this.YU=new gd(null,[[12,14,2],[12,14,3],[12,14,4]]);this.YU.c(1);this.QV=new aF([12,23,2],41);this.QV.c(4);
if(d=="isize"){W.appendChild(this.Eh.n);W.appendChild(this.YU.n)}else W.appendChild(this.QV.n);this.$n=f.GA(this,this.body)}eK.prototype=new kB;
eK.prototype.oy=function(d,W){return d!=null};eK.prototype.cN=function(){return!0};eK.prototype.Ea=function(d){return this.avS=="isize"?!1:[bm.Wj,bm.pe,bm.ZN,bm.wL].indexOf(d)!=-1};
eK.prototype.z9=function(d,W,c,y){if(y.S(bm.Qy))this.pn();this.QV.a2e(y.nv())};eK.prototype._=function(){kB.prototype._.call(this);
this.df._();this.Eh._();this.YU._();this.QV._();this.$n._()};eK.prototype.pn=function(d){var W=this.df.h(),c=W.x,y=W.y,B=new bR(b.E.HQ,!0),r=this.df.Kt.h();
if(this.avS=="csize"){if(r){var x=this.df.Nd,Z=this.df.tp;c=Z.x-x.x;y=Z.y-x.y}B.data=X.JH.am8(c,y,this.QV.h(),r)}else{var i=this.YU.h();
if(!this.Eh.h())i=null;B.data=X.JH.aEa(c,y,this.df.Ha(),i)}this.close();this.T(B)};eK.prototype.M7=function(d,W){this.df.c(new aL(d.m,d.i),d.tU);
this.df.$h();this.auU.c(ay.get(this.Ep)+": "+(d.m*d.i/1e6).toFixed(2)+" MPx")};eK.prototype.aqA=function(d){var W=this.Eh.h(),c=this.df,y=this.YU;
if(W)y.uu();else y.TB();c.anZ(W)};function jw(){kB.call(this,"Import RAW","importraw");var d=f.F("div","flexrow"),W=f.F("div");
W.setAttribute("style","margin-bottom: 1em");this.body.appendChild(d);this.body.appendChild(W);var c=f.F("div","form");
c.setAttribute("style","width:18em");d.appendChild(c);var y=f.F("div","form");y.setAttribute("style","width:15em");
d.appendChild(y);this.oA=null;this.vf=null;this.nr=null;this.$V=null;this.agG=[];var B=[];for(var S=0;
S<jw.nB.length;S++)B.push(jw.nB[S]+" Bits");var r=this.Hl=[new a2(!0,null,null,!0),new kk([12,72],1,8),new ff("Last one is Transparency"),new ij([12,34],B),new ij("Byte Order",["12-34","34-12"]),new gd("Guesses",[])];
for(var S=0;S<r.length;S++){var x=r[S];x.parent=this;x.k(b.E.p,S==5?this.a0W:this.fF,this);var Z=S==0?c:S==5?W:y;
Z.appendChild(x.n)}this.YW=f.F("canvas");this.bN=this.YW.getContext("2d");this.body.appendChild(this.YW);
this.$n=f.GA(this,this.body)}jw.prototype=new kB;jw.prototype._=function(){kB.prototype._.call(this);
var d=this.Hl;this.$n._();for(var S=0;S<d.length;S++)d[S]._()};jw.prototype.pn=function(d){this.close();
var W=this.Hl[0].h(),c=fd.ge(this.vf,[{data:this.nr,H2:new a8(0,0,W.x,W.y)}]);if(this.$V)c.iv=this.$V;
var y=new bR(b.E.V,!0);y.data={d:!0?b.H._I:b.H.rY,Ig:c};this.T(y)};jw.nB=[8,16];jw.prototype.M7=function(d,W){this.oA=new Uint8Array(W.vq);
this.vf=W.Kh;var c=this.oA.length,y=[1,3,4],B=0,r=0,x=1,Z=1,i=this.agG=[],k=Math.round(Math.sqrt(c)*2);
k=Math.max(k,4e3);for(var H=0;H<3;H++){for(var V=0;V<2;V++){var g=jw.nB[V],N=y[H],C=N*g,w=Math.round(c*8/C);
if(w!=c*8/C)continue;for(var Y=0;Y<=k;Y++)for(var U=0;U<=k;U++)if(Y*U==w){var e=0;if(Y==U)e+=64;if(Math.round(Y/100)==Y/100&&Math.round(U/100)==U/100)e+=32;
if(Math.round(Y/10)==Y/10&&Math.round(U/10)==U/10)e+=16;if(Math.round(Y/2)==Y/2&&Math.round(U/2)==U/2)e+=8;
i.push([Y,U,N,g,e])}}}var O=function(z,R){if(R[4]!=z[4])return R[4]-z[4];var t=Math.max(z[0],z[1])/Math.min(z[0],z[1]),a=Math.max(R[0],R[1])/Math.min(R[0],R[1]);
if(t!=a)return t-a;return R[0]-z[0]};i.sort(O);var l=this.Hl,I=[];for(var S=0;S<i.length;S++){var s=i[S];
I.push(s[0]+" x "+s[1]+", "+s[2]+"ch, "+s[3]+"-bit")}l[5].oe(I);l[5].c(0);this.a0W(null)};jw.prototype.a0W=function(d){var W=this.Hl,c=this.agG[this.Hl[5].h()];
W[0].c(new aL(c[0],c[1]),72);W[1].c(c[2]);W[3].c(jw.nB.indexOf(c[3]));this.fF()};jw.prototype.fF=function(d){var W=this.Hl,c=W[0].h(),y=c.x,B=c.y,r=jw.nB[W[3].h()],x=this.oA;
if(r==16&&W[4].h()==1){x=x.slice(0);for(var S=0;S<x.length;S+=2){var Z=x[S];x[S]=x[S+1];x[S+1]=Z}}var i=this.nr=this.Pd(x,y,B,W[1].h(),r,W[2].h()),k=this.YW,H=this.bN,V=[i,new a8(0,0,y,B)];
v.rG(V);for(var S=0;S<V.length;S+=2)if(V[S+1].i<300){i=V[S];y=V[S+1].m;B=V[S+1].i;break}k.width=y;k.height=B;
f.lE(k,y,B);var g=new ImageData(new Uint8ClampedArray(i.buffer),y,B);H.putImageData(g,0,0)};jw.prototype.Pd=function(d,W,c,y,B,r){this.$V=null;
var x=[],Z=W*c;for(var i=0;i<y;i++){var k=v.R(Z);x.push(k);if(B==8)for(var S=0;S<Z;S++)k[S]=d[S*y+i];
else if(B==16)for(var S=0;S<Z;S++)k[S]=Math.round((d[(S*y+i)*2]<<8|d[(S*y+i)*2+1])*(255/65535))}var H=v.R(Z*4);
new Uint32Array(H.buffer).fill(4278190080);if(r){v.nP(x.pop(),H,3);y--}if(y==0){}else if(y==1)v.ta(x[0],H);
else{v.nP(x[0],H,0);v.nP(x[1],H,1);if(y>2){v.nP(x[2],H,2);if(y>3){this.$V=[];for(var S=3;S<y;S++){var V=new e8.JO;
V.name="Alpha "+(S-2);V.rect=new a8(0,0,W,c);V.channel=x[S];this.$V.push(V)}}}}return H};function hb(d,W,c){d9.call(this);
this.n=f.F("div","");this.CL=d;this.Nq=null;this._h=W==null?!1:W;this.um=null;this.LB=c;this.YJ=[];this.OK=[];
this.P5=[];this.v$=[];this.vM=0;this.Nq=this.anA(hb.v$[d]);this.wa();this.Ku=null;this.abN;this.ajq}hb.prototype=new d9;
hb.prototype.RQ=function(d,W,c,y,B){this.Ku=B;this.abN=JSON.parse(JSON.stringify(this.um));if(this.Nq.lagl)this.ajq=this.Nq.lagl.h()[0]};
hb.prototype.f9=function(d,W,c,y,B){var r=this.Ku,x=this.CL,Z=this.abN;if(r==null)return;var i=(B.x-r.x)/d.Q.O,k=(B.y-r.y)/d.Q.O;
if(x=="GrFl"){var H=JSON.parse(JSON.stringify(Z.Ofst.v));H.Hrzn.v.val+=i*.5;H.Vrtc.v.val+=k*.5;this.Nq.Ofst.c(H,!0)}if(x=="patternFill"){var H=JSON.parse(JSON.stringify(Z.phase.v));
H.Hrzn.v+=i;H.Vrtc.v+=k;this.Nq.phase.c(H,!0)}if(x=="DrSh"||x=="IrSh"||x=="ChFX"){var V=Z.Dstn.v.val,g=this.ajq*Math.PI/180,N=-Math.cos(g)*V+i,C=Math.sin(g)*V+k;
this.Nq.Dstn.c(Math.sqrt(N*N+C*C),!0);this.Nq.lagl.c([Math.atan2(C,-N)*180/Math.PI],!0)}};hb.prototype.AZ=function(d,W,c,y,B){this.Ku=null};
hb.prototype.a8$=function(){for(var S=0;S<this.v$.length;S++){f.V6(this.v$[S],"selected");if(this.P5[S]instanceof ff)this.P5[S].c(!1)}};
hb.prototype.ai1=function(d){var W=this.apX.bind(this);for(var S=0;S<this.P5.length;S++){var c=f.F("div","listitem");
this.v$.push(c);if(S>0)c.textContent="\u2003";c.appendChild(this.P5[S].n);if(bV.aus.indexOf(this.CL)!=-1){var y=new gs("+");
y.JR();y.n.style.float="right";c.appendChild(y.n);var B=new gs("\u2B0D");B.JR();B.n.style.float="right";
B.n.style["margin-right"]="2px";c.appendChild(B.n)}c.addEventListener("click",W,!1);d.appendChild(c)}};
hb.v7=function(d,W){var c=W.getBoundingClientRect();return(d.clientY-c.top)/c.height};hb.prototype.apX=function(d){var W=d.target.tagName.toLowerCase();
if(W=="input"){return}if(W=="button"){var c=new bR(b.E.v,!0),y=d.target.textContent=="+",B=y?0:hb.v7(d,d.target)<.5?-1:1;
if(y)c.data={d:"st_dupsingle",a:this.parent.data.a,Q2:this.LB};else c.data={d:"st_movsingle",a:this.parent.data.a,Q2:this.LB,ayW:B};
c.f=X.tm;c.vd=!0;this.T(c);c=new bR("redrawall",!0);c.data={ayW:B};this.T(c);return}f.vT(d);this.zs();
this.vM=this.v$.indexOf(d.currentTarget);this.T(new bR("showme"))};hb.prototype.zs=function(){if(this.Nq.enab&&this.Nq.enab.h()==!1)this.rV({Nb:"enab",b:!0})};
hb.prototype.agh=function(){var d=this.v$[this.vM];if(d)f.CH(d,"selected");return this.OK[this.vM]};
hb.prototype.anA=function(d){var W={};for(var S=0;S<d.length;S++){var c=d[S],y=null;if(c=="----")y={n:f.F("hr")};
if(c=="\n")y={n:f.F("br")};if(c=="blOptions")y=new ed([14,10]);if(c=="brst")y=new gj([12,72],["R","G","B"]);
if(c=="knko")y=new gd("Knockout",[[13,1,0],"Shallow","Deep"]);if(c=="enab")y=new ff(bV.names[bV.order.indexOf(this.CL)]);
if(c=="lrMd"||c=="Md")y=new gd([12,19,0],dB.mX,dB.Pu);if(c=="Opct")y=new fs([12,0],0,100,"%");if(c=="iOpa")y=new fs([12,26],0,100,"%");
if(c=="blIf")y=new ch;if(c=="ShdN")y=new fs([12,68],0,100,"%");var B=this.CL=="St3D"&&c=="lagl";if(c=="lagl"||c=="Angl")y=new dv(B?"Light":[12,15],this.CL=="ebbl"||B);
if(c=="uglg")y=new ff([12,27]);if(c=="Dstn")y=new fs([12,28],0,200,"px");if(c=="Ckmt")y=new fs([12,29],0,100,"%");
if(c=="Srnk")y=new fs("Shrink",0,100,"%");if(c=="Drkn")y=new fs("Darken",0,100,"%");if(c=="blur")y=new fs([12,14,0],0,200,"px");
if(c=="TrnS"||c=="MpgS")y=new i2([12,21]);if(c=="Nose")y=new fs([12,30],0,100,"%");if(c=="layerConceals")y=new ff([12,31]);
if(c=="Cntn")y=new ff([12,25,4]);if(c=="AntA"||c=="antialiasGloss")y=new ff([12,25,1]);if(c=="GlwT")y=new gd([12,32],bV.SU.names);
if(c=="glwS")y=new gd([12,70],bV.SU.auf);if(c=="Inpr")y=new fs([12,12],1,100,"%");if(c=="bvlS")y=new gd([12,22],bV.X9.style);
if(c=="bvlT")y=new gd([12,32],bV.X9.a4x);if(c=="bvlD")y=new gd(null,bV.X9.dir);if(c=="srgR")y=new fs([12,34],0,1e3,"%");
if(c=="Sftn")y=new fs([12,35],0,20,"px");if(c=="Lald")y=W.lagl;if(c=="hglM"||c=="sdwM")y=new gd([12,36],dB.mX,dB.Pu);
if(c=="hglC"||c=="sdwC")y=new b2;if(c=="hglO"||c=="sdwO")y=new fs([12,0],0,100,"%");if(c=="Invr"||c=="InvT")y=new ff([4,11]);
if(c=="overprint")y=new ff("Overprint");if(c=="Sz")y=new fs([12,14,0],1,200,"px");if(c=="Styl")y=new gd([12,40],bV.stroke.names);
if(c=="PntT")y=new gd([12,66],bV.stroke.a55);if(c=="Clr")y=new b2(!0);if(c=="Grad"){y=new gV(!0,[12,37],!0);
y.c(JSON.parse(bV.We.ahf).v)}if(c=="Rvrs")y=new ff([12,23,0]);if(c=="Dthr")y=new ff([12,23,3]);if(c=="Type")y=new gd([12,22],bV.L.names.slice(0,this.CL=="FrFX"?6:5));
if(c=="Ptrn")y=new gk([12,62]);if(c=="Scl")y=new fs([12,38],5,500,"%",0,!0);if(c=="Algn")y=new ff([12,39]);
if(c=="Ofst")y=new aR(!0);if(c=="phase")y=new aR(!1);if(c=="useShape")y=new ff([12,21]);if(c=="useTexture")y=new ff([12,67]);
if(c=="textureDepth")y=new fs([12,34],-300,300,"%");var r=c=="----"||c=="\n"?c+S:c;if(y!=null)W[r]=y}return W};
hb.prototype.abP=function(d){var W=this.OK[this.vM];for(var S=0;S<d.length;S++){var c=this.Nq[d[S]];
if(c&&W.contains(c.n))W.removeChild(c.n)}};hb.prototype.a5w=function(d){var W=this.OK[this.vM];for(var S=0;
S<d.length;S++){var c=this.Nq[d[S]];if(c&&!W.contains(c.n))W.appendChild(c.n)}};hb.prototype.lz=function(d,W){if(this.Nq==null)return;
var c=W==kG.yS;if(this.Nq.Grad){this.Nq.Grad.Sk(d.R5,d.qX);if(c||W==kG.kg||W==kG.n6)this.Nq.Grad.bz(d.yv)}if(this.Nq.Ptrn){if(c||W==kG.XX)this.Nq.Ptrn.bz(d._m)}if(this.Nq.TrnS){if(c||W==kG.Vo)this.Nq.TrnS.bz(d._C)}if(this.Nq.MpgS){if(c||W==kG.Vo)this.Nq.MpgS.bz(d._C)}};
hb.prototype._=function(){for(var S=0;S<this.YJ.length;S++)this.YJ[S]._();for(var d in this.Nq)if(this.Nq[d]instanceof d9)this.Nq[d]._()};
hb.prototype.wa=function(){for(var d in this.Nq){var W=this.Nq[d];W.parent=this;if(W instanceof d9)W.k(b.E.p,this.aCW,this);
if(this.OK.length==0||d=="useShape"||d=="useTexture"){var c=new ed(W.a97()),y=f.F("div","bordered padded");
if(this._h==!1){y.appendChild(c.n);y.appendChild(f.F("hr",""))}this.YJ.push(c);this.OK.push(y);this.P5.push(W)}else this.OK[this.OK.length-1].appendChild(W.n)}};
hb.prototype.update=function(d,W){if(this.Nq==null)return;this.um=JSON.parse(JSON.stringify(W));for(var c in W){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(c)!=-1)this.Nq[c].c(W[c].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(c)!=-1){this.Nq[c].c(W[c].v,d)}if(["Md","hglM","sdwM"].indexOf(c)!=-1)this.Nq[c].c(dB.CL.indexOf(W[c].v.BlnM));
if(c=="lrMd"){var y=(W.vS?[[15,10,27]]:[]).concat(dB.mX),B=(W.vS?[1]:[]).concat(dB.Pu);this.Nq[c].oe(y,B);
this.Nq[c].c(W[c].v)}if(c=="Angl")this.Nq[c].c([W[c].v.val]);if(c=="lagl"){var r=W.uglg&&W.uglg.v?d.ws():W.lagl.v.val;
this.Nq[c].c([r])}if(c=="Lald"){var r=W.uglg&&W.uglg.v?d.E6():W.Lald.v.val;this.Nq[c].c([null,r])}if(c=="Type")this.Nq[c].c(bV.L.types.indexOf(W.Type.v.GrdT));
if(c=="Styl")this.Nq[c].c(bV.stroke.types.indexOf(W.Styl.v.FStl));if(c=="PntT"){var x=bV.stroke.tT.indexOf(W.PntT.v.FrFl);
this.Nq[c].c(x);if(!this._h){this.abP(bV.Ak.concat(bV.n1.concat(bV.DX)));this.a5w([bV.Ak,bV.n1,bV.DX][x])}}if(c=="GlwT")this.Nq[c].c(bV.SU.types.indexOf(W.GlwT.v.BETE));
if(c=="glwS")this.Nq[c].c(bV.SU.axf.indexOf(W.glwS.v.IGSr));if(c=="bvlS")this.Nq[c].c(bV.X9.types.indexOf(W.bvlS.v.BESl));
if(c=="bvlT")this.Nq[c].c(bV.X9.aqI.indexOf(W.bvlT.v.bvlT));if(c=="bvlD")this.Nq[c].c(["In","Out"].indexOf(W.bvlD.v.BESs))}};
hb.prototype.aCW=function(d){for(var W in this.Nq){if(this.Nq[W]!=d.target)continue;var c=null,y=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(W)!=-1)c={type:"#Prc",val:d.target.h()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(W)!=-1)c={type:"#Pxl",val:d.target.h()};if(["Angl","lagl"].indexOf(W)!=-1)c={type:"#Ang",val:d.target.h()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(W)!=-1)c=d.target.h();
if(["Md","hglM","sdwM"].indexOf(W)!=-1)c={BlnM:dB.CL[d.target.h()]};if(W=="uglg"){c=d.target.h();y=!0}if(W=="PntT"){c={FrFl:bV.stroke.tT[d.target.h()]};
y=!0}if(W=="Lald")c={type:"#Ang",val:d.target.h()[1]};if(W=="Type")c={GrdT:bV.L.types[d.target.h()]};
if(W=="Styl")c={FStl:bV.stroke.types[d.target.h()]};if(W=="GlwT")c={BETE:bV.SU.types[d.target.h()]};
if(W=="glwS")c={IGSr:bV.SU.axf[d.target.h()]};if(W=="bvlS")c={BESl:bV.X9.types[d.target.h()]};if(W=="bvlT")c={bvlT:bV.X9.aqI[d.target.h()]};
if(W=="bvlD")c={BESs:["In","Out"][d.target.h()]};this.rV({Nb:W,b:c});if(y){if(this._h)this.update(null,this.um);
else{var B=this.parent,r=B.Ig,x=this.LB,Z=r.B[B.data.a].add.lmfx[bV.Fb[x[0]]].v[x[1]].v;this.update(r,Z)}}}};
hb.prototype.rV=function(d){if(this.um&&this.um[d.Nb])this.um[d.Nb].v=d.b;if(this._h){this.T(new bR(b.E.p))}else{d.d="changeprop";
d.a=this.parent.data.a;d.Wr=this.LB;var W=new bR(b.E.v,!0);W.data=d;W.f=X.tm;W.vd=!0;this.T(W);this.T(new bR("afterchange",!0))}};
hb.prototype.h=function(){return JSON.parse(JSON.stringify(this.um))};hb.v$={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(bV.Ak),GrFl:["enab","Md","Opct"].concat(bV.n1),patternFill:["enab","Md","Opct"].concat(bV.DX),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(bV.Ak.concat(bV.n1.concat(bV.DX)))};
function kC(){kB.call(this,[11,6],"layerstyle");this.aAk=-1;this.data={};this.Ig=null;this.kO=null;this.bb=[];
this.n$=[];f.CH(this.body,"flexrow");this.cL=f.F("div","bordered");this.cL.setAttribute("style","min-width:13em;");
this.body.appendChild(this.cL);this.NO=f.F("div","");this.NO.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.NO);this.nG=f.F("div","form");this.nG.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.nG);this.$n=f.GA(this,this.nG);this.po=new gs([12,87],!0,null,!0);this.po.k("click",this.aqE,this);
this.nG.appendChild(this.po.n);this.rr=new ev;this.rr.parent=this;this.rr.k(b.E.p,this.aAA,this);this.nG.appendChild(this.rr.n);
this.k("closebtn",this.lD,this);this.k("redrawall",this.aj0,this)}kC.prototype=new kB;kC.prototype.cN=function(){return!0};
kC.prototype.el=function(){return!0};kC.prototype.RQ=function(d,W,c,y,B){var r=this.L5();if(r)r.RQ(d,W,c,y,B)};
kC.prototype.f9=function(d,W,c,y,B){var r=this.L5();if(r)r.f9(d,W,c,y,B)};kC.prototype.AZ=function(d,W,c,y,B){var r=this.L5();
if(r)r.AZ(d,W,c,y,B)};kC.prototype.L5=function(d){if(d==null)d=this.data.index;return d==null?null:d==0?this.bb[0]:this.n$[d[0]][d[1]]};
kC.prototype.aAA=function(d){var W=this.rr.h();this.rV({d:"setstl",b:W.r1});this.aj0(null)};kC.prototype.aqE=function(d){var W=this.Ig,c=this.data.a;
if(c==null)c=W.g[0];var y=this.Ig.B[c],B=eV.alS(y),r=new bR(b.E.V,!0);r.data={d:b.H.e7,K3:"add",au:kG.T$,U0:[JSON.parse(JSON.stringify(B))]};
this.T(r)};kC.prototype.aiw=function(d){this.data.index=d.currentTarget.LB;this.YK(d.currentTarget.LB)};
kC.prototype.aj0=function(d){this.M7(this.Ig,this.data)};kC.prototype.YK=function(d,W){f.qf(this.NO);
for(var S=0;S<this.bb.length;S++)this.bb[S].a8$();var c=this.L5(d);this.NO.appendChild(c.agh());if(W)c.zs();
var y=this.Ig;if(y){var B=y.B[this.data.a];this.bb[0].update(y,X.M1.by(y,B));var r=B.add.lmfx;if(r==null)return;
for(var S=0;S<bV.order.length;S++){var x=r[bV.Fb[S]].v;for(var Z=0;Z<x.length;Z++)this.n$[S][Z].update(y,x[Z].v)}}if(W)c.zs()};
kC.prototype._=function(){kB.prototype._.call(this);this.po._();this.rr._();this.$n._();for(var S=0;
S<this.bb.length;S++)this.bb[S]._()};kC.prototype.M7=function(d,W){var c=W.a==null;this.data.a=W.a;this.data.index=W.index;
W=this.data;this.Ig=d;if(c)W.a=d.g.length==0?d.B.length-1:d.g[0];f.qf(this.cL);var y=d.B[W.a].add.lmfx;
this.ag();this.bb=[new hb("bops",!1,0)];this.n$=[];for(var S=0;S<bV.order.length;S++){this.n$.push([]);
var B=y==null?[]:y[bV.Fb[S]].v;for(var r=0;r<B.length;r++){var x=new hb(bV.order[S],!1,[S,r]);this.bb.push(x);
this.n$[S].push(x)}if(B.length==0){var x=new hb(bV.order[S],!1,[S,0]);this.bb.push(x);this.n$[S].push(x)}}this._();
this.aq2(this.kO,kG.yS);for(var S=0;S<this.bb.length;S++){this.bb[S].parent=this;this.bb[S].ai1(this.cL);
this.bb[S].k("showme",this.aiw,this)}if(W.index==null||W.index==0||!c&&y[bV.Fb[W.index[0]]].v.length==0){this.YK(0)}else this.YK(W.index,c);
this.k("afterchange",this.ag,this)};kC.prototype.ag=function(d){var W=this.Ig,c=this.data.a;if(c==null)c=W.g[0];
var y=this.Ig.B[c],B=eV.alS(y);this.rr.c(B,W.add.Patt?W.add.Patt:[],W.ws(),W.E6())};kC.prototype.lz=function(d,W){this.kO=d;
this.aq2(d,W);if(W==kG.T$||W==kG.yS){this.rr.bz([d.C$,d._m])}if(W==kG.jY){}};kC.prototype.aq2=function(d,W){for(var S=0;
S<this.bb.length;S++)this.bb[S].lz(d,W)};kC.prototype.lD=function(d){this.rV({d:"cancel"})};kC.prototype.pn=function(d){this.rV({d:"confirm"});
this.close()};kC.prototype.rV=function(d){d.a=this.data.a;var W=new bR(b.E.v,!0);W.data=d;W.f=X.tm;W.vd=!0;
this.T(W);this.ag()};kC.adM=function(){var d=function(W){if(W==null||W.g.length==0)return{w:!1};var c=W.B[W.g[0]];
return{w:c.add.lmfx!=null}};return{name:[11,6],Zq:!0,sub:[{name:[5,1],w:d},{name:[5,2]},{name:[2,2],w:d}]}};
kC.ayf=function(){return{sub:[{K:b.E.v,f:X.tm,C:{d:"st_copy"}},{K:b.E.v,f:X.tm,C:{d:"st_paste"}},{K:b.E.v,f:X.tm,C:{d:"st_clear"}}]}};
kC.G1=function(d){var W=[{name:[14,10],Zq:!0}];for(var S=0;S<bV.names.length;S++)W.push({name:bV.names[S]});
if(d){W[W.length-1].Zq=!0;W.push(kC.adM());W.push({name:[6,30,1],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].Yj()}}});
W.push({name:["VAR0 VAR1",[12,49],[9,1]],w:function(c){return{w:c!=null&&c.g.length!=0&&c.B[c.g[0]].add.lmfx!=null}}})}return W};
kC.MC=function(d){var W=[{K:b.E.V,C:{d:b.H.vB,vD:"layerstyle"}}];for(var S=0;S<bV.names.length;S++)W.push({K:b.E.V,C:{d:b.H.vB,vD:"layerstyle",index:[S,0]}});
if(d){W.push(kC.ayf());W.push({K:b.E.V,C:{d:b.H.vB,vD:"scaleeffects",qp:100,gU:{K:b.E.v,f:X.tm,C:{d:"scaleeffects"}}}});
var c={classID:"Mk",null:hC.cV("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
W.push({K:b.E.HQ,C:{cx:"make",i9:c}})}return W};kC.al6=function(d){var W=[];if(d)W.push({name:[6,48,0,0],xJ:!0},{name:[6,48,0,1],xJ:!0},{name:[6,48,0,2],xJ:!0,Zq:!0});
for(var c in bN.names)W.push({name:bN.names[c],Zq:bN.a0G.indexOf(c)!=-1,xJ:f7[c]!=null});return W};kC.jA=function(d){var W=[];
if(d){W.push({K:b.E.v,f:X.rB,C:{d:"newfill",zT:0}});for(var S=1;S<3;S++)W.push({K:b.E.HQ,C:X.Q6.yX(S)})}for(var c in bN.names){var y=eR.qw(c);
if(y==null)y={};for(var B in bN.dg)if(bN.dg[B]==c)y.classID=B;var r={cx:"make",i9:{classID:"Mk",null:hC.cV("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:y}}}}};
W.push({K:b.E.HQ,C:r})}return W};function hr(){kB.call(this,"Merge Channels","mergechannels");this.fu=null;
var d=f.F("div","form");this.body.appendChild(d);this.Hl=[];for(var S=0;S<3;S++){var W=new gd(bN.S7[S],[]);
this.Hl.push(W);d.appendChild(W.n);f.MZ(d)}this.$n=f.GA(this,d)}hr.prototype=new kB;hr.prototype._=function(){kB.prototype._.call(this);
this.$n._();for(var S=0;S<3;S++)this.Hl[S]._()};hr.prototype.M7=function(d,W,c,y){this.fu=c;var B=[];
for(var S=0;S<c.length;S++)B.push(c[S].name);for(var S=0;S<3;S++){var r=this.Hl[S];r.oe(B);r.c(Math.min(S,c.length-1))}};
hr.prototype.pn=function(d){var W=this.fu,c=W[0],y=new bR(b.E.HQ,!0);y.data=eb.qW(c.m,c.i,c.tU,"Merged Document","Wht",!1);
this.T(y);var B=[];for(var S=0;S<3;S++)B.push(W[this.Hl[S].h()].Li());var c=W[W.length-1],r=c.B[0],x=r.buffer;
for(var S=0;S<x.length;S+=4){x[S]=B[0][S];x[S+1]=B[1][S];x[S+2]=B[2][S]}r.W();c.W();this.close()};function eP(){kB.call(this,[1,10],"script");
var d=f.F("div","form");d.setAttribute("style","width:44em");this.body.appendChild(d);this.kO=null;this.HB=[];
this.JP=[];this.aBw;var W=this.tu=new gs([1,2],!1,null,!0);W.k("click",this.Lj,this);d.appendChild(W.n);
var c=new gs("JS Reference",!1,null,!0);c.k("click",this.a5O,this);d.appendChild(c.n);d.appendChild(new ed("Demos:").n);
this.aqi=[];var y=eP.rl;for(var S=0;S<y.length;S++){var B=new gs(y[S].hH,!1,null,!0);this.aqi.push(B);
d.appendChild(B.n);B.k("click",this.ax6,this)}this.Xu=f.F("textarea");f.O6(this.Xu);this.Xu.setAttribute("rows",16);
this.Xu.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");d.appendChild(this.Xu);
var r=new gs("Run",!0,null,!0);r.k("click",this.pn,this);d.appendChild(r.n);this.ic=f.F("div");d.appendChild(this.ic)}eP.prototype=new kB;
eP.prototype._=function(){this.tu._()};eP.prototype.Lj=function(){var d=this.aBw;if(d==null)d="script.jsx";
var W=new bR(b.E.V,!0);W.data={d:b.H.vB,vD:"namewindow",qp:d.slice(0,d.length-4),Ws:this.auk.bind(this)};
this.T(W)};eP.prototype.auk=function(d){var W=this.Xu.value,c=K.$N(W),y=new bR(b.E.V,!0);y.data={d:b.H.$X,vq:c.buffer,_S:d+".jsx",amN:!0};
this.T(y)};eP.prototype.a2H=function(d){var S=this.HB.indexOf(d.target),W=this.aBw=this.JP[S],c=this.kO.V9.B_[W],y=new Uint8Array(c),B=K.uw(y,0,y.length);
this.Xu.value=B};eP.prototype.M7=function(d,W,c){this.Xu.value=eP.rl[0].nX;this.aoc()};eP.prototype.aoc=function(){var d=this.kO.V9,W=this.ic;
f.qf(W);this.HB=[];this.JP=[];W.textContent="Saved scripts: ";for(var c in d.B_){if(c.endsWith(".jsx")){var y=new gs(c,!1,null,!0);
this.HB.push(y);this.JP.push(c);y.k("click",this.a2H,this);W.appendChild(y.n)}}};eP.prototype.lz=function(d,W){this.kO=d;
if(W==kG.mz)this.aoc()};eP.prototype.a5O=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.ea,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.T(W)};eP.prototype.pn=function(d){var W=this.Xu.value,c=this.kO.V9.B_;W=eP.aw_(W,c);var y=new bR(b.E.V,!0);
y.data={d:b.H.r3,za:W};this.T(y)};eP.aw_=function(d,W){var c=d.split("\n");for(var S=0;S<c.length;S++){var y=c[S].trim();
if(y.startsWith("#include")){var B=y.slice(y.indexOf("\"")+1,y.lastIndexOf("\"")),r=W[B];if(r==null)alert("\""+B+"\" not found in the Local Storage");
c[S]=eP.aw_(K.uw(new Uint8Array(r)),W)}}return c.join("\n")};eP.prototype.ax6=function(d){var W=this.aqi.indexOf(d.currentTarget);
this.Xu.value=eP.rl[W].nX};eP.rl=[{hH:"Hello",nX:"\nalert(\"Hello Photopea!\");\n"},{hH:"Process Layers",nX:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{hH:"Clone Layers",nX:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function jd(){kB.call(this,[11,7],"newproject");this.data=null;this.fu=null;this.g2=0;var d=f.F("div","flexrow");
this.iy=d;this.body.appendChild(d);var W=f.F("div","form");this.rf=W;d.appendChild(W);this.Ba=new eO([12,48],null,10);
W.appendChild(this.Ba.n);f.MZ(W);this.df=new a2(!0,null,null,null,!0);this.df.c(new aL(1280,720),72);
this.df.anZ(!0,!0);this.df.k(b.E.p,this.IG,this);W.appendChild(this.df.n);this.m_=new du;this.m_.parent=this;
W.appendChild(this.m_.n);this.Cf=new gs("\u02C5",null,[0,14],!0);this.Cf.k("click",this.jC,this);W.appendChild(this.Cf.n);
var c=this.KA=f.F("span");W.appendChild(c);c.style.display="none";this.aou=new gd([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
c.appendChild(this.aou.n);this.KR=new ff([1,16,1]);c.appendChild(this.KR.n);this.$n=new gs([12,49],!0,null,!0);
this.$n.k("click",this.pn,this);W.appendChild(this.$n.n);var y=jd.oA,B=[];for(var S=0;S<y.length;S++)B.push(y[S].name);
this.dh=new ij(null,B);this.dh.k(b.E.p,this.a4L,this);W.appendChild(this.dh.n);this.dh.n.style["margin-top"]="1em";
this.wE=new fZ(!0);this.wE.k(b.E.p,this.aw0,this);W.appendChild(this.wE.n);this.a4L();this.eG=new em;
this.eG.parent=this;this.eG.n.setAttribute("style","margin-left:1em");this.eG.k("tempready",this.a6r,this)}jd.prototype=new kB;
jd.prototype.jC=function(d){var W=this.KA,c=W.style.display!="none";W.style.display=c?"none":"";this.Cf.N2(c?"\u02C5":"\u02C4");
this.z2(this.Kp,this.fn)};jd.prototype.lz=function(d,W){this.eG.lz(d)};jd.prototype.i$=function(d,W){return new aL(Math.max(0,Math.min(70,(d-690)/2)),d>W?Math.max(0,Math.min(50,(W-400)/2)):0)};
jd.prototype.z2=function(d,W){this.Kp=d;this.fn=W;this.rf.setAttribute("style","width:"+Math.min(d-24,338)+"px");
this.wE.n.style.height=W-248-(this.KA.style.display=="none"?0:28)+"px";var c=this.eG.n,y=c.parentNode;
if(d<500){if(y!=null)this.iy.removeChild(c)}else{if(y==null)this.iy.appendChild(c);this.eG.z2(d-378,W-28)}};
jd.prototype.IG=function(){this.eG.c(this.df.h())};jd.prototype.aw0=function(d){var W=this.wE.h()[0],c=jd.oA[this.dh.h()].KC[W],y=c[4];
if(y==0)y=72;var B=c[1],r=c[2],x=["px","%","mm","in"].indexOf(c[3]),Z=[1,1,25.4/y,1/y][x];B/=Z;r/=Z;
this.df.c(new aL(Math.round(B),Math.round(r)),y);this.df.ag$(x);this.IG();if(Date.now()-this.g2<300)this.pn();
this.g2=Date.now()};jd.prototype.a4L=function(d){var W=jd.oA[this.dh.h()].KC,c=[],y=[],B=Math.round(106*f.QX()),r=Math.round(106*f.QX()),x=0;
for(var S=0;S<W.length;S++)x=Math.max(x,W[S][1],W[S][2]);for(var S=0;S<W.length;S++){var Z=W[S],i=Z[1]+" x "+Z[2]+" "+Z[3];
if(Z[3]=="in")i=(Z[1]*25.4).toFixed(0)+" x "+(Z[2]*25.4).toFixed(0)+" mm";if(Z[3]=="mm")i=(Z[1]/25.4).toFixed(1)+" x "+(Z[2]/25.4).toFixed(1)+" in";
if(Z[4])i=i+" @ "+Z[4]+" ppi";y.push(i);c.push(jd.pL(Z,B,r,x))}this.wE.KO(c,y,B,r)};jd.pL=function(d,W,c,y){var B=f.F("canvas",""),r=B.getContext("2d");
B.width=W;B.height=c;var x=Math.round(W/8),Z=Math.floor(11*f.QX()),i=d[1],k=d[2];r.fillStyle="#000000";
r.font=Math.round(Z*.9)+"px \"Open Sans\", Sans-Serif";var H=i+" x "+k+" "+d[3],V=r.measureText(H);r.fillText(H,Math.round((W-V.width)/2),c-Math.round(x/2));
if(d[0]!=null){r.font="bold "+Z+"px \"Open Sans\", Sans-Serif";var H=d[0],V=r.measureText(H);r.fillText(H,Math.round((W-V.width)/2),c-Math.round(x/2)-Math.round(Z*1.3))}c-=Math.round(2.5*Z);
var g=Math.min((W-x)/i,(c-x)/k);g*=.5+.5*(Math.max(i,k)/y);var N=(W-i*g)/2,C=(c-k*g)/2;r.strokeRect(Math.round(N)+.5,Math.round(C)+.5,Math.round(i*g),Math.round(k*g));
return B.toDataURL()};jd.prototype._=function(){kB.prototype._.call(this);this.df._();this.Ba._();this.m_._();
this.$n._();this.Ba.c(ay.get([11,7]));this.dh._();this.KR._();this.Cf._();this.eG._()};jd.prototype.pn=function(d){var W=this.df.h(),c=W.x,y=W.y;
this.close();var B=this.m_.h(),r=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.aou.h()],x=new bR(b.E.HQ,!0);
x.data=eb.qW(c,y,this.df.Ha(),this.Ba.h(),["Wht","Blck","Trns","Clr"][B[0]],this.KR.h(),B[1],r);this.T(x);
this.aCH()};jd.prototype.a6r=function(d){var W=d.data.Ig;W.tU=this.df.Ha();var c=new bR(b.E.V,!0);c.data={d:b.H._I,Ig:W};
this.T(c);this.close();this.aCH()};jd.prototype.aCH=function(){var d=this.fu[this.fu.length-1],W=this.data.aEb;
if(W)bJ.Zy(function(){var c=new XMLHttpRequest,y="https://www.googleapis.com/drive/v3/files?"+bJ.Pj();
c.open("POST",y,!0);c.setRequestHeader("Content-Type","application/json");c.addEventListener("load",function(B){var r=JSON.parse(B.target.response);
d.hs={file:r,xH:"psd"};alert(d.name+" created in Google Drive")});c.send(JSON.stringify({name:d.name,aCY:[W]}))})};
jd.prototype.M7=function(d,W,c,y){this.fu=c;if(d!=null&&d.u!=null){var B=new a8(0,0,d.m,d.i).nK(d.u.rect);
this.df.c(new aL(B.m,B.i))}this.data=W;this.IG();if(f.BA())bw.azY(this.sh.bind(this))};jd.prototype.sh=function(d){if(d=="granted")bw.fR(this,this.JX.bind(this))};
jd.prototype.JX=function(d,W){this.df.c(new aL(W.m,W.i))};jd.oA=[{name:"Social",KC:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],KC:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],KC:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],KC:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],KC:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],KC:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",KC:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function g4(d,W,c){kB.call(this,W,"sel_"+d);this.d=d;var y=f.F("div","form");this.body.appendChild(y);
this.Ba=new kk(W,0,255,null,0,!1,!0);y.appendChild(this.Ba.n);this.Ba.c(1);var B=f.F("span");B.textContent=c;
y.appendChild(B);f.MZ(y);this.afb=new ff("Apply at canvas bounds");if(d!="border")y.appendChild(this.afb.n);
this.$n=f.GA(this,y)}g4.prototype=new kB;g4.prototype.oy=function(d,W){if(d==null)return;if(d.u==null)alert("No selection!");
return d.u!=null};g4.prototype.pn=function(d){var W=new bR(b.E.HQ,!0);W.data=X.XC.H3(this.d,this.Ba.h(),this.afb.h());
W.vd=!0;this.T(W);this.close()};g4.prototype._=function(){kB.prototype._.call(this);this.$n._();if(this.Ba)this.Ba._()};
g4.prototype.M7=function(d,W){this.Ba.$h()};function bl(d,W,c,y,B,r){kB.call(this,c,W);this.aBC=r;this.hm=B;
this.oA=null;this.rf=f.F("div","form");this.body.appendChild(this.rf);this.az0=f.F("div");this.rf.appendChild(this.az0);
var x=500;if(y){var Z=y.split(",");y=Z[0];if(Z[1])x=parseFloat(Z[1])}this.Ba=d==0?new eO(c,null,10):d==1?new fs(c,0,x,y,1):new eO(c,null,24,5);
this.Ba.k(b.E.p,this.AG,this);this.rf.appendChild(this.Ba.n);this.$n=f.GA(this,this.rf);this.k("closebtn",this.lD,this)}bl.prototype=new kB;
bl.prototype.i$=function(d,W){return new aL(Math.max(0,Math.min(150,(d-250)/2)),Math.max(0,Math.min(150,(W-120)/2)))};
bl.prototype.cN=function(){return this.aBC};bl.prototype.AG=function(d){var W=this.Ba.h();if(this.hm)this.G$(W)};
bl.prototype.lD=function(d){if(this.hm)this.G$("cancel")};bl.prototype.pn=function(d){if(this.hm)this.G$("confirm");
else this.G$(this.Ba.h());this.close()};bl.prototype.G$=function(d){if(this.oA.Ws)this.oA.Ws(d);else if(this.oA.gU){var W=this.oA.gU,c=new bR(W.K,!0);
c.f=W.f;c.data=W.C;c.data.b=d;c.vd=!0;this.T(c)}};bl.prototype._=function(){kB.prototype._.call(this);
this.$n._();if(this.Ba)this.Ba._()};bl.prototype.M7=function(d,W){this.oA=W;this.Ba.c(W.qp);this.Ba.$h();
this.az0.innerHTML=W.a9c?W.a9c:"";this.AG(null)};function d3(){kB.call(this,[1,5],"open_from_url");this.E8=null;
var d=f.F("div","form");this.body.appendChild(d);this.Sd=new eO("URL",null,22);d.appendChild(this.Sd.n);
f.MZ(d);this.uq=new ij([21,0],[[21,2],[21,1]]);d.appendChild(this.uq.n);this.$n=f.GA(this,d)}d3.prototype=new kB;
d3.prototype._=function(){kB.prototype._.call(this);this.$n._();this.uq._()};d3.prototype.M7=function(d,W,c){this.Sd.$h();
this.E8=null;if(d&&c.indexOf(d)!=-1)this.E8=c.indexOf(d)};d3.prototype.pn=function(d){var W=new bR(b.E.V,!0),c=this.Sd.h();
W.data={d:b.H.Gf,au:{url:c,uG:!0,E8:this.uq.h()==1?this.E8:null}};this.T(W);this.close()};function dq(){kB.call(this,[12,79],"preferences");
this.kO=null;var d=f.F("div","form");this.body.appendChild(d);this.v$=[new ff([8,2]),new b2,new ff([8,4]),new b2,new gd([12,80,3],[[12,93,3],[12,80,4]]),new fs([12,80,5],.02,100,null,2),new gd(null,v.T6.rS),new gd([12,80,6],v.T6.rS),new ff("Remind me to save"),new ff("Glass Menus"),new fs("Cursor Offset",0,200)];
for(var S=0;S<this.v$.length;S++){var W=this.v$[S];W.parent=this;W.k(b.E.p,this.Ol,this);if(S==8)continue;
d.appendChild(W.n);if(S!=0&&S!=2&&S!=3&&S!=5)f.MZ(d)}}dq.prototype=new kB;dq.prototype._=function(){kB.prototype._.call(this);
for(var S=0;S<this.v$.length;S++)this.v$[S]._()};dq.prototype.M7=function(d,W,c){};dq.prototype.lz=function(d,W){this.kO=d;
var c=d.UA;this.v$[0].c(c.qx);this.v$[1].vt(c.q$);this.v$[2].c(c.M0);this.v$[3].vt(c.Aw);this.v$[4].c(c.h7);
this.v$[5].c(c.$z);this.v$[6].c(c.kW);this.v$[7].c(c.Wx);this.v$[8].c(d.$0==1);var B=window.locStor.getItem("__glm");
this.v$[9].c(B=="1");this.v$[10].c(d.p2)};dq.prototype.Ol=function(d){var W=this.v$;if(d.target==W[8])this.kO.$0=1-this.kO.$0;
var c=JSON.parse(JSON.stringify(this.kO.UA));c.qx=W[0].h();c.q$=W[1].zE();c.M0=W[2].h();c.Aw=W[3].zE();
c.h7=W[4].h();c.$z=W[5].h();c.kW=W[6].h();c.Wx=W[7].h();window.locStor.setItem("__glm",W[9].h()?"1":"0");
this.kO.p2=W[10].h();var y=new bR(b.E.V,!0);y.data={d:b.H.e7,au:kG.U5,z4:c};this.T(y)};function cA(){kB.call(this,[11,8],"saveforweb");
this.ac6="";this.k("closebtn",function(){this.M$.Am()},this);this.Ig=null;this.XB=null;this.ahh=null;
this.kO=null;f.CH(this.body,"flexrow");this.body.style.padding="0";var d=f.F("div");d.setAttribute("style","position:relative;");
var W=f.F("div");this.body.appendChild(d);this.body.appendChild(W);this.mk=f.F("div","imgcont");d.appendChild(this.mk);
this.M$=new h6;this.M$.z2(512,512);var c=this.IZ=f.F("video");c.setAttribute("controls","");c.setAttribute("preload","auto");
c.setAttribute("loop","");this.hU=f.F("div");this.hU.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
d.appendChild(this.hU);var y=this.rf=f.F("div","form cell");y.setAttribute("style","width:195px; padding:9px 13px;");
W.appendChild(y);this.J9=new eO([12,48],null,7.6);this.J9.OH();y.appendChild(this.J9.n);var B=fd.xs();
B[B.indexOf("WEBP")]="webP";this.Cq=new gd([12,50],B);this.Cq.n.style.marginRight="0";this.Cq.OH();y.appendChild(this.Cq.n);
this.Cq.k(b.E.p,this.LR,this);f.MZ(y);this.df=new a2(!0,!0,!1,!0);this.df.OH();this.df.k(b.E.p,this.LR,this);
this.df.wb.n.style.paddingBottom="8px";y.appendChild(this.df.n);this.pt=new cv;this.pt.k(b.E.p,this.LR,this);
y.appendChild(this.pt.n);this.pj=new gs([1,2],!0,null,!0);this.pj.k("click",this.pn,this);y.appendChild(this.pj.n)}cA.prototype=new kB;
cA.prototype.oy=function(d,W){return d!=null};cA.prototype._=function(){kB.prototype._.call(this);this.df._();
this.J9._();this.Cq._();this.pt._();this.pj._()};cA.prototype.pn=function(d){var W=this.J9.h().trim(),c=fd.xs()[this.Cq.h()],y=c=="JPG"||c=="PNG"||c=="GIF"||c=="SVG",B=fd.Ay(c),r="."+c.toLowerCase(),x=this.XB,Z=W+r,i=this.Ig,k=i.nD,H=this.pt.h();
if(i.iB())H.pop();if(k.length!=0&&y&&H.pop()){var V="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",g=[],N={},C=new a8(0,0,i.m,i.i),w=i.Li();
for(var S=0;S<k.length;S++)g.push(X.ju.tA(k,S));g.reverse();var Y=v.rect.akL([0,0,i.m,i.i],g);for(var S=0;
S<Y.length;S++){var U=Y[S],e=new a8(U[0],U[1],U[2]-U[0],U[3]-U[1]),O=U.length==5?k[U[4]].v:null,l=v.R(e.P()*4);
v.qR(w,C,l,e);var I="img/img"+(S+1)+r;N[I]=new Uint8Array(B.Cy([[l.buffer,0,i.tU,i.RO]],e.m,e.i,H));
V+="<div style=\"background-image:url('"+I+"'); left:"+e.x+"px; top:"+e.y+"px; width:"+e.m+"px; height:"+e.i+"px\">";
if(O&&O.url.v!="")V+="\n\t<a href=\""+O.url.v+"\" target=\""+O.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
V+="</div>\n"}V+="</body>\n</html>\n";var s=v.R(Math.round(V.length*1.5)),z=K.wP(V,s,0);N["index.html"]=s.slice(0,z);
x=UZIP.encode(N);Z=W+".zip"}else if(i.add.artd&&i.add.artd.Cnt.v>1&&y&&H.pop()){var N={},C=new a8(0,0,i.m,i.i),w=i.Li(),R=i.root.children;
for(var S=0;S<R.length;S++){var t=R[S].a,J;if(t.add.artb==null||!t.jF())continue;var a=t.ZB();if(c=="SVG")J=new Uint8Array(B.Cy(i,a.m,a.i,H,this.kO,S));
else{var F=v.R(a.P()*4);v.qR(w,C,F,a);J=new Uint8Array(B.Cy([[F.buffer,0,i.tU,i.RO]],a.m,a.i,H))}N[t.getName()+r]=J}x=UZIP.encode(N);
Z=W+".zip"}var h=function(){if(i.U8)bw.SW("act=1&id="+i.U8);this.M$.Am();this.close();var r=fd.xs()[this.Cq.h()];
jj.event("efmt_"+r.toLowerCase(),.1);var D=new bR(b.E.V,!0);D.data={d:b.H.vR,data:x,name:Z};this.T(D)}.bind(this);
if(!this.kO.cm||jj.Xf()){h();return}if(ah.Ld==0){ah.BK(h);return}var m=ah.Cz()!=0;h();var D=new bR(b.E.V,!0),_=dQ.QW("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),n=dQ.QW(";QJXQ_*II9"),j=function(){D.data={d:b.H.vB,vD:"account"};
this.T(D)}.bind(this);if(m){_=dQ.QW("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
j=function(){};n=null}D.data={d:b.H.vB,vD:dQ.I1,b:_,Ws:j,a9Q:n};if(Math.random()<.1||m)this.T(D)};cA.prototype.M7=function(d,W){if(W.Uw!=null)this.Cq.c(W.Uw);
this.Ig=d;var c=this.Ig.name,y=c.lastIndexOf("."),c=y==-1?c:c.slice(0,y);this.J9.c(c);var B=d.m+","+d.i;
if(B!=this.ac6){this.ac6=B;this.df.c(new aL(d.m,d.i),d.tU)}this.pt.apP();if(W.a30){this.df.ag$(3);this.pt.Sb.PDF[2].Az.c(!0)}this.LR(null,!0)};
cA.prototype.ax_=function(d,W){return d<W&&d<660};cA.prototype.i$=function(d,W){return this.ax_(d,W)?new aL(0,0):new aL(Math.max(0,Math.min(150,(d-770)/2)),Math.max(0,Math.min(150,(W-590)/2)))};
cA.prototype.z2=function(d,W,c){this.Kp=d;this.fn=W;if(this.Ig==null)return;var y=this.pj.n,B=this.ax_(d,W),r,x,g="<span style=\"width:",N="display:inline-block; text-align:right;\">";
if(B){var Z=this.rf.getBoundingClientRect().height;r=d;x=W-Math.max(Z,252);f.V6(this.body,"flexrow")}else{r=Math.min(512,d-195-2*13);
x=Math.min(512,W-24);f.CH(this.body,"flexrow")}var i=B?d-2*13:195;this.rf.style.width=i+"px";this.J9.uk.style.width=i-77+"px";
this.df.z2(i);var k=fd.xs()[this.Cq.h()],H=fd.Ay(k);if(H.IX||H._U)this.mk.firstChild.setAttribute("style","display:block; width:"+r+"px; height:"+x+"px;");
else{this.M$.z2(r,x);this.IZ.width=r;this.IZ.height=x}var V=this.XB.byteLength,C=g+64+"px;"+N+cA.oZ(V)+"</span>";
if(r>400)C+=g+90+"px; opacity:"+.5+";"+N+V.toLocaleString()+" B</span>";this.hU.innerHTML=C;if(c)setTimeout(function(){this.z2(this.Kp,this.fn)}.bind(this),20)};
cA.oZ=function(d){var W=d.toString(2),c=0;while(c+10<W.length)c+=10;var y=(d/Math.pow(2,c)).toFixed(1);
if(y.endsWith(".0"))y=y.slice(0,-2);var B="B KB MB GB TB PB".split(" ")[Math.floor(c/10)];return y+" "+B};
cA.prototype.lz=function(d,W){this.kO=d};cA.prototype.LR=async function(d,W){var c=this.Ig,y=this.df.h(),B=y.x,r=y.y,x=this.Cq.h(),Z=fd.xs()[x],i=fd.CQ(c)[0].length,k=["GIF","PNG","WEBP","MP4"].indexOf(Z)!=-1&&i>1,U="";
if(k&&Z!="MP4"&&W&&(i>4&&B*r>1024*1024||B*r*i>800*800*50)){var H=1;while(Math.max(B>>>H,r>>>H)>800)H++;
var V=window.confirm("Your animation is large ("+B+" x "+r+" px). Press \"OK\" to scale it to "+(100>>>H)+"%. Press \"Cancel\" to keep the size.");
if(V){this.df.c(new aL(B>>>H,r>>>H),null,!0);B=B>>>H;r=r>>>H}}var g=c.add.artd,N=g!=null&&g.Cnt.v>1,C=c.iB();
this.pt.ph(Z,k,c.nD.length!=0,N,C!=null);var w=window.locStor.getItem("sfwPrms");if(w==null)w={};else{w=JSON.parse(w);
if(w.MP4&&w.MP4[0]==100)w.MP4[0]=50}var Y=this.pt.h();if(d&&d.target==this.pt){w[Z]=Y;window.locStor.setItem("sfwPrms",JSON.stringify(w))}else if(w[Z]){this.pt.c(w[Z],!0);
Y=this.pt.h()}this.XB=await fd.OR(c,Z,B,r,Y,this.kO);if(this.XB==null){this.Ig=null;return}f.qf(this.mk);
this.M$.Am();var e=fd.Ay(Z);if(e._U){this.mk.innerHTML="<div></div>"}else if(e.IX){var O=B,l=r,I;if(Z=="PDF"||Z=="AI"){I=URL.createObjectURL(new Blob([this.XB],{type:"application/pdf"}))}else{I=URL.createObjectURL(new Blob([this.XB],{type:"image/svg+xml"}))}this.mk.innerHTML="<iframe src=\""+I+"\"></iframe>"}else if(Z=="MP4"){var I=URL.createObjectURL(new Blob([this.XB]));
this.IZ.setAttribute("src",I);this.mk.appendChild(this.IZ)}else{var s=this.ahh=e.Pd(this.XB),z=s[0],R=z.H2,O=R.m,l=R.i;
if(z.FG){var t=ICC.R(z.FG.buffer),a=17,J=ICC.U.sampleLUT(t,a);for(var S=0;S<s.length;S++){var F=new Uint8Array(s[S].data);
ICC.U.applyLUT(J,a,F,F)}}this.M$.c(s,s.length>1?Y[Y.length-3]:0);this.mk.appendChild(this.M$.n);U="background: rgba(0,0,0,0);"}this.mk.setAttribute("style","display:block; "+(e._U?"background:rgba(0,0,0,0);":"background-size:"+16/f.QX()+"px;")+U);
this.z2(this.Kp,this.fn,W)};function ha(){kB.call(this,[11,13],"shortcuts");this.kO=null;var d=this.iy=f.F("div","scrollable");
d.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(d);
this.fK()}ha.prototype=new kB;ha.prototype._=function(){kB.prototype._.call(this);this.fK()};ha.prototype.lz=function(d,W){this.kO=d};
ha.prototype.M7=function(d,W,c,y){if(f.ni(this.n))this.fK()};ha.prototype.fK=function(){var d="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",W="",c=bm,y=c.Z7,B=c.Uo,r=c.Oi;
W+="<h2 style=\"margin-top:0;\">Main Menu</h2>";W+=d;W+=this.rP([[0,0],"---",[1,0],[y,c.qF],[1,2],[y,c.eE],[1,3],[B,y,c.eE],[1,8],[r,B,y,c.eE],[0,1],"---",[2,0],[B,y,c.ss],[2,1],[y,c.ss],[5,0],[y,c.up],[5,1],[y,c.Nc],[5,2],[y,c.lT],[2,2],"Delete",[2,3],[r,c.Vy],[10,16],[r,y,c.oR],[12,79],[y,c.UU],[3],"---",[4,1],[y,c.ns],[4,2],[y,c.wH],[4,5],[y,c.hq],[4,11],[y,c.kf],[0,3],"---",[6,13],[B,y,c.gP],[6,49,0],[y,c.Pr],[6,6,0],[r,y,c.qk],[6,9],[y,c.qk],[6,10],[y,c.E],[0,5],"---",[7,0],[y,c.H],[7,1],[y,c.I5],[7,2],[B,y,c.kf],[0,7],"---",[8,0],[y,c.CB],[8,1],[y,c.d7],[8,3],[y,c.HX],[8,2],[y,c.lq],[8,4],[y,c.x3],[11,13],"?"]);
W+="</div>";W+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";W+=d;W+=this.rP(["Vertical scroll","Wheel","Horizontal scroll",[y,"Wheel"],"Zooming",[r,"Wheel"]]);
W+="</div>";W+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
W+=d;W+=this.rP([[10,11],[y],[10,7],"Space",[10,17],[y,c.CD]]);W+="</div>";W+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
W+=d;var x=[],Z=this.kO;if(Z==null)return;var i=Z.s;for(var S=0;S<i.U$.length;S++){var k=i.U$[S],H=i.keys[S];
for(var V=0;V<k.length;V++)x.push(k[V].f.name,H?H.hH:null)}x=x.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[y,c.Zr]]);
W+=this.rP(x);W+="</div>";this.iy.innerHTML=W};ha.prototype.rP=function(d){var W="",c=!0;for(var S=0;
S<d.length;S+=2){var y=d[S],B=bm.Mv(d[S+1]);if(B==null){c=!1;continue}var r=f.DQ(ay.get(y));if(B=="---"){if(!c)W+="<br/>";
W+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+r+"</div>"}else W+="<div>"+r+" <span style=\"float:right; font-weight:bold;\">"+B+"</span> </div>";
c=!1}return W};function bi(){kB.call(this,[8,11,1],"soptions");this.tp=null;var d=f.F("div","form");
d.style.width="20em";this.body.appendChild(d);this.Yc={Nm:[12,48],url:"URL",null:[12,71]};this.v$={};
for(var W in this.Yc){var c=new eO(this.Yc[W],null,15);this.v$[W]=c;d.appendChild(c.n)}this.acR=new ed([12,14,0]);
d.appendChild(this.acR.n);this.om=new hs(0,!0);d.appendChild(this.om.n);this.$n=f.GA(this,d)}bi.prototype=new kB;
bi.prototype.M7=function(d,W,c){var y=W.b;this.tp=JSON.stringify(y);for(var B in this.Yc){if(y[B])this.v$[B].c(y[B].v)}var r=y.bounds.v,x=r.Left.v,Z=r.Top.v;
this.om.c([x,Z,r.Rght.v-x,r.Btom.v-Z])};bi.prototype.pn=function(d){var W=JSON.parse(this.tp);for(var c in this.Yc){var y=this.v$[c].h();
W[c]={t:"TEXT",v:y}}var B=this.om.h();console.log(B);var r=W.bounds.v,x=B[0],Z=B[1];r.Left.v=x;r.Top.v=Z;
r.Rght.v=x+B[2];r.Btom.v=Z+B[3];var i=new bR(b.E.v,!0);i.f=X.QC;i.data=W;i.vd=!0;this.T(i);this.close()};
bi.prototype._=function(){kB.prototype._.call(this);this.$n._();this.acR._();this.om._()};function ig(){kB.call(this,[2,3],"fill");
this.kO=null;this.q5=null;var d=f.F("div","form padded");d.style.width="22em";this.body.appendChild(d);
this.gx="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.MD=new gd([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.MD.k(b.E.p,this.ay3,this);d.appendChild(this.MD.n);this.mk=f.F("span");d.appendChild(this.mk);this.CV=new b2;
this.CV.parent=this;this.CV.vt(0);this.An=new gk;this.An.parent=this;this.Qa=new gd([12,19,0],dB.mX,dB.Pu);
d.appendChild(this.Qa.n);this.pU=new fs([12,0],0,100,"%",0,!1);this.pU.c(100);d.appendChild(this.pU.n);
this.z0=new ff([13,5]);this.z0.c(!1);d.appendChild(this.z0.n);this.$n=f.GA(this,this.body)}ig.prototype=new kB;
ig.prototype.oy=function(d,W){return d!=null};ig.prototype.cN=function(){return!0};ig.prototype.ay3=function(){var d=this.MD.h(),W=this.CV.n,c=this.An.n,y=this.mk;
if(d==2)y.appendChild(W);else if(y.contains(W))y.removeChild(W);if(d==7)y.appendChild(c);else if(y.contains(c))y.removeChild(c)};
ig.prototype._=function(){kB.prototype._.call(this);this.MD._();this.Qa._();this.pU._();this.z0._();
this.$n._()};ig.prototype.pn=function(d){if(!this.q5.YH())return;var W=new bR(b.E.HQ,!0),c=this.MD.h();
W.data=X.UZ.yX(this.gx[c],dB.s0[this.Qa.h()],this.pU.h()/100,this.CV.h(),this.z0.h(),this.An.h());this.close();
this.T(W)};ig.prototype.M7=function(d,W){this.q5=d};ig.prototype.lz=function(d,W){this.kO=d;if(W==kG.yS||W==kG.XX){this.An.bz(d._m);
this.An.c({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function cz(){kB.call(this,[14,9],"stroke");this.kO=null;this.rf=f.F("div","form");this.rf.setAttribute("style","width:24em");
this.body.appendChild(this.rf);this.Zn=new hb("FrFX",!0);this.Zn.parent=this;var d=["Sz","Styl","Md","Opct"].concat(bV.Ak);
for(var S=0;S<d.length;S++){var W=this.Zn.Nq[d[S]].n;this.rf.appendChild(W)}this.rj=!1;this.$n=f.GA(this,this.body)}cz.prototype=new kB;
cz.prototype.oy=function(d,W){return d!=null};cz.prototype.cN=function(){return!0};cz.prototype._=function(){kB.prototype._.call(this);
this.$n._();this.Zn._()};cz.prototype.pn=function(d){var W=this.Zn.h(),c={classID:"Strk"};c.Md=W.Md;
c.Opct=W.Opct;c.Clr=W.Clr;c.Wdth={t:"long",v:W.Sz.v.val};var y=bV.stroke.types.indexOf(W.Styl.v.FStl);
c.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][y]}};var B=new bR(b.E.HQ,!0);B.data={cx:"stroke",i9:c};
this.close();this.T(B)};cz.prototype.M7=function(d,W){if(!this.rj){var c=bV._R[bV.order.indexOf("FrFX")];
c=JSON.parse(c);this.Zn.update(d,c);this.rj=!0}var c=this.Zn.h(),y=this.kO.R5;c.Clr.v=v.L.FV({Z:y>>16&255,G:y>>8&255,J:y&255});
this.Zn.update(d,c)};cz.prototype.lz=function(d,W){this.kO=d};function hG(){kB.call(this,[11,9],"textwarp");
this.v$=new fv;this.v$.k(b.E.p,this.ZG,this);this.v$.parent=this;this.rf=f.F("div","form");this.rf.setAttribute("style","width:20em");
this.body.appendChild(this.rf);this.rf.appendChild(this.v$.G5.n);this.rf.appendChild(this.v$.FO.n);this.rf.appendChild(this.v$.dY.n);
this.rf.appendChild(this.v$.in.n);this.rf.appendChild(this.v$.Ty.n);this.$n=f.GA(this,this.rf);this.k("closebtn",this.lD,this)}hG.prototype=new kB;
hG.prototype.cN=function(){return!0};hG.prototype._=function(){kB.prototype._.call(this);this.$n._();
this.v$._()};hG.prototype.ZG=function(d){var W=this.v$.h();this.G$({d:"warp",lk:W})};hG.prototype.G$=function(d){var W=new bR(b.E.v,!0);
W.f=X.bU;W.data=d;W.vd=!0;this.T(W)};hG.prototype.lD=function(d){this.G$({d:"warpCancel"})};hG.prototype.pn=function(d){this.G$({d:"warpConfirm"});
this.close()};hG.prototype.M7=function(d,W){var c=d.B[d.g[0]];this.v$.c(c.add.TySh.uI)};function fb(){kB.call(this,[11,12,0],"trim");
var d=this.rf=f.F("div","form");this.rf.setAttribute("style","width:22em");this.body.appendChild(this.rf);
var W=new ed("Color To Trim:");d.appendChild(W.n);this.La=new gj(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.La.c([!0]);this.rf.appendChild(this.La.n);var W=new ed("Sides:");d.appendChild(W.n);this.nq=new gj(null,["Top","Left","Bottom","Right"]);
this.nq.c([!0,!0,!0,!0]);this.rf.appendChild(this.nq.n);this.$n=f.GA(this,this.body)}fb.prototype=new kB;
fb.prototype.oy=function(d,W){return d!=null};fb.prototype.cN=function(){return!0};fb.prototype._=function(){kB.prototype._.call(this);
this.La._();this.nq._();this.$n._()};fb.prototype.pn=function(d){var W=this.La.h().indexOf(!0),c=this.nq.h(),y=new bR(b.E.HQ,!0);
y.data=X.JH.Bv(W,c);this.close();this.T(y)};function bh(){kB.call(this,"Raw Photopea","rawpea");this.nr=null;
this.DO=null;this.body.style.padding="0";var d=this.yB=new f7["Adobe Camera Raw Filter"](!0),W="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(d.n);this.$n=new gs([1,0],!0,null,!0);this.$n.k("click",this.pn,this);this.gu=new gs(W+" JPG",!0,null,!0);
this.gu.k("click",this.agm,this);this.gu.n.style.marginTop="6px";d.Fd(this.$n.n);d.Fd(this.gu.n)}bh.prototype=new kB;
bh.prototype.i$=function(){return new aL(0,0)};bh.prototype.z2=function(d,W){this.yB.z2(d,W)};bh.prototype._=function(){kB.prototype._.call(this);
this.yB._()};bh.prototype.agm=function(d){var W=this.nr,c=this.DO,y=fd.Ay("JPG").Cy([[this.yB.h(!0).buffer]],c.gN,c.Ru,[85]),B=new bR(b.E.V,!0);
B.data={d:b.H.vR,data:y,name:"photo.jpg"};this.T(B)};bh.prototype.pn=function(d){var W=this.nr,c=this.DO,y=dP.R$(W),W={H2:new a8(0,0,c.gN,c.Ru),data:this.yB.h(!0).buffer,RO:y},B=fd.ge("Raw Photo",[W]),r=new bR(b.E.V,!0);
r.data={d:b.H._I,Ig:B};this.T(r);this.LJ();this.close()};bh.prototype.LJ=function(){this.nr=null;this.DO=null;
this.yB.a0w()};bh.prototype.M7=function(d,W,c,y){this.nr=W.hl;var B=this.DO=v.raw.aDr(this.nr),r=v.raw.axN(W.hl),x=e9.aem(r);
v.raw.TI(B.Gq,B.Gq,W.hl,[x.WE,x.f_]);var Z=eR.qw("Adobe Camera Raw Filter");this.yB.c(Z,B.Gq,new a8(0,0,B.gN,B.Ru))};
function eq(d){kB.call(this,d?[11,11,0]:[11,11,1],d?"vbitmap":"rcolors");this.oA=null;this.bg=null;this.zr=null;
this.VU=null;this.eO=null;this.a4_=null;this.Ue=null;this.kO=null;this.Hl="";this.yO=d;this.pw=this.me.bind(this);
this.xp=!1;this.body.style.padding="0";this.rf=f.F("div","form hbar padded");this.body.appendChild(this.rf);
this.DS=new gj(null,["Fill","Stroke","Labels"]);this.DS.k(b.E.p,this.me,this);var W=f.F("span","rangecontFloat form padded"),i=16;
W.appendChild(this.DS.n);W.setAttribute("style","position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var c=new d9;c.n=W;var y=this.Y_={cnum:new kk([12,82],2,50,null),nois:new ff([12,81]),mode:new gd(null,["Cartoon","Photo"]),segm:new ff("Segmentize"),cbok:new ff("Coloring book"),poly:new ff("Polygon"),merg:new ff("Merge colors"),polE:new kk("Roughness",2,30,null),dthr:new ff([12,23,3]),vprm:new gs("\u2026",!1,null,!0),ok:f.GA(this,null,!1)},B=this;
for(var r in y){var x=y[r];x.parent=this;if(r=="ok"){}else if(r=="vprm"){x.k("click",function(H){var V=y.vprm.n.getBoundingClientRect(),g=new bR(b.E.V,!0);
g.data={d:b.H.oV,dD:c,x:V.left,y:V.top+20};B.T(g)})}else x.k(b.E.p,this.me,this)}var Z=this.JE=f.F("div","flexrow");
this.body.appendChild(Z);Z.setAttribute("style","background-color:var(--bg-canvas)");this.b4=new h6;
this.b4.k("viewchange",this.hT,this);this.IE=new h6;this.YW=f.F("canvas");this.YW.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.bN=this.YW.getContext("2d");var k=v.R(16*16*4);v.we(k,i,i,8);this.l5=v.scale.jZ(k,i,i);this.b4.avO(this.YW);
this.b4.s_(this.IE);this.IE.s_(this.b4);Z.appendChild(this.b4.n);if(d)Z.appendChild(this.YW);else Z.appendChild(this.IE.n)}eq.prototype=new kB;
eq.prototype.i$=function(){return new aL(0,0)};eq.prototype.cN=function(){return!0};eq.prototype.z2=function(d,W){this.Kp=d;
this.fn=W;W=W-44;if(d<600)W-=29;if(this.oA==null)return;var c=this.oA.H2,y=dk.at1(d,W,c.m,c.i);if(y==1)W-=3;
if(y==0){d=Math.floor(d/2);f.CH(this.JE,"flexrow")}else{W=Math.floor(W/2);f.V6(this.JE,"flexrow")}f.GS(this.YW,d,W);
this.b4.z2(d,W);if(this.yO)this.hT();else this.IE.z2(d,W)};eq.prototype.z9=function(d,W,c,y){this.b4.z9(y)};
eq.prototype._=function(){kB.prototype._.call(this);for(var d in this.Y_)this.Y_[d]._()};eq.prototype.M7=function(d,W){this.Ue=d;
this.eO=null;var c=d.B[d.g[0]],y=v.sB.a1v(c.buffer.buffer,c.rect.m,c.rect.i).ac9,B=y/((c.rect.m-2)*(c.rect.i-2)),r=this.Y_;
r.cnum.c(20);r.nois.c(B<.75);r.mode.c(B<.75?1:0);r.segm.c(!1);r.cbok.c(!1);r.poly.c(!1);r.merg.c(!0);
r.polE.c(1);r.dthr.c(!1);var x=c.rect.clone();x.x=x.y=0;this.oA={H2:x,data:c.buffer.buffer.slice(0)};
this.bg=null;this.z2(this.Kp,this.fn);this.b4.c([this.oA]);this.b4.N3();this.xp=!0;this.DS.c([!0,!1,!1]);
setTimeout(this.pw,20)};eq.prototype.me=function(){var d=!0,W=Date.now(),c=this.oA,y=this.Y_,B=y.cnum.h(),r=y.nois.h(),x=y.mode.h(),Z=y.segm.h(),i=y.cbok.h(),k=y.poly.h(),H=y.merg.h(),V=y.polE.h(),a=null;
if(x==0)Z=k=i=!1;var g=y.dthr.h(),N=["cnum","nois","mode"];if(x==1){N.push("cbok");if(this.yO){N.push("poly");
if(k)N.push("polE");N.push("vprm")}}if(this.yO)N.push("merg");else N.push("dthr");N.push("ok");f.qf(this.rf);
for(var S=0;S<N.length;S++)this.rf.appendChild(y[N[S]].n);if(d)console.log("---------------------------------------");
var C=r||Z,w=r+","+Z;if(C&&(this.bg==null||this.Hl!=w)){this.Hl=w;var Y=new Uint8Array(c.data),U=c.H2.m,e=c.H2.i;
if(r){if(this.eO==null){this.eO=Y.slice(0);v.MV.Fn=35;v.MV.JY(this.eO,this.eO,U,e,15,1);if(d){console.log("denoise",Date.now()-W);
W=Date.now()}}Y=this.eO.slice(0)}else Y=Y.slice(0);if(Z){var O=v.sB.KP(Y,U,e,40,10),l=O.UU,I=new Uint8Array(l*4);
for(var S=0;S<l;S++){var s=S*4,z=S*6,R=1/O.Ub[z+5];I[s]=O.Ub[z]*R;I[s+1]=O.Ub[z+1]*R;I[s+2]=O.Ub[z+2]*R}for(var S=0;
S<Y.length;S+=4){var t=O.DP[S>>>2]*4;Y[S]=I[t];Y[S+1]=I[t+1];Y[S+2]=I[t+2]}if(d){console.log("segm",Date.now()-W);
W=Date.now()}}this.bg={H2:c.H2.clone(),data:Y.buffer}}if(C)c=this.bg;var Y=new Uint8Array(c.data),U=c.H2.m,e=c.H2.i;
for(var S=0;S<Y.length;S+=4){if(Y[S+3]<10)Y[S]=Y[S+1]=Y[S+2]=Y[S+3]=0}if(x==0){a=v.sB.ar4(Y,U,e,B,C?.1:2e-4);
if(d){console.log("quantize",Date.now()-W);W=Date.now()}}if(x!=0||a&&a.oo.length<2){a=ar.am2(Y.buffer,B,U,e,null,i)}if(this.yO){var J=a.DP.slice(0);
for(var S=0;S<J.length;S++)J[S]++;this.o7=v.sB.aw2(a.DP,U,e);var F=new Uint8Array((U+2)*(e+2));v.ZW(J,new a8(1,1,U,e),F,new a8(0,0,U+2,e+2));
if(!k){var h=Math.round((U+2)*(e+2)/1e4),m=c_.AJ(F.slice(0),U+2,e+2,Math.min(12,h)),D=c_.Tz(m);if(d){console.log("trace smooth",Date.now()-W);
W=Date.now()}}else{var D=v.A.aok(F,U+2,e+2,V,d)}var _=D.length,n=new dT(1,0,0,1,-1,-1);for(var S=0;S<_;
S++)v.A.e(D[S].path.j,n,D[S].path.j);this.VU=D;this.zr=a;for(var S=0;S<_;S++){var j=D[S];for(var T=S+1;
T<_;T++){var L=D[T];if(L.parent==S&&a.oo[L.color-1].est.q[3]<.05){var p=L.path.r.slice(1),E=p.pop();
if(E!="Z")p.push(E);p.reverse();p=["M"].concat(p);if(E=="Z")p.push("Z");var G=[],m=L.path.j.length;for(var A=0;
A<m;A+=2){G[A]=L.path.j[m-2-A];G[A+1]=L.path.j[m-2-A+1]}v.A.concat(j.path,{j:G,r:p})}}}if(d){console.log("finding holes",Date.now()-W);
W=Date.now()}for(var S=0;S<D.length;S++){var u=D[S];if(u.parent!=-1){var q=D[u.parent];u.parent=q;if(q.tI==null)q.tI=[];
q.tI.push(u)}u.depth=u.parent==-1?0:u.parent.depth+1}if(H){function o(hX,Q){var gR={},ib=0,gU=0;for(var S=0;
S<hX.length;S++){var P=hX[S].color,A="c"+P;if(P==Q)throw P;if(gR[A]==null)gR[A]=0;gR[A]++;if(gR[A]>ib){ib=gR[A];
gU=P}}return gU}var M=[],$=[],Q=-1,kF=!0;for(var S=0;S<D.length;S++)if(D[S].parent==-1)$.push(D[S]);
while($.length!=0){var P=o($,Q);Q=P;for(var S=0;S<$.length;S++)if($[S].color==P){var bM=$[S];M.push(bM);
$.splice(S,1);S--;if(bM.tI)for(var T=0;T<bM.tI.length;T++){$.push(bM.tI[T]);if(bM.tI[T].color!=P)kF=!1}}}if(kF)D=M;
else{var jW=[];for(var fX=0;fX<500;fX++){var bX=[],m=jW[fX-1];jW.push(bX);for(var S=0;S<D.length;S++){var u=D[S],q=u.parent;
if(fX==0&&q==-1||fX!=0&&m.indexOf(q)!=-1){bX.push(u);D.splice(S,1);S--}}bX.sort(function(hX,gR){return hX.color-gR.color});
if(D.length==0)break}for(var S=0;S<jW.length;S++)D=D.concat(jW[S])}}else{var M=[],ao=[];while(D.length!=0){ao.push(D.shift());
while(ao.length!=0){var en=ao.pop();M.push(en);if(en.tI)for(var S=0;S<en.tI.length;S++){var u=en.tI[S];
D.splice(D.indexOf(u),1);ao.push(u)}}}D=M}this.VU=D;for(var S=0;S<D.length;S++){var j=D[S],fK=a.oo[j.color-1].est.q;
if(fK[3]<=.05){D.splice(S,1);S--;continue}}for(var S=1;S<D.length;S++){var bO=D[S-1],j=D[S];if(bO.color==j.color&&(H||bO.parent==j.parent&&bO.depth>=2)){v.A.concat(bO.path,j.path);
D.splice(S,1);S--;continue}}if(d){console.log("reordering layers",Date.now()-W,_,D.length);W=Date.now()}this.hT()}else{var b9=new Uint32Array(U*e),bK=U*e,f0=this.a4_=new Uint8Array(b9.buffer);
if(g){var hn=[];for(var S=0;S<a.oo.length;S++)hn.push(a.oo[S].est.rgba);var t=v.R(U*e);UPNG.encode.dither(new Uint8Array(c.data),U,e,hn,f0,t)}else{for(var S=0;
S<bK;S++){var P=a.oo[a.DP[S]];b9[S]=P.est.rgba}}this.IE.c([{H2:c.H2,data:b9.buffer}]);if(this.xp){this.IE.N3();
this.xp=!1}}};eq.prototype.hT=function(d){if(this.VU==null)return;var W=this.DS.h(),c=this.oA.H2.m,y=this.oA.H2.i,B=this.VU,r=this.zr.oo,x=this.YW,Z=this.bN,i=this.b4.Es(),H="rgba(0,0,0,0.3)";
Z.setTransform(1,0,0,1,0,0);Z.clearRect(0,0,x.width,x.height);Z.translate(x.width/2,x.height/2);Z.scale(i.O,i.O);
Z.translate(i.z.x/i.O-c/2,i.z.y/i.O-y/2);Z.scale(1/i.O,1/i.O);Z.fillStyle=this.l5;Z.fillRect(0,0,c*i.O,y*i.O);
Z.scale(i.O,i.O);Z.lineWidth=(c+y)*5e-4;var k=this.be();Z.strokeStyle=H;for(var V=0;V<2;V++){if(!W[V])continue;
for(var S=0;S<B.length;S++){var g=B[S],N=k[g.color-1];if(N.U==0)continue;Z.fillStyle=N.mL;Z.beginPath();
Typr.U.pathToContext({crds:g.path.j,cmds:g.path.r},Z);if(V==0)Z.fill();else Z.stroke()}}if(W[2])this.ao3(Z,c,y)};
eq.prototype.be=function(){var d=this.zr.oo,W=[];for(var S=0;S<d.length;S++){var c=d[S].est.q,y={Z:Math.round(255*c[0]),G:Math.round(255*c[1]),J:Math.round(255*c[2]),U:Math.round(255*c[3])};
y.mL="rgba("+y.Z+","+y.G+","+y.J+","+y.U/255+")";W.push(y)}return W};eq.prototype.ao3=function(d,W,c){var y=this.be(),B=this.a0s(W,c,y);
function r(k,H,V,g){d.font=g+"px sans-serif";k++;var N=d.measureText(k);d.fillText(k,H-N.width/2,V+g*.25)}d.fillStyle="rgba(0,0,0,0.5)";
var x=this.o7;for(var S=0;S<x.length;S++){var Z=x[S];if(Z[3]<W*c*5e-4)continue;r(Z[2],Z[0],Z[1],(W+c)*.008)}d.fillStyle="rgba(255,255,255,1)";
d.fillRect(0,0,B,B*y.length);for(var S=0;S<y.length;S++){var i=y[S];d.fillStyle=i.mL;d.fillRect(B,B*S,B,B);
d.fillStyle="black";r(S,B*.5,B*(S+.5),B*.65)}};eq.prototype.a0s=function(d,W,c){var y=c.length*(d+W)/70;
return Math.min(W,y)/c.length};eq.prototype.pn=function(d){var W=this.Ue,c=W.g[0],y=W.B[c],B=new bR(b.E.v,!0);
B.vd=!0;B.f=X.jq;var r=this.kO.Sm,x=this;if(this.yO){var Z=this.be(),V=0,N=!1;function i(e,Y){var U=W.jb();
U.opacity=Y.U;U.xy|=16;U.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV(Y)}};U.add.vmsk=new e8.vw;U.add.vstk=bV._M.qw(!0);
U.add.vmsk.Y=e;U.h0();U.Ys(W);return U}var H=this.DS.h();for(var S=0;S<3;S++)if(H[S])V++;if(V==0){alert("Enable Fill, Stroke or Labels");
return}var g=this.VU;if(V==1&&H[0]&&g.length==1)N=!0;var C=W.B.slice(0,c);if(!N)C.push(W.b7());if(H[0])for(var S=0;
S<g.length;S++){var w=g[S],Y=Z[w.color-1];v.A.e(w.path.j,new dT(1,0,0,1,y.rect.x,y.rect.y),w.path.j);
var U=i(v.A.fI(w.path,!1),Y);U.AP("Path "+S);C.push(U)}if(H[1]){var U=W.jb();U.AP("Stroke");C.push(U);
U.opacity=128;U.xy|=16;U.add.SoCo={classID:"null",Clr:{t:"Objc",v:v.L.FV({Z:0,G:0,J:0})}};U.add.vmsk=new e8.vw;
U.add.vstk=bV._M.qw(!1,!0);var e=[];for(var S=0;S<g.length;S++){var w=g[S],O=v.A.fI(w.path,!1);if(S==0)e=O;
else e=e.concat(O.slice(2))}U.add.vmsk.Y=e;U.h0();U.Ys(W)}if(H[2]){var l=this.oA.H2,I=l.m,s=l.i,z=this.a0s(I,s,Z);
C.push(W.b7());function R(m,D,_,n){m=1+m+"";var U=W.jb();C.push(U);U.opacity=n;U.add.lnsr="rend";var j=U.add.TySh=it.De(D-z*.2,_+z*.25),T=U.add.TySh.p$,L=it.tO(T,0,0);
L.Cr.FontSize=Math.round(z*.6);it.ml(T,0,0,L);it.kL(T,0,m);U.Qt();if(bQ.GM(j,r,x)){bQ.pp(U,r,W);W.W()}}var t=this.o7;
for(var S=0;S<t.length;S++){var a=t[S];if(a[3]<I*s*5e-4)continue;R(a[2],a[0],a[1],128)}var U=i(v.o.GP.Rect(0,0,z,z*Z.length),{Z:255,G:255,J:255,U:255});
U.AP("white");C.push(U);for(var S=0;S<Z.length;S++){var Y=Z[S],U=i(v.o.GP.Rect(z,z*S,z,z),Y);U.AP("color");
C.push(U);R(S,z/2,z*(S+.5),255)}var U=W.jb();U.AP("Labels");U.add.lsct=aG.tV;U.E9="pass";U.xy=24;C.push(U)}var J=C[C.length-1];
if(!N){var U=W.jb();U.AP(y.getName());U.add.lsct=aG.ED;U.E9="pass";U.xy=24;C.push(U);J=U}var F=y.add.lmfx;
if(F)J.add.lmfx=JSON.parse(JSON.stringify(F));var h=C.length;for(var S=c+1;S<W.B.length;S++)C.push(W.B[S]);
B.data={d:e8.VA,JI:C,EC:[h-1],o1:[11,11,0]}}else{var C=W.B.slice(0),U=W.jb();U.AP(y.getName());C.splice(W.g[0]+1,0,U);
U.rect=y.rect.clone();U.buffer=this.a4_;U.W();B.data={d:e8.VA,JI:C,EC:[W.g[0]+1],o1:[11,11,1]}}this.T(B);
this.close();W.O5=!0};eq.prototype.lz=function(d,W){this.kO=d};function dk(d){kB.call(this,[[7,11],[7,13]][d],["redge","magiccut"][d]);
this.La=d;this.oA={};this.L3=null;this.qU=null;this.Ue=null;this.gG=null;this.ve=null;this.body.style.padding="0";
this.j1=[];this.jQ=-1;this.rf=f.F("div","form hbar padded");this.body.appendChild(this.rf);this.AW=new kL;
this.AW.parent=this;this.AW.k(b.E.p,this.E0,this);this.rf.appendChild(this.AW.n);var W=d==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
W=W.concat("tools/hand","zoomIn","zoomOut");var c=d==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.di=new jo(null,W,c,28);this.di.k(b.E.p,this.z9,this);this.rf.appendChild(this.di.n);this.Ib=new kk([7,9],0,50,null);
this.Ib.parent=this;this.Ib.k(b.E.p,[this.a3M,this.me][d],this);this.rf.appendChild(this.Ib.n);var y=this.aB4=new gs([2,2],!1,null,!0);
y.k("click",this.LJ,this);this.rf.appendChild(y.n);var B=this.g_=f.F("span","form");this.rf.appendChild(B);
var r=this.ad9=new gs([12,90],!1,null,!0);r.k("click",function(i){alert(d==0?ay.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
B.appendChild(r.n);var x=new gs("Tutorial",!1,null,!0);x.k("click",this.asQ,this);B.appendChild(x.n);
this.B0=new jo([12,46],["checker","#ffffff","#000000"]);this.B0.k(b.E.p,this.amZ,this);B.appendChild(this.B0.n);
this.Ym=new gd(null,[[6,13],[6,2],[17,2]]);B.appendChild(this.Ym.n);this.$n=f.GA(this,B,!1);var Z=this.JE=f.F("div","flexrow");
this.body.appendChild(Z);this.pQ=new h6(!0);this.J1=new h6;this.pQ.s_(this.J1);this.J1.s_(this.pQ);this.pQ.k("mousedown",this.iZ,this);
this.pQ.k("mousemove",this.S0,this);this.pQ.k("mouseup",this.NC,this);this.pQ.k("zoom",this.E0,this);
this.J1.k("zoom",this.E0,this);Z.appendChild(this.pQ.n);Z.appendChild(this.J1.n)}dk.prototype=new kB;
dk.prototype.oy=function(d,W){var c=d!=null&&!d.B[d.g[0]].rect.Bb();if(!c)alert("The layer is empty.");
return c};dk.prototype.i$=function(){return new aL(0,0)};dk.prototype.cN=function(){return!0};dk.prototype.z2=function(d,W){this.Kp=d;
this.fn=W;W=W-12-33;if(d<900){this.g_.setAttribute("style","display:block;  text-align:right;");W-=29}else{this.g_.setAttribute("style","position:absolute;  right:0px")}this.B0.N2(d<440?null:[12,46]);
this.Ib.N2(d<470?null:[7,9]);var c=this.oA.rect;if(c){var y=dk.at1(d,W,c.m,c.i);if(y==0){d=Math.floor(d/2);
f.CH(this.JE,"flexrow")}else{W=Math.floor(W/2);f.V6(this.JE,"flexrow")}this.pQ.z2(d,W);this.J1.z2(d,W)}};
dk.at1=function(d,W,c,y){var B=d/2,r=W/2,x=Math.min(B/c,W/y),Z=Math.min(d/c,r/y);return x>Z?0:1};dk.prototype._=function(){kB.prototype._.call(this);
this.AW._();this.Ib._();this.$n._();this.B0._();this.Ym._();this.aB4._();this.ad9._()};dk.prototype.asQ=function(d){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.La],"_blank")};
dk.prototype.lz=function(d,W){this.qU=d;if(W==kG.Bo||W==kG.yS){this.AW.bz(d.sa);this.AW.c(bB.S5(),d.sa.pb,d.sa.An)}};
dk.prototype.z9=function(d,W,c,y){var B=this.di.h();if(y==null){this.pQ.z9(h6.Hr(B-3));return}this.gG=y;
var r=X.UZ.oW(this.AW.h(),y);if(r!=null){this.AW.c(r);this.E0()}else if(y.S(bm.Z7)&&y.S(bm.ss)){var x=this.j1,Z=0;
if(y.S(bm.Uo)){if(this.jQ+1<x.length)Z=1}else if(this.jQ>0)Z=-1;if(Z!=0){this.jQ+=Z;var i=this.jQ,k=this.oA;
if(Z==1)v.qR(x[i][2],x[i][0],k.RG,k.rect);else v.qR(x[i+1][1],x[i+1][0],k.RG,k.rect);k.wQ=k.rect;this.me()}}else if(B<3)this.pQ.z9(y)};
dk.prototype.Uz=function(d){var W=this.oA,c=this.j1,y=v.R(d.P()*4);v.qR(W.Ts,W.rect,y,d);W.Ts=null;var B=v.R(d.P()*4);
v.qR(W.RG,W.rect,B,d);this.jQ++;c[this.jQ]=[d.clone(),y,B];while(c.length>this.jQ+1)c.pop();while(c.length>50){c=c.slice(1);
this.jQ--}};dk.prototype.E0=function(){var d=this.qU,W=b8.xg(this.AW.h(),d.sa.pb,this.pQ.Es().O);this.pQ.Us(W)};
dk.prototype.iZ=function(d){var W=this.qU,c=this.oA,y=this.gG,B=this.AW.h(),r=this.pQ.l7(),x=[16777215,8421504,0][this.di.h()];
this.L3=new b8(B,W.sa.pb,W.sa.An,{M4:1,yJ:!0},x,W.qX,c.rect);c.Ts=c.RG.slice(0);if(y!=null&&y.S(bm.Uo)&&this.ve){this.L3.moveTo(this.ve.x,this.ve.y);
this.L3.lineTo(r.x,r.y)}else this.L3.moveTo(r.x,r.y);this.ayM()};dk.prototype.S0=function(d){var W=this.oA,c=this.pQ.l7();
this.L3.lineTo(c.x,c.y);this.ayM()};dk.prototype.NC=function(d){this.ve=this.pQ.l7();this.Uz(this.L3.V5());
this.me()};dk.prototype.ayM=function(){var d=this.oA,W=this.L3,c=W.wh();if(c.Bb())return;d.wQ=c;v.l.Ip("norm",W.JN(),W.yo(),d.RG,d.rect,c,1);
this.ajT()};dk.prototype.LJ=function(d){var W=this.oA;W.Ts=W.RG.slice(0);W.wQ=W.rect;v.ft(W.RG,[4278190080,4292730333][this.La]);
this.Uz(W.rect);this.me()};dk.prototype.M7=function(d,W){this.Ue=d;var c=d.B[d.g[0]],y=c.rect.clone(),B=y.m,r=y.i,i;
this.Ib.c(this.La==0?3:B*r<3e6?3:0);this.di.c(d.u==null?0:1);this.Ib.TB();if(this.La==0&&d.u!=null||this.La==1)this.Ib.uu();
var x=this.La,Z=v.R(y.P());if(x==0&&d.u){v.ZW(d.u.channel,d.u.rect,Z,y);var k=v.R(y.P());for(var H=0;
H<r;H++)for(var V=0;V<B;V++){var S=H*B+V,g=Z[S];if(V>0&&Z[S-1]!=g||V<B-1&&Z[S+1]!=g||H>0&&Z[S-B]!=g||H<r-1&&Z[S+B]!=g)k[S]=255}i=v.style.xa(k,i,B,r)}else{i=new Float32Array(y.P());
i.fill(1e9)}y.x=y.y=0;this.oA={rect:y,Gq:c.buffer,FK:Z,Tc:i,gA:v.R(y.P()*4),wk:v.R(y.P()*4),RG:v.R(y.P()*4),Ts:null,xw:null,wQ:y,acD:{}};
if(x==0)this.a3M();else{this.oA.acD=X.Hm.avT(d);var N=this.oA.RG;v.ft(N,4287137928);var C=v.Mj.getSelection(c.buffer,B,r),w=Math.round(B/60),Y=Math.round(.7*r);
for(var H=0;H<r;H++)for(var V=0;V<B;V++){var U=(H*B+V)*4,e=C[U>>>2];e=e>128?255:128;if(H<w||H<Y&&(V<w||V>B-1-w))e=0;
N[U]=N[U+1]=N[U+2]=e}this.me()}this.j1=[1];this.jQ=0;var O=this.AW.h();O.Brsh.v.Dmtr.v.val=Math.round(y.m/(x==0?10:20));
this.AW.c(O);this.E0();this.z2(this.Kp,this.fn);this.pQ.N3()};dk.prototype.a3M=function(){var d=this.oA,W=d.rect.P(),c=this.Ib.h(),y=d.FK.slice(0);
for(var S=0;S<W;S++)if(d.Tc[S]<c)y[S]=128;v.ft(d.RG,4294967295);v.nP(y,d.RG,0);v.nP(y,d.RG,1);v.nP(y,d.RG,2);
d.wQ=d.rect;this.me()};dk.prototype.me=function(){var d=this.oA,B,Z,i=0,k=0,H=0;this.ajT();var W=d.rect,c=W.m,y=W.i,r=v.R(W.P()),x=d.Gq;
v.$P(d.RG,r,0);for(var S=0;S<r.length;S++){if(x[(S<<2)+3]!=255)continue;var V=r[S];if(V==0)i++;else if(V==255)k++;
else H++}if(i*k*H!=0){if(this.La==0)Z=v.GJ.GJ(W,x,r);else{var g=this.di.h();for(var N=1;N<y;N++)for(var C=1;
C<c;C++){var S=N*c+C,w=r[S],Y=r[S-1];if(w==0&&Y==255||w==255&&Y==0){B="The Red and Green should never touch! Erase it with Grey.";
break}}var U=Date.now(),e=this.oA.acD;v.PY(r,e.kn);X.Hm.XH(e,!0,this.Ue);var O=Math.ceil(this.Ib.h()/2);
if(O==0){Z=x.slice(0);v.nP(e.u,Z,3)}else{var l=e.u.slice(0),I=e.u.slice(0);for(var s=0;s<O;s++){for(var N=1;
N<y-1;N++)for(var C=1;C<c-1;C++){var S=N*W.m+C,z=l[S];if(l[S-c]!=z||l[S-1]!=z||l[S+1]!=z||l[S+c]!=z)I[S]=128;
else I[S]=z}var R=l;l=I;I=R}for(var N=0;N<y;N++)for(var C=0;C<c;C++){var S=N*c+C;if(r[S]==0||r[S]==255)l[S]=r[S]}Z=v.GJ.GJ(W,x,l,20,!1)}}}else{Z=x.slice(0);
v.nP(r,Z,3)}for(var S=3;S<Z.length;S+=4)if(Z[S]>x[S])Z[S]=x[S];if(W.zI(d.rect))d.xw=Z;else v.qR(Z,W,d.xw,d.rect);
this.amZ();if(B)alert(B,4e3)};dk.prototype.ajT=function(d){var W=this.oA,c=W.wQ;v.qR(W.Gq,W.rect,W.gA,W.rect,c,!0);
var y=W.RG,B=W.rect,r=Date.now();if(this.La==1){var x=new Uint32Array(256);x[0]=4278190335;x[255]=4278255360;
var Z=v.R(c.P()*4),i=c.P();v.qR(y,B,Z,c);y=Z;B=c;var k=new Uint32Array(y.buffer);for(var S=0;S<i;S++)k[S]=x[k[S]&255]}console.log(Date.now()-r);
v.l.Ip("norm",y,B,W.gA,W.rect,c,.3);this.pQ.c([{H2:W.rect,data:W.gA.buffer}],null,null,c)};dk.prototype.amZ=function(d){var W=this.oA;
v.ft(W.wk,[0,4294967295,4278190080][this.B0.h()]);v.l.Ip("norm",W.xw,W.rect,W.wk,W.rect,W.rect,1);this.J1.c([{H2:W.rect,data:W.wk.buffer}])};
dk.prototype.pn=function(d){var W=this.Ue,c=this.oA,y=this.Ym.h(),B=W.B[W.g[0]],r=new bR(b.E.v,!0);r.vd=!0;
var x=B.rect.clone();if(y==0&&B.jF()||y!=0&&!B.jF()){r.f=X.jq;r.data={d:e8.DC,a:W.g[0]};this.T(r)}if(W.u!=null){r.f=X.Ai;
r.data={d:"fromAction",RZ:X.XC.k6()};this.T(r)}if(y==0){var Z=W.B.slice(0),i=W.jb();i.AP(B.getName());
Z.splice(W.g[0]+1,0,i);i.rect=x;i.buffer=c.xw;i.W();r.f=X.jq;r.data={d:e8.VA,JI:Z,EC:[W.g[0]+1],o1:[7,11]};
this.T(r)}if(y==1){var H=B.Q7();r.f=X.jq;r.data={d:e8.jV,a7y:!0};this.T(r);var V=B.Q7();V.channel=v.R(x.P());
V.rect=x;V.color=0;V.Zv=!0;v.$P(c.xw,V.channel,3);if(H){var g=V.lU(H);V.rect=g.rect;V.channel=g.channel;
V.color=g.color}V.oj();B.Ys()}if(y==2){var N={rect:x,channel:v.R(x.P())};v.$P(c.xw,N.channel,3);r.f=X.Ai;
r.data={d:"setsel",u:N,o1:this.Ep};this.T(r)}this.close()};function fR(){kB.call(this,[1,13],"locstor");
this.kO=null;this.Fz=[];var d=this.body,W=f.F("p");W.textContent="These files are loaded every time you start Photopea.";
d.appendChild(W);this.a1t=0;this.yL=f.F("span");d.appendChild(this.yL);this.yL.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var c=f.F("span","form");d.appendChild(c);this.ri=new gs([5,4],!1,null,!0);this.ri.k("click",this.Pc,this);
c.appendChild(this.ri.n);this.hh=new gs("Get all as ZIP",!1,null,!0);this.hh.k("click",this.Lj,this);
c.appendChild(this.hh.n);this.IA=new fZ(!0);this.IA.parent=this;this.IA.Ac(1);d.appendChild(this.IA.n);
this.IA.n.setAttribute("style","width: 40em; height: 25em")}fR.prototype=new kB;fR.prototype._=function(){kB.prototype._.call(this);
this.yL.textContent=ay.get([13,2])+": "+cA.oZ(this.a1t);this.ri._()};fR.prototype.lz=function(d,W){this.kO=d;
if(W==kG.mz)this.M7()};fR.prototype.M7=function(d,W){var c=this.kO.V9.B_,i=0;this.Fz=[];for(var y in c)this.Fz.push(y);
this.Fz.sort(function(H,V){H=H.split(".");V=V.split(".");return H[1]==V[1]?H[0]<V[0]?-1:1:H[1]<V[1]?-1:1});
var B=Math.floor(100*f.QX()),r=Math.floor(16*f.QX()),x=[],Z=[];for(var S=0;S<this.Fz.length;S++){var y=this.Fz[S],k=fR.pL(y,c[y],B,r);
x.push(k);Z.push(y);i+=c[y].byteLength}this.IA.KO(x,Z,B,r);this.a1t=i;this._()};fR.prototype.Pc=function(d){var W=this.IA.h();
if(W.length==0){alert("Select a file first.");return}this.IA.c([]);var c=this.kO.V9.B_;for(var S=0;S<W.length;
S++)delete c[this.Fz[W[S]]];var y=new bR(b.E.V,!0);y.data={d:b.H.e7,au:kG.mz};this.T(y)};fR.prototype.Lj=function(d){var W=this.kO.V9.B_,c={};
for(var y in W)c[y]=new Uint8Array(W[y]);var B=UZIP.encode(c);bw.save(B,"resources.zip")};fR.pL=function(d,W,c,y){var B=f.F("canvas"),Z=0;
B.width=c;B.height=y;var r=B.getContext("2d"),x=d.split(".").pop().toLowerCase();for(var S=0;S<x.length;
S++)Z+=x.charCodeAt(S)*613<<8*S;r.fillStyle="#"+v.Wb(Z&16777215);r.fillRect(0,0,20,y);var i=Math.floor(14*f.QX());
r.fillStyle="#000000";r.font="bold "+i+"px sans-serif";var k=(y-i)/2,H=cA.oZ(W.byteLength),V=r.measureText(H);
r.fillText(H,c-12-V.width,y-k);return B.toDataURL()};function bH(){kB.call(this,[1,15],"pmanager");this.kO=null;
this.ex=new gd([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.ex.k(b.E.p,this.M7,this);
this.body.appendChild(this.ex.n);var d=f.F("div","flexrow");this.body.appendChild(d);var W=this.a1W=f.F("div");
d.appendChild(W);var c=f.F("div","form");d.appendChild(c);c.setAttribute("style","width:140px; margin-left:12px");
this.aBz=[kG.Bo,kG.n6,kG.XX,kG.T$,kG.jY,kG.Vo];this.HB=[new kL,new gV,new gk,new ev,new eg,new i2];for(var S=0;
S<this.HB.length;S++)this.HB[S].parent=this;this.CT=[];for(var S=0;S<4;S++){var y=new gs("Hello",!0,null,!0);
y.k("click",this.fT,this);this.CT.push(y);c.appendChild(y.n)}this.M7()}bH.prototype=new kB;bH.prototype.Ea=function(d){return d==bm.y8||d==bm.Vy};
bH.prototype.fT=function(d){var S=this.CT.indexOf(d.target);this.HB[this.ex.h()].fY(S)};bH.prototype._=function(){kB.prototype._.call(this);
this.ex._();for(var S=0;S<this.HB.length;S++)this.HB[S]._();var d=this.CT,W=this.ex.h(),c=kG.uh[this.aBz[W]],y=c[0].toUpperCase();
d[0].N2([[23,6],"."+y]);d[1].N2(["VAR0 ."+y,[1,8]]);d[2].N2([6,37]);d[3].N2([5,4])};bH.prototype.lz=function(d,W){this.kO=d;
this.M7()};bH.prototype.M7=function(d,W){if(!f.ni(this.n))return;this._();f.qf(this.a1W);this.a1W.appendChild(this.HB[this.ex.h()].ga);
var c=this.HB,y=this.kO;if(y==null)return;c[0].bz(y.sa);c[1].Sk(y.R5,y.qX);c[1].bz(y.yv);c[2].bz(y._m);
c[3].bz([y.C$,y._m]);c[4].bz(y.zc);c[5].bz(y._C)};function gG(d,W,c){kB.call(this,W,"cwindow");this.alA=new aL(c[0],c[1]-33);
this.rf=f.F("div","form");this.rf.setAttribute("style","width:"+(c[2]-c[0])+"px; height:"+(c[3]-c[1])+"px");
this.body.appendChild(this.rf)}gG.prototype=new kB;gG.prototype.i$=function(d,W){return this.alA.clone()};
function ga(d){var W=ga.abn(d);kB.call(this,W,"res"+d);var c=this.awn.bind(this);window.addEventListener("message",function(B){if(typeof B.data=="string"&&B.data.startsWith("--et ")){console.log(B.data);
var r=this.aoL=B.data.slice(5).split(",");r[0]=parseFloat(r[0]);jj.VD(r[0],r[1],c)}}.bind(this));this.J9=W;
this.vA=d;this.afz=null;this.BH=null;this.T4=0;this.x0=null;this.aa=null;this.aoL=null;this.kO=null;
this.body.setAttribute("style","padding:0");this.Fa=new gs("",null,null,!0);this.body.appendChild(this.Fa.n);
this.Fa.k("click",this.WM,this);this.Fa.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.tR=new gs("\u25BC",null,null,!0);this.tR.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.tR.k("click",this.amk,this);this.body.appendChild(this.tR.n);this.T3=f.F("span","form");this.body.appendChild(this.T3);
this.CT=[];for(var S=0;S<9;S++){var y=new gs(ga.abn(S));this.CT.push(y);if(S==d)y.c(!0);this.T3.appendChild(y.n);
y.k("click",this.a1p,this)}this.oi=new gs([5,3],null,null,!0);this.oi.k("click",this.ae7,this);this.a9x=new gs("Upload Current Document as a Template",null,null,!0);
this.a9x.k("click",this.aah,this);this.uz=new eO("Creator / Brand name");this.pj=new gs([1,2],null,null,!0);
this.pj.k("click",this.Lj,this);this.gE=f.F("iframe","scrollable");this.gE.setAttribute("style","border:none; margin:0; padding:0;");
this.oz=f.F("div","form scrollable padded");this.Q1=new hU(d);this.Q1.k("back",this.LJ,this);this.Q1.k("save",this.av4,this);
this.body.appendChild(this.gE)}ga.prototype=new kB;ga.abn=function(d){var W;if(d==0)W=[25,0];else if(d==1)W="Plugins";
else for(var c in kG.uh)if(kG.uh[c][4]==d)W=kG.uh[c][3];return W};ga.prototype.amk=function(d){this.T3.style.display=this.T3.style.display=="none"?"":"none"};
ga.prototype.a1p=function(d){var S=this.CT.indexOf(d.target);if(S==this.vA)return;this.close();var W=new bR(b.E.V,!0);
W.data={d:b.H.vB,vD:"res"+S};this.T(W)};ga.prototype.awn=function(d){this.WM();this.aa=JSON.parse(d.target.response);
this.nV()};ga.prototype.i$=function(d,W){return new aL(0,0)};ga.prototype.z2=function(d,W){this.Kp=d;
this.fn=W;this.q5=null;W=W-4;d=d;var c=d>820,y="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",B="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.T3.setAttribute("style",c?y:B);this.T3.style.marginTop=(c?-31:0)+"px";this.tR.n.style.display=c?"none":"";
var r=this.oz;r.style.width=d-12+"px";r.style.height=W-12+"px";var r=this.Q1.n;r.style.width=d-12+"px";
r.style.height=W-12+"px";var r=this.gE;r.style.width=d+"px";r.style.height=W+"px";this.tW()};ga.prototype.lz=function(d,W){this.kO=d};
ga.prototype._=function(){kB.prototype._.call(this);for(var S=0;S<this.CT.length;S++)this.CT[S]._();
this.oi._()};ga.prototype.M7=function(d,W,c,y){this.q5=d;this.WM(null,!1)};ga.prototype.WM=function(d,W){var c=W!=null?W:f.ni(this.gE);
if(c){if(!jj.zO()){alert("You need to log in first!");return}var y=jj.n2();this.BH=y.tpl?y.tpl.list:[];
this.uz.c(y.tpl&&y.tpl.brnd?y.tpl.brnd:"");this.tW()}else{this.gE.setAttribute("src","");this.gE.setAttribute("src","templates/?type="+this.vA+"&rsrc="+this.kO.U0.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(c?this.oz:this.gE);var B=ay.get(this.J9);this.Fa.N2(c?"All "+B:"Add "+B)};ga.prototype.tW=function(){var d=ay.get(this.J9),W=this.BH,c=this.vA,Z=450;
if(W==null)return;var y=this.oz;f.qf(y);var B=f.F("h1");y.appendChild(B);B.textContent="Share your "+d+" with the world!";
var r=f.F("ul");y.appendChild(r);var x=f.F("li");r.appendChild(x);x.textContent="By publishing your "+d+", you agree to let others use them for all kinds of purposes, even commercially.";
y.appendChild(this.oi.n);if(c==0)y.appendChild(this.a9x.n);f.MZ(y);y.appendChild(this.uz.n);y.appendChild(this.pj.n);
f.MZ(y);Z=(this.Kp-20)/Math.max(1,Math.floor(this.Kp/Z))-42;var i="display:inline-block; width:"+Z+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var S=W.length-1;S>=0;S--){var k=W[S];if(k.type==null)k.type=0;if(k.type!=c)continue;var H=f.F("div");
y.appendChild(H);H.setAttribute("style",i);var V=f.F("img");H.appendChild(V);V.setAttribute("src",k.thmb);
V.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var g=f.F("h3");H.appendChild(g);g.textContent=k.name;g.setAttribute("style","margin:0 0 10px 0");var N=f.F("p");
H.appendChild(N);N.textContent=k.desc;N.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var C=0;C<2;C++){var w=new gs(C==0?"Edit":"Delete",null,null,!0);w.aca=S;w.nV=C==0;w.k("click",this.abO,this);
H.appendChild(w.n)}}};ga.prototype.aah=function(d){if(this.q5==null){alert("No document opened.");return}var W=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!W)return;var c=new bR(b.E.V,!0);c.data={d:b.H.eQ,Uw:"psd",al:this.acA.bind(this)};this.T(c)};ga.prototype.acA=function(d){this.alj=d;
var W=new bR(b.E.V,!0);W.data={d:b.H.eQ,Uw:"jpg",al:this.aaz.bind(this),ans:1400};this.T(W)};ga.prototype.aaz=function(d){this.x0={type:0,catg:0,desc:"",file:this.alj,name:this.q5.name.split(".")[0],thmb:d,publ:!0,utme:""};
this.nV()};ga.prototype.ae7=function(d){this.x0={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.nV()};ga.prototype.abO=function(d){this.T4=d.target.aca;if(!d.target.nV){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.BH.splice(this.T4,1);this.Lj();this.tW();return}this.nV()};ga.prototype.nV=function(){if(f.ni(this.oz))this.body.removeChild(this.oz);
this.body.appendChild(this.Q1.n);var d=this.x0?this.x0:this.aa?this.aa:this.BH[this.T4];if(d.type==null)d.type=0;
this.Q1.c(d)};ga.prototype.av4=function(d){var W=this.Q1.h();if(this.x0)this.BH.push(W);else if(this.aa){var c=this.aoL;
jj.VD(c[0],c[1],this.LJ.bind(this),JSON.stringify(W));return}else this.BH[this.T4]=W;this.Lj();this.LJ()};
ga.prototype.LJ=function(){var d=this.aa;this.x0=null;this.aa=null;this.body.removeChild(this.Q1.n);
this.body.appendChild(this.oz);this.tW();if(d)this.WM()};ga.prototype.Lj=function(){var d=jj.n2();if(this.BH.length==0)delete d.tpl;
else{d.tpl={list:JSON.parse(JSON.stringify(this.BH))};var W=this.uz.h().trim();if(W!="")d.tpl.brnd=W}jj.XR(d,function(){alert("Saved.")})};
function ag(){kB.call(this,"Make Selection","makesel");this.kO=null;var d=f.F("div","form");this.body.appendChild(d);
this.VN=new ff([12,25,1]);this.VN.c(!0);d.appendChild(this.VN.n);f.MZ(d);this.eh=new jF(!0);d.appendChild(this.eh.n);
this.$n=f.GA(this,this.body)}ag.prototype=new kB;ag.prototype._=function(){kB.prototype._.call(this);
this.eh._();this.VN._();this.$n._()};ag.prototype.pn=function(d){var W=new bR(b.E.v,!0);W.f=X.Ai;W.data={d:"frompath",Wa:[null,0,this.eh.h(),this.VN.h()]};
this.close();this.T(W)};function ab(){kB.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.q5=null;this.We=null;
this.kh=null;var d=this.ak6=f.F("div","form");d.setAttribute("style","width:20em");this.body.appendChild(d);
this.gt=new ij([12,50],["PSD","PSB"]);this.gt.k(b.E.p,this.LR,this);d.appendChild(this.gt.n);f.WH(d);
var W=new ed("Minify the file");d.appendChild(W.n);f.MZ(d);var c=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Ti=[];for(var S=0;S<c.length;S++){var y=new ff(c[S]);this.Ti.push(y);d.appendChild(y.n);y.k(b.E.p,this.LR,this)}f.WH(d);
this.P9=new ed("aa.psd");this.io=new ed("10 kB");d.appendChild(this.io.n);this.a1R=new ed("1000 B");
d.appendChild(this.a1R.n);this.$n=new gs([1,2],!0,null,!0);this.$n.k("click",this.pn,this);d.appendChild(this.$n.n);
this.vC=new gs(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.vC.k("click",this.pn,this);d.appendChild(this.vC.n);
this.k("closebtn",this.lD,this)}ab.prototype=new kB;ab.prototype.M7=function(d,W,c,y){var B=f.ni(this.vC.n),r=d.hs!=null&&d.hs.xH=="psd";
if(r&&!B)this.ak6.appendChild(this.vC.n);if(!r&&B)this.ak6.removeChild(this.vC.n);for(var S=0;S<this.Ti.length;
S++)this.Ti[S].c(!1);this.q5=d;this.LR()};ab.prototype.pn=function(d){if(d.target==this.$n)bw.save(this.We,this.kh);
else{if(this.Ti[3].h()){alert("You should not save a ZIP as a PSD to Google Drive.");return}fB.auQ(this.q5,this.We)}};
ab.prototype.lD=function(){this.q5=null;this.We=null};ab.prototype.LR=function(){var d=this.q5,W=[!1,!1,!1,!1];
for(var S=0;S<3;S++)W[S]=this.Ti[S].h();var c=this.Ti[3].h(),y=W[3]=this.gt.h()==1,B=d.name.slice(0,d.name.length-3),r=this.We=fd.Ay("PSD").Cy(d,0,0,W),bd=this.kh=B+"ps"+(y?"b":"d");
if(c){var x={};x[bd]=new Uint8Array(r);r=this.We=UZIP.encode(x);bd=this.kh=B+"zip"}this.P9.c(bd);this.io.c(cA.oZ(r.byteLength));
this.io.n.style["font-size"]="2em";this.a1R.c(" \u2001 "+r.byteLength+" B");this.$n.N2(ay.get([1,2])+" \""+bd+"\"")};
ab.prototype._=function(){kB.prototype._.call(this);this.gt._();this.$n._();this.vC._()};function dL(){kB.call(this,"Confirm","confirm");
this.Ws=null;var d=f.F("div");d.setAttribute("style","margin-bottom:1em");this.body.appendChild(d);this.Ba=f.F("div");
this.Ba.textContent="Hello";d.appendChild(this.Ba);this.$n=f.GA(this,this.body)}dL.prototype=new kB;
dL.prototype.pn=function(d){if(this.Ws==null)return;console.log("okconfirm");this.close();this.Ws();
this.Ws=null};dL.prototype._=function(){kB.prototype._.call(this);this.$n._()};dL.prototype.M7=function(d,W){if(W.a3N||W.aij)this.Ba.innerHTML=W.b;
else this.Ba.textContent=W.b;if(W.a9Q)this.$n.N2(W.a9Q);this.Ws=W.Ws;this.$n.n.focus();if(W.a3N!=null)this.n.style.top=Math.random()*(window.innerHeight-150)+"px";
this.acM=W.a3N!=null};dL.prototype.i$=function(d,W){return new aL(Math.max(0,(d-500)/2),Math.max(0,Math.min(60,(W-100)/2)))};
dL.prototype.z2=function(d,W){this.Ba.style.width=d-30+"px"};function cG(){kB.call(this,[1,16,2],"newartb");
this.La=0;this.SK=null;var d=f.F("div","form");d.style.width="260px";this.body.appendChild(d);this.IA=new a2;
d.appendChild(this.IA.n);this.$n=f.GA(this,d)}cG.prototype=new kB;cG.prototype.oy=function(d,W){return d!=null};
cG.prototype.pn=function(d){var W=this.IA.h();this.SK.m=W.x;this.SK.i=W.y;var c=new bR(b.E.v,!0);c.f=X.Xz;
c.data={atR:this.SK,Gg:this.La};this.T(c);this.close()};cG.prototype._=function(){kB.prototype._.call(this);
this.IA._();this.$n._()};cG.prototype.M7=function(d,W){this.La=W.Gg;var c=new a8(0,0,d.m,d.i);if(d.g.length!=0){var y=d.B[d.g[0]];
if(y.add.artb){c=y.ZB();c.x+=c.m+100}if(W.Gg==1)c=X.X.yo(d)}this.SK=c;this.IA.c(new aL(c.m,c.i))};function b5(){kB.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.kA=null;this.k("closebtn",this.$t,this);this.k("canclose",this.$t,this)}b5.prototype=new kB;
b5.prototype.lz=function(d,W){if(this.kA)this.kA.lz(d,W)};b5.prototype.i$=function(d,W){return new aL(Math.max(0,Math.min(150,(d-980)/2)),Math.max(0,Math.min(150,(W-590)/2)))};
b5.prototype.z2=function(d,W){this.Kp=d;this.fn=W;d=Math.min(d,980);W=Math.min(W,590);if(this.kA)this.kA.z2(d,W)};
b5.prototype._=function(){kB.prototype._.call(this);if(this.kA)this.kA._()};b5.prototype.M7=function(d,W,c,y){this.Ep=W.Gg==0?"Open from Storage":"Save to Storage";
this._();if(this.kA==null){this.kA=new dM;this.kA.parent=this;this.body.appendChild(this.kA.n);this._();
this.z2(this.Kp,this.fn)}Storage.Ac(W.Gg,d?d.name:"");dM.LA(this.kA)};b5.prototype.$t=function(d){Storage.Ac(0);
dM.R2();if(d.type=="canclose")this.close()};function ic(){kB.call(this,[2,14],"varsdats");var d=this.rf=f.F("div","form");
d.setAttribute("style","width:300px");this.body.appendChild(d);this.q5=null;this.UL=0;this.kO=null;this.G2=new ij(null,[[2,14],"Data Sets",[1,8]]);
this.G2.k(b.E.p,this.a2y,this);this.Cd=new ic.h6;this.Qo=new ic.$u;this.JD=new ic.GD;this.Qo.k("activate",this.np,this);
this.JD.k("export",this.Mf,this);this.$n=f.GA(this)}ic.prototype=new kB;ic.prototype.a2y=function(d){var W=this.G2.h(),c=this.rf;
f.qf(c);c.appendChild(this.G2.n);f.WH(c);c.appendChild([this.Cd,this.Qo,this.JD][W].n);c.appendChild(this.$n.n)};
ic.prototype.pn=function(d){var W=new bR(b.E.v,!0);W.f=X.jq;W.data={d:e8.pT,b:JSON.stringify([this.Cd.h(),this.Qo.h()])};
this.T(W);this.close()};ic.prototype._=function(){kB.prototype._.call(this);this.$n._();this.JD._()};
ic.prototype.M7=function(d,W){this.q5=d;this.JD.q5=d;if(d==null)return;this.Cd.M7(d,W);this.Qo.M7(d,W);
this.G2.c(0);this.a2y();this.UL=0;this.JD.am0()};ic.prototype.lz=function(d,W){this.kO=d};ic.prototype.Mf=function(d){var W=this.Cd.h(),c=this.Qo.h(),y=this.JD.h();
if(W.length==0){alert("There are no variables.");return}if(c.length==0){alert("There are no data sets.");
return}var B=fd.aq6(this.q5,W,c,this.Qo.aCn(),y[0],y[1],y[2],this.kO,this);if(B!=null)bw.save(B,"images.zip")};
ic.prototype.np=function(d){var W=this.Qo.g,c=this.Cd.h(),y=this.Qo.h();if(c.length==0){alert("There are no variables.");
return}if(y.length==0){alert("There are no data sets.");return}this.T9();this.UL+=fd.iH(this.q5,this,c,y,this.Qo.aCn(),W)};
ic.prototype.T9=function(){var d=new bR(b.E.v,!0);d.f=X._X;d.data={d:"h_stepbck"};while(this.UL>0){this.T(d);
this.UL--}};ic.GD=function(){d9.call(this);var d=this.n=f.F("div");this.VF=new eO("Variable for file names");
d.appendChild(this.VF.n);f.WH(d);this.q5=null;this.G9=["JPG","PNG","PDF"];this.gt=new ij([12,50],this.G9);
this.gt.k(b.E.p,this.am0,this);d.appendChild(this.gt.n);this.pt=new cv;d.appendChild(this.pt.n);this.hh=new gs("Export all items",!0,null,!0);
this.hh.k("click",this.Mf,this);d.appendChild(this.hh.n)};ic.GD.prototype=new d9;ic.GD.prototype._=function(d){this.VF._();
this.gt._();this.hh._();this.pt._()};ic.GD.prototype.am0=function(d){if(this.q5==null)return;var W=this.G9[this.gt.h()],c=this.q5,y=c.add.artd;
this.pt.ph(W,null,null,y!=null&&y.Cnt.v>1)};ic.GD.prototype.Mf=function(d){this.T(new bR("export"))};
ic.GD.prototype.h=function(){var d=this.G9[this.gt.h()];return[d,this.pt.h(),this.VF.h().trim()]};ic.$u=function(){d9.call(this);
this.ts=null;this.rp=[];this.g=0;var d=this.n=f.F("div","form");this.Qv=new kO("Import a CSV file");
d.appendChild(this.Qv.n);this.Qv.k(b.E.p,this.aee,this);this.ic=f.F("div","scrollable");this.ic.setAttribute("style","overflow:scroll;  height:234px;");
d.appendChild(this.ic);this.a2m=new kO("Source Images",!0);d.appendChild(this.a2m.n)};ic.$u.prototype=new d9;
ic.$u.prototype.aee=function(d){var W=this.Qv.h();for(var c in W){W=W[c];break}this.ts=iE.Nr(K.uw(W));
this.xX()};ic.$u.prototype.aCn=function(){return this.a2m.h()};ic.$u.prototype.M7=function(d,W){var c=this.ts=JSON.parse(JSON.stringify(d.ZH));
this.xX()};ic.$u.prototype.h=function(){return this.ts};ic.$u.prototype.xX=function(){var d=this.fm.bind(this),W=this.ts,y="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.rp=[];var c=f.F("table");c.setAttribute("style","border-collapse: collapse;");for(var S=0;S<W.length;
S++){var B=f.F("tr"),r=W[S],x=S==0?"th":"td";c.appendChild(B);var Z=f.F(x);B.appendChild(Z);Z.setAttribute("style",y+"cursor:pointer;");
if(S!=0)Z.textContent="\u2713";this.rp.push(Z);Z.addEventListener("click",d,!1);for(var i=0;i<r.length;
i++){var Z=f.F(x);Z.textContent=r[i];B.appendChild(Z);Z.setAttribute("style",y);Z.setAttribute("title",r[i])}}f.qf(this.ic);
this.ic.appendChild(c)};ic.$u.prototype.fm=function(d){this.g=this.rp.indexOf(d.currentTarget);this.T(new bR("activate"))};
ic.h6=function(){d9.call(this);var d=this.n=f.F("div","form marged");this.jx=null;this.xl=[];this.JP=[];
this.lP=null;this.xC=new gd([0,3],[]);this.xC.k(b.E.p,this.auM,this);d.appendChild(this.xC.n);this.AX=[];
var W=["Visibility","Text Content","Pixel Content"];for(var S=0;S<W.length;S++){f.WH(d);var c=new ff(W[S]);
c.k(b.E.p,this.fF,this);d.appendChild(c.n);f.MZ(d);var y=new eO("Variable Name");y.k(b.E.p,this.fF,this);
d.appendChild(y.n);this.AX.push(c,y)}};ic.h6.prototype=new d9;ic.h6.prototype.fF=function(d){var W=this.xC.h(),c=this.lP[W],y=this.xl[W],B=this.jx["l"+c],r=this.AX;
if(B==null)this.jx["l"+c]=B=[];while(B.length!=0)B.pop();for(var S=0;S<3;S++){var x=r[2*S+1].h().trim();
if(!r[2*S].h())continue;if(x.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}x=x.replaceAll(" ","");
var Z={varName:x,trait:["visibility","textcontent","fileref"][S]};B.push(Z);if(S==2){Z.align="center";
Z.clip="false";Z.placementMethod="fit";Z.valign="middle"}}if(B.length==0)delete this.jx["l"+c];this.M7()};
ic.h6.prototype.auM=function(d){var W=this.xC.h(),c=this.lP[W],y=this.xl[W],B=this.jx["l"+c],r=this.AX;
if(B==null)B=[];for(var S=0;S<3;S++){var x=S==0||S==1&&y==0||S==2&&y==1;r[2*S].OB(x);r[2*S].c(!1);r[2*S+1].OB(x);
if(!x)r[2*S+1].c("")}for(var S=0;S<B.length;S++){var Z=B[S],i=Z.trait,k=["visibility","textcontent","fileref"].indexOf(i);
r[k*2].c(!0);r[k*2+1].c(Z.varName)}};ic.h6.prototype.M7=function(d,W){if(d){var c=JSON.parse(JSON.stringify(d.eS)),y=this.jx={};
for(var S=0;S<c.length;S++){var B=c[S],r=B.docRef;r="l"+r.slice(4,r.length-2);if(y[r]==null)y[r]=[];
y[r].push(B)}this.lP=[];this.xl=[];this.JP=[];for(var S=d.B.length-1;S>=0;S--){var x=d.B[S],r=x.add.lyid;
if(x.add.lsct==aG.Ni)continue;this.lP.push(r);this.xl.push(x.add.TySh?0:1);this.JP.push(x.getName())}}var Z=[],i=this.JP;
for(var S=0;S<i.length;S++){Z.push(i[S]+(this.jx["l"+this.lP[S]]?" *":""))}var k=this.xC.h();this.xC.oe(Z);
this.xC.c(k);this.auM()};ic.h6.prototype.h=function(){var d=this.jx,W=[];for(var c in d){var y=d[c];
for(var B=0;B<y.length;B++){y[B].docRef="id('"+c.slice(1)+"')";W.push(y[B])}}return W};function ei(){kB.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.eH=!1;var d=this.Dd=[],W=f.F("div","form");W.setAttribute("style","width:20em");this.body.appendChild(W);
for(var S=0;S<2;S++){var c=new ff([22,4,2+S]);W.appendChild(c.n);f.MZ(W);var y=new ij(null,[["N equal parts"],["N pixels per part"]]);
W.appendChild(y.n);f.MZ(W);var B=new kk("N",0,1e3);B.c(4);B.parent=this;W.appendChild(B.n);f.MZ(W);if(S==0)f.WH(W);
d.push(c,y,B)}for(var S=0;S<d.length;S++)d[S].k(b.E.p,this.Jo,this);d.push(f.GA(this,W));this.k("closebtn",this.T9,this)}ei.prototype=new kB;
ei.prototype.T9=function(){if(this.eH){var d=new bR(b.E.v,!0);d.f=X._X;d.data={d:"h_stepbck"};this.T(d)}};
ei.prototype.Jo=function(d){this.T9();this.eH=!0;var W=[];for(var S=0;S<6;S++)W.push(this.Dd[S].h());
var c={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var y=0;y<2;y++){if(!W[y*3])continue;var B=W[y*3+1],r=W[y*3+2];c[["slices","pixels"][B]+["Across","Down"][y]]={t:"long",v:r}}var x=new bR(b.E.HQ,!0);
x.data={cx:"divide",i9:c};this.T(x)};ei.prototype.pn=function(d){this.close()};ei.prototype._=function(){kB.prototype._.call(this);
var d=this.Dd;for(var S=0;S<d.length;S++)d[S]._()};ei.prototype.M7=function(d,W){this.eH=!1};function jP(){kB.call(this,"Stroke Path","strokepath");
this.kO=null;this.p_=null;this.On=null;this.$n=null;this.X0=[X.Go,X.Bo,X.NT,X.JJ,X.Il,X.OG,X.ia,X.u6,X.j0,X.il,X.Gm,X.QR,X.UT,X.NF,X.Lr]}jP.prototype=new kB;
jP.prototype._=function(){kB.prototype._.call(this);if(this.$n){this.p_._();this.$n._()}};jP.prototype.pn=function(d){var W=this.X0[this.p_.h()],c=null;
for(var y in X._A)if(X._A[y]==W)c=y;var B=new bR(b.E.HQ,!0);B.data=X.C_.fX(c,this.On.h());this.close();
this.T(B)};jP.prototype.lz=function(d,W){if(this.kO==null){var c=[];for(var S=0;S<this.X0.length;++S){c.push(d.s.map[this.X0[S]].f.name)}var y=f.F("div","form");
this.body.appendChild(y);this.p_=new gd("Tool",c);this.p_.c(1);y.appendChild(this.p_.n);this.On=new ff("Simulate Pressure");
f.MZ(y);y.appendChild(this.On.n);this.$n=f.GA(this,this.body)}this.kO=d};function by(){kB.call(this,[1,18],"linkview");
f.CH(this.body,"form");var d=this.Y_=[new eO(null,null,17),new gs([5,1],!1,null,!0),new gs([1,0],!1,null,!0)];
for(var S=0;S<3;S++){var W=d[S];this.body.appendChild(W.n);if(S!=0)W.k("click",this.atF,this);if(S==0)f.MZ(this.body)}}by.prototype=new kB;
by.prototype.M7=function(d,W){var c=W.af9;if(c.startsWith("https://"))c=c.slice(8);this.Y_[0].c(c)};
by.prototype.atF=function(d){var W=this.Y_,c=W[0].h(),y=d.target==this.Y_[1];if(y){navigator.clipboard.writeText(c);
alert("Copied to a clipboard!")}else window.open("https://"+c,"Shared")};function jQ(d){kB.call(this,d==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][d]);
this.Y1=null;this.rN=null;this.ahS=d;var W=f.F("div","form label8");W.setAttribute("style","max-width:26em");
this.body.appendChild(W);this.t3=new gd("Document",["abc","def"]);this.t3.k(b.E.p,this.fF,this);W.appendChild(this.t3.n);
f.MZ(W);this.Of=new gd([12,4],["abc","def"]);this.Of.k(b.E.p,this.fF,this);W.appendChild(this.Of.n);
this.a0A=new ff([4,11]);this.Ba=new eO([12,48]);this.Ba.c("Alpha");if(d==0){}else{W.appendChild(this.Ba.n)}this.Qd=new jF(!0);
W.appendChild(this.Qd.n);this.$n=f.GA(this,W)}jQ.prototype=new kB;jQ.prototype.cN=function(){return!0};
jQ.prototype._=function(){kB.prototype._.call(this);this.$n._();this.t3._();this.Of._();this.Ba._();
this.a0A._();this.Qd._()};jQ.prototype.fF=function(d){var W=this.ahS;if(d==null||d==this.t3){var c=this.t3.h(),y=this.rN[c],B=[];
if(W==0)B.push(y.B[y.g[0]].getName()+" Transparency");else B.push([5,3]);for(var S=0;S<y.iv.length;S++)B.push(y.iv[S].name);
this.Of.oe(B)}if(W==0)return;var r=this.Of.h();this.Ba.OB(r==0);this.Qd.OB(r!=0)};jQ.prototype.M7=function(d,W,c){this.Y1=d;
this.rN=c;var y=[];for(var S=0;S<c.length;S++){var B=c[S].name;y.push(B.length<30?B:B.slice(0,27)+"...")}this.t3.oe(y);
this.t3.c(c.indexOf(d));this.fF(null)};jQ.prototype.pn=function(d){var W=this.ahS,c=this.Of.h(),y=this.t3.h(),B=this.rN[y],r=this.Qd.h(),x;
if(c==0){x=new bR(b.E.HQ,!0);if(W==0)x.data=X.XC.eL(r,"Trsp",B.B[B.g[0]].getName());else x.data={cx:"duplicate",i9:{classID:"null",Nm:{t:"TEXT",v:this.Ba.h()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{x=new bR(b.E.v,!0);
if(W==0){x.f=X.Ai;x.data={d:"fromchannel",Wa:[-4-c,0,r]}}else{x.f=X.jq;x.data={d:e8.iq,jK:"seltochannel",Wa:[c-1,r]}}}this.close();
this.T(x)};function aA(d,W,c,y){d9.call(this);this.name=d;this.a2L=c;this.de=y;this.YG=f.F("div","");
this.YG.setAttribute("draggable","true");this.CN=f.F("div","pbody");this.r6=new gs("",!1,"");this.r6.parent=this;
this.a96=f.F("span","cross gsicon");this.Q_=f.F("span","label");var B=this.acQ.bind(this);this.YG.addEventListener("mousedown",this.an1.bind(this),!1);
this.YG.addEventListener("contextmenu",B,!1);this.r6.n.addEventListener("contextmenu",B,!1);this.a96.addEventListener("mousedown",this.xS.bind(this),!1);
this.YG.appendChild(this.Q_);if(W)this.YG.appendChild(this.a96);this.qV=!1;this.Q_.textContent=d}aA.prototype=new d9;
aA.prototype.NI=function(){return null};aA.prototype._=function(){var d=ay.get(this.name),W=!1,c=this.Kp==0?22:Math.round(2+this.Kp/50);
if(d.endsWith(" *")){W=!0;d=d.slice(0,d.length-2);c-=2}var y=d.length>c;this.Q_.textContent=y?d.slice(0,c-2):d;
if(y)for(var B=0;B<2;B++){var r=f.F("span");r.textContent=d.charAt(c-2+B);r.setAttribute("style","opacity:"+(.6-B*.4));
this.Q_.appendChild(r)}if(W){var r=f.F("span");r.textContent=" *";this.Q_.appendChild(r)}var x=d.split(" "),Z=x.length==2?x[0].substring(0,2)+x[1][0]:d.substring(0,3);
if(Z.charCodeAt(0)>=11776)Z=Z.substring(0,1);var i=this.a2L;if(i==null)this.r6.N2(Z,d);else{var k;if(i.startsWith("---"))k="<img src=\""+PIMG[i.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(i.startsWith("==="))k="<img src=\""+i.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(i.indexOf("\"")==-1)k="<img src=\""+i+"\" alt=\""+f.DQ(d).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.r6.N2(k,d)}};aA.prototype.enable=function(){this.CN.className="pbody"};aA.prototype.disable=function(){this.CN.className="pbody disabled"};
aA.prototype.lz=function(d,W){};aA.prototype.M7=function(d,W,c){};aA.prototype.Gv=function(d){};aA.prototype.z2=function(d,W){};
aA.prototype.DE=function(d){this.name=d;this._()};aA.prototype.Cs=function(){};aA.prototype.an1=function(d){if(d.button==0)this.T(new bR("select",!1));
if(d.button==1)this.UE()};aA.prototype.acQ=function(d){f.vT(d);if(this.de!=null&&isNaN(this.de))return;
var W=f.Ne(d,document.body),c=this.uQ;if(c==null){c=this.uQ=new dK([{name:[1,12,0]}]);this.uQ.k("select",this.xS,this)}c.update(null);
c._();c.parent=this;var y=new bR(b.E.V,!0);y.data={d:b.H.oV,dD:c,x:W.x+1,y:W.y+1};this.T(y)};aA.prototype.UE=function(){this.xS({})};
aA.prototype.xS=function(d){if(d.stopPropagation)d.stopPropagation();if(this.de!=null&&!isNaN(this.de)){var W=new bR(b.E.V,!0);
W.data={d:b.H.QU,dD:this.uQ};this.T(W);W.data={d:b.H.e7,au:kG.Fc,b:parseFloat(this.de),K3:"del"};this.T(W)}else if(this.adc())this.T(new bR(b.E.IF,!1))};
aA.prototype.adc=function(d){return!0};aA.prototype.RQ=function(d,W,c,y,B){};aA.prototype.f9=function(d,W,c,y,B){};
aA.prototype.AZ=function(d,W,c,y,B){};aA.wB=function(d,W,c){if(d.childElementCount!=0)return;var y=d.textContent;
this.Vz=this.awL.bind(this);this.aAg=this.ad4.bind(this);this.LE=W;this.awl=c;this.ji=d;this.aB8=y;var B=f.F("input","");
B.setAttribute("type","text");B.setAttribute("size","10");B.setAttribute("value",y);f.qf(d);d.appendChild(B);
B.select();B.focus();f.O6(d);d.addEventListener("keyup",this.Vz,!1);document.body.addEventListener("mousedown",this.aAg,!1)};
aA.wB.prototype.awL=function(d){var W=bm.nl,c=W(d.code,bm.Qy);if(W(d.code,bm.Rh)||c)this.a1g(c)};aA.wB.prototype.ad4=function(d){var W=d.target;
if(W.tagName&&W.tagName.toLowerCase()=="input")return;this.a1g(!0)};aA.wB.prototype.a1g=function(d){var W=this.ji,c=W.firstChild.value;
W.removeEventListener("keyup",this.Vz);document.body.removeEventListener("mousedown",this.aAg);if(this.awl||d&&c!=""&&c!=this.aB8){this.LE(c)}else{f.qf(W);
W.textContent=this.aB8}};aA.HX={_X:"0",avy:"1",jq:"2",a8a:"3",aiX:"4",xK:"5",CSS:"6",Bo:"7",awz:"8",atq:"9",axH:"10",aeU:"11",ahY:"12",kg:"13",tf:"14",a1N:"15",afM:"16",uY:"17",awk:"18",a88:"19",a1U:"20",T$:"21",az6:"22",a0X:"23",ahb:"24",a48:"25"};
function fn(){aA.call(this,[9,9],!1,"---panels/actions",aA.HX.aeU);this.kO=null;this.dX=[0,0]}fn.prototype=new aA("");
fn.prototype.Km=function(){if(!f.ni(this.CN)||this.Qs)return;this.Qs=f.F("div","padded scrollable");
this.Qs.setAttribute("style","width:260px;  height:260px");this.CN.appendChild(this.Qs);this.k(b.E.p,this.AG,this);
this.OZ=f.F("div","lpfoot");this.CN.appendChild(this.OZ);this.HB=[];var d="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",W="</svg>",c=d+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+W,y=d+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+W;
this.a4c=d+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+W;this.akC=d+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+W;
var B=[this.a4c,y,"lrs/folder","lrs/newlayer","lrs/bin",c],r=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var S=0;S<B.length;S++){var x=B[S];if(1<S&&S!=B.length-1)x="<img src=\""+PIMG[B[S]]+"\" class=\"miniscale gsicon\" />";
var Z=new gs(x,!1,r[S]);Z.k("click",this.axz,this);this.OZ.appendChild(Z.n);this.HB.push(Z)}this.xX()};
fn.prototype._=function(){aA.prototype._.call(this);if(this.Qs==null)return;for(var S=0;S<this.HB.length;
S++)this.HB[S]._()};fn.prototype.axz=function(d){var S=this.HB.indexOf(d.currentTarget),W=this.dX,c=this.kO,y=c.HV;
if(S==0){var B,r=c.mZ;if(y.length==0){alert("Create an Action Set first.");return}if(W.length<2){alert("Select a target action first.");
return}if(r==null){B=this.akC;r=this.dX}else{B=this.a4c;r=null}this.HB[0].N2(B);c.mZ=r}else if(S==1)this.atJ();
else if(S==2||S==3){var x={o1:"Action Set "+y.length,nW:[],exp:!0};if(S==2||y.length==0){W=[y.length];
y.push(x)}if(S==3){var Z=y[W[0]].nW;W=[W[0],Z.length];Z.push({o1:"Action "+Z.length,color:0,nW:[],adL:!1,shift:!1,exp:!0,Wr:Z.length})}this.dX=W;
this.xX()}else if(S==4){var i;if(W.length==1)i=y;else if(W.length==2)i=y[W[0]].nW;else i=y[W[0]].nW[W[1]].nW;
var k=W.length-1;i.splice(W[k],1);if(i.length==0)W.pop();else while(W[k]>=i.length)W[k]--;if(W.length==0)W.push(0);
this.xX()}else if(S==5){if(y.length==0){alert("No Actions Present.");return}var H=new bR(b.E.V,!0);H.data={d:b.H.J_,adg:kG.v,Q2:W[0]};
this.T(H)}};fn.prototype.AG=function(d){var W=this.kO.HV,c=d.data.d,y=d.data.zA;if(c=="sel")this.dX=y;
if(c=="fold"){if(y.length==1)W[y[0]].exp=!W[y[0]].exp;else W[y[0]].nW[y[1]].exp=!W[y[0]].nW[y[1]].exp}if(c=="enab"){var B=W[y[0]].nW[y[1]].nW[y[2]];
B.w=!B.w}if(c=="nchange"){if(y.length==1)W[y[0]].o1=d.data.Su;else W[y[0]].nW[y[1]].o1=d.data.Su}this.xX()};
fn.prototype.M7=fn.prototype.Cs=function(){this.Km()};fn.prototype.lz=function(d,W){this.kO=d;if(this.Qs==null)return;
if(W==kG.v||W==kG.yS)this.xX()};fn.prototype.xX=function(){if(this.kO==null)return;f.qf(this.Qs);var d=this.kO.HV;
if(d.length==0)return;var W=JSON.stringify(this.dX);for(var S=0;S<d.length;S++){var c=d[S],y=new fn.Gc([S],W,c.exp,c.o1.split("=").pop());
y.parent=this;this.Qs.appendChild(y.n);if(!c.exp)continue;for(var B=0;B<c.nW.length;B++){var r=c.nW[B],y=new fn.Gc([S,B],W,r.exp,r.o1.split("=").pop());
y.parent=this;this.Qs.appendChild(y.n);if(!r.exp)continue;for(var x=0;x<r.nW.length;x++){var Z=r.nW[x],y=new fn.Gc([S,B,x],W,null,ay.get(hC.an$(Z)),Z.w);
y.parent=this;this.Qs.appendChild(y.n)}}}};fn.prototype.atJ=function(){var d=this.kO.HV,W=this.dX;if(d.length==0){alert("No Actions Present");
return}if(W.length==1){alert("Select an Action first");return}if(this.kO.mZ!=null){alert("You can not apply actions while recording actions");
return}if(W.length==1)W.push(0);var c=d[W[0]],y=c.nW[W[1]],B=new bR(b.E.V,!0);B.data={d:b.H.d2,Wa:[y.o1,c.o1]};
this.T(B)};fn.Gc=function(d,W,c,y,B){d9.call(this);this.zA=d;var r=this.zA.length-1;this.n=f.F("div","layeritem"+(JSON.stringify(d)==W?" selected":""));
this.n4=f.F("div","head");this.n.appendChild(this.n4);this.n4.setAttribute("style","height:24px");this.Xe=f.F("div","headL");
this.n4.appendChild(this.Xe);if(r!=0){var x=f.F("div");x.style.width=r*20+"px";this.Xe.appendChild(x)}if(c!=null){var Z=this.au1=f.F("div",c?"open":"closed");
this.Xe.appendChild(Z)}else{var i=this.a27=f.F("div","cmark");i.setAttribute("style","background-size:12px 12px; opacity:"+(B?1:.3));
this.Xe.appendChild(i)}if(r==0){var k=f.F("div","folder");this.Xe.appendChild(k)}var H=this.Q_=f.F("div","label");
H.textContent=y;this.Xe.appendChild(H);this.n.addEventListener("mouseup",this.np.bind(this),!1)};fn.Gc.prototype=new d9;
fn.Gc.prototype.np=function(d){if(d.detail==1&&d.target.tagName.toLowerCase()!="input"){var W="sel";
if(d.target==this.au1)W="fold";if(d.target==this.a27)W="enab";var c=new bR(b.E.p,!0);c.data={d:W,zA:this.zA};
this.T(c)}else if(this.zA.length<3)var y=new aA.wB(this.Q_,this.LE.bind(this))};fn.Gc.prototype.LE=function(d){var W=new bR(b.E.p,!0);
W.data={d:"nchange",Su:d,zA:this.zA};this.T(W)};function bG(){aA.call(this,[3],!1,"---lrs/adj",aA.HX.awk)}bG.prototype=new aA("");
bG.prototype.Km=function(){if(!f.ni(this.CN)||this.HB)return;this.CN.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.HB=[];var S=0;for(var d in bN.names){var W=new gs("<img src=\""+PIMG["adj/"+d]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,bN.names[d]);
W.k("click",this.e0,this);this.HB.push(W);this.CN.appendChild(W.n);if(S==4||S==10)f.MZ(this.CN);S++}this._()};
bG.prototype.M7=function(){this.Km()};bG.prototype.Cs=function(){this.Km()};bG.prototype._=function(){aA.prototype._.call(this);
if(this.HB==null)return;for(var S=0;S<this.HB.length;S++)this.HB[S]._()};bG.prototype.e0=function(d){var W=this.HB.indexOf(d.target),c=kC.jA()[W],y=new bR(c.K,!0);
y.data=c.C;this.T(y)};function am(){aA.call(this,[12,22],!1,null,aA.HX.T$);this.Qs=f.F("div","padded");
this.kO=null;this.CN.appendChild(this.Qs);this.rr=new ev(null,17.7,10);this.rr.parent=this;this.rr.k(b.E.p,this.Jo,this);
this.Qs.appendChild(this.rr.ga)}am.prototype=new aA("");am.prototype.Jo=function(d){var W=this.rr.h(),c=new bR(b.E.v,!0);
c.data={d:"setstl",b:W.r1};c.f=X.tm;this.T(c);c.data={d:"confirm"};this.T(c)};am.prototype.lz=function(d,W){this.kO=d;
this.xX()};am.prototype.xX=function(){var d=this.kO;if(d==null)return;this.rr.bz([d.C$,d._m]);this.rr.z2()};
am.prototype.M7=function(){this.xX()};am.prototype.Cs=function(){this.xX()};var iF=function(){function d(){aA.call(this,[9,3],!1,"---panels/brush",aA.HX.Bo);
this.jl=null;this.kO=null}d.prototype=new aA("");d.prototype.Km=function(){var B=f.F("div","");this.CN.appendChild(B);
this.cL=f.F("div","bordered cell");this.cL.setAttribute("style","width:10em; height:28.5em;");B.appendChild(this.cL);
this.v$=[];this.GV=null;this._2=[];var r=this.aum.bind(this);this.bb=[new c("basic"),new c("useTipDynamics"),new c("useScatter"),new c("useColorDynamics"),new c("usePaintDynamics")];
for(var S=0;S<this.bb.length;S++){var x=f.F("div","listitem"),Z=this.bb[S],k=null;Z.parent=this;Z.k("brushchange",this.ayu,this);
var i=Z.NH;if(S==0){this.GV=new ed(i);x.appendChild(this.GV.n)}else{k=new ff(i,!1);k.k(b.E.p,this.aBk,this);
x.appendChild(k.n)}this._2.push(k);this.cL.appendChild(x);this.v$.push(x);x.addEventListener("click",r,!1)}this.NO=f.F("div","cell padded");
B.appendChild(this.NO);this.setItem(0);this.YW=f.F("canvas");this.YW.height=10;B.appendChild(this.YW);
this.bN=this.YW.getContext("2d");this.me()};d.prototype.z2=function(B,r){if(this.Kp==B)return;this.Kp=B;
this.fn=r;this.me()};d.prototype.Cs=function(){if(!f.ni(this.CN))return;if(this.cL){this.me();return}this.Km();
this._();this.lz(this.kO,kG.yS)};d.prototype._=function(){aA.prototype._.call(this);if(this.cL==null)return;
this.GV._();for(var S=1;S<this._2.length;S++)this._2[S]._();for(var S=0;S<this.bb.length;S++)this.bb[S]._()};
d.prototype.ayu=function(B){var r=this.bb.indexOf(B.currentTarget),x=JSON.parse(JSON.stringify(this.bb[r].jl)),Z=new bR(b.E.V,!0);
Z.data={d:b.H.e7,au:kG.cE,jl:x};this.T(Z)};d.prototype.aBk=function(B){this.a6a(this._2.indexOf(B.currentTarget),B.currentTarget.vm())};
d.prototype.aum=function(B){var S=this.v$.indexOf(B.currentTarget);if(B.target.tagName.toLowerCase()=="input")return;
if(this._2[S]&&!this._2[S].vm()){this._2[S].JR();this.a6a(S,!0)}this.setItem(S)};d.prototype.a6a=function(B,r){this.bb[B].avl(r)};
d.prototype.setItem=function(B){for(var S=0;S<this.bb.length;S++)this.v$[S].className="listitem";if(this.NO.firstChild)this.NO.removeChild(this.NO.firstChild);
this.v$[B].className="listitem selected";this.NO.appendChild(this.bb[B].n)};d.prototype.lz=function(B,r){this.kO=B;
if(this.cL==null)return;for(var S=0;S<this.bb.length;S++)this.bb[S].lz(B,r);if(r==kG.cE||r==kG.yS){this.jl=B.sa.WU;
this.me()}if(r==kG.kg)this.me()};d.prototype.me=function(){if(this.jl)this.enable();else{this.disable();
return}if(!f.ni(this.CN))return;var B=this.kO;for(var S=0;S<this.bb.length;S++){this.bb[S].c(this.jl);
if(this._2[S])this._2[S].c(this.bb[S].vm())}var r=JSON.parse(JSON.stringify(this.jl));r.Brsh.v.Dmtr.v.val=Math.min(r.Brsh.v.Dmtr.v.val,50);
f.GS(this.YW,this.Kp,80);var x=new a8(0,0,this.YW.width,this.YW.height),Z=this.kO.sa,i=new b8(r,Z?Z.pb:null,Z?Z.An:null,{M4:1},B.R5,B.qX,x,null,0),k=x.i/2,H=x.m-k*2;
i.moveTo(k,k);for(var S=0;S<=H;S+=10)i.lineTo(k+S,k+20*Math.sin(2*Math.PI*S/H));i.finish();var V=this.bN.createImageData(x.m,x.i);
v.qR(i.JN(),i.yo(),V.data,x);this.bN.putImageData(V,0,0)};function W(B){d9.call(this);B=B.split(".")[0];
this.wA=B;var r=this.n=f.F("span"),x=["Off","Fade"];x.push(B=="angleDynamics"?"Direction":"Pen Pressure");
var Z=this.ex=new gd("Control",x);Z.k(b.E.p,this.fF,this);r.appendChild(Z.n);var i=this.a0g=new kk(null,0,100,null,null,null,!0);
i.c(50);i.k(b.E.p,this.fF,this)}W.prototype=new d9;W.prototype.c=function(B){B=B<2?B:2;this.ex.c(B);
this.xX()};W.prototype.h=function(){var B=this.ex.h(),r=this.wA;B=B<=1?B:r=="angleDynamics"?6:2;return B};
W.prototype.fF=function(B){this.xX();B.target=B.currentTarget=this;this.T(B)};W.prototype.xX=function(B){this.a0g.OB(this.ex.h()==1)};
function c(B){d9.call(this);this.n=f.F("div");this.jl=null;var r=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(B);
this.NH=[[15,0],[15,1],[15,2],[15,3],"Transfer"][r];this.La=B;this.Nq={};this.aso=null;var x=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][r];
for(var S=0;S<x.length;S++){var Z=x[S],i;if(Z=="--br"){i=new kL;this.n.appendChild(i.ga.firstChild)}else if(Z=="Brsh.Dmtr")i=new f2([12,14,0],1,1e3," px",0,!0);
else if(Z=="Brsh.Angl")i=new f2([12,15],0,359," \xB0");else if(Z=="Brsh.Rndn")i=new f2([12,16],0,100," %");
else if(Z=="Brsh.Hrdn")i=new f2([12,17],0,100," %");else if(Z=="Brsh.Spcn")i=new f2([12,18],1,300," %");
else if(Z=="szVr.jitter")i=new f2([15,4,0],0,100,"%");else if(Z=="minimumDiameter")i=new f2([15,4,1],0,100,"%");
else if(Z=="angleDynamics.jitter")i=new f2([15,4,2],0,100,"%");else if(Z.endsWith("bVTy"))i=new W(Z);
else if(Z.endsWith("fStp"))i=new kk(null,0,100,null,null,null,!0);else if(Z=="roundnessDynamics.jitter")i=new f2([15,4,3],0,100,"%");
else if(Z=="minimumRoundness")i=new f2([15,4,4],1,100,"%");else if(Z=="scatterDynamics.jitter")i=new f2([15,5,0],0,1e3," %");
else if(Z=="Cnt")i=new f2([15,5,1],1,20);else if(Z=="countDynamics.jitter")i=new f2([15,5,2],0,100," %");
else if(Z=="clVr.jitter")i=new f2([15,6,0],0,100," %");else if(Z=="H")i=new f2([15,6,1],0,100," %");
else if(Z=="Strt")i=new f2([15,6,2],0,100," %");else if(Z=="Brgh")i=new f2([15,6,3],0,100," %");else if(Z=="opVr.jitter")i=new f2("Opacity Jitter",0,100," %");
else if(Z=="prVr.jitter")i=new f2("Flow Jitter",0,100," %");else throw Z;this.Nq[Z]=i;i.parent=this;
i.k(b.E.p,this.fF,this)}}c.prototype=new d9;c.prototype.aiP=function(){this.T(new bR("brushchange"))};
c.prototype.c=function(B){this.jl=JSON.parse(JSON.stringify(B));this.n.className=this.vm()?"":"disabled";
this.me()};c.prototype._=function(){for(var B in this.Nq)this.Nq[B]._()};c.prototype.vm=function(){return!0};
c.prototype.lz=function(B,r){if(r==kG.Bo||r==kG.yS){var x=this.Nq["--br"];if(x)x.bz(B.sa)}};c.prototype.fF=function(B){var r=B.target,x=this.Nq,Z;
for(var i in x)if(x[i]==r)Z=i;if(Z=="--br"){var k=new bR(b.E.V,!0);k.data={d:b.H.e7,au:kG.cE,jl:r.h()};
this.T(k)}else{var H=y(this.jl,Z),V=r.h();if(H){if(Z.endsWith("bVTy")||Z.endsWith("fStp")||Z=="Cnt")H.v=V;
else H.v.val=V;this.aiP()}}};c.prototype.me=function(){var B=this.jl,r=B.Brsh.v.classID,x=this.Nq,Z=r!=this.aso;
this.aso=r;if(Z){f.qf(this.n);for(var i in x){if(r!="computedBrush"&&r!="sampledBrush"&&i=="Brsh.Rndn")continue;
if(r!="computedBrush"&&i=="Brsh.Hrdn")continue;var k=x[i],H=k.n;if(i=="--br"){H=k.Kc.n;H.style.width="auto"}this.n.appendChild(H)}}for(var i in x){if(i=="--br")continue;
var V=y(B,i),g;if(V){if(i.endsWith("bVTy")||i.endsWith("fStp")||i=="Cnt")g=V.v;else g=V.v.val;x[i].c(g);
if(i.endsWith("fStp"))x[i].OB(y(B,i.split(".")[0]+".bVTy").v==1)}}};c.prototype.vm=function(){var B=this.La;
return B=="basic"?!0:this.jl[B].v};c.prototype.avl=function(B){var r=this.La;if(r=="basic")return;this.jl[r].v=B;
bB.cp.axC(this.jl);this.aiP()};function y(B,r){var x=r.split(".");B=B[x[0]];for(var S=1;S<x.length;S++){if(B==null)return B;
B=B.v[x[S]]}return B}return d}();function ex(){aA.call(this,[9,0],!1,"---panels/history",aA.HX._X);this.CN.setAttribute("style","min-width:200px;");
this.Ke=f.F("div","hpbody scrollable");this.Ke.style.height="160px";this.CN.appendChild(this.Ke);this.a3X=-1;
this.XP=[];this.VC="";this.fQ=new dK([{name:"Clear History"}],[{K:b.E.v,f:X._X,C:{d:"h_clear"}}])}ex.prototype=new aA("");
ex.prototype.NI=function(){return this.fQ};ex.prototype.z2=function(d,W){this.Cs()};ex.prototype.M7=function(d){if(d==null){f.qf(this.Ke);
this.VC="";return}f.qf(this.Ke);var W=0;for(var S=0;S<d.history.length;S++)if(S<=d.ST&&!d.history[S].G7)W=S;
for(var S=0;S<d.history.length;S++){var c=d.history[S];if(c.G7)continue;var y=new iW(c,S,W);y.parent=this;
this.Ke.appendChild(y.n);this.XP.push(y)}if(d.ST==d.history.length-1)this.Cs()};ex.prototype.Cs=function(){this.Ke.scrollTop=this.Ke.scrollHeight};
ex.prototype._=function(){aA.prototype._.call(this);for(var S=0;S<this.XP.length;S++)this.XP[S]._()};
function iW(d,S,W){d9.call(this);this.index=S;this.n=f.F("div",S==W?"listitem selected":"listitem");
this.J9=d.name;this._();if(S>W)this.n.style.opacity=.4;this.n.addEventListener("click",this.RQ.bind(this),!1)}iW.prototype=new d9;
iW.prototype._=function(){this.n.textContent=ay.get(this.J9)};iW.prototype.RQ=function(d){if(this.index==this.parent.a3X)return;
this.rV({d:"h_itemchange",index:this.index})};iW.prototype.rV=function(d){var W=new bR(b.E.v,!0);W.data=d;
W.f=X._X;this.T(W)};function hg(){aA.call(this,[9,10],!1,"---panels/histogram",aA.HX.aiX);var d=f.F("div","padded");
this.CN.appendChild(d);this.HA=new bD(256,!0);d.appendChild(this.HA.n);this.q5=null}hg.prototype=new aA("");
hg.prototype.M7=function(d){this.q5=d;this.xX()};hg.prototype.xX=function(){var d=this.q5;if(!f.ni(this.CN))return;
if(d==null||d.g.length==0){this.HA.c(v.kb(v.R(4)));return}var W=d.Li(),c=new a8(0,0,d.m,d.i),y=c.P();
if(d.u){var B=d.u.rect,r=v.R(B.P()*4);v.qR(W,c,r,B);v.sl(d.u.channel,r);W=r;c=B;var x=d.u.channel;y=0;
for(var S=0;S<x.length;S++)y+=x[S];y=Math.round(y/255)}var Z=v.kb(W);Z[0][255]+=3*(y-Z[5]);for(var S=1;
S<4;S++)Z[S][255]+=y-Z[5];this.HA.c(Z,y)};hg.prototype.lz=function(d,W){this.HA.vt(hL.KI[d.jD]["--text-color"])};
hg.prototype._=function(){aA.prototype._.call(this);this.HA._()};hg.prototype.Cs=function(){this.xX()};
function fc(){aA.call(this,[9,8],!1,"---adj/clrL",aA.HX.avy);this.Qs=f.F("div","padded");this.CN.appendChild(this.Qs);
this.Bz=new c0(10);this.Qs.appendChild(this.Bz.n);this.jw=new ad;this.jw.parent=this;this.Qs.appendChild(this.jw.ga);
this.jw.ga.style.marginTop="6px";this.Bz.k(b.E.p,this.aE2,this);this.jw.k(b.E.p,this.aE2,this)}fc.prototype=new aA("");
fc.prototype.aE2=function(d){var W;if(d.target==this.Bz)W=this.Bz.h();else{var c=this.jw.h();W=Math.round(c.Z)<<16|Math.round(c.G)<<8|Math.round(c.J)}var y=new bR(b.E.V,!0);
y.data={d:b.H.e7,au:kG.kg,jK:0,b:W};this.T(y)};fc.HC=function(d,W){var c=W==kG.yS,y=d.JW,B=d.Mg,r=B.strokeStyleContent.v,x=null;
if((W==kG.nL||c)&&y.pF==1){x=v.L.E5(y.ue.Clr.v);x=x.Z<<16|x.G<<8|x.J}if((W==kG.iE||c)&&B.strokeEnabled.v&&r.classID=="solidColorLayer"){x=v.L.E5(r.Clr.v);
x=x.Z<<16|x.G<<8|x.J}if(W==kG.kg||c)x=d.R5;return x};fc.prototype.lz=function(d,W){var c=d.R5,y=W==kG.yS,B=fc.HC(d,W);
if(B!=null){this.Bz.c(B);this.jw.c({Z:B>>>16&255,G:B>>>8&255,J:B>>>0&255,hY:"Color #"+v.Wb(B)})}if(W==kG.E1||y){var r=d.ajU;
this.jw.bz(r)}};function gK(){aA.call(this,[12,72],!1,"---adj/mixr",aA.HX.afM);this.Va=null;this.IR=null;
this.Ke=f.F("div","lpbody scrollable");this.Ke.style.marginTop="4px";this.OZ=f.F("div","lpfoot");this.CN.appendChild(this.Ke);
this.CN.appendChild(this.OZ);this.j5=[];this.k("click",this.Nv,this);this.Mz=[];gK._Z([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Mz,this.OZ,this.B7.bind(this),this.IJ.bind(this));
this.fQ=new dK([{name:"Merge Channels",xJ:!0}],[{K:b.E.V,C:{d:b.H.vB,vD:"mergechannels"}}])}gK.prototype=new aA("");
gK.prototype.NI=function(){return this.fQ};gK._Z=function(d,W,c,y,B){for(var S=0;S<d.length;S++){var r=new gs("W",!1,d[S]);
W.push(r);f._0(r.n,y);c.appendChild(r.n);var x=r.n;x.addEventListener("drop",B,!1);x.addEventListener("dragover",function(Z){Z.preventDefault()},!1);
x.addEventListener("dragenter",f.vT,!1)}};gK.XK=function(d,W){for(var S=0;S<d.length;S++)if(d[S].n==W.currentTarget)return S};
gK.prototype.B7=function(d){var W=gK.XK(this.Mz,d);if(W==0)this.T(cu.kY(!0,null,d));else{W--;var c=new bR(b.E.HQ,!0),y={classID:"null"};
if(W==0)y.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(W==1)y.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else y.null=hC.cV("Chnl",!0);c.data={cx:["duplicate","make","delete"][W],i9:y};this.T(c)}};gK.prototype.IJ=function(d){var W=gK.XK(this.Mz,d);
if(W==2){var c=new bR(b.E.HQ,!0),y={classID:"null"};y.null=hC.cV("Chnl",!0);c.data={cx:"duplicate",i9:y};
this.T(c)}else this.B7(d)};gK.prototype._o=function(S){var d=this.j5,W=d[S];if(W==null){var c=f.F("canvas");
W=c.getContext("2d");d.push(W)}return W};gK.prototype.Nv=function(d){var W=this.Va.slice(0),c=d.data.Wr,y=W[0]+W[1]+W[2],B=this.IR;
if(-5<c&&c<0){var r=-c-1;if(d.data.b9){if(r==0)W=y==3?[0,0,0]:[1,1,1];else{if(W[r-1]==0)W[r-1]=1;else if(!0)W[r-1]=0}}else{if(r==0)W=[1,1,1];
else{W=[0,0,0];W[r-1]=1}for(var S=0;S<B.iv.length;S++)B.iv[S].xV=!1;B.tv=[]}var x=new bR(b.E.v,!0);x.f=X.XU;
x.data={d:"setcls",M:W};this.T(x);return}if(-1<c){var Z=B.B[c],i=Z.MM==1?Z.Q7():Z.WI(B).t;if(d.data.b9)i.xV=!i.xV;
else{for(var S=0;S<B.iv.length;S++)B.iv[S].xV=!1;B.tv=[]}}else{var H=-c-5,i=B.iv[H];if(d.data.b9)i.xV=!i.xV;
else{for(var S=0;S<B.iv.length;S++)B.iv[S].xV=!1;i.xV=!0;B.tv=[H];if(y!=0){var x=new bR(b.E.v,!0);x.f=X.XU;
x.data={d:"setcls",M:[0,0,0]};this.T(x)}}}B.ps=B.Pm=!0};gK.prototype.Cs=function(){this.LR()};gK.prototype.M7=function(d){this.IR=d;
this.LR()};gK.prototype.LR=function(){var d=this.IR,W=this.Ke,N=4;f.qf(W);if(d==null||!f.ni(W))return;
var c=d.m,y=d.i,B=new a8(0,0,c,y),r=this.Va=d.Q.M.slice(0),x=r[0]+r[1]+r[2],Z=Math.round(34*f.QX()),i=Z;
if(c>y)i=Math.round(i*y/c);else Z=Math.round(Z*c/y);var k=["RGB"].concat(bN.S7);for(var S=0;S<4;S++){var H=this._o(S);
v.Ox.Ug(H,Z,i,B,d.Li(),B,!1,S==0?null:S-1);var V=S==0?x==3:r[S-1]==1,g=new cu(-1-S,!0,!0,H,k[S],V,V);
g.parent=this;W.appendChild(g.n);f.$E(H.canvas)}for(var S=0;S<d.g.length;S++){var C=d.B[d.g[S]],w=C.MM;
if(w!=1&&w!=3)continue;var Y=w==1?C.Q7():C.WI(d).t,H=this._o(N+S);N++;v.Ox.RN(H,Z,i,B,Y);var g=new cu(d.g[S],!0,!0,H,C.getName()+(w==1?"":" Filter")+" Mask",!0,Y.xV);
g.parent=this;W.appendChild(g.n);f.$E(H.canvas)}for(var S=0;S<d.iv.length;S++){var Y=d.iv[S],H=this._o(N+S);
v.Ox.RN(H,Z,i,B,Y);var g=new cu(-5-S,!0,Y.name=="Quick Mask",H,Y.name,d.tv.indexOf(S)!=-1,Y.xV,X.jq,{d:e8.iq,jK:"rnm",Wr:S});
g.parent=this;W.appendChild(g.n);f.$E(H.canvas)}};gK.prototype.z2=function(d,W){this.Ke.style.height=W-30-4+"px";
this.Ke.style.width=d+"px"};gK.prototype._=function(){aA.prototype._.call(this);this.LR();gK.K7(this.Mz,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
gK.K7=function(d,W,c){var W=ij.B6(W,null,"miniscale");for(var S=0;S<d.length;S++)d[S].N2(W[S],c?c[S]:null)};
function cu(d,W,c,y,B,r,x,Z,i){d9.call(this);this.n=f.F("div");this.aoU=d;this.aq4=W;this.bN=y;this.aoi=Z;
this.adq=i;this.n4=f.F("div",r?"head selected":"head");this.n4.setAttribute("style","height: "+40+"px");
var k=f.F("div","headL"),H=f.F("div","headR"),V=15;this.n.appendChild(this.n4);this.n4.appendChild(k);
this.n4.appendChild(H);this.CZ=f.F("div","eye");if(1<f.QX()&&f.QX()<1.5)V=V/f.QX();this.CZ.setAttribute("style","background-size: "+V+"px "+V+"px;");
this.CZ.style.opacity=x?1:.2;if(W)k.appendChild(this.CZ);this.j_=f.F("div","thumb");if(y)this.j_.appendChild(y.canvas);
k.appendChild(this.j_);this.C3=f.F("div","label");if(c)this.C3.style.fontStyle="italic";this.C3.textContent=ay.get(B);
k.appendChild(this.C3);var g=this.n4;g.setAttribute("draggable","true");g.addEventListener("dragstart",function(N){N.stopPropagation();
N.dataTransfer.setData("Text","hello")},!1);g.addEventListener("drop",f.vT,!1);f._0(this.n4,this.aao.bind(this));
if(!c)this.n4.addEventListener("mouseup",this.axZ.bind(this),!1)}cu.prototype=new d9;cu.prototype.LE=function(d){var W=new bR(b.E.v,!0);
W.f=this.aoi;W.data=this.adq;W.data.name=d;this.T(W)};cu.prototype.aao=function(d){var W=d.ctrlKey||d.metaKey,c=this.aoU;
if(W&&d.target==this.bN.canvas){this.T(cu.kY(this.aq4,c,d))}else{var y=new bR("click",!0);y.data={Wr:c,b9:d.target==this.CZ,fy:W};
this.T(y)}};cu.prototype.axZ=function(d){if(d.detail==2&&d.target==this.C3){var W=new aA.wB(this.C3,this.LE.bind(this))}};
cu.kY=function(d,W,c){var y=0;if(c.shiftKey)y++;if(c.altKey)y+=2;var B=new bR(b.E.v,!0);B.f=X.Ai;if(d){if(-5<W&&W<0){B=new bR(b.E.HQ,!0);
B.data=X.XC.eL(y,["RGB","Rd","Grn","Bl"][-1-W])}else B.data={d:"fromchannel",Wa:[W,0,y]}}else B.data={d:"frompath",Wa:[W,0,y]};
return B};function iI(){aA.call(this,[8,9],!1,"---panels/paths",aA.HX.uY);this.Va=null;this.IR=null;
this.Ke=f.F("div","lpbody scrollable");this.Ke.style.marginTop="4px";this.OZ=f.F("div","lpfoot");this.CN.appendChild(this.Ke);
this.CN.appendChild(this.OZ);this.CN.addEventListener("click",this.a1H.bind(this),!1);this.j5=[];this.k("click",this.Nv,this);
this.Mz=[];gK._Z(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.Mz,this.OZ,this.B7.bind(this),this.IJ.bind(this))}iI.prototype=new aA("");
iI.prototype.B7=function(d,W){var c=gK.XK(this.Mz,d),y;if(c<2){if(c==1&&d.altKey){y=new bR(b.E.V,!0);
y.data={d:b.H.vB,vD:"strokepath"}}else{y=new bR(b.E.HQ,!0);y.data=X.C_.fX(c==0?null:"PbTl")}}else if(c==2)y=cu.kY(!1,null,d);
else if(c==3){y=new bR(b.E.HQ,!0);y.data={cx:"make",i9:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(c>3){var y=new bR(b.E.v,!0);
y.f=X.h9;y.data={d:"pathedit",jK:["new","del"][c-4],arz:W}}this.T(y)};iI.prototype.IJ=function(d){this.B7(d,!0)};
iI.prototype._o=function(S){var d=this.j5,W=d[S];if(W==null){var c=f.F("canvas");W=c.getContext("2d");
d.push(W)}return W};iI.prototype.a1H=function(d){if(d.target==this.Ke){var W=this.IR;W.DU=[];W.jh=[];
W.Pm=!0;W.ps=!0}};iI.prototype.Nv=function(d){var W=d.data.Wr,c=this.IR,y=d.data.fy,B=W,r=c.jh,x=c.DU;
if(W<0){B=-1-W;r=c.DU;x=c.jh}if(y){var Z=r.indexOf(B);if(Z==-1)r.push(B);else r.splice(Z,1)}else{while(r.length!=0)r.pop();
while(x.length!=0)x.pop();r.push(B)}c.Pm=!0;c.ps=!0};iI.prototype.Cs=function(){this.LR()};iI.prototype.M7=function(d){this.IR=d;
this.LR()};iI.prototype.LR=function(){var d=this.IR,W=this.Ke;f.qf(W);if(d==null||!f.ni(W))return;var c=d.m,y=d.i,B=new a8(0,0,c,y),r=this.Va=d.Q.M.slice(0),x=r[0]+r[1]+r[2],Z=Math.round(34*f.QX()),i=Z;
if(c>y)i=Math.round(i*y/c);else Z=Math.round(Z*c/y);var k=d.Tz(),H=k[0];for(var S=0;S<H.length;S++){var V=H[S],g=this._o(S);
v.Ox.a60(g,Z,i,B,V.add.vmsk);var N=new cu(V.Wr,!1,V.Wr>=0,g,V.name,k[1].indexOf(S)!=-1,!1,X.h9,{d:"pathedit",jK:"rnm",Wr:V.Wr});
N.parent=this;W.appendChild(N.n);f.$E(g.canvas)}};iI.prototype.z2=function(d,W){this.Ke.style.height=W-30-4+"px";
this.Ke.style.width=d+"px"};iI.prototype._=function(){aA.prototype._.call(this);this.LR();gK.K7(this.Mz,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function io(d){aA.call(this,[9,d?4:5],!1,"---panels/"+(d?"character":"paragraph"),d?aA.HX.atq:aA.HX.axH);
this.CN.setAttribute("style","min-width:240px;");this.Ik=d;this.Av=null;this.kO=null}io.prototype=new aA("");
io.prototype.Km=function(){this.Av=new h0;var d=this.Av,W=this.CN;d.parent=this;if(this.Ik){var c=f.F("div","marged");
W.appendChild(c);c.appendChild(d.Hk.n);W.appendChild(f.F("hr"));var y=f.F("div","marged");W.appendChild(y);
y.appendChild(d.y5.n);y.appendChild(d.KE.n);var B=f.F("div","marged");W.appendChild(B);B.appendChild(d.bZ.n);
B.appendChild(d.GE.n);W.appendChild(f.F("hr"));var r=f.F("div","marged");W.appendChild(r);r.appendChild(d.ey.n);
r.appendChild(d.Je.n);var x=f.F("div","marged");W.appendChild(x);x.appendChild(d.$a.n);x.appendChild(d.lM.n);
x.appendChild(d.xr.n);W.appendChild(f.F("hr"));var Z=f.F("div","marged");W.appendChild(Z);Z.appendChild(d.pi.n);
Z.appendChild(d.Kd.n);Z.appendChild(d.C1.n);Z.appendChild(d.oU.n);Z.appendChild(d.qJ.n);Z.appendChild(d.QT.n);
Z.appendChild(d.ov.n);Z.appendChild(d.f7.n)}else{var c=f.F("div","marged");W.appendChild(c);c.appendChild(d.y4.n);
c.appendChild(d.Um.n);c.appendChild(d.x_.n);c.appendChild(d.aun.n);c.appendChild(d.ag2.n);c.appendChild(d.al7.n);
c.appendChild(d.am3.n);W.appendChild(f.F("hr"));var y=f.F("div","marged");W.appendChild(y);y.appendChild(d.f0.n);
y.appendChild(d.JM.n);y.appendChild(d.PT.n);W.appendChild(f.F("hr"));var B=f.F("div","marged");W.appendChild(B);
B.appendChild(d.DL.n);B.appendChild(d.q0.n);B.appendChild(d.zV.n);B.appendChild(d.gX.n)}};io.prototype.Cs=function(){if(!f.ni(this.CN))return;
if(this.Av==null){this.Km();var d=this.kO;if(d)this.Av.c(d.WK,d.Sm,d.CA);this.Av._()}};io.prototype._=function(){aA.prototype._.call(this);
if(this.Av)this.Av._()};io.prototype.lz=function(d,W){this.kO=d;if(W!=kG.yS&&W!=kG.xM&&W!=kG.hF&&W!=kG.P7)return;
if(this.Av)this.Av.c(d.WK,d.Sm,d.CA)};function f6(d){aA.call(this,d?"Character Styles":"Paragraph Styles",!1,null,d?aA.HX.ahb:aA.HX.a48);
this.CN.setAttribute("style","min-width:240px;");var W=this.uM=f.F("div","scrollable");this.CN.appendChild(W);
W.setAttribute("style","max-height:400px;");this.Ow=null;this.a1r=null;this.Dd=null;this.Ik=d?0:1;this.q5=null;
this.kO=null;this.ayT=f6.prototype.hr.bind(this)}f6.prototype=new aA("");f6.prototype.M7=function(d,W,c){this.q5=d;
this.kO=c;this.LR()};f6.prototype.LR=function(){var d=this.uM,I=null;f.qf(d);if(!f.ni(this.CN))return;
var W=this.q5,c=this.kO;if(W==null||c==null)return;var y=c.WK,B=this.Ow=[],r={},x=this.a1r=[],Z=this.Dd=[],i={},k=this.Ik,H=k==0?"Style":"Paragraph";
for(var S=0;S<W.B.length;S++){var V=W.B[S].add.TySh;if(V==null)continue;var g=V.p$,N=V.e.dV(),C=g.ResourceDict.FontSet,w=g.EngineDict[H+"Run"],Y=w.RunArray;
for(var U=0;U<Y.length;U++){var e=f6.apS(Y[U][H+"Sheet"][k==0?"StyleSheetData":"Properties"],k,C,x,i,N),O=JSON.stringify(e);
if(r[O]==null){r[O]=!0;B.push(e)}}}var l=k==0?function(kF,P){return P.FontSize-kF.FontSize}:function(kF,P){return kF.Justify-P.Justify};
B.sort(l);if(k==0){var s=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],z=s.length,R=new Array(z),t=1e9,a=0,n=0;
R.fill(1e9);for(var S=0;S<B.length;S++){var J=B[S],C=J.FontSize;t=Math.min(t,C);a=Math.max(a,C);var F=J.FillColor.Values;
for(var U=0;U<z;U++){var h=s[U],m=F[1]-h[1],D=F[2]-h[2],_=F[3]-h[3];R[U]=Math.min(R[U],m*m+D*D+_*_)}}for(var U=0;
U<z;U++)if(R[U]>n){n=R[U];I=s[U]}}var j=f6.apS(k==0?y.Cr:y.a0,k,y.Xt,x,i,1),T=JSON.stringify(j);for(var S=0;
S<B.length;S++){var L=f.F("div");d.appendChild(L);Z.push(L);L.addEventListener("click",this.ayT,!1);
var J=B[S],p=JSON.stringify(J)==T;if(k==0){var E=x[J.Font].Name,G=E.toLowerCase(),A=G.indexOf("bold")!=-1||G.indexOf("-black")!=-1,u=G.indexOf("italic")!=-1||G.indexOf("oblique")!=-1||G.endsWith("-it"),q=G.indexOf("light")!=-1,C=J.FontSize,F=J.FillColor.Values,o=I;
if(p){o=o.slice(0);for(var U=1;U<4;U++)o[U]*=.8}var M=a==t?.5:(C-t)/(a-t),y=10+16*M,$="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+y+"px; color:"+CSS.Yb({Z:F[1]*255,G:F[2]*255,J:F[3]*255})+"; border-bottom:1px solid grey; line-height:"+38+"px; background-color:"+CSS.Yb({Z:o[1]*255,G:o[2]*255,J:o[3]*255})+";";
if(A)$+=" font-weight:bold;";if(u)$+=" font-style:italic;";if(q)$+=" font-weight:lighter;";L.setAttribute("style",$);
var Q=f.F("span");L.appendChild(Q);Q.setAttribute("style","display:inline-block;  width:"+(a>99?50:40)+"px;  text-align:right;  margin-right:5px;");
Q.textContent=Math.round(C);Q=f.F("span");L.appendChild(Q);Q.setAttribute("style","display:inline-block;  width:130px; ");
Q.textContent=E}}};f6.prototype.hr=function(d){var W=JSON.parse(JSON.stringify(this.kO.WK)),S=this.Dd.indexOf(d.currentTarget),c=this.Ow[S];
for(var y in c)if(y!="Font")W.Cr[y]=c[y];it.nn(W,this.a1r[c.Font].Name);console.log(W);var B=new bR(b.E.V,!0);
B.data={d:b.H.e7,au:kG.xM,WK:W};this.T(B);var B=new bR(b.E.v,!0);B.f=X.bU;B.data={d:"updateStyles"};
this.T(B)};f6.apS=function(d,W,c,y,B,r){var x=W==0?["Font","FontSize","FillColor"]:[],Z={};for(var i=0;
i<x.length;i++)Z[x[i]]=d[x[i]];if(W==0){if(Z.Font!=null){var k=c[Z.Font].Name;if(B[k]==null){B[k]=y.length;
y.push(c[Z.Font])}Z.Font=B[k]}Z.FontSize=Z.FontSize*r}return Z};f6.prototype.Cs=function(){if(!f.ni(this.CN))return};
f6.prototype._=function(){aA.prototype._.call(this)};f6.prototype.lz=function(d,W){this.kO=d;this.LR()};
function b6(){aA.call(this,[9,13],!1,"---panels/glyphs",aA.HX.a88);this.kO=null}b6.prototype=new aA("");
b6.prototype.Km=function(){this.Av=new h0;this.Av.parent=this;this.agp=null;this.apE=null;this.ok=null;
this.a4p=null;this.tw=Math.round(290*f.QX());this.fk=45;this.a1_=4;this.ab8=this.xX.bind(this);this.awN=0;
this.oK=new gd(null,["Hi","Hello"]);this.oK.k(b.E.p,this.xX,this);var d=this.h4=new gs("-",null,null,!0);
d.k("click",this.aq8,this);var W=this.a2O=new gs("+",null,null,!0);W.k("click",this.aq8,this);this.Kc=new fZ(!1);
this.Kc.k(b.E.p,this.A8,this);this.Kc.n.style.height=250+"px";var c=this.PV=f.F("div","form padded");
this.CN.appendChild(c);c.appendChild(this.Av.Hk.n);f.MZ(c);c.appendChild(this.oK.n);c.appendChild(d.n);
c.appendChild(W.n);this.CN.appendChild(this.Kc.n)};b6.prototype.z2=function(d,W){if(this.Kp==d||this.Av==null)return;
this.Kp=d;this.tw=Math.floor((d-13)*f.QX());this.PV.setAttribute("style","width:"+this.tw/f.QX()+"px;");
this.Kc.n.style.height=W-73+"px";this.xX()};b6.prototype.A8=function(d){var W=this.apK(),c=Math.round(this.tw/W);
W/=f.QX();var y=this.Kc.h()[0]*c*this.a1_,B=this.Kc.arS();y+=Math.floor(B.y/W)*c;y+=Math.floor(B.x/W);
var r=this.ok[this.oK.h()];if(y>=r.length)return;var x=r[y],Z=this.a4p[x],i=new bR(b.E.v,!0);i.f=X.bU;
if(Z.kE.length==0)i.data={d:"insertGlyph",b:y+1};else i.data={d:"insertText",b:String.fromCodePoint(Z.kE[0])};
this.T(i)};b6.prototype.aq8=function(d){var W=1.2;if(d.target==this.h4){if(this.fk>20)this.fk/=W}else{if(this.fk<100)this.fk*=W}this.xX()};
b6.prototype.Cs=function(){this.lz(this.kO)};b6.prototype.lz=function(d,W){this.kO=d;if(!f.ni(this.CN))return;
if(this.Av==null)this.Km();this.Av.c(d.WK,d.Sm,d.CA);var c=d.WK,y=c.Cr.Font,i=0;if(y==null)return;var B=c.Xt[y].Name;
if(this.agp==B)return;var y=d.Sm.FP(B);if(y==null)return;var r=y.maxp.numGlyphs,x=this.a4p=new Array(r);
for(var S=0;S<r;S++)x[S]={kE:[]};var Z=Date.now(),k=new Uint8Array(1048575);for(var S=0;S<1048575;S++){var H=Typr.U.codeToGlyph(y,S);
if(H!=0&&H<r){k[S]=1;if(x[H].kE.length==0)i++;x[H].kE.push(S)}}var V=b6.L1,g=[];for(var S=0;S<V.length;
S++)g.push([]);for(var H=1;H<r;H++){g[0].push(H);var N=x[H].kE[0];if(N==null){continue}for(var C=1;C<V.length;
C++){var w=V[C].dm;for(var S=0;S<w.length;S+=2)if(w[S]<=N&&N<=w[S+1]){g[C].push(H);break}}}this.ok=g;
var Y=[];for(var S=0;S<V.length;S++)Y.push(V[S].hH+" ("+g[S].length+")");var U=this.oK.h();this.oK.oe(Y);
this.oK.c(U);this.agp=B;this.apE=y;this.xX()};b6.prototype.apK=function(d){var W=Math.floor(this.tw/this.fk);
return Math.floor(this.tw/W)};b6.prototype.xX=function(d){if(!f.ni(this.CN)||this.ok==null)return;var W=this.ok[this.oK.h()],c=W.length,y=this.apE,B=Typr.U,r=this.apK(),x=r,Z=x*.8,i=x*.8/y.head.unitsPerEm,k=[],H=Math.floor(this.tw/r),V=Math.ceil(c/H),g=this.a1_,N=Date.now();
for(var C=0;C<V;C+=g){var w=f.F("canvas"),Y=w.getContext("2d");w.width=r*H;w.height=x*g;Y.fillStyle="white";
Y.fillRect(0,0,H*r,x*g);for(var U=0;U<g;U++){for(var e=0;e<H;e++){var S=W[(C+U)*H+e];if(S==null)break;
var O=B.glyphToPath(y,S),l=v.A.c7(O.crds);Y.fillStyle="#252525";if(l.Bb()){var I=y.hmtx,s=[],J=170;for(var z in I)s.push(z);
var R=I[s[0]][S],t=I[s[1]][S],a=Math.max(R,t);O={cmds:"M L M L M L".split(" "),crds:[0,0,a,0,0,-J,0,J,a,-J,a,J]};
l.m=a;l.x=0;Y.strokeStyle="rgba(0,255,0,1)"}Y.beginPath();var F=e*r+(r-l.m*i)*.5-l.x*i,h=U*x+Z;Y.translate(F,h);
Y.scale(i,-i);B.pathToContext(O,Y);Y.scale(1/i,-1/i);Y.translate(-F,-h);l.Bb()?Y.stroke():Y.fill()}}Y.beginPath();
for(var e=0;e<H;e++){var m=e*r+r+.5;Y.moveTo(m,0);Y.lineTo(m,x*g)}for(var U=0;U<g;U++){var D=U*x+x+.5;
Y.moveTo(0,D);Y.lineTo(H*r,D)}Y.strokeStyle="rgba(0,0,0,0.3)";Y.stroke();k.push(w)}this.Kc.KO(k,null,r*H,x*g)};
b6.L1=[{hH:"All Glyphs"},{hH:"Basic Latin, Latin 1",dm:[0,127,128,143]},{hH:"Latin Extended-A",dm:[256,383]},{hH:"Latin Extended-B",dm:[384,591]},{hH:"Punctuations",dm:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{hH:"Greek",dm:[880,1023]},{hH:"Cyrillic",dm:[1024,1279]},{hH:"Hebrew",dm:[1424,1535]},{hH:"Arabic",dm:[1536,1791]},{hH:"Emoji",dm:[9728,10095,127744,129535]}];
function bo(){aA.call(this,[13,0],!1,null,aA.HX.kg);this.rd=0;this.am6=0;this.kO=null}bo.prototype=new aA("");
bo.prototype.Km=function(){if(!f.ni(this.CN)||this.iw)return;var d=f.F("div","flexrow padded");this.CN.appendChild(d);
var W=f.F("div");d.appendChild(W);this.iw=[];for(var S=0;S<2;S++){var c=new b2;this.iw.push(c);c.k("click",this.a4D,this);
W.appendChild(c.n)}this.TM=new fm(192);console.log("hsb picker");this.TM.k(b.E.p,this.HT,this);this.bJ=new hc;
this.bJ.parent=this;d.appendChild(this.TM.n);this.lz(this.kO,kG.yS)};bo.prototype.a4D=function(d){var W=d.currentTarget,c=this.iw.indexOf(W);
if(c==this.rd){this.bJ.r2(c)}else{this.rd=c;this.xX()}};bo.prototype.HT=function(d){var W=this.TM.h();
this.TM.c(W);var c=Math.round(W.Z*255)<<16|Math.round(W.G*255)<<8|Math.round(W.J*255),y=new bR(b.E.V,!0);
y.data={d:b.H.e7,au:kG.kg,jK:this.rd,b:c};this.T(y);this.am6=Date.now()};bo.prototype.xX=function(){if(this.bJ==null)return;
var d=this.kO,W=this.rd,c=[d.R5,d.qX];for(var S=0;S<2;S++){var y=this.iw[S],B=y.n.style;y.vt(c[S]);if(S==W)B.filter="drop-shadow(0 0 1px #000000)"}var r=c[W];
if(Date.now()-this.am6>100)this.TM.c({Z:(r>>>16)/255,G:(r>>>8&255)/255,J:(r&255)/255})};bo.prototype.lz=function(d,W){this.kO=d;
if(this.bJ==null)return;if(W==kG.yS||W==kG.kg){this.bJ.a6A(d.R5,d.qX);this.xX()}};bo.prototype.M7=function(){this.Km()};
bo.prototype.Cs=function(){this.Km();this.xX()};function iP(){aA.call(this,"CSS",!1,"---panels/css",aA.HX.CSS);
this.q5=null;var d=f.F("div","padded");this.CN.appendChild(d);this.Xu=f.F("textarea");f.O6(this.Xu);
d.appendChild(this.Xu)}iP.prototype=new aA("");iP.prototype.z2=function(d,W){if(this.Kp==d)return;this.Kp=d;
this.Xu.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(d-10)+"px; height:"+(W-10)+"px")};
iP.prototype.M7=function(d){this.q5=d;this.xX()};iP.prototype.lz=function(d,W){if(W==kG.hF)this.xX()};
iP.prototype.xX=function(){var d=this.q5;if(d==null||d.g.length==0)return;if(!f.ni(this.CN))return;var W=d.B[d.g[0]],c=CSS.ala(W,d);
if(c.length!=0)this.Xu.value=c.join(";\n")+";";else this.Xu.value=""};iP.prototype.Cs=function(){this.xX()};
function dj(){aA.call(this,"Text to Image",!1,null,aA.HX.a0X);this.q5=null;var d=this.ae1=f.F("div","form padded labfxd");
this.CN.appendChild(d);this.afB=["512x512","1024x1024"];this.E8=0;this.mx={};this.Qp=[];this.I_=[];this.Xd=null;
var W=["API Key","Generate"],c=this.Dd=[[new ed("Stable Diffusion"),new ij(null,["Our key","Your own key"]),new eO],[new eO("Prompt",null,null,4),new ff("Inpaint the selection"),new gs([12,49],!0,null,!0)]];
c[1][0].c("goat riding a bike");for(var S=0;S<2;S++){var y=new gs(W[S]);this.Qp.push(y);d.appendChild(y.n);
y.k("click",this.aBc,this);var B=f.F("div");this.I_.push(B);var r=c[S];for(var x=0;x<r.length;x++){r[x].parent=this;
B.appendChild(r[x].n);if(S==0)r[x].k(b.E.p,this.arj,this);if(S==1&&x==2)r[x].k("click",this.azl,this)}}f.WH(d);
this.iy=f.F("div");d.appendChild(this.iy);this.HA=f.F("div","scrollable");this.I_[1].appendChild(this.HA);
var Z=window.locStor.getItem("dezgo_api_key");if(Z){Z=Z.split(",");c[0][1].c(parseInt(Z[0]));c[0][2].c(Z[1])}else c[0][2].c("your_api_key");
this.arj();this.aBc(null,1);dj.aiu=dj.prototype.aAH.bind(this)}dj.prototype=new aA("");dj.prototype.azl=function(){var d=this.Dd,W=d[0],c=d[1],y=W[1].h()==0,B=W[2].h().trim(),r=c[0].h().trim(),x=c[1].h(),Z=dj.ax8(y,B,r,x?this.q5:null);
if(Z==1)f.CH(this.CN,"disabled")};dj.aiu=null;dj.Bz=0;dj.a8j=null;dj.ck=!1;dj.Cv=function(d){if(!jj.Xf()){var W=Math.round((Date.now()-dj.Bz)/1e3),c=20;
if(W<c){window.confirm("Wait "+(c-W)+" seconds or go Premium for the unlimited access ($5 a month, press \"Account\" at the top).");
return!1}}if(d&&dj.uL(d)==null){alert("Your area is too big, we support only smaller areas.");return!1}return!0};
dj.uL=function(d){var W=d.B[d.g[0]].rect,c=d.u.rect.nK(W),r=7;if(!dj.ck&&c.P()>1024*1024)return null;
var y=c.P()>512*512,B=512*512;if(y){B=1024*1024;r=15}while(!0){var x=c.clone();x.Lx(1,1);x=x.nK(W);if(x.P()>c.P()&&x.P()<=B&&(!dj.ck||Math.max(x.m,x.i)<=1080))c=x;
else break}var Z=c.m&r;c.m-=Z;c.x+=Z>>>1;var i=c.i&r;c.i-=i;c.y+=i>>>1;return c};dj.ax8=function(d,W,c,y,B,r){if(!navigator.onLine){alert("Get online to use this feature.");
return}if(d&&!dj.Cv())return;var x=dj.ck,Z=y?dj.uL(y).P()>512*512:!0,i,k,H="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@59)-:68@@CUVOXZN[ch\\goxf</<5*.}\"/+-558JKDMOCxI}O('+lw$1*s#&%+TLO%73Z48P@KlETUyo|uk_ut5ovmvw7D=(05)4<E=EA^kdOWUcQ^e\\ef&3,zq'\"x&-$-.MZS-d~C[KVv8Ulw%}rcrxws$6C<\"117:,a@5D=QTF[lK";
if(x)Z=!1;H=JSON.parse(dQ.Fu(H));var V=dQ.Fu("UYqalMih`cpkf~knry{,$2(:3.A48@BEXG^QPdeicnahzzqu'(\" %5&(.5G4KP>GV[[MOUkm]acll|"),g={};
g[H[11]]=d?V:W;var N={};N[H[0]]=c;N[H[1]]=Z?2:1;N[H[2]]=30;N[H[3]]=y?H[4]:H[5];N[H[12]]=H[13];if(r)for(var C in r)N[C]=r[C];
var w=H[6]+(y==null?H[7]:H[8]);if(x){w="https://stablediffusionapi.com/api/v1/enterprise/inpaint"}var Y=new XMLHttpRequest;
Y.open("POST",w,!0);if(!x)for(var U in g)Y.setRequestHeader(U,g[U]);if(B==null)B=dj.aiu;Y.onload=B;Y.responseType="arraybuffer";
if(y==null){Y.setRequestHeader("content-type","application/x-www-form-urlencoded");var e=[];for(var C in N)e.push(encodeURIComponent(C)+"="+encodeURIComponent(N[C]));
Y.send(e.join("&"));i=k=512}else{var O=dj.uL(y),l=y.B[y.g[0]],I=y.u,s=v.R(O.P()*4);v.qR(l.buffer,l.rect,s,O);
var z=v.R(O.P());v.ZW(I.channel,I.rect,z,O);if(Z){console.log("downscaling");var R=v.hG(s,O);s=R.Gq;
var t=v.YZ(z,O);z=t.Gq;O=t.rect}var a=UPNG.encode([s.buffer],O.m,O.i);v.round(z);var J=v.R(O.P()*4);
J.fill(255);v.ta(z,J);var F=UPNG.encode([J.buffer],O.m,O.i,null,null,null,!0);if(x){console.log(O);var N={key:"5x5hwy546et0pg",model_id:"realistic_vision_inpainting",prompt:c,negative_prompt:"((out of frame)), ((extra fingers)), mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), (((tiling))), ((naked)), ((tile)), ((fleshpile)), ((ugly)), (((abstract))), blurry, ((bad anatomy)), ((bad proportions)), ((extra limbs)), cloned face, (((skinny))), glitchy, ((extra breasts)), ((double torso)), ((extra arms)), ((extra hands)), ((mangled fingers)), ((missing breasts)), (missing lips), ((ugly face)), ((fat)), ((extra legs))",base64:"yes",init_image:fd.Ux(a),mask_image:fd.Ux(F),samples:"1",width:O.m,height:O.i,num_inference_steps:"50",scheduler:"EulerAncestralDiscreteScheduler",enhance_prompt:"no",vae:"sd-ft-mse",guidance_scale:9,seed:null,webhook:null,track_id:null,tomesd:"yes",use_karras_sigmas:"yes"};
if(Z)N.upscale="2x";Y.setRequestHeader("Content-Type","application/json");Y.send(JSON.stringify(N))}else{var h=new FormData;
h.append(H[9],new Blob([a],{type:"image/png"}));h.append(H[10],new Blob([F],{type:"image/png"}));for(var C in N)h.append(C,N[C]);
Y.send(h)}i=O.m;k=O.i}dj.a8j=[i,k,Z,d];return 1};dj.nz=function(d){dj.Bz=Date.now();var W=this.a8j,c=W[0],y=W[1],B=W[2],r=W[3],Z=30;
if(!r)return;var x=jj.Xf()?"Premium":"Free",i=Math.max(c*y,512*512),k=(i*6849e-9-1.133)*Math.max(Z,10);
if(B==2)k+=i*49278e-9;for(var S=0;S<k;S++)jj.event("dez"+"go_De"+"zgo "+x+(d?" "+d:""))};dj.prototype.aAH=function(d){var W=this.Dd;
f.V6(this.CN,"disabled");var c={created:Math.round(Date.now()/1e3),data:[{b64_json:fd.Ux(d.target.response)}]},y=this.mx,B=W[1][0].h().trim();
if(y[B]==null)y[B]=[];y[B].push(c);dj.nz();this.xX()};dj.prototype.arj=function(d){var W=this.Dd,c=[W[0][1].h(),W[0][2].h().trim()];
window.locStor.setItem("dez"+"go_ap"+"i_key",c.join(","));W[0][2].OB(c[0]==1)};dj.prototype.aBc=function(d,S){f.qf(this.iy);
if(S==null)S=this.Qp.indexOf(d.target);for(var W=0;W<2;W++)this.Qp[W].c(W==S);this.iy.appendChild(this.I_[S])};
dj.prototype.z2=function(d,W){if(this.Kp==d)return;this.Kp=d;this.ae1.style.width=d-16+"px";this.HA.style.height=W-190+"px"};
dj.prototype.M7=function(d,W){this.q5=d;if(d)this.E8=W.indexOf(d);this.xX()};dj.prototype.lz=function(d,W){};
dj.prototype._=function(d,W){aA.prototype._.call(this);var c=this.Dd,B=" target=\"_blank\" style=\"color:inherit;\">";
for(var S=0;S<2;S++){this.Qp[S]._();for(var y=0;y<c[S].length;y++)this.Dd[S][y]._()}c[0][0].n.innerHTML="Stable Diffusion"};
dj.prototype.xX=function(){var d=this.HA,W=this.mx;f.qf(d);var c=[];for(var y in W){W[y].sort(function(N,C){return C.created-N.created});
c.push([y,W[y]])}c.sort(function(N,C){return C[1][0].created-N[1][0].created});var B=this.a1S.bind(this),r=this.Xd=[[],[]];
for(var S=0;S<c.length;S++){var y=c[S][0],x=c[S][1],Z=f.F("div");Z.textContent=y;d.appendChild(Z);for(var i=0;
i<x.length;i++){var k=x[i].data;for(var H=0;H<k.length;H++){var V=k[H].b64_json,g=f.F("img");g.setAttribute("src","data:image/png;base64,"+V);
g.onclick=B;g.style.width=128/f.QX()+"px";g.style.marginRight="4px";g.style.cursor="pointer";d.appendChild(g);
r[0].push(g);r[1].push(k[H])}}}};dj.prototype.a1S=function(d){var S=this.Xd[0].indexOf(d.target),W=this.Xd[1][S].b64_json,c=fd.bw(W);
bw.Ro({url:"file",E8:this.E8},c,this)};dj.prototype.Cs=function(){this.xX()};function ap(){aA.call(this,[9,6],!1,"---panels/info",aA.HX.a8a);
this.CN.setAttribute("style","min-width:240px;");this.q5=null;this.kO=null;this.Jw=null;var d=this.Ft=[];
for(var W=0;W<3;W++){var c=f.F("div","marged row");this.CN.appendChild(c);var y=f.F("div","cell");y.setAttribute("style","width:10em");
c.appendChild(y);var B=f.F("div","cell");B.setAttribute("style","width:10em");c.appendChild(B);var r=[8,4,3][W];
for(var S=0;S<r;S++){var x=new ed("");d.push(x);x.c(0);x.n.style.padding="0";var Z=S<(W==1?2:4)?y:B;
Z.appendChild(x.n);f.MZ(Z)}if(W<2)f.WH(this.CN)}this.fE=d[8];this.BD=d[9];this.wb=d[10];this.wc=d[11];
f.WH(this.CN);this.Jw=f.F("div");this.Jw.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.CN.appendChild(this.Jw)}ap.prototype=new aA("");ap.prototype.f9=function(d,W,c,y,B){if(!f.ni(this.CN)||d==null)return;
var r=d.Q.q9(B.x,B.y),x=new aL(Math.floor(r.x),Math.floor(r.y));if(!B.HW){var Z=0,i=0,k=0,H=0,V=this.Ft;
if(!B.HW&&!d.abX()&&new a8(0,0,d.m-1,d.i-1).Ce(x)){var g=d.Li(),S=d.m*x.y+x.x<<2;Z=g[S+0];i=g[S+1];k=g[S+2];
H=g[S+3]}var N=v.YP([Z/255,i/255,k/255]);V[0].c("R: "+Z);V[1].c("G: "+i);V[2].c("B: "+k);V[3].c("A: "+H);
V[4].c("C: "+Math.round(N[0]*100)+"%");V[5].c("M: "+Math.round(N[1]*100)+"%");V[6].c("Y: "+Math.round(N[2]*100)+"%");
V[7].c("K: "+Math.round(N[3]*100)+"%");var C=v.a6B(Z,i,k);V[12].c("H: "+Math.round(C.fn*360)+"\xB0");
V[13].c("S: "+Math.round(C.Td*100)+"%");V[14].c("B: "+Math.round(C.J*100/255)+"%")}var w=d.Q.O>1?new aL(r.x,r.y):x;
this.fE.c("X: "+v.T6.By(w.x,d.tU,c,d.m));this.BD.c("Y: "+v.T6.By(w.y,d.tU,c,d.i));this.U9()};ap.prototype.U9=function(){var d=this.q5,W=this.kO,c=0,y=0;
if(d&&W){if(d.Q.iX){c=d.Q.iX.m;y=d.Q.iX.i}else if(d.u){c=d.u.rect.m;y=d.u.rect.i}c=v.T6.By(Math.abs(c),d.tU,W,d.m);
y=v.T6.By(Math.abs(y),d.tU,W,d.i)}this.wb.c(ay.get([12,41]).charAt(0)+": "+c);this.wc.c(ay.get([12,42]).charAt(0)+": "+y)};
ap.prototype._=function(){aA.prototype._.call(this);this.U9()};ap.prototype.Cs=function(){this.M7(this.q5,null,this.kO)};
ap.prototype.M7=function(d,W,c){this.q5=d;this.kO=c;if(!f.ni(this.CN))return;console.log("update");this.U9();
if(d&&d.g.length!=0){var y=d.g[0],B=d.B[y],r=bN.get(B.add)!=null,x=r&&d.g[0]>0;this.Jw.innerHTML="";
for(var S=0;S<d.Fw.length;S++){var Z=d.Fw[S],B=d.Q.Yd(Z.x,Z.y),i=X.tX.uO(d,B,1,x?1:2),k={Z:i>>>16&255,G:i>>>8&255,J:i&255},w="<span style=\"display:inline-block; width:25px; text-align:right\">",Y="</span>";
if(x){var H=d.g[0];d.g[0]=y-1;var V=X.tX.uO(d,B,1,1),g={Z:V>>>16&255,G:V>>>8&255,J:V&255};d.g[0]=H}var N=f.F("div");
N.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var C="<b>#"+(S+1)+"</b>",U=[k.Z,k.G,k.J],e=x?[g.Z,g.G,g.J]:null,O=["R","G","B"];
for(var l=0;l<3;l++)C+="<br/>"+w+O[l]+Y+": "+(x?w+e[l]+Y+" /":"")+w+U[l]+Y;N.innerHTML=C;this.Jw.appendChild(N)}}};
function eU(){aA.call(this,[9,1],!1,"---panels/layers",aA.HX.jq);this.vl=null;this.L7=[];this.Ig=null;
this.rN=null;this.n4=f.F("div","lphead");this.Ke=f.F("div","lpbody scrollable");this.Ke.addEventListener("scroll",this.acc.bind(this),!1);
this.OZ=f.F("div","lpfoot");var d=this.aby=f.F("span");d.setAttribute("style","display:inline-block; height:26px");
this.n4.appendChild(d);this.xd=new gd(null,dB.mX,dB.Pu);this.xd.k(b.E.p,this.amE,this);this.n4.appendChild(this.xd.n);
this.GK=new kk([12,0],0,100,"%",0);this.GK.k(b.E.p,this.a3u,this);this.GK.parent=this;this.n4.appendChild(this.GK.n);
this.fA=new gj([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.fA.k(b.E.p,this.a9b,this);this.n4.appendChild(this.fA.n);this.bd=new kk([12,26],0,100,"%",0);this.bd.k(b.E.p,this.a5m,this);
this.bd.parent=this;this.n4.appendChild(this.bd.n);this.Mz=[];this._Z();this.CN.appendChild(this.n4);
this.CN.appendChild(this.Ke);this.Ke.addEventListener("dragover",function(B){B.preventDefault()},!1);
this.Ke.addEventListener("dragenter",f.vT,!1);this.Ke.addEventListener("drop",this.ad6.bind(this),!1);
this.CN.appendChild(this.OZ);this.CN.addEventListener("contextmenu",f.vT,!1);this.k("rclick",this.ajI,this);
var W=function(B,r,S){return{NQ:this.lu[S]==1}}.bind(this);this.abd=new dK([{name:[0,6],w:W},{name:[14,10],w:W},{name:[6,57,2],w:W,Zq:!0},{name:"Long-tap as a right click",w:W,Zq:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",w:function(){return{NQ:cl.bY==0,w:!0}}},{name:"Thumbnails by Document",w:function(){return{NQ:cl.bY==1,w:!0}}}]);
this.abd.k("select",this.atV,this);this.lu=[0,1,1,0];var c=window.locStor;if(c){var y=c.getItem("lpOpt");
if(y){y=JSON.parse(y);this.lu=y[0];cl.no=y[1];cl.bY=y[2]}}this.atV()}eU.prototype=new aA("");eU.VG=function(d){var W=d==null?0:d.g.length;
return{w:W!=0&&(W!=1||d.g[0]!=0)&&(W!=1||!d.B[d.g[0]].vS()||d.B[d.g[0]].jF()),TH:ay.get(W>1||W==1&&d.B[d.g[0]].vS()?[6,12,0]:[6,10])}};
eU.prototype.HM=function(){if(this.a70)return;var d=kC.G1(!0),W=kC.MC(!0);this.a70=new dK(d,W);var d=[{name:[14,10]},{name:[14,11],Zq:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Zq:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",w:function(c){return{w:c.B[c.g[0]].add.SoLd!=null}},Zq:!0},{name:[6,8],w:eU.adn},{name:[6,34],w:function(c){var y=c.B[c.g[0]];
return{w:y.add.lmfx!=null&&!y.vS()}}},{name:[6,40],Zq:!0,w:function(c){var y=c.B[c.g[0]];return{w:y.add.TySh!=null}}},{name:"",Zq:!0,w:function(c){var y=c.B[c.g[0]],B=y.add.TySh,r=B?B.p$:null;
return{w:B!=null&&r.Curve==null,TH:ay.get(B&&it.$_(r)==0?[16,3,1]:[16,3,0])}}},eU.av6(!1),kC.adM(),{name:[6,12,0],w:eU.VG},{name:[6,12,1],Zq:!0},{name:[13,0],sub:function(){var c=[];
for(var S=0;S<bp.xN.length;S++)c.push({name:[13,1,S],Ox:"#"+v.Wb(bp.xN[S])});return c}()}],W=[{K:b.E.V,C:{d:b.H.vB,vD:"layerstyle"}},{K:b.E.v,f:X.Ai,C:{d:"fromlayer",Wa:[null,0,0]}},{K:b.E.v,f:X.jq,C:{d:e8.k9}},{K:b.E.V,C:{d:b.H.vB,vD:"duplinto"}},{K:b.E.v,f:X.jq,C:{d:e8.Mr}},{K:b.E.HQ,C:{cx:"newPlacedLayer"}},{K:b.E.v,f:X.jq,C:{d:e8.Hb}},{K:b.E.HQ,C:{cx:"rasterizeLayer",i9:{classID:"rasterizeLayer",null:hC.cV("Lyr",!0)}}},{K:b.E.HQ,C:{cx:"rasterizeLayer",i9:{classID:"rasterizeLayer",null:hC.cV("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:b.E.v,f:X.jq,C:{d:e8.afk}},{K:b.E.v,f:X.bU,C:{d:"switchPntPrgr"}},{K:b.E.v,f:X.jq,C:{d:e8.U1}},kC.ayf(),{K:b.E.HQ,C:{cx:"mergeLayersNew",i9:{__name:"Merge Layers",classID:"Mrg2"}}},{K:b.E.HQ,C:{cx:"flattenImage"}},{sub:function(){var c=[];
for(var S=0;S<8;S++)c.push({K:b.E.v,f:X.jq,C:{d:e8.eN,agL:S}});return c}()}];this.NO=new dK(d,W);var d=[{name:[6,45],w:function(c){var y=c.B[c.g[0]];
return{w:y.WI(c).t==null}}},{name:[6,47]}],W=[{K:b.E.v,f:X.jq,C:{d:e8._u}},{K:b.E.v,f:X.jq,C:{d:e8.Ff}}];
this.a46=new dK(d,W);var d=[{name:"enab/disab",w:function(c){return{TH:ay.get(c.B[c.g[0]].Q7().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],w:function(c){return{w:c.YH(!1,!0)}}}],W=[{K:b.E.v,f:X.jq,C:{d:e8.lG}},{K:b.E.v,f:X.jq,C:{d:e8.gK}},{K:b.E.v,f:X.jq,C:{d:e8.vb}}];
this.axk=new dK(d,W);var d=[{name:"enab/disab",w:function(c){return{TH:ay.get(c.B[c.g[0]].WI(c).t.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],W=[{K:b.E.v,f:X.jq,C:{d:e8.yg}},{K:b.E.v,f:X.jq,C:{d:e8.oF}}];
this.aaM=new dK(d,W);var d=[{name:"enab/disab",w:function(c){return{TH:ay.get(c.B[c.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],W=[{K:b.E.v,f:X.jq,C:{d:e8._a}},{K:b.E.v,f:X.jq,C:{d:e8.fB}},{K:b.E.v,f:X.jq,C:{d:e8.oh}}];
this.ah9=new dK(d,W);this.afG=new dK(kC.al6(!0),kC.jA(!0));this.afu=new dK(kC.G1(),kC.MC())};eU.prototype.acc=function(d){var W=this.Ke.scrollTop-600;
for(var S=0;S<this.L7.length;S++){var c=this.L7[S],y=c.w9;if(W<c.w9)c.awv();if(c.w9>W+this.fn+600)break}};
eU.prototype.NI=function(){return this.abd};eU.prototype.atV=function(d){var W=this.lu;if(d){var c=d.target.YD(),S=c[0];
if(S<4)W[S]=1-W[S];else if(S<6){if(S==4&&cl.no-10>=10)cl.no-=10;if(S==5&&cl.no+10<=200)cl.no+=10;if(this.Ig)this.Ig.Dy=!0}else{if(S==6)cl.bY=0;
if(S==7)cl.bY=1;if(this.Ig)this.Ig.Dy=!0}var y=window.locStor;if(y)y.setItem("lpOpt",JSON.stringify([W,cl.no,cl.bY]))}if(W[0]==1)this.auT();
var B=[[{n:this.aby}],[this.xd,this.GK],[this.fA,this.bd]];for(var S=0;S<3;S++)for(var r=0;r<B[S].length;
r++)B[S][r].n.style.display=W[S]==1?"inline-block":"none";this.z2(this.Kp,this.fn)};eU.prototype.aio=function(){var d=this.Co;
if(d==null)return!1;if(d.h()){var W=this.yR.h(),c=this.Sv[W].h();if(W==0)return c.indexOf(!0)!=-1;if(W==1)return c!=""}return!1};
eU.av6=function(d){var W=function(y){var B=y!=null&&y.g.length!=0&&y.B[y.g[0]].TA;return{NQ:B,w:y!=null&&y.OE(y.g[0]),C:{K:b.E.HQ,C:{cx:B?"ungroup":"groupEvent",i9:{classID:B?"Ungr":"GrpL",null:hC.cV("Lyr",!0)}}}}},c={name:[6,6,0],Zq:!0,w:W};
if(d)c.aN=[bm.Oi,bm.Z7,bm.qk];return c};eU.adn=function(d,W){if(d)for(var S=0;S<d.g.length;S++){var c=d.B[d.g[S]];
if(c.add.TySh||c.add.SoLd||c.add.SoCo||c.add.GdFl||c.add.PtFl)return{w:!0}}return{w:!1}};eU.prototype.ad6=function(d){f.vT(d);
var W=d.dataTransfer.getData("Text"),c=1,y=0;if(W==""){f.XO(d,this,this.rN.indexOf(this.Ig),y+(c>.5?0:1))}else if(W!="--panel"){var W=JSON.parse(W),B=W.zT;
if(B=="l")this.rV({d:e8.ZQ,source:W.Q2,target:y,c9:c})}};eU.prototype.ajI=function(d){var W=this.Ig,c=d.data,B;
if(W.g.indexOf(c.a)==-1){var y={d:e8.In,a:d.target.ji.index,BL:c.MM};this.rV(y)}if(W.g.indexOf(c.a)==-1)return;
this.HM();if(c.MM==1){B=this.axk}else if(c.MM==2){B=this.ah9}else if(c.MM==3){B=this.aaM}else if(c.MM==4){B=this.a46}else if(c.MM==5){B=this.a70}else{B=this.NO}B._();
B.update(W);B.parent=this;var r=new bR(b.E.V,!0);r.data={d:b.H.oV,dD:B,x:c.pq.x+1,y:c.pq.y+1};this.T(r)};
eU.prototype._=function(){aA.prototype._.call(this);this.xd._();this.GK._();this.fA._();this.bd._();
if(this.Co){this.Co._();this.Sv[0]._()}if(this.Ig)this.M7(this.Ig);var d="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var S=0;S<this.Mz.length;S++){var W=this.Mz[S];W.N2(f.Vr(d[S],null,"miniscale"));if(S==1||S==3){W.n.style.position="relative";
var c=f.F("img","gsicon");c.setAttribute("src",PIMG["tools/corner"]);c.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
W.n.appendChild(c)}}};eU.prototype.M7=function(d,W){if(d&&!d.Dy)return;if(d==null)f.CH(this.CN,"disabled");
else f.V6(this.CN,"disabled");this.Ig=d;this.rN=W;if(this.vl!=null){f.qf(this.Ke);this.vl=null;this.L7=[]}if(d==null)return;
var c=!1;for(var S=0;S<d.iv.length;S++)if(d.iv[S].xV)c=!0;this.vl=new bp(d.root,this,d,{am:0,jy:!1},{a8v:c,aii:this.aio()},this.L7,0,new a8(0,0,d.m,d.i));
if(d.g.length==0||d.B[d.g[0]]==null)f.CH(this.n4,"disabled");else{f.V6(this.n4,"disabled");if(d.g.length==1&&d.Xs){var y=d.g[0];
for(var S=0;S<this.L7.length;S++){var B=this.L7[S];if(B.ji.index==y&&B.n4.scrollIntoView)B.n4.scrollIntoView({block:"nearest"})}}var r=d.B[d.g[0]];
if(r.vS()){this.xd.oe([[15,10,27]].concat(dB.mX),[1].concat(dB.Pu));var x=dB.s0.indexOf(r.E9);this.xd.c(x+1)}else{this.xd.oe(dB.mX,dB.Pu);
var x=dB.s0.indexOf(r.E9);this.xd.c(x)}this.GK.c(Math.round(100*r.opacity/255));this.fA.c([r.sx(0),r.sx(1),r.sx(2),r.sx(31)]);
var Z=d.Yt();this.xd.OB(!Z);this.bd.OB(!Z);this.GK.OB(!Z);this.fA.OB(!(Z&&!r.sx(31)));this.bd.c(Math.round(100*(r.add.iOpa!=null?r.add.iOpa/255:1)));
this.Mz[2].aiM(ay.get(r.Q7()?[6,23]:[6,21]))}this.acc(null)};eU.prototype.z2=function(d,W){this.Kp=d;
this.fn=W;var c=this.n4.getBoundingClientRect().height;if(55<c&&c<56)c=60.2;var y=this.OZ.getBoundingClientRect().height,B=W-(c+y+3);
this.Ke.style.height=B+"px";this.Ke.style.width=d+"px"};eU.prototype.amE=function(d){this.rV({d:e8.Mc,z4:this.xd.h()})};
eU.prototype.a3u=function(d){this.rV({d:e8.aU,z4:Math.round(255*this.GK.h()/100)})};eU.prototype.a9b=function(d){this.rV({d:e8.PJ,z4:[this.fA.h(),[0,1,2,31]]})};
eU.prototype.a5m=function(d){this.rV({d:e8.fV,z4:Math.round(255*this.bd.h()/100)})};eU.prototype.Fo=function(d){if(d.target==this.yR)this.auT();
var W=this.Co.h();if(W)f.V6(this.c5,"disabled");else f.CH(this.c5,"disabled");this._();this.Ig.Dy=!0;
this.M7(this.Ig);this.Ig.Dy=!1};eU.prototype.auT=function(){var d=this.c5;if(d==null){var W=this.aby,c=this.Co=new ff([0,6]);
c.k(b.E.p,this.Fo,this);W.appendChild(c.n);d=this.c5=f.F("span","disabled");W.appendChild(d);this.yR=new gd(null,["Kind",[12,48]],[]);
this.yR.k(b.E.p,this.Fo,this);var y=this.Sv=[new gj(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new eO(null,null,8)];
y[0].k(b.E.p,this.Fo,this);y[1].k("input",this.Fo,this)}f.qf(d);d.appendChild(this.yR.n);d.appendChild(this.Sv[this.yR.h()].n)};
eU.prototype.adH=function(d){this.HM();this.azL(d,this.afG)};eU.prototype.aCd=function(d){this.HM();
this.azL(d,this.afu)};eU.prototype.azL=function(d,W){var c=d.currentTarget;if(f.ni(W.n))return;d.stopPropagation();
var y=c.getBoundingClientRect();W._();W.update(this.Ig);W.parent=this;var B=new bR(b.E.V,!0);B.data={d:b.H.oV,dD:W,x:y.left,y:y.top,aDK:!0};
this.T(B)};eU.prototype.a9t=function(d){this.rV({d:e8.ajs})};eU.prototype.aCb=function(d){this.rV({d:this.Ig.g.length>1?e8.af:e8.hd})};
eU.prototype.adC=function(d){this.rV({d:e8.qI})};eU.prototype.au7=function(d){var W=this.Ig;if(W.g.length==0)return;
var c=W.B[W.g[0]],y=c.MM;this.rV({d:y<=0?c.lO?e8.fB:e8.Mr:y==3?e8.oF:e8.gK})};eU.prototype.aye=function(d){this.rV({d:e8.Bm})};
eU.prototype.rV=function(d){var W=new bR(b.E.v,!0);W.data=d;W.f=X.jq;this.T(W)};eU.prototype._Z=function(){var d=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],W=[this.aye,this.aCd,this.a9t,this.adH,this.aCb,this.adC,this.au7],c=this.a9D.bind(this);
for(var S=0;S<d.length;S++){var y=new gs("W",!1,d[S]);this.Mz.push(y);f._0(y.n,W[S].bind(this));this.OZ.appendChild(y.n);
if(S>=d.length-3){var B=y.n;B.addEventListener("drop",c,!1);B.addEventListener("dragover",function(r){r.preventDefault()},!1);
B.addEventListener("dragenter",f.vT,!1)}}};eU.prototype.a9D=function(d){f.vT(d);var W=0,c=this.Mz;while(c[W].n!=d.currentTarget)W++;
c[W].Lc();var y=d.dataTransfer.getData("Text");if(y=="")return;var y=JSON.parse(y);if(y.zT=="l"){var B={d:[e8.af,e8.k9,e8.Mr][W-4]};
if(this.Ig.g.indexOf(y.Q2)==-1)B.a=y.Q2;this.rV(B)}if(W!=6)return;if(y.zT=="sm"||y.zT=="s"){var r=new bR(b.E.v,!0);
r.f=X.tm;r.data={d:y.zT=="sm"?"st_clear":"st_delsingle",a:y.Q2,Q2:y.pG};this.T(r)}if(y.zT=="fm"||y.zT=="f"){this.rV({d:y.zT=="fm"?e8.Ff:e8.XZ,src:y.Q2,pG:y.pG})}if(y.zT=="m"||y.zT=="vm"){this.rV({d:y.zT=="m"?e8.gK:e8.fB,a:y.Q2})}};
function bp(d,W,c,y,B,r,x,Z){d9.call(this);this.parent=W;this.w9=x;this.ji=d;r.push(this);this.Ue=c;
this.ht=y;var i=W.Ke,k=d.a,H=c.g.indexOf(d.index)!=-1,C=null;this.n4=f.F("div",H?"head selected":"head");
if(k.add.artb!=null){f.CH(this.n4,"artb");Z=k.ZB()}var V=this.am4=Math.floor(10+k.afI/f.QX()),g="height: "+V+"px;";
if(H&&B.a8v)g+="background-color:rgba(255,50,50,0.4);";this.n4.setAttribute("style",g);this.MB=Z;var N=this.afp=this.a4K.bind(this),w=B.aii&&!this.a16();
if(!w){if(d.depth!=0){i.appendChild(this.n4);x+=V-.3}if(k.Yj()||k.pX())if(k.Rm()){C=this.a7Q=f.F("div","lpineck");
i.appendChild(C);if(k.Yj()){C.addEventListener("contextmenu",N,!1);var Y=new eU.$x(ay.get([12,1]),"sm","layerstyle",d.depth,0,null);
x+=21;Y.parent=this;C.appendChild(Y.n);var U=k.add.lmfx,e=U.masterFXSwitch.v;Y.vI(e);for(var S=0;S<bV.order.length;
S++){var O=U[bV.Fb[S]].v;if(O.length==0)continue;for(var l=0;l<O.length;l++){var Y=new eU.$x(ay.get(bV.names[S]),"s","layerstyle",d.depth,1,[S,l]);
x+=21;Y.vI(e&&O[l].v.enab.v);Y.parent=this;C.appendChild(Y.n)}}}if(k.pX()){var I=k.WI(c).t;if(I)this.sJ=f.F("div","thumb");
var Y=new eU.$x(ay.get([12,55]),"fm",null,d.depth,0,-1,I?this.sJ:null,V);x+=I?V:21;Y.parent=this;C.appendChild(Y.n);
this.axb=Y.n;this.axb.addEventListener("contextmenu",N,!1);var U=k.add.SoLd.filterFX.v,s=U.filterFXList.v,e=U.enab.v;
Y.vI(e);for(var S=s.length-1;S>=0;S--){var z=s[S].v,R=eR.a_(z);if(bN.ae[R])R=bN.ae[R];var t=z.Nm.v;if(eR.names[R])t=ay.get(eR.names[R]);
if(bN.names[R])t=ay.get(bN.names[R]);var a="afw_"+R,Y=new eU.$x(t,"f",a,d.depth,1,S);x+=21;Y.vI(e&&z.enab.v);
Y.parent=this;C.appendChild(Y.n)}}}}var J=k.add.lclr;if(J==null)J=0;J=J==0?y.am:bp.xN[J];this.asK=J;
if(k.vS()&&(k.add.lsct==aG.ED||B.aii)){var F={am:J,jy:y.jy||k.sx(31)};for(var S=d.children.length-1;
S>=0;S--){var h=new bp(d.children[S],W,c,F,B,r,x,Z);x=h.ads}}this.ads=x}bp.prototype=new d9;bp.xN=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
bp.prototype.awv=function(){if(this.iL)return;var d=this.ji,W=d.a,c=this.Ue,y=this.ht,V=!0,F=!1;d.pL(c,this.MB,!0);
var B=f.F("div","headL"),r=f.F("div","headR");this.n4.appendChild(B);this.n4.appendChild(r);var x=this.n4;
x.setAttribute("draggable","true");x.addEventListener("dragstart",this.m7.bind(this),!1);x.addEventListener("drop",this.LH.bind(this),!1);
x.addEventListener("dragover",this.q1.bind(this),!1);x.addEventListener("dragenter",f.vT,!1);x.addEventListener("dragleave",this.c_.bind(this),!1);
var Z=[],i=[null,null,null,null],k=W.jF(),H=d;while(H.parent){H=H.parent;k=k&&H.a.jF()}if(W.TA){for(var S=d.index-1;
S>=0;S--){var g=c.B[S];if(!g.TA){V=g.jF();break}}}var N=W.jF()?k&&V?2:1:0;this.iL=f.F("div");var C=f.F("div",N==0?"sqr":"eye");
this.iL.appendChild(C);C.style.opacity=[.12,.33,1][N];var w=f.F("div","space");this.C3=f.F("div","label");
this.C3.setAttribute("style","max-width:calc(100% - "+(96+d.depth*20)+"px); margin-top:"+(this.am4-19)/2+"px;"+(W.A1?"text-decoration:underline;":""));
this.C3.textContent=W.getName();this.WC=f.F("div","lock");this.a80=f.F("div","lrfx");this.n5=f.F("div","arfx");
var Y=this.afp,U=this.ae8.bind(this);this.n4.addEventListener("click",U,!1);this.n4.addEventListener("contextmenu",Y,!1);
var e=this.asK;if(e!=0){var O=[e>>16,e>>8&255,e&255];for(var S=0;S<3;S++){O[S]="calc("+O[S]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.iL.setAttribute("style","background-color:rgba("+O.join(",")+",1);")}var l=this.a3O.bind(this);
this.iL.addEventListener("mousedown",l,!1);this.iL.addEventListener("mouseover",l,!1);this.n5.addEventListener("click",this.aiC.bind(this),!1);
Z[0]=this.iL;Z[1]=w;Z[10]=this.C3;if(W.vS()){var I=f.F("div","arrow"),s=f.F("div","folder");this.o_(s);
I.addEventListener("click",this.aAy.bind(this),!1);Z[2]=I;Z[3]=s;I.className=W.add.lsct==aG.ED?"open":"closed"}else{this.j_=f.F("div","thumb");
Z[5]=this.j_;bp.RF(this.j_,W.xZ);this.o_(this.j_);if(bN.get(W.add))f.CH(W.xZ.canvas,"gsicon")}var z=W.Q7();
if(z){this.dd=f.F("div","chain");this.mB=f.F("div","thumb");bp.RF(this.mB,W.yF,!0);this.dd.style.opacity=z.Ps?1:0;
this.dd.addEventListener("click",this.a4l.bind(this),!1)}var R=W.sI()&&W.add.vmsk;if(W.add.vmsk&&!R){this.yE=f.F("div","chain");
this.Rg=f.F("div","thumb");bp.RF(this.Rg,W.Jm,!0);this.yE.style.opacity=W.add.vmsk.Ps?1:0;this.yE.addEventListener("click",this.a5v.bind(this),!1)}if(W.pX()&&W.Rm()&&W.WI(c).t){bp.RF(this.sJ,W.ac,!1);
this.o_(this.sJ);this.sJ.addEventListener("click",U,!1);this.sJ.addEventListener("contextmenu",Y,!1)}if(d.index==c.g[0]){var t=W.MM,a;
if(t<=0)a=this.j_;else if(t==1)a=this.mB;else if(t==3)a=this.sJ;if(a)a.className="thumb active";if(W.lO&&this.Rg)this.Rg.className="thumb active"}w.setAttribute("style","width:"+Math.max(0,d.depth-1)*18+"px");
var J=W.add.lspf!=null&&W.add.lspf!=0||y.jy;this.WC.style.opacity=W.sx(31)?1:.5;Z[4]=W.TA?f.F("div","clipp"):null;
Z[6]=z?this.dd:null;Z[7]=z?this.mB:null;Z[8]=W.add.vmsk&&!R?this.yE:null;Z[9]=W.add.vmsk&&!R?this.Rg:null;
var h=W.ks,m=c.g;if(h!=0)for(var S=0;S<m.length;S++)if(c.B[m[S]].ks==h){F=!0;break}if(F){i[0]=f.F("div",W.EP?"link":"linkX");
i[0].addEventListener("click",this.aow.bind(this),!1)}i[1]=J?this.WC:null;i[2]=W.Yj()?this.a80:null;
i[3]=W.Yj()||W.pX()?this.n5:null;this.n5.className=W.Rm()?"arfx open  gsicon":"arfx closed  gsicon";
var D=Z;for(var S=0;S<D.length;S++)if(D[S])B.appendChild(D[S]);D=i;for(var S=0;S<D.length;S++)if(D[S])r.appendChild(D[S])};
bp.RF=function(d,W,c){var y=W.canvas;f.$E(y);if(c)d.setAttribute("draggable","true");d.appendChild(y);
y.setAttribute("style",y.getAttribute("style")+"; pointer-events:none")};bp.prototype.o_=function(d){f._0(d,function(W){if(this.parent.lu[3]==0)return;
f.jT(W);f.OD(document.body,function(){clearTimeout(this.asG)}.bind(this));this.asG=setTimeout(function(){var c=new bR("rclick",!0);
c.data={a:this.ji.index,MM:this.MM(W),pq:f.Ne(W,document.body)};this.T(c)}.bind(this),600)}.bind(this))};
bp.v7=function(d,W){var c=W.getBoundingClientRect();return(d.clientY-c.top)/c.height};bp.prototype.m7=function(d){d.stopPropagation();
var W=d.target==this.mB?"m":d.target==this.Rg?"vm":"l";d.dataTransfer.setData("Text",JSON.stringify({zT:W,Q2:this.ji.index}))};
bp.prototype.c_=function(d){f.vT(d);this.$K()};bp.prototype.LH=function(d){f.vT(d);this.$K();var W=d.dataTransfer.getData("Text"),c=this.parent.Ig,y=bp.v7(d,this.n4),B=this.ji.index;
if(y>.8){var r=!0,x=c.root.x$(B);while(x.parent!=null){var Z=x.parent,i=Z.children;if(i.indexOf(x)!=0)r=!1;
x=x.parent}if(r){B=0;y=1}}if(W==""){f.XO(d,this,this.parent.rN.indexOf(c),B+(y>.5?0:1))}else if(W!="--panel"){var W=JSON.parse(W),k=W.zT;
if(k=="l")this.rV({d:e8.ZQ,source:W.Q2,target:B,c9:y});else if(k=="m"||k=="vm")this.rV({d:k=="m"?e8.apB:e8.LO,src:W.Q2,kT:B});
else bp.axw(d,W,this)}};bp.axw=function(d,W,c,y){var B=W.zT,r=c.ji.index,x=W.Q2;if(B=="s"||B=="sm")c.rV({d:e8.uC,src:x,kT:r,pG:W.pG});
if(B=="f"||B=="fm")c.rV({d:e8.a91,src:x,kT:r,pG:W.pG,uT:y==null?0:y})};bp.prototype.q1=function(d){f.vT(d);
var W=bp.v7(d,this.n4),c=this.ji.a.vS()&&.5<W&&W<.8;this.$K();var y="inset 0 "+(c?0:W>.5?-3:3)+"px "+(c?"5px black":"0 rgba(0,0,0,0.5)");
this.n4.style.boxShadow=y};bp.prototype.$K=function(d){this.n4.style.boxShadow=""};bp.aj9=-1;bp._7=!1;
bp.a3Q=function(d){bp._7=!1;document.body.removeEventListener("mouseup",bp.a3Q)};bp.prototype.a3O=function(d){if(d.button!=0)return;
if(d.type=="mousedown"){bp._7=!0;document.body.addEventListener("mouseup",bp.a3Q,!1)}if(d.type=="mouseover"&&(!bp._7||bp.aj9==this.ji.index))return;
f.vT(d);this.rV({d:e8.DC,a:this.ji.index});bp.aj9=this.ji.index};bp.prototype.aAy=function(d){f.vT(d);
this.rV({d:e8.a5R,a:this.ji.index})};bp.prototype.a4l=function(d){this.rV({d:e8.n_,a:this.ji.index})};
bp.prototype.a5v=function(d){this.rV({d:e8.IL,a:this.ji.index})};bp.fH=0;bp.prototype.LE=function(d){this.rV({d:e8.gh,a:this.ji.index,name:d})};
bp.prototype.aiC=function(d){this.rV({d:e8.arU,a:this.ji.index})};bp.prototype.aow=function(d){this.rV({d:e8.Lk,a:this.ji.index})};
bp.prototype.a4K=function(d){if(d.button!=2&&!f.acL(d)&&!(d.ctrlKey&&bm.X2()))return;var W=this.MM(d);
if(W!=3&&d.currentTarget==this.axb)W=4;if(d.target==this.a80||d.currentTarget==this.a7Q)W=5;var c=new bR("rclick",!0);
c.data={a:this.ji.index,MM:W,pq:f.Ne(d,document.body)};this.T(c)};bp.prototype.MM=function(d){var W=d.target,c=W;
return c==this.Rg?2:c==this.mB?1:c==this.j_?0:c==this.sJ?3:-1};bp.prototype.ae8=function(d){var W=d.target,N;
if(W==this.iL.firstChild||W==this.n5||W==this.dd||W==this.yE||W.tagName&&W.tagName.toLowerCase()=="input")return;
var c=this.MM(d),y=this.parent.Ig,B=this.ji.index,r=y.B[B];if(W==this.WC){this.rV({d:e8.PJ,a:B,z4:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var x=bp.fH,Z=Date.now()-x<300;bp.fH=Date.now();if(W==this.C3){if(Z){this.n4.setAttribute("draggable","false");
var i=new aA.wB(this.C3,this.LE.bind(this))}else this.rV({d:e8.In,a:B,BL:c,cC:!0});return}if(d.button==0&&Z){if(W==this.C3)return;
var k=new bR(b.E.v,!0),H=new bR(b.E.V,!0),V=new bR(b.E.HQ,!0);if(c==0&&r.add.SoCo){var g=v.L.E5(r.add.SoCo.Clr.v);
H.data={d:b.H.vB,vD:"colorpicker",am:g.Z<<16|g.G<<8|g.J,mI:function(Y){var U=v.L.FV({J:Y&255,G:Y>>>8&255,Z:Y>>16&255});
U={classID:"null",Clr:{t:"Objc",v:U}};var e=new bR(b.E.v,!0);e.f=X.jq;e.data={d:e8.Ky,TZ:[B],aG:!0,b:{pF:1,ue:U}};
this.T(e)}.bind(this),Ww:!0}}else if(c==0&&(bN.get(r.add)||r.add.SoCo||r.add.GdFl||r.add.PtFl))H.data={d:b.H.R0,vD:aA.HX.xK};
else if(c!=0&&c!=-1)H.data={d:b.H.R0,vD:aA.HX.xK};else if(c==0&&r.add.SoLd)V.data={cx:"placedLayerEditContents",i9:{classID:"placedLayerEditContents"}};
else if(c==0&&r.add.TySh){k.f=X.bU;k.data={d:"editCurr",hk:B}}else H.data={d:b.H.vB,vD:"layerstyle",a:B};
this.T(V.data?V:H.data?H:k);return}if(d.button!=0)return;if(c==1||c==3){var C=c==3?r.WI(y).t:r.Q7();
N=C.xV?y.Q.M.join("")=="111"?1:2:0}var w={d:e8.In,a:B,BL:c,az9:N,cC:!0};this.rV(w)};bp.prototype.rV=function(d){var W=new bR(b.E.v,!0);
W.data=d;W.f=X.jq;this.T(W)};bp.prototype.a16=function(){var d=this.ji.a,W=d.add,c=this.parent.yR.h(),y=this.parent.Sv[c].h();
if(c==0){if(y[0]&&W.SoLd==null&&W.TySh==null&&d.TT())return!0;if(y[1]&&bN.get(W)!=null)return!0;if(y[2]&&W.TySh!=null)return!0;
if(y[3]&&W.vstk!=null)return!0;if(y[4]&&W.SoLd!=null)return!0;return!1}if(c==1)return d.getName().toLowerCase().indexOf(y.toLowerCase())!=-1};
eU.$x=function(d,W,c,y,B,r,x,Z){d9.call(this);this.atA=W;this.B8=c;this.index=r;this.n=f.F("div","styleitem");
this.n4=f.F("div","head");this.aoY=null;if(W=="f"){var i=this.aoY=f.F("div","headR");i.textContent="\u2699";
this.n4.appendChild(i)}this.iL=f.F("div","eye gsicon");this.C3=f.F("div","label");this.n.appendChild(this.n4);
this.n4.appendChild(this.iL);if(x){this.mB=x;this.n4.appendChild(x);this.n4.setAttribute("style","height: "+Z+"px")}this.C3.innerHTML=d;
this.n.setAttribute("style","margin-left: "+(24+y*16+B*22)+"px");this.n4.appendChild(this.C3);this.iL.addEventListener("click",this.ayX.bind(this),!1);
var k=this.n;k.setAttribute("draggable","true");k.addEventListener("dragstart",this.m7.bind(this),!1);
if(!0){k.addEventListener("drop",this.LH.bind(this),!1);k.addEventListener("dragover",this.q1.bind(this),!1);
k.addEventListener("dragenter",f.vT,!1);k.addEventListener("dragleave",this.c_.bind(this),!1)}this.n.addEventListener("click",this.AZ.bind(this),!1)};
eU.$x.prototype=new d9;eU.$x.prototype.m7=function(d){d.stopPropagation();d.dataTransfer.setData("Text",JSON.stringify({zT:this.atA,Q2:this.parent.ji.index,pG:this.index}))};
eU.$x.prototype.c_=function(d){f.vT(d);this.$K()};eU.$x.prototype.LH=function(d){f.vT(d);this.$K();var W=d.dataTransfer.getData("Text");
if(W=="")return;var W=JSON.parse(W);bp.axw(d,W,this.parent,this.index+(bp.v7(d,this.n4)>.5?0:1))};eU.$x.prototype.q1=function(d){f.vT(d);
var W=bp.v7(d,this.n4)>.5;this.$K();var c="border-"+(W?"bottom":"top");this.n4.style[c]="0.2em solid rgba(0,0,0,0.5)"};
eU.$x.prototype.$K=function(d){this.n4.style.border="none"};eU.$x.prototype.vI=function(d){this.iL.style.opacity=d?1:.2};
eU.$x.prototype.AZ=function(d){var W=bp.fH,c=Date.now()-W<300;bp.fH=Date.now();if(d.target==this.iL)return;
var y=this.parent.ji.index;if(c&&this.B8!=null){var y=this.parent.ji.index,B=new bR(b.E.V,!0);if(this.B8.indexOf("afw_")==0){var r=this.B8.slice(4),x=f7[r]||eR.s[r],Z=d.target==this.aoY;
if(!Z&&!x)return;B.data=X.oG.a1B(Z?"blendOptions":r,{a:y,index:this.index})}else B.data={d:b.H.vB,vD:this.B8,a:y,index:this.index};
this.T(B)}else{if(d.target.className!="thumb")this.parent.rV({d:e8.In,a:y,BL:0})}};eU.$x.prototype.ayX=function(d){var W={fm:e8.aS,f:e8.XY,sm:e8.Ii,s:e8.mF}[this.atA];
this.parent.rV({d:W,a:this.parent.ji.index,index:this.index})};function fS(){aA.call(this,"Guide Guy",!1,"---panels/guideguy",aA.HX.a1N);
this.q5=null;this.ex=new gd(null,v.T6.rS)}fS.prototype=new aA("");fS.prototype.Km=function(){this.Ft=[];
var d=f.F("div","form padded");this.CN.appendChild(d);d.setAttribute("style","width:200px");this.CN.appendChild(d);
var W=f.F("canvas"),c=W.getContext("2d");W.width=W.height=160;var y=[32,0,16,160,0,32,160,16,0,112,160,16],B="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),r=[0,0,0,0,0,0,0,0,0,0];
d.appendChild(this.ex.n);for(var S=0;S<10;S++){c.clearRect(0,0,160,160);c.setTransform(1,0,0,1,80,80);
c.rotate((S&3)*Math.PI/2);c.translate(-80,-80);c.fillStyle="rgba(0,0,0,0.3)";if(S<4){for(var x=0;x<12;
x+=4){c.fillStyle=x==0?"#000000":"rgba(0,0,0,0.3)";c.fillRect(y[x],y[x+1],y[x+2],y[x+3])}}else if(S<6){var Z=8*6;
c.fillRect(0,0,Z,160);c.fillRect(8*7,0,Z,160);c.fillStyle="#000000";c.fillRect(8*14,0,Z,160)}else if(S<8){c.fillRect(0,0,16,160);
c.fillRect(160-16,0,16,160);c.fillRect(32,0,160-64,160);c.fillStyle="#000000";c.fillRect(32,80-8,160-64,8*1)}else{c.fillRect(0,0,8*7,160);
c.fillRect(8*13,0,160,160);c.fillStyle="#000000";c.fillRect(8*7,80-8,8*6,8*1)}var i="<img src=\""+W.toDataURL()+"\" class=\"autoscale gsicon\" /> ",k=new kk(i,0,200,null,S==4||S==5?0:2,null,null,4,B[S]);
k.parent=this;k.k(b.E.p,this.aDq,this);k.c(r[S]);k._();this.Ft.push(k);d.appendChild(k.n)}var H=[[11,14],[11,15,0]];
this.HB=[];for(var S=0;S<H.length;S++){var V=new gs(H[S],!0,null,!0);this.HB.push(V);V.k("click",this.fT,this);
d.appendChild(V.n)}for(var S=0;S<6;S++){c.setTransform(1,0,0,1,80,80);c.rotate(Math.floor(S/3)*Math.PI/2);
c.translate(-80,-80);c.clearRect(0,0,160,160);c.fillStyle="rgba(0,0,0,0.3)";c.fillRect(0,0,160,160);
c.clearRect(16,16,128,128);c.fillStyle="#000000";var g=S%3;c.fillRect([0,9,18][g]*8,0,16,160);var i="<img src=\""+W.toDataURL()+"\" class=\"autoscale gsicon\" /> ",V=new gs(i,!1,null,!1);
this.HB.push(V);V.k("click",this.fT,this);d.appendChild(V.n)}};fS.prototype._=function(){aA.prototype._.call(this);
this.ex._();if(this.Ft==null)return;for(var S=0;S<this.HB.length;S++)this.HB[S]._()};fS.prototype.aDq=function(d){var W=this.Ft,c=W.indexOf(d.target),y=Math.floor(c/2),B=c&1,r=[];
for(var S=0;S<4;S++)r.push(W[2*S+B].h());var x=-1;if(y==2&&r[2]!=0&&r[3]!=0&&r[4]!=0)x=4;if(y==3&&r[3]!=0&&r[2]!=0&&r[4]!=0)x=4;
if(y==4&&r[4]!=0&&r[2]!=0&&r[3]!=0)x=3;if(x!=-1)W[2*x+B].c(0)};fS.prototype.fT=function(d){var W=this.q5,c=this.HB.indexOf(d.target),y=[[],[]];
if(W==null)return;var B=W.u?W.u.rect:new a8(0,0,W.m,W.i),r=B.m,x=B.i;if(c==0){var Z=[[],[]],i=this.ex.h();
for(var S=0;S<this.Ft.length;S++){var k=this.Ft[S].h();k=v.T6.Ho(k,W.tU,W.m,i);Z[S&1].push(k)}var H=[fS.awh(Z[0],B.x,B.x+r),fS.awh(Z[1],B.y,B.y+x)];
y=fS.ix(H);X.rL.gH(y,W.B5())}else if(c==1){}else{c-=2;var V=Math.floor(c/3),H=[[],[]];H[V].push([B.x,B.x+r/2,B.x+r,B.y,B.y+x/2,B.y+x][c]);
y=fS.ix(H);X.rL.gH(y,W.B5())}this.a1n(y)};fS.ix=function(d){var W=[],c=[];for(var y=0;y<2;y++)for(var S=0;
S<d[y].length;S++){W.push([y,d[y][S]]);c.push(-1)}return[W,c]};fS.prototype.afK=function(d){var W=this.auX.indexOf(d.target)};
fS.prototype.a1n=function(d){var W=new bR(b.E.v,!0);W.f=X.Sj;W.data={d:"gids",MN:d};this.T(W)};fS.awh=function(d,W,c){var y=[],B=d[2],r=d[3],x=d[4],Z=0;
if(B==0)Z++;if(r==0)Z++;if(x==0)Z++;if(Z>1&&B==0&&r==0){if(d[0]!=0)y.push(W+d[0]);if(d[1]!=0)y.push(c-d[1]);
return y}var i=c-W-d[0]-d[1];if(B==0){if(x==0){B=Math.floor(i/r);x=(i-B*r)/(B-1)}else{B=1;while(r*B+x*(B-1)+r+x<=i)B++}}else if(B!=0&&r!=0){if(B*r>i)B=Math.floor(i/r);
x=(i-B*r)/(B-1)}y.push(W+d[0],c-d[1]);var r=(i-x*(B-1))/B;for(var S=1;S<B;S++){if(x==0)y.push(W+d[0]+S*r);
else y.push(W+d[0]+S*r+(S-1)*x,W+d[0]+S*r+S*x)}return y};fS.prototype.M7=function(d,W,c){this.q5=d};
fS.prototype.Cs=function(){if(f.ni(this.CN)&&this.Ft==null)this.Km();this._()};fS.prototype.lz=function(d){this.ex.c(d.UA.Wx)};
function bI(){aA.call(this,[9,2],!1,"---panels/properties",aA.HX.xK);this.a49=null;this.Ue=null;this.kO=null;
this.aDl=-1;this.Qs=null}bI.prototype=new aA("");bI.prototype.z2=function(d,W){this.Kp=d;this.fn=W;d=d-16;
W=W-30;var c=this.Qs;if(c){c.style.width=d+"px";c.style.height=W+"px";for(var S=0;S<3;S++)this.Ga[S].z2(d-12,W)}};
bI.prototype.Km=function(){this.Qs=f.F("div","padded scrollable");this.CN.appendChild(this.Qs);var d=f.F("span");
this.Qs.appendChild(d);this.TK=[new gs([0,3]),new gs([12,73]),new gs([12,91,0])];for(var S=0;S<this.TK.length;
S++){var W=this.TK[S];W.k("click",this.anF,this);d.appendChild(W.n);if(S==2)W.n.style.marginRight="0"}this.Qs.appendChild(f.F("hr"));
this.Dm=new bI.LV;this.Dm.parent=this;this.H9=new bI.fi;this.H9.parent=this;this.Yh=new bI.m$;this.Yh.parent=this;
this.Ga=[this.Dm,this.H9,this.Yh];this.Qs.appendChild(this.Dm.n);this.OZ=f.F("div","lpfoot");this.CN.appendChild(this.OZ);
this.Mz=[];for(var S=0;S<3;S++){var W=new gs("W");W.k("click",this.B7,this);this.Mz.push(W);this.OZ.appendChild(W.n)}this.z2(this.Kp,this.fn)};
bI.prototype.B7=function(d){var S=this.Mz.indexOf(d.target),W=new bR(b.E.v,!0);W.f=X.jq;if(S==0)W.data={d:e8.U1};
if(S==1)W.data={d:e8.DC};if(S==2)W.data={d:e8.Mr};this.T(W)};bI.prototype.anF=function(d){var S=this.TK.indexOf(d.currentTarget);
this.R1(S);this.aBp(S==1?this.H9.Vx:-1)};bI.prototype.R1=function(d){for(var S=0;S<3;S++){this.TK[S].Lc();
var W=this.Ga[S].n;if(W.parentNode==this.Qs&&S!=d)this.Qs.removeChild(W);if(W.parentNode!=this.Qs&&S==d)this.Qs.appendChild(W)}this.TK[d].JR()};
bI.prototype.aBp=function(d){var W=this.Ue.g[0],c=this.Ue.B[W],y=d+1;if(d==1&&c.lO)return;var B=new bR(b.E.v,!0);
B.f=X.jq;if(d!=1&&c.lO){B.data={d:e8.In,a:W,BL:2};this.T(B)}B.data={d:e8.In,a:W,BL:y};this.T(B)};bI.prototype._=function(){aA.prototype._.call(this);
if(this.Qs==null)return;this.M7(this.Ue);for(var S=0;S<3;S++){this.TK[S]._();this.Ga[S]._()}gK.K7(this.Mz,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
bI.prototype.Cs=function(){if(!f.ni(this.CN))return;if(this.Qs==null){this.Km();this.lz(this.kO,kG.yS);
this.M7(this.a49);this._()}};bI.prototype.M7=function(d){this.a49=d;if(this.Qs==null)return;this.Dm.M7(d);
this.H9.M7(d);this.Yh.M7(d);if(d==null||d.g.length==0||d.B[d.g[0]]==null){f.CH(this.CN,"disabled");this.Ue=null;
return}else f.V6(this.CN,"disabled");var W=d.g[0],c=d.B[W];this.Mz[0].c(c.TA);this.Mz[1].c(c.jF());var y=d.Tz(),B=y[0],r=y[1];
if(r.length!=0){var x=B[r[0]],Z=x.add.vogk,i=!1;if(Z)for(var S=0;S<Z.length;S++){var k=Z[S].v;if(!v.dr.wI(k))continue;
i=!0;W=x.Wr}}W+=","+i;if(d!=this.Ue||this.aDl!=W){this.Ue=d;this.aDl=W;if(i)this.R1(2);else if(c.MM<1&&!c.lO||bN.get(c.add))this.R1(0);
else this.R1(1)}this.TK[1].OB(this.H9.Vx!=-1);this.TK[2].OB(i)};bI.prototype.lz=function(d,W){this.kO=d;
if(this.Dm)this.Dm.lz(d,W);if(this.Yh)this.Yh.lz(d,W)};bI.LV=function(){d9.call(this);this.n=f.F("div","form");
this.a1e=new ed("Hello");this.H8=new gs([1,12,2],null,null,!0);this.H8.n.style.axF="right";this.H8.k("click",this.S_,this);
this.n.appendChild(this.a1e.n);this.n.appendChild(this.H8.n);this.C6=null;this.fg=null;this.Ue=null;
this.kO=null;this.aBD=-1;this.azz=null;this.XJ=null;this.AW=new hs(0,!0,!0);this.AW.parent=this;this.AW.k(b.E.p,this.ayy,this);
this.n.appendChild(this.AW.n);this.ky=new b2(!0);this.ky.parent=this;this.ky.k(b.E.p,this.asr,this);
this.mW=f.F("div","marged hiline");this.mW.appendChild(this.ky.n);this.Gk=new hb("GrFl",!0);this.Gk.parent=this;
this.Gk.k(b.E.p,this.af4,this);this.MG=f.F("div","marged hiline");var d="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var S=0;S<d.length;S++){var W=this.Gk.Nq[d[S]].n;this.MG.appendChild(W)}this.BO=new hb("patternFill",!0);
this.BO.parent=this;this.BO.k(b.E.p,this.ajc,this);this.hy=f.F("div","marged hiline");var d=["Ptrn","Angl","Scl","Algn","phase"];
for(var S=0;S<d.length;S++){var W=this.BO.Nq[d[S]].n;this.hy.appendChild(W)}this.PS={};for(var c in bN.names){if(f7[c]==null)continue;
this.PS[c]=new f7[c];this.PS[c].k(b.E.p,this.a5l,this);this.PS[c].parent=this}var y=this.adX=f.F("div","marged hiline");
this.Gz=new hs(0,!0);y.appendChild(this.Gz.n);this.Gz.k(b.E.p,this.ND,this);this.azd=null;this.c3=new du;
this.c3.parent=this;this.c3.k(b.E.p,this.ND,this);y.appendChild(this.c3.n)};bI.LV.prototype=new d9;bI.LV.prototype.ayy=function(d){var W=this.AW.h(),c=this.XJ,y=new a8(W[0],W[1],W[2],W[3]);
if(y.zI(c))return;this.XJ=y;var B=new bR(b.E.v,!0);if(c.m==y.m&&c.i==y.i){B.f=X.Sj;B.data={d:"trsl",eg:y.x-c.x,Tt:y.y-c.y}}else{B.f=X.Ee;
B.data={d:"scl",o1:[2,4],b:new aL(y.m/c.m,y.i/c.i),gS:0}}this.T(B)};bI.LV.prototype.z2=function(d,W){var c=this.PS;
for(var y in c)c[y].z2(d,W)};bI.LV.prototype.S_=function(d){var W=this.Ue,c=W.B[W.g[0]],y=bN.get(c.add);
this.fg.c(eR.qw(y));this.a5l()};bI.LV.prototype._=function(){for(var d in this.PS)this.PS[d]._();this.Gk._();
this.BO._();this.c3._();this.Gz._();this.H8._();this.AW._()};bI.LV.prototype.ND=function(d){var W=new bR(b.E.v,!0),c=this.Gz.h(),y=this.azd;
if(d.target==this.Gz&&c[2]==y[2]&&c[3]==y[3]){W.f=X.Sj;W.data={d:"trsl",eg:c[0]-y[0],Tt:c[1]-y[1]}}else{var B=e8.zY(new a8(c[0],c[1],c[2],c[3])),r=this.c3.ash();
r.artboardRect={t:"Objc",v:B};var x=this.Ue,Z=x.B[x.g[0]],i=Z.add.artb.guideIndeces;if(i)r.guideIndeces=JSON.parse(JSON.stringify(i));
W.f=X.jq;W.data={d:e8.Oy,U3:r}}this.T(W)};bI.LV.prototype.asr=function(d){var W=this.Ue,c=W.g[0];if(W.B[c].add.SoCo==null)return;
var y=JSON.parse(JSON.stringify(W.B[c].add.SoCo));y.Clr.v=this.ky.h();this.Gj({pF:1,ue:y})};bI.LV.prototype.af4=function(d){var W=this.Ue,c=W.g[0];
if(W.B[c].add.GdFl==null)return;this.Gj({pF:2,ue:this.Gk.h()})};bI.LV.prototype.ajc=function(d){this.Gj({pF:3,ue:this.BO.h()})};
bI.LV.prototype.Gj=function(d){this.aAw(X.jq,{d:e8.Ky,TZ:[this.Ue.g[0]],aG:!0,b:d})};bI.LV.prototype.a5l=function(d){this.aAw(X.Me,{d:"edit_layer",b:this.fg.h()})};
bI.LV.prototype.aAw=function(d,W){var c=new bR(b.E.v,!0);c.f=d;c.data=W;this.T(c)};bI.LV.prototype.M7=function(d,W){var c=ay.get([0,3]),y=!1,B=!1,r=null;
this.Ue=d;if(d&&d.B.length>0&&d.g.length!=0&&d.B[d.g[0]]){var x=d.B[d.g[0]],Z=bN.get(x.add);if(Z!=null&&this.PS[Z]!=null){r=this.PS[Z].n;
this.fg=this.PS[Z];this.PS[Z].c(JSON.parse(JSON.stringify(x.add[Z])));if(d.g[0]!=this.aBD){var i=d.Li(d.g[0]-1);
this.azz=v.kb(i)}this.PS[Z].Vf(this.azz);c=ay.get(bN.names[Z]);y=!0}if(Z==null&&x.add.artb==null){var k=this.XJ=v.A.zk(X.X.yo(d));
B=!k.Bb();var H=d.z_();k.x-=H.x;k.y-=H.y;this.AW.c([k.x,k.y,k.m,k.i],[d.tU,d.m,this.kO.UA.Wx])}if(x.add.SoCo){r=this.mW;
this.ky.c(x.add.SoCo.Clr.v);c=ay.get([6,48,0,0])}if(x.add.GdFl){r=this.MG;this.Gk.update(d,x.add.GdFl);
c=ay.get([6,48,0,1])}if(x.add.PtFl){r=this.hy;this.BO.update(d,x.add.PtFl);c=ay.get([6,48,0,2])}if(x.add.artb){var V=x.add.artb,g=x.ZB();
r=this.adX;this.c3.aC$(V);var N=this.azd=[g.x,g.y,g.m,g.i];this.Gz.c(N,[d.tU,d.m,this.kO.UA.Wx]);c=ay.get([1,16,0])}this.aBD=d.g[0]}if(r!=this.C6){if(this.C6)this.n.removeChild(this.C6);
if(r!=null)this.n.appendChild(r);this.C6=r}this.a1e.c(c);this.H8.n.style.display=y?"":"none";this.AW.n.style.display=B?"":"none"};
bI.LV.prototype.lz=function(d,W){this.kO=d;this.Gk.lz(d,W);this.BO.lz(d,W);if(W==kG.U5)this.M7(this.Ue,d);
for(var c in this.PS)this.PS[c].lz(d,W)};bI.fi=function(){d9.call(this);this.n=f.F("div","form");this.Ue=null;
this.Vx=0;var d=f.F("span","fitem");this.n.appendChild(d);this.TK=[new gs([6,2]),new gs([6,3]),new gs([6,50])];
for(var S=0;S<this.TK.length;S++){var W=this.TK[S];W.k("click",this.aqR,this);d.appendChild(W.n)}this.lV=new f2([12,74],0,255);
this.lV.k(b.E.p,this.fF,this);this.n.appendChild(this.lV.n);this.Np=new f2([7,6],0,500,"px",2,!0);this.Np.k(b.E.p,this.fF,this);
this.n.appendChild(this.Np.n);this.X$=new gs([4,11],null,null,!0);this.X$.k("click",this.avG,this)};
bI.fi.prototype=new d9;bI.fi.prototype.avG=function(){var d=new bR(b.E.v,!0);d.f=X.Me;d.data={d:"start",dH:"nvrt"};
this.T(d)};bI.fi.prototype.fF=function(d){var W=this.lV.h(),c=this.Np.h(),y=new bR(b.E.v,!0);y.f=X.jq;
y.data={d:e8.JL,W2:this.Ue.g[0],tp:{bQ:this.Vx,lV:W,Np:c}};this.T(y)};bI.fi.prototype._=function(){for(var S=0;
S<this.TK.length;S++)this.TK[S]._();this.lV._();this.Np._();this.X$._()};bI.fi.prototype.M7=function(d){this.Ue=d;
this.LR()};bI.fi.prototype.aqR=function(d){this.LR(this.TK.indexOf(d.currentTarget));this.parent.aBp(this.Vx)};
bI.fi.prototype.LR=function(d){var W=this.Ue,c=this.TK;for(var S=0;S<3;S++){var y=c[S];y.Lc();y.TB()}if(W==null||W.B.length==0||W.g.length==0||W.B[W.g[0]]==null)return;
var B=-1,r=W.B[W.g[0]];if(r.pX()&&r.WI(W).t!=null){c[2].uu();B=2}if(r.add.vmsk){c[1].uu();B=1}if(r.Q7()){c[0].uu();
B=0}if(d!=null)B=d;else if(r.lO)B=1;else if(r.MM==3)B=2;else if(r.MM==1)B=0;this.Vx=B;if(B==-1){this.lV.TB();
this.Np.TB();return}var x=r.oC(B);this.lV.uu();this.Np.uu();this.lV.c(x.lV);this.Np.c(x.Np);c[B].JR();
var Z=this.X$.n;if(B==0)this.n.appendChild(Z);else if(Z.parentNode==this.n)this.n.removeChild(Z)};bI.m$=function(){d9.call(this);
this.n=f.F("div","form");this.q5=null;this.kO=null;this.Bz=-1;this.AW=new hs(0,!1);this.BY=new f2([12,15],-180,180,"\xB0",2);
this.mo=new hs(1,!0);this.bC=new f2([12,94,0],0,100,null,2);this.o8=new f2([12,78],3,30);this.IY=new gs(["\u279C  ",[12,76,0]],null,null,!0);
this.AW.k(b.E.p,this.Vm,this);this.BY.k(b.E.p,this.Vm,this);this.mo.k(b.E.p,this.Vm,this);this.bC.k(b.E.p,this.Vm,this);
this.o8.k(b.E.p,this.Vm,this);this.IY.k("click",this.Vm,this)};bI.m$.prototype=new d9;bI.m$.prototype._=function(){this.AW._();
this.BY._();this.mo._();this.bC._();this.o8._()};bI.m$.prototype.Vm=function(d){var W=this.q5,c=v.dr.bO(W),y=d.target.h(),B=[this.AW,this.BY,this.mo,this.bC,this.o8,this.IY].indexOf(d.target);
if(B==0){var r=W.z_(),x=[],Z=x[0]=y[0]+r.x,i=x[1]=y[1]+r.y;x[2]=Z+y[2];x[3]=i+y[3];y=x}if(B==1)y=y*Math.PI/180;
var k={0:1,1:2,2:3,3:3,4:4}[B];c[k]=y;var H=new bR(b.E.v,!0);H.f=X.jq;H.data={d:e8.C2,b:c,akx:B==5};
this.T(H)};bI.m$.prototype.M7=function(d){var W=this.n;this.q5=d;if(d==null)return;var c=this.kO,y=[d.tU,d.m,c.UA.Wx],B=v.dr.bO(d),r=B[0],x=B[1];
if(x==null)return;var Z=r!=this.Bz;this.Bz=r;if(Z)f.qf(W);if(Z)W.appendChild(this.AW.n);if(Z)W.appendChild(this.BY.n);
var i=d.z_();this.AW.c([x[0]-i.x,x[1]-i.y,x[2]-x[0],x[3]-x[1]],y);this.BY.c(B[2]*180/Math.PI);if(r==2){if(Z)W.appendChild(this.mo.n);
var k=B[3];this.mo.c(k,y)}if(r==7||r==8){if(Z)W.appendChild(this.bC.n);this.bC.c(B[3])}if(r==8){if(Z)W.appendChild(this.o8.n);
this.o8.c(B[4])}W.appendChild(this.IY.n)};bI.m$.prototype.lz=function(d,W){this.kO=d;this.M7(this.q5)};
function dJ(d){aA.call(this,d.name,!0);this.Ig=d;this.qU=null;this.zl=new eC(this.CN);this.zl.parent=this}dJ.prototype=new aA;
dJ.CJ=function(){var d=document.createElement("canvas"),W=document.createElement("canvas"),c=16,y=v.R(16*16*4);
v.we(y,c,c,8);var B=v.scale.jZ(y,c,c);return{Tq:d,nC:W,nW:d.getContext("2d",{willReadFrequently:!0}),GG:W.getContext("2d"),l5:B}}();
dJ.prototype.adc=function(){if(this.Ig.l3())return window.confirm(ay.get([22,6,3])+" "+this.Ig.name+". "+ay.get([22,6,4]));
return!0};dJ.prototype.lz=function(d,W){this.qU=d};dJ.prototype.M7=function(d){this.Cs();this.xX()};
dJ.prototype.z2=function(d,W){if(d<=0||W<=0)return;this.Kp=d;this.fn=W;var c=this.Ig,y=dJ.CJ,B=f.QX();
c.Q.nW.m=Math.floor(d*B);c.Q.nW.i=Math.floor(W*B);f.GS(y.Tq,d,W);f.GS(y.nC,d,W);f.GS(d1.td(),d,W);if(c.Q.O==0)c.Q.O=X.UK.cn(c.m,c.i,d*B,W*B);
this.xX()};dJ.prototype.Cs=function(){var d=this.CN.firstChild,W=dJ.CJ,c=d1.ZV&&be==0;if(!c&&d==d1.td()||c&&d==W.Tq)this.CN.removeChild(d);
var y=c?d1.td():W.Tq;if(!f.ni(y))this.CN.appendChild(y)};dJ.prototype.xX=function(){if(this.qU==null)return;
var d=this.Ig,W=d1.ZV&&be==0;if(W)this.ao2();else this.pw()};dJ.prototype.ao2=function(){if(d1.ZV&&dJ.CM==null){var d=dJ.CM=[],W=[0,2,8,32,128];
for(var S=0;S<5;S++)d[S]=[new dJ.qd(!1,W[S],!1),new dJ.qd(!0,W[S],!1)];d.push([new dJ.qd(!1,0,!0),new dJ.qd(!0,0,!0)])}var c=this.Ig,y=dJ.CJ,C,U=0,R,t;
if(c.xf==null)return;var B=c.Q,r=B.nW.m,x=B.nW.i,Z=d1.bN;y.nW.clearRect(0,0,r,x);var i=this.a8T(c);if(B.IP==null||B.IP.m!=r||B.IP.i!=x)B.IP=new d1.ii(r,x);
if(i){var k=Date.now(),H=x,V=new Uint8Array(y.nW.getImageData(0,0,r,H).data.buffer);B.IP.set(V,new a8(0,0,r,H));
this.oq=!0}else if(this.qU.dZ){if(this.oq){d1.QO(B.IP);d1.S9(1);this.oq=!1}var g=v.T6.WV,V=new Uint8Array(c.Q.UG.data.buffer);
B.IP.set(V,new a8(0,0,g,x));var V=new Uint8Array(c.Q.N9.data.buffer);B.IP.set(V,new a8(0,0,r,g));var V=new Uint8Array(y.nW.getImageData(0,x-g,r,g).data.buffer);
B.IP.set(V,new a8(0,x-g,r,g));this.oq=!0}else if(this.oq){d1.QO(B.IP);d1.S9(1);this.oq=!1}var N=B.Yd(0,0);
if(dJ.a53==null)dJ.a53=new Float32Array(4*1024);var w=[0,0,0,0],Y=dJ.a53;if(c.add.artd){Y.fill(0);w=dJ.cj(c);
var e=c.m,O=c.i,z=0;for(var S=0;S<c.B.length;S++){var l=c.B[S],I=l.add.artb;if(I==null||!l.jF())continue;
var s=l.ZB();Y[U]=s.x/e;Y[U+1]=s.y/O;Y[U+2]=s.m/e;Y[U+3]=s.i/O;U+=4;if(U==Y.length)break}if(U>2*4)z++;
if(U>8*4)z++;if(U>32*4)z++;C=dJ.CM[z+1];Y=new Float32Array(Y.buffer,0,[2,8,32,128][z]*4)}else C=dJ.CM[c.PZ?5:0];
var a=c.ds();if(a==null)C=C[0];else{C=C[1];t=a[c.add.fcmy==1?6:4];R=a[2]}d1.asV(r,x);d1.S9(0);d1.asV(r,x);
C.e3();var J=new dT;J.scale(r,x);J.concat(B.Yo(!0));J.scale(1/c.m,1/c.i);var F=[J.U,J.J,0,J.gp,J.x7,0,J.IS,J.rk,1];
C.LQ(B.IP.yd,c.xf.yd,new Float32Array(F),new Float32Array([r/8,x/8,N.x/r,N.y/x]),c.m,c.i,1/c.Q.O,r,x,new Float32Array(w),Y,new Float32Array(v.hu.VT(v.hu.a3G(B.M))),t,R);
Z.drawArrays(Z.TRIANGLES,0,6)};dJ.cj=function(d){return[0,0,0,0]};dJ.atu=function(d){var W=v.L.E5(d.v),c=[W.Z/255,W.G/255,W.J/255,1];
for(var S=0;S<4;S++)c[S]=Math.min(1,c[S]);return c};dJ.mL=function(d,W){var c=d[2]*255;if(d1.ZV)c=W?0:Math.max(2,c);
return"rgba("+d[0]*255+","+d[1]*255+","+c+","+d[3]+")"};dJ.Op=function(d){var W=d.length;if(d1.ZV)for(var S=0;
S<W;S+=4){if(d[S+2]==0)d[S+2]=3}};dJ.prototype.pw=function(){var d=this.Ig,W=dJ.CJ;if(be==0&&d.buffer==null)return;
var c=d.Q,y=c.nW,B=y.m,r=y.i,x=new a8(0,0,d.m,d.i);W.GG.clearRect(0,0,B,r);W.nW.clearRect(0,0,B,r);var Z=c.Yo(!0),i=Z.clone();
i.QE();if(d.add.artd==null){W.nW.save();var k=i.iC(new aL(0,0));i.translate(-k.x,-k.y);W.nW.translate(Math.round(k.x),Math.round(k.y));
W.nW.fillStyle=be==0?W.l5:"#ffffff";if(d.PZ)W.nW.fillRect(-5e3,-5e3,2e4,2e4);else{var H=d.add.arts;if(be==1)for(var S=0;
S<H.length;S++){var V=v.A.c7(H[S].ur);this.Cn(v.A.z$(V),i,W.nW);W.nW.fill()}else{this.Cn(v.A.z$(x),i,W.nW);
W.nW.fill()}}W.nW.restore()}else{W.nW.fillStyle=dJ.mL(dJ.cj(d));W.nW.fillRect(0,0,B,r);W.nW.save();W.nW.setTransform(i.U,i.J,i.gp,i.x7,i.IS,i.rk);
var g=d.root.children;for(var S=0;S<g.length;S++){var N=g[S].a;if(N.add.artb==null||!N.jF())continue;
var C=N.ZB(),w=N.OM();if(w!=0)continue;W.nW.fillStyle=W.l5;W.nW.save();W.nW.scale(1/c.O,1/c.O);W.nW.fillRect(c.O*C.x,c.O*C.y,C.m*c.O,C.i*c.O);
W.nW.restore()}W.nW.restore()}if(c.nf.length!=y.P()){c.nf=v.R(y.P());c.OS=v.R(y.P()*4)}c.OS.fill(0);
if(be==1){var i=c.Yo(!0);i.QE();W.nW.save();var Y=v.A.z$(c.nW);v.A.e(Y.j,c.Yo(!0),Y.j);var V=v.A.xG(Y.j);
W.nW.setTransform(i.U,i.J,i.gp,i.x7,i.IS,i.rk);d.root.ho(d,W.nW,this.qU,V);W.nW.restore()}else{v.scale.aqa(d.buffer,x,Z,c.OS,y,d.PZ);
var U=d.ds();if(U)ICC.U.applyLUT(U[d.add.fcmy==1?5:3],U[2],c.OS,c.OS);if(c.M[0]+c.M[1]+c.M[2]!=3)v.hu.aC_(c.OS,c.OS,v.hu.a3G(c.M));
W.GG.putImageData(new ImageData(new Uint8ClampedArray(c.OS.buffer),y.m,y.i),0,0);W.nW.drawImage(W.nC,0,0);
W.nW.getImageData(0,0,1,1)}this.a8T(d)};dJ.prototype.a8T=function(d){var W=d.Q,c=W.M[0]+W.M[1]+W.M[2],y=dJ.CJ,B=!1,r=[];
for(var S=0;S<d.g.length;S++){var x=d.B[d.g[S]];if(x==null)continue;var Z=x.MM;if(Z!=1&&Z!=3)continue;
var i=Z==1?x.Q7():x.WI(d).t;if(i.xV)r.push(i)}for(var S=0;S<d.iv.length;S++)if(d.iv[S].xV)r.push(d.iv[S]);
for(var S=0;S<r.length;S++){var i=r[S];this.aBl(i,W,r.length==1&&c==0?2:1,i.color,i.am);B=!0}var k=this.qU;
B=this.aAQ(d,y.nW,W,r.length!=0)||B;if(d.u&&k.hA&&k.UA.Tk){this.aBl(d.u,W,0,0,null);B=!0}return B};dJ.prototype.aBl=function(d,W,c,y,B){var r=0;
if(B)r=Math.round(B.J)<<16|Math.round(B.G)<<8|Math.round(B.Z);var x=W.Yo(!0),Z=W.nW,i=new a8(0,0,W.Ig.m,W.Ig.i),k=dJ.CJ;
if(W.OS==null||W.OS.length!=Z.P()*4){W.nf=v.R(Z.P());W.OS=v.R(Z.P()*4)}W.nf.fill(y);W.OS.fill(0);var H=d.channel,V=d.rect;
v.scale.e(H,V,x,W.nf,Z);if(c==0){var g=new Uint32Array([4278190080,4294967295]);dJ.Op(new Uint8Array(g.buffer));
v.u.ae4(W.nf,W.OS,Z,g,f.QX()>1.9)}else{var N=Date.now();v.u.aiy(W.nf,W.OS,Z,c,r);dJ.Op(W.OS)}var C=new ImageData(new Uint8ClampedArray(W.OS.buffer),Z.m,Z.i);
k.GG.putImageData(C,0,0);k.nW.save();if(c!=0){var w=new a8(0,0,i.m,i.i),Y=x.clone();Y.QE();this.Cn(v.A.z$(w),Y,k.nW);
k.nW.clip()}k.nW.drawImage(k.nC,0,0);k.nW.restore()};dJ.prototype.aAQ=function(d,W,c,y){var B=d.N.SM!=null||d.N.fZ!=null||d.N.vg!=null||d.N.AR!=null||d.N.rU.length!=0||d.N.Te.length!=0,r=this.qU,x=r.UA,Z=hL.KI[r.jD],i=Math.round(12*f.QX()),k=i/d.Q.O,H=c.Yo(!0);
H.QE();W.save();W.setTransform(H.U,H.J,H.gp,H.x7,H.IS,H.rk);var V=dJ.cj(d)[0];V=V<.5?V+.5:V-.5;V=""+Math.round(V*255).toString(16);
while(V.length<2)V="0"+V;W.font=k+"px sans-serif";if(d.add.artd){W.fillStyle="#"+V+V+V;for(var S=0;S<d.B.length;
S++){var g=d.B[S];if(g.add.artb==null||!g.jF())continue;var N=g.ZB();W.save();W.beginPath();W.rect(N.x,N.y-2*k,N.m,2*k);
W.clip();W.fillText(g.getName(),N.x+2,N.y-k*.7);W.beginPath();W.restore();B=!0}}if(d.add.arts&&r._9==X.aog){var C=d.add.arts;
for(var S=0;S<C.length;S++){var N=C[S],w=v.A.c7(N.ur),Y=(S+1+"").padStart(2,"0");Y+=" - "+N._S;W.save();
W.beginPath();W.fillStyle=N.g?"#cce6ff":"#dddddd";W.rect(w.x,w.y,W.measureText(Y).width+k,k*1.5);W.fill();
W.fillStyle="black";W.fillText(Y,w.x+k/2,w.y+k*1.1);W.restore()}B=!0}function U(jZ){return jZ==1||jZ==2||jZ==4||jZ==5}var e=dJ.mL([.3,.5,1,1]),O=dJ.mL([1,1,1,1]);
if(r.hA&&x.GB){W.fillStyle=W.strokeStyle=e;W.lineWidth=1.5/c.O;var l=d.Tz(),I=l[0],s=l[1];for(var z=0;
z<s.length;z++){var g=I[s[z]],R=g.add.vmsk,t=R.Y,a=v.A.ly(t);this.Cn(a,null,W);W.stroke();B=!0;var J=3*f.QX()/c.O;
for(var S=0;S<R.sF.length;S++){var F=v.o.apt(t,R.sF[S]);if(F==null)continue;var h=F.x,m=F.y;W.beginPath();
var D=S==0;if(R.KV)D=!D;if(D){W.moveTo(h-J,m-J);W.lineTo(h+J,m+J);W.moveTo(h-J,m+J);W.lineTo(h+J,m-J);
W.stroke()}else{W.arc(h,m,J*1,0,2*Math.PI);W.fill()}B=!0}if(d.g.length!=1)continue;var _=-1,n=-1,j=-1;
for(var S=0;S<t.length;S++){if(t[S].type>5)continue;if(t[S].type==0||t[S].type==3){n=S+1;j=t[S].length;
if(t[S].p5!=-1)_++;continue}if(R.g.indexOf(_)!=-1){var h=t[S].I.x,m=t[S].I.y;W.fillRect(h-J*.8,m-J*.8,2*J*.8,2*J*.8)}if(R.Hc.indexOf(S)!=-1){var T=t[S],L=[T.I];
W.beginPath();W.moveTo(T.sV.x,T.sV.y);W.lineTo(T.I.x,T.I.y);W.lineTo(T.XM.x,T.XM.y);var p=n+(S+j-n-1)%j,E=n+(S+j-n+1)%j,G=t[p],A=t[E];
if(G&&U(G.type)&&R.Hc.indexOf(p)==-1){W.moveTo(G.I.x,G.I.y);W.lineTo(G.XM.x,G.XM.y);L.push(G.XM)}if(A&&U(A.type)&&R.Hc.indexOf(E)==-1){W.moveTo(A.I.x,A.I.y);
W.lineTo(A.sV.x,A.sV.y);L.push(A.sV)}W.stroke();if(!T.I.zI(T.sV))L.push(T.sV);if(!T.I.zI(T.XM))L.push(T.XM);
for(var u=0;u<L.length;u++){var F=L[u],h=F.x,m=F.y;if(u==0&&(T.type==2||T.type==5))W.fillRect(h-1.2*J,m-1.2*J,2.4*J,2.4*J);
else{W.beginPath();W.arc(h,m,J*1.2,0,2*Math.PI);W.fill();if(u!=0)W.fillStyle=O;W.beginPath();W.arc(h,m,J*.8,0,2*Math.PI);
W.fill();W.fillStyle=e}}}B=!0}}}W.lineWidth=1/c.O;if(d.N.my){W.fillStyle=W.strokeStyle=e;var A={j:[],r:[]},q=dJ.a9F;
if(q==null){q=dJ.a9F={j:[1,0],r:["M"]};for(var S=1;S<30;S++){var o=Math.PI*2*S/30;q.j.push(Math.cos(o),Math.sin(o));
q.r.push("L")}q.r.push("Z","M","L","M","L");q.j.push(-.5,0,.5,0,0,-.5,0,.5)}for(var S=0;S<d.N.my.length;
S++){var G=X.M5.ah3(d.N.my[S],c),M=new dT(G[0],0,0,G[0],G[1],G[2]);v.A.concat(A,q,M)}this.Cn(A,null,W);
W.stroke();B=!0}var $=new dT(1,0,0,1,.5/c.O,.5/c.O);if(d.PZ){W.fillStyle=W.strokeStyle=e;var A={j:[0,0,d.m,0,d.m,d.i,0,d.i],r:["M","L","L","L","Z"]};
this.Cn(A,$,W);W.stroke();B=!0}if(d.N.gV){W.fillStyle=W.strokeStyle=dJ.mL([0,0,0,.5]);this.Cn(d.N.gV,null,W,!0);
W.fill("evenodd")}W.strokeStyle=e;W.fillStyle=O;if(d.N.vg){this.Cn(d.N.vg,$,W);W.stroke()}var Q=dJ.rE(d.N.Ve,W,c);
W.fill();W.stroke();B=B||Q;W.fillStyle=W.strokeStyle=dJ.mL([0,0,0,d1.ZV&&be==0?1:.5],!0);if(d.N.SM){this.Cn(d.N.SM,null,W);
W.fill()}if(d.N.fZ){this.Cn(d.N.fZ,$,W);W.stroke()}for(var kF in d.N._q)if(d.N._q[kF].fZ){this.Cn(d.N._q[kF].fZ,null,W);
W.stroke();B=!0}var Q=dJ.rE(d.N.dk,W,c);W.stroke();B=B||Q;if(d.N.Gl.length+d.N.ZS.length+d.N.Jv.length!=0){B=!0;
W.fillStyle=O;dJ.DV(d.N.Gl,W,c,6);W.fill();dJ.DV(d.N.ZS,W,c,6);W.fill();W.fillStyle=e;dJ.DV(d.N.Gl,W,c,4);
W.fill();dJ.DV(d.N.Jv,W,c,4);W.fill();W.fillStyle=dJ.mL([.7,.7,.7,1]);dJ.DV(d.N.ZS,W,c,4);W.fill()}if(d.N.rU.length!=0){for(var S=0;
S<d.N.rU.length;S++){var P=d.N.rU[S],bM=P[1],jW;if(y){jW=W.getImageData(bM.x,bM.y,bM.m,bM.i);v.l.Ip("norm",P[0],bM,new Uint8Array(jW.data.buffer),bM,bM,1)}else jW=new ImageData(new Uint8ClampedArray(P[0].buffer),bM.m,bM.i);
W.putImageData(jW,bM.x,bM.y)}}var fX=.5/c.O;W.lineWidth=1/c.O;if(d.N.Tc){B=!0;var bX=d.N.Tc,ao=bX.sf,a={r:[],j:[]};
for(var S=0;S<bX.rR.length;S++)v.A.concat(a,v.A.z$(bX.rR[S]));a.j=a.j.concat(ao);for(var S=0;S<ao.length;
S+=4){a.r.push("M","L")}for(var S=0;S<a.j.length;S++){a.j[S]+=fX}W.strokeStyle=dJ.mL([.9,.2,.2,1]);this.Cn(a,null,W);
W.stroke();var en=f.QX(),fK=2/c.O;W.font=k*.9+"px sans-serif";for(var S=0;S<ao.length;S+=4){var h=ao[S],m=ao[S+1],bO=ao[S+2],b9=ao[S+3],bK=Math.sqrt((b9-m)*(b9-m)+(bO-h)*(bO-h));
bK=v.T6.By(bK,d.tU,r,m==b9?d.m:d.i);var f0=new aL((h+bO)/2,(m+b9)/2);W.fillStyle=dJ.mL([.9,.2,.2,1]);
var hn=W.measureText(bK).width;W.fillRect(f0.x-hn/2-fK*en,f0.y-3.5*fK*en,hn+2*fK*en,7*fK*en);W.fillStyle=dJ.mL([1,1,1,1]);
W.save();W.translate(f0.x-hn/2,f0.y+2*fK*en);W.scale(.1,.1);W.font=k*9+"px sans-serif";W.fillText(bK,0,0);
W.restore()}}if(r.hA){if(x.R_&&d.Q.O>10&&be==0){this.we(d,W,1,1,.25,x.h7,16777215);B=!0}if(x.M0){var hX=v.T6.Ho(x.$z,d.tU,d.m,x.kW),gR=hX;
if(x.kW==4)gR*=d.i/d.m;this.we(d,W,hX,gR,1,x.h7,x.Aw);B=!0}if(x.qx){var ib=d.B5(),gU=d.Vj(),hq=Math.max(d.Q.nW.m,d.Q.nW.i)/d.Q.O;
hq=Math.max(Math.max(d.m,d.i)*2,hq);for(var S=0;S<ib[0].length;S++){var ip=ib[0][S],aW=ib[1][S];if(aW!=-1&&aW!=gU)continue;
var kN=c.Yd(ip[1],ip[1]),hW=c.q9(Math.floor(kN.x)+.5,Math.floor(kN.y)+.5),jH=v.S4(x.q$);jH=[jH.Z/255,jH.G/255,jH.J/255,1];
if(aW!=-1)jH=[0,.5,1,1];W.beginPath();W.strokeStyle=dJ.mL(jH);if(ip[0]==0){var g0=hW.x;W.moveTo(g0,-hq);
W.lineTo(g0,hq)}else{var gC=hW.x;W.moveTo(-hq,gC);W.lineTo(hq,gC)}W.stroke();B=!0}}var jL=d.Fw;if(jL.length>0&&r._9==X.ajG){var bM=7/d.Q.O,jf=bM/3,cm=bM*4;
W.strokeStyle=W.fillStyle="black";for(var S=0;S<jL.length;S++){var eh=jL[S];W.fillRect(eh.x-.5*jf,eh.y-.5*cm,jf,cm);
W.fillRect(eh.x-.5*cm,eh.y-.5*jf,cm,jf);W.lineWidth=2.5/d.Q.O;W.beginPath();W.arc(eh.x,eh.y,bM,0,2*Math.PI);
W.stroke();W.font=1.9*bM+"px serif";W.lineWidth=1.25/d.Q.O;W.strokeText(""+(S+1),eh.x+.75*bM,eh.y+2.5*bM)}B=!0}var bu=d.nD;
if(x.nD&&bu.length!=0){W.font=k*.8+"px sans-serif";var eJ=[],eZ=[];for(var S=0;S<bu.length;S++){var a0=X.ju.tA(bu,S);
eJ.push(a0);if(d.Xr.indexOf(S)!=-1)eZ.push(a0)}eJ.reverse();var gZ=Date.now();eJ=v.rect.akL([0,0,d.m,d.i],eJ);
for(var u=0;u<2;u++)for(var S=0;S<eJ.length;S++){var bt=eJ[S],_=bt[4],j=_!=null?bu[_]:null;if(j&&u==0||j==null&&u==1)continue;
var h=Math.round(bt[0]),m=Math.round(bt[1]),bO=Math.round(bt[2]),b9=Math.round(bt[3]);W.strokeStyle=W.fillStyle=dJ.mL(j?[0,.7,.7,1]:[.8,.8,.8,1]);
W.strokeRect(h+fX,m+fX,bO-h,b9-m);var dp=S+1,gb=W.measureText(dp),hn=gb.width;W.fillRect(h,m,hn+k/2,k);
W.fillStyle=dJ.mL([1,1,1,1]);W.fillText(dp,h+k/4,m+k*.8)}var fK=2/d.Q.O,e_=2*fK;for(var S=0;S<eZ.length;
S++){var bt=eZ[S],h=Math.round(bt[0]),m=Math.round(bt[1]),bO=Math.round(bt[2]),b9=Math.round(bt[3]);
W.strokeStyle=W.fillStyle=dJ.mL([1,.6,0,1]);W.strokeRect(h+fX,m+fX,bO-h,b9-m);var dO=[h,m,bO,m,bO,b9,h,b9];
for(var dC=0;dC<dO.length;dC+=2){var g0=dO[dC],gC=dO[dC+1],kc=dO[dC+2&7],ia=dO[dC+3&7];W.fillRect(g0-fK,gC-fK,e_,e_);
W.fillRect(Math.round((g0+kc)/2)-fK,Math.round((gC+ia)/2)-fK,e_,e_)}}B=!0}var hO=d.add.Anno;if(hO&&hO.length!=0)for(var S=0;
S<hO.length;S++){var cj=hO[S],jH=cj[2],g0=cj[0]-fX,gC=cj[1]-fX,e_=30/c.cv,bA=.4*e_,bg=.6*e_;W.beginPath();
W.moveTo(g0,gC+bg);W.lineTo(g0,gC);W.lineTo(g0+e_,gC);W.lineTo(g0+e_,gC+e_);W.lineTo(g0+bA,gC+e_);W.closePath();
W.lineTo(g0+bA,gC+bg);W.lineTo(g0+bA,gC+e_);if(S==d.Q.g8){W.lineWidth*=5;W.strokeStyle=dJ.mL([0,0,0,.5]);
W.stroke();W.lineWidth/=5}W.fillStyle=dJ.mL([jH.Z/255,jH.G/255,jH.J/255,1]);W.fill();W.strokeStyle=dJ.mL([0,0,0,1]);
W.stroke()}}W.strokeStyle=dJ.mL([1,0,0,1]);if(d.N.AR){this.Cn(d.N.AR,$,W);W.stroke()}W.restore();if(r.dZ){if(d.Q.N9==null||d.Q.N9.width!=d.Q.nW.m||d.Q.UG.height!=d.Q.nW.i){d.Q.N9=W.createImageData(d.Q.nW.m,v.T6.WV);
d.Q.UG=W.createImageData(v.T6.WV,d.Q.nW.i)}var Z=hL.KI[r.jD],cX=0,i4=0,fJ=d.m,iu=d.i;if(d.Vj()!=-1){var N=d.B[d.Vj()].ZB();
cX=N.x;i4=N.y;fJ=N.m;iu=N.i}cX*=c.O;i4*=c.O;var c=d.Q,hV=[1,d.tU,d.tU/2.54,d.tU/25.4,fJ/100][x.Wx],f$=c.O*d.m/2,kg=c.O*d.i/2,jy=[c.O*hV,new aL(c.z.x+(cX+f$*hV-f$),c.z.y+(i4+kg*hV-kg))];
if(x.Wx==4)hV*=iu/fJ;var iM=[c.O*hV,new aL(c.z.x+(cX+f$*hV-f$),c.z.y+(i4+kg*hV-kg))],hI=this.zl.NV;v.T6.auH(c,Z["--text-color"],Z["--bg-input"],Math.floor(hI.x),Math.floor(hI.y),jy,iM);
var cd=h6.akc(c.O,dJ.mL([1,1,1,1]),d.m,d.i);dJ.Op(d.Q.UG.data);dJ.Op(d.Q.N9.data);W.putImageData(d.Q.UG,0,0);
W.putImageData(d.Q.N9,0,0);W.putImageData(cd,0,d.Q.nW.i-cd.height)}if(d.N.Te.length!=0){for(var S=0;
S<d.N.Te.length;S++){var P=d.N.Te[S],bM=P[1];W.putImageData(new ImageData(new Uint8ClampedArray(P[0].buffer),bM.m,bM.i),bM.x,bM.y)}}return B};
dJ.prototype.we=function(d,W,c,y,B,r,x){while(c*d.Q.O<4){c*=2;y*=2}var Z=d.m,i=d.i,k=.5/d.Q.O;x=v.S4(x);
W.strokeStyle=dJ.mL([x.Z/255,x.G/255,x.J/255,B],!1);W.save();W.rect(0,0,Z,i);W.clip();W.beginPath();
for(var H=0;H<=Z;H+=c){W.moveTo(H+k,0);W.lineTo(H+k,i)}if(r==0){for(var V=0;V<=i;V+=y){W.moveTo(0,V+k);
W.lineTo(Z,V+k)}}else{y*=Math.sqrt(4/3);var g=y*Math.floor(Z/y),N=Z*(y/(2*c));for(var V=-g;V<=i+g;V+=y){W.moveTo(0,V);
W.lineTo(Z,V-N);W.moveTo(0,V);W.lineTo(Z,V+N)}}W.stroke();W.restore()};dJ.DV=function(d,W,c,y){W.beginPath();
var B=y*f.QX()/c.O,r=!1;for(var S=0;S<d.length;S+=2){r=!0;var x=d[S],Z=d[S+1];W.moveTo(x+B,Z);W.arc(x,Z,B,0,2*Math.PI)}return r};
dJ.rE=function(d,W,c,y){W.beginPath();var B=(y?y:1)*(4*f.QX()+.5)/c.O,r=!1;for(var S=0;S<d.length;S+=2){r=!0;
var x=d[S],Z=d[S+1];W.rect(x-B,Z-B,2*B,2*B)}return r};dJ.re=function(d,W,c,y){c.beginPath();if(y)c.rect(-1e5,-1e5,1e6,1e6);
var B=d;if(W){B=v.A.clone(d);v.A.e(B.j,W,B.j)}Typr.U.pathToContext({cmds:B.r,crds:B.j},c)};dJ.prototype.Cn=dJ.re;
dJ.qd=function(d,W,c){d1.zW.call(this);var y=this.a6k=W!=0,B=c?"true":"in01(sCoord)",r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(d?"uniform sampler2D lut;  uniform float N;  "+d1.$s.aCO:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(y?"uniform vec4 bgClr;  uniform vec4 ars["+W+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+d1.$s.aCX+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(c?"-floor(sCoord)":"")+"); \t\t\t\t"+(d?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(y?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+W+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+B+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+B+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",x="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.wa(r,x)};dJ.qd.prototype=new d1.zW;dJ.qd.prototype.LQ=function(d,W,c,y,B,r,x,Z,i,k,H,V,g,N){this.uW("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var C=d1.bN,w=this.hq;C.uniformMatrix3fv(w.tmat,!1,c);C.uniform4fv(w.gsize,y);C.uniform3f(w.contSizeZoom,B,r,x);
C.uniform2f(w.cnvSize,Z,i);C.uniformMatrix4fv(w.ctrn,!1,V);if(this.a6k){C.uniform4fv(w.ars,H);C.uniform4fv(w.bgClr,k)}C.uniform1i(w.source,0);
C.uniform1i(w.target,1);C.activeTexture(C.TEXTURE0);C.bindTexture(C.TEXTURE_2D,d);C.activeTexture(C.TEXTURE1);
C.bindTexture(C.TEXTURE_2D,W);if(g){C.uniform1f(w.N,N);C.uniform1i(w.lut,2);C.activeTexture(C.TEXTURE2);
C.bindTexture(C.TEXTURE_2D,g.yd);var Y=C.LINEAR;C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,Y);
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,Y)}C.activeTexture(C.TEXTURE0)};function jK(){aA.call(this,[9,7],!1,"---panels/layercomps",aA.HX.awz);
this.CN.setAttribute("style","min-width:240px;");this.Ue=null;this.AL=-1;this.L7=[];this.Ke=f.F("div","scrollable");
this.Ke.style.height="160px";this.CN.appendChild(this.Ke);this.OZ=f.F("div","lpfoot");this.CN.appendChild(this.OZ);
this.HB=[];var d=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],W=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var S=0;S<d.length;S++){var c=d[S];if(S>0)c="<img src=\""+PIMG[d[S]]+"\" class=\"miniscale gsicon\" />";
var y=new gs(c,!1,W[S]);y.k("click",this.aqM,this);this.OZ.appendChild(y.n);this.HB.push(y)}}jK.prototype=new aA("");
jK.prototype.z2=function(d,W){this.CN.setAttribute("style","width:"+(d-2)+"px;");this.Ke.style.height=W-28+"px"};
jK.prototype.rV=function(d){var W=new bR(b.E.v,!0);W.data=d;W.f=X.mw;this.T(W)};jK.a2g="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
jK.prototype.aqM=function(d){var S=this.HB.indexOf(d.currentTarget)-1;if(S==-1){var W=new bR(b.E.V,!0);
W.data={d:b.H.r3,za:jK.a2g};this.T(W);return}if(S!=1)if(this.AL==-1)return;this.rV({d:["updLC","addLC","delLC"][S],Wr:this.AL});
if(S==2)this.AL=-1};jK.prototype._=function(){aA.prototype._.call(this);for(var S=0;S<this.HB.length;
S++)this.HB[S]._()};jK.prototype.M7=function(d){if(d==null)f.CH(this.CN,"disabled");else f.V6(this.CN,"disabled");
this.Ue=d;f.qf(this.Ke);if(d==null)return;var W=d.qv.lastAppliedComp?d.qv.lastAppliedComp.v:0,c=d.qv.list.v.slice(0);
c.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var S=0;S<c.length;
S++){var y=c[S].v,B=new jm(y.Nm.v,y.compID.v,y.capturedInfo.v,W,this.AL);B.k("activate",this.np,this);
B.parent=this;this.Ke.appendChild(B.n);this.L7.push(B)}};jK.prototype.np=function(d){this.AL=d.currentTarget.Wr;
this.M7(this.Ue)};function jm(d,S,W,c,y){d9.call(this);this.Wr=S;this.n=f.F("div","head listitem"+(S==y?" selected":""));
var B=S==c,r=new gs(B?"\u2713":"\u2014");if(B)r.JR();this.n.appendChild(r.n);r.k("click",this.Vs,this);
var x=this.Q_=f.F("span");x.textContent=d;this.n.appendChild(x);this.HB=[];if(S!=0){this.n.addEventListener("mouseup",this.np.bind(this),!1);
this.axJ=f.F("span","headR");this.n.appendChild(this.axJ);var Z=["lrs/eye","pos","lrs/fx"],i=["Visibility","Position","Appearance"];
for(var k=0;k<Z.length;k++){var H=new gs("<img src=\""+PIMG[Z[k]]+"\" class=\"autoscale gsicon\" />",!1,i[k]);
if((W>>k&1)==0)H.n.setAttribute("style","opacity:0.3");H.k("click",this.asc,this);this.axJ.appendChild(H.n);
this.HB.push(H)}}}jm.prototype=new d9;jm.prototype.np=function(d){if(d.target!=this.Q_&&d.target!=this.n)return;
if(d.detail==1)this.T(new bR("activate",!1));else{var W=new aA.wB(this.Q_,this.LE.bind(this))}};jm.prototype.asc=function(d){var S=this.HB.indexOf(d.currentTarget);
this.rV({d:"editLC",as0:S,Wr:this.Wr})};jm.prototype.LE=function(d){this.rV({d:"editLC",Su:d,Wr:this.Wr})};
jm.prototype.Vs=function(d){this.rV({d:"setLC",Wr:this.Wr})};jm.prototype.rV=function(d){var W=new bR(b.E.v,!0);
W.data=d;W.f=X.mw;this.T(W)};function i5(){aA.call(this,[9,11],!1,"---panels/navigator",aA.HX.ahY);var d=this.CN;
f.CH(d,"padded");d.setAttribute("style","cursor:grab;");this.YW=f.F("canvas");d.appendChild(this.YW);
f.MZ(d);f.g0(this.YW);f._0(this.YW,this.Ad.bind(this));this.Gh=new fs(null,2,6400,"%",null,!0);this.Gh.k(b.E.p,this.aty,this);
d.appendChild(this.Gh.n);this.a2Y=this.Fv.bind(this);this.aBL=this.kU.bind(this);this.q5=null;this.Ia=null;
this.tR=!1}i5.prototype=new aA("");i5.prototype.z2=function(d,W){this.Kp=d*1.2;this.fn=W*1.2;this.xX()};
i5.prototype.aty=function(d){var W=this.Gh.h(),c=this.q5,y=W/100;if(.8<y&&y<1.2)y=1;else if(1.8<y)y=Math.round(y);
var B=new bR(b.E.v,!0);B.f=X.AO;B.data={d:"zoom",O:y};this.T(B)};i5.prototype.Ad=function(d){var W=this.q5;
if(W==null)return;this.tR=!0;f.kk(window,this.a2Y);f.OD(window,this.aBL)};i5.prototype.Fv=function(d){var W=f.Ne(d,this.YW),c=this.q5,y=this.YW.width,B=this.YW.height,r=(W.x*f.QX()-y/2)/y,x=(W.y*f.QX()-B/2)/B,Z=f.QX()*c.Q.O,i=Math.round(-c.Q.O*c.m*r),k=Math.round(-c.Q.O*c.i*x);
X.ui.WR(c,i,k)};i5.prototype.kU=function(d){f.jU(window,this.a2Y);f.Ra(window,this.aBL);this.tR=!1};
i5.prototype.M7=function(d){if(d==null&&this.q5!=null)this.YW.width=100;this.q5=d;this.xX()};i5.prototype.atG=function(){var d=this.q5,W=f.QX(),c=X.UK.cn(d.m,d.i,W*(this.Kp-10),W*(this.fn-36)),y=v.NB(d.Li(),new a8(0,0,d.m,d.i),c);
this.Ia=[y.Gq,y.rect]};i5.prototype.xX=function(){var d=this.q5;if(d==null||d.Q.O==0)return;var W=d.Q;
if(!f.ni(this.CN))return;this.Gh.c(W.O*100);if(!this.tR)this.atG();var c=this.Ia[0],y=this.Ia[1],B=y.m,r=y.i,x=this.YW;
x.width=B;x.height=r;f.lE(x,B,r);var Z=this.CN;Z.style.width=this.YW.style.width+12+"px";var i=x.getContext("2d"),k=i.createImageData(B,r);
v.PY(c,k.data);i.putImageData(k,0,0);i.getImageData(0,0,1,1);var H=W.nW,V=W.q9(H.x,H.y),g=W.q9(H.x+H.m,H.y+H.i),N=B/d.m;
i.scale(N,N);i.lineWidth=4/N;i.strokeStyle="#ff0000";i.strokeRect(V.x,V.y,g.x-V.x,g.y-V.y)};i5.prototype.lz=function(d,W){};
i5.prototype.Cs=function(){this.xX()};function kb(d,W){aA.call(this,d.name,!1,d.icon,W);this.azA=d}kb.prototype=new aA("");
kb.prototype.Km=function(){var d=this.CN,W=this.azA;if(!f.ni(d)||this.IB)return;var c=this.IB=f.F("iframe");
c.setAttribute("src",W.url);this.CN.appendChild(c)};kb.prototype.Cs=kb.prototype.M7=function(){this.Km()};
kb.prototype.Gv=function(d){if(f.ni(this.IB))this.IB.contentWindow.postMessage(d,"*")};kb.prototype.z2=function(d,W){if(this.IB==null)return;
this.IB.setAttribute("style","width:"+d+"px; height:"+W+"px")};function j3(){aA.call(this,[9,12],!1,"---panels/tpreset",aA.HX.tf);
this.kO=null;this.sA=new cL(X.Bo);this.sA.parent=this;var d=f.F("div","padded");d.setAttribute("style","width:20em");
this.CN.appendChild(d);d.appendChild(this.sA.ga)}j3.prototype=new aA("");j3.prototype.Cs=function(){this.sA.bz(this.kO.kc)};
j3.prototype.lz=function(d,W){this.kO=d;if(W==kG.yS||W==kG.tf)this.sA.bz(d.kc)};j3.prototype.z2=function(d,W){this.sA.anu(this.kO._9)};
j3.prototype._=function(){aA.prototype._.call(this);this.sA._()};var bT=function(){var d=[],W=null,c=null,y=null,B=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function r(){aA.call(this,"Memory",!1,null,aA.HX.a1U);var g=f.F("div","padded");this.CN.appendChild(g);
c=new gs(["<< VAR0",[0,13,2]],!1,null,!0);c.addEventListener("click",function(N){d.pop();Z()});g.appendChild(c.n);
W=f.F("div","scrollable");W.setAttribute("style","width:20em;  height:26em; margin-top:8px;");g.appendChild(W)}r.prototype=new aA("");
r.prototype.M7=function(g,N,C){y=N;this.Cs()};r.prototype.Cs=function(){c.OB(!1);if(!f.ni(W))return;
var g={_S:"Total:",Ss:[]};for(var S=0;S<y.length;S++)g.Ss.push(k(y[S]));V(g);d=[g];Z()};r.prototype._=function(){aA.prototype._.call(this);
c._()};function x(g){var N=g.currentTarget,S=0;while((N=N.previousSibling)!=null)S++;d.push(d[d.length-1].Ss[S-1]);
Z()}function Z(){c.OB(d.length>1);var g=d[d.length-1];f.qf(W);i(g,W,0);g.Ss.sort(function(N,C){return C.WB[0]-N.WB[0]});
for(var S=0;S<g.Ss.length;S++)i(g.Ss[S],W,1)}function i(g,N,C){var w=cA.oZ,Y=C!=0&&g.Ss,U="margin-left:"+C*10+"px; margin-bottom:8px; padding:3px 5px;";
if(Y)U+="cursor:pointer;";if(g.zT!=null)U+="background-color:rgba("+B[g.zT].join(",")+",0.2);";var e=f.F("div");
N.appendChild(e);e.setAttribute("style",U);e.innerHTML=f.DQ(g._S)+"<br />"+"RAM: <b>"+w(g.WB[0])+"</b>\u2001GPU: <b>"+w(g.WB[1])+"</b>";
if(Y)e.addEventListener("click",x,!1)}function k(g){var N={_S:g.name,Ss:[],zT:0},C=d1.ZV?1:0,w=1-C,Y={_S:"History",Ss:[],zT:5};
N.Ss.push(Y);for(var S=1;S<g.history.length;S++){var U=g.history[S];Y.Ss.push({_S:ay.get(U.name),zT:5,WB:[U.$A(),0]})}V(Y);
var Y={_S:"Final Image",WB:[g.m*g.i*4,C*g.m*g.i*4],zT:2};N.Ss.push(Y);for(var S=0;S<g.B.length;S++){var e=H(g.B[S]);
if(e.Ss.length!=0)N.Ss.push(e)}var O=g.add.lnk2;if(O)for(var S=0;S<O.length;S++){var e=O[S],l={_S:e.Kh,Ss:[],zT:4},I=0;
l.Ss.push({_S:"Raw file",WB:[e.raw.length,0]});if(e.Ma)for(var s=0;s<e.Ma.length;s+=2)I+=e.Ma[s].length;
if(I!=0)l.Ss.push({_S:"Decoded pixels",WB:[I,0]});V(l);N.Ss.push(l)}V(N);return N}function H(g){var N={_S:g.getName(),Ss:[],zT:1},C=d1.ZV?1:0,w=1-C,Y=g.rect.P();
if(Y!=0)N.Ss.push({_S:"Layer pixels",WB:[Y*4,C*Y*4]});if(g.add.lmfx&&g.oR.C$.type){var U=g.oR.C$.type,I=0;
for(var e in U){var O=0;for(var l=0;l<U[e].length;l++)if(e=="ebbl"){if(U[e][l].Na)O+=U[e][l].Na.jI.P();
if(U[e][l].Rt)O+=U[e][l].Rt.jI.P();if(U[e][l].Ct)O+=U[e][l].Ct.jI.P();if(U[e][l].Jy)O+=U[e][l].Jy.jI.P()}else O+=U[e][l].jI.P();
if(O!=0)N.Ss.push({_S:ay.get(bV.names[bV.order.indexOf(e)]),WB:[w*O*4,C*O*4],zT:3})}if(g.oR.gA)I+=Y;
if(g.oR.wk)I+=Y;if(g.oR.su)I+=Y;if(g.oR.su)I+=Y;if(g.oR.dc)I+=Y;if(g.oR.Hv)I+=Y;var s=g.oR.I3?g.oR.I3.length:0;
if(I+s!=0)N.Ss.push({_S:"Additional Blending Data",WB:[w*I*4+s,C*I*4]})}var z=g.Q7(),R=z?z.rect.P():0;
if(R!=0){N.Ss.push({_S:"Raster Mask",WB:[R,0]})}var z=g.add.vmsk,R=z&&z.Y2?z.Y2.rect.P():0;if(R!=0){N.Ss.push({_S:"Vector Mask",WB:[R,0]})}V(N);
return N}function V(g){g.WB=[0,0];for(var S=0;S<g.Ss.length;S++){g.WB[0]+=g.Ss[S].WB[0];g.WB[1]+=g.Ss[S].WB[1]}}return r}();
function c5(){aA.call(this,[9,14],!1,"---panels/notes",aA.HX.az6);this.CN.setAttribute("style","min-width:240px;");
var d=f.F("div","padded");this.CN.appendChild(d);this.zN=new eO("Author");d.appendChild(this.zN.n);this.Xu=f.F("textarea");
f.O6(this.Xu);d.appendChild(this.Xu);var W=new gs("<<",null,null,!0);d.appendChild(W.n);this.a5E=W;var c=new gs(">>",null,null,!0);
d.appendChild(c.n);W.k("click",this.kr,this);c.k("click",this.kr,this);var y=this.a9J=new ed("");d.appendChild(y.n)}c5.prototype=new aA("");
c5.prototype.kr=function(d){var W=d.target==this.a5E?-1:1,c=this.q5,y=c.add.Anno;if(y==null)return;var B=y.length,r=c.Q.g8;
c.Q.g8=(r+W+B)%B;c.Pm=!0;this.xX()};c5.prototype.xX=function(){var d=this.q5;if(d==null)return;var W=d.add.Anno;
if(W==null||W.length==0)return;var c=d.Q.g8,y=W[c];this.Xu.value=y[4];this.a9J.c(c+1+" / "+W.length);
this.zN.c(y[3])};c5.prototype.z2=function(d,W){if(this.Kp==d)return;this.Kp=d;W=Math.min(W,200);this.Xu.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(d-10)+"px; height:"+(W-66)+"px")};
c5.prototype.M7=function(d,W,c){this.q5=d;this.xX()};function d4(){d9.call(this);this.f=0;this.sN=null;
this.n=f.F("div","toolconf");this.sA=null;this.HL=null;this.body=new f.F("div","body")}d4.prototype=new d9;
d4.prototype.amd=function(d,W){this.f=d;this.sN=W;if(X.xv[d]){var c=this.sA=new cL(d);this.n.appendChild(c.n);
c.parent=this}else{this.HL=f.F("div");this.n.appendChild(this.HL)}this.n.appendChild(this.body);this._()};
d4.prototype.aBS=function(d,W){};d4.prototype.aeD=function(d){};d4.prototype.lz=function(d,W){if(W==kG.yS||W==kG.tf)if(this.sA)this.sA.bz(d.kc)};
d4.prototype.PX=function(d){};d4.prototype._=function(){if(this.sA)this.sA._();else this.HL.innerHTML=f.Vr(this.sN,null,"toolicon");
this.GT()};d4.prototype.GT=function(){};function aa(){d4.call(this);this.c3=new du;this.c3.k(b.E.p,this.ND,this);
this.body.appendChild(this.c3.n)}aa.prototype=new d4;aa.prototype.GT=function(){this.c3._()};aa.prototype.ND=function(d){var W=new bR(b.E.V,!0);
W.data={d:b.H.vQ,f:this.f,au:this.c3.ash()};this.T(W)};aa.prototype.PX=function(d){this.c3.aC$(d.er)};
function aQ(d){d4.call(this);if(d==null)return;this.kO=null;this.Ft={};if(d.indexOf("brush")!=-1&&d.indexOf("prsr")==-1)d.push("prsr");
for(var S=0;S<d.length;S++){var W=d[S],c=null;if(W=="brush"){c=new kL}if(W=="bmode"){c=new gd([12,19,0],dB.mX,dB.Pu)}if(W=="bmode0"){c=new gd([12,19,0],dB.mX.slice(23))}if(W=="emode"){c=new gd([12,36],[[9,3],[10,38]])}if(W=="opacity"){c=new kk([12,0],0,100,"%");
c.c(100)}if(W=="flow"){c=new kk([12,63],0,100,"%");c.c(100)}if(W=="smth"){c=new kk([19,3,0],0,100,"%");
c.c(0)}if(W=="samp"){c=new gd([12,36],[[12,25,4],[12,25,5],[12,46]])}if(W=="wconf"){c=new f_;c.c([40,!0,!0])}if(W=="sall"){c=new ff([12,25,2])}if(W=="smode"){c=new gd([12,36],[[19,7,0],[19,7,1]]);
c.c(1)}if(W=="pdetail"){c=new ff([12,65]);c.JR()}if(W=="rng"){c=new gd([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
c.c(1)}if(W=="expo"){c=new kk([12,5],0,100,"%");c.c(50)}if(W=="algnd"){c=new ff([12,75]);c.c(!1)}if(W=="sfrom"){c=new gd([12,70],[[17,1],[17,3],[17,0]])}if(W=="alt"){c=new gj(null,["Alt"],!0,["Select Source"])}if(W=="qsmode"){c=new ij([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(W=="redge"){c=new gs([7,11],!1,null,!0)}if(W=="sesu"){c=new gs("Select Subject",!1,null,!0)}if(W=="setop"){c=new jF}if(W=="patch"){c=new ij(null,[[12,70],[12,71]])}if(W=="strn"){c=new kk([12,64],1,100,"%");
c.c(50)}if(W=="prsr"){c=this.Ft.brush._c}this.body.appendChild(c.n);if(W=="prsr")continue;c.parent=this;
this.Ft[W]=c;if(W=="brush")c.k(b.E.p,this.aiJ,this);else if(W=="redge"||W=="sesu")c.k("click",bE.ai_,this);
else c.k(b.E.p,this.Gw,this)}}aQ.prototype=new d4;aQ.prototype.aBS=function(d,W){d=d[1];var c=this.Ft;
if(d.Md)c.bmode.c(dB.CL.indexOf(d.Md.v.BlnM));if(d.Opct)c.opacity.c(d.Opct.v);if(d.flow)c.flow.c(d.flow.v);
if(d.Brsh)c.brush.c(d,W.sa.pb,W.sa.An);if(d.FrgC){var y=v.L.E5(d.FrgC.v),B=new bR(b.E.V,!0);B.data={d:b.H.e7,au:kG.kg,jK:0,b:y.Z<<16|y.G<<8|y.J};
this.T(B)}this.aiJ();this.Gw()};aQ.prototype.aeD=function(){if(X.xv[this.f]==null)return null;var d=this.Ft,W;
for(var c in X._A)if(X._A[c]==this.f)W=c;var y=JSON.parse(JSON.stringify(d.brush.h()));y.classID=W;if(d.bmode)y.Md={t:"enum",v:{BlnM:dB.CL[d.bmode.h()]}};
if(d.opacity)y.Opct={t:"long",v:d.opacity.h()};if(d.flow)y.flow={t:"long",v:d.flow.h()};var B=this.kO.R5;
B={Z:B>>>16,G:B>>>8&255,J:B&255};y.FrgC={t:"Objc",v:v.L.FV(B)};return["Brush Preset "+y.Brsh.v.Dmtr.v.val,y]};
aQ.prototype.GT=function(){for(var d in this.Ft)this.Ft[d]._()};aQ.prototype.PX=function(d){if(d.akt=="showBrushOpts"){this.Ft.brush.agO(d.pq.x,d.pq.y)}for(var W in d.OW){var c=d.OW[W];
if(W!="qsmode")c*=100;if(this.Ft[W])this.Ft[W].c(c)}};aQ.prototype.lz=function(d,W){d4.prototype.lz.call(this,d,W);
this.kO=d;var c=this.Ft.brush;if(c==null)return;if(W==kG.yS||W==kG.Bo)c.bz(d.sa);if(W==kG.cE){c.c(d.sa.WU,d.sa.pb,d.sa.An)}};
aQ.prototype.aiJ=function(){var d=new bR(b.E.V,!0);d.data={d:b.H.e7,au:kG.cE,jl:this.Ft.brush.h()};this.T(d)};
aQ.prototype.Gw=function(){var d=new bR(b.E.V,!0);d.data={d:b.H.vQ,f:this.f};for(var W in this.Ft){if(W=="brush"||W=="redge")continue;
var c=this.Ft[W].h();if(["opacity","flow","smth","expo","strn"].indexOf(W)!=-1)d.data[W]=c/100;else if(W=="bmode")d.data.bmode=dB.s0[c];
else if(W=="bmode0")d.data.bmode=dB.s0[23+c];else d.data[W]=c}this.T(d)};function bE(d,W){d4.call(this);
if(d)return;this.Ft={};for(var S=0;S<W.length;S++){var c=W[S],y=null;if(c=="sesu"&&!f.kS())continue;
if(c=="binop")y=new jF;if(c=="feat"){y=new kk([7,6],0,100,"px");y.c(0)}if(c=="redge")y=new gs([7,11],!1,null,!0);
if(c=="sesu")y=new gs("Select Subject",!1,null,!0);if(c=="wconf")y=new f_;if(c=="cstr")y=new cw;if(c=="anta"){y=new ff([12,25,1]);
y.c(!0)}if(c=="sall")y=new ff([12,25,2]);if(c=="redge"||c=="sesu")y.k("click",bE.ai_,this);else y.k(b.E.p,this.Gw,this);
y.parent=this;this.body.appendChild(y.n);this.Ft[c]=y}}bE.prototype=new d4;bE.prototype.PX=function(d){if(d.d0!=null)this.Ft.binop.c(d.d0);
else if(d.bv){for(var W in d.bv)if(this.Ft[W])this.Ft[W].c(d.bv[W])}else{var c=bE.TQ;if(c==null){var y=h8.a4s(!0);
c=bE.TQ=new dK(y.items,y.tJ)}c._();c.parent=this;c.update(d.J8,d.qU);var B=new bR(b.E.V,!0);B.data={d:b.H.oV,dD:c,x:d.Sf.$p+2,y:d.Sf.$U+1};
this.T(B)}};bE.prototype.GT=function(){for(var d in this.Ft)this.Ft[d]._()};bE.ai_=function(d){var W=d.target==this.Ft.sesu,c=new bR(W?b.E.v:b.E.V,!0);
if(W){c.f=X.Ai;c.data={d:"bgrm",b:2}}else c.data={d:b.H.vB,vD:"redge"};this.T(c)};bE.prototype.Gw=function(){var d=new bR(b.E.V,!0);
d.data={d:b.H.vQ,f:this.f,bv:{}};for(var W in this.Ft)d.data.bv[W]=this.Ft[W].h();this.T(d)};function gB(){aQ.call(this,["brush","strn"])}gB.prototype=new aQ;
function f8(){aQ.call(this,"brush bmode opacity flow smth prsr".split(" "))}f8.prototype=new aQ;function iB(){aQ.call(this,["brush","bmode0","samp","wconf"])}iB.prototype=new aQ;
function a6(){aQ.call(this,["brush"])}a6.prototype=new aQ;function ee(){aQ.call(this,["brush","bmode","opacity","smth","prsr"])}ee.prototype=new aQ;
function h7(){aQ.call(this,["brush","rng","expo"])}h7.prototype=new aQ;function iy(){aQ.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}iy.prototype=new aQ;
function eY(d){d4.call(this);if(d==null)return;this.TK=[];this.TL=new gs("\u2026",!1,null,!0);if(!d)this.body.appendChild(this.TL.n);
this.TL.k("click",this.HR,this);this.i6=new d9;this.i6.parent=this;var W=this.i6.n=f.F("div","floatcont form"),c=[[17,0],[17,1],[11,12,0],[17,2]];
for(var S=0;S<c.length;S++){var y=new gs(c[S],!1,null,!0);this.TK.push(y);y.k("click",this.a5$,this);
if(!d||S==1)W.appendChild(y.n)}this.IO=new cw;this.IO.k(b.E.p,this.En,this);if(!d)this.body.appendChild(this.IO.n);
this.E$=new gs([15,7,6],!1,null,!0);this.E$.k("click",this.a5$,this);if(!d)this.body.appendChild(this.E$.n);
this.Om=new ff([15,7,10]);this.Om.k(b.E.p,this.En,this);if(!d)this.body.appendChild(this.Om.n);this.na=new ff("Content-Aware");
this.na.k(b.E.p,this.En,this);if(!d)this.body.appendChild(this.na.n);this.Nt=new ak;this.Nt.k("click",this.Uh,this)}eY.prototype=new d4;
eY.prototype.HR=function(d){if(f.ni(this.i6.n))return;var W=this.TL.n.getBoundingClientRect(),c=new bR(b.E.V,!0);
c.data={d:b.H.oV,dD:this.i6,x:W.left,y:W.top+W.height+4};this.T(c)};eY.prototype.GT=function(){this.Nt._();
for(var S=0;S<this.TK.length;S++)this.TK[S]._();this.IO._();this.Om._();this.E$._()};eY.prototype.PX=function(d){if(d.Nx){this.IO.alf(d.Nx[0],d.Nx[1]);
return}var W=this.Nt.n;if(d.TV)this.body.appendChild(W);else if(this.body.contains(W))this.body.removeChild(W);
if(d.IO)this.IO.c(d.IO)};eY.prototype.Uh=function(d){var W={d:b.H.vQ,f:this.f,Ph:this.Nt.h()?"commit":"cancel"},c=new bR(b.E.V,!0);
c.data=W;this.T(c)};eY.prototype.a5$=function(d){d.target.n.blur();var W={d:b.H.vQ,f:this.f,Ph:"cropby",a0V:this.TK.indexOf(d.target)};
if(d.target==this.E$)W.Ph="straighten";var c=new bR(b.E.V,!0);c.data={d:b.H.QU,dD:this.i6};this.T(c);
c.data=W;this.T(c)};eY.prototype.En=function(d){var W={d:b.H.vQ,f:this.f,Ph:"config",bT:{FZ:this.IO.h(),Zw:this.Om.h(),f5:this.na.h()},afw:d.target==this.IO},c=new bR(b.E.V,!0);
c.data=W;this.T(c)};function gQ(){eY.call(this,!1)}gQ.prototype=new eY;function e0(){eY.call(this,!0)}e0.prototype=new eY;
function dF(){aQ.call(this,["brush","rng","expo"])}dF.prototype=new aQ;function fo(){aQ.call(this,"brush emode opacity flow smth prsr".split(" "))}fo.prototype=new aQ;
function a_(){aQ.call(this,["brush","samp","wconf"])}a_.prototype=new aQ;function gI(){bE.call(this,!1,["binop","feat","anta","redge","cstr"])}gI.prototype=new bE(!0);
function hm(){d4.call(this);var d=this.Ft=[new gd([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new gd([12,70],[[17,1],[17,3],[17,0]]),new ff([12,20,1]),new ff([8,0])];
d[1].c(2);d[2].c(!0);for(var S=0;S<d.length;S++){var W=d[S];W.k(b.E.p,this.Gw,this);this.body.appendChild(W.n)}}hm.prototype=new d4;
hm.prototype.Gw=function(d){var W=this.Ft,c=[];for(var S=0;S<W.length;S++)c[S]=W[S].h();var y=new bR(b.E.V,!0);
y.data={d:b.H.vQ,f:this.f,bv:c};this.T(y)};hm.prototype.GT=function(){for(var S=0;S<this.Ft.length;S++)this.Ft[S]._()};
function ef(){d4.call(this);this.qM=new gV(!1);this.qM.parent=this;this.qM.k(b.E.p,this.fF,this);this.body.appendChild(this.qM.n);
this.qM.c(JSON.parse(bV.We.akv).v);this.cg=new gd(null,bV.L.names.slice(0,5));this.cg.k(b.E.p,this.fF,this);
this.body.appendChild(this.cg.n);this.UM=new gd([12,19,0],dB.mX,dB.Pu);this.UM.k(b.E.p,this.fF,this);
this.body.appendChild(this.UM.n);this.mO=new kk([12,0],0,100,"%");this.mO.parent=this;this.mO.k(b.E.p,this.fF,this);
this.body.appendChild(this.mO.n);this.mO.c(100);this.vX=new ff([12,23,0]);this.vX.k(b.E.p,this.fF,this);
this.body.appendChild(this.vX.n);this.rD=new ff([12,23,3]);this.rD.k(b.E.p,this.fF,this);this.body.appendChild(this.rD.n)}ef.prototype=new d4;
ef.prototype.GT=function(){this.cg._();this.UM._();this.mO._();this.vX._();this.rD._()};ef.prototype.lz=function(d,W){d4.prototype.lz.call(this,d,W);
var c=W==kG.kg;this.qM.Sk(d.R5,d.qX);if(c||W==kG.n6||W==kG.yS)this.qM.bz(d.yv)};ef.prototype.fF=function(){var d=new bR(b.E.V,!0);
d.data={d:b.H.vQ,f:this.f};d.data.au={L:this.qM.h(),r1:bV.L.types[this.cg.h()],KV:this.vX.vm(),eY:this.rD.vm(),asU:dB.s0[this.UM.h()],M4:this.mO.h()/100};
this.T(d)};function bZ(){d4.call(this);this.$Y=new ff([8,7,1]);this.body.appendChild(this.$Y.n);this.$Y.k(b.E.p,this.Gw,this)}bZ.prototype=new d4;
bZ.prototype.Gw=function(){var d={d:b.H.vQ,f:this.f,DM:this.$Y.h()},W=new bR(b.E.V,!0);W.data=d;this.T(W)};
function fN(){d4.call(this);var d=f.F("span","fitem");this.body.appendChild(d);this.L6=[new kk([12,15],-180,180,"\xB0"),new gs([1,12,2],null,null,!0)];
for(var S=0;S<this.L6.length;S++){var W=this.L6[S];W.parent=this;d.appendChild(W.n);W.k(S==1?"click":b.E.p,this.AG,this)}}fN.prototype=new d4;
fN.prototype.GT=function(){for(var S=0;S<this.L6.length;S++)this.L6[S]._()};fN.prototype.PX=function(d){this.L6[0].c(d.KG*180/Math.PI)};
fN.prototype.AG=function(d){var W=this.L6.indexOf(d.target),c=new bR(b.E.V,!0);c.data={d:b.H.vQ,f:this.f,KG:W==1?0:d.target.h()*Math.PI/180};
this.T(c)};function jx(){aQ.call(this,["brush","algnd","sfrom","alt"])}jx.prototype=new aQ;function jC(){d4.call(this);
this.es=new h0;this.es.parent=this;this.body.appendChild(this.es.Hk.n);this.body.appendChild(this.es.y5.n);
this.body.appendChild(this.es.lM.n);this.body.appendChild(this.es.xr.n);var d=f.F("span","fitem");this.body.appendChild(d);
d.appendChild(this.es.y4.n);d.appendChild(this.es.Um.n);d.appendChild(this.es.x_.n);this.XL=new gd("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.XL.k(b.E.p,this.Uh,this);this.body.appendChild(this.XL.n);this.jn=new gd(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.jn.k(b.E.p,this.Uh,this);this.body.appendChild(this.jn.n);this.QP=new gs([11,9],!1,null,!0);this.QP.k("click",this.abl,this);
this.body.appendChild(this.QP.n);this.Nt=new ak;this.Nt.k("click",this.Uh,this)}jC.prototype=new d4;
jC.prototype.GT=function(){this.Nt._();this.es._();this.QP._()};jC.prototype.abl=function(d){var W={d:b.H.vQ,f:this.f,Ph:"showwarp"},c=new bR(b.E.V,!0);
c.data=W;this.T(c)};jC.prototype.PX=function(d){if(d.Ph=="showactive")this.body.appendChild(this.Nt.n);
if(d.Ph=="hideactive")this.body.removeChild(this.Nt.n);if(d.Ph=="changeOther"){this.XL.c(d.VN);this.jn.c([0,2,1][d.ZT])}if(d.Ph=="showpan"){var W=[{name:[0,1],Zq:!0}],c=[{K:b.E.v,f:X.bU,C:{d:"editCurr",hk:d.hk}}],y=d.Sf;
if(d.acU){W=[{name:["VAR0: VAR1",[0,5],[7,0]],Zq:!0}];c=[{K:b.E.HQ,C:X.XC.k6(!0)}];var B=h8.aer();W=W.concat(B[0]);
c=c.concat(B[1])}W.push({name:[11,9]});c.push({K:b.E.V,C:{d:b.H.vQ,f:this.f,Ph:"showwarp"}});var r=new dK(W,c);
r.parent=this;r._();r.update(d.J8,d.qU);var x=new bR(b.E.V,!0);x.data={d:b.H.oV,dD:r,x:y.$p+2,y:y.$U+1};
this.T(x)}};jC.prototype.lz=function(d,W){d4.prototype.lz.call(this,d,W);if(W!=kG.yS&&W!=kG.xM&&W!=kG.hF&&W!=kG.P7)return;
this.es.c(d.WK,d.Sm,d.CA)};jC.prototype.Uh=function(d){var W={d:b.H.vQ,f:this.f,Ph:this.Nt.h()?"commit":"cancel"};
if(d.target==this.XL||d.target==this.jn){W.Ph="changeOther";W.VN=this.XL.h();W.ZT=[0,2,1][this.jn.h()]}var c=new bR(b.E.V,!0);
c.data=W;this.T(c)};function hQ(){bE.call(this,!1,["binop","feat","anta","redge"])}hQ.prototype=new bE(!0);
function j5(){d4.call(this);var d=[],c="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.kN=new ff([12,85]);this.kN.c(!0);this.kN.k(b.E.p,this.Gw,this);d.push(this.kN.n);this.Kw=new gd(null,[[0,4],[0,3]]);
this.Kw.k(b.E.p,this.Gw,this);this.Kw.c(1);d.push(this.Kw.n);this.hQ=new ff([20,1]);this.hQ.k(b.E.p,this.Gw,this);
d.push(this.hQ.n);this.Qj=new ff([12,83]);this.Qj.k(b.E.p,this.Gw,this);d.push(this.Qj.n);this.i6=new d9;
this.i6.n=f.F("div","floatcont form");this.i6.n.setAttribute("style","max-width: 200px;");this.i6.parent=this;
var W=this.i6.n;this.aDi=new gd("Scale for exported files",["1x","2x","3x","4x"]);W.appendChild(this.aDi.n);
this.cX=new gs(c+" PNG",!1,"Save selected layers as PNG",!0);W.appendChild(this.cX.n);this.cX.k("click",this.eM,this);
this.a9X=new gs(c+" SVG",!1,"Save selected layers as SVG",!0);W.appendChild(this.a9X.n);this.a9X.k("click",this.eM,this);
var y=new gs(c,!1,"Save selected layers",!0);d.push(y.n);y.k("click",function(i){if(f.ni(this.i6.n))return;
var k=y.n.getBoundingClientRect(),H=new bR(b.E.V,!0);H.data={d:b.H.oV,dD:this.i6,x:k.left,y:k.top+k.height,dW:!0};
this.T(H)},this);var B=f.F("span","fitem");d.push(B);var r=f.F("span","fitem");d.push(r);this.HB=[];
for(var S=0;S<8;S++){var x=S==3||S==7?[20,4,6]:[20,4,S<3?S:S-1],Z=new gs("Hi",!1,x);(S<4?B:r).appendChild(Z.n);
Z.k("click",this.eM,this);this.HB.push(Z)}for(var S=0;S<d.length;S++)this.body.appendChild(d[S]);this.ajO=d}j5.prototype=new d4;
j5.prototype.PX=function(d){var W=d.er,c=d.anH;this.kN.c(W.vs);this.hQ.c(W._z);this.Qj.c(W.Tc);if(c){f.qf(this.body);
for(var S=0;S<c.length;S++)if(c[S]==1&&this.ajO[S])this.body.appendChild(this.ajO[S])}};j5.prototype.eM=function(d){var W=this.HB.indexOf(d.target),c;
if(W==-1){c=new bR(b.E.V,!0);c.data={d:b.H.vQ,f:this.f,jK:d.target==this.cX?"getPNG":"getSVG",Y7:this.aDi.h()+1}}else{c=new bR(b.E.v,!0);
c.f=X.Sj;c.data={d:"algn",b:W}}this.T(c)};j5.prototype.Gw=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.vQ,f:this.f,jK:"prms",vs:this.kN.vm(),aBn:this.Kw.h(),_z:this.hQ.vm(),Tc:this.Qj.vm()};
this.T(W)};j5.prototype.GT=function(){this.kN._();this.Kw._();this.hQ._();this.Qj._();var d="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var S=0;S<8;S++){this.HB[S].N2(f.Vr("align/"+d[S],null,"autoscale"))}};function eW(){bE.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}eW.prototype=new bE(!0);
function gJ(){aQ.call(this,["setop","patch"])}gJ.prototype=new aQ;function kK(){aQ.call(this,["setop"])}kK.prototype=new aQ;
function cU(d){var W=d==X.a4J?[]:["bmode"];aQ.call(this,W.concat(["opacity","wconf","sall"]))}cU.prototype=new aQ;
function dV(){bE.call(this,!1,["binop","feat","anta","redge"])}dV.prototype=new bE(!0);function ka(){bE.call(this,!1,["binop","feat","anta","redge"])}ka.prototype=new bE(!0);
function h4(){bE.call(this,!1,["binop","feat","redge","cstr"])}h4.prototype=new bE(!0);function iX(){d4.call(this);
this.kO=null;this.ht=null;this.o7=[new eO("X",null,3.2,null,!0),new eO("Y",null,3.2,null,!0),new eO("W",null,3.2,null,!0),new eO("H",null,3.2,null,!0),new eO([12,15],"\xB0",3.7,null,!0),new eO(["VAR0 1",[12,80,0]],null,3.5,null,!0),new eO(["VAR0 2",[12,80,0]],null,3.5,null,!0),new gs([15,7,6],!1,null,!0),new gs([2,2],!1,null,!0)];
for(var S=0;S<this.o7.length;S++){var d=this.o7[S];this.body.appendChild(d.n);if(S>6)d.k("click",this.b6,this)}this.ba=0}iX.prototype=new d4;
iX.prototype.b6=function(d){var W=this.o7.indexOf(d.target)==7,c=new bR(b.E.v,!0);if(W){if(this.ba==0)return;
c.f=X.Ee;c.data={d:"rot",o1:[2,5],b:-this.ba}}else{c.f=X.$T;for(var S=0;S<6;S++)this.o7[S].c(null)}this.T(c)};
iX.prototype.PX=function(d){function W(Z,i,k){var H=Math.sqrt(Math.pow(i.x-Z.x,2)+Math.pow(i.y-Z.y,2)),V=Math.sqrt(Math.pow(i.x-k.x,2)+Math.pow(i.y-k.y,2)),g=Math.sqrt(Math.pow(k.x-Z.x,2)+Math.pow(k.y-Z.y,2));
return Math.acos((V*V+H*H-g*g)/(2*V*H))}if(d==null)return;this.ht=d;var c=d.arp,y=d.sr,B=y.x-c.x,r=y.y-c.y;
this.ba=-Math.atan2(r,B);if(d.fU)this.ba=W(y,c,d.fU);var x=this.o7;x[0].c(this.Jq(d,c.x));x[1].c(this.Jq(d,c.y));
x[2].c(this.Jq(d,B));x[3].c(this.Jq(d,r));x[4].c((this.ba*180/Math.PI).toFixed(2));x[5].c(this.Jq(d,aL.Bg(c,y)));
if(d.fU){x[6].c(this.Jq(d,aL.Bg(c,d.fU)))}else x[6].c("")};iX.prototype.Jq=function(d,W){var c=v.T6.By(W,d.tU,this.kO,d.aeY,!1);
return parseFloat(c).toFixed(2)};iX.prototype.lz=function(d,W){this.kO=d;this.PX(this.ht)};iX.prototype.GT=function(){var d=this.o7;
for(var S=0;S<d.length;S++)d[S]._();f.YV(d[2],d[3])};function ke(){aQ.call(this,["brush","strn","pdetail"])}ke.prototype=new aQ;
function aO(){aQ.call(this,["brush","sfrom"]);this.a2Z=[];var d=[[7,12]];for(var S=0;S<d.length;S++){var W=new gs(d[S],!1,null,!0);
this.a2Z.push(W);W.parent=this;this.body.appendChild(W.n);W.k("click",this.aq3,this)}}aO.prototype=new aQ;
aO.prototype.aq3=function(d){var W=this.a2Z.indexOf(d.currentTarget),c=new bR(b.E.HQ,!0);c.data=X.UZ.yX(W==0?"contentAware":"aiHeal");
this.T(c)};function dt(){aQ.call(this,["brush","strn"])}dt.prototype=new aQ;function iv(){aQ.call(this,["brush","flow","smode"])}iv.prototype=new aQ;
function hZ(){d4.call(this);this.QE=!1;var d=f.F("span","fitem");this.body.appendChild(d);this.aK=new ij(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
d.appendChild(this.aK.n);this.aK.k(b.E.p,this.Gw,this);this.SL=new gs([20,2]);this.body.appendChild(this.SL.n);
this.SL.k("click",this.as3,this);this.dB=new gs([20,3]);this.body.appendChild(this.dB.n);this.dB.k("click",this.as3,this);
this.$Y=new ff([8,7,1]);this.body.appendChild(this.$Y.n);this.$Y.k(b.E.p,this.Gw,this)}hZ.prototype=new d4;
hZ.prototype.GT=function(){this.SL._();this.dB._()};hZ.prototype.Gw=function(){var d={d:b.H.vQ,f:this.f,js:this.aK.h()==0,DM:this.$Y.h()},W=new bR(b.E.V,!0);
W.data=d;this.T(W)};hZ.prototype.PX=function(d){if(this.QE!=d.QE)this.aK.c(1-this.aK.h());this.QE=d.QE};
hZ.prototype.as3=function(d){var W=new bR(b.E.v,!0);W.f=X.AO;W.data={d:"adapt",b:d.target==this.SL?"pixel":"fitscr"};
this.T(W)};function a5(d,W){d4.call(this);if(d==null)return;this.Hl=d;this.Y_={};this.atL=W;for(var S=0;
S<d.length;S++){var c=d[S],y=null;if(c=="tmode"){y=new gd(null,[[12,76,1],[12,76,0],[12,76,2]]);y.c(0);
if(W)y.ayp(2)}if(c=="make"){y=new ij("Make",[[17,2],[12,76,1]],null,!0)}if(c=="anta"){y=new ff([12,25,1]);
y.c(!0)}if(c=="binop"){y=new gd(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(c=="pshape")y=new gd(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(c=="shape")y=new eg([12,76,1]);if(c=="crad"){y=new kk([12,94,0],0,50,"px");y.c(0)}if(c=="cstr"){y=new cw}if(c=="irad"){y=new kk([12,94,1],0,100,"%");
y.c(40)}if(c=="length"){y=new kk([12,80,0],4,40);y.c(4)}if(c=="sides"){y=new kk([12,78],3,30);y.c(5)}if(c=="width"){y=new kk([12,41],0,100,"px");
y.c(5)}if(c=="tolr"){y=new kk([12,24],0,100);y.c(5)}if(c=="fstyle"){y=new bc([12,26])}if(c=="sstyle"){y=new h_}if(c=="psnap"){y=new ff([8,10])}if(c=="crnr"){y=new gs("\u2312",!1,[12,94,0],!0)}if(c=="aopts"){y=new gf;
y.c([!1,!1,50,60,0])}if(c=="smplp"){y=new gs([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}y.parent=this;
this.body.appendChild(y.n);this.Y_[c]=y;y.k(c=="crnr"||c=="smplp"?"click":b.E.p,this.Gw,this)}}a5.prototype=new d4;
a5.prototype.PX=function(d){if(d.d0!=null)this.Y_.binop.c(d.d0);else if(d.jK=="vals")for(var W in d.adG)this.Y_[W].c(d.adG[W]);
else{var c=a5.TQ,y=function(r){return{w:r!=null&&r.YH(!1)}};if(c==null)c=a5.TQ=new dK([{name:"Remove Anchor Point",w:function(r){var x=r?r.Tz():null;
return{w:r&&x[1].length!=0&&x[0][x[1][0]].add.vmsk.Hc.length!=0}}},{name:"Remove Path",w:function(r){var x=r?r.Tz():null;
return{w:r&&x[1].length!=0&&x[0][x[1][0]].add.vmsk.g.length!=0}},Zq:!0},{name:"Make Selection"},{name:[2,3],w:y},{name:[14,9],w:y}],[{K:b.E.v,f:X.nA,C:{d:"remove",Js:!0}},{K:b.E.v,f:X.h9,C:{d:"remove"}},{K:b.E.V,C:{d:b.H.vB,vD:"makesel"}},{K:b.E.HQ,C:X.C_.fX(null)},{K:b.E.V,C:{d:b.H.vB,vD:"strokepath"}}]);
c.parent=this;c.update(d.J8,d.qU);var B=new bR(b.E.V,!0);B.data={d:b.H.oV,dD:c,x:d.Sf.$p+2,y:d.Sf.$U+1};
this.T(B)}};a5.prototype.a00=function(S){return null};a5.prototype.GT=function(){for(var d in this.Y_){this.Y_[d]._()}};
a5.prototype.Gw=function(d){var W=new bR(b.E.V,!0),c=this.Y_;if(d.target==c.crnr){W=new bR(b.E.v,!0);
W.f=X.nA;W.data={d:"crnr"}}else if(d.target==c.smplp){W=new bR(b.E.v,!0);W.f=X.h9;W.data={d:"smplp"}}else if(d.target==c.make){var S=d.target.h();
console.log(S);if(S==0)W.data={d:b.H.vB,vD:"makesel"};else{W=new bR(b.E.v,!0);W.f=X.rB;W.data={d:"newfill",zT:0}}}else if(d.target==c.fstyle){W.data={d:b.H.e7,au:kG.nL,b:c.fstyle.h()}}else if(d.target==c.sstyle){W.data={d:b.H.e7,au:kG.iE,b:c.sstyle.h()}}else if(d.target==c.tmode){W.data={d:b.H.e7,au:kG.u$,b:c.tmode.h()}}else{if(c.pshape)this.c4();
W.data={d:b.H.vQ,f:this.f};for(var y in c)W.data[y]=c[y].h()}this.T(W)};a5.prototype.c4=function(){var d=this.Y_,W=d.tmode.h(),c=d.pshape?this.a00(d.pshape.h()):this.Hl,y;
if(W==0)y=["anta","make"];if(W==1)y=["anta","fstyle","sstyle"];if(W==2)y=["make","binop","fstyle","sstyle"];
var B=d.binop;if(B){var r=B.h();if(W==0){B.awP(0)}else{B.ayp(0);if(r==0){B.c(1);this.Gw({target:B})}}}f.qf(this.body);
for(var S=0;S<c.length;S++){var x=c[S];if(y.indexOf(x)!=-1)continue;this.body.appendChild(d[x].n)}};
a5.prototype.lz=function(d,W){d4.prototype.lz.call(this,d,W);var c=this.Y_.fstyle,y=this.Y_.sstyle,B=this.Y_.tmode;
if(c)c.lz(d,W);if(y)y.lz(d,W);if(W==kG.yS||W==kG.jY)if(d.zc.length!=0&&this.Y_.shape){this.Y_.shape.bz(d.zc)}if(W==kG.yS||W==kG.nL)if(c)c.c(null,d.JW,d.Jk);
if(W==kG.yS||W==kG.iE)if(y)y.c(null,d.Mg,d.tH);if(W==kG.yS||W==kG.u$){var r=d.Qm;if(this.atL&&r==2)r=0;
if(B){B.c(r);this.c4()}}};function jE(){a5.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}jE.prototype=new a5;
function k7(){a5.call(this,"tmode make anta fstyle sstyle binop".split(" "))}k7.prototype=new a5;function kv(){a5.call(this,["fstyle","sstyle","smplp"]);
this.azp=null;this.aiD=null;this.ae9=null;this.VV=new gd([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.tR=new gs("\u25BC");this.tR.JR();this.pP=new gs("\u25B2");this.pP.JR();this.oM=[this.VV,this.tR,this.pP];
for(var S=0;S<this.oM.length;S++){var d=this.oM[S];this.body.appendChild(d.n);d.parent=this;d.k(S==0?b.E.p:"click",this.Jo,this)}}kv.prototype=new a5;
kv.prototype.PX=function(d){if(d.Ph=="main"){var W=this.oM,c=d.wd;if(c){this.aiD=c.clone();this.ae9=JSON.stringify(d.dr);
var y=c.g.slice(0),B=y.length;for(var S=0;S<y.length;S++)y[S]++;y.sort(function(i,k){return i-k});W[0].uu();
W[1].OB(B!=0);W[2].OB(B!=0);W[0].N2(B==0?"No Paths":B==1?"Path "+y[0]:"Paths "+y.slice(0,3).join(",")+(B>3?"..":""));
if(B!=0){var r=c.g[0],x=v.o.ke(c.Y,r),Z=c.Y[x];this.VV.c([3,0,1,2][Z.p5])}}else for(var S=0;S<W.length;
S++)W[S].TB()}else a5.prototype.PX.call(this,d)};kv.prototype.GT=function(){a5.prototype.GT.call(this);
this.VV._()};kv.prototype.Jo=function(d){if(d.target==this.VV||d.target==this.tR||d.target==this.pP){var W={},c=this.aiD,y=c.Y,B=c.g,r=v.o.mQ(y),x=JSON.parse(this.ae9);
B.sort(function(e,O){return e-O});if(d.target==this.VV){var Z=this.VV.h();if(Z<4)for(var S=0;S<B.length;
S++)y[v.o.ke(y,B[S])].p5=[1,2,3,0][Z];else{if(r<=1)return;c.Y=v.o.ye(y);c.g=c.Y.length==2?[]:[0];c.Hc=[];
x=[v.dr.bL()]}}else{var i=d.target==this.tR?-1:1,k=[];for(var S=0;S<r;S++){var H=v.o.ke(y,S),V=H+1+y[H].length;
k.push(y.slice(H,V))}var g=B.slice(0);for(var S=0;S<B.length;S++)g[S]=Math.max(S,Math.min(r-1-(B.length-1-S),g[S]+i));
if(B.join(",")==g.join(","))return;var N=JSON.parse(JSON.stringify(x));for(var S=0;S<B.length;S++){var C=i==-1?S:B.length-1-S,H=B[C],V=g[C];
if(H!=V){var w=k[H];k[H]=k[V];k[V]=w;w=N[H];N[H]=N[V];N[V]=w}}var Y=y.slice(0,2);for(var S=0;S<k.length;
S++)Y=Y.concat(k[S]);c.Y=Y;c.g=g;x=N}W.wd=c;W.dr=x;var U=new bR(b.E.V,!0);U.data={d:b.H.vQ,f:this.f,Wa:W};
this.T(U)}};function g5(){a5.call(this,["fstyle","sstyle","crnr","psnap"])}g5.prototype=new a5;function f5(){a5.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}f5.prototype=new a5;
function gw(){a5.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}gw.prototype=new a5;
function kj(){a5.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.Y_.aopts.c([!1,!0,50,60,0])}kj.prototype=new a5;kj.prototype.a00=function(S){var d=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(d[S])};function dz(){a5.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}dz.prototype=new a5;
function gX(){a5.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}gX.prototype=new a5;
function ds(){bE.call(this,!1,["binop","feat","redge","sesu"])}ds.prototype=new bE(!0);function cx(){aQ.call(this,["brush","qsmode","redge","sesu"])}cx.prototype=new aQ;
function bz(){d4.call(this);this.CU=[];for(var S=0;S<2;S++){var d=new gs(S==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.CU.push(d);d.k("click",this.Jo,this);this.body.appendChild(d.n)}}bz.prototype=new d4;bz.prototype.Jo=function(d){var W;
if(this.CU.indexOf(d.target)==0){W=new bR(b.E.HQ,!0);W.data={cx:"make",i9:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{W=new bR(b.E.V,!0);
W.data={d:b.H.vB,vD:"divslice"}}this.T(W)};bz.prototype.GT=function(d){for(var S=0;S<this.CU.length;
S++)this.CU[S]._()};function dW(){d4.call(this);var d=this.Dd=[new gs("\u25BC",null,null,!0),new gs("\u25B2",null,null,!0),new gs([5,4],null,null,!0),new gs(["VAR0...",[15,10,22]],null,null,!0)];
for(var S=0;S<4;S++){var W=d[S];this.body.appendChild(W.n);W.k("click",this.Jo,this)}}dW.prototype=new d4;
dW.prototype.Jo=function(d){var W=this.Dd.indexOf(d.target),c;if(W==3){c=new bR(b.E.V,!0);c.data={d:b.H.vB,vD:"divslice"}}else{c=new bR(b.E.v,!0);
c.f=X.QC;c.data={d:W==2?"delete":"reorder",dir:W==0?-1:1}}this.T(c)};dW.prototype._=function(){d4.prototype._.call(this);
for(var S=0;S<4;S++)this.Dd[S]._()};function hF(d,W){d4.call(this);if(window.Typr==null||d)return;this.a8Z=W;
this.o6=null;this.a3R=f.F("span","");this.aqN=f.F("span","");var c=1,y=this.u7={gS:new aF(null,24),fE:new kk("X",0,0,"px",0,!1,!0,4),BD:new kk("Y",0,0,"px",0,!1,!0,4),wb:new kk("W",0,0,["%","px"],2,!1,!0,5),Ek:new gs("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),wc:new kk("H",0,0,["%","px"],2,!1,!0,5),a0x:new kk("\u2221",0,0,"\xB0",c,!1,!0),a21:new kk("\u25B1 H",-85,85,"\xB0",c,!1,!0),aoI:new kk("\u25B1 V",-85,85,"\xB0",c,!1,!0),YU:new gd(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),Cg:new gd("Protect",[])};
y.YU.c(1);y.Ek.c(!0);for(var B in y){var r=y[B],x=!0;if(W&&(r==y.a0x||r==y.a21||r==y.aoI||r==y.YU))x=!1;
if(!W&&r==y.Cg)x=!1;if(x)this.a3R.appendChild(r.n);var Z=r==y.Ek?"click":b.E.p;r.k(Z,this.ay7,this)}this.eJ=new ij("Split",ij.B6(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.eJ.c(-1);this.eJ.k(b.E.p,this.agA,this);this._i=new fv(!0,!0,!0);this._i.k(b.E.p,this.agA,this);
this._i.parent=this;var i=this.aqN,k=this._i;i.appendChild(this.eJ.n);i.appendChild(k.G5.n);i.appendChild(k.FO.n);
i.appendChild(k.dY.n);i.appendChild(k.in.n);i.appendChild(k.Ty.n);this.QP=new gs([11,9]);this.QP.k("click",this.axO,this);
this.Nt=new ak;this.Nt.k("click",this.Uh,this)}hF.prototype=new d4;hF.prototype.PX=function(d){if(d.Sf){var W=hF,c=this.TQ;
if(c==null)c=this.TQ=new dK(W.aol(),W.ab5(this.f));c._();c.parent=this;c.update(d.J8,d.qU);var y=new bR(b.E.V,!0);
y.data={d:b.H.oV,dD:c,x:d.Sf.$p+2,y:d.Sf.$U+1};this.T(y);return}f.qf(this.body);this.o6=d;if(d.u7){var B=d.u7.qe,r=d.u7.Fp.clone(),x=Math.atan2(-r.J,r.U),Z=new dT;
Z.rotate(-x);r.concat(Z);var i=this.u7;i.gS.c(d.u7.t9);i.fE.c(d.u7.Mh.x);i.BD.c(d.u7.Mh.y);i.wb.c(r.U*(i.wb.a$()=="%"?100:B.m));
i.wc.c(r.x7*(i.wc.a$()=="%"?100:B.i));i.a0x.c(-x*180/Math.PI);i.a21.c(Math.atan(r.gp/r.x7)*180/Math.PI);
i.aoI.c(0*180/Math.PI);this.body.appendChild(this.a3R);this.QP.Lc();if(d.u7.bW!=null)i.Ek.c(d.u7.bW)}if(d.ed){if(d.aqG)this.eJ.c(-1);
this._i.c(d.ed);this.body.appendChild(this.aqN);this.QP.JR()}if(d.iv)i.Cg.oe(d.iv);this.body.appendChild(this.Nt.n);
if(d.an0&&!this.a8Z)this.body.appendChild(this.QP.n)};hF.prototype.ay7=function(d){var W=this.u7,c=this.o6.u7.qe;
if(d.target==W.Ek)W.Ek.c(!W.Ek.h());else if(W.Ek.vm()){var y=W.wc,B=W.wb,r=c.i,x=c.m;if(d.target==W.wb){y=W.wb;
B=W.wc;r=c.m;x=c.i}var Z=y.h()/(y.a$()=="%"?100:r);Z*=B.a$()=="%"?100:x;B.c(Z)}var i=[];for(var k in W)if(W[k]!=W.Ek&&W[k]!=W.gS){var Z=W[k].h();
if((W[k]==W.wb||W[k]==W.wc)&&Z==0){Z=.1;W[k].c(Z)}if(W[k]==W.wb&&W[k].a$()=="px")Z/=c.m/100;if(W[k]==W.wc&&W[k].a$()=="px")Z/=c.i/100;
i.push(Z)}var H=new aL(i[0],i[1]);if(d.target==W.gS){this.eC({Ph:"ctyp",t9:W.gS.h()})}else if(d.target==W.fE||d.target==W.BD){this.eC({Ph:"cen",Mh:H})}else{var V=this.o6.u7.Fp.clone(),g=V.clone(),N=Math.atan2(-V.J,V.U);
g.translate(-H.x,-H.y);g.rotate(-N);var C=new dT(g.U,g.J,g.gp,g.x7,0,0);C.QE();g.concat(C);var w=i[2]/100,Y=i[3]/100;
g.concat(new dT(w,w*Math.tan(i[6]*Math.PI/180),Y*Math.tan(i[5]*Math.PI/180),Y,0,0));g.rotate(-i[4]*Math.PI/180);
g.translate(H.x,H.y);this.o6.u7.Fp=g;this.eC({Ph:"trn",u7:g,VP:W.YU.h(),BM:W.Cg.h(),bW:W.Ek.h()})}};
hF.prototype.agA=function(d){var W=this.eJ;this.eC(d.target==W?{Ph:"splt",b:W.h()}:{Ph:"wrp",ed:this._i.h()})};
hF.prototype.axO=function(d){this.eC({Ph:"switchWarp"})};hF.prototype.Uh=function(d){this.eC({Ph:this.Nt.h()?"commit":"cancel"})};
hF.prototype.eC=function(d){d.d=b.H.vQ;d.f=this.f;var W=new bR(b.E.V,!0);W.data=d;this.T(W)};hF.prototype.GT=function(){var d=this.u7;
for(var W in d)d[W]._();f.YV(d.wb,d.wc);this.Nt._();this.eJ._();this._i._();this.QP._()};hF.aol=function(){var d=function(W){var c=!0;
if(W==null||W.g.length==0)c=!1;else{var y=W.g;for(var S=0;S<y.length;S++){if(W.B[y[S]].add.TySh)c=!1}}return{w:c}};
return[{name:[5,9],aN:"Shift+Alt+Ctrl + T",Zq:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],w:d},{name:[2,9],w:d,Zq:!0},{name:[11,9],w:function(W){if(W==null||W.g.length!=1)return{w:!1};
var c=W.B[W.g[0]];return{w:c.add.TySh==null&&!c.vS()}},Zq:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
hF.ab5=function(d){if(d==null)d=X.Ee;return[{K:b.E.v,f:d,C:{d:"again"}},{K:b.E.V,C:{d:b.H.Fy,f:d,er:{Gg:3}}},{K:b.E.V,C:{d:b.H.Fy,f:d,er:{Gg:4}}},{K:b.E.V,C:{d:b.H.Fy,f:d,er:{Gg:5}}},{K:b.E.V,C:{d:b.H.Fy,f:d,er:{Gg:2}}},{K:b.E.V,C:{d:b.H.Fy,f:d,er:{Gg:1}}},{K:b.E.V,C:{d:b.H.Fy,f:d,er:{Gg:-1}}},{K:b.E.HQ,C:X.X.lA(!0,90,!0)},{K:b.E.HQ,C:X.X.lA(!0,-90,!0)},{K:b.E.HQ,C:X.X.lA(!0,-180,!0)},{K:b.E.HQ,C:X.X.lA(!1,"Hrzn",!0)},{K:b.E.HQ,C:X.X.lA(!1,"Vrtc",!0)}]};
function a1(){hF.call(this)}a1.prototype=new hF(!0);function j9(){hF.call(this)}j9.prototype=new hF(!0);
function er(){hF.call(this,!1,!0)}er.prototype=new hF(!0);function bv(){d4.call(this);var d=this.Hl=[new gd([12,36],["Rigid",[15,10,0],[24,4]]),new gd([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new kk([7,4],0,100,"px"),new ff("Show Mesh"),new gs("\u25BC",null,null,!0),new gs("\u25B2",null,null,!0)];
for(var S=0;S<d.length;S++){var W=d[S];W.parent=this;this.body.appendChild(W.n);W.k(S<4?b.E.p:"click",this.a87,this)}this.Nt=new ak;
this.Nt.k("click",this.Uh,this);this.body.appendChild(this.Nt.n)}bv.prototype=new d4;bv.prototype.GT=function(){var d=this.Hl;
for(var S=0;S<4;S++)d[S]._();this.Nt._()};bv.prototype.PX=function(d){var d=d.au;for(var S=0;S<4;S++)this.Hl[S].c(d[S])};
bv.prototype.a87=function(d){var W=[];for(var S=0;S<4;S++)W[S]=this.Hl[S].h();var c=this.Hl.indexOf(d.target);
if(c<4)this.eC({Ph:"prm",au:W});else this.eC({Ph:"moveDepth",a0p:c==5})};bv.prototype.Uh=function(d){this.eC({Ph:this.Nt.h()?"commit":"cancel"})};
bv.prototype.eC=function(d){d.d=b.H.vQ;d.f=this.f;var W=new bR(b.E.V,!0);W.data=d;this.T(W)};function h1(){d4.call(this);
var d=this.Ft=[new gd([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var S=0;S<d.length;S++){var W=d[S];
W.k(b.E.p,this.Gw,this);this.body.appendChild(W.n)}}h1.prototype=new d4;h1.prototype.Gw=function(d){var W=this.Ft,c=[];
for(var S=0;S<W.length;S++)c[S]=W[S].h();var y=new bR(b.E.V,!0);y.data={d:b.H.vQ,f:this.f,bv:c};this.T(y)};
h1.prototype.GT=function(){for(var S=0;S<this.Ft.length;S++)this.Ft[S]._()};function fU(){bE.call(this,!1,["binop"]);
this.Hj=new gs("Remove",!1,null,!0);this.Hj.k("click",this.e0,this);this.Hj.n.style.marginRight="2em";
this.ahr=new eO("New content");this.KA=new gs("\u2026",!1,null,!0);this.KA.k("click",this.HR,this);this.ek=new gs([18,0],!1,null,!0);
this.ek.k("click",this.e0,this);this.D1=new gs("Undo",!1,null,!0);this.D1.k("click",this.e0,this);this.body.appendChild(this.Hj.n);
this.body.appendChild(this.ahr.n);this.body.appendChild(this.KA.n);this.body.appendChild(this.ek.n);
this.body.appendChild(this.D1.n);this.i6=new d9;this.i6.parent=this;var d=this.i6.n=f.F("div","floatcont form label6"),W=this.kA="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" "),c=this._5=[new ff("Use default settings"),new eO("Neg. prompt",null,13.25),new fs("Guidance",-20,20),new fs("Steps",10,50),new gd("Sampler",W)];
c[0].k(b.E.p,this._,this);c[0].c(!0);c[2].c(6);c[3].c(20);for(var S=0;S<c.length;S++){d.appendChild(c[S].n);
f.MZ(d)}}fU.prototype=new bE(!0);fU.prototype._=function(){d4.prototype._.call(this);this.ek._();var d=this._5;
for(var S=0;S<d.length;S++){d[S]._();if(S>0)d[S].OB(!d[0].h())}};fU.prototype.e0=function(d){if(d.target==this.D1){var W=new bR(b.E.v,!0);
W.f=X._X;W.data={d:"h_stepbck"};this.T(W);return}var c=this._5,y={},B=["negative_prompt","guidance","steps","sampler"],r=!c[0].h();
if(r){for(var S=1;S<c.length;S++)y[B[S-1]]=c[S].h();y.sampler=this.kA[y.sampler];y.steps=Math.min(y.steps,50)}var W=new bR(b.E.HQ,!0);
W.data=X.UZ.yX("aiHeal");if(d.target==this.ek){W.data.i9.prmt={t:"TEXT",v:this.ahr.h()};if(r)W.data.i9.au=y}this.T(W)};
fU.prototype.HR=function(d){if(f.ni(this.i6.n))return;var W=this.KA.n.getBoundingClientRect(),c=new bR(b.E.V,!0);
c.data={d:b.H.oV,dD:this.i6,x:W.left,y:W.top+W.height+4,dW:!0};this.T(c)};function dw(){d9.call(this);
this.n=f.F("div","cmanager");window.alert=function(y,B){this.adP(y,B);console.log("Alert: "+y)}.bind(this);
window.onblur=function(y){var B=this;B.ut()}.bind(this);this.Kp=0;this.fn=0;this.iS=[];this.bo={};this.wM=f.F("div","alertcont");
this.n.appendChild(this.wM);this.a0F=f.F("div","alertcont");this.n.appendChild(this.a0F);this.Od=f.F("div","alertcont");
this.au6=0;this.Mn=-1;this.apr=null;this.CU=null;var d=this.azM=f.F("div","alertpanel");d.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Od.appendChild(d);var W=this.uk=f.F("input");W.setAttribute("type","text");f.O6(W);W.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
W.addEventListener("input",this.aeq.bind(this),!1);W.addEventListener("keydown",this.a38.bind(this),!1);
d.appendChild(W);var c=this.a0q=f.F("div","contextpanel scrollable");c.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
c.addEventListener("click",this.au3.bind(this),!1);d.appendChild(c);f._0(document.body,this.a8E.bind(this))}dw.prototype=new d9;
dw.prototype.O4=function(){if(f.ni(this.Od))this.n.removeChild(this.Od)};dw.prototype.ayA=function(d,W){var c=this.apr=[],y=W.a0S;
for(var S=0;S<h8.data.length;S++){var B=h8.data[S],r=[ay.get(B.name)],x=[S];dw.bu(B.items,r,x,c,d,W,y==null?null:y[S]==null?0:y[S])}var Z=W.s;
for(var S=0;S<Z.U$.length;S++){var i=Z.U$[S],k=Z.keys[S];for(var H=0;H<i.length;H++)c.push([["Tools",ay.get(i[H].f.name)],[-1,i[H].f.id],k?k.hH:null])}this.n.appendChild(this.Od);
var V=this.uk;V.focus();V.select();this.xX()};dw.prototype.aeq=function(d){this.Mn=-1;this.xX()};dw.prototype.xX=function(){var d=this.uk.value.toLowerCase().trim().replace(/  +/g," "),W=this.apr,c=[],y=[],B=d.split(" ");
if(d!="")for(var S=0;S<W.length;S++){var r=W[S][0],x=[],Z=0;for(var i=0;i<r.length;i++)x[i]=-1;for(var k=0;
k<B.length;k++)for(var i=0;i<r.length;i++){var H=r[i].toLowerCase().indexOf(B[k]);if(H!=-1){x[i]=[H,H+B[k].length];
Z++;break}}if(Z==B.length){c.push(W[S]);y.push(x)}}var V=[],g=this.a0q;f.qf(g);for(var S=0;S<c.length;
S++){var N=c[S],C=N[0],H=y[S],w="enab",U="";if(S==this.Mn)w+=" active";var Y=f.F("div",w);V.push(Y);
g.appendChild(Y);for(var i=0;i<C.length;i++){var e=H[i],O=B[i],l=C[i];if(e!=-1)l=l.slice(0,e[0])+"<span style=\"color:black\">"+l.slice(e[0],e[1])+"</span>"+l.slice(e[1]);
U+=l;if(i<C.length-1)U+=" \uFE65 "}if(N[2]&&(typeof N[2]!="string"||N[2].length==1))U+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+bm.Mv(N[2])+"</span>";
Y.innerHTML=U}this.CU=[c,V]};dw.prototype.a38=function(d){var W=bm.nl,c=d.code;if(W(c,bm.Rh))this.O4();
var y=W(c,bm.ZN),B=W(c,bm.wL),r=W(c,bm.Qy);if(y||B){this.Mn=Math.max(0,Math.min(this.CU[0].length-1,this.Mn+(y?-1:1)));
this.xX()}if(r&&this.Mn!=-1)this.amm(this.Mn)};dw.bu=function(d,W,c,y,B,r,x){if(typeof x=="number"){if(x==0)return;
if(x==1)x=null}for(var S=0;S<d.length;S++){if(x!=null&&(x[S]==0||x[S]==null))continue;var Z=d[S],i=W.slice(0),k=c.slice(0),H=ay.get(Z.name);
if(Z.w){var V=Z.w(B,r,S);if(V.TH)H=V.TH;if(V.w==!1)continue}i.push(H);k.push(S);if(Z.sub)dw.bu(Z.sub,i,k,y,B,r,x?x[S]:null);
else y.push([i,k,Z.aN])}};dw.prototype.au3=function(d){var W=d.target;if(W.tagName.toLowerCase()=="span")W=W.parentNode;
var c=this.CU[1].indexOf(W);if(c!=-1)this.amm(c)};dw.prototype.amm=function(d){var W=this.CU[0][d][1];
if(W[0]==-1){var c=new bR(b.E.V,!0);c.data={d:b.H.Fy,f:W[1]};this.T(c)}else{var y=h8.data[W[0]].tJ[W[1]];
for(var S=2;S<W.length;S++)y=y.sub[W[S]];var B=new bR(y.K,!0);B.f=y.f;B.data=y.C;this.T(B)}this.O4()};
dw.prototype.z2=function(d,W){this.Kp=d;this.fn=W;this.a0q.style["max-height"]=W-120+"px"};dw.prototype.apk=function(d){var W=f.F("div","alertpanel");
W.textContent=ay.get(d);this.wM.appendChild(W);this.bo[JSON.stringify(d)]=W};dw.prototype.a5q=function(d){var W=this.bo[JSON.stringify(d)];
this.wM.removeChild(W);delete this.bo[JSON.stringify(d)]};dw.prototype.adP=function(d,W){var c=this.a0F;
for(var S=0;S<c.children.length;S++)if(c.children[S].textContent==d)return;var y=f.F("div","alertpanel tpanel");
y.textContent=d;y.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");c.appendChild(y);if(W==null)W=1500;
var B=W,r=Math.max(Date.now()+B,this.au6+B);setTimeout(function(){y.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){c.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},r-Date.now()-30);
setTimeout(function(){c.removeChild(c.firstChild);c.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},r-Date.now());
this.au6=r};dw.prototype.a8E=function(d){var W=this.iS;for(var S=W.length-1;S>=0;S--){var c=W[S],y=d.target;
while(y!=null){if(y==c.n){this.ut(c);return}y=y.parentNode}}this.ut();var B=d.target;while(B!=this.Od&&B!=document.body)B=B.parentNode;
if(B!=this.Od)this.O4()};dw.prototype.ut=function(d){var W=this.iS;for(var S=0;S<W.length;S++){if(d&&d.a1A(W[S]))continue;
var c=W[S].n;if(!(W[S]instanceof dK))f.b2(W[S],this.n);else this.n.removeChild(c);c.style.height="auto";
f.V6(c,"scrollable");W.splice(S,1);S--}};dw.prototype.akr=function(d){this.ut(d.dD);var W=d.dD,c=W.n;
if(this.iS.indexOf(W)!=-1)return;this.iS.push(W);this.n.appendChild(c);var y=this.Kp,B=this.fn,r=d.x,x=d.y,Z=this.n.getBoundingClientRect(),i=W instanceof dK,k=-1,H=B-2;
if(i||d.dW){var V=W.IH(),g=W.avp();if(i)V=Math.min(V,200);var N=y-V-2,C=B-g-2;if(x<C)k=2;else if(r<N)k=1;
else if(0<x-g-2)k=0;else k=3;if(d.aDK)k=0;if(d.ahW)k=2;if(k==2){r=Math.min(r,N)}else if(k==1){x=Math.min(x,C)}else if(k==0){x=x-g-2;
r=Math.min(r,N);H=d.y}else if(k==3){r=r-V-2;x=Math.min(x,C)}}x=Math.max(2,x);var top=Math.round(x-Z.y+this.n.offsetTop);
c.style.position="absolute";c.style["z-index"]=10;if(x+W.avp()>H){c.style.height=H-x+"px";f.CH(c,"scrollable");
if(k==3)r-=10}c.style.left=Math.round(r)+"px";c.style.top=top+"px";if(!(W instanceof dK))f.eb(W)};dw.prototype.a2i=function(d){var W=d.dD,c=this.iS.indexOf(W);
if(c==-1)return;this.iS.splice(c,1);var y=W.n;if(!(W instanceof dK))f.b2(W,this.n);else this.n.removeChild(W.n)};
dw.prototype.dE=function(){var d=this.iS;return d.length==0?null:d[d.length-1]};dw.prototype.a3$=function(){this.a2i({dD:this.dE()})};
function ey(){d9.call(this);this.n=f.F("div","confbar")}ey.prototype=new d9;ey.prototype.a5T=function(d){d.parent=this;
f.qf(this.n);this.n.appendChild(d.n)};function bw(d){d9.call(this);bw.Qs=this;bw.Ro=d;this.kO=null;this.Kx=f.F("input","");
this.Kx.setAttribute("type","file");this.Kx.setAttribute("multiple","");this.Kx.addEventListener("change",function(W){this.Pv(W.target.files,null,this.vZ,null);
this.vZ=null}.bind(this),!1);document.body.appendChild(this.Kx);this.Kx.setAttribute("style","display:none");
this.ax$=[];this.ZC=!1;this.a0n=[];this.UX=!1;this.a1M={};this.vZ=null}bw.prototype=new d9;bw.Ro=null;
bw.nQ=function(d){try{var W={};W[d.type]=d;navigator.clipboard.write([new ClipboardItem(W)])}catch(jj){console.error(jj,jj.message)}};
bw.fR=function(d,W){navigator.clipboard.read().then(function(c){for(var S=0;S<c.length;S++){try{var y=c[S],B={},r=0,x=0;
for(var Z=0;Z<y.types.length;Z++){var i=y.types[Z];r++;y.getType(i).then(function(k){var H=i;new Response(k).arrayBuffer().then(function(V){B[this.zT]=V;
x++;if(x==r)bw.agB(B,d,W)}.bind({zT:this.zT}))}.bind({zT:i}))}}catch(jj){console.error(jj,jj.message)}}}).catch(function(c){})};
bw.azY=function(d){navigator.permissions.query({name:"clipboard-read"}).then(function(W){d(W.state)})};
bw.agB=function(d,W,c){var y=["text/plain","image/png","text/html","text/plain"];for(var B in d)console.log(B,B.startsWith("text")?K.uw(new Uint8Array(d[B])).slice(0,100)+"...":d[B]);
for(var r=0;r<y.length;r++){var x=y[r],Z=d[x];if(Z==null)continue;if(x=="image/png"){bw.Ro({name:"image.png"},Z,W,c);
return}if(x=="text/plain"){var i=K.uw(new Uint8Array(Z));if(r==0)if(!i.startsWith("<!--")&&!i.startsWith("<svg"))continue;
if(c&&i.startsWith("<svg"))continue;var k=new bR(b.E.V,!0);k.data={d:b.H.ayt,b:i};W.T(k);return}if(x=="text/html"){var i=K.uw(new Uint8Array(Z)),H=i.indexOf("src=\"");
if(H!=-1&&i.slice(H+5,H+9)!="http"){var V=H+10;while(i[V]!="\"")V++;var g=i.slice(H+5,V);bw.Ro({name:"chart.png"},fd.LC(g).buffer,W,c);
return}}}};bw.prototype.z5=function(d){if(d==null)d=[23,5];var W=JSON.stringify(d),c=this.a1M;if(c[W]==null)c[W]=0;
if(c[W]==0){var y=new bR(b.E.V,!0);y.data={d:b.H.MJ,Aj:d};this.T(y)}c[W]++};bw.prototype.Jz=function(d){if(d==null)d=[23,5];
var W=JSON.stringify(d),c=this.a1M;if(c[W]==null)c[W]=0;c[W]--;if(c[W]==0){var y=new bR(b.E.V,!0);y.data={d:b.H.Xg,Aj:d};
this.T(y)}};bw.prototype.ac4=function(d,W){this.vZ=d;var c=window.showOpenFilePicker;if(c&&window.self==window.top){var y=this;
c({multiple:!0}).then(function(x){var Z=[];function i(k){Z.push(k);if(Z.length==x.length){y.Pv(Z,null,y.vZ,null,x);
y.vZ=null}else x[Z.length].getFile().then(i)}x[Z.length].getFile().then(i)});return}var B=this.Kx;if(W)B.setAttribute("accept",W);
else B.removeAttribute("accept");var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
B.dispatchEvent(r)};bw.prototype.Oo=function(d){if(d.url.indexOf("photopea.com#i")!=-1||d.url.indexOf("photopea.com/#i")!=-1){this.wx(d.url.split("#i").pop());
return}this.ax$.push(d);this.aBW()};bw.prototype.aBW=function(){var d=this.ax$;if(d.length==0||this.ZC)return;
this.ZC=!0;var W=d.shift();this.z5();if(W.K3==null)W.K3={};var c=new XMLHttpRequest;c.sn=W;var y=W.url;
if(W.uG&&!y.startsWith("data:image"))y="mirror.php?url="+encodeURIComponent(y);c.open("GET",y);if(W.Hd)for(var B in W.Hd)c.setRequestHeader(B,W.Hd[B]);
c.responseType="arraybuffer";c.onload=this.ayg.bind(this);c.send()};bw.prototype.Pv=function(d,W,c,y,B){for(var S=0;
S<d.length;S++){this.z5();var r=d[S],x=new FileReader;x.sn=r;x.sn.E8=c;x.sn.B$=y;x.avY=W;if(B)x.sn.Yn=B[S];
x.onload=this.ayg.bind(this);x.onerror=function(Z){this.Jz()}.bind(this);this.a0n.push([x,r])}this.Kx.value=null;
this.aqF()};bw.prototype.aqF=function(){var d=this.a0n;if(d.length==0||this.UX)return;this.UX=!0;var W=d.shift();
W[0].readAsArrayBuffer(W[1])};bw.prototype.asu=function(d,W,c){this.z5("Saving ...");this.kO=W;setTimeout(c.bind({Y1:d,caller:this}),50)};
bw.ki=function(d){var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(d),y=c.length,B=y%3,r=y-B,x=[],Z=0,i=0,k=0;
for(var S=0;S<r;S+=3){Z=c[S];i=c[S+1];k=c[S+2];x.push(W[Z>>2]+W[(Z&3)<<4|i>>4]+W[(i&15)<<2|k>>6]+W[k&63])}if(B==1){Z=c[r];
x.push(W[Z>>2]+W[(Z&3)<<4]+"==")}if(B==2){Z=c[r];i=c[r+1];x.push(W[Z>>2]+W[(Z&3)<<4|i>>4]+W[(i&15)<<2]+"=")}var H=x.join("");
return H};bw.ahp=function(d,W){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=new Uint8Array(64),Z=0,i=0,k=0,V=0;
for(var S=0;S<64;S++)y[S]=c.charCodeAt(S);var B=new Uint8Array(d),r=W%3,x=W-r,H=new Uint8Array(Math.floor(W/3)*4+(r==0?0:4));
for(var S=0;S<x;S+=3){Z=B[S];i=B[S+1];k=B[S+2];H[V]=y[Z>>>2];H[V+1]=y[(Z&3)<<4|i>>>4];H[V+2]=y[(i&15)<<2|k>>>6];
H[V+3]=y[k&63];V+=4}if(r==1){Z=B[x];H[V]=y[Z>>2];H[V+1]=y[(Z&3)<<4];H[V+2]=61;H[V+3]=61}if(r==2){Z=B[x];
i=B[x+1];H[V]=y[Z>>2];H[V+1]=y[(Z&3)<<4|i>>4];H[V+2]=y[(i&15)<<2];H[V+3]=61}return H};bw.prototype.ayg=function(d){var W,c=d.target.sn;
if(d.target instanceof XMLHttpRequest)W=d.target.response;else W=d.target.result;bw.Ro(c,W,this,d.target.avY);
this.Jz();if(d.target instanceof XMLHttpRequest){this.ZC=!1;this.aBW()}else{this.UX=!1;this.aqF()}};
bw.aes=function(d,W){var c=new XMLHttpRequest;c.open("POST","https://api.imgur.com/3/image",!0);c.al=W;
c.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");c.setRequestHeader("Content-type","application/x-www-form-urlencoded");
c.setRequestHeader("Accept","application/json");c.addEventListener("load",bw.akw);c.send("type=base64&image="+encodeURIComponent(bw.ki(d)));
alert("Saving to Imgur ...",4e3)};bw.akw=function(d){var W=JSON.parse(d.target.response);if(W.success){if(d.target.al)d.target.al(W.data.link);
else window.open(W.data.link,"Imgur")}};bw.prototype.wx=function(d,W,c){this.z5();var y=new XMLHttpRequest;
y.responseType="arraybuffer";y.open("GET","https://f000.backblazeb2.com/file/"+(c?"pp-resources":"psdshared")+"/"+d);
y.onload=this.awY.bind(this);y.send();y.ht=[Date.now(),d,W?d:null,c]};bw.prototype.awY=function(d){var W=d.target.ht,c=new Uint8Array(d.target.response);
console.log(c.length+" B,",Date.now()-W[0]+" ms");for(var S=0;S<c.length;S++)c[S]=255-c[S];c=pako.inflateRaw(c);
var y=JSON.parse(K.uw(c,0,2e3));bw.Ro({name:y.name,U8:W[2]},c.slice(2e3).buffer,this);this.Jz();if(!W[3])bw.SW("act=0&id="+W[1])};
bw.prototype.ac1=function(d,W,c,y){if(!(d instanceof ArrayBuffer))throw"e";d=new Uint8Array(d);var B=new Uint8Array(d.length+2e3),g="";
for(var S=0;S<2e3;S++)B[S]=32;K.wP(JSON.stringify({name:W}),B,0);B.set(d,2e3);d=B;d=pako.deflateRaw(d);
for(var S=0;S<d.length;S++)d[S]=255-d[S];d=d.buffer;var r=d.byteLength,x=cA.oZ(r),Z=~~(609e5/2),i=~~(209e5/2);
if(r>Z){confirm("Your file is "+x+". Our limit is "+cA.oZ(Z)+". Delete some layers and try again.");
return}if(r>i){var k=confirm("Your file is quite large ("+x+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!k)return}var H=sha1(d),V=[];for(var S=0;S<20;S++){var N=parseInt(H.slice(S*2,S*2+2),16);V.push(N);
g+=String.fromCharCode(N)}var C=btoa(g).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(bw.ajC(C,y)){console.log("file already exists");
if(c)c(C);else window.open("https://www.photopea.com#i"+C+".psd");return}this.z5("Publishing ...");var w=new XMLHttpRequest;
w.ht=[d,H,C,c,y];w.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+C+"&size="+r+"&bname="+y);
w.onload=this.a5L.bind(this);w.send()};bw.ajC=function(d,W){try{var c=new XMLHttpRequest;c.open("HEAD","https://f000.backblazeb2.com/file/"+W+"/"+d,!1);
c.send();if(c.status==200)return!0}catch(jj){return!1}return!1};bw.prototype.a5L=function(d){console.log(d.target.response);
var W=JSON.parse(d.target.response),c=d.target.ht,y=new XMLHttpRequest;y.open("POST",W.uploadUrl);y.setRequestHeader("Authorization",W.authorizationToken);
y.setRequestHeader("X-Bz-File-Name",c[2]);y.setRequestHeader("Content-Type","b2/x-auto");y.setRequestHeader("X-Bz-Content-Sha1",c[1]);
y.send(new Blob([c[0]]));y.onload=this.aqB.bind({i7:this,ht:c})};bw.prototype.aqB=function(d){this.i7.Jz("Publishing ...");
if(this.ht[3])this.ht[3](this.ht[2]);else window.open("https://www.photopea.com#i"+this.ht[2]+".psd");
if(this.ht[4]=="psdshared")bw.SW("act=2&id="+this.ht[2]+"&fileId="+JSON.parse(d.target.response).fileId)};
bw.SW=function(d){var W=new XMLHttpRequest;W.open("GET","/papi/img/update.php?"+d+"&rnd="+Math.random());
W.send()};bw.save=function(d,W){var c=new Uint8Array(d),y=document.createElement("a");if(typeof y.download=="string"){var B=new Blob([c]),r=window.URL.createObjectURL(B);
y.href=r;y.download=W;document.body.appendChild(y);y.click();document.body.removeChild(y)}else{var x="data:application/octet-stream;base64,"+bw.ki(d);
window.open(x)}};function jD(){this.size=16;this.data=v.R(16)}jD.prototype.N5=function(d,W){if(d+W<=this.size)return;
var c=this.size;while(d+W>this.size)this.size*=2;var y=v.R(this.size);for(var S=0;S<c;S++)y[S]=this.data[S];
this.data=y};var fB={};fB.vu=function(d,W,c,y){var B=W.split(":"),r=B[0];if(B.length==2){if(r=="jpg")y=[Math.round(100*parseFloat(B[1]))];
if(r=="webp")y=[Math.round(100*parseFloat(B[1])),100,0,!1,!1];if(r=="psd")y=[!0,!0,!1,!1,!1];if(r=="svg")y=B[1].split(",").map(function(Z){return Z=="true"})}var x=fd.OR(d,r.toUpperCase(),null,null,y,c);
return x};fB.azD=function(d,W,c){var y=d.Li(),B=W[0];return fB.vu(d,B,c)};fB.agn=function(){var d=this.Y1,W=this.caller,c=d.K3.V7,y=c.formats,B,r;
d.Li();var x=Date.now();if(c.version==1){var Z=[],i=0,H=0;for(var S=0;S<y.length;S++){var k=fB.vu(d,y[S],W.kO);
Z.push(k);i+=k.byteLength}B=new Uint8Array(2e3+i);var V="{ \"source\": "+JSON.stringify(d.Fk)+", \"versions\": [\n";
for(var S=0;S<y.length;S++){var g=new Uint8Array(Z[S]);V+="\t{\"format\": \""+y[S].split(":")[0]+"\", \"start\": "+H+", \"size\": "+g.length+" }"+(S+1<y.length?", ":"")+"\n";
B.set(g,2e3+H);H+=Z[S].byteLength}V+="] }";var N=K.wP(V,B,0);for(var S=N;S<2e3;S++)B[S]=32;r="application/octet-stream"}else{var C=new jD,w=0,Y="",U=encodeURIComponent;
Y="p="+U("{ \"source\": "+JSON.stringify(d.Fk)+", \"versions\": [");K.MA(C,w,Y);w+=Y.length;for(var S=0;
S<y.length;S++){Y=U(" {\"format\": \""+y[S].split(":")[0]+"\", \"data\": \"");K.MA(C,w,Y);w+=Y.length;
var k=fB.vu(d,y[S],W.kO),e=bw.ahp(k,k.byteLength),N=e.length;C.N5(w,N);for(var O=0;O<N;O++){C.N5(w,3);
var l=e[O];if(l==43){C.data[w]=37;C.data[w+1]=50;C.data[w+2]=66;w+=3}else if(l==47){C.data[w]=37;C.data[w+1]=50;
C.data[w+2]=70;w+=3}else if(l==61){C.data[w]=37;C.data[w+1]=51;C.data[w+2]=68;w+=3}else{C.data[w]=l;
w++}}Y=U("\" }"+(S+1<y.length?", ":""));K.MA(C,w,Y);w+=Y.length}Y=U("] }");K.MA(C,w,Y);w+=Y.length;B=C.data.slice(0,w);
r="application/x-www-form-urlencoded"}var I=new XMLHttpRequest;I.open("POST",c.url,!0);if(r)I.setRequestHeader("Content-Type",r);
I.addEventListener("load",fB.acf.bind(this));I.send(new Blob([B.buffer]))};fB.acf=function(d){this.caller.Jz("Saving ...");
var W=d.target.response;if(W.charAt(0)=="{"){W=JSON.parse(W);if(W.newSource)this.Y1.Fk=W.newSource;if(W.message)alert(W.message,2e3);
if(W.script){var c=new bR(b.E.V,!0);c.data={d:b.H.r3,za:W.script};this.caller.T(c)}}else alert("Saved. Response: "+W,1500)};
fB.akI=function(d){var W=d.N0,c=W[1].split(".").pop(),y=fB.vu(d,c,null,c=="psd"&&W[0]==1?[!0,!1,!0,!1]:null),B=Storage.RJ(W[0]);
return B.adT(W[1],y)};fB.auQ=function(d,W){var c=d.hs.xH;if(W==null)W=fB.vu(d,c);bJ.Zy(function(){var y=new XMLHttpRequest,B="https://www.googleapis.com/upload/drive/v3/files/"+d.hs.file.id+"?uploadType=media"+"&"+bJ.Pj();
y.open("PATCH",B,!0);y.addEventListener("load",function(r){var x=JSON.parse(r.target.response);alert(x.name+" updated")});
y.send(W);alert("Saving \""+d.hs.file.name+"\" to Google Drive ...")})};fB.Ro=function(d,W,c,y){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)fB.am_(d,W,c,y);
else{try{fB.am_(d,W,c,y)}catch(jj){if(jj=="low_ram"){}else{var B="Error. Please, send your file to support@photopea.com and we will solve it.";
if(fd.$Z(W)=="eps")B="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(B,1e4)}}}};fB.am_=function(d,W,c,y){var B;if(d.name){var r=d.name.lastIndexOf(".");B=r==-1?d.name:d.name.slice(0,r)}else{if(d.url.substring(0,5)=="data:"||d.url.indexOf("googleapis")!=-1)B="image";
else B=d.url.substring(d.url.lastIndexOf("/")+1).split(".")[0];B=B.slice(0,50)}var x=d.name?d.name:d.url,Z=new Uint8Array(W),i=fd.$Z(W);
if(i!=null&&fd.Ay(i))jj.event("fmt_"+i,.1);if(i==null)i=K.xA(Z,0,4);if(x&&x.toLowerCase().endsWith(".raw")&&i!="tiff"){var k=new bR(b.E.V,!0);
k.data={d:b.H.vB,vD:"importraw",vq:W,Kh:x.split("/").pop()};c.T(k);return}else if(i=="json"){var H="";
for(var S=0;S<Z.length;S++)H+=String.fromCharCode(Z[S]);H=decodeURIComponent(escape(H));var V=JSON.parse(H);
if(V.name&&V.url){var k=new bR(b.E.V,!0);k.data={d:b.H.a4V,b:V};c.T(k)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(V)}return}if(i=="html"){var H=K.uw(Z,0,Z.length),g=new DOMParser,N=g.parseFromString(H,"text/html"),C=N.getElementsByTagName("meta");
for(var S=0;S<C.length;S++){var w=C[S],Y=w.getAttribute("property"),U=w.getAttribute("content"),e=null;
if(Y=="og:image")e=U;if(Y==null&&U&&U.startsWith("0;url=/imgres?")){var O=U.slice(14).split("&");for(var l=0;
l<O.length;l++)if(O[l].startsWith("imgurl"))e=decodeURIComponent(O[l].slice(7))}if(e==null)continue;
var k=new bR(b.E.V,!0);k.data={d:b.H.Gf,au:{url:e,uG:!0,E8:d.E8}};c.T(k)}return}if(fd.Ay(i)){var I,s,z=fd.Ay(i);
if(d.E8!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(i)!=-1){var k=new bR(b.E.V,!0);if(0<=d.E8)k.data={d:b.H.rY,target:d.E8,hk:d.B$,Ig:W,NH:B};
else{k=new bR(b.E.v,!0);k.data={d:e8.OY,data:new Uint8Array(W),Kh:B+"."+i};k.f=X.jq}c.T(k);return}var R=[B,z,i,d,c,y,W];
if(z.IX){var t=be==0?"psd":"ai";I=new eb(B+(i==t?"":"-"+i)+"."+t);z.Pd(W,I,fB.Vd,R)}else{s=z.Pd(W,null,fB.Vd,R,c)}if(z.ka!=!0)fB.Vd(I,s,R);
else c.z5();return}var a=new bR(b.E.V,!0);a.data={d:b.H.$X,vq:W,_S:d.name};var J=d instanceof File&&d.B3!=!0,k=new bR(b.E.V,!0);
k.data={d:b.H.e7,K3:"add",au:null,U0:null,a9O:d.B3};if(i=="zip"){var F=Date.now(),h=UZIP.parse(W),m="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var D in h){var _=!1;for(var S=0;S<m.length;S++)if(D.toLowerCase().endsWith("."+m[S]))_=!0;if(D.startsWith("__MACOSX/")||h[D].length==0)_=!0;
if(_)continue;var n=D.split("/").pop();fB.Ro({name:n},h[D].buffer,c,y)}}else if(i=="jsx"||x&&x.toLowerCase().endsWith(".jsx")){if(J)c.T(a);
var H=K.uw(new Uint8Array(W));k.data={d:b.H.r3,za:H};c.T(k)}else if(i=="otf"){if(J)c.T(a);var j=Typr.parse(W);
k.data.au=kG.hF;for(var S=0;S<j.length;S++){k.data.U0=j[S];c.T(k)}}else if(i=="asl"){if(J)c.T(a);var j=eL.Nr(W,x);
k.data.au=kG.XX;k.data.U0=j.i3;c.T(k);k.data.au=kG.T$;k.data.U0=j.pC;c.T(k)}else if(i=="tpl"){if(J)c.T(a);
var j=ft.Nr(W);k.data.au=kG.Bo;k.data.U0={pb:j.pb,An:j.An,list:[]};c.T(k);if(j.a73.length!=0){k.data.au=kG.jY;
k.data.U0=j.a73;c.T(k)}if(j.pC.length!=0){k.data.au=kG.T$;k.data.U0=j.pC;c.T(k)}k.data.au=kG.tf;k.data.U0=j.list;
c.T(k)}else{var T="";for(var L in kG.uh)if(kG.uh[L][0]==i)T=L;if(T!=""){if(J)c.T(a);k.data.U0=kG.uh[T][2].Nr(W,x);
k.data.au=T;c.T(k)}else if(W.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(i))}};
fB.Vd=function(d,W,c){var y=c[0],B=c[1],r=c[2],x=c[3],Z=c[4],i=c[5],k=c[6];if(B.ka)Z.Jz();if(!B.IX){if(W.length==0)return;
if(W[0].t33421||W[0].t50706){v.raw.normalize(W[0],k);console.log(W[0]);var H=new bR(b.E.V,!0);H.data={d:b.H.vB,vD:"rawpea",hl:W[0]};
Z.T(H);return}if(i){i(new Uint8Array(W[0].data),W[0].H2);return}d=fd.ge(y,W)}d.U8=x.U8;d.i5=r;d.K3=x.K3;
d.Fk=x.url;d.vK=x.vK;d.hs=x.hs;d.Yn=x.Yn;d.N0=x.N0;if(d.hs)d.hs.xH=r;if(d.B.length!=0){var H=new bR(b.E.V,!0);
H.data={d:x.E8==null?b.H._I:b.H.rY,target:x.E8,hk:x.B$,Ig:d};Z.T(H)}};function cn(d){d9.call(this);this.NU=cn.NU++;
this.t1=d;this.awb=this.afD.bind(this);this.ahq=this.acv.bind(this);this.a2V=this.d1.bind(this);this.aze=this.aoQ.bind(this);
this.abC=this.a3f.bind(this);this.a3S=this.ada.bind(this);this.Fs=0;this.a4C=0;this.avi=0;this.n=f.F("div","panelblock");
this.sp=f.F("div","block");this.hL=f.F("div","collapsed");this.n.appendChild(this.sp);this.qV=-1;this.d4=!0;
this.uS=f.F("div","panelhead");this.sp.appendChild(this.uS);this.XA(this.uS);this.M6=new gs("\u2261");
this.M6.n.setAttribute("style","position:absolute; right:4px;");this.M6.k("click",this.aD6,this);this.Ke=f.F("div","body");
this.sp.appendChild(this.Ke);this.v$=[];this.YO=null;this.lB=null}cn.NU=0;cn.prototype=new d9;cn.nJ=26.1;
cn.prototype.aD6=function(d){var W=this.v$[this.qV].NI(),c=d.currentTarget.n.getBoundingClientRect();
W._();W.update();W.parent=this;var y=new bR(b.E.V,!0);y.data={d:b.H.oV,dD:W,x:c.left,y:c.top+c.height+2};
this.T(y)};cn.prototype.sk=function(d){var W=this.sp,c=this.uS,y=this.Ke;if(f.ni(c))W.removeChild(c);
if(f.ni(y))W.removeChild(y);if(d==0)W.appendChild(c);W.appendChild(y);this.avi=d};cn.vT=function(d){d.stopPropagation();
d.preventDefault()};cn.prototype.afD=function(d){var W=d.dataTransfer.types;if(W[1]!=null&&W[1]!=this.NU+"")return;
cn.vT(d);var bd=d.currentTarget;if(d.target==bd)f.CH(bd,"highlight")};cn.prototype.acv=function(d){cn.vT(d);
var bd=d.currentTarget;if(d.target==bd)f.V6(bd,"highlight")};cn.prototype.XA=function(d){d.addEventListener("dragenter",this.awb,!1);
d.addEventListener("dragleave",this.ahq,!1);d.addEventListener("dragover",cn.vT,!1);d.addEventListener("drop",this.a2V,!1);
d.addEventListener("dragstart",function(W){W.dataTransfer.setData("Text","--panel");W.dataTransfer.setData(this.NU+"","")}.bind(this),!1)};
cn.prototype.d1=function(d){this.ahq(d);var W=null,bd=d.currentTarget,c=this.a5J(bd);if(bd==this.Ke&&this.qV!=-1)W=this.qV;
else if(bd==this.uS)W=null;else if(c!=-1)W=c;var y=d.dataTransfer.getData("Text");if(y==""||y.startsWith("http"))f.XO(d,this,W);
else if(y=="--panel"){var B=f.Ne(d,bd),r=this.v$,x=r.slice(0),S=this.qV,Z=c==-1?r.length:B.x<bd.getBoundingClientRect().width/2?c:c+1;
if(S==Z||S+1==Z||bd==this.Ke)return;var i=S<Z?Z-1:Z,k=r[S];r.splice(S,1);r.splice(i,0,k);f.qf(this.uS);
for(var H=0;H<r.length;H++)this.uS.appendChild(r[H].YG);this.bX(i);var V=[];for(var S=0;S<r.length;S++)V[S]=x.indexOf(r[S]);
var g=new bR("shuffleItems",!1);g.data={awR:V};this.T(g)}else if(W!=null&&this instanceof fQ){var g=new bR(b.E.V,!0);
g.data={d:b.H.asX,a6M:W};this.T(g)}};cn.prototype.yj=function(){return null};cn.prototype.aaQ=function(){if(this.yj()){this.uS.style.padding="0px";
this.lB=this.yj();this.Ke.appendChild(this.lB);this.wD.OB(!1);var d=new bR(b.E.V,!0);d.data={d:b.H.Rd,b:1};
this.T(d)}};cn.prototype.a8z=function(){if(this.lB){this.uS.style.padding="";this.Ke.removeChild(this.lB);
this.lB=null;this.wD.OB(!0);var d=new bR(b.E.V,!0);d.data={d:b.H.Rd,b:0};this.T(d)}};cn.prototype.a5J=function(d){var W=this.v$;
for(var S=0;S<W.length;S++)if(W[S].YG==d)return S;return-1};cn.prototype.PP=function(){for(var S=0;S<this.v$.length;
S++)this.v$[S].r6.Lc()};cn.prototype.Uk=function(){return this.qV};cn.prototype.W$=function(){if(this.d4)return;
this.d4=!0;this.n.removeChild(this.hL);this.n.appendChild(this.sp)};cn.prototype.collapse=function(){if(!this.d4)return;
this.d4=!1;this.n.appendChild(this.hL);this.n.removeChild(this.sp)};cn.prototype.nJ=function(){var d=0;
if(this.avi==0){d=this.uS.getBoundingClientRect().height+1;d=Math.max(d,cn.nJ)}return d};cn.prototype.aBF=function(){return this.nJ()+this.Ke.getBoundingClientRect().height};
cn.prototype.z2=function(d,W){this.uS.style.maxWidth=d+"px";var c=this.nJ();if(this.qV!=-1)this.v$[this.qV].z2(d,W-c);
return W-c};cn.prototype.lz=function(d,W){if(this.qV!=-1)this.v$[this.qV].lz(d,W)};cn.prototype.M7=function(d,W,c){this.v$[this.qV].M7(d,W,c)};
cn.prototype.Ae=function(d){this.a8z();if(this.v$.indexOf(d)!=-1){this.bX(this.v$.indexOf(d));return}d.parent=this;
this.v$.push(d);this.uS.appendChild(d.YG);d.YG.addEventListener("mouseover",this.aze,!1);this.XA(d.YG);
this.hL.appendChild(d.r6.n);d.r6.k("click",this.a7l,this);d.k("select",this.aqQ,this);d.k(b.E.IF,this.a6C,this);
this.bX(this.v$.length-1)};cn.prototype.aoQ=function(d){if(d.buttons==0)return;var W=d.currentTarget,c=W,S=0;
while((c=c.previousSibling)!=null)S++;this.a4C=S;W.addEventListener("mouseout",this.abC,!1);this.Fs=setTimeout(this.a3S,700)};
cn.prototype.a3f=function(d){var W=d.currentTarget,c=W,S=0;while((c=c.previousSibling)!=null)S++;W.removeEventListener("mouseout",this.abC);
clearTimeout(this.Fs)};cn.prototype.ada=function(d){this.T(new bR(b.E.a6V,!1))};cn.prototype.a1F=function(d){return this.a4C};
cn.prototype.lh=function(S){var d=new bR(b.E.IF,!1);d.data={p3:S};this.T(d);var W=this.v$[S];this.v$.splice(S,1);
this.uS.removeChild(W.YG);this.hL.removeChild(W.r6.n);W.YG.className="";W.r6.removeEventListener("click",this.a7l,this);
W.r6.Lc();W.removeEventListener("activate",this.aqQ);W.removeEventListener(b.E.IF,this.a6C);var c=this.qV;
if(S<c)c--;else if(S==c&&S==this.v$.length)c--;this.bX(c);if(this.v$.length==0)this.aaQ()};cn.prototype.a0t=function(){return this.v$.length};
cn.prototype.UE=function(){if(this.v$.length!=0)this.v$[this.qV].UE()};cn.prototype.bX=function(d,W){if(W==null)W=!0;
for(var S=0;S<this.v$.length;S++)this.v$[S].YG.className="";if(this.YO)this.Ke.removeChild(this.YO);
this.YO=null;this.qV=d;if(d==-1)return;var c=this.v$[this.qV];this.YO=c.CN;this.Ke.appendChild(c.CN);
c.YG.className="active";if(!this.d4){this.T(new bR("showFloat"));this.v$[d].r6.JR()}if(W)this.T(new bR(b.E.p,!1));
c.Cs();var y=this.M6.n;if(y.parentNode)this.uS.removeChild(y);if(c.NI())this.uS.appendChild(y);var B=new bR(b.E.V,!0);
B.data={d:b.H.OO};this.T(B)};cn.prototype.aqQ=function(d){if(this.t1&&!this.t1.axq())return;var S=this.v$.indexOf(d.currentTarget);
this.bX(S)};cn.prototype.a6C=function(d){if(this.t1&&!this.t1.axq())return;var S=this.v$.indexOf(d.currentTarget);
this.lh(S)};cn.prototype.a7l=function(d){var W=this.v$.indexOf(d.currentTarget.parent);if(this.v$[W].r6.vm())this.T(new bR("hideFloat"));
else this.bX(W)};cn.prototype.a7d=function(d){this.T(d)};function fQ(d){cn.call(this,d);this.Kp=0;this.fn=0;
f.OD(this.uS,this.azI.bind(this));this.DD=0;this.aad=this.aq$.bind(this);this.XA(this.Ke);this.tY=["default;"];
this.wD=new f._6(this.Ke);this.$Q=new dM(!0);this.$Q.parent=this;this.Nu=this.$Q.n;dM.LA(this.$Q)}fQ.prototype=new cn;
fQ.prototype.azI=function(d){if(d.target!=this.uS)return;var W=this.DD;this.DD=Date.now();if(Date.now()-W>300)return;
var c=new bR(b.E.V,!0);c.data={d:b.H.vB,vD:"newproject"};this.T(c)};fQ.prototype.Us=function(d,W){if(W)this.tY.push(d);
else{var c=this.tY.length-1;if(this.tY[c]==d)return;this.tY[c]=d}this.U2()};fQ.prototype.a05=function(){this.tY.pop();
this.U2()};fQ.prototype.U2=function(){var d=this.tY[this.tY.length-1];this.wD.M7(d,this.FE)};fQ.prototype.lz=function(d,W){cn.prototype.lz.call(this,d,W);
this.$Q.lz(d,W);if(!d.cm){}};fQ.prototype._=function(){cn.prototype._.call(this);this.$Q._()};fQ.prototype.M7=function(d,W){for(var S=0;
S<W.length;S++){var c=W[S];this.v$[S].DE(c.name+(c.l3()?" *":""))}cn.prototype.M7.call(this,d,W)};fQ.prototype.yj=function(){return this.Nu};
fQ.prototype.z2=function(d,W){if(this.v$.length==0)W+=cn.nJ-1;this.Kp=d;this.fn=W;W=cn.prototype.z2.call(this,d,W);
this.FE="height:"+W+"px; width:"+d+"px; overflow:hidden; position:relative;";this.U2();this.$Q.z2(d,W)};
fQ.prototype.Ae=function(d){cn.prototype.Ae.call(this,d);d.YG.addEventListener("click",this.aad,!1)};
fQ.prototype.lh=function(S){var d=this.v$[S];f.Ra(d.YG,this.aad);cn.prototype.lh.call(this,S)};fQ.prototype.aq$=function(d){var W=this.DD;
this.DD=Date.now();if(Date.now()-W>300)return;var c=this.a5J(d.currentTarget),y=this.v$[c].Ig.name,B=new bR(b.E.V,!0),r={K:b.E.v,f:X.jq,C:{d:e8.zH}};
B.data={d:b.H.vB,vD:"namewindow",qp:y.slice(0,y.length-4),gU:r};this.T(B)};function jn(d){d9.call(this);
if(d)return;hL.aaf(1);this.n=f.F("div","flexrow app");this.oT=f.F("div");this.n.appendChild(this.oT);
setTimeout(function(){var c=window.hideCap;if(c)c()},25e3);this.mD=new bm;window.addEventListener("blur",function(c){this.mD.reset()}.bind(this),!1);
window.addEventListener("resize",this.L8.bind(this),!1);var W=this.oT;this.CI=new hN;this.CI.parent=this;
W.appendChild(this.CI.n);this.vY=new dw;this.vY.parent=this;W.appendChild(this.vY.n);this.Eb=new iD(!0);
this.Eb.parent=this;W.appendChild(this.Eb.n);this.k(b.E.V,this.nh,this);this.Y8=this.Ar.bind(this);window.requestAnimationFrame(this.Y8)}jn.prototype=new d9;
jn.prototype.Ar=function(d){this.PO();window.requestAnimationFrame(this.Y8)};jn.prototype._=function(){};
jn.prototype.L8=function(d){var W=window.innerWidth,c=window.innerHeight;this.z2(W,c)};jn.prototype.z2=function(d,W){this.vY.z2(d,W);
this.CI.z2(d,W)};jn.prototype.nh=function(d){var W=d.data.d;if(W==b.H.oV)this.vY.akr(d.data);if(W==b.H.QU)this.vY.a2i(d.data);
if(W==b.H.MJ)this.vY.apk(d.data.Aj);if(W==b.H.Xg)this.vY.a5q(d.data.Aj);if(W==b.H.wG)this.vY.ut()};function aM(){jn.call(this);
this.NV={x:0,y:0,HW:!1};this.XW=!1;this.P8=!1;this.$F=null;this.arl=0;this.avm=!1;this.g2=0;window.onmessage=function(H){if(Storage.aaZ(H.source))return;
if(H.data instanceof ArrayBuffer){var V=fd.$Z(H.data),g=fd.Ay(V);bw.Ro({url:"file"},H.data,this);if(g==null)this.Pb()}else if(H.data instanceof Object||H.data.startsWith("{")||H.data.startsWith("amp-")||H.data.startsWith("0=goog")||H.data.startsWith("3PCoo")||H.data.startsWith("ima://")){}else if(H.data.startsWith("--ur ")){var N=H.data.split(" ").pop(),O=null;
N=N.length==0?[]:N.split(",");console.log(N);var C=this.Ln.U0,w=new bR(b.E.V,!0);w.data={d:b.H.e7,au:kG.SG,z4:N};
this.T(w);var Y=N,U=C;if(U.length>Y.length){var e=U;U=Y;Y=e}for(var S=0;S<Y.length;S++)if(U.indexOf(Y[S])==-1)O=Y[S];
bw.SW("act=3&id="+O+"&dif="+(Y==N?1:-1));alert((Y==N?"Resource added.":"Resource removed.")+" "+O)}else if(H.data.startsWith("--ot ")){if(this.CI.dE())this.CI.dE().close();
this.U4.wx(H.data.split(" ").pop(),!0)}else if(H.data.startsWith("--et ")){}else{var w=new bR(b.E.V,!0);
w.data={d:b.H.r3,za:H.data};this.T(w);this.Pb()}}.bind(this);window.onbeforeunload=function(H){this.an2();
for(var S=0;S<this.Tx.length;S++)if(this.Tx[S].l3())return this.Tx[S].name}.bind(this);window.setInterval(this.a1Y.bind(this),5*60*1e3);
var d=this;if(window.indexedDB&&(!ah.$f()||document.hasStorageAccess==null)){var W={N5:window.indexedDB.open("pp",1)};
W.N5.onupgradeneeded=function(H){var V=H.target.result,g=V.createObjectStore("rsrc",{keyPath:"k"})};
W.N5.onsuccess=function(H){var V=d.Ln.V9.pg=H.target.result,g=V.transaction(["rsrc"],"readwrite").objectStore("rsrc"),N=g.get("fs0");
N.onsuccess=function(H){if(H.target.result){var Y=d.Ln.V9.B_=H.target.result.fset;for(var U in Y){if(!U.endsWith(".jsx")&&!U.endsWith(".psd"))bw.Ro({url:U,B3:!0},Y[U],d)}}};
var C=new BroadcastChannel("pp-tabs"),w=[];C.onmessage=function(H){if(H.data=="id")C.postMessage(d.Ln.V9.id);
else w.push(H.data)};C.postMessage("id");setTimeout(function(){var g=V.transaction(["rsrc"],"readwrite").objectStore("rsrc"),Y=g.getAllKeys();
Y.onsuccess=function(){var U=Y.result,e=[],O=0;for(var S=0;S<U.length;S++){if(U[S]=="fs0")continue;if(w.indexOf(U[S])!=-1)continue;
e.push(U[S])}for(var S=0;S<e.length;S++){var N=g.get(e[S]);N.onsuccess=function(H){if(H.target.result){var l=H.target.result.fset;
for(var I in l){try{bw.Ro({url:I,B3:!0},l[I],d);var s=d.LM();s.d8=s.Z3=-1}catch(H){console.log(H)}}O++;
if(O==e.length)for(var S=0;S<e.length;S++){var N=g.delete(e[S])}}}}}},200)}}var c=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO","\"|'/-&(0><BBDEEMGrVPb"],y=f.YX[dQ.K8][dQ.a6];
for(var S=0;S<c.length;S++){var B=f.Fu(c[S]);if(y.indexOf(B)!=-1){var r=f.YX[dQ.K8][dQ.Ke],x=f.Fu("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
f.qf(r);r[dQ.ab0]=x;return}}this.s=aM.ahd();this.Ln={s:this.s,a0u:!1,_9:null,KW:0,sa:{An:[],pb:[],list:[],WU:null},kc:[],a8l:[],yv:[],_C:[],EE:[],_m:[],ajU:[],aCJ:[],EE:[],zc:[kt.qw()],C$:[],HV:[],mZ:null,Qm:0,az:bV.az.qw(),JW:{pF:1,ue:JSON.parse(JSON.stringify(bV.vn[0]))},Mg:bV._M.qw(),Jk:[null].concat(bV.vn),tH:[null].concat(bV.vn),Sm:new eM(function(H){var V=new bR(b.E.V,!0);
V.data={d:b.H.Gf,au:{url:"rsrc/fonts/"+H}};this.T(V)}.bind(this)),WK:{Xt:[],Cr:null,a0:null},font:null,CA:[],U0:[],ahV:{},R5:0,qX:16777215,dZ:!1,hA:!0,UA:{qx:!0,M0:!1,Tk:!0,GB:!0,R_:!0,nD:!0,$z:20,kW:0,h7:0,Wx:0,Aw:8421504,q$:65535},v4:!0,Eq:[!0,!0,!1,!0,!0],bb:[0,1,2,3,5,6,7,9,10,16,17,100],jD:1,rm:!0,JQ:{},cm:!0,amb:!1,compact:!1,$0:1,p2:0,Nu:!0,tK:null,V9:{id:"ts"+Math.round(Math.random()*16777215),aqY:!1,avc:!1,B_:{},R8:{},pg:null},a5I:0,aAK:null,qt:null,avj:null,Oa:null};
eM.Wq.wa(this);this.apm={qe:new a8,II:new aL};this.Ln.WK=it.acu();this.pD=new h8;this.hx=new ey;this.oP=new dn(this.s,!0);
this.gQ=new av;this.qn=new fQ(this);this.dK=f.F("div");this.rA=!1;this.Id=this.anW.bind(this);f.CH(this.qn.n,"mainblock");
this.Eb.parent=this.pD.parent=this.hx.parent=this.oP.parent=this.gQ.parent=this.qn.parent=this;this.qn.k(b.E.p,this.t4,this);
this.qn.k(b.E.IF,this.arB,this);this.qn.k("shuffleItems",this.aoT,this);this.qn.k(b.E.a6V,this.a7m,this);
this.k("mouse",this.arw,this);this.k(b.E.v,this.fY,this);this.k(b.E.HQ,this.a8g,this);document.body.addEventListener("keydown",this.ib.bind(this),!1);
window.addEventListener("keyup",this.Vz.bind(this),!1);window.addEventListener("paste",this.az1.bind(this),!1);
window.addEventListener("copy",this.aDX.bind(this),!1);window.addEventListener("wheel",function(H){if(H.ctrlKey)H.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(H){if(window.innerWidth>400)H.preventDefault();
this.Ln.tK=H}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(H){if(H.a2p){console.log("Service worker installing")}else if(H.aia){console.log("Service worker installed")}else if(H.active){console.log("Service worker active")}}).catch(function(H){console.log("Registration failed with "+H)})}this.aI=0;
this.Tx=[];this.U4=new bw(fB.Ro);this.U4.parent=this;var Z=this.oT,i=this.CK=f.F("div");i.appendChild(this.pD.n);
i.appendChild(this.hx.n);this.Eb.azf(i);var k=this.ax0=f.F("div","flexrow");Z.appendChild(k);k.appendChild(this.oP.n);
k.appendChild(this.qn.n);k.appendChild(this.gQ.n);this.U4.Oo({url:"rsrc/basic/basic.zip"});this.xF(X.Sj);
jj.wa(this.akz.bind(this))}aM.prototype=new jn(!0);aM.prototype.Pb=function(d){var W=new bR(b.E.V);W.data={d:b.H.ub,au:d?d:"done"};
this.T(W)};aM.prototype.a1Y=function(){var d=this.Ln.V9,c=!1;if(d.pg==null)return;var W=this.Tx;for(var S=0;
S<W.length;S++){var y=W[S];if(y.Z3!=y.ST){var B=Date.now(),r=fd.OR(y,"psd",0,0,[!0,!1,!0,!1,!0]);y.Z3=y.ST;
d.R8[y.name]=r;c=!0;console.log(Date.now()-B,"saving "+y.name,r.byteLength)}}if(c){var x=new bR(b.E.V);
x.data={d:b.H.e7,au:kG.mz,a4m:!0};this.T(x)}};aM.prototype.akz=function(){f.YX[dQ.B2](this.a1K.bind(this),Math.pow(Math.PI,8)+f.YX[dQ.ahu][dQ.asE]()*1e4);
var d=jj.n2();if(d!=null&&d.globals!=null)this.ya(d.globals);else{this.avm=!0;var W=ay.MI();if(W&&W.length!=0){var c=W[0];
ay.ob(c,this.Id)}}if(!this.z1()){var y=f.anh();if(y==0)this.amb=!0;if(y==2)this.Ln.cm=!1;if(y!=1&&Math.random()<.002)f.axE()}if(!ah.$f()||!this.Ln.cm){this.axd();
this.uJ()}else{var B=f.vP(f.YX[dQ.qy]);B[dQ.Kg](dQ.$M,this.aw7.bind(this));B[dQ.Jj](f.QW("61="),f.QW("_MYOqDLGJa;A:6"));
B[dQ.og]()}this.XW=!0;this.Pb()};aM.prototype.aw7=function(d){var W=JSON.parse(d.target[dQ.W3]),c=f.YX[dQ.sw][dQ.aAv]()/1e3,y=f.YX[dQ.K8][dQ.a6],B=!1;
for(var r in W)if(r.indexOf(".")!=-1&&y.indexOf(r)!=-1&&parseInt(W[r])>c)B=!0;if(B)this.Ln.cm=!1;this.axd();
this.uJ()};aM.prototype.uJ=function(d){this.P8=!0;if(!this.Ln.Nu)this.qn.Nu=null;else if(this.Tx.length==0)this.qn.aaQ();
this.h$(kG.yS);this._();this.L8();this.gQ.M7(this.LM(),this.Tx,this.Ln)};aM.prototype.ya=function(d){var W=this.Ln;
if(d.fcolor!=null){W.R5=d.fcolor;var c=W.WK.Cr.FillColor;if(c){var y=v.S4(W.R5);c.Values=[1,y.Z/255,y.G/255,y.J/255]}}if(d.bcolor!=null)W.qX=d.bcolor;
if(d.rulers!=null)W.dZ=d.rulers;if(d.extras!=null)W.hA=d.extras;if(d.favFam!=null)W.CA=d.favFam;if(d.rsrc!=null)W.U0=d.rsrc;
if(d.font!=null)W.WK.Xt[0].Name=d.font;if(d.panels!=null)W.bb=d.panels;if(d.as!=null)W.$0=d.as;if(d.co!=null)W.p2=d.co;
if(d.eparams){var B=d.eparams,r=W.UA;if(B.guides!=null)r.qx=B.guides;if(B.grid!=null)r.M0=B.grid;if(B.gsize!=null)r.$z=B.gsize;
if(B.gunits!=null)r.kW=B.gunits;if(B.gtype!=null)r.h7=B.gtype;if(B.runits!=null)r.Wx=B.runits;if(B.gcol!=null)r.Aw=B.gcol;
if(B.gucol!=null)r.q$=B.gucol;if(B.sels!=null)r.Tk=B.sels;if(B.paths!=null)r.GB=B.paths;if(B.pgrid!=null)r.R_=B.pgrid;
if(B.slices!=null)r.nD=B.slices}if(d.lang!=null)ay.ob(d.lang,this.Id);if(d.theme!=null)W.jD=d.theme;
if(d.topt||W.$e){var x=d.topt?d.topt:{},Z=W.$e?W.$e:{};for(var i in this.s.map){if(i>=103)continue;var k="t"+i;
if(x[k]||Z[k])this.s.map[i].f.Iw(x[k],Z[k],this)}}};aM.prototype.axd=function(){if(this.Ln.a0u)return;
this.Ln.a0u=!0;var d=null,W=window.location.href,c=W.indexOf("="),y=W.indexOf("#");if(c!=-1)d=W.substring(W.indexOf("?")+1,c);
if(y!=-1&&y!=W.length-1){d="p";c=y}if(y!=-1&&W[y+1]=="i"){this.U4.wx(W.slice(y+2,y+10))}else if(W.slice(y+1).startsWith("goog_rewarded")){}else if(y!=-1&&W[y+1]=="t"){this.U4.wx(W.slice(y+2,y+10).split("").reverse().join(""),!0)}else if(d=="p"||d=="state"){var B=W.substring(c+1,W.length);
B=JSON.parse(decodeURI(B));if(d=="p"){if(B.script=="alert(73)")this.Ln.cm=!1;if(B.script)iS.aBq(this);
if(B.server)this.$F=B.server;if(B.resources)for(var S=0;S<B.resources.length;S++)this.U4.Oo({url:B.resources[S]});
if(B.files)for(var S=0;S<B.files.length;S++)this.U4.Oo({url:B.files[S],K3:{V7:B.server,a43:B.script}});
var r=B.environment;if(r==null)r={};if(r.plugins!=null)this.gQ.azO(r.plugins);if(r.localsave!=null)this.Ln.rm=r.localsave;
if(r.customIO!=null)this.Ln.JQ=r.customIO;if(r.vmode!=null){var x=r.vmode;if(x==1)this.Ln.compact=!0;
if(x==2)this.sk(1)}if(r.intro!=null)this.Ln.Nu=r.intro;if(r.menus!=null)this.Ln.a0S=r.menus;if(r.tmnu!=null)this.Ln.$e=r.tmnu;
if(r.panels!=null)this.Ln.bb=r.panels;if(r.showtools!=null){var Z=r.showtools,i=Z.indexOf(this.Ln._9);
this.Ln.Zs=Z;if(i==-1)this.xF(Z[0])}if(r.phrases!=null)ay.awK(r.phrases);if(r.autosave!=null){this.Ln.$0=0;
window.setInterval(function(){var V=new bR(b.E.V);V.data={d:b.H.DN};this.T(V)}.bind(this),r.autosave*1e3)}if(r.icons!=null){for(var k in r.icons)if(r.icons[k].indexOf("\"")==-1){if((k==dQ.ace||k==dQ.a76)&&this.Ln.cm)continue;
PIMG[k]=r.icons[k];PIMG["__"+k]=!0}}this.ya(r);if(B.files==null&&B.script){gq.kM(B.script,this);this.Pb()}}else if(d=="state"){var H=this.U4;
if(B.action=="create"){var V=new bR(b.E.V);V.data={d:b.H.vB,vD:"newproject",aEb:B.folderId};this.T(V)}if(B.action=="open"){for(var S=0;
S<B.ids.length;S++)bJ.Zy(function(){var N="https://www.googleapis.com/drive/v3/files/"+this.a3e,C=new XMLHttpRequest;
C.open("GET",N);C.setRequestHeader("Authorization",bJ.uD());C.send();C.onload=function(w){var Y=JSON.parse(w.target.response);
H.Oo({url:N+"?alt=media",name:Y.name,hs:{file:Y,xH:""},Hd:{Authorization:bJ.uD()}})}}.bind({a3e:B.ids[S]}));
alert("Loading files from Google Drive ...")}}}else{var g=window.launchQueue;if(g){var H=this.U4;g.setConsumer(function(N){var C=N.files;
console.log(C);for(var S=0;S<C.length;S++){var w=C[S];w.getFile().then(function(Y){H.Pv([Y],null,null,null,[w])})}})}}};
aM.prototype._=function(){var d=document.getElementById("cap");if(d){var W=!1,c=d.getElementsByTagName("h1")[0],r=0,Z=0,i=0;
c.textContent=W?"Photopea":ay.get([0,17,0]);var y=d.getElementsByTagName("p"),B=f.DQ(ay.get([0,17,1])),x=["PSD","XCF","Sketch","XD","CDR"];
for(var S=0;S<x.length;S++)B=B.replace(x[S],"<b>"+x[S]+"</b>");if(!W)B+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
y[0].innerHTML=B;B=ay.get([0,17,2])+" "+ay.get([0,17,3]);for(var S=0;S<B.length;S++){var k=B[S];if(k=="<")Z++;
if(k==">")i++}if(!W&&Z*i==9){var H=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var S=0;S<3;S++){var V=B.indexOf("<",r),g=B.indexOf(">",r),N=B.slice(0,V)+"<a href=\""+H[S]+"\" target=\"_blank\">"+B.slice(V+1,g)+"</a>";
r=N.length;B=N+B.slice(g+1)}y[1].innerHTML=B}else y[1].innerHTML=ay.get([0,17,2])}var C=document.getElementById("sponsors");
if(C)C.textContent=ay.get([0,17,4]);this.Eb._();this.pD._();this.gQ._();this.oP._();this.CI._();this.qn._();
for(var w in this.s.map)if(this.s.map[w].As)this.s.map[w].As._()};aM.prototype.z1=function(){var d=f.YX[dQ.VX][dQ.ahg];
if(d&&d[1]){if(d[1].endsWith(dQ.QW("UUPSDm@ID")))return!0}return 4<f.YX[dQ.VX][dQ.C0][dQ.ak7](dQ.QW("'$!|"))};
aM.prototype.z2=function(d,W){d=Math.floor(d);W=Math.floor(W);var c=f.QW("WUMK&AM"),y=dQ.CL,B=f.YX[dQ.K8],r=Math.max(d,window.screen.width),x=Math.max(W,window.screen.height),V=0;
if(ah.Ld==null)ah.Ld=Math.min(r,x)<500||r<750?0:r<1500?1:2;var Z=ah.Ld,i=!this.P8||this.z1()||!this.Ln.cm||jj.Xf();
if(!i&&ah.$f()){if(this.a13==null)this.a13=Math.random()<.5;i=this.a13}if(i){if(Z!=0&&f.YX[c]&&this.P8)f.YX[c]()}else{if(Z==0)W-=84;
else d-=Z==1?180:320}jn.prototype.z2.call(this,d,W);if(i&&this.rA){this.n[dQ.rO](this.dK);f.qf(this.dK);
this.rA=!1}if(!i&&!this.rA){var k=function(C){if(Math.random()<.002){jj.event(ah.Cz()?"gota_0":"gota_1")}this.aop(d,W);
var w=Z==0?B[dQ.Ke]:this.n;w.appendChild(this.dK);this.dK[dQ.L_](y,f.QW("_MMJLNDfKCAg")+(Z==0?10:10)+f.QW("_d$ebOS?I:==Ba-+# }$M"));
this.dK[y][f.QW("_MMJLND&<:E")]=(Z==0?0:19)+f.QW("_d");this.dK[y][f.QW("i5WJHX")]=Z==0?0:1}.bind(this);
function H(){ah.ayO(k)}setTimeout(H,2300);this.rA=!0}if(f.ni(this.pD.n))V+=31;if(f.ni(this.hx.n))V+=32;
this.Eb.a75=this.Ln.cm&&this.P8;this.Eb.z2(d,V);var g=W-V,N=f.QW("_d");this.dK[y][dQ.asF]=(Z==0?100>>>1:W-11)+N;
this.dK[y][dQ.K$]=(Z==0?d:6*Math.pow(10,2))+N;if(f.ni(this.oP.n))this.oP.z2(d,g);this.gQ.z2(d,g);this.qn.z2(d-this.oP.IH()-this.gQ.IH(),g)};
aM.prototype.aop=function(d,W){var c=function(){var y=new bR(b.E.V);y.data={d:b.H.vB,vD:"account"};this.T(y)}.bind(this);
ah.aDO(d,W,this.dK,c)};aM.prototype.aDX=function(d){console.log("systemCopy")};aM.prototype.az1=function(d){if(f.BA())return;
console.log("systemPaste");if(!d.clipboardData)return;var W=d.target.tagName.toLowerCase(),c=d.clipboardData.items;
if(c==null)return;var y=this.afq.bind(this);for(var S=0;S<c.length;S++){var B=c[S],r=B.getAsFile();if(B.type.indexOf("image")!=-1){if(r.size==this.Ln.a5I)return;
this.Ln.a5I=r.size;if(r){r.name="image.png";this.U4.Pv([r],y)}}}};aM.prototype.afq=function(d,W){var c={buffer:d,rect:W},y=this.Ln;
if(f.BA()){var B=this.apm,r=B.qe;if(r.m==W.m&&r.i==W.i){c.rect=r;c.II=B.II}}else{if(y.qt){var x=new bR(b.E.v,!0);
x.f=X._X;x.data={d:"h_stepbck"};this.T(x)}}y.qt=c;var x=new bR(b.E.V,!0);x.data={d:b.H.mn,adK:!0};this.T(x)};
aM.prototype.ayn=function(){if(this.CI.dE()!=null)alert(ay.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
aM.prototype.fY=function(d){var W=this.LM();if(W==null){alert(ay.get([15,7,7]));return}var c=d.f==X.XU||d.f==X.AO;
if(this.CI.cN()&&d.vd!=!0&&!c){this.ayn();return}var y=this.s,B=this.Ln._9,r=d.f;if(r==X.bU&&B==X.Wv)r=X.Wv;
if(B!=r&&y.map[B].f.cN()&&!c&&!(B==X.Bp&&r==X.v5)){console.log("disabling",B);y.map[B].f.disable(W,this,this.Ln,this.mD)}var x=this.s.map[r].f;
x.fY(d.data,this,W,this.mD,this.Ln)};aM.prototype.a8g=function(d){var W=this.Ln;if(d.data.mP!=!0)hC.aq7({cx:d.data.cx,i9:d.data.i9},this,W,this.LM());
var c=W.mZ,y=W.HV;if(c==null)return;var B={a1V:!1,sc:"Step",auj:0,w:!0,exp:!1,cx:d.data.cx};if(c[2]==null)c[2]=y[c[0]].nW[c[1]].nW.length-1;
if(d.data.i9)B.i9=d.data.i9;y[c[0]].nW[c[1]].nW.splice(c[2]+1,0,B);c[2]++;this.h$(kG.v)};aM.prototype.nh=function(d){if(this.amb){d.data=0;
return d.type}if(f.YX.__csrf&&!jj.Xf()){var W=dQ.QW("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(W,5e3);return}jn.prototype.nh.call(this,d);var c=d.data.d;if(c==b.H.d2)hC.a4g(this.LM(),this.Ln.HV,d.data.Wa[0],d.data.Wa[1],this);
if(c==b.H.asX){this.alT(d.data.a6M)}if(c==b.H.a22){this._();this.L8()}if(c==b.H.OO)this.L8();if(c==b.H.c8)if(this.Ln.tK){this.Ln.tK.prompt();
this.Ln.tK=null}if(c==b.H.iV)this.qn.Us(d.data.QM,d.data.push);if(c==b.H.aAh)this.qn.a05();if(c==b.H.a5d)this.t4(null,d.data.dir);
if(c==b.H.ku)this.qn.lh(this.Tx.indexOf(d.data.Y1?d.data.Y1:this.LM()));if(c==b.H.Rd){var y=navigator.keyboard;
if(d.data.A$&&y)y.lock(["Escape"]);if(d.data.A$&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(d.data.A$)document.body.webkitRequestFullScreen();if(d.data.b!=null)this.sk(d.data.b)}if(c==b.H.acr){if(d.data.HW)this.mD.$v(d.data.awD);
else this.mD.f2(d.data.awD);this.z9(d.data.HW?"down":"up")}if(c==b.H.a4V){var B=d.data.b;this.gQ.azO([B]);
this._()}if(c==b.H.h3){var r=this.LM(),x=r.Li().slice(0),Z=r.B[r.g[0]],i=new a8(0,0,r.m,r.i),k=eb.Oe()+"-d71c-11e5-b1ae-a548a96e5f9f",H=new bR(b.E.V,!0);
if(d.data.au==0){var V={name:"Default/"+r.name.split(".")[0],id:k,Q$:[x,i]};H.data={d:b.H.e7,K3:"add",au:kG.XX,U0:[V]};
this.T(H)}if(d.data.au==1){var g=v.R(i.P()*4);v.ft(g,4294967295);v.l.Ip("norm",x,i,g,i,i,1);var N=v.R(i.P());
v.ou(g,N);v.QE(N);var C=v.wf(N,i);if(C.Bb())C=i;var w=v.R(C.P());v.ZW(N,i,w,C);C.x=C.y=0;var Y={qe:C,id:k,Q$:[w,C]},U=bB.S5(k),e=U.Brsh.v;
e.Dmtr.v.val=Math.max(C.m,C.i);e.Spcn.v.val=10;H.data={d:b.H.e7,K3:"add",au:kG.Bo,U0:{list:[{t:"Objc",v:U}],pb:[Y],An:[]}};
this.T(H);H.data={d:b.H.e7,au:kG.cE,jl:U};this.T(H)}if(d.data.au==2){var O=r.Tz(),l=O[0][O[1][0]],I={XG:"Default/"+Z.getName(),A6:k,Y:l.add.vmsk.clone().Y},s=v.o.wV(I.Y),z=new dT(s.m,0,0,s.i,s.x,s.y);
z.QE();v.o.hn(I.Y,z);s.x=s.y=0;I.ur=s.clone();H.data={d:b.H.e7,K3:"add",au:kG.jY,U0:[I]};this.T(H)}}if(c==b.H.Gf)this.U4.Oo(d.data.au);
if(c==b.H.xz){var R=d.data.a77,t=d.data.Mb;if(R!=!0&&t!=!0&&this.Mp("open"))return;var a=this.qn.Uk();
if(t)a=-1-a;this.U4.ac4(R||t?a:null,d.data.a5u)}if(c==b.H.J_){var J=d.data.adg,F=d.data.DP,h=this.Z$(J);
if(F){var m=J==kG.Bo,D=[];for(var S=0;S<F.length;S++)D.push((m?h.list:h)[F[S]]);h=m?{An:h.An,pb:h.pb,list:D}:D}if(J==kG.T$){var i=new eb;
for(var S=0;S<h.length;S++){var _=h[S].r1.Lefx;if(_)eV.ayo(_,i,this.Ln._m)}h={i3:i.add.Patt?i.add.Patt:[],pC:h}}if(J==kG.tf){var n=this.Ln.sa;
h={pb:[],An:[],list:h};console.log(h)}if(J==kG.v)h=h[d.data.Q2];var j=kG.uh[J],x=j[2].dn(h);bw.save(x,j[1]+"."+j[0])}if(c==b.H.$X){var T=this.Ln.V9,L=d.data.amN;
if(T.pg&&!T.aqY&&!L){T.avc=window.confirm("Load \""+d.data._S+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
T.aqY=!0}if((T.avc||L)&&T.pg){T.B_[d.data._S]=d.data.vq;var H=new bR(b.E.V);H.data={d:b.H.e7,au:kG.mz};
this.T(H)}}if(c==b.H.amK){var r=this.LM(),G="<!DOCTYPE HTML>";if(r==null)return;var p=fd.pc(r.Li().buffer,r.m,r.i),E=window.open();
G+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";G+="<body><img src=\""+p+"\" /></body>";
G+="</html>";E.document.write(G)}if(c==b.H.eQ){if(this.Mp("publishOnline"))return;var A=d.data.Uw!="psd",r=this.LM();
if(r==null)return;if(!A&&r.U8)return;var W="Your "+(A?"picture":"document")+" will be published at "+(A?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!A)W+=" We guarantee 6+ months of storage.";var u=d.data.al?!0:confirm(W);if(u){if(!A){var H=new bR(b.E.v,!0);
H.f=X.jq;H.data={d:e8.UH};this.T(H);var q=new a8(0,0,r.m,r.i);for(var S=0;S<r.B.length;S++){var Z=r.B[S];
if(Z.rect.Bb()||Z.vS()||Z.Q7()||Z.Ql()||Z.sI()||Z.add.TySh||Z.add.vmsk||Z.add.SoLd)continue;var o=q.nK(Z.rect);
if(!o.zI(Z.rect)&&!o.Bb()){var M=v.R(o.P()*4);v.qR(Z.buffer,Z.rect,M,o);Z.buffer=M;Z.rect=o}if(!v.u2(Z.buffer,Z.rect.m,Z.rect.i))continue;
var $=Z.jF(),Q=Z.opacity,kF=Z.E9,P=Z.TA;Z.vI(!0);Z.opacity=255;Z.E9="norm";r.g=[S];H.data={d:e8.hS,Uw:"jpg"};
this.T(H);var bM=r.B[S];Z.vI($);bM.vI($);Z.opacity=bM.opacity=Q;Z.E9=bM.E9=kF,Z.TA=bM.TA=P}}if(r.$W){r.pM()}var jW=r.m,fX=r.i,bX=d.data.ans,ao;
if(bX)while(Math.max(jW,fX)>bX){jW=jW>>>1;fX=fX>>>1}console.log(jW,fX);if(d.data.Uw=="psd")ao=fd.OR(r,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(d.data.Uw=="png")ao=fd.OR(r,"png",jW,fX);else{var en=fd.OR(r,"png",jW,fX),fK=fd.OR(r,"jpg",jW,fX);
ao=en.byteLength<fK.byteLength?en:fK}if(d.data.al==null)d.data.al=function(fI){var jq=A?fI:"https://www.photopea.com/#i"+fI+".psd",H=new bR(b.E.V);
H.data={d:b.H.vB,vD:"linkview",af9:jq};this.T(H)}.bind(this);if(A)bw.aes(ao,d.data.al);else this.U4.ac1(ao,r.name,d.data.al,"psdshared")}}if(c==b.H.DN){var r=this.LM(),bO=!1;
if(r==null)return;if(r.$W){r.pM()}if(d.data.Et){if(!this.H7(r,d.data.Et))return;var x=fB.azD(r,d.data.Et,this.Ln);
this.Pb(x);bO=!0}else if(r.vK){if(this.Tx.indexOf(r.vK.Q9)!=-1){var x=new Uint8Array(fd.Ay("PSD").Cy(r,null,null,[!0,!1])),H=new bR(b.E.v,!0);
H.data={d:e8.OY,Ig:r.vK.Q9,data:x,id:r.vK.ahc,Kh:r.name};H.f=X.jq;this.T(H);alert("Smart Object updated")}bO=!0}else if(this.Mp("save")){bO=!0}else if(r.hs){fB.auQ(r);
bO=!0}else if(r.N0){var b9=fB.akI(r);if(b9==1){alert("Already saving another file. Try again later.");
return}bO=!0}else if(r.K3&&r.K3.V7){if(!this.H7(r,r.K3.V7.formats))return;this.U4.asu(r,this.Ln,fB.agn);
bO=!0}else if(r.Yn&&"psd jpg png gif webp svg bmp".split(" ").indexOf(r.i5)!=-1){this.av9();return}if(bO){r.d8=r.ST;
r.pY=Date.now();r.ps=!0}else{var H=new bR(b.E.V,!0);H.data={d:b.H.Wt};this.T(H)}}if(c==b.H.Wt){if(!this.Ln.rm){alert("function is disabled");
return}if(this.Mp("saveAsPSD"))return;var r=this.LM();if(r==null)return;if(!this.H7(r))return;var H=new bR(b.E.v,!0);
H.data={d:e8.UH};H.f=X.jq;this.T(H);var bK=r.B.length,f0="Your document has "+r.B.length+" layers.";
if(bK>1<<15){alert(f0+" PSD files can have up to "+(1<<15)+" layers.",5e3);return}if(bK>8e3&&!confirm(f0+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var hn={Za:[]};r.root.anR([],hn);var hX=hn.Za;if(hX.length>11&&!confirm("One layer is nested "+(hX.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hX.join(" \uD83E\uDC1A ")+"."))return;
var gR=window.showSaveFilePicker;if(window.parent!=window)gR=null;if(gR&&!d.data.aen){var ib={suggestedName:r.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
gR(ib).then(function(d){r.Yn=d;r.name=d.name;r.Pm=!0;r.i5="psd";this.av9()}.bind(this));return}var gU=window.gtag;
if(r.LW()&&gU)gU("event",r.i5+":"+f.Fu(jj.Xf()?"\"'|('61":"w'| "),{event_category:"Formats"});if(r.$W){r.pM()}var hq=be==0?"PSD":"AI",ip=fd.Ay(hq);
jj.event("efmt_"+hq.toLowerCase(),.1);if(d.data.aen){var x=r.i5=="psd"?ip.Cy(r):fB.vu(r,r.i5,this.Ln);
this.a6u(x,r,this)}else{var x=ip.Cy(r);bw.save(x,r.name);r.d8=r.ST;r.pY=Date.now();r.ps=!0}}if(c==b.H.ea)window.open(d.data.link,"_blank");
if(c==b.H.aBs){if(this.CI.cN()){this.ayn();return}var r=this.LM(),Z=r.B[r.g[0]],B=r.KQ(Z.add.SoLd.Idnt.v);
for(var S=0;S<this.Tx.length;S++){var aW=this.Tx[S].vK;if(aW!=null&&aW.ahc==B.QY&&aW.Q9==r){this.qn.bX(S);
return}}bw.Ro({name:B.Kh,vK:{ahc:Z.add.SoLd.Idnt.v,Q9:r}},B.raw.buffer,this)}if(c==b.H.a3g){var r=this.LM(),Z=r.B[r.g[0]],B=r.KQ(Z.add.SoLd.Idnt.v);
bw.save(B.raw.buffer,B.Kh)}if(c==b.H.a92){console.log(d.data);bw.Ro({name:d.data.N0[1].split("/").pop(),N0:d.data.N0},d.data.iJ,this)}if(c==b.H.aqk){var r=this.LM();
r.N0=d.data.N0;r.name=r.N0[1].split("/").pop();var H=new bR(b.E.V);H.data={d:b.H.DN};this.T(H)}if(c==b.H.uv){this.aCN()}if(c==b.H.w_){this.a5f(d.data.J0,d.data.YA,d.data.QB)}if(c==b.H.mn){this.aeC(d.data.adK,d.data.ca,d.data.QB)}if(c==b.H.ayt){var kN=d.data.b;
if(this.Ln._9==X.bU&&this.Ds().cN()){var H=new bR(b.E.v,!0);H.f=X.bU;H.data={d:"insertText",b:kN};this.T(H);
return}if(kN.startsWith("vcb;")){var hW=JSON.parse(kN.slice(4));hW[0]=kt.agy(hW[0]);var H=new bR(b.E.v,!0);
H.f=X.h9;H.data={d:"append",o1:"Paste Paths",au5:hW};this.T(H)}else if(kN.startsWith("lrs;")){var jH=kN.split(";"),g0=this.Tx[parseInt(jH[1])];
if(g0==null)return;var gC=this.LM(),jL=g0.g;g0.g=JSON.parse(jH[2]);var jf=g0.GR(null,g0!=gC);g0.g=jL;
var H=new bR(b.E.v,!0);H.data={d:e8.ID,B:jf,Q9:g0,Yr:gC};H.f=X.jq;this.T(H)}else if(kN.startsWith("<!--")||kN.startsWith("<svg")){var eh=K.$N(kN),bu=fd.Ay("svg"),i=new eb("image.psd");
bu.Pd(eh.buffer,i);if(this.Tx.length!=0){var eJ=i.B;if(eJ.length==3&&eJ[0].getName()=="</Layer group>"&&eJ[2].vS())eJ=[eJ[1]];
var H=new bR(b.E.v,!0);H.f=X.jq;H.data={d:e8.ID,B:eJ,Q9:i,Yr:this.LM()};this.T(H)}else this.amf(i)}}if(c==b.H.r3){gq.kM(d.data.za,this)}if(c==b.H.ub){if(window.parent!=window)window.parent.postMessage(d.data.au,"*");
this.gQ.Gv(d.data.au)}if(c==b.H.R0){var eZ=parseFloat(d.data.vD);if(this.Ln.bb.indexOf(eZ)==-1){var H=new bR(b.E.V,!0);
H.data={d:b.H.e7,au:kG.Fc,b:eZ,K3:"add"};this.T(H)}this.gQ.a7s(d.data.vD)}if(c==b.H._e){this.vY.ayA(this.LM(),this.Ln)}if(c==b.H.vB){var a0="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var S=0;S<a0.length;S+=2)if(d.data.vD==a0[S]&&this.Mp(a0[S+1]))return;if(!this.Ln.rm&&d.data.window=="saveforweb"){alert("function is disabled");
return}this.CI.a0_(d.data.vD,this.LM(),d.data,this.Tx,this.mD)}if(c==b.H.vR)bw.save(d.data.data,d.data.name);
if(c==b.H._I){if(!this.CI.cN()||d.vd)this.amf(d.data.Ig)}if(c==b.H.rY){this.qn.bX(d.data.target);var H=new bR(b.E.v,!0);
H.data={d:e8.agj,Ig:d.data.Ig,NH:d.data.NH,hk:d.data.hk};H.f=X.jq;this.T(H);this.xF(X.Ee)}if(c==b.H.a2C){d1.ZV=!d1.ZV;
if(this.Tx.length>0)this.LM().W()}if(c==b.H.aaO){var gZ=jj.n2();if(gZ!=null&&gZ.globals!=null)this.ya(gZ.globals);
this.uJ()}if(c==b.H.Qg){this.U4.Pv(d.data.data,null,d.data.E8,d.data.B$,d.data.amB)}if(c==b.H.Fy){var bt=this.Ds();
if(!this.CI.dE()!=null)this.xF(d.data.f,d.data.er);var dp=this.Ds();if(dp!=bt&&d.data.a6F)dp.RQ(this.LM(),this,this.Ln,this.mD,this.NV)}if(c==b.H.HP){if(this.s.wr)this.xF(this.s.wr)}if(c==b.H.vQ){var gb=this.s.map[d.data.f].f,r=this.LM();
gb.AE(d.data,this,r,this.mD,this.Ln);if(r)r.Dy=!0;this.arN()}if(c==b.H.TE){var e_=this.s.map[d.data.f];
this.anp(e_);e_.As.PX(d.data)}if(c==b.H.e7){var r=this.LM(),dO,dC=!(r&&r.g.length!=0&&r.B[r.g[0]].add.TySh),kc=d.data.au,ia=d.data.U0,hO=this.Ln;
if(d.data.K3=="set"){var dp=X._A[ia[1].classID];if(hO._9!=dp)this.xF(dp);this.s.map[dp].As.aBS(ia,hO)}if(d.data.K3=="add"){var j=kG.uh[kc];
if(kc==kG.Fc){hO.bb.push(d.data.b);hO.bb.sort(function(fI,jq){return fI-jq})}else if(j==null){if(ia)hO.Sm.a4e(ia,d.data.a9O);
if(r)r.ps=!0}else{var cj=this.Z$(kc);if(kc==kG.Bo){cj.pb=cj.pb.concat(ia.pb);cj.An=cj.An.concat(ia.An);
cj=cj.list;ia=ia.list}if(kc==kG.T$&&r){for(var S=0;S<ia.length;S++){var _=ia[S].r1.Lefx;if(_)eV.a9w(_,r,hO._m)}}if(kc==kG.tf&&ia==null){var i=this.s.map[hO._9].As.aeD();
if(i==null)return;ia=[i]}for(var S=0;S<ia.length;S++)cj.push(ia[S]);if(kc==kG.jY){var bA={};for(var S=0;
S<cj.length;S++){var bg=cj[S].XG;while(bA[bg]!=null)bg=cj[S].XG=bg+"X";bA[bg]=!0}}if(d.data.a9O!=!0)if(cj.length!=ia.length||kc==kG.E1||kc==kG.T$||kc==kG.oc||kc==kG.v)alert(ay.get(j[3])+" "+ay.get([23,1])+".")}}if(d.data.K3=="del"){if(kc==kG.Fc){hO.bb.splice(hO.bb.indexOf(d.data.b),1)}else{var j=kG.uh[kc],F=d.data.DP,cj=this.Z$(kc);
if(kc==kG.Bo)cj=cj.list;for(var S=0;S<F.length;S++)cj[F[S]]=null;for(var S=0;S<cj.length;S++)if(cj[S]==null){cj.splice(S,1);
S--}alert(ay.get(j[3])+" deleted.")}}if(d.data.K3=="rnm"){var j=kG.uh[kc],cj=this.Z$(kc);if(kc==kG.Bo)cj=cj.list;
if(cj[d.data.DP[0]]==null)return;j[2].DE(cj[d.data.DP[0]],(d.data.Dq?d.data.Dq:"")+d.data.b)}if(kc==kG.nL){var cX=d.data.b;
hO.JW=cX;hO.Jk[cX.pF]=cX.ue}if(kc==kG.iE){var cX=d.data.b;hO.Mg=JSON.parse(JSON.stringify(cX));var i4=bV.x2(cX);
hO.tH[i4.pF]=i4.ue}if(kc==kG.V$){hO.az=d.data.b}if(kc==kG.u$){hO.Qm=d.data.b}if(kc==kG.xM){hO.WK=d.data.WK;
var fJ=hO.WK.Cr.FillColor;if(dC&&fJ){var iu=fJ.Values,hV={Z:iu[1]*255,G:iu[2]*255,J:iu[3]*255},f$=v.p6(hV);
if(hO.R5!=f$){hO.R5=f$;dO=kG.kg}}}if(kc==kG.cE){var M=JSON.parse(JSON.stringify(d.data.jl)),kg=M.useBrushSize;
if(kg&&kg.v){M.Brsh.v.Dmtr.v.val=hO.sa.WU.Brsh.v.Dmtr.v.val;kg.v=!1}hO.sa.WU=M;var jy={cx:"select",i9:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:M.Nm.v.split("/").pop()}}]}}},e_=this.Ds();
e_.i7=this;e_.track(jy)}if(kc==kG.P7){hO.CA=d.data.z4}if(kc==kG.SG){hO.U0=d.data.z4}if(kc==kG.kg){var jy,iM="Clrs";
if(d.data.jK<2){var hI=d.data.b,cd=d.data.jK==0;console.log(v.S4(hI),v.S4(hO.R5));var jZ=v.L.FV(v.S4(hI));
if(cd)hO.R5=hI;else hO.qX=hI;iM=cd?"FrgC":"BckC";jy={cx:"set",i9:{__name:"Set",classID:"setd",T:{t:"Objc",v:jZ}}}}if(d.data.jK==2){var hz=hO.R5;
hO.R5=hO.qX;hO.qX=hz;jy={cx:"exchange",i9:{__name:"Exchange",classID:"Exch"}}}if(d.data.jK==3){hO.R5=0;
hO.qX=16777215;if(r!=null&&r.g.length!=0&&r.B[r.g[0]].MM==1){var hz=hO.R5;hO.R5=hO.qX;hO.qX=hz}jy={cx:"reset",i9:{__name:"Reset",classID:"Rset"}}}if(jy){jy.i9.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:iM}}]};
var e_=this.Ds();e_.i7=this;e_.track(jy)}var fJ=hO.WK.Cr.FillColor;if(dC&&fJ){var jv=v.S4(hO.R5),eI=[1,jv.Z/255,jv.G/255,jv.J/255];
if(eI.join(",")!=fJ.Values.join(",")){fJ.Values=eI;dO=kG.xM}}}if(kc==kG.jo){hO.dZ=!hO.dZ;this.L8()}if(kc==kG.gZ){hO.hA=!hO.hA;
this.L8()}var j2=hO.UA;if(kc==kG.sD){j2.Tk=!j2.Tk;this.L8()}if(kc==kG.uY){j2.GB=!j2.GB;this.L8()}if(kc==kG.q_){j2.qx=!j2.qx;
this.L8()}if(kc==kG.Bc){j2.M0=!j2.M0;this.L8()}if(kc==kG.Mo){j2.R_=!j2.R_;this.L8()}if(kc==kG.x5){j2.nD=!j2.nD;
this.L8()}if(kc==kG.U5){hO.UA=d.data.z4;this.L8()}if(kc==kG.aa$){hO.v4=!hO.v4;this.L8()}if(kc==kG.L$){hO.Eq[d.data.KS]=!hO.Eq[d.data.KS];
this.L8()}if(kc==kG.K0){ay.AB(d.data.lang,this.Id)}if(kc==kG.pr){hO.jD=d.data.jD;this._()}if(kc==kG.mz&&hO.V9.pg){var fM=hO.V9.pg.transaction(["rsrc"],"readwrite").objectStore("rsrc"),gY={k:"fs0",fset:hO.V9.B_};
if(d.data.a4m)gY={k:hO.V9.id,fset:hO.V9.R8};var c4=Object.keys(gY.fset).length==0?fM.delete(gY.k):fM.put(gY);
c4.onerror=function(d){console.log(d);alert("Storing failed. Browser says: "+d.target.error.message,7e3)}}this.h$(kc);
if(dO)this.h$(dO)}};aM.prototype.av9=function(){var d=new bR(b.E.V,!0);d.data={d:b.H.MJ,Aj:"Saving ..."};
this.T(d);setTimeout(function(){var d=new bR(b.E.V,!0);d.data={d:b.H.Wt,aen:!0};this.T(d)}.bind(this),20)};
aM.prototype.a6u=function(d,W){W.Yn.createWritable().then(function(c){c.write(d);return c}).then(function(c){return c.close()}).then(function(c){W.d8=W.ST;
W.pY=Date.now();W.ps=!0;var y=new bR(b.E.V,!0);y.data={d:b.H.Xg,Aj:"Saving ..."};this.T(y)}.bind(this)).catch(function(c){var y=new bR(b.E.V,!0);
y.data={d:b.H.Xg,Aj:"Saving ..."};this.T(y)}.bind(this))};aM.prototype.a7a=function(){var d=this.Ln,W=d.U0,c=d.ahV;
for(var S=0;S<W.length;S++){var y=W[S];if(c[y])continue;c[y]=!0;this.U4.wx(y,!1,!0)}};aM.prototype.anW=function(){this._();
this.L8()};aM.prototype.Mp=function(d){var W=this.Ln.JQ[d];if(W){var c=new bR(b.E.V,!0);c.data={d:b.H.r3,za:W};
this.T(c)}return W!=null};aM.prototype.H7=function(d,W){var c=!0,x=15;if(W){c=!1;for(var S=0;S<W.length;
S++)if(W[S].startsWith(f.QW("__M")))c=!0}var y=d.LW()||d.vK&&d.vK.Q9.LW();if(this.z1())y=!1;var B=new f.YX[dQ.sw],r=(B[f.Fu("xy,b-66:")]()&1)*60+B[f.QW("VQ]3LNRN<G")]();
if(y&&!jj.Xf()&&r>x&&c){var Z=f.YX[f.Fu("}$z{2*35")][f.Fu("y'|!")],i=f.QW("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
i+="\n\n"+f.QW("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-r+120)+f.QW("nYRTXTBMd");
if(Z.indexOf(f.Fu("\"|'/-1)(W0?@"))==-1)i=ay.get([0,11+6,3+2]);f.YX._cwY(i);return!1}return!0};aM.prototype.Z$=function(d){var W=this.Ln,c=[kG.Bo,kG.n6,kG.Vo,kG.oc,kG.XX,kG.jY,kG.T$,kG.E1,kG.v,kG.tf,kG.w4],y=[W.sa,W.yv,W._C,W.EE,W._m,W.zc,W.C$,W.ajU,W.HV,W.kc,W.a8l];
return y[c.indexOf(d)]};aM.prototype.aCN=function(){var d=this.a5f(),W=this.LM();if(W==null||W.g.length==0)return;
var c=W.B[W.g[0]],y=new bR(b.E.v);if(d==1){y.f=X.h9;y.data={d:"remove",o1:"Cut Paths"}}else{y=new bR(b.E.HQ);
y.data={cx:"delete"}}this.T(y)};aM.prototype.a5f=function(d,W,c){if(d==null)d=!1;var y=this.Ln;console.log("doCopy",d,W);
var B=this.LM();if(y._9==X.bU&&this.Ds().cN()){var r=new bR(b.E.v,!0);r.f=X.bU;r.data={d:"copyText"};
this.T(r);return}if(B==null||B.g.length==0)return;var x=B.B[W==null?B.g[0]:W],Z=B.Tz(),i=Z[0],H=Z[1],V=i[H[0]];
if(!d&&V!=null&&V.add.vmsk.g.length!=0){var g=X.C_.iG(V.add.vmsk,V.add.vogk);if(f.BA()){g[0]=kt.aCy(g[0]);
var N="vcb;"+JSON.stringify(g);bw.nQ(new Blob([N],{type:"text/plain"}))}else y.Oa=g;return 1}else if(B.u==null){if(f.BA()){var N="lrs;"+this.Tx.indexOf(B)+";"+JSON.stringify(B.g);
bw.nQ(new Blob([N],{type:"text/plain"}))}}else{var C,w;if(d){var Y=new a8(0,0,B.m,B.i);w=Y.nK(B.u.rect);
C=v.R(w.P()*4);v.qR(B.Li(),Y,C,w);v.WW(B.u.channel,B.u.rect,C,w)}else if(B.tv.length!=0){w=B.u.rect.clone();
C=v.R(w.P()*4);var U=B.iv[B.tv[0]],e=U.OU(w);v.ta(e,C);v.nP(B.u.channel,C,3)}else{var O=x.AY(B,B.u);
if(O==null){alert("Copied area is empty");return}C=O.iJ;w=O.rect}var l=B.Q.M,I=l[0]+l[1]+l[2];if(I==1){var s=l.indexOf(1);
for(var S=0;S<C.length;S+=4)C[S]=C[S+1]=C[S+2]=C[S+s]}var z=new aL(B.m,B.i);if(f.BA()&&c!=!0){var R=fd.Ay("PNG").aE5(C.buffer,w.m,w.i);
bw.nQ(new Blob([new Uint8Array(R)],{type:"image/png"}));this.apm={qe:w,II:z}}else y.qt={buffer:C,rect:w,II:z};
y.aAK=w.clone();y.Oa=null}};aM.prototype.aeC=function(d,W,c){if(W)this.awm=!0;console.log("doPaste");
var y=this.Ln,B=y.qt,i;if(this.Tx.length==0){if(!d&&f.BA()){bw.fR(this,null);return}if(B){var r=fd.ge("image.psd",[{data:B.buffer.buffer,H2:B.rect}]),x=new bR(b.E.V);
x.data={d:b.H._I,Ig:r};this.T(x)}return}var r=this.LM();if(y._9==X.bU&&this.Ds().cN()){bw.fR(this,null);
return}var Z=r.B[r.g.length==0?r.B.length-1:r.g[0]];if(y.Oa){var H=r.Tz(!0),V=H[0],g=H[1];i=V[g[0]]}var x=new bR(b.E.v,!0);
if(y.Oa!=null&&i!=null){x.f=X.h9;x.data={d:"append",o1:"Paste Paths",au5:y.Oa}}else if(!d&&f.BA()&&c!=!0){bw.fR(this,this.afq.bind(this));
return}else{if(B==null)return;if(r.YH(!1)&&(r.Q.M.join("")!="111"||r.tv.length!=0||Z.MM>0||Z.rect.Bb())){x.f=X.Bo;
x.data={d:"draw",anT:!0,o1:[5,2]}}else{x.f=X.jq;x.data={d:e8.ra,ca:this.awm};this.awm=!1}x.data.qt=B}this.T(x)};
aM.prototype.abf=function(){var d=this.Ln.Sm;if(d.ahn())return;for(var S=0;S<this.Tx.length;S++){var W=this.Tx[S];
if(!bQ.Q0(W,d,this))continue;if(W.O5)bQ.bn(W,d,this);var c=W.add.lnk2;if(c)for(var y=0;y<c.length;y++){var B=c[y];
if(B.O5)X.wu.qc(W,B.QY,B.Ma[1],B.Ma[1],d)}if(W.aiE)continue;W.aiE=!0;if(W.K3&&W.K3.a43)gq.kM(W.K3.a43,this);
this.Pb();var r=new bR(b.E.v);r.f=X.jq;r.data={d:e8.Er};var x=new bR(b.E.V);x.data={d:b.H.R0,vD:aA.HX.xK};
x.data={d:b.H.vB,vD:"saveforweb",Uw:2,index:[10,0]}}};aM.prototype.h$=function(d){this.a7a();var W=this.Ln,c=W._9,x=!1;
if(d==kG.cE){if(this.s.map[c].As)this.s.map[c].As.lz(W,d)}else for(var y in this.s.map)if(this.s.map[y].As)this.s.map[y].As.lz(W,d);
if(d==kG.hF){if(c!=X.bU)this.s.map[X.bU].f.lz(W,d);this.abf()}this.qn.lz(W,d);this.oP.lz(W,d);this.CI.lz(W,d);
if(be==1&&(d==kG.nL||d==kG.iE))this.s.map[X.gL].f.lz(W,d);else this.Ds().lz(W,d);this.gQ.lz(W,d);this.pD.lz(W,d);
if(d==kG.pr||d==kG.yS){hL.aaf(W.jD);this.update(!0)}var B=W.WK,r=B.Cr.Font;if(d==kG.xM&&r!=null&&B.Xt[r].Name!=W.font){W.font=B.Xt[r].Name;
x=!0}if([kG.Fc,kG.P7,kG.SG,kG.kg,kG.jo,kG.gZ,kG.U5,kG.q_,kG.Bc,kG.sD,kG.uY,kG.Mo,kG.x5,kG.K0,kG.pr].indexOf(d)!=-1||x)this.arN()};
aM.prototype.arN=function(){if(!this.XW)return;var d={},W=this.s.map;for(var c in W){var y=W[c].f;if(y.Yk&&y.Yk()!=null)d["t"+c]=y.Yk()}var B=this.Ln,r=B.UA,x={guides:r.qx,grid:r.M0,sels:r.Tk,paths:r.GB,pgrid:r.R_,slices:r.nD,gsize:parseFloat(r.$z.toFixed(2)),gunits:r.kW,gtype:r.h7,runits:r.Wx};
if(r.Aw!=8421504)x.gcol=r.Aw;if(r.q$!=65535)x.gucol=r.q$;var Z={fcolor:B.R5,bcolor:B.qX,rulers:B.dZ,extras:B.hA,favFam:B.CA,rsrc:B.U0,panels:B.bb,eparams:x,lang:ay.iR(),theme:B.jD,as:B.$0,co:B.p2,topt:d};
if(B.font!=null)Z.font=B.font;var i=jj.n2();if(i==null)i={};i.globals=Z;jj.XR(i)};aM.prototype.WA=function(d){var W=this.mD,c=this.NV,y=this.Ln._9,B=this.s.map[y].f,r=null,x=!1;
for(var S=0;S<this.s.az4.length;S++){var Z=this.s.az4[S],i=!0;for(var k=0;k<Z.aN.length;k++){var H=Z.aN[k];
if(!W.S(H))i=!1}if(i&&(!Z.I4||!B.cN())&&(Z.wZ==null||Z.wZ.indexOf(y)!=-1)){r=Z.f;x=Z.I4;break}}if((!c.HW||y==X.cM||d)&&this.s.w2!=r&&(r!=y||!x)){var V=this.LM();
if(this.s.w2!=null&&r==null)this.Ds().disable(V,this,this.Ln,W,!0);this.s.w2=r;this.Ds().enable(V,this,this.Ln,W,r!=null&&r!=y)}};
aM.prototype.hg=function(d){var W=this.Ln._9,c=this.LM();if(W!=null){this.s.map[W].f.disable(c,this,this.Ln,this.mD)}};
aM.prototype.anp=function(d){if(d.As==null){d.As=new d.g6(d.f.id);d.As.amd(d.f.id,d.f.sN);d.As.lz(this.Ln,kG.yS);
d.As._()}};aM.prototype.xF=function(d,W){if(d==X.Ee&&this.CI.dE())return;var c=this.LM(),y=this.Ln;if(this.s.map[d].f.Nh(c,y,W)){this.hg();
if(d!=y._9)this.s.wr=y._9?y._9:X.Sj;y._9=d;this.oP.xF(y._9);var B=this.s.map[d];this.s.ot[B.cU]=B.a6t;
this.anp(B);this.hx.a5T(B.As);var r=B.f;r.enable(c,this,this.Ln,this.mD,!1,W);if(c)c.Dy=!0;this.L8();
this.Eb.arO()}};aM.prototype.Ds=function(d){var W=this.s,c=W.vx,y=W.w2,B=this.Ln._9;if(c)B=c;else if(y&&d==null)B=y;
return W.map[B].f};aM.prototype.amf=function(d){var W=this.Ln,c=this.Tx.indexOf(d);if(c!=-1){this.qn.bX(c);
return}if(this.$F&&(d.K3==null||d.K3.V7==null)){d.K3={V7:this.$F}}if(d.Fk==null){d.Fk="local,"+this.arl+","+d.name;
this.arl++}d.pY=Date.now();if(be==1&&d.add.arts==null)d.amH();if(ah.Cz()!=0&&!this.avm&&f.YX[f.Fu("t$&!'31")].toString().indexOf(f.Fu(" u,$4&"))==-1){alert(f.Fu("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var S=0;S<d.B.length;S++){var y=d.B[S];if(y.add.SoLd!=null){var B=Date.now()}}var r=d.B.length,x=dQ.nT(),Z=Math.PI*(6550<<14)+(f.qg(31)?20:10)*7e7;
if(x>Z){var r=d.B.length;d.B=[];return r}if(d1.ZV){d1.RY(Math.max(d.m,d.i));for(var S=0;S<d.B.length;
S++){var y=d.B[S];if(y.TT())d1.RY(Math.max(y.rect.m,y.rect.i))}}d.zv();d.L0();if(d.aCz)d.ant();else d.W();
d.aCz=!1;this.Tx.push(d);this.qn.Ae(new dJ(d));d.Dy=!0;d.ps=!0;this.abf();var i=new bR(b.E.v);i.f=X.Me;
i.data={d:"auto",Kk:2}};aM.prototype.LM=function(){return this.Tx[this.aI]};aM.prototype.axq=function(){return this.CI.dE()==null};
aM.prototype.t4=function(d,W){this.hg();var c=this.Tx.length;if(W!=null)this.qn.bX((this.qn.Uk()+W+c)%c);
this.aI=this.qn.Uk();var y=this.LM();this.pD.abr(y,this.Ln);this.gQ.M7(y,this.Tx,this.Ln);this.L8();
if(y)y.Dy=!0};aM.prototype.arB=function(d){this.hg();var W=this.Tx,c=W[d.data.p3];W.splice(d.data.p3,1);
if(W.length==0){this.t4(d);var y=d1.td(),B=dJ.CJ.Tq;if(y.parentNode)y.parentNode.removeChild(y);if(B.parentNode)B.parentNode.removeChild(B)}this.an2(c.name)};
aM.prototype.an2=function(d){var W=this.Ln.V9,c=!1;if(W.pg==null)return;for(var y in W.R8){if(d==null||y==d){delete W.R8[y];
c=!0}}if(c){var B=new bR(b.E.V);B.data={d:b.H.e7,au:kG.mz,a4m:!0};this.T(B)}};aM.prototype.aoT=function(d){var W=[],c=d.data.awR;
for(var S=0;S<c.length;S++)W[S]=this.Tx[c[S]];this.Tx=W;this.aI=this.qn.Uk()};aM.prototype.a7m=function(d){var W=this.qn,c=W.a1F(),y=this.Ds(),B=this.LM();
if(c==W.Uk()||!y.aof())return;this.alT(c,y)};aM.prototype.alT=function(d,W){console.log("dup2doc");var c=this.Ln,y=this.qn,B=this.LM(),r=this.Tx[d],x,Z=new bR(b.E.v,!0);
Z.f=X.jq;if(B.u==null){Z.data={d:e8.ID,B:B.GR(null,!0),Q9:B,Yr:r,al5:W==null};this.T(Z)}else x=B.B[B.g[0]].AY(B,B.u);
var i=this.NV,H=c.dZ;c.dZ=!1;i=B.Q.q9(i.x,i.y);if(W)W.eq(B,this,c,this.mD);y.bX(d);if(B.u){Z.data={d:e8.ra,qt:{buffer:x.iJ,rect:x.rect}};
this.T(Z)}i=r.Q.Yd(i.x,i.y);if(W)W.RQ(r,this,c,this.mD,i);c.dZ=H};aM.prototype.arw=function(d){var W=this.LM(),c=this.mD,y=this.Ln,B=d.cz;
if(B)this.NV=B;if(B)B.y-=y.p2;if(this.aH==null)this.aH=0;if(d.action=="multidown"){this.i0=d.BJ.length;
this.aH=Date.now()}if(d.action=="up"&&Date.now()-this.aH<100){var r=new bR(b.E.v);r.f=X._X;r.data={d:this.i0==2?"h_stepbck":"h_stepfwd"};
this.T(r)}if(d.action.startsWith("multi")){var x=new bR(b.E.v,!0);x.data={d:d.action,BJ:d.BJ};x.f=X.AO;
this.T(x);return}var Z=this.s.map[X.Sj].f;if((d.action=="down"||d.action=="rdown")&&y._9!=X.Sj&&this.s.w2!=X.Sj&&Z.a6U(W,this,y,c,B)){this.s.vx=X.Sj;
Z.enable(W,this,y,c,!0)}if(d.action=="idown"){c.$v("Space");this.WA(!0);d.action="down"}var i=this.CI.dE(),H=i!=null&&i.el()&&this.s.w2==null?i:this.Ds();
if(d.action=="scroll"){var V=!c.S(bm.Z7)&&d.fy,x=new bR(b.E.v,!0);x.data={d:"scroll",ih:d.ih.clone(),cz:B,aj7:V};
x.f=c.S(bm.Oi)||V?X.AO:X.XU;this.T(x)}if(i!=null&&H!=i&&this.CI.cN()&&H.id!=X.XU&&H.id!=X.AO)return;
if(d.action=="down")H.RQ(W,this,y,c,B);if(d.action=="rdown")H.kp(W,this,y,c,B);if(d.action=="move")H.f9(W,this,y,c,B);
if(d.action=="up"||d.action=="iup"||d.action=="cancellast")H.AZ(W,this,y,c,B,d.action=="cancellast");
if(d.action=="rup")H.AQ(W,this,y,c,B);if(d.action=="iup"){c.f2("Space");this.WA(!0)}if(d.action=="cancellast"){if(W&&W.history.length!=0&&Date.now()-W.history[W.history.length-1].a6i<200){var r=new bR(b.E.v);
r.f=X._X;r.data={d:"h_stepbck"};this.T(r)}}var g=this.gQ;if(d.action=="down")g.RQ(W,this,y,c,B);if(d.action=="move")g.f9(W,this,y,c,B);
if(d.action=="up")g.AZ(W,this,y,c,B);if(d.action=="down"||d.action=="up"){this.WA()}if(d.action=="down"||d.action=="up"||d.action=="ctx"){W.Dy=!0}if((d.action=="up"||d.action=="rup")&&this.s.vx){this.s.vx=null;
Z.disable(W,this,y,c)}};aM.prototype.PO=function(d){var W=this.LM(),c=this.NV;if(W&&this.Ds().zh(c,this.mD)){var y=W.Q,B=y.nW.m,r=y.nW.i,x=0,Z=0,i=16;
if(c.x<i)x=i-c.x;if(c.x>B-i)x=c.x-(B-i);if(c.y<i)Z=i-c.y;if(c.y>r-i)Z=c.y-(r-i);var k=this.mD.S(bm.Uo)?8:1;
if((x!=0||Z!=0)&&(W.m*y.O>B||W.i*y.O>r)){x=Math.min(5,x*.5)*k;Z=Math.min(5,Z*.5)*k;if(c.x>i)x=-x;if(c.y>i)Z=-Z;
y.z.x+=x;y.z.y+=Z;this.arw({cz:this.NV,action:"move"});W.Pm=!0}}this.update()};aM.prototype.update=function(d){var W=this.LM();
if(W==null)return;if(be!=0){if(W.buffer)throw"e"}if(W.Dy){var c=this.s.map;for(var y in c){if(c[y].f.VO)c[y].f.VO(W,this,this.Ln,this.mD)}if(be==1){c[X.gL].f.VO(W,this,this.Ln,this.mD,!0)}}if(W.$W&&be==0)if(d1.ZV)d1.RY(Math.max(W.m,W.i));
if(W.$W&&be==0){W.pM()}var B=W.Q,r=this.g2,x=this.g2=Date.now();if(W.$W||W.GX||W.ps||W.Pm||d||B.cv!=B.O||!B.RE.zI(B.z)){var Z=B.cv;
if(B.cv!=B.O){var i=X.UK.amh(B.O,B.cv>B.O),k=.12;if(B.cv<B.O&&B.cv<i)B.cv=i;if(B.cv>B.O&&B.cv>i)B.cv=i;
var H=Math.abs(B.O-i)*(x-r)*.001/k;if(B.cv<B.O)B.cv=Math.min(B.O,B.cv+H);else B.cv=Math.max(B.O,B.cv-H)}var V=Z==B.O?0:(B.cv-B.O)/(Z-B.O);
B.RE.x=B.z.x+V*(B.RE.x-B.z.x);B.RE.y=B.z.y+V*(B.RE.y-B.z.y);this.qn.lz(this.Ln,null);this.qn.M7(W,this.Tx)}if((W.$W||W.Pm||W.Dy)&&(!this.NV.HW||W.r7)){if(W.Dy)W.L0();
this.gQ.M7(W,this.Tx,this.Ln);this.oP.ar7(W,this.mD);W.Xs=!1}W.r7=!1;W.Dy=!1;W.$W=null;W.GX=W.ps=W.Pm=!1};
aM.prototype.ib=function(d){var W=d.target.tagName.toLowerCase(),c=d.target.getAttribute("type"),y=bm,B=y.nl(d.code,y.Qy);
if(!((W=="input"||W=="select"||W=="button")&&y.nl(d.code,y.fW))){if(y.Ui(d)&&W!="select"){d.preventDefault()}this.mD.$v(y.M8(d));
this.z9("down")}};aM.prototype.Vz=function(d){if(d.key==" ")this.mD.lb();if(bm.nl(d.code,bm.lR))this.mD.reset();
this.mD.f2(bm.M8(d));var W=d.target.tagName.toLowerCase();if(bm.Ui(d)&&W!="select"){d.preventDefault()}this.z9("up")};
aM.prototype.z9=function(d){var W=this.mD,c=this.LM(),y=c!=null&&c.g.length!=0;if(this.vY.dE()!=null){if(W.S(bm.Rh)||W.S(bm.Qy)){this.vY.a3$()}return}this.WA();
var B=this.g7(bm.Z7),r=W.S(bm.Oi),x=W.S(bm.Uo);if(B&&W.S(bm.ss)&&d=="down"){var Z=new bR(b.E.v),i=new bR(b.E.V);
Z.f=X._X;if(x){Z.data={d:"h_stepfwd"}}else{Z.data={d:"h_stepbck"}}if(this.CI.dE()!=null&&this.CI.dE().cN()){}else this.T(Z)}if(B){var Z=new bR(b.E.v),k=new bR(b.E.HQ),i=new bR(b.E.V);
if(W.S(bm.kf)&&W.S(bm.hq)){i.data={d:b.H.vB,vD:"storwindow"};this.T(i)}if(!r&&d=="down")for(var H in bN.keys){var V=bN.keys[H],g=!0;
for(var S=0;S<V.length;S++)if(!W.S(V[S]))g=!1;if(g){Z.f=X.Me;if(H=="hue2"&&x&&c.B[c.g[0]].add.SoLd==null)Z.data={d:"auto",Kk:3};
else Z.data={d:"start",dH:H}}}if(W.S(bm.H)){if(r){k.data={cx:"selectAllLayers",i9:{classID:"null",null:hC.cV("Lyr",!0)}}}else k.data=X.XC.k6(!0)}if(W.S(bm.Nc)){if(r)i.data={d:b.H.vB,vD:"csize"};
else if(c)i.data={d:b.H.w_,J0:x}}if(W.S(bm.I5)&&c.u){k.data=X.XC.k6()}if(W.S(bm.E)&&d=="down"){if(x)k.data={cx:"mergeVisible"};
else if(eU.VG(c).w)k.data={cx:"mergeLayersNew",i9:{__name:"Merge Layers",classID:"Mrg2"}}}if(W.S(bm.Zr)){if(x&&this.Ln._9!=X.Ee)i.data={d:b.H.vB,vD:"afw_fade"};
else if(r){Z.f=X.v5;Z.data={d:"applylast"}}else i.data={d:b.H._e}}if(W.S(bm.qk)){if(r&&c&&c.OE(c.g[0])){Z.f=X.jq;
Z.data={d:e8.U1}}else{Z.f=X.jq;Z.data={d:e8.af,HZ:x}}}if(W.S(bm.PA)){i.data={d:b.H.e7,au:kG.gZ}}if(W.S(bm.kf)){if(x){Z.data=null;
if(r)i.data={d:b.H.vB,vD:"finfo"};else k.data={cx:"inverse"}}else if(r)i.data={d:b.H.vB,vD:"isize"}}if(W.S(bm.Pr)){k.data={cx:(x?"cut":"copy")+"ToLayer"}}if(W.S(bm.UU)){i.data={d:b.H.vB,vD:"preferences"}}if(W.S(bm.gP)){if(x){Z.f=X.jq;
Z.data={d:e8.qI}}else if(d=="down")i.data={d:b.H.vB,vD:"newproject"}}if(W.S(bm.qF)){if(r)i.data={d:b.H.vB,vD:"storwindow",Gg:0};
else{i.data={d:b.H.xz};W.reset()}}if(W.S(bm._r)){i.data={d:b.H.amK};W.reset()}if(W.S(bm.HX)){i.data={d:b.H.e7,au:kG.jo}}if(W.S(bm.eE)&&d=="down"){if(x){if(r)i.data={d:b.H.vB,vD:"saveforweb"};
else i.data={d:b.H.Wt}}else i.data={d:b.H.DN}}if(W.S(bm.oR)){if(x){Z.f=X.jq;Z.data={d:e8.k9};this.T(Z);
Z.f=X.Ee;Z.data={d:"again"}}else i.data={d:b.H.Fy,f:X.Ee}}if(W.S(bm.lT)){i.data={d:b.H.mn}}if(W.S(bm.bp)){this.qn.UE()}if(W.S(bm.up)&&c&&c.us()){i.data={d:b.H.uv}}if(W.S(bm.FX)||W.S(bm.DJ)){Z.f=X.jq;
Z.data={d:e8.xQ,jK:0};if(W.S(bm.FX))Z.data.jK=x?3:2;else Z.data.jK=x?0:1}if(W.S(bm.$O)&&c){Z.f=X.jq;
Z.data={d:e8.DC}}if(W.S(bm.Qy)&&c){var N=0;if(x)N++;if(r)N+=2;Z.f=X.Ai;Z.data={d:"frompath",Wa:[null,0,N]}}if(W.S(bm.bE)){k.data=X.JH.Bv(0)}if(W.S(bm.fW)){var C=this.Tx.length,w=W.S(bm.Uo)?-1:1;
if(C>1)this.qn.bX((this.qn.Uk()+C+w)%C)}if(W.S(bm.lq)){i.data={d:b.H.e7,au:kG.q_}}if(W.S(bm.x3)){i.data={d:b.H.e7,au:kG.Bc}}X.UK.akp(W,Z);
if(this.CI.dE()!=null&&this.CI.dE().cN()){}else{if(Z.data)this.T(Z);if(k.data)this.T(k);if(i.data)this.T(i)}}if(!B&&r){var Y;
if(W.S(bm.FX))Y="Bckw";if(W.S(bm.DJ))Y="Frwr";if(W.S(bm.$O))Y="Back";if(W.S(bm.bE))Y="Frnt";if(Y){var k=new bR(b.E.HQ);
k.data={cx:"select",i9:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:Y}}]},MkVs:{t:"bool",v:!1}}};
this.T(k)}}if(c&&c.g.length!=0){var U=c.B[c.g[0]],e=U.MM;if(e==1||e==3||B){var Z=new bR(b.E.v),O=e==3?U.WI(c).t:U.Q7();
if(O){var l=O.xV?c.Q.M.join("")=="111"?1:2:0;Z.f=X.AO;if(O&&W.S(bm.Rh)&&l!=0){Z.data={d:"mskView",b:0}}if(O&&W.S(bm.abK)){Z.data={d:"mskView",b:l==1?0:1}}if(O&&W.S(bm.abH)){Z.data={d:"mskView",b:l==2?0:2}}if(Z.data)this.T(Z)}}}var I=W.zM();
if(c&&B&&2<=I&&I<=5){var s=[1,1,1];if(I>2){s=[0,0,0];s[I-3]=1}var z=new bR(b.E.v,!0);z.f=X.XU;z.data={d:"setcls",M:s};
this.T(z)}if(!W.S(bm.Z7)&&!r&&d=="down"){var Z=new bR(b.E.v),i=new bR(b.E.V),R=this.s.map[this.Ln._9],t=-1;
for(var S=0;S<this.s.keys.length;S++)if(this.s.keys[S]&&this.g7(this.s.keys[S]))t=S;if(t!=-1){var a=null;
if(R.cU!=t)a=this.s.ot[t];if(R.cU==t&&x)a=(R.a6t+1)%this.s.U$[t].length;if(a!=null){var J=this.s.U$[t][a].f.id,F=this.Ln.Zs;
if((F==null||F.indexOf(parseInt(J))!=-1)&&!this.NV.HW)i.data={d:b.H.Fy,f:J}}}if(W.S(bm.PA))i.data={d:b.H.Fy,f:X.XU};
if(W.S(bm.HX))i.data={d:b.H.Fy,f:X.Zl};if(W.S(bm.up))i.data={d:b.H.e7,au:kG.kg,jK:2};if(W.S(bm.I5))i.data={d:b.H.e7,au:kG.kg,jK:3};
if(i.data)this.T(i);if(W.S(bm.alk)&&c&&c.g.length==1){var U=c.B[c.g[0]];Z.f=X.jq;var h=U.sx(0)||U.sx(1)||U.sx(2)||U.sx(31);
Z.data={d:e8.PJ,z4:h?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.T(Z)}var I=W.zM();if(y&&I!=-1&&this.g7(bm.Rq[I])){var m=c.g[0],U=c.B[m],D=bm.RU(Math.round(100*U.opacity/255),I);
Z.f=X.jq;Z.data={d:e8.aU,z4:Math.round(255*D/100)};this.T(Z)}var _=this.Ln.KW;if(W.S(bm.fW)){i.data={d:b.H.Rd,b:_==0?1:0};
this.T(i)}if(W.S(bm.Zr)||W.S(bm.Rh)&&_==2){var n=document.fullscreenElement!=null==(_==2);i.data={d:b.H.Rd,b:_==0?2:0,A$:n};
this.T(i)}if(W.S(bm.TN)&&!this.NV.HW){Z.f=X.Ai;Z.data={d:"qmask"};this.T(Z)}}if(!W.S(bm.Z7)&&!r&&x){var Z=new bR(b.E.v),i=new bR(b.E.V);
if(W.S(bm.$O))i.data={d:b.H.vB,vD:"shortcuts"};if(W.S(bm.N$))i.data={d:b.H.vB,vD:"fill"};if(W.S(bm.aBY))i.data={d:b.H.vB,vD:"sel_feather"};
if(y&&(W.S(bm.CB)||W.S(bm.d7))){var m=c.g[0],U=c.B[m],j=dB.s0,T=j.length,L=j.indexOf(U.E9);Z.f=X.jq;
Z.data={d:e8.Mc,z4:(L+T+(W.S(bm.CB)?1:-1))%T};this.T(Z)}if(i.data)this.T(i)}var Z=new bR(b.E.v),p=d=="down"&&(this.g7(bm.y8)||this.g7(bm.Vy));
if((B||r)&&p){Z=new bR(b.E.HQ);Z.data=X.UZ.yX(B?"BckC":"FrgC");this.T(Z)}else if(this.CI.dE()==null&&c&&p&&!this.NV.HW){if(c.u!=null){Z=new bR(b.E.HQ);
Z.data={cx:"delete"}}else if(c.g.length!=0){var U=c.B[c.g[0]];if(U.MM==1)Z.data={d:e8.gK};else if(U.MM==3)Z.data={d:e8.oF};
else Z.data={d:e8.Mr};Z.f=X.jq}this.T(Z)}if(this.CI.dE()!=null){if(W.S(bm.Rh)){this.CI.dE().a7x()}else{this.CI.dE().z9(c,this,this.Ln,W)}}if(this.Ln._9==null)return;
var R=this.Ds();if(this.CI.dE()==null||this.s.w2)R.z9(c,this,this.Ln,W)};aM.prototype.g7=function(d){var W=this.mD,c=this.s.map[this.Ln._9].f,top=this.CI.dE(),y=this.LM();
return W.S(d)&&!c.Ea(d,y)&&(top==null||!top.Ea(d,y))};aM.prototype.sk=function(d){var W=this.ax0,c=this.oT;
this.Ln.KW=d;var y=f.ni,B=this.pD.n;if(y(B))this.CK.removeChild(B);var r=this.hx.n;if(y(r))this.CK.removeChild(r);
var x=this.oP.n;if(y(x))W.removeChild(x);var Z=this.qn.n;if(y(Z))W.removeChild(Z);var i=this.gQ.n;if(y(i))W.removeChild(i);
if(d==0){this.CK.appendChild(B);this.CK.appendChild(r);c.appendChild(W);W.appendChild(x);W.appendChild(Z);
W.appendChild(i)}if(d==1){this.CK.appendChild(B);W.appendChild(Z)}if(d==2){W.appendChild(Z)}this.qn.sk(d==2?1:0);
this.L8()};aM.prototype.a1K=function(d){if(this.z1())return 1;if(f.anh()==0){this.Ln={};this.z2=function(W,c){return Math.sqrt(W*c)}}return-1};
aM.ahd=function(){var d=be==0?[[{f:new X.rL,g6:j5},{f:new X.M5,g6:aa}],[{f:new X.Qk,g6:h4,k3:0},{f:new X.bV,g6:gI,k3:0}],[{f:new X.EU,g6:hQ,k3:0},{f:new X.ne,g6:dV,k3:0},{f:new X.Lz,g6:ka,k3:0}],[{f:new X.FI,g6:eW,k3:0},{f:new X.Hm,g6:cx,k3:0},{f:new X.aJ,g6:ds,k3:0}],[{f:new X.abq,g6:gQ},{f:new X.ayh,g6:e0},{f:new X.ju,g6:bz,k3:0},{f:new X.wg,g6:dW,k3:0}],[{f:new X.tX,g6:hm},{f:new X.JT,g6:h1,k3:0},{f:new X.Jt,g6:iX}],[{f:new X.i1,g6:aO,k3:0},{f:new X.XV,g6:jx,k3:0},{f:new X.EU(!0),g6:fU,k3:0},{f:new X.Iz,g6:gJ,k3:0},{f:new X.ahG,g6:kK,k3:0},{f:new X.Mm,g6:a6,k3:0}],[{f:new X.v1,g6:f8,k3:0},{f:new X.y6,g6:ee,k3:0},{f:new X.Pl,g6:iB,k3:0}],[{f:new X.lY,g6:iy,k3:0}],[{f:new X.Nm,g6:fo,k3:0},{f:new X.uU,g6:a_,k3:0},{f:new X.Zt(!0),g6:cU,k3:0}],[{f:new X.Bw,g6:ef,k3:0},{f:new X.Zt,g6:cU,k3:0}],[{f:new X.RK,g6:gB,k3:0},{f:new X.qQ,g6:ke,k3:0},{f:new X.Jb,g6:dt,k3:0}],[{f:new X.$B,g6:dF,k3:0},{f:new X.e5,g6:h7,k3:0},{f:new X.HG,g6:iv,k3:0}],[{f:new X.aE,g6:jC},{f:new X.s4,g6:jC}],[{f:new X.gO(0),g6:jE},{f:new X.H0,g6:k7},{f:new X.gO(1),g6:jE},{f:new X.gO(2),g6:jE},{f:new X.gO(3),g6:jE},{f:new X.gO(4),g6:jE}],[{f:new X.lv,g6:kv},{f:new X.hw,g6:g5}],[{f:new X.Rect,g6:f5},{f:new X.a8,g6:gw},{f:new X.gB,g6:dz},{f:new X.F$,g6:kj},{f:new X.h8,g6:gX}],[{f:new X.ui,g6:bZ},{f:new X.N6,g6:fN}],[{f:new X.UK,g6:hZ}]]:[[{f:new X.rL,g6:j5}],[{f:new X.hw,g6:g5}],[{f:new X.gO(0),g6:jE}],[{f:new X.H0,g6:k7}],[{f:new X.aE,g6:jC},{f:new X.s4,g6:jC}],[{f:new X.gB,g6:dz}],[{f:new X.Rect,g6:f5},{f:new X.a8,g6:gw},{f:new X.F$,g6:kj},{f:new X.h8,g6:gX}],[{f:new X.az5,g6:bZ}],[{f:new X.ui,g6:bZ},{f:new X.N6,g6:fN}],[{f:new X.UK,g6:hZ}]],x="",Z="";
if(be==0&&!f.kS())d[6].splice(2,1);var W=be==0?[bm.lT,bm.wH,bm.ns,bm.bp,bm.Nc,bm.kf,bm.Pr,bm.dG,bm.eE,bm.E,bm.qk,null,bm.qF,bm.oR,bm._r,bm.H,bm.hq,bm.PA,bm.ss]:[bm.lT,bm.H,bm._r,null,bm.oR,null,bm.wH,bm.PA,bm.ss],c={az4:[{f:X.AO,I4:!1,aN:[bm.a37,bm.CD]},{f:X.XU,I4:!1,aN:[bm.CD]},{f:X.QC,I4:!0,aN:[bm.Z7],wZ:[X.Ei]},{f:X.Ei,I4:!0,aN:[bm.Z7],wZ:[X.QC]},{f:X.nA,I4:!0,aN:[bm.Z7],wZ:[X.h9,X.gL,X.V3]},{f:X.h9,I4:!0,aN:[bm.Z7],wZ:[X.nA,X.rB,X.mK,X.SJ,X.xO,X.CE]},{f:X.Sj,I4:!0,aN:[bm.Z7]}],U$:d,ot:[],keys:W,UR:[{f:new X.aEc,g6:a1},{f:new X.awI,g6:j9},{f:new X.abu,g6:er},{f:new X.tX(!0),g6:hm},{f:new X.ql,g6:bv}],NY:[{f:new X.wu},{f:new X.History},{f:new X.JK},{f:new X.M1},{f:new X.Zo},{f:new X.oG}],map:{},wr:null,w2:null,vx:null},y=c.U$;
for(var S=0;S<y.length;S++){var B=y[S];if(ah=="---")continue;for(var r=0;r<B.length;r++)if(B[r].k3!=null&&B[r].k3!=be){B.splice(r,1);
r--}if(B.length==0){y.splice(S,1);c.keys.splice(S,1);S--}}for(var S=0;S<c.U$.length;S++){var i=c.U$[S];
if(i=="---")continue;var k=c.keys[S];for(var r=0;r<i.length;r++){c.map[i[r].f.id]=i[r];i[r].cU=S;i[r].a6t=r;
var H=ay.get(i[r].f.name);Z+="<li>"+i[r].f.id+": "+H+"</li>";x+="\t"+JSON.stringify(i[r].f.name)+", "+(k?"\""+k.hH+"\"":"null")+", "+i[r].f.id+", // "+H+"\n"}c.ot[S]=0}for(var S=0;
S<c.UR.length;S++)c.map[c.UR[S].f.id]=c.UR[S];for(var S=0;S<c.NY.length;S++)c.map[c.NY[S].f.id]=c.NY[S];
return c};function g2(d){d9.call(this);if(d==null)return;this.Kp=null;this.fn=null;this.n=f.F("div","sbar"+" "+d);
this.QI=new f.F("div","top");this.QI.innerHTML="> <";this.n.appendChild(this.QI);this.sW=1;this.QI.addEventListener("click",this.aod.bind(this),!1)}g2.prototype=new d9;
g2.prototype.aod=function(d){if(this.Kp!=null&&this.Kp<500&&this.sW==0)return;if(this.sW==0)this.W$(!0);
else this.collapse(!0)};g2.prototype.age=function(d){this.sW=d;this.QI.innerHTML=this.sW==0?"< >":"> <"};
g2.prototype.adF=function(){var d=new bR(b.E.V,!0);d.data={d:b.H.OO};this.T(d)};g2.prototype.W$=function(d){this.age(1);
if(d)this.adF()};g2.prototype.collapse=function(d){this.age(0);if(d)this.adF()};g2.prototype.x8=function(){return this.sW==1};
function aT(d,W){g2.call(this,"vcolumn");this.pH=d;this.aiT=W;this.Xh();this.iy=f.F("div");this.iy.setAttribute("style","cursor:default;");
this.acN=this.a9i.bind(this);this.aj1=this.ac0.bind(this);this.aCQ=this.amu.bind(this);f._0(this.n,this.acN);
this.n.appendChild(this.iy);this.IM=f.F("div");this.iy.appendChild(this.IM);this.xR=-1;this.ahO=f.F("div","float");
var c=this.Sl=f.F("canvas","gsicon"),y=Math.round(12*f.QX());c.width=c.height=y;var B=c.getContext("2d");
B.moveTo(2,2);B.lineTo(y-2,y-2);B.moveTo(2,7);B.lineTo(y-7,y-2);B.stroke();this.Sl.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
f.g0(this.Sl);f._0(this.Sl,this.acN);f.$E(c);this.hN=[];this.cQ=[];this.a5B=null;this.NP=null;this.amo=0}aT.prototype=new g2;
aT.prototype.a9i=function(d){var W=d.target==this.Sl;if(!W){if(d.target!=this.n)return;if(!this.x8())return}else{var c=this.hN[this.xR].sp;
c.style.pointerEvents="none";var y=c.getBoundingClientRect();this.a5B=[y.width,y.height];this.cQ[this.xR]=[y.width,y.height]}d.stopPropagation();
this.NP=f.Ne(d,document.body);this.amo=this.pH;f.kk(document,this.aj1);f.OD(document,this.aCQ)};aT.prototype.ac0=function(d){var W=f.Ne(d,document.body);
if(this.x8()){this.pH=this.amo+this.NP.x-W.x;this.Xh()}else{var c=this.cQ[this.xR],y=this.a5B;c[0]=y[0]+this.NP.x-W.x;
c[1]=y[1]+W.y-this.NP.y}var B=new bR(b.E.V,!0);B.data={d:b.H.OO};this.T(B)};aT.prototype.amu=function(d){if(!this.x8()){var W=this.hN[this.xR].sp;
W.style.pointerEvents="auto"}f.jU(document,this.aj1);f.Ra(document,this.aCQ)};aT.prototype.avo=function(d){d.k("showFloat",this.avM,this);
d.k("hideFloat",this.EF,this);this.hN.push(d);d.parent=this;this.iy.appendChild(d.n)};aT.prototype.ata=function(S){var d=this.hN[S];
d.removeEventListener("showFloat",this.avM,this);d.removeEventListener("hideFloat",this.EF,this);this.hN.splice(S,1);
d.parent=null;this.iy.removeChild(d.n)};aT.prototype.ath=function(){return this.hN.length};aT.prototype.PP=function(){for(var S=0;
S<this.hN.length;S++)this.hN[S].PP()};aT.prototype.avM=function(d){this.PP();var W=this.ahO;this.IM.appendChild(W);
this.xR=this.hN.indexOf(d.currentTarget);var c=this.hN[this.xR].sp;f.qf(W);W.appendChild(c);W.appendChild(this.Sl);
this.z2(this.Kp,this.fn)};aT.prototype.EF=function(d){this.PP();if(this.xR!=-1){this.IM.removeChild(this.ahO);
this.xR=-1}};aT.prototype.Xh=function(){function d(W){return Math.round(W*f.QX())/f.QX()}this.n.setAttribute("style","width: "+this.pH+"px; border-left-width:"+d(4)+"px; cursor:ew-resize;")};
aT.prototype.W$=function(d){this.Xh();this.EF();for(var S=0;S<this.hN.length;S++)this.hN[S].W$();g2.prototype.W$.call(this,d)};
aT.prototype.collapse=function(d){this.n.removeAttribute("style");for(var S=0;S<this.hN.length;S++)this.hN[S].collapse();
g2.prototype.collapse.call(this,d)};aT.a9A=11;aT.prototype.z2=function(d,W){this.Kp=d;this.fn=W;W-=aT.a9A;
var c=this.hN.length;if(c==0)return;if(!this.x8()){var y=W<400?W:400+(W-400)*.5;for(var S=0;S<c;S++){var B=this.hN[S],r=this.cQ[S];
B.z2(r?r[0]:this.pH,r?r[1]:y)}}else{var x=W;for(var S=0;S<c;S++){var B=this.hN[S],Z=B.aBF();if(S==c-1){Z=x;
B.n.style.borderBottom="none"}B.z2(this.pH,Z);x-=Z+4}}};function iD(d){d9.call(this);this.n=f.F("div");
this.iy=null;this.dw=0;this.FU=0;this.akT=d;this.ame=this.iZ.bind(this);this.aAU=this.S0.bind(this);
this.aAs=this.NC.bind(this);this.j4=null;this.Gd=null;this.tg=null;f._0(this.n,this.ame);var W=this.n,y="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
W.addEventListener("touchmove",f.jT,!1);this.a75=!0;this.HB=[];var c=this.a3_=f.F("div");c.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.n.appendChild(c);var B=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",y+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",y+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",y+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var S=0;S<B.length;S++){var r=new gs(B[S]);this.HB.push(r);r.n.setAttribute("style","margin-left:"+(S<7?4:0)+"px;cursor:pointer;");
r.k("click",this.fT,this)}}iD.prototype=new d9;iD.prototype._=function(){var d=this.a3_;f.qf(d);for(var S=0;
S<this.HB.length;S++){var W=this.HB[S];if(S<5)W._();d.appendChild(W.n)}};iD.prototype.fT=function(d){var S=this.HB.indexOf(d.currentTarget);
if(S==0){if(window.showCap)window.showCap();return}var W=" issues learn blog api twitter facebook".split(" "),c=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),y=window.ga;
if(y)y("send","event","Links",W[S]);var B=new bR(b.E.V,!0);B.data={d:b.H.ea,link:c[S]};this.T(B)};iD.prototype.iZ=function(d){if(d.asM){d.preventDefault();
d.stopPropagation()}var W=window;f.kk(W,this.aAU);f.OD(W,this.aAs);W=this.iy;this.j4=new aL(parseInt(W.style.left),parseInt(W.style.top));
this.Gd=f.Ne(d,this.n);this.tg=W.getBoundingClientRect()};iD.prototype.S0=function(d){var W=f.Ne(d,this.n),c=this.j4.x+W.x-this.Gd.x,y=this.j4.y+W.y-this.Gd.y,B=this.dw-this.tg.width,r=this.FU-this.tg.height;
if(this.akT)this.iy.style.left=Math.min(0,Math.max(B,c))+"px";else this.iy.style.top=Math.min(0,Math.max(r,y))+"px";
if(c-10>0){this.Gd.x=W.x-10;this.j4.x=0}if(c+10<B){this.Gd.x=W.x+10;this.j4.x=B}};iD.prototype.NC=function(d){var W=window;
f.jU(W,this.aAU);f.Ra(W,this.aAs)};iD.prototype.azf=function(d){if(this.iy){this.n.removeChild(this.iy)}this.iy=d;
this.n.appendChild(d);d.style.position="absolute";if(this.akT)d.style.left=0;else d.style.top=0};iD.prototype.z2=function(d,W){this.dw=d;
this.FU=W;this.n.setAttribute("style","position:relative; width: "+d+"px; height: "+W+"px; overflow:hidden; white-space: nowrap; ");
var c=this.iy.firstChild,y=this.a3_,B=c?c.firstChild.getBoundingClientRect().width+80:1e9,r=170,x=this.a75&&d>B+r;
y[dQ.CL][dQ.a4j]=x?"":dQ.ZX;var Z=this.HB;for(var S=0;S<Z.length;S++){var i=S>4||d-B>500?"":dQ.ZX,k=Z[S];
k.n.style.display=i}};iD.prototype.arO=function(){this.iy.style.left="0";this.iy.style.top="0"};function av(){d9.call(this);
this.kO=null;this.Pf=av._r;this.apy="";this.n=f.F("div","rightbar");this.U6=[new aT(300),new aT(268,!0)];
this.hN=[new cn,new cn,new cn,new cn,new cn,new cn,new cn];this.a4d=[]}av.prototype=new d9;av.prototype._=function(){var d=this.Pf;
for(var S=0;S<d.length;S++)d[S].dD._()};av._r=[{dD:new fn,mG:3},{dD:new bG,mG:1},{dD:new iF,mG:4},{dD:new gK,mG:2},{dD:new io(!0),mG:5},{dD:new f6(!0),mG:5},{dD:new bo,mG:0},{dD:new b6,mG:5},{dD:new hg,mG:3},{dD:new ex,mG:0},{dD:new ap,mG:3},{dD:new eU,mG:2},{dD:new jK,mG:4},{dD:new i5,mG:3},{dD:new c5,mG:5},{dD:new io(!1),mG:5},{dD:new iI,mG:2},{dD:new bI,mG:3},{dD:new am,mG:1},{dD:new fc,mG:0},{dD:new j3,mG:5},{dD:new iP,mG:6,mS:!0}];
if(f.kS())av._r.push({dD:new dj,mG:6,mS:!0});av._r.push({dD:new fS,mG:6,mS:!0},{dD:new bT,mG:6,mS:!0});
(function(){var d=[{id:aA.HX.aeu,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var S=0;S<d.length;S++)av._r.push({dD:new kb(d[S],100+S),mG:6,mS:!0})}());av.prototype.azO=function(d){for(var S=0;
S<d.length;S++){var W=d[S],c=new kb(W,"plg_"+W.name);this.Pf.push({dD:c,mG:6});this.a4d.push(c.de)}this.xX()};
av.prototype.lz=function(d,W){this.kO=d;var c=this.Pf;for(var S=0;S<c.length;S++)c[S].dD.lz(d,W);if(W==kG.Fc||W==kG.yS)this.xX()};
av.prototype.Gv=function(d){var W=this.Pf;for(var S=0;S<W.length;S++)W[S].dD.Gv(d)};av.prototype.z2=function(d,W){this.Kp=d;
this.fn=W;this.xX();this.U6[0].z2(d,W);this.U6[1].z2(d,W)};av.prototype.xX=function(){var d=this.kO,W=this.Kp,c=this.fn;
if(d==null||W==0)return;var y=d.bb.concat(this.a4d),B=W<500||W<700&&W<c,r=JSON.stringify(y)+","+B;if(r!=this.apy){this.apy=r;
f.qf(this.n);var x=[];for(var S=0;S<this.U6.length;S++){var Z=this.U6[S];x[S]=Z.x8();while(Z.ath()!=0)Z.ata(0);
Z.W$()}var i=[];for(var S=0;S<this.hN.length;S++){var k=this.hN[S];k.W$();while(k.a0t()!=0)k.lh(0);i.push(0)}for(var S=0;
S<y.length;S++){var H=this.a4k(y[S].toString());if(H==null)continue;this.hN[H.mG].Ae(H.dD);this.hN[H.mG].bX(0);
i[H.mG]++}var V=[];for(var S=0;S<i.length;S++){if(i[S]==0)continue;var g=S<3||B?1:0,Z=this.U6[g];Z.parent=this;
Z.avo(this.hN[S]);V[g]=!0}for(var S=0;S<this.U6.length;S++)if(V[S])this.n.appendChild(this.U6[S].n);
this.U6[0].collapse();if(W<700||this.kO.compact||!x[1]){this.U6[1].collapse()}var N=new bR(b.E.V,!0);
N.data={d:b.H.OO};this.T(N)}};av.prototype.a4k=function(d){for(var S=0;S<this.Pf.length;S++)if(this.Pf[S].dD.de==d)return this.Pf[S]};
av.prototype.a7s=function(d){var W=this.a4k(d);this.hN[W.mG].Ae(W.dD)};av.prototype.M7=function(d,W,c){var y=this.Pf;
for(var S=0;S<y.length;S++)y[S].dD.M7(d,W,c)};av.prototype.RQ=function(d,W,c,y,B){var r=this.Pf;for(var S=0;
S<r.length;S++)r[S].dD.RQ(d,W,c,y,B)};av.prototype.f9=function(d,W,c,y,B){var r=this.Pf;for(var S=0;
S<r.length;S++)r[S].dD.f9(d,W,c,y,B)};av.prototype.AZ=function(d,W,c,y,B){var r=this.Pf;for(var S=0;
S<r.length;S++)r[S].dD.AZ(d,W,c,y,B)};function dn(d,W){g2.call(this,"toolbar");this.n.removeChild(this.QI);
this.TO=f.F("div","tools");this.n.appendChild(this.TO);this.Zs=null;this._9=null;this.a2K=W;this.gG=null;
this.q5=null;this.a8_=-1;this.akX={};this.axP=d;this.s=null;this.v$=null;this.C9=null;this.v2=null;this.fQ=new hc;
this.fQ.n.style.marginTop="5px";this.fQ.n.style.marginBottom="3px";this.fQ.parent=this;this.z6=new gs(f.Vr("lrs/mask"),!1,[6,6,1]);
this.z6.k("click",function(r){var x=new bR(b.E.v,!0);x.f=X.Ai;x.data={d:"qmask"};this.T(x)},this);var c=new gj(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
c.k(b.E.p,this.aci,this);var y=f.F("span","rangecontFloat form padded");y.appendChild(c.n);y.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var B=this.n;this.ajz=[!1,!1,!1,!1];this.YR=new gs(f.Vr("kb"),!1,"Virtual Keys");this.YR.k("click",function(r){var x=this.YR.n.getBoundingClientRect();
y.style.top=x.top-110+"px";y.style.left=x.left+x.width+8+"px";if(f.ni(y)){f.b2({n:y},B)}else{B.appendChild(y);
f.eb({n:y})}},this)}dn.prototype=new g2;dn.prototype.aci=function(d){var W=d.target.h();this.YR.c(W[0]||W[1]||W[2]||W[3]);
var c=new bR(b.E.V,!0);for(var S=0;S<4;S++){if(W[S]!=this.ajz[S]){c.data={d:b.H.acr,HW:W[S],awD:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][S]};
this.T(c)}}this.ajz=W.slice(0)};dn.prototype.ar7=function(d,W){this.gG=W;this.q5=d;if(d==null||d.g.length==0||d.B[d.g[0]]==null)return;
var c=d.z6()!=null,y=d.Q.M,B=d.B[d.g[0]].MM,r=B==1||B==3||c||y[0]+y[1]+y[2]==1;this.fQ.a7b(r);this.z6.c(c)};
dn.prototype.a0U=function(d,W){var c=d.length,y=[];for(var S=0;S<c;S++)y[S]=d[S].slice(0);d=y;var B=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],r=Math.min(B.length/2,c-W);
for(var S=0;S<r;S++){var x=B[2*S],Z=B[2*S+1];d[x]=d[x].concat(d[Z]);d[Z]=null}for(var S=0;S<d.length;
S++)if(d[S]==null){d.splice(S,1);S--}return d};dn.prototype.aD7=function(d,W){for(var S=0;S<W.length;
S++)for(var c=0;c<W[S].length;c++)if(W[S][c].f.id==d)return S};dn.prototype.a6w=function(d){var W=this.axP;
this.v$=[];this.C9=[];this.v2=[];this.s=[];var c=W.U$;if(d!=null&&this.a2K)c=this.a0U(c,d);var y=this.Zs;
if(y){var B=[];for(var S=0;S<c.length;S++){var r=[];for(var x=0;x<c[S].length;x++){var Z=c[S][x];if(y==null||y.indexOf(parseInt(Z.f.id))!=-1)r.push(Z)}if(r.length>0)B.push(r)}c=B}for(var S=0;
S<c.length;S++){var i=[],k=this.v$.length,H=null,V=-1;for(var x=0;x<c[S].length;x++){var Z=c[S][x].f,g=this.aD7(Z.id,W.U$),N=W.keys[g];
if(N==bm.PA&&x==1)N=bm.HX;this.s.push(Z);var C=new dR(Z.name,N,Z.sN,this.v$.length,S,c[S].length>1);
this.v$.push(C);var w=this.akX[Z.id];if(w==null)w=0;if(w>V){V=w;H=C}C.k(b.E.p,this.lm,this);C.k("mover",this.gv,this);
i.push({name:Z.name,Ox:Z.sN,aN:N?N.hH:""})}this.C9.push(H);this.v2.push(i.length==1?null:[i,k])}};dn.prototype.z2=function(d,W){var c=this.fn=W,y=32;
if(1<f.QX()&&f.QX()<1.5)y=18+14*(1/f.QX());var B=39+23,r=Math.floor((c-B)/y);if(r!=this.a8_){this.a8_=r;
this.a6w(r);this.xF()}var x=this.C9.length*y+B,Z=Math.min(1,c/x);if(.75<=Z){this.TO.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+Z+","+Z+");");
this.n.setAttribute("style","height:"+(W-2)+"px;")}else{c-=4;this.TO.setAttribute("style","height: "+c+"px;  width:"+Math.ceil(x/c)*34+"px");
this.n.setAttribute("style","")}};dn.prototype._=function(){if(this.s==null)return;for(var S=0;S<this.v$.length;
S++)this.v$[S]._()};dn.prototype.lm=function(d){var W=new bR(b.E.V,!0);W.data={d:b.H.Fy,f:this.s[d.id].id};
this.T(W)};dn.prototype.a4$=function(d){var W=d.target.a6x+d.target.YD()[0];this.v$[W].NC(null,!0)};
dn.prototype.gv=function(d){var W=this.gG,c=new bR(b.E.V,!0);c.data={d:b.H.wG};this.T(c);var y=d.target,B=this.v2[y.cU];
if(B==null)return;var r=new dK(B[0],null,!0);r.a6x=B[1];r.cU=y.cU;r.k("select",this.a4$,this);r.parent=this;
r._();var x=y.n.getBoundingClientRect(),c=new bR(b.E.V,!0);c.data={d:b.H.oV,dD:r,x:x.left+x.width+8,y:x.top};
if(W==null||!(W.S(bm.CD)||W.S(bm.Z7)))this.T(c)};dn.prototype.xF=function(d){if(d==null)d=this._9;this._9=d;
if(this.s==null)return;this.akX[d]=Date.now();var W=-1;for(var S=0;S<this.s.length;S++)if(this.s[S].id==d)W=S;
for(var S=0;S<this.v$.length;S++){var c=this.v$[S];c.aAP(W==S)}if(W==-1)return;this.C9[this.v$[W].cU]=this.v$[W];
f.qf(this.TO);var y=this.C9;for(var S=0;S<y.length;S++){this.TO.appendChild(y[S].n)}if(!this.a2K)return;
this.TO.appendChild(this.fQ.n);if(this.fn>640)this.TO.appendChild(this.z6.n);this.TO.appendChild(this.YR.n)};
dn.prototype.lz=function(d,W){if(W==kG.yS&&d.Zs){this.Zs=d.Zs;this.a6w();this.xF()}this.fQ.a6A(d.R5,d.qX);
if(be==1&&W==kG.V$){this.fQ.ahI(d,this.q5)}};function dR(d,W,c,y,B,r){d9.call(this);this.Fs=0;this.zl=this.acz.bind(this);
this.cU=B;this.zA=y;this.J9=d;this.wA=W;this.a15=r;this.sN=c;this.n=f.F("button","");this.n.innerHTML=f.Vr(this.sN);
if(this.a15){var x=f.F("img","gsicon");x.setAttribute("src",PIMG["tools/corner"]);x.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.n.appendChild(x)}this.n.addEventListener("touchstart",f.jT,!1);this._();f._0(this.n,this.iZ.bind(this));
f.OD(this.n,this.NC.bind(this));this.n.addEventListener("contextmenu",this.zl,!1);this.n.addEventListener("contextmenu",dR.vT,!1)}dR.prototype=new d9;
dR.vT=function(d){d.stopPropagation();d.preventDefault();return!1};dR.prototype._=function(){var d=this.wA?" ("+this.wA.hH+")":"";
this.n.setAttribute("title",ay.get(this.J9)+d)};dR.prototype.iZ=function(d){dR.Bz=this.zA;this.Fs=setTimeout(this.zl,160)};
dR.prototype.NC=function(d,W){if(W==null&&dR.Bz!=this.zA)return;clearTimeout(this.Fs);var c=new bR(b.E.p,!1);
c.target=this;c.id=this.zA;this.T(c)};dR.prototype.acz=function(d){var W=new bR("mover",!1);W.target=this;
W.id=this.zA;this.T(W)};dR.prototype.aAP=function(d){this.n.className=d?"toolbtn active":"toolbtn"};
function h8(){d9.call(this);this.n=f.F("div","topbar");this.B9=f.F("span");this.aCc=f.F("span");this.ahv=0;
this.n.appendChild(this.B9);this.n.appendChild(this.aCc);this.IR=null;this.VM=null;this.yW=[];this.bb=[];
var d=this.iZ.bind(this);for(var S=0;S<h8.data.length;S++){var W=f.F("button");this.yW.push(W);var c=h8.data[S];
W.addEventListener("mouseover",d,!1);f._0(W,d)}this.A3=new gs([0,13,0],!1,null,!0);this.A3.k("click",this.MR,this);
this._8=new gs("Donate",!1,null,!0);this._8.k("click",this.MR,this);this.OQ=new gs(f.Vr("tools/zoom",null,"autoscale"),!1,[12,86]);
this.OQ.k("click",this.MR,this);this.HD=new gs("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.HD.k("click",this.MR,this)}h8.prototype=new d9;h8.prototype.a8Q=function(){if(this.bb.length!=0)return;
for(var S=0;S<h8.data.length;S++){var d=h8.data[S],W=new dK(d.items,d.tJ);W.parent=this;this.bb.push(W)}this._()};
h8.prototype._=function(){this.A3._();this.OQ._();this.HD._();for(var S=0;S<this.yW.length;S++)this.yW[S].textContent=ay.get(h8.data[S].name);
this.ac5();for(var S=0;S<this.bb.length;S++)this.bb[S]._()};h8.prototype.MR=function(d){var W=new bR(b.E.V,!0);
if(d.target==this.A3)W.data={d:b.H.vB,vD:"account"};else if(d.target==this._8)W.data={d:b.H.vB,vD:"confirm",Ws:function(){},aij:!0,b:"<h2 style=\"margin-top:0;\">Donate $8 and remove ads for 30 days!</h2><p>Press \"Account\" at the top and get a 30-day Premium!</p></p>All our payments are one-time payments (there is no subscription).</p>"};
else if(d.target==this.OQ)W.data={d:b.H._e};else W.data={d:b.H.Rd,A$:!0};this.T(W)};h8.prototype.abr=function(d,W){this.IR=d;
this.VM=W};h8.prototype.lz=function(d,W){this.VM=d;if(W==kG.yS){var c=d.a0S;f.qf(this.B9);for(var S=0;
S<this.yW.length;S++){var y=h8.data[S];if(c==null||c[S]==1||c[S]instanceof Array)if(y.k3==null||y.k3==be)this.B9.appendChild(this.yW[S]);
if(c!=null&&c[S]instanceof Array){this.a8Q();this.bb[S].aBA(c[S])}}var B=this.aCc;f.qf(B);if(d.cm){B.appendChild(this.A3.n);
B.appendChild(this._8.n)}B.appendChild(this.OQ.n);B.appendChild(this.HD.n)}this.ac5()};h8.prototype.ac5=function(d,W){var c=this.A3,y=12255232;
if(jj.SA())y=jj.Xf()?43520:16755200;c.n.setAttribute("style","color:#ffffff; background-color:#"+v.Wb(y));
this._8.n.style.display=jj.Xf()?"none":""};h8.prototype.iZ=function(d){this.a8Q();var S=this.yW.indexOf(d.currentTarget),W=this.bb[S];
if(d.type=="mouseover"&&!f.ni(this.bb[this.ahv].n))return;if(f.ni(W.n))return;d.asM=!0;this.ahv=S;for(var S=0;
S<h8.data.length;S++)this.bb[S].update(this.IR,this.VM);var c=d.target.getBoundingClientRect(),y=new bR(b.E.V,!0);
y.data={d:b.H.oV,dD:W,x:c.left,y:c.top+c.height+2,ahW:!0};this.T(y)};h8.a4s=function(d){var W=bm,c=W.Z7,y=W.Uo,B=W.Oi,r=function(k){return{w:k!=null}},x=function(k){return{w:k!=null&&k.u!=null}},Z={name:[0,5],k3:0,items:[{name:[7,0],w:r,aN:[c,W.H]},{name:[7,1],aN:[c,W.I5],w:x},{name:[7,2],aN:[y,c,W.kf],w:x,Zq:!0},{name:"Remove BG",w:function(k){return{w:f.kS()&&k!=null&&k.g.length!=0&&!k.B[k.g[0]].rect.Bb()}}},{name:[7,8],w:r,xJ:!0},{name:[7,13],xJ:!0,w:function(k){return{w:k!=null&&k.g.length!=0&&!k.B[k.g[0]].rect.Bb()}},Zq:!0},{name:[7,11],xJ:!0,w:function(k){return{w:k!=null&&k.g.length!=0&&!k.B[k.g[0]].rect.Bb()}}},{name:[7,3],w:r,Zq:!0,sub:[{name:[7,9],xJ:!0,w:x},{name:[19,3,0],xJ:!0,w:x},{name:[7,4],xJ:!0,w:x},{name:[7,5],xJ:!0,w:x},{name:[7,6],xJ:!0,w:x,aN:"Shift+F6"}]},{name:"Grow",w:x},{name:"Similar",w:x,Zq:!0},{name:[7,10],w:x,Zq:!0},{name:[6,6,1],w:function(k){return{w:k!=null,NQ:k!=null&&k.z6()!=null}},aN:[W.TN],Zq:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],w:x}],tJ:[{K:b.E.HQ,C:X.XC.k6(!0)},{K:b.E.HQ,C:X.XC.k6()},{K:b.E.HQ,C:{cx:"inverse"}},{K:b.E.v,f:X.Ai,C:{d:"bgrm",b:1}},{K:b.E.V,C:{d:b.H.vB,vD:"crange"}},{K:b.E.V,C:{d:b.H.vB,vD:"magiccut"}},{K:b.E.V,C:{d:b.H.vB,vD:"redge"}},{sub:[{K:b.E.V,C:{d:b.H.vB,vD:"sel_border"}},{K:b.E.V,C:{d:b.H.vB,vD:"sel_smoothness"}},{K:b.E.V,C:{d:b.H.vB,vD:"sel_expand"}},{K:b.E.V,C:{d:b.H.vB,vD:"sel_contract"}},{K:b.E.V,C:{d:b.H.vB,vD:"sel_feather"}}]},{K:b.E.HQ,C:{cx:"grow",i9:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:b.E.HQ,C:{cx:"similar",i9:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:b.E.V,C:{d:b.H.Fy,f:X.lF}},{K:b.E.v,f:X.Ai,C:{d:"qmask"}},{K:b.E.V,C:{d:b.H.vB,vD:"loadsel"}},{K:b.E.V,C:{d:b.H.vB,vD:"savesel"}}]};
if(d){var i=Z.items.length-1;Z.items.splice(i-2,0,{name:[6,49],aN:[c,W.Pr],Zq:!0});Z.tJ.splice(i-2,0,{K:b.E.HQ,C:{cx:"copyToLayer"}});
Z.items.splice(i-1,0,{name:[10,16],aN:[B,c,W.oR]});Z.tJ.splice(i-1,0,{K:b.E.V,C:{d:b.H.Fy,f:X.Ee}})}return Z};
h8.yQ=function(d,W){if(d==null||d.g.length==0)return!1;var c=d.B[d.g[0]];return c.add.TySh!=null&&W._9==X.bU};
h8.aer=function(){var d=bm,W=d.Z7,c=d.Uo,y=d.Oi,B=function(r){return{w:r!=null}};return[[{name:[5,0],aN:[W,d.up],w:function(r,x){return{w:r!=null&&(r.us()||h8.yQ(r,x))}}},{name:[5,1],aN:[W,d.Nc],w:B},{name:[5,2],aN:[W,d.lT],w:function(r,x){return{w:h8.yQ()||f.BA()||x.qt!=null||x.Oa!=null||x.at0!=null}}},{name:[2,2],w:function(r,x){return{w:r!=null&&(r.u!=null||h8.yQ(r,x))}},aN:"Delete",Zq:!0}],[{K:b.E.V,C:{d:b.H.uv}},{K:b.E.V,C:{d:b.H.w_}},{K:b.E.V,C:{d:b.H.mn}},{K:b.E.HQ,C:{cx:"delete"}}]]};
h8.data=function(){var d=bm,W=d.Z7,c=d.Uo,y=d.Oi,B=function(N){return{w:N!=null&&N.g.length!=0}},r=function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].add.SoLd!=null}},x=function(N){return{w:N!=null}},Z=function(N){return{w:N!=null&&N.YH(!1)}},i=[],k=[],H="none maxx avrg medn minn rang stdv summ vari".split(" "),V=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var S=0;S<H.length;S++){i.push({name:V[S],w:function(N,C){if(N==null||N.g.length!=1)return{w:!1};
var w=N.B[N.g[0]].add.SoLd;if(w==null)return{w:!1};return{w:!0,NQ:w.Impr.v.classID==this.arH}}.bind({arH:H[S]})});
k.push({K:b.E.v,f:X.jq,C:{d:e8.zK,z4:H[S]}})}var g=h8.aer(!0);return[{name:[0,0],items:[{name:[5,3],aN:[y,W,d.gP],title:[11,7],xJ:!0},{name:[1,0],aN:[W,d.qF],xJ:!0},{name:[1,11],xJ:!0,w:x},{name:["VAR0 VAR1",[1,0],[0,14]],Zq:!0,sub:[{name:"Storage",xJ:!0,aN:[y,W,d.qF]},{name:[1,5],xJ:!0},{name:[11,0],xJ:!0},{name:["PSD VAR0",[25,0]],xJ:!0}]},{name:[1,18],Zq:!0,w:x,sub:[{name:"PNG",aN:"Imgur.com",w:function(N,C){return{w:N!=null&&C.rm}}},{name:"JPG",aN:"Imgur.com",w:function(N,C){return{w:N!=null&&C.rm}}},{name:"PSD",aN:"Photopea.com",w:function(N,C){return{w:N!=null&&C.rm&&!N.U8}}}]},{name:"Save ...",aN:[W,d.eE],w:function(N,C){var w=ay.get([1,2]),Y=!0;
if(N){if(N.vK)w+=" ("+ay.get([6,7,1])+")";if(N.hs)w+=" (Google Drive)";if(N.N0)w+=" ("+Storage.list[N.N0[0]][0]+")";
Y="psd jpg png gif webp svg bmp".split(" ").indexOf(N.i5)!=-1}return{w:N!=null&&(N.N0!=null||N.Yn!=null&&Y||N.vK!=null||N.K3!=null&&N.K3.V7!=null||N.hs!=null||C.JQ.save!=null),TH:w}}},{name:be==0?[1,3]:"Save as AI",w:function(N,C){return{w:N!=null&&C.rm}}},{name:["VAR0 VAR1",[1,2],[0,14]],w:x,sub:[{name:(be==0?"PSD":"AI")+" to Storage",w:function(N,C){return{w:N!=null&&C.rm}}},{name:["VAR0 PSD/PSB",[1,2]],xJ:!0,w:function(N,C){return{w:N!=null&&C.rm}}}]},{name:[1,8],w:x,sub:function(){var N=fd.xs(0),C=[];
for(var S=0;S<N.length;S++)C.push({name:N[S],aN:"."+N[S].toLowerCase()});C.push({name:[0,14],sub:function(){var N=fd.xs(1),C=[];
for(var S=0;S<N.length;S++)C.push({name:N[S],aN:"."+N[S].toLowerCase()});return C}()});return C}()},{name:[1,4],xJ:!0,w:x,Zq:!0},{name:[1,9],xJ:!0,w:x},{name:"Export Color Lookup",xJ:!0,w:x,Zq:!0},{name:[1,14],xJ:!0,w:x,Zq:!0},{name:[1,17],sub:[{name:"Batch",xJ:!0},{name:"PDF Presentation",xJ:!0},{name:"Convert Formats",xJ:!0},{name:"Generate Mockups",xJ:!0,w:x}]},{name:[1,10],xJ:!0}],tJ:[{K:b.E.V,C:{d:b.H.vB,vD:"newproject"}},{K:b.E.V,C:{d:b.H.xz}},{K:b.E.V,C:{d:b.H.xz,a77:!0}},{sub:[{K:b.E.V,C:{d:b.H.vB,vD:"storwindow",Gg:0}},{K:b.E.V,C:{d:b.H.vB,vD:"open_from_url"}},{K:b.E.V,C:{d:b.H.vB,vD:"camera"}},{K:b.E.V,C:{d:b.H.vB,vD:"res0"}}]},{sub:[{K:b.E.V,C:{d:b.H.eQ,Uw:"png"}},{K:b.E.V,C:{d:b.H.eQ,Uw:"jpg"}},{K:b.E.V,C:{d:b.H.eQ,Uw:"psd"}}]},{K:b.E.V,C:{d:b.H.DN}},{K:b.E.V,C:{d:b.H.Wt}},{sub:[{K:b.E.V,C:{d:b.H.vB,vD:"storwindow",Gg:1}},{K:b.E.V,C:{d:b.H.vB,vD:"savepsb"}}]},{sub:function(){var N=fd.xs(0),C=[];
for(var S=0;S<N.length;S++)C.push({K:b.E.V,C:{d:b.H.vB,vD:"saveforweb",Uw:S}});C.push({sub:function(){var w=fd.xs(0).length,N=fd.xs(1),C=[];
for(var S=0;S<N.length;S++)C.push({K:b.E.V,C:{d:b.H.vB,vD:"saveforweb",Uw:w+S}});return C}()});return C}()},{K:b.E.V,C:{d:b.H.vB,vD:"saveforweb",Uw:5,a30:!0}},{K:b.E.V,C:{d:b.H.vB,vD:"eassets"}},{K:b.E.V,C:{d:b.H.vB,vD:"exlut"}},{K:b.E.V,C:{d:b.H.vB,vD:"finfo"}},{sub:[{K:b.E.V,C:{d:b.H.vB,vD:"batch"}},{K:b.E.V,C:{d:b.H.vB,vD:"pdfpres"}},{K:b.E.V,C:{d:b.H.vB,vD:"cformat"}},{K:b.E.V,C:{d:b.H.vB,vD:"mockups"}}]},{K:b.E.V,C:{d:b.H.vB,vD:"script"}}]},{name:[0,1],items:[{name:[2,8],w:x},{name:[2,0],w:x,aN:[c,W,d.ss]},{name:[2,1],w:x,aN:[W,d.ss],Zq:!0},{name:[2,11],aN:[c,W,d.Zr],Zq:!0,xJ:!0,w:function(N,C){return{w:j0.ak5(N)&&C._9!=X.Ee}}},g[0][0],g[0][1],{name:[5,7],aN:[c,W,d.Nc],w:function(N){return{w:N!=null&&N.us()}}},g[0][2],g[0][3],{name:[2,3],w:Z,xJ:!0,aN:[c,d.N$]},{name:[14,9],w:Z,xJ:!0,Zq:!0},{name:[10,48],w:Z},{name:[10,46],w:function(N){return{w:X.ql.Cv(N)}}},{name:[10,16],w:x,aN:[y,W,d.oR]},{name:[2,4],w:x,sub:hF.aol()},{name:[2,10,1],w:x},{name:[2,10,0],w:x,Zq:!0},{name:[12,87],w:x,sub:[{name:[12,62],w:x},{name:[9,3],w:x},{name:[10,31],w:function(N){return{w:N!=null&&N.Tz()[1].length!=0}}}]},{name:[1,15],xJ:!0},{name:[12,79],xJ:!0,aN:[W,d.UU]},{name:[1,13],xJ:!0}],tJ:[{K:b.E.v,f:X._X,C:{d:"h_undoredo"}},{K:b.E.v,f:X._X,C:{d:"h_stepfwd"}},{K:b.E.v,f:X._X,C:{d:"h_stepbck"}},{K:b.E.V,C:{d:b.H.vB,vD:"afw_fade"}},g[1][0],g[1][1],{K:b.E.V,C:{d:b.H.w_,J0:!0}},g[1][2],g[1][3],{K:b.E.V,C:{d:b.H.vB,vD:"fill"}},{K:b.E.V,C:{d:b.H.vB,vD:"stroke"}},{K:b.E.V,C:{d:b.H.Fy,f:X.F0}},{K:b.E.v,f:X.v5,C:{d:"start",Fx:"rigidTransform"}},{K:b.E.V,C:{d:b.H.Fy,f:X.Ee}},{sub:hF.ab5()},{K:b.E.HQ,C:{cx:"align",i9:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:b.E.v,f:X.jq,C:{d:e8.Er}},{sub:[{K:b.E.V,C:{d:b.H.h3,au:0}},{K:b.E.V,C:{d:b.H.h3,au:1}},{K:b.E.V,C:{d:b.H.h3,au:2}}]},{K:b.E.V,C:{d:b.H.vB,vD:"pmanager"}},{K:b.E.V,C:{d:b.H.vB,vD:"preferences"}},{K:b.E.V,C:{d:b.H.vB,vD:"locstor"}}]},{name:[0,2],items:[{name:[12,36],w:x,Zq:!0,sub:[{name:"RGB",w:function(N){if(N==null)return{w:!1};
return{NQ:N.add.fcmy==null,w:!0}}},{name:"CMYK",w:function(N){if(N==null)return{w:!1};return{NQ:N.add.fcmy!=null,w:!0}}}]},{name:[3],w:x,Zq:!0,sub:function(){var N=[];
for(var C in bN.names){N.push({name:bN.names[C],xJ:f7[C]!=null,aN:bN.keys[C],Zq:bN.a0G.indexOf(C)!=-1});
if(C=="selc"){N.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],xJ:!0,Zq:!0});N.push({name:[19,7,0],aN:[W,c,d.hq],w:Z});
N.push({name:[4,18],xJ:!0,w:Z})}}return N}()},{name:[4,16,0],w:Z},{name:[4,16,1],w:Z},{name:[4,16,2],w:Z,Zq:!0},{name:[11,11,1],w:Z,xJ:!0},{name:[11,11,0],w:Z,xJ:!0,Zq:!0},{name:[11,3],w:x,xJ:!0,aN:[y,W,d.Nc]},{name:[11,10],w:x,xJ:!0,aN:[y,W,d.kf]},{name:[2,4],w:x,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],w:function(N){return{w:N!=null&&N.u!=null}}},{name:[11,12,0],w:x,aN:[W,d.bE],xJ:!0},{name:[11,12,2],w:x,Zq:!0},{name:[12,53],w:x},{name:[2,12],w:Z,xJ:!0,Zq:!0},{name:[2,14],w:x,xJ:!0}],tJ:[{sub:[{K:b.E.v,f:X.Sj,C:{d:"fcmy",b:0}},{K:b.E.v,f:X.Sj,C:{d:"fcmy",b:1}}]},{sub:function(){var N=[];
for(var C in bN.names){N.push({K:b.E.v,f:X.Me,C:{d:"start",dH:C}});if(C=="selc"){N.push({K:b.E.v,f:X.v5,C:{d:"start",Fx:"adaptCorrect"}});
N.push({K:b.E.HQ,C:{cx:"desaturate"}});N.push({K:b.E.v,f:X.Me,C:{d:"start",dH:"matc"}})}}return N}()},{K:b.E.HQ,C:{cx:"levels",i9:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:b.E.HQ,C:{cx:"levels",i9:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:b.E.HQ,C:{cx:"levels",i9:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:b.E.V,C:{d:b.H.vB,vD:"rcolors"}},{K:b.E.V,C:{d:b.H.vB,vD:"vbitmap"}},{K:b.E.V,C:{d:b.H.vB,vD:"csize"}},{K:b.E.V,C:{d:b.H.vB,vD:"isize"}},{sub:[{K:b.E.HQ,C:X.X.lA(!0,90)},{K:b.E.HQ,C:X.X.lA(!0,-90)},{K:b.E.HQ,C:X.X.lA(!0,-180)},{K:b.E.HQ,C:X.X.lA(!1,"Hrzn")},{K:b.E.HQ,C:X.X.lA(!1,"Vrtc")}]},{K:b.E.HQ,C:{cx:"crop",i9:{__name:"Crop",classID:"Crop"}}},{K:b.E.V,C:{d:b.H.vB,vD:"trim"}},{K:b.E.HQ,C:{cx:"revealAll",i9:{classID:"RvlA"}}},{K:b.E.HQ,C:{cx:"duplicate",i9:{classID:"Dplc",null:hC.cV("Dcmn",!0)}}},{K:b.E.v,f:X.Me,C:{d:"start",dH:"aply"}},{K:b.E.V,C:{d:b.H.vB,vD:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],w:x,sub:[{name:[0,3],aN:[c,W,d.gP]},{name:[0,4]},{name:[1,16,0],xJ:!0},{name:[1,16,3],xJ:!0,Zq:!0},{name:[6,49,0],aN:[W,d.Pr]},{name:[6,49,1],aN:[c,W,d.Pr],w:function(N){return{w:N!=null&&N.u!=null&&N.YH(!1)}}}]},{name:[6,0],w:B,aN:[W,d.Pr]},{name:[11,4],w:B},{name:[5,4],w:B,Zq:!0},{name:[11,6],w:B,Zq:!0,sub:kC.G1(!0)},{name:[6,48,1],w:x,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],w:x,Zq:!0,sub:kC.al6()},{name:[6,2],w:x,sub:[{name:[6,4],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].Q7()==null}}},{name:[6,5,0],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].Q7()==null}}},{name:[6,5,1],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].Q7()==null&&N.u!=null}}},{name:[6,5,2],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].Q7()==null&&N.u!=null}}},{name:[6,5,3],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].Q7()==null}},Zq:!0},{name:[5,4],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].Q7()!=null}}},{name:[5,8],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].Q7()!=null&&N.YH(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].Q7()!=null}}}]},{name:[6,3],w:x,sub:[{name:[6,4],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].add.vmsk==null}}},{name:[6,5,0],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].add.vmsk==null}}},{name:[12,76,7],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].add.vmsk==null}},Zq:!0},{name:[5,4],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(N){return{w:N!=null&&N.g.length!=0&&N.B[N.g[0]].add.vmsk!=null}}}]},eU.av6(!0),{name:[6,7,1],w:x,Zq:!0,sub:[{name:[6,7,0],Zq:!0},{name:"Open (Edit Contents)",w:r,xJ:!0},{name:"Replace Contents",w:r,xJ:!0},{name:"Export Contents",w:r,xJ:!0,Zq:!0},{name:[6,36,4],w:r,sub:i},{name:"Turn into JPG",w:r}]},{name:[6,8],w:eU.adn},{name:[6,34],Zq:!0,w:function(N){if(N==null||N.g.length==0)return{w:!1};
var C=N.B[N.g[0]];return{w:C.add.lmfx!=null&&!C.vS()}}},{name:[6,9],w:x,Zq:!0,aN:[W,d.qk]},{name:[6,55],w:x,sub:[{name:[6,56,0],aN:[c,W,d.DJ]},{name:[6,56,1],aN:[W,d.DJ]},{name:[6,56,2],aN:[W,d.FX]},{name:[6,56,3],aN:[c,W,d.FX]}]},{name:"Combine Shapes",w:x,Zq:!0,sub:[{name:[18,1],Ox:"set/union"},{name:[18,2],Ox:"set/difference"},{name:[18,3],Ox:"set/intersection"},{name:[18,4],Ox:"set/xor"}]},{name:[6,58],w:x,Zq:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],aN:[W,d.E],w:eU.VG},{name:[6,12,1],w:x},{name:[2,13],w:x}],tJ:[{sub:[{K:b.E.v,f:X.jq,C:{d:e8.qI}},{K:b.E.v,f:X.jq,C:{d:e8.hd}},{K:b.E.V,C:{d:b.H.vB,vD:"newartb",Gg:0}},{K:b.E.V,C:{d:b.H.vB,vD:"newartb",Gg:1}},{K:b.E.HQ,C:{cx:"copyToLayer"}},{K:b.E.HQ,C:{cx:"cutToLayer"}}]},{K:b.E.v,f:X.jq,C:{d:e8.k9}},{K:b.E.V,C:{d:b.H.vB,vD:"duplinto"}},{K:b.E.v,f:X.jq,C:{d:e8.Mr}},{sub:kC.MC(!0)},{sub:[{K:b.E.v,f:X.rB,C:{d:"newfill",zT:0}},{K:b.E.HQ,C:X.Q6.yX(1)},{K:b.E.HQ,C:X.Q6.yX(2)}]},{sub:kC.jA()},{sub:[{K:b.E.v,f:X.jq,C:{d:e8.jV,Gg:"RvlA"}},{K:b.E.v,f:X.jq,C:{d:e8.jV,Gg:"HdAl"}},{K:b.E.v,f:X.jq,C:{d:e8.jV,Gg:"RvlS"}},{K:b.E.v,f:X.jq,C:{d:e8.jV,Gg:"HdSl"}},{K:b.E.v,f:X.jq,C:{d:e8.jV,Gg:"Trns"}},{K:b.E.v,f:X.jq,C:{d:e8.gK}},{K:b.E.v,f:X.jq,C:{d:e8.vb}},{K:b.E.v,f:X.jq,C:{d:e8.lG}}]},{sub:[{K:b.E.v,f:X.jq,C:{d:e8.Bu,o2:!1}},{K:b.E.v,f:X.jq,C:{d:e8.Bu,o2:!0}},{K:b.E.v,f:X.jq,C:{d:e8.Bu,aDG:!0}},{K:b.E.v,f:X.jq,C:{d:e8.fB}},{K:b.E.v,f:X.jq,C:{d:e8._a}}]},{K:b.E.v,f:X.jq,C:{d:e8.U1}},{sub:[{K:b.E.HQ,C:{cx:"newPlacedLayer"}},{K:b.E.HQ,C:{cx:"placedLayerEditContents",i9:{classID:"placedLayerEditContents"}}},{K:b.E.HQ,C:{cx:"placedLayerReplaceContents",i9:{classID:"placedLayerReplaceContents"}}},{K:b.E.HQ,C:{cx:"placedLayerExportContents",i9:{classID:"placedLayerExportContents"}}},{sub:k},{K:b.E.v,f:X.jq,C:{d:e8.aeO}}]},{K:b.E.HQ,C:{cx:"rasterizeLayer",i9:{classID:"rasterizeLayer",null:hC.cV("Lyr",!0)}}},{K:b.E.HQ,C:{cx:"rasterizeLayer",i9:{classID:"rasterizeLayer",null:hC.cV("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:b.E.v,f:X.jq,C:{d:e8.af}},{sub:[{K:b.E.v,f:X.jq,C:{d:e8.xQ,jK:0}},{K:b.E.v,f:X.jq,C:{d:e8.xQ,jK:1}},{K:b.E.v,f:X.jq,C:{d:e8.xQ,jK:2}},{K:b.E.v,f:X.jq,C:{d:e8.xQ,jK:3}}]},{sub:[{K:b.E.v,f:X.jq,C:{d:e8.e4,Jd:0}},{K:b.E.v,f:X.jq,C:{d:e8.e4,Jd:1}},{K:b.E.v,f:X.jq,C:{d:e8.e4,Jd:2}},{K:b.E.v,f:X.jq,C:{d:e8.e4,Jd:3}}]},{sub:[{K:b.E.v,f:X.jq,C:{d:e8._v,jK:"makeframes"}},{K:b.E.v,f:X.jq,C:{d:e8._v,jK:"unmakeframes"}},{K:b.E.v,f:X.jq,C:{d:e8._v,jK:"merge"}}]},{K:b.E.HQ,C:{cx:"mergeLayersNew",i9:{__name:"Merge Layers",classID:"Mrg2"}}},{K:b.E.HQ,C:{cx:"flattenImage"}},{K:b.E.v,f:X.v5,C:{d:"start",Fx:"defr"}}]},h8.a4s(!1),function(){var N={name:[0,6],k3:0,items:[{name:[24,18,4],aN:[y,W,d.Zr],w:x,Zq:!0}],tJ:[{K:b.E.v,f:X.v5,C:{d:"applylast"}}]};
for(var S=0;S<eR.L1.length;S++){var C=eR.L1[S];if(C.ue!=null){var w={name:eR.names[C.ue],xJ:!0,Zq:C.Zq,w:x};
if(C.ue=="VaPo")w.w=Z;N.items.push(w);N.tJ.push({K:b.E.v,f:X.v5,C:{d:"start",Fx:C.ue}});continue}var Y={name:C.hY,sub:[],w:x};
N.items.push(Y);var U={sub:[]};N.tJ.push(U);for(var e=0;e<C.Dx.length;e++){var O={name:eR.names[C.Dx[e]],xJ:eR.qw(C.Dx[e])!=null};
Y.sub.push(O);var l={K:b.E.v,f:X.v5,C:{d:"start",Fx:C.Dx[e]}};U.sub.push(l)}}return N}(),{name:[0,7],items:[{name:[8,0],w:x,aN:[W,d.CB]},{name:[8,1],w:x,aN:[W,d.d7]},{name:[20,3],w:x,aN:[W,d.OL]},{name:[20,2],w:x,aN:[W,d.qC]},{name:[8,14],w:function(N,C){return{w:N!=null,NQ:N!=null&&N.PZ}},Zq:!0},{name:[12,36],Zq:!0,sub:[{name:"Fullscreen",w:function(N,C){return{NQ:document.fullscreenElement!=null}},Zq:!0},{name:"Standard",w:function(N,C){return{NQ:C.KW==0}}},{name:"Menu Bar and Canvas",w:function(N,C){return{NQ:C.KW==1}}}]},{name:[8,13],aN:[W,d.PA],w:function(N,C){return{NQ:C.hA}}},{name:[8,12],Zq:!0,sub:[{name:[17,2],w:function(N,C){return{w:C.hA,NQ:C.UA.Tk}}},{name:[8,9],w:function(N,C){return{w:C.hA,NQ:C.UA.GB}}},{name:[8,2],w:function(N,C){return{w:C.hA,NQ:C.UA.qx}},aN:[W,d.lq]},{name:[8,4],w:function(N,C){return{w:C.hA,NQ:C.UA.M0}},aN:[W,d.x3]},{name:[8,8],w:function(N,C){return{w:C.hA,NQ:C.UA.R_}}},{name:[8,11,0],w:function(N,C){return{w:C.hA,NQ:C.UA.nD}}}]},{name:[8,3],w:function(N,C){return{NQ:C.dZ}},aN:[W,d.HX],Zq:!0},{name:[8,5],w:function(N,C){return{NQ:C.v4}}},{name:[8,6],Zq:!0,sub:[{name:[8,2],w:function(N,C){return{NQ:C.Eq[0]}}},{name:[8,4],w:function(N,C){return{NQ:C.Eq[1]}}},{name:[9,1],w:function(N,C){return{NQ:C.Eq[2]}}},{name:[8,11,0],w:function(N,C){return{NQ:C.Eq[3]}}},{name:[8,7,0],w:function(N,C){return{NQ:C.Eq[4]}}}]},{name:[11,15,2],w:function(N,C){return{w:N!=null,NQ:N!=null&&N.ah}}},{name:[11,15,0],w:x},{name:[11,14],w:x,xJ:!0},{name:[11,15,1],w:function(N,C){return{w:N!=null&&N.g.length!=0}},Zq:!0},{name:[8,11,2],w:function(N,C){return{w:N!=null&&N.nD.length!=0}}}],tJ:[{K:b.E.v,f:X.AO,C:{d:"zoom",js:!0}},{K:b.E.v,f:X.AO,C:{d:"zoom",js:!1}},{K:b.E.v,f:X.AO,C:{d:"adapt",b:"fitscr"}},{K:b.E.v,f:X.AO,C:{d:"adapt",b:"pixel"}},{K:b.E.v,f:X.Sj,C:{d:"pview"}},{sub:[{K:b.E.V,C:{d:b.H.Rd,A$:!0}},{K:b.E.V,C:{d:b.H.Rd,b:0}},{K:b.E.V,C:{d:b.H.Rd,b:1}},{K:b.E.V,C:{d:b.H.Rd,b:2}}]},{K:b.E.V,C:{d:b.H.e7,au:kG.gZ}},{sub:[{K:b.E.V,C:{d:b.H.e7,au:kG.sD}},{K:b.E.V,C:{d:b.H.e7,au:kG.uY}},{K:b.E.V,C:{d:b.H.e7,au:kG.q_}},{K:b.E.V,C:{d:b.H.e7,au:kG.Bc}},{K:b.E.V,C:{d:b.H.e7,au:kG.Mo}},{K:b.E.V,C:{d:b.H.e7,au:kG.x5}}]},{K:b.E.V,C:{d:b.H.e7,au:kG.jo}},{K:b.E.V,C:{d:b.H.e7,au:kG.aa$}},{sub:[{K:b.E.V,C:{d:b.H.e7,au:kG.L$,KS:0}},{K:b.E.V,C:{d:b.H.e7,au:kG.L$,KS:1}},{K:b.E.V,C:{d:b.H.e7,au:kG.L$,KS:2}},{K:b.E.V,C:{d:b.H.e7,au:kG.L$,KS:3}},{K:b.E.V,C:{d:b.H.e7,au:kG.L$,KS:4}}]},{K:b.E.v,f:X.Sj,C:{d:"lockguides"}},{K:b.E.v,f:X.Sj,C:{d:"gids",MN:[[],[]]}},{K:b.E.V,C:{d:b.H.vB,vD:"addguides"}},{K:b.E.v,f:X.Sj,C:{d:"gidsFromLayer"}},{K:b.E.v,f:X.QC,C:{d:"deleteAll"}}]},function(){var N={name:[0,8],items:[{name:[0,14],Zq:!0,sub:[]},{name:"Plugins",Zq:!0}],tJ:[{sub:[]},{K:b.E.V,C:{d:b.H.vB,vD:"res1"}}]};
for(var S=0;S<av._r.length;S++){var C=av._r[S],w=function(){var Y=C.dD.de;return function(U,e){return{NQ:e.bb.indexOf(parseInt(Y))!=-1}}}();
(C.mS?N.items[0].sub:N.items).push({name:C.dD.name,w:w});(C.mS?N.tJ[0].sub:N.tJ).push({K:b.E.V,C:{d:b.H.R0,vD:C.dD.de}})}return N}(),function(){var N={name:[0,14],items:[],tJ:[]},C={name:[0,9],sub:[]};
N.items.push(C);var w={sub:[]};N.tJ.push(w);var Y=ay.ah2();for(var S=0;S<Y.length;S++){var U=Y[S],e=U.code,O=ay.ap6(e);
C.sub.push({name:U.name,aN:e,w:function(l,I){return{NQ:this.aN==ay.iR()}}});w.sub.push({K:b.E.V,C:{d:b.H.e7,au:kG.K0,lang:O}})}C.sub.push({name:[0,12]});
w.sub.push({K:b.E.V,C:{d:b.H.ea,link:"https://www.photopea.com/translate/"}});var C={name:[0,15],sub:[]};
N.items.push(C);var w={sub:[]};N.tJ.push(w);for(var S=0;S<hL.KI.length;S++){C.sub.push({name:hL.KI[S].name,w:function(l,I){return{NQ:this.name==hL.KI[I.jD].name}}});
w.sub.push({K:b.E.V,C:{d:b.H.e7,au:kG.pr,jD:S}})}N.items.push({name:[0,17,6],w:function(l,I){return{w:I.tK!=null}}});
N.tJ.push({K:b.E.V,C:{d:b.H.c8}});N.items.push({name:[11,13]});N.tJ.push({K:b.E.V,C:{d:b.H.vB,vD:"shortcuts"}});
N.items.push({name:[0,16],w:function(l){return{NQ:d1.ZV,w:d1.aC6}},Zq:!0});N.tJ.push({K:b.E.V,C:{d:b.H.a2C}});
N.items.push({name:"",w:function(l,I){return I.cm?{TH:"About Photopea",w:!0}:{TH:"",w:!1}}});N.tJ.push({K:b.E.V,C:{d:b.H.vB,vD:"aboutpp"}});
return N}()]}();function hN(){d9.call(this);this.n=f.F("div","");this.dw=0;this.FU=0;this.kO=null;this.mG=f.F("div","");
this.mG.setAttribute("style","width:200em; height:100em; position:absolute;");this.mm=[];this.Xp=[];
this.rj={}}hN.prototype=new d9;hN.prototype.Km=function(d){var W=Date.now(),c=[];if(d=="-"){c=[new dU,new aH,new cZ("pdfpres"),new cZ("cformat"),new cZ("batch"),new cZ("mockups"),new gF,new hr,new cA,new bi,new jd,new d3,new eP,new k8,new dq,new ha,new cg,new iU,new dx,new kC,new eK("isize"),new eK("csize"),new fb,new jw,new j7,new hG,new at,new bh,new ig,new cz,new eq(!1),new eq(!0),new dk(0),new dk(1),new a$,new ej,new ix,new ei,new fR,new bH,new ga(0),new ga(1),new ga(2),new ga(3),new ga(4),new ga(5),new ga(6),new ga(7),new ga(8),new ag,new ab,new j8,new dL,new cG,new b5,new ic,new by,new jQ(0),new jQ(1),new g4("border",[7,9],"px"),new g4("smoothness",[19,3,0],"px"),new g4("expand",[7,4],"px"),new g4("contract",[7,5],"px"),new g4("feather",[7,6],"px"),new bl(0,"namewindow",[12,48]),new bl(2,"billto","Bill To"),new bl(1,"cornerradius",[12,94,0],"px",!0,!0),new bl(1,"scaleeffects",[6,30,1],"%",!0),new bl(1,"doczoom","Zoom","%",!0),new bl(1,"setFPS","Set FPS","fps,120",!1),new bl(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(be==0){c.push(new jP)}}else c=[new j0(d.slice(4))];this.awc(c);this.rj[d]=!0};hN.prototype.awc=function(d){var W=this.kO;
for(var S=0;S<d.length;S++){var c=d[S];c.parent=this;this.Xp.push(c);this.PU(c);c._();if(W)c.lz(W,kG.yS);
c.k(b.E.IF,this.NZ,this);f.b2(c)}};hN.prototype.z2=function(d,W){this.dw=d;this.FU=W;for(var S=0;S<this.Xp.length;
S++)this.PU(this.Xp[S])};hN.prototype._=function(){for(var S=0;S<this.Xp.length;S++)this.Xp[S]._()};
hN.prototype.dE=function(){return this.mm.length==0?null:this.mm[this.mm.length-1]};hN.prototype.cN=function(){for(var S=0;
S<this.mm.length;S++)if(this.mm[S].cN())return!0;return!1};hN.prototype.a0_=function(d,W,c,y,B){var r=d.startsWith("afw_"),x=null;
if(!r&&!this.rj["-"])this.Km("-");if(r&&!this.rj[d])this.Km(d);if(typeof d=="object"){x=d;if(!x.aDp(b.E.IF,this.NZ))x.k(b.E.IF,this.NZ,this);
x.parent=this}else for(var S=0;S<this.Xp.length;S++)if(this.Xp[S].id==d)x=this.Xp[S];if(this.cN()&&x.cN()){alert("Finish the current action first");
return}if(!x.oy(W))return;if(this.mm.indexOf(x)!=-1){if(d=="colorpicker")x.M7(W,c,y,B);return}var Z=this.mm.length-1;
if(Z>=0)f.CH(this.mm[Z].n,"wdisabled");this.n.appendChild(x.n);this.mm.push(x);this.PU(x);f.eb(x);x.M7(W,c,y,B)};
hN.prototype.PU=function(d){var W=this.dw,c=this.FU,y=d.i$(W,c),B;if(y!=null){B=y}else{y=new aL(0,0);
B=d.aiQ();if(B==null){var r=this.mm.indexOf(d)+1;if(W<450||c<450)B=new aL(0,0);else B=new aL(r*150,r*150)}}d.n.style.left=B.x+"px";
d.n.style.top=this.n.offsetTop+B.y+"px";d.z2(this.dw-y.x*2,this.FU-y.y*2-34)};hN.prototype.lz=function(d,W){this.kO=d;
for(var S=0;S<this.Xp.length;S++)this.Xp[S].lz(d,W)};hN.prototype.NZ=function(d){var W=this.mm.pop();
f.b2(W,this.n);var c=this.mm.length-1;if(c>=0)f.V6(this.mm[c].n,"wdisabled");if(this.mG.parentNode==this.n)this.n.removeChild(this.mG)};
window.onload=function(){document.body.appendChild(new aM().n)}}())